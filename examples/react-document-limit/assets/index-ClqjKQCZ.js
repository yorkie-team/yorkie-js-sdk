var xb=Object.defineProperty;var Db=(s,n,e)=>n in s?xb(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var h=(s,n,e)=>Db(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function Ob(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hh={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Cb(){if(Yp)return Ho;Yp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=n,Ho.jsx=e,Ho.jsxs=e,Ho}var Gp;function kb(){return Gp||(Gp=1,Hh.exports=Cb()),Hh.exports}var Bt=kb(),jh={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Rb(){if(Kp)return dt;Kp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function Y(w,J,$){this.props=w,this.context=J,this.refs=H,this.updater=$||C}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,J){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,J,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ut(w,J,$){this.props=w,this.context=J,this.refs=H,this.updater=$||C}var F=ut.prototype=new W;F.constructor=ut,P(F,Y.prototype),F.isPureReactComponent=!0;var ct=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},et=Object.prototype.hasOwnProperty;function yt(w,J,$,G,it,Nt){return $=Nt.ref,{$$typeof:s,type:w,key:J,ref:$!==void 0?$:null,props:Nt}}function wt(w,J){return yt(w.type,J,void 0,void 0,void 0,w.props)}function At(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function re(w){var J={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return J[$]})}var Le=/\/+/g;function se(w,J){return typeof w=="object"&&w!==null&&w.key!=null?re(""+w.key):J.toString(36)}function ua(){}function ca(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ua,ua):(w.status="pending",w.then(function(J){w.status==="pending"&&(w.status="fulfilled",w.value=J)},function(J){w.status==="pending"&&(w.status="rejected",w.reason=J)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ve(w,J,$,G,it){var Nt=typeof w;(Nt==="undefined"||Nt==="boolean")&&(w=null);var ft=!1;if(w===null)ft=!0;else switch(Nt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(w.$$typeof){case s:case n:ft=!0;break;case T:return ft=w._init,ve(ft(w._payload),J,$,G,it)}}if(ft)return it=it(w),ft=G===""?"."+se(w,0):G,ct(it)?($="",ft!=null&&($=ft.replace(Le,"$&/")+"/"),ve(it,J,$,"",function(ki){return ki})):it!=null&&(At(it)&&(it=wt(it,$+(it.key==null||w&&w.key===it.key?"":(""+it.key).replace(Le,"$&/")+"/")+ft)),J.push(it)),1;ft=0;var qe=G===""?".":G+":";if(ct(w))for(var Ht=0;Ht<w.length;Ht++)G=w[Ht],Nt=qe+se(G,Ht),ft+=ve(G,J,$,Nt,it);else if(Ht=I(w),typeof Ht=="function")for(w=Ht.call(w),Ht=0;!(G=w.next()).done;)G=G.value,Nt=qe+se(G,Ht++),ft+=ve(G,J,$,Nt,it);else if(Nt==="object"){if(typeof w.then=="function")return ve(ca(w),J,$,G,it);throw J=String(w),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ft}function U(w,J,$){if(w==null)return w;var G=[],it=0;return ve(w,G,"","",function(Nt){return J.call($,Nt,it++)}),G}function K(w){if(w._status===-1){var J=w._result;J=J(),J.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=J)}if(w._status===1)return w._result.default;throw w._result}var ot=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ut(){}return dt.Children={map:U,forEach:function(w,J,$){U(w,function(){J.apply(this,arguments)},$)},count:function(w){var J=0;return U(w,function(){J++}),J},toArray:function(w){return U(w,function(J){return J})||[]},only:function(w){if(!At(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=Y,dt.Fragment=e,dt.Profiler=l,dt.PureComponent=ut,dt.StrictMode=i,dt.Suspense=y,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return tt.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,J,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=P({},w.props),it=w.key,Nt=void 0;if(J!=null)for(ft in J.ref!==void 0&&(Nt=void 0),J.key!==void 0&&(it=""+J.key),J)!et.call(J,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&J.ref===void 0||(G[ft]=J[ft]);var ft=arguments.length-2;if(ft===1)G.children=$;else if(1<ft){for(var qe=Array(ft),Ht=0;Ht<ft;Ht++)qe[Ht]=arguments[Ht+2];G.children=qe}return yt(w.type,it,void 0,void 0,Nt,G)},dt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},dt.createElement=function(w,J,$){var G,it={},Nt=null;if(J!=null)for(G in J.key!==void 0&&(Nt=""+J.key),J)et.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(it[G]=J[G]);var ft=arguments.length-2;if(ft===1)it.children=$;else if(1<ft){for(var qe=Array(ft),Ht=0;Ht<ft;Ht++)qe[Ht]=arguments[Ht+2];it.children=qe}if(w&&w.defaultProps)for(G in ft=w.defaultProps,ft)it[G]===void 0&&(it[G]=ft[G]);return yt(w,Nt,void 0,void 0,null,it)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:g,render:w}},dt.isValidElement=At,dt.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:K}},dt.memo=function(w,J){return{$$typeof:p,type:w,compare:J===void 0?null:J}},dt.startTransition=function(w){var J=tt.T,$={};tt.T=$;try{var G=w(),it=tt.S;it!==null&&it($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ut,ot)}catch(Nt){ot(Nt)}finally{tt.T=J}},dt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},dt.use=function(w){return tt.H.use(w)},dt.useActionState=function(w,J,$){return tt.H.useActionState(w,J,$)},dt.useCallback=function(w,J){return tt.H.useCallback(w,J)},dt.useContext=function(w){return tt.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,J){return tt.H.useDeferredValue(w,J)},dt.useEffect=function(w,J,$){var G=tt.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,J)},dt.useId=function(){return tt.H.useId()},dt.useImperativeHandle=function(w,J,$){return tt.H.useImperativeHandle(w,J,$)},dt.useInsertionEffect=function(w,J){return tt.H.useInsertionEffect(w,J)},dt.useLayoutEffect=function(w,J){return tt.H.useLayoutEffect(w,J)},dt.useMemo=function(w,J){return tt.H.useMemo(w,J)},dt.useOptimistic=function(w,J){return tt.H.useOptimistic(w,J)},dt.useReducer=function(w,J,$){return tt.H.useReducer(w,J,$)},dt.useRef=function(w){return tt.H.useRef(w)},dt.useState=function(w){return tt.H.useState(w)},dt.useSyncExternalStore=function(w,J,$){return tt.H.useSyncExternalStore(w,J,$)},dt.useTransition=function(){return tt.H.useTransition()},dt.version="19.1.0",dt}var $p;function Rd(){return $p||($p=1,jh.exports=Rb()),jh.exports}var Gt=Rd();const Bb=Ob(Gt);var Yh={exports:{}},jo={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Ib(){return Xp||(Xp=1,function(s){function n(U,K){var ot=U.length;U.push(K);t:for(;0<ot;){var Ut=ot-1>>>1,w=U[Ut];if(0<l(w,K))U[Ut]=K,U[ot]=w,ot=Ut;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var K=U[0],ot=U.pop();if(ot!==K){U[0]=ot;t:for(var Ut=0,w=U.length,J=w>>>1;Ut<J;){var $=2*(Ut+1)-1,G=U[$],it=$+1,Nt=U[it];if(0>l(G,ot))it<w&&0>l(Nt,G)?(U[Ut]=Nt,U[it]=ot,Ut=it):(U[Ut]=G,U[$]=ot,Ut=$);else if(it<w&&0>l(Nt,ot))U[Ut]=Nt,U[it]=ot,Ut=it;else break t}}return K}function l(U,K){var ot=U.sortIndex-K.sortIndex;return ot!==0?ot:U.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,x=null,I=3,C=!1,P=!1,H=!1,Y=!1,W=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ct(U){for(var K=e(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=U)i(p),K.sortIndex=K.expirationTime,n(y,K);else break;K=e(p)}}function tt(U){if(H=!1,ct(U),!P)if(e(y)!==null)P=!0,et||(et=!0,se());else{var K=e(p);K!==null&&ve(tt,K.startTime-U)}}var et=!1,yt=-1,wt=5,At=-1;function re(){return Y?!0:!(s.unstable_now()-At<wt)}function Le(){if(Y=!1,et){var U=s.unstable_now();At=U;var K=!0;try{t:{P=!1,H&&(H=!1,ut(yt),yt=-1),C=!0;var ot=I;try{e:{for(ct(U),x=e(y);x!==null&&!(x.expirationTime>U&&re());){var Ut=x.callback;if(typeof Ut=="function"){x.callback=null,I=x.priorityLevel;var w=Ut(x.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){x.callback=w,ct(U),K=!0;break e}x===e(y)&&i(y),ct(U)}else i(y);x=e(y)}if(x!==null)K=!0;else{var J=e(p);J!==null&&ve(tt,J.startTime-U),K=!1}}break t}finally{x=null,I=ot,C=!1}K=void 0}}finally{K?se():et=!1}}}var se;if(typeof F=="function")se=function(){F(Le)};else if(typeof MessageChannel<"u"){var ua=new MessageChannel,ca=ua.port2;ua.port1.onmessage=Le,se=function(){ca.postMessage(null)}}else se=function(){W(Le,0)};function ve(U,K){yt=W(function(){U(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var K=3;break;default:K=I}var ot=I;I=K;try{return U()}finally{I=ot}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ot=I;I=U;try{return K()}finally{I=ot}},s.unstable_scheduleCallback=function(U,K,ot){var Ut=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ut+ot:Ut):ot=Ut,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ot+w,U={id:T++,callback:K,priorityLevel:U,startTime:ot,expirationTime:w,sortIndex:-1},ot>Ut?(U.sortIndex=ot,n(p,U),e(y)===null&&U===e(p)&&(H?(ut(yt),yt=-1):H=!0,ve(tt,ot-Ut))):(U.sortIndex=w,n(y,U),P||C||(P=!0,et||(et=!0,se()))),U},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(U){var K=I;return function(){var ot=I;I=K;try{return U.apply(this,arguments)}finally{I=ot}}}}(Kh)),Kh}var Zp;function zb(){return Zp||(Zp=1,Gh.exports=Ib()),Gh.exports}var $h={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function Mb(){if(Qp)return be;Qp=1;var s=Rd();function n(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,p,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,be.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(y,p,null,T)},be.flushSync=function(y){var p=d.T,T=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=p,i.p=T,i.d.f()}},be.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(y,p))},be.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},be.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,x=g(T,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?i.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:I,fetchPriority:C}):T==="script"&&i.d.X(y,{crossOrigin:x,integrity:I,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},be.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);i.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(y)},be.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,x=g(T,p.crossOrigin);i.d.L(y,T,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},be.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);i.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(y)},be.requestFormReset=function(y){i.d.r(y)},be.unstable_batchedUpdates=function(y,p){return y(p)},be.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},be.useFormStatus=function(){return d.H.useHostTransitionStatus()},be.version="19.1.0",be}var Fp;function Ub(){if(Fp)return $h.exports;Fp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),$h.exports=Mb(),$h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Lb(){if(_p)return jo;_p=1;var s=zb(),n=Rd(),e=Ub();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,o=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),t;if(f===o)return g(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=Le&&t[Le]||t["@@iterator"],typeof t=="function"?t:null)}var ua=Symbol.for("react.client.reference");function ca(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ua?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case Y:return"Profiler";case H:return"StrictMode";case tt:return"Suspense";case et:return"SuspenseList";case At:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case F:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case ct:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return r=t.displayName||null,r!==null?r:ca(t.type)||"Memo";case wt:r=t._payload,t=t._init;try{return ca(t(r))}catch{}}return null}var ve=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ut=[],w=-1;function J(t){return{current:t}}function $(t){0>w||(t.current=Ut[w],Ut[w]=null,w--)}function G(t,r){w++,Ut[w]=t.current,t.current=r}var it=J(null),Nt=J(null),ft=J(null),qe=J(null);function Ht(t,r){switch(G(ft,r),G(Nt,t),G(it,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vp(r),t=Sp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(it),G(it,t)}function ki(){$(it),$(Nt),$(ft)}function xc(t){t.memoizedState!==null&&G(qe,t);var r=it.current,a=Sp(r,t.type);r!==a&&(G(Nt,t),G(it,a))}function ml(t){Nt.current===t&&($(it),$(Nt)),qe.current===t&&($(qe),Lo._currentValue=ot)}var Dc=Object.prototype.hasOwnProperty,Oc=s.unstable_scheduleCallback,Cc=s.unstable_cancelCallback,iS=s.unstable_shouldYield,aS=s.unstable_requestPaint,Bn=s.unstable_now,sS=s.unstable_getCurrentPriorityLevel,_d=s.unstable_ImmediatePriority,Wd=s.unstable_UserBlockingPriority,yl=s.unstable_NormalPriority,oS=s.unstable_LowPriority,tg=s.unstable_IdlePriority,lS=s.log,uS=s.unstable_setDisableYieldValue,Ys=null,Je=null;function Ri(t){if(typeof lS=="function"&&uS(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Ys,t)}catch{}}var Pe=Math.clz32?Math.clz32:hS,cS=Math.log,fS=Math.LN2;function hS(t){return t>>>=0,t===0?32:31-(cS(t)/fS|0)|0}var pl=256,vl=4194304;function fa(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sl(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=fa(o):(m&=S,m!==0?u=fa(m):a||(a=S&~t,a!==0&&(u=fa(a))))):(S=o&~f,S!==0?u=fa(S):m!==0?u=fa(m):a||(a=o&~t,a!==0&&(u=fa(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function Gs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function dS(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eg(){var t=pl;return pl<<=1,(pl&4194048)===0&&(pl=256),t}function ng(){var t=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),t}function kc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ks(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gS(t,r,a,o,u,f){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,b=t.expirationTimes,k=t.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Pe(a),q=1<<M;S[M]=0,b[M]=-1;var R=k[M];if(R!==null)for(k[M]=null,M=0;M<R.length;M++){var B=R[M];B!==null&&(B.lane&=-536870913)}a&=~q}o!==0&&rg(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~r))}function rg(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Pe(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function ig(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Pe(a),u=1<<o;u&r|t[o]&r&&(t[o]|=r),a&=~u}}function Rc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ag(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:qp(t.type))}function mS(t,r){var a=K.p;try{return K.p=t,r()}finally{K.p=a}}var Bi=Math.random().toString(36).slice(2),Se="__reactFiber$"+Bi,De="__reactProps$"+Bi,Pa="__reactContainer$"+Bi,Ic="__reactEvents$"+Bi,yS="__reactListeners$"+Bi,pS="__reactHandles$"+Bi,sg="__reactResources$"+Bi,$s="__reactMarker$"+Bi;function zc(t){delete t[Se],delete t[De],delete t[Ic],delete t[yS],delete t[pS]}function Va(t){var r=t[Se];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Pa]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Ap(t);t!==null;){if(a=t[Se])return a;t=Ap(t)}return r}t=a,a=t.parentNode}return null}function Ha(t){if(t=t[Se]||t[Pa]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Xs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function ja(t){var r=t[sg];return r||(r=t[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function oe(t){t[$s]=!0}var og=new Set,lg={};function ha(t,r){Ya(t,r),Ya(t+"Capture",r)}function Ya(t,r){for(lg[t]=r,t=0;t<r.length;t++)og.add(r[t])}var vS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ug={},cg={};function SS(t){return Dc.call(cg,t)?!0:Dc.call(ug,t)?!1:vS.test(t)?cg[t]=!0:(ug[t]=!0,!1)}function Tl(t,r,a){if(SS(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function bl(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function tr(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var Mc,fg;function Ga(t){if(Mc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Mc=r&&r[1]||"",fg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mc+t+fg}var Uc=!1;function Lc(t,r){if(!t||Uc)return"";Uc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var R=B}Reflect.construct(t,[],q)}else{try{q.call()}catch(B){R=B}t.call(q.prototype)}}else{try{throw Error()}catch(B){R=B}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var b=m.split(`
`),k=S.split(`
`);for(u=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(o===b.length||u===k.length)for(o=b.length-1,u=k.length-1;1<=o&&0<=u&&b[o]!==k[u];)u--;for(;1<=o&&0<=u;o--,u--)if(b[o]!==k[u]){if(o!==1||u!==1)do if(o--,u--,0>u||b[o]!==k[u]){var M=`
`+b[o].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=o&&0<=u);break}}}finally{Uc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ga(a):""}function TS(t){switch(t.tag){case 26:case 27:case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return Lc(t.type,!1);case 11:return Lc(t.type.render,!1);case 1:return Lc(t.type,!0);case 31:return Ga("Activity");default:return""}}function hg(t){try{var r="";do r+=TS(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dg(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bS(t){var r=dg(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function wl(t){t._valueTracker||(t._valueTracker=bS(t))}function gg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=dg(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function Al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wS=/[\n"\\]/g;function We(t){return t.replace(wS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qc(t,r,a,o,u,f,m,S){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),r!=null?m==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+_e(r)):t.value!==""+_e(r)&&(t.value=""+_e(r)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),r!=null?Jc(t,m,_e(r)):a!=null?Jc(t,m,_e(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+_e(S):t.removeAttribute("name")}function mg(t,r,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+_e(a):"",r=r!=null?""+_e(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Jc(t,r,a){r==="number"&&Al(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ka(t,r,a,o){if(t=t.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=r.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),r=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}r!==null||t[u].disabled||(r=t[u])}r!==null&&(r.selected=!0)}}function yg(t,r,a){if(r!=null&&(r=""+_e(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+_e(a):""}function pg(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(ve(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=_e(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function $a(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var AS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vg(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||AS.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Sg(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&a[u]!==o&&vg(t,u,o)}else for(var f in r)r.hasOwnProperty(f)&&vg(t,f,r[f])}function Pc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(t){return NS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vc=null;function Hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xa=null,Za=null;function Tg(t){var r=Ha(t);if(r&&(t=r.stateNode)){var a=t[De]||null;t:switch(t=r.stateNode,r.type){case"input":if(qc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var u=o[De]||null;if(!u)throw Error(i(90));qc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&gg(o)}break t;case"textarea":yg(t,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ka(t,!!a.multiple,r,!1)}}}var jc=!1;function bg(t,r,a){if(jc)return t(r,a);jc=!0;try{var o=t(r);return o}finally{if(jc=!1,(Xa!==null||Za!==null)&&(uu(),Xa&&(r=Xa,t=Za,Za=Xa=null,Tg(r),t)))for(r=0;r<t.length;r++)Tg(t[r])}}function Zs(t,r){var a=t.stateNode;if(a===null)return null;var o=a[De]||null;if(o===null)return null;a=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=!1;if(er)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Yc=!1}var Ii=null,Gc=null,Nl=null;function wg(){if(Nl)return Nl;var t,r=Gc,a=r.length,o,u="value"in Ii?Ii.value:Ii.textContent,f=u.length;for(t=0;t<a&&r[t]===u[t];t++);var m=a-t;for(o=1;o<=m&&r[a-o]===u[f-o];o++);return Nl=u.slice(t,1<o?1-o:void 0)}function xl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function Ag(){return!1}function Oe(t){function r(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Dl:Ag,this.isPropagationStopped=Ag,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),r}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Oe(da),Fs=T({},da,{view:0,detail:0}),xS=Oe(Fs),Kc,$c,_s,Cl=T({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Kc=t.screenX-_s.screenX,$c=t.screenY-_s.screenY):$c=Kc=0,_s=t),Kc)},movementY:function(t){return"movementY"in t?t.movementY:$c}}),Eg=Oe(Cl),DS=T({},Cl,{dataTransfer:0}),OS=Oe(DS),CS=T({},Fs,{relatedTarget:0}),Xc=Oe(CS),kS=T({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),RS=Oe(kS),BS=T({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IS=Oe(BS),zS=T({},da,{data:0}),Ng=Oe(zS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=LS[t])?!!r[t]:!1}function Zc(){return qS}var JS=T({},Fs,{key:function(t){if(t.key){var r=MS[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?US[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PS=Oe(JS),VS=T({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Oe(VS),HS=T({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),jS=Oe(HS),YS=T({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=Oe(YS),KS=T({},Cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=Oe(KS),XS=T({},da,{newState:0,oldState:0}),ZS=Oe(XS),QS=[9,13,27,32],Qc=er&&"CompositionEvent"in window,Ws=null;er&&"documentMode"in document&&(Ws=document.documentMode);var FS=er&&"TextEvent"in window&&!Ws,Dg=er&&(!Qc||Ws&&8<Ws&&11>=Ws),Og=" ",Cg=!1;function kg(t,r){switch(t){case"keyup":return QS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function _S(t,r){switch(t){case"compositionend":return Rg(r);case"keypress":return r.which!==32?null:(Cg=!0,Og);case"textInput":return t=r.data,t===Og&&Cg?null:t;default:return null}}function WS(t,r){if(Qa)return t==="compositionend"||!Qc&&kg(t,r)?(t=wg(),Nl=Gc=Ii=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Dg&&r.locale!=="ko"?null:r.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!tT[t.type]:r==="textarea"}function Ig(t,r,a,o){Xa?Za?Za.push(o):Za=[o]:Xa=o,r=mu(r,"onChange"),0<r.length&&(a=new Ol("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var to=null,eo=null;function eT(t){dp(t,0)}function kl(t){var r=Xs(t);if(gg(r))return t}function zg(t,r){if(t==="change")return r}var Mg=!1;if(er){var Fc;if(er){var _c="oninput"in document;if(!_c){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),_c=typeof Ug.oninput=="function"}Fc=_c}else Fc=!1;Mg=Fc&&(!document.documentMode||9<document.documentMode)}function Lg(){to&&(to.detachEvent("onpropertychange",qg),eo=to=null)}function qg(t){if(t.propertyName==="value"&&kl(eo)){var r=[];Ig(r,eo,t,Hc(t)),bg(eT,r)}}function nT(t,r,a){t==="focusin"?(Lg(),to=r,eo=a,to.attachEvent("onpropertychange",qg)):t==="focusout"&&Lg()}function rT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(eo)}function iT(t,r){if(t==="click")return kl(r)}function aT(t,r){if(t==="input"||t==="change")return kl(r)}function sT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ve=typeof Object.is=="function"?Object.is:sT;function no(t,r){if(Ve(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!Dc.call(r,u)||!Ve(t[u],r[u]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,r){var a=Jg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jg(a)}}function Vg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Al(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Al(t.document)}return r}function Wc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var oT=er&&"documentMode"in document&&11>=document.documentMode,Fa=null,tf=null,ro=null,ef=!1;function jg(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||Fa==null||Fa!==Al(o)||(o=Fa,"selectionStart"in o&&Wc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ro&&no(ro,o)||(ro=o,o=mu(tf,"onSelect"),0<o.length&&(r=new Ol("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Fa)))}function ga(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var _a={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},nf={},Yg={};er&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function ma(t){if(nf[t])return nf[t];if(!_a[t])return t;var r=_a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Yg)return nf[t]=r[a];return t}var Gg=ma("animationend"),Kg=ma("animationiteration"),$g=ma("animationstart"),lT=ma("transitionrun"),uT=ma("transitionstart"),cT=ma("transitioncancel"),Xg=ma("transitionend"),Zg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function An(t,r){Zg.set(t,r),ha(r,[t])}var Qg=new WeakMap;function tn(t,r){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:hg(r)},Qg.set(t,r),r)}return{value:t,source:r,stack:hg(r)}}var en=[],Wa=0,af=0;function Rl(){for(var t=Wa,r=af=Wa=0;r<t;){var a=en[r];en[r++]=null;var o=en[r];en[r++]=null;var u=en[r];en[r++]=null;var f=en[r];if(en[r++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Fg(a,u,f)}}function Bl(t,r,a,o){en[Wa++]=t,en[Wa++]=r,en[Wa++]=a,en[Wa++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,r,a,o){return Bl(t,r,a,o),Il(t)}function ts(t,r){return Bl(t,null,null,r),Il(t)}function Fg(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&r!==null&&(u=31-Pe(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[r]:o.push(r),r.lane=a|536870912),f):null}function Il(t){if(50<Co)throw Co=0,hh=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var es={};function fT(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,r,a,o){return new fT(t,r,a,o)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nr(t,r){var a=t.alternate;return a===null?(a=He(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function zl(t,r,a,o,u,f){var m=0;if(o=t,typeof t=="function")of(t)&&(m=1);else if(typeof t=="string")m=db(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case At:return t=He(31,a,r,u),t.elementType=At,t.lanes=f,t;case P:return ya(a.children,u,f,r);case H:m=8,u|=24;break;case Y:return t=He(12,a,r,u|2),t.elementType=Y,t.lanes=f,t;case tt:return t=He(13,a,r,u),t.elementType=tt,t.lanes=f,t;case et:return t=He(19,a,r,u),t.elementType=et,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case F:m=10;break t;case ut:m=9;break t;case ct:m=11;break t;case yt:m=14;break t;case wt:m=16,o=null;break t}m=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=He(m,a,r,u),r.elementType=t,r.type=o,r.lanes=f,r}function ya(t,r,a,o){return t=He(7,t,o,r),t.lanes=a,t}function lf(t,r,a){return t=He(6,t,null,r),t.lanes=a,t}function uf(t,r,a){return r=He(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ns=[],rs=0,Ml=null,Ul=0,nn=[],rn=0,pa=null,rr=1,ir="";function va(t,r){ns[rs++]=Ul,ns[rs++]=Ml,Ml=t,Ul=r}function Wg(t,r,a){nn[rn++]=rr,nn[rn++]=ir,nn[rn++]=pa,pa=t;var o=rr;t=ir;var u=32-Pe(o)-1;o&=~(1<<u),a+=1;var f=32-Pe(r)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,rr=1<<32-Pe(r)+u|a<<u|o,ir=f+t}else rr=1<<f|a<<u|o,ir=t}function cf(t){t.return!==null&&(va(t,1),Wg(t,1,0))}function ff(t){for(;t===Ml;)Ml=ns[--rs],ns[rs]=null,Ul=ns[--rs],ns[rs]=null;for(;t===pa;)pa=nn[--rn],nn[rn]=null,ir=nn[--rn],nn[rn]=null,rr=nn[--rn],nn[rn]=null}var Ne=null,$t=null,Dt=!1,Sa=null,In=!1,hf=Error(i(519));function Ta(t){var r=Error(i(418,""));throw so(tn(r,t)),hf}function tm(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[Se]=t,r[De]=o,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Ro.length;a++)vt(Ro[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),mg(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),wl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),pg(r,o.value,o.defaultValue,o.children),wl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||pp(r.textContent,a)?(o.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),o.onScroll!=null&&vt("scroll",r),o.onScrollEnd!=null&&vt("scrollend",r),o.onClick!=null&&(r.onclick=yu),r=!0):r=!1,r||Ta(t)}function em(t){for(Ne=t.return;Ne;)switch(Ne.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ne=Ne.return}}function io(t){if(t!==Ne)return!1;if(!Dt)return em(t),Dt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Oh(t.type,t.memoizedProps)),a=!a),a&&$t&&Ta(t),em(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){$t=Nn(t.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}$t=null}}else r===27?(r=$t,Zi(t.type)?(t=Bh,Bh=null,$t=t):$t=r):$t=Ne?Nn(t.stateNode.nextSibling):null;return!0}function ao(){$t=Ne=null,Dt=!1}function nm(){var t=Sa;return t!==null&&(Re===null?Re=t:Re.push.apply(Re,t),Sa=null),t}function so(t){Sa===null?Sa=[t]:Sa.push(t)}var df=J(null),ba=null,ar=null;function zi(t,r,a){G(df,r._currentValue),r._currentValue=a}function sr(t){t._currentValue=df.current,$(df)}function gf(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function mf(t,r,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var b=0;b<r.length;b++)if(S.context===r[b]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),gf(f.return,a,t),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),gf(m,a,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function oo(t,r,a,o){t=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var S=u.type;Ve(u.pendingProps.value,m.value)||(t!==null?t.push(S):t=[S])}}else if(u===qe.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}u=u.return}t!==null&&mf(r,t,a,o),r.flags|=262144}function Ll(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){ba=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Te(t){return rm(ba,t)}function ql(t,r){return ba===null&&wa(t),rm(t,r)}function rm(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(i(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return a}var hT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},dT=s.unstable_scheduleCallback,gT=s.unstable_NormalPriority,ie={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new hT,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&dT(gT,function(){t.controller.abort()})}var uo=null,pf=0,is=0,as=null;function mT(t,r){if(uo===null){var a=uo=[];pf=0,is=Sh(),as={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,r.then(im,im),r}function im(){if(--pf===0&&uo!==null){as!==null&&(as.status="fulfilled");var t=uo;uo=null,is=0,as=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function yT(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var am=U.S;U.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mT(t,r),am!==null&&am(t,r)};var Aa=J(null);function vf(){var t=Aa.current;return t!==null?t:Pt.pooledCache}function Jl(t,r){r===null?G(Aa,Aa.current):G(Aa,r.pool)}function sm(){var t=vf();return t===null?null:{parent:ie._currentValue,pool:t}}var co=Error(i(460)),om=Error(i(474)),Pl=Error(i(542)),Sf={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vl(){}function um(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Vl,Vl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fm(t),t;default:if(typeof r.status=="string")r.then(Vl,Vl);else{if(t=Pt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fm(t),t}throw fo=r,co}}var fo=null;function cm(){if(fo===null)throw Error(i(459));var t=fo;return fo=null,t}function fm(t){if(t===co||t===Pl)throw Error(i(483))}var Mi=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(kt&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Il(t),Fg(t,null,a),r}return Bl(t,o,r,a),Il(t)}function ho(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,ig(t,a)}}function wf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Af=!1;function go(){if(Af){var t=as;if(t!==null)throw t}}function mo(t,r,a,o){Af=!1;var u=t.updateQueue;Mi=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var b=S,k=b.next;b.next=null,m===null?f=k:m.next=k,m=b;var M=t.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=k:S.next=k,M.lastBaseUpdate=b))}if(f!==null){var q=u.baseState;m=0,M=k=b=null,S=f;do{var R=S.lane&-536870913,B=R!==S.lane;if(B?(bt&R)===R:(o&R)===R){R!==0&&R===is&&(Af=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var lt=t,at=S;R=r;var Mt=a;switch(at.tag){case 1:if(lt=at.payload,typeof lt=="function"){q=lt.call(Mt,q,R);break t}q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=at.payload,R=typeof lt=="function"?lt.call(Mt,q,R):lt,R==null)break t;q=T({},q,R);break t;case 2:Mi=!0}}R=S.callback,R!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[R]:B.push(R))}else B={lane:R,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(k=M=B,b=q):M=M.next=B,m|=R;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(b=q),u.baseState=b,u.firstBaseUpdate=k,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),Gi|=m,t.lanes=m,t.memoizedState=q}}function hm(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function dm(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hm(a[t],r)}var ss=J(null),Hl=J(0);function gm(t,r){t=dr,G(Hl,t),G(ss,r),dr=t|r.baseLanes}function Ef(){G(Hl,dr),G(ss,ss.current)}function Nf(){dr=Hl.current,$(ss),$(Hl)}var qi=0,gt=null,It=null,ee=null,jl=!1,os=!1,Ea=!1,Yl=0,yo=0,ls=null,pT=0;function Ft(){throw Error(i(321))}function xf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Ve(t[a],r[a]))return!1;return!0}function Df(t,r,a,o,u,f){return qi=f,gt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?Fm:_m,Ea=!1,f=a(o,u),Ea=!1,os&&(f=ym(r,a,o,u)),mm(t),f}function mm(t){U.H=Ql;var r=It!==null&&It.next!==null;if(qi=0,ee=It=gt=null,jl=!1,yo=0,ls=null,r)throw Error(i(300));t===null||le||(t=t.dependencies,t!==null&&Ll(t)&&(le=!0))}function ym(t,r,a,o){gt=t;var u=0;do{if(os&&(ls=null),yo=0,os=!1,25<=u)throw Error(i(301));if(u+=1,ee=It=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=ET,f=r(a,o)}while(os);return f}function vT(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?po(r):r,t=t.useState()[0],(It!==null?It.memoizedState:null)!==t&&(gt.flags|=1024),r}function Of(){var t=Yl!==0;return Yl=0,t}function Cf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function kf(t){if(jl){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}jl=!1}qi=0,ee=It=gt=null,os=!1,yo=Yl=0,ls=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?gt.memoizedState=ee=t:ee=ee.next=t,ee}function ne(){if(It===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var r=ee===null?gt.memoizedState:ee.next;if(r!==null)ee=r,It=t;else{if(t===null)throw gt.alternate===null?Error(i(467)):Error(i(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ee===null?gt.memoizedState=ee=t:ee=ee.next=t}return ee}function Rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var r=yo;return yo+=1,ls===null&&(ls=[]),t=um(ls,t,r),r=gt,(ee===null?r.memoizedState:ee.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Fm:_m),t}function Gl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===F)return Te(t)}throw Error(i(438,String(t)))}function Bf(t){var r=null,a=gt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Rf(),gt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=re;return r.index++,a}function or(t,r){return typeof r=="function"?r(t):r}function Kl(t){var r=ne();return If(r,It,t)}function If(t,r,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}r.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{r=u.next;var S=m=null,b=null,k=r,M=!1;do{var q=k.lane&-536870913;if(q!==k.lane?(bt&q)===q:(qi&q)===q){var R=k.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),q===is&&(M=!0);else if((qi&R)===R){k=k.next,R===is&&(M=!0);continue}else q={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(S=b=q,m=f):b=b.next=q,gt.lanes|=R,Gi|=R;q=k.action,Ea&&a(f,q),f=k.hasEagerState?k.eagerState:a(f,q)}else R={lane:q,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(S=b=R,m=f):b=b.next=R,gt.lanes|=q,Gi|=q;k=k.next}while(k!==null&&k!==r);if(b===null?m=f:b.next=S,!Ve(f,t.memoizedState)&&(le=!0,M&&(a=as,a!==null)))throw a;t.memoizedState=f,t.baseState=m,t.baseQueue=b,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zf(t){var r=ne(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=t(f,m.action),m=m.next;while(m!==u);Ve(f,r.memoizedState)||(le=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function pm(t,r,a){var o=gt,u=ne(),f=Dt;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var m=!Ve((It||u).memoizedState,a);m&&(u.memoizedState=a,le=!0),u=u.queue;var S=Tm.bind(null,o,u,t);if(vo(2048,8,S,[t]),u.getSnapshot!==r||m||ee!==null&&ee.memoizedState.tag&1){if(o.flags|=2048,us(9,$l(),Sm.bind(null,o,u,a,r),null),Pt===null)throw Error(i(349));f||(qi&124)!==0||vm(o,r,a)}return a}function vm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=gt.updateQueue,r===null?(r=Rf(),gt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Sm(t,r,a,o){r.value=a,r.getSnapshot=o,bm(r)&&wm(t)}function Tm(t,r,a){return a(function(){bm(r)&&wm(t)})}function bm(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Ve(t,a)}catch{return!0}}function wm(t){var r=ts(t,2);r!==null&&$e(r,t,2)}function Mf(t){var r=Ce();if(typeof t=="function"){var a=t;if(t=a(),Ea){Ri(!0);try{a()}finally{Ri(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},r}function Am(t,r,a,o){return t.baseState=a,If(t,It,typeof o=="function"?o:or)}function ST(t,r,a,o,u){if(Zl(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,Em(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Em(t,r){var a=r.action,o=r.payload,u=t.state;if(r.isTransition){var f=U.T,m={};U.T=m;try{var S=a(u,o),b=U.S;b!==null&&b(m,S),Nm(t,r,S)}catch(k){Uf(t,r,k)}finally{U.T=f}}else try{f=a(u,o),Nm(t,r,f)}catch(k){Uf(t,r,k)}}function Nm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xm(t,r,o)},function(o){return Uf(t,r,o)}):xm(t,r,a)}function xm(t,r,a){r.status="fulfilled",r.value=a,Dm(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Em(t,a)))}function Uf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Dm(r),r=r.next;while(r!==o)}t.action=null}function Dm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Om(t,r){return r}function Cm(t,r){if(Dt){var a=Pt.formState;if(a!==null){t:{var o=gt;if(Dt){if($t){e:{for(var u=$t,f=In;u.nodeType!==8;){if(!f){u=null;break e}if(u=Nn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$t=Nn(u.nextSibling),o=u.data==="F!";break t}}Ta(o)}o=!1}o&&(r=a[0])}}return a=Ce(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:r},a.queue=o,a=Xm.bind(null,gt,o),o.dispatch=a,o=Mf(!1),f=Vf.bind(null,gt,!1,o.queue),o=Ce(),u={state:r,dispatch:null,action:t,pending:null},o.queue=u,a=ST.bind(null,gt,u,f,a),u.dispatch=a,o.memoizedState=t,[r,a,!1]}function km(t){var r=ne();return Rm(r,It,t)}function Rm(t,r,a){if(r=If(t,r,Om)[0],t=Kl(or)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=po(r)}catch(m){throw m===co?Pl:m}else o=r;r=ne();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(gt.flags|=2048,us(9,$l(),TT.bind(null,u,a),null)),[o,f,t]}function TT(t,r){t.action=r}function Bm(t){var r=ne(),a=It;if(a!==null)return Rm(r,a,t);ne(),r=r.memoizedState,a=ne();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function us(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=gt.updateQueue,r===null&&(r=Rf(),gt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function $l(){return{destroy:void 0,resource:void 0}}function Im(){return ne().memoizedState}function Xl(t,r,a,o){var u=Ce();o=o===void 0?null:o,gt.flags|=t,u.memoizedState=us(1|r,$l(),a,o)}function vo(t,r,a,o){var u=ne();o=o===void 0?null:o;var f=u.memoizedState.inst;It!==null&&o!==null&&xf(o,It.memoizedState.deps)?u.memoizedState=us(r,f,a,o):(gt.flags|=t,u.memoizedState=us(1|r,f,a,o))}function zm(t,r){Xl(8390656,8,t,r)}function Mm(t,r){vo(2048,8,t,r)}function Um(t,r){return vo(4,2,t,r)}function Lm(t,r){return vo(4,4,t,r)}function qm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jm(t,r,a){a=a!=null?a.concat([t]):null,vo(4,4,qm.bind(null,r,t),a)}function Lf(){}function Pm(t,r){var a=ne();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&xf(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function Vm(t,r){var a=ne();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&xf(r,o[1]))return o[0];if(o=t(),Ea){Ri(!0);try{t()}finally{Ri(!1)}}return a.memoizedState=[o,r],o}function qf(t,r,a){return a===void 0||(qi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Yy(),gt.lanes|=t,Gi|=t,a)}function Hm(t,r,a,o){return Ve(a,r)?a:ss.current!==null?(t=qf(t,a,o),Ve(t,r)||(le=!0),t):(qi&42)===0?(le=!0,t.memoizedState=a):(t=Yy(),gt.lanes|=t,Gi|=t,r)}function jm(t,r,a,o,u){var f=K.p;K.p=f!==0&&8>f?f:8;var m=U.T,S={};U.T=S,Vf(t,!1,r,a);try{var b=u(),k=U.S;if(k!==null&&k(S,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=yT(b,o);So(t,r,M,Ke(t))}else So(t,r,o,Ke(t))}catch(q){So(t,r,{then:function(){},status:"rejected",reason:q},Ke())}finally{K.p=f,U.T=m}}function bT(){}function Jf(t,r,a,o){if(t.tag!==5)throw Error(i(476));var u=Ym(t).queue;jm(t,u,r,ot,a===null?bT:function(){return Gm(t),a(o)})}function Ym(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ot},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gm(t){var r=Ym(t).next.queue;So(t,r,{},Ke())}function Pf(){return Te(Lo)}function Km(){return ne().memoizedState}function $m(){return ne().memoizedState}function wT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ke();t=Ui(a);var o=Li(r,t,a);o!==null&&($e(o,r,a),ho(o,r,a)),r={cache:yf()},t.payload=r;return}r=r.return}}function AT(t,r,a){var o=Ke();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zl(t)?Zm(r,a):(a=sf(t,r,a,o),a!==null&&($e(a,t,o),Qm(a,r,o)))}function Xm(t,r,a){var o=Ke();So(t,r,a,o)}function So(t,r,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zl(t))Zm(r,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Ve(S,m))return Bl(t,r,u,0),Pt===null&&Rl(),!1}catch{}finally{}if(a=sf(t,r,u,o),a!==null)return $e(a,t,o),Qm(a,r,o),!0}return!1}function Vf(t,r,a,o){if(o={lane:2,revertLane:Sh(),action:o,hasEagerState:!1,eagerState:null,next:null},Zl(t)){if(r)throw Error(i(479))}else r=sf(t,a,o,2),r!==null&&$e(r,t,2)}function Zl(t){var r=t.alternate;return t===gt||r!==null&&r===gt}function Zm(t,r){os=jl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Qm(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,ig(t,a)}}var Ql={readContext:Te,use:Gl,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Fm={readContext:Te,use:Gl,useCallback:function(t,r){return Ce().memoizedState=[t,r===void 0?null:r],t},useContext:Te,useEffect:zm,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Xl(4194308,4,qm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Xl(4194308,4,t,r)},useInsertionEffect:function(t,r){Xl(4,2,t,r)},useMemo:function(t,r){var a=Ce();r=r===void 0?null:r;var o=t();if(Ea){Ri(!0);try{t()}finally{Ri(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Ce();if(a!==void 0){var u=a(r);if(Ea){Ri(!0);try{a(r)}finally{Ri(!1)}}}else u=r;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=AT.bind(null,gt,t),[o.memoizedState,t]},useRef:function(t){var r=Ce();return t={current:t},r.memoizedState=t},useState:function(t){t=Mf(t);var r=t.queue,a=Xm.bind(null,gt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,r){var a=Ce();return qf(a,t,r)},useTransition:function(){var t=Mf(!1);return t=jm.bind(null,gt,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=gt,u=Ce();if(Dt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(bt&124)!==0||vm(o,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,zm(Tm.bind(null,o,f,t),[t]),o.flags|=2048,us(9,$l(),Sm.bind(null,o,f,a,r),null),a},useId:function(){var t=Ce(),r=Pt.identifierPrefix;if(Dt){var a=ir,o=rr;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,r=""+r+"R"+a,a=Yl++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=pT++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Pf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t){var r=Ce();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vf.bind(null,gt,!0,a),a.dispatch=r,[t,r]},useMemoCache:Bf,useCacheRefresh:function(){return Ce().memoizedState=wT.bind(null,gt)}},_m={readContext:Te,use:Gl,useCallback:Pm,useContext:Te,useEffect:Mm,useImperativeHandle:Jm,useInsertionEffect:Um,useLayoutEffect:Lm,useMemo:Vm,useReducer:Kl,useRef:Im,useState:function(){return Kl(or)},useDebugValue:Lf,useDeferredValue:function(t,r){var a=ne();return Hm(a,It.memoizedState,t,r)},useTransition:function(){var t=Kl(or)[0],r=ne().memoizedState;return[typeof t=="boolean"?t:po(t),r]},useSyncExternalStore:pm,useId:Km,useHostTransitionStatus:Pf,useFormState:km,useActionState:km,useOptimistic:function(t,r){var a=ne();return Am(a,It,t,r)},useMemoCache:Bf,useCacheRefresh:$m},ET={readContext:Te,use:Gl,useCallback:Pm,useContext:Te,useEffect:Mm,useImperativeHandle:Jm,useInsertionEffect:Um,useLayoutEffect:Lm,useMemo:Vm,useReducer:zf,useRef:Im,useState:function(){return zf(or)},useDebugValue:Lf,useDeferredValue:function(t,r){var a=ne();return It===null?qf(a,t,r):Hm(a,It.memoizedState,t,r)},useTransition:function(){var t=zf(or)[0],r=ne().memoizedState;return[typeof t=="boolean"?t:po(t),r]},useSyncExternalStore:pm,useId:Km,useHostTransitionStatus:Pf,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,r){var a=ne();return It!==null?Am(a,It,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:$m},cs=null,To=0;function Fl(t){var r=To;return To+=1,cs===null&&(cs=[]),um(cs,t,r)}function bo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _l(t,r){throw r.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Wm(t){var r=t._init;return r(t._payload)}function ty(t){function r(E,A){if(t){var O=E.deletions;O===null?(E.deletions=[A],E.flags|=16):O.push(A)}}function a(E,A){if(!t)return null;for(;A!==null;)r(E,A),A=A.sibling;return null}function o(E){for(var A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function u(E,A){return E=nr(E,A),E.index=0,E.sibling=null,E}function f(E,A,O){return E.index=O,t?(O=E.alternate,O!==null?(O=O.index,O<A?(E.flags|=67108866,A):O):(E.flags|=67108866,A)):(E.flags|=1048576,A)}function m(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function S(E,A,O,L){return A===null||A.tag!==6?(A=lf(O,E.mode,L),A.return=E,A):(A=u(A,O),A.return=E,A)}function b(E,A,O,L){var X=O.type;return X===P?M(E,A,O.props.children,L,O.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&Wm(X)===A.type)?(A=u(A,O.props),bo(A,O),A.return=E,A):(A=zl(O.type,O.key,O.props,null,E.mode,L),bo(A,O),A.return=E,A)}function k(E,A,O,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=uf(O,E.mode,L),A.return=E,A):(A=u(A,O.children||[]),A.return=E,A)}function M(E,A,O,L,X){return A===null||A.tag!==7?(A=ya(O,E.mode,L,X),A.return=E,A):(A=u(A,O),A.return=E,A)}function q(E,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=lf(""+A,E.mode,O),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return O=zl(A.type,A.key,A.props,null,E.mode,O),bo(O,A),O.return=E,O;case C:return A=uf(A,E.mode,O),A.return=E,A;case wt:var L=A._init;return A=L(A._payload),q(E,A,O)}if(ve(A)||se(A))return A=ya(A,E.mode,O,null),A.return=E,A;if(typeof A.then=="function")return q(E,Fl(A),O);if(A.$$typeof===F)return q(E,ql(E,A),O);_l(E,A)}return null}function R(E,A,O,L){var X=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return X!==null?null:S(E,A,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return O.key===X?b(E,A,O,L):null;case C:return O.key===X?k(E,A,O,L):null;case wt:return X=O._init,O=X(O._payload),R(E,A,O,L)}if(ve(O)||se(O))return X!==null?null:M(E,A,O,L,null);if(typeof O.then=="function")return R(E,A,Fl(O),L);if(O.$$typeof===F)return R(E,A,ql(E,O),L);_l(E,O)}return null}function B(E,A,O,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(O)||null,S(A,E,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return E=E.get(L.key===null?O:L.key)||null,b(A,E,L,X);case C:return E=E.get(L.key===null?O:L.key)||null,k(A,E,L,X);case wt:var mt=L._init;return L=mt(L._payload),B(E,A,O,L,X)}if(ve(L)||se(L))return E=E.get(O)||null,M(A,E,L,X,null);if(typeof L.then=="function")return B(E,A,O,Fl(L),X);if(L.$$typeof===F)return B(E,A,O,ql(A,L),X);_l(A,L)}return null}function lt(E,A,O,L){for(var X=null,mt=null,Q=A,st=A=0,ce=null;Q!==null&&st<O.length;st++){Q.index>st?(ce=Q,Q=null):ce=Q.sibling;var xt=R(E,Q,O[st],L);if(xt===null){Q===null&&(Q=ce);break}t&&Q&&xt.alternate===null&&r(E,Q),A=f(xt,A,st),mt===null?X=xt:mt.sibling=xt,mt=xt,Q=ce}if(st===O.length)return a(E,Q),Dt&&va(E,st),X;if(Q===null){for(;st<O.length;st++)Q=q(E,O[st],L),Q!==null&&(A=f(Q,A,st),mt===null?X=Q:mt.sibling=Q,mt=Q);return Dt&&va(E,st),X}for(Q=o(Q);st<O.length;st++)ce=B(Q,E,st,O[st],L),ce!==null&&(t&&ce.alternate!==null&&Q.delete(ce.key===null?st:ce.key),A=f(ce,A,st),mt===null?X=ce:mt.sibling=ce,mt=ce);return t&&Q.forEach(function(ta){return r(E,ta)}),Dt&&va(E,st),X}function at(E,A,O,L){if(O==null)throw Error(i(151));for(var X=null,mt=null,Q=A,st=A=0,ce=null,xt=O.next();Q!==null&&!xt.done;st++,xt=O.next()){Q.index>st?(ce=Q,Q=null):ce=Q.sibling;var ta=R(E,Q,xt.value,L);if(ta===null){Q===null&&(Q=ce);break}t&&Q&&ta.alternate===null&&r(E,Q),A=f(ta,A,st),mt===null?X=ta:mt.sibling=ta,mt=ta,Q=ce}if(xt.done)return a(E,Q),Dt&&va(E,st),X;if(Q===null){for(;!xt.done;st++,xt=O.next())xt=q(E,xt.value,L),xt!==null&&(A=f(xt,A,st),mt===null?X=xt:mt.sibling=xt,mt=xt);return Dt&&va(E,st),X}for(Q=o(Q);!xt.done;st++,xt=O.next())xt=B(Q,E,st,xt.value,L),xt!==null&&(t&&xt.alternate!==null&&Q.delete(xt.key===null?st:xt.key),A=f(xt,A,st),mt===null?X=xt:mt.sibling=xt,mt=xt);return t&&Q.forEach(function(Nb){return r(E,Nb)}),Dt&&va(E,st),X}function Mt(E,A,O,L){if(typeof O=="object"&&O!==null&&O.type===P&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case I:t:{for(var X=O.key;A!==null;){if(A.key===X){if(X=O.type,X===P){if(A.tag===7){a(E,A.sibling),L=u(A,O.props.children),L.return=E,E=L;break t}}else if(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&Wm(X)===A.type){a(E,A.sibling),L=u(A,O.props),bo(L,O),L.return=E,E=L;break t}a(E,A);break}else r(E,A);A=A.sibling}O.type===P?(L=ya(O.props.children,E.mode,L,O.key),L.return=E,E=L):(L=zl(O.type,O.key,O.props,null,E.mode,L),bo(L,O),L.return=E,E=L)}return m(E);case C:t:{for(X=O.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){a(E,A.sibling),L=u(A,O.children||[]),L.return=E,E=L;break t}else{a(E,A);break}else r(E,A);A=A.sibling}L=uf(O,E.mode,L),L.return=E,E=L}return m(E);case wt:return X=O._init,O=X(O._payload),Mt(E,A,O,L)}if(ve(O))return lt(E,A,O,L);if(se(O)){if(X=se(O),typeof X!="function")throw Error(i(150));return O=X.call(O),at(E,A,O,L)}if(typeof O.then=="function")return Mt(E,A,Fl(O),L);if(O.$$typeof===F)return Mt(E,A,ql(E,O),L);_l(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(a(E,A.sibling),L=u(A,O),L.return=E,E=L):(a(E,A),L=lf(O,E.mode,L),L.return=E,E=L),m(E)):a(E,A)}return function(E,A,O,L){try{To=0;var X=Mt(E,A,O,L);return cs=null,X}catch(Q){if(Q===co||Q===Pl)throw Q;var mt=He(29,Q,null,E.mode);return mt.lanes=L,mt.return=E,mt}finally{}}}var fs=ty(!0),ey=ty(!1),an=J(null),zn=null;function Ji(t){var r=t.alternate;G(ae,ae.current&1),G(an,t),zn===null&&(r===null||ss.current!==null||r.memoizedState!==null)&&(zn=t)}function ny(t){if(t.tag===22){if(G(ae,ae.current),G(an,t),zn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(zn=t)}}else Pi()}function Pi(){G(ae,ae.current),G(an,an.current)}function lr(t){$(an),zn===t&&(zn=null),$(ae)}var ae=J(0);function Wl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rh(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Ke(),u=Ui(o);u.payload=r,a!=null&&(u.callback=a),r=Li(t,u,o),r!==null&&($e(r,t,o),ho(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Ke(),u=Ui(o);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=Li(t,u,o),r!==null&&($e(r,t,o),ho(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Ke(),o=Ui(a);o.tag=2,r!=null&&(o.callback=r),r=Li(t,o,a),r!==null&&($e(r,t,a),ho(r,t,a))}};function ry(t,r,a,o,u,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,m):r.prototype&&r.prototype.isPureReactComponent?!no(a,o)||!no(u,f):!0}function iy(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&jf.enqueueReplaceState(r,r.state,null)}function Na(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ay(t){tu(t)}function sy(t){console.error(t)}function oy(t){tu(t)}function eu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function ly(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Yf(t,r,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){eu(t,r)},a}function uy(t){return t=Ui(t),t.tag=3,t}function cy(t,r,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){ly(r,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){ly(r,a,o),typeof u!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function NT(t,r,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&oo(r,a,u,!0),a=an.current,a!==null){switch(a.tag){case 13:return zn===null?gh():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===Sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),yh(t,o,u)),!1;case 22:return a.flags|=65536,o===Sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),yh(t,o,u)),!1}throw Error(i(435,a.tag))}return yh(t,o,u),gh(),!1}if(Dt)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==hf&&(t=Error(i(422),{cause:o}),so(tn(t,a)))):(o!==hf&&(r=Error(i(423),{cause:o}),so(tn(r,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=tn(o,a),u=Yf(t.stateNode,o,u),wf(t,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:o});if(f=tn(f,a),Oo===null?Oo=[f]:Oo.push(f),Xt!==4&&(Xt=2),r===null)return!0;o=tn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Yf(a.stateNode,o,t),wf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ki===null||!Ki.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=uy(u),cy(u,t,a,o),wf(a,u),!1}a=a.return}while(a!==null);return!1}var fy=Error(i(461)),le=!1;function fe(t,r,a,o){r.child=t===null?ey(r,null,a,o):fs(r,t.child,a,o)}function hy(t,r,a,o,u){a=a.render;var f=r.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return wa(r),o=Df(t,r,a,m,f,u),S=Of(),t!==null&&!le?(Cf(t,r,u),ur(t,r,u)):(Dt&&S&&cf(r),r.flags|=1,fe(t,r,o,u),r.child)}function dy(t,r,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!of(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,gy(t,r,f,o,u)):(t=zl(a.type,null,o,r,r.mode,u),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!_f(t,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(m,o)&&t.ref===r.ref)return ur(t,r,u)}return r.flags|=1,t=nr(f,o),t.ref=r.ref,t.return=r,r.child=t}function gy(t,r,a,o,u){if(t!==null){var f=t.memoizedProps;if(no(f,o)&&t.ref===r.ref)if(le=!1,r.pendingProps=o=f,_f(t,u))(t.flags&131072)!==0&&(le=!0);else return r.lanes=t.lanes,ur(t,r,u)}return Gf(t,r,a,o,u)}function my(t,r,a){var o=r.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=r.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return yy(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jl(r,f!==null?f.cachePool:null),f!==null?gm(r,f):Ef(),ny(r);else return r.lanes=r.childLanes=536870912,yy(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Jl(r,f.cachePool),gm(r,f),Pi(),r.memoizedState=null):(t!==null&&Jl(r,null),Ef(),Pi());return fe(t,r,u,a),r.child}function yy(t,r,a,o){var u=vf();return u=u===null?null:{parent:ie._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},t!==null&&Jl(r,null),Ef(),ny(r),t!==null&&oo(t,r,o,!0),null}function nu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Gf(t,r,a,o,u){return wa(r),a=Df(t,r,a,o,void 0,u),o=Of(),t!==null&&!le?(Cf(t,r,u),ur(t,r,u)):(Dt&&o&&cf(r),r.flags|=1,fe(t,r,a,u),r.child)}function py(t,r,a,o,u,f){return wa(r),r.updateQueue=null,a=ym(r,o,a,u),mm(t),o=Of(),t!==null&&!le?(Cf(t,r,f),ur(t,r,f)):(Dt&&o&&cf(r),r.flags|=1,fe(t,r,a,f),r.child)}function vy(t,r,a,o,u){if(wa(r),r.stateNode===null){var f=es,m=a.contextType;typeof m=="object"&&m!==null&&(f=Te(m)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},Tf(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?Te(m):es,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Hf(r,a,m,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&jf.enqueueReplaceState(f,f.state,null),mo(r,o,f,u),go(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var S=r.memoizedProps,b=Na(a,S);f.props=b;var k=f.context,M=a.contextType;m=es,typeof M=="object"&&M!==null&&(m=Te(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||k!==m)&&iy(r,f,o,m),Mi=!1;var R=r.memoizedState;f.state=R,mo(r,o,f,u),go(),k=r.memoizedState,S||R!==k||Mi?(typeof q=="function"&&(Hf(r,a,q,o),k=r.memoizedState),(b=Mi||ry(r,a,b,o,R,k,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=k),f.props=o,f.state=k,f.context=m,o=b):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,bf(t,r),m=r.memoizedProps,M=Na(a,m),f.props=M,q=r.pendingProps,R=f.context,k=a.contextType,b=es,typeof k=="object"&&k!==null&&(b=Te(k)),S=a.getDerivedStateFromProps,(k=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==q||R!==b)&&iy(r,f,o,b),Mi=!1,R=r.memoizedState,f.state=R,mo(r,o,f,u),go();var B=r.memoizedState;m!==q||R!==B||Mi||t!==null&&t.dependencies!==null&&Ll(t.dependencies)?(typeof S=="function"&&(Hf(r,a,S,o),B=r.memoizedState),(M=Mi||ry(r,a,M,o,R,B,b)||t!==null&&t.dependencies!==null&&Ll(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=b,o=M):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,nu(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=fs(r,t.child,null,u),r.child=fs(r,null,a,u)):fe(t,r,a,u),r.memoizedState=f.state,t=r.child):t=ur(t,r,u),t}function Sy(t,r,a,o){return ao(),r.flags|=256,fe(t,r,a,o),r.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:sm()}}function Xf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=sn),t}function Ty(t,r,a){var o=r.pendingProps,u=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(ae.current&2)!==0),m&&(u=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,t===null){if(Dt){if(u?Ji(r):Pi(),Dt){var S=$t,b;if(b=S){t:{for(b=S,S=In;b.nodeType!==8;){if(!S){S=null;break t}if(b=Nn(b.nextSibling),b===null){S=null;break t}}S=b}S!==null?(r.memoizedState={dehydrated:S,treeContext:pa!==null?{id:rr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},b=He(18,null,null,0),b.stateNode=S,b.return=r,r.child=b,Ne=r,$t=null,b=!0):b=!1}b||Ta(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Rh(S)?r.lanes=32:r.lanes=536870912,null;lr(r)}return S=o.children,o=o.fallback,u?(Pi(),u=r.mode,S=ru({mode:"hidden",children:S},u),o=ya(o,u,a,null),S.return=r,o.return=r,S.sibling=o,r.child=S,u=r.child,u.memoizedState=$f(a),u.childLanes=Xf(t,m,a),r.memoizedState=Kf,o):(Ji(r),Zf(r,S))}if(b=t.memoizedState,b!==null&&(S=b.dehydrated,S!==null)){if(f)r.flags&256?(Ji(r),r.flags&=-257,r=Qf(t,r,a)):r.memoizedState!==null?(Pi(),r.child=t.child,r.flags|=128,r=null):(Pi(),u=o.fallback,S=r.mode,o=ru({mode:"visible",children:o.children},S),u=ya(u,S,a,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,fs(r,t.child,null,a),o=r.child,o.memoizedState=$f(a),o.childLanes=Xf(t,m,a),r.memoizedState=Kf,r=u);else if(Ji(r),Rh(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var k=m.dgst;m=k,o=Error(i(419)),o.stack="",o.digest=m,so({value:o,source:null,stack:null}),r=Qf(t,r,a)}else if(le||oo(t,r,a,!1),m=(a&t.childLanes)!==0,le||m){if(m=Pt,m!==null&&(o=a&-a,o=(o&42)!==0?1:Rc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ts(t,o),$e(m,t,o),fy;S.data==="$?"||gh(),r=Qf(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=b.treeContext,$t=Nn(S.nextSibling),Ne=r,Dt=!0,Sa=null,In=!1,t!==null&&(nn[rn++]=rr,nn[rn++]=ir,nn[rn++]=pa,rr=t.id,ir=t.overflow,pa=r),r=Zf(r,o.children),r.flags|=4096);return r}return u?(Pi(),u=o.fallback,S=r.mode,b=t.child,k=b.sibling,o=nr(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,k!==null?u=nr(k,u):(u=ya(u,S,a,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,S=t.child.memoizedState,S===null?S=$f(a):(b=S.cachePool,b!==null?(k=ie._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=sm(),S={baseLanes:S.baseLanes|a,cachePool:b}),u.memoizedState=S,u.childLanes=Xf(t,m,a),r.memoizedState=Kf,o):(Ji(r),a=t.child,t=a.sibling,a=nr(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(m=r.deletions,m===null?(r.deletions=[t],r.flags|=16):m.push(t)),r.child=a,r.memoizedState=null,a)}function Zf(t,r){return r=ru({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ru(t,r){return t=He(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qf(t,r,a){return fs(r,t.child,null,a),t=Zf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function by(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),gf(t.return,r,a)}function Ff(t,r,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function wy(t,r,a){var o=r.pendingProps,u=o.revealOrder,f=o.tail;if(fe(t,r,o.children,a),o=ae.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,a,r);else if(t.tag===19)by(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(ae,o),u){case"forwards":for(a=r.child,u=null;a!==null;)t=a.alternate,t!==null&&Wl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),Ff(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(t=u.alternate,t!==null&&Wl(t)===null){r.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Ff(r,!0,a,null,f);break;case"together":Ff(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ur(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Gi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(oo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _f(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ll(t)))}function xT(t,r,a){switch(r.tag){case 3:Ht(r,r.stateNode.containerInfo),zi(r,ie,t.memoizedState.cache),ao();break;case 27:case 5:xc(r);break;case 4:Ht(r,r.stateNode.containerInfo);break;case 10:zi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Ji(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ty(t,r,a):(Ji(r),t=ur(t,r,a),t!==null?t.sibling:null);Ji(r);break;case 19:var u=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(oo(t,r,a,!1),o=(a&r.childLanes)!==0),u){if(o)return wy(t,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(ae,ae.current),o)break;return null;case 22:case 23:return r.lanes=0,my(t,r,a);case 24:zi(r,ie,t.memoizedState.cache)}return ur(t,r,a)}function Ay(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)le=!0;else{if(!_f(t,a)&&(r.flags&128)===0)return le=!1,xT(t,r,a);le=(t.flags&131072)!==0}else le=!1,Dt&&(r.flags&1048576)!==0&&Wg(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{t=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")of(o)?(t=Na(o,t),r.tag=1,r=vy(null,r,o,t,a)):(r.tag=0,r=Gf(null,r,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===ct){r.tag=11,r=hy(null,r,o,t,a);break t}else if(u===yt){r.tag=14,r=dy(null,r,o,t,a);break t}}throw r=ca(o)||o,Error(i(306,r,""))}}return r;case 0:return Gf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,u=Na(o,r.pendingProps),vy(t,r,o,u,a);case 3:t:{if(Ht(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;u=f.element,bf(t,r),mo(r,o,null,a);var m=r.memoizedState;if(o=m.cache,zi(r,ie,o),o!==f.cache&&mf(r,[ie],a,!0),go(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Sy(t,r,o,a);break t}else if(o!==u){u=tn(Error(i(424)),r),so(u),r=Sy(t,r,o,a);break t}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Nn(t.firstChild),Ne=r,Dt=!0,Sa=null,In=!0,a=ey(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ao(),o===u){r=ur(t,r,a);break t}fe(t,r,o,a)}r=r.child}return r;case 26:return nu(t,r),t===null?(a=Dp(r.type,null,r.pendingProps,null))?r.memoizedState=a:Dt||(a=r.type,t=r.pendingProps,o=pu(ft.current).createElement(a),o[Se]=r,o[De]=t,de(o,a,t),oe(o),r.stateNode=o):r.memoizedState=Dp(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xc(r),t===null&&Dt&&(o=r.stateNode=Ep(r.type,r.pendingProps,ft.current),Ne=r,In=!0,u=$t,Zi(r.type)?(Bh=u,$t=Nn(o.firstChild)):$t=u),fe(t,r,r.pendingProps.children,a),nu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Dt&&((u=o=$t)&&(o=tb(o,r.type,r.pendingProps,In),o!==null?(r.stateNode=o,Ne=r,$t=Nn(o.firstChild),In=!1,u=!0):u=!1),u||Ta(r)),xc(r),u=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,o=f.children,Oh(u,f)?o=null:m!==null&&Oh(u,m)&&(r.flags|=32),r.memoizedState!==null&&(u=Df(t,r,vT,null,null,a),Lo._currentValue=u),nu(t,r),fe(t,r,o,a),r.child;case 6:return t===null&&Dt&&((t=a=$t)&&(a=eb(a,r.pendingProps,In),a!==null?(r.stateNode=a,Ne=r,$t=null,t=!0):t=!1),t||Ta(r)),null;case 13:return Ty(t,r,a);case 4:return Ht(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=fs(r,null,o,a):fe(t,r,o,a),r.child;case 11:return hy(t,r,r.type,r.pendingProps,a);case 7:return fe(t,r,r.pendingProps,a),r.child;case 8:return fe(t,r,r.pendingProps.children,a),r.child;case 12:return fe(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,zi(r,r.type,o.value),fe(t,r,o.children,a),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,wa(r),u=Te(u),o=o(u),r.flags|=1,fe(t,r,o,a),r.child;case 14:return dy(t,r,r.type,r.pendingProps,a);case 15:return gy(t,r,r.type,r.pendingProps,a);case 19:return wy(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=ru(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=nr(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return my(t,r,a);case 24:return wa(r),o=Te(ie),t===null?(u=vf(),u===null&&(u=Pt,f=yf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:o,cache:u},Tf(r),zi(r,ie,u)):((t.lanes&a)!==0&&(bf(t,r),mo(r,null,null,a),go()),u=t.memoizedState,f=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),zi(r,ie,o)):(o=f.cache,zi(r,ie,o),o!==u.cache&&mf(r,[ie],a,!0))),fe(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function cr(t){t.flags|=4}function Ey(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bp(r)){if(r=an.current,r!==null&&((bt&4194048)===bt?zn!==null:(bt&62914560)!==bt&&(bt&536870912)===0||r!==zn))throw fo=Sf,om;t.flags|=8192}}function iu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ng():536870912,t.lanes|=r,ms|=r)}function wo(t,r){if(!Dt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function DT(t,r,a){var o=r.pendingProps;switch(ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return Yt(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),sr(ie),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(io(r)?cr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,nm())),Yt(r),null;case 26:return a=r.memoizedState,t===null?(cr(r),a!==null?(Yt(r),Ey(r,a)):(Yt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(cr(r),Yt(r),Ey(r,a)):(Yt(r),r.flags&=-16777217):(t.memoizedProps!==o&&cr(r),Yt(r),r.flags&=-16777217),null;case 27:ml(r),a=ft.current;var u=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}t=it.current,io(r)?tm(r):(t=Ep(u,o,a),r.stateNode=t,cr(r))}return Yt(r),null;case 5:if(ml(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}if(t=it.current,io(r))tm(r);else{switch(u=pu(ft.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[Se]=r,t[De]=o;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=t;t:switch(de(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&cr(r)}}return Yt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&cr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ft.current,io(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,u=Ne,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[Se]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||pp(t.nodeValue,a)),t||Ta(r)}else t=pu(t).createTextNode(o),t[Se]=r,r.stateNode=t}return Yt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=io(r),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Se]=r}else ao(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),u=!1}else u=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(lr(r),r):(lr(r),null)}if(lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),iu(r,r.updateQueue),Yt(r),null;case 4:return ki(),t===null&&Ah(r.stateNode.containerInfo),Yt(r),null;case 10:return sr(r.type),Yt(r),null;case 19:if($(ae),u=r.memoizedState,u===null)return Yt(r),null;if(o=(r.flags&128)!==0,f=u.rendering,f===null)if(o)wo(u,!1);else{if(Xt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Wl(t),f!==null){for(r.flags|=128,wo(u,!1),t=f.updateQueue,r.updateQueue=t,iu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)_g(a,t),a=a.sibling;return G(ae,ae.current&1|2),r.child}t=t.sibling}u.tail!==null&&Bn()>ou&&(r.flags|=128,o=!0,wo(u,!1),r.lanes=4194304)}else{if(!o)if(t=Wl(f),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,iu(r,t),wo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Dt)return Yt(r),null}else 2*Bn()-u.renderingStartTime>ou&&a!==536870912&&(r.flags|=128,o=!0,wo(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(t=u.last,t!==null?t.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Bn(),r.sibling=null,t=ae.current,G(ae,o?t&1|2:t&1),r):(Yt(r),null);case 22:case 23:return lr(r),Nf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),a=r.updateQueue,a!==null&&iu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&$(Aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),sr(ie),Yt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function OT(t,r){switch(ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return sr(ie),ki(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ml(r),null;case 13:if(lr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ao()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $(ae),null;case 4:return ki(),null;case 10:return sr(r.type),null;case 22:case 23:return lr(r),Nf(),t!==null&&$(Aa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return sr(ie),null;case 25:return null;default:return null}}function Ny(t,r){switch(ff(r),r.tag){case 3:sr(ie),ki();break;case 26:case 27:case 5:ml(r);break;case 4:ki();break;case 13:lr(r);break;case 19:$(ae);break;case 10:sr(r.type);break;case 22:case 23:lr(r),Nf(),t!==null&&$(Aa);break;case 24:sr(ie)}}function Ao(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Lt(r,r.return,S)}}function Vi(t,r,a){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=r;var b=a,k=S;try{k()}catch(M){Lt(u,b,M)}}}o=o.next}while(o!==f)}}catch(M){Lt(r,r.return,M)}}function xy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{dm(r,a)}catch(o){Lt(t,t.return,o)}}}function Dy(t,r,a){a.props=Na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Lt(t,r,o)}}function Eo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){Lt(t,r,u)}}function Mn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Lt(t,r,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Lt(t,r,u)}else a.current=null}function Oy(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Lt(t,t.return,u)}}function Wf(t,r,a){try{var o=t.stateNode;ZT(o,t.type,a,r),o[De]=r}catch(u){Lt(t,t.return,u)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function th(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=yu));else if(o!==4&&(o===27&&Zi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(eh(t,r,a),t=t.sibling;t!==null;)eh(t,r,a),t=t.sibling}function au(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&Zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(au(t,r,a),t=t.sibling;t!==null;)au(t,r,a),t=t.sibling}function ky(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);de(r,o,a),r[Se]=t,r[De]=a}catch(f){Lt(t,t.return,f)}}var fr=!1,_t=!1,nh=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,ue=null;function CT(t,r){if(t=t.containerInfo,xh=Au,t=Hg(t),Wc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,b=-1,k=0,M=0,q=t,R=null;e:for(;;){for(var B;q!==a||u!==0&&q.nodeType!==3||(S=m+u),q!==f||o!==0&&q.nodeType!==3||(b=m+o),q.nodeType===3&&(m+=q.nodeValue.length),(B=q.firstChild)!==null;)R=q,q=B;for(;;){if(q===t)break e;if(R===a&&++k===u&&(S=m),R===f&&++M===o&&(b=m),(B=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=B}a=S===-1||b===-1?null:{start:S,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dh={focusedElem:t,selectionRange:a},Au=!1,ue=r;ue!==null;)if(r=ue,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,ue=t;else for(;ue!==null;){switch(r=ue,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=Na(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(at){Lt(a,a.return,at)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)kh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,ue=t;break}ue=r.return}}function By(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(t,a),o&4&&Ao(5,a);break;case 1:if(Hi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(m){Lt(a,a.return,m)}else{var u=Na(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(u,r,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Lt(a,a.return,m)}}o&64&&xy(a),o&512&&Eo(a,a.return);break;case 3:if(Hi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{dm(t,r)}catch(m){Lt(a,a.return,m)}}break;case 27:r===null&&o&4&&ky(a);case 26:case 5:Hi(t,a),r===null&&o&4&&Oy(a),o&512&&Eo(a,a.return);break;case 12:Hi(t,a);break;case 13:Hi(t,a),o&4&&My(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qT.bind(null,a),nb(t,a))));break;case 22:if(o=a.memoizedState!==null||fr,!o){r=r!==null&&r.memoizedState!==null||_t,u=fr;var f=_t;fr=o,(_t=r)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Hi(t,a),fr=u,_t=f}break;case 30:break;default:Hi(t,a)}}function Iy(t){var r=t.alternate;r!==null&&(t.alternate=null,Iy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&zc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jt=null,ke=!1;function hr(t,r,a){for(a=a.child;a!==null;)zy(t,r,a),a=a.sibling}function zy(t,r,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ys,a)}catch{}switch(a.tag){case 26:_t||Mn(a,r),hr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Mn(a,r);var o=jt,u=ke;Zi(a.type)&&(jt=a.stateNode,ke=!1),hr(t,r,a),Io(a.stateNode),jt=o,ke=u;break;case 5:_t||Mn(a,r);case 6:if(o=jt,u=ke,jt=null,hr(t,r,a),jt=o,ke=u,jt!==null)if(ke)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(f){Lt(a,r,f)}else try{jt.removeChild(a.stateNode)}catch(f){Lt(a,r,f)}break;case 18:jt!==null&&(ke?(t=jt,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vo(t)):wp(jt,a.stateNode));break;case 4:o=jt,u=ke,jt=a.stateNode.containerInfo,ke=!0,hr(t,r,a),jt=o,ke=u;break;case 0:case 11:case 14:case 15:_t||Vi(2,a,r),_t||Vi(4,a,r),hr(t,r,a);break;case 1:_t||(Mn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,r,o)),hr(t,r,a);break;case 21:hr(t,r,a);break;case 22:_t=(o=_t)||a.memoizedState!==null,hr(t,r,a),_t=o;break;default:hr(t,r,a)}}function My(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(a){Lt(r,r.return,a)}}function kT(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ry),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ry),r;default:throw Error(i(435,t.tag))}}function rh(t,r){var a=kT(t);r.forEach(function(o){var u=JT.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function je(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,m=r,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(Zi(S.type)){jt=S.stateNode,ke=!1;break t}break;case 5:jt=S.stateNode,ke=!1;break t;case 3:case 4:jt=S.stateNode.containerInfo,ke=!0;break t}S=S.return}if(jt===null)throw Error(i(160));zy(f,m,u),jt=null,ke=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Uy(r,t),r=r.sibling}var En=null;function Uy(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:je(r,t),Ye(t),o&4&&(Vi(3,t,t.return),Ao(3,t),Vi(5,t,t.return));break;case 1:je(r,t),Ye(t),o&512&&(_t||a===null||Mn(a,a.return)),o&64&&fr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=En;if(je(r,t),Ye(t),o&512&&(_t||a===null||Mn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[$s]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),de(f,o,a),f[Se]=t,oe(f),o=f;break t;case"link":var m=kp("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;case"meta":if(m=kp("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[Se]=t,oe(f),o=f}t.stateNode=o}else Rp(u,t.type,t.stateNode);else t.stateNode=Cp(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Rp(u,t.type,t.stateNode):Cp(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:je(r,t),Ye(t),o&512&&(_t||a===null||Mn(a,a.return)),a!==null&&o&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(je(r,t),Ye(t),o&512&&(_t||a===null||Mn(a,a.return)),t.flags&32){u=t.stateNode;try{$a(u,"")}catch(B){Lt(t,t.return,B)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Wf(t,u,a!==null?a.memoizedProps:u)),o&1024&&(nh=!0);break;case 6:if(je(r,t),Ye(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){Lt(t,t.return,B)}}break;case 3:if(Tu=null,u=En,En=vu(r.containerInfo),je(r,t),En=u,Ye(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Vo(r.containerInfo)}catch(B){Lt(t,t.return,B)}nh&&(nh=!1,Ly(t));break;case 4:o=En,En=vu(t.stateNode.containerInfo),je(r,t),Ye(t),En=o;break;case 12:je(r,t),Ye(t);break;case 13:je(r,t),Ye(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uh=Bn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rh(t,o)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,k=fr,M=_t;if(fr=k||u,_t=M||b,je(r,t),_t=M,fr=k,Ye(t),o&8192)t:for(r=t.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||b||fr||_t||xa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){b=a=r;try{if(f=b.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=b.stateNode;var q=b.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(B){Lt(b,b.return,B)}}}else if(r.tag===6){if(a===null){b=r;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(B){Lt(b,b.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rh(t,a))));break;case 19:je(r,t),Ye(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rh(t,o)));break;case 30:break;case 21:break;default:je(r,t),Ye(t)}}function Ye(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=th(t);au(t,f,u);break;case 5:var m=a.stateNode;a.flags&32&&($a(m,""),a.flags&=-33);var S=th(t);au(t,S,m);break;case 3:case 4:var b=a.stateNode.containerInfo,k=th(t);eh(t,k,b);break;default:throw Error(i(161))}}catch(M){Lt(t,t.return,M)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ly(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Hi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)By(t,r.alternate,r),r=r.sibling}function xa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Vi(4,r,r.return),xa(r);break;case 1:Mn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Dy(r,r.return,a),xa(r);break;case 27:Io(r.stateNode);case 26:case 5:Mn(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}t=t.sibling}}function ji(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=t,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:ji(u,f,a),Ao(4,f);break;case 1:if(ji(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Lt(o,o.return,k)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)hm(b[u],S)}catch(k){Lt(o,o.return,k)}}a&&m&64&&xy(f),Eo(f,f.return);break;case 27:ky(f);case 26:case 5:ji(u,f,a),a&&o===null&&m&4&&Oy(f),Eo(f,f.return);break;case 12:ji(u,f,a);break;case 13:ji(u,f,a),a&&m&4&&My(u,f);break;case 22:f.memoizedState===null&&ji(u,f,a),Eo(f,f.return);break;case 30:break;default:ji(u,f,a)}r=r.sibling}}function ih(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lo(a))}function ah(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&lo(t))}function Un(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qy(t,r,a,o),r=r.sibling}function qy(t,r,a,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Un(t,r,a,o),u&2048&&Ao(9,r);break;case 1:Un(t,r,a,o);break;case 3:Un(t,r,a,o),u&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&lo(t)));break;case 12:if(u&2048){Un(t,r,a,o),t=r.stateNode;try{var f=r.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Lt(r,r.return,b)}}else Un(t,r,a,o);break;case 13:Un(t,r,a,o);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?Un(t,r,a,o):No(t,r):f._visibility&2?Un(t,r,a,o):(f._visibility|=2,hs(t,r,a,o,(r.subtreeFlags&10256)!==0)),u&2048&&ih(m,r);break;case 24:Un(t,r,a,o),u&2048&&ah(r.alternate,r);break;default:Un(t,r,a,o)}}function hs(t,r,a,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,m=r,S=a,b=o,k=m.flags;switch(m.tag){case 0:case 11:case 15:hs(f,m,S,b,u),Ao(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?hs(f,m,S,b,u):No(f,m):(M._visibility|=2,hs(f,m,S,b,u)),u&&k&2048&&ih(m.alternate,m);break;case 24:hs(f,m,S,b,u),u&&k&2048&&ah(m.alternate,m);break;default:hs(f,m,S,b,u)}r=r.sibling}}function No(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,u=o.flags;switch(o.tag){case 22:No(a,o),u&2048&&ih(o.alternate,o);break;case 24:No(a,o),u&2048&&ah(o.alternate,o);break;default:No(a,o)}r=r.sibling}}var xo=8192;function ds(t){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 26:ds(t),t.flags&xo&&t.memoizedState!==null&&mb(En,t.memoizedState,t.memoizedProps);break;case 5:ds(t);break;case 3:case 4:var r=En;En=vu(t.stateNode.containerInfo),ds(t),En=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=xo,xo=16777216,ds(t),xo=r):ds(t));break;default:ds(t)}}function Py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Do(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ue=o,Hy(o,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:Do(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:Do(t);break;case 12:Do(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,su(t)):Do(t);break;default:Do(t)}}function su(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ue=o,Hy(o,t)}Py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Vi(8,r,r.return),su(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,su(r));break;default:su(r)}t=t.sibling}}function Hy(t,r){for(;ue!==null;){var a=ue;switch(a.tag){case 0:case 11:case 15:Vi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ue=o;else t:for(a=t;ue!==null;){o=ue;var u=o.sibling,f=o.return;if(Iy(o),o===a){ue=null;break t}if(u!==null){u.return=f,ue=u;break t}ue=f}}}var RT={getCacheForType:function(t){var r=Te(ie),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},BT=typeof WeakMap=="function"?WeakMap:Map,kt=0,Pt=null,pt=null,bt=0,Rt=0,Ge=null,Yi=!1,gs=!1,sh=!1,dr=0,Xt=0,Gi=0,Da=0,oh=0,sn=0,ms=0,Oo=null,Re=null,lh=!1,uh=0,ou=1/0,lu=null,Ki=null,he=0,$i=null,ys=null,ps=0,ch=0,fh=null,jy=null,Co=0,hh=null;function Ke(){if((kt&2)!==0&&bt!==0)return bt&-bt;if(U.T!==null){var t=is;return t!==0?t:Sh()}return ag()}function Yy(){sn===0&&(sn=(bt&536870912)===0||Dt?eg():536870912);var t=an.current;return t!==null&&(t.flags|=32),sn}function $e(t,r,a){(t===Pt&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)&&(vs(t,0),Xi(t,bt,sn,!1)),Ks(t,a),((kt&2)===0||t!==Pt)&&(t===Pt&&((kt&2)===0&&(Da|=a),Xt===4&&Xi(t,bt,sn,!1)),Ln(t))}function Gy(t,r,a){if((kt&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Gs(t,r),u=o?MT(t,r):mh(t,r,!0),f=o;do{if(u===0){gs&&!o&&Xi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!IT(a)){u=mh(t,r,!1),f=!1;continue}if(u===2){if(f=r,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;t:{var S=t;u=Oo;var b=S.current.memoizedState.isDehydrated;if(b&&(vs(S,m).flags|=256),m=mh(S,m,!1),m!==2){if(sh&&!b){S.errorRecoveryDisabledLanes|=f,Da|=f,u=4;break t}f=Re,Re=u,f!==null&&(Re===null?Re=f:Re.push.apply(Re,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){vs(t,0),Xi(t,r,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Xi(o,r,sn,!Yi);break t;case 2:Re=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=uh+300-Bn(),10<u)){if(Xi(o,r,sn,!Yi),Sl(o,0,!0)!==0)break t;o.timeoutHandle=Tp(Ky.bind(null,o,a,Re,lu,lh,r,sn,Da,ms,Yi,f,2,-0,0),u);break t}Ky(o,a,Re,lu,lh,r,sn,Da,ms,Yi,f,0,-0,0)}}break}while(!0);Ln(t)}function Ky(t,r,a,o,u,f,m,S,b,k,M,q,R,B){if(t.timeoutHandle=-1,q=r.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:gb},Jy(r),q=yb(),q!==null)){t.cancelPendingCommit=q(Wy.bind(null,t,r,f,a,o,u,m,S,b,M,1,R,B)),Xi(t,f,m,!k);return}Wy(t,r,f,a,o,u,m,S,b)}function IT(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Ve(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xi(t,r,a,o){r&=~oh,r&=~Da,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var u=r;0<u;){var f=31-Pe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&rg(t,a,r)}function uu(){return(kt&6)===0?(ko(0),!1):!0}function dh(){if(pt!==null){if(Rt===0)var t=pt.return;else t=pt,ar=ba=null,kf(t),cs=null,To=0,t=pt;for(;t!==null;)Ny(t.alternate,t),t=t.return;pt=null}}function vs(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dh(),Pt=t,pt=a=nr(t.current,null),bt=r,Rt=0,Ge=null,Yi=!1,gs=Gs(t,r),sh=!1,ms=sn=oh=Da=Gi=Xt=0,Re=Oo=null,lh=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var u=31-Pe(o),f=1<<u;r|=t[u],o&=~f}return dr=r,Rl(),a}function $y(t,r){gt=null,U.H=Ql,r===co||r===Pl?(r=cm(),Rt=3):r===om?(r=cm(),Rt=4):Rt=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ge=r,pt===null&&(Xt=1,eu(t,tn(r,t.current)))}function Xy(){var t=U.H;return U.H=Ql,t===null?Ql:t}function Zy(){var t=U.A;return U.A=RT,t}function gh(){Xt=4,Yi||(bt&4194048)!==bt&&an.current!==null||(gs=!0),(Gi&134217727)===0&&(Da&134217727)===0||Pt===null||Xi(Pt,bt,sn,!1)}function mh(t,r,a){var o=kt;kt|=2;var u=Xy(),f=Zy();(Pt!==t||bt!==r)&&(lu=null,vs(t,r)),r=!1;var m=Xt;t:do try{if(Rt!==0&&pt!==null){var S=pt,b=Ge;switch(Rt){case 8:dh(),m=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(r=!0);var k=Rt;if(Rt=0,Ge=null,Ss(t,S,b,k),a&&gs){m=0;break t}break;default:k=Rt,Rt=0,Ge=null,Ss(t,S,b,k)}}zT(),m=Xt;break}catch(M){$y(t,M)}while(!0);return r&&t.shellSuspendCounter++,ar=ba=null,kt=o,U.H=u,U.A=f,pt===null&&(Pt=null,bt=0,Rl()),m}function zT(){for(;pt!==null;)Qy(pt)}function MT(t,r){var a=kt;kt|=2;var o=Xy(),u=Zy();Pt!==t||bt!==r?(lu=null,ou=Bn()+500,vs(t,r)):gs=Gs(t,r);t:do try{if(Rt!==0&&pt!==null){r=pt;var f=Ge;e:switch(Rt){case 1:Rt=0,Ge=null,Ss(t,r,f,1);break;case 2:case 9:if(lm(f)){Rt=0,Ge=null,Fy(r);break}r=function(){Rt!==2&&Rt!==9||Pt!==t||(Rt=7),Ln(t)},f.then(r,r);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:lm(f)?(Rt=0,Ge=null,Fy(r)):(Rt=0,Ge=null,Ss(t,r,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||Bp(m)){Rt=0,Ge=null;var b=S.sibling;if(b!==null)pt=b;else{var k=S.return;k!==null?(pt=k,cu(k)):pt=null}break e}}Rt=0,Ge=null,Ss(t,r,f,5);break;case 6:Rt=0,Ge=null,Ss(t,r,f,6);break;case 8:dh(),Xt=6;break t;default:throw Error(i(462))}}UT();break}catch(M){$y(t,M)}while(!0);return ar=ba=null,U.H=o,U.A=u,kt=a,pt!==null?0:(Pt=null,bt=0,Rl(),Xt)}function UT(){for(;pt!==null&&!iS();)Qy(pt)}function Qy(t){var r=Ay(t.alternate,t,dr);t.memoizedProps=t.pendingProps,r===null?cu(t):pt=r}function Fy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=py(a,r,r.pendingProps,r.type,void 0,bt);break;case 11:r=py(a,r,r.pendingProps,r.type.render,r.ref,bt);break;case 5:kf(r);default:Ny(a,r),r=pt=_g(r,dr),r=Ay(a,r,dr)}t.memoizedProps=t.pendingProps,r===null?cu(t):pt=r}function Ss(t,r,a,o){ar=ba=null,kf(r),cs=null,To=0;var u=r.return;try{if(NT(t,u,r,a,bt)){Xt=1,eu(t,tn(a,t.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Xt=1,eu(t,tn(a,t.current)),pt=null;return}r.flags&32768?(Dt||o===1?t=!0:gs||(bt&536870912)!==0?t=!1:(Yi=t=!0,(o===2||o===9||o===3||o===6)&&(o=an.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(r,t)):cu(r)}function cu(t){var r=t;do{if((r.flags&32768)!==0){_y(r,Yi);return}t=r.return;var a=DT(r.alternate,r,dr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=t}while(r!==null);Xt===0&&(Xt=5)}function _y(t,r){do{var a=OT(t.alternate,t);if(a!==null){a.flags&=32767,pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){pt=t;return}pt=t=a}while(t!==null);Xt=6,pt=null}function Wy(t,r,a,o,u,f,m,S,b){t.cancelPendingCommit=null;do fu();while(he!==0);if((kt&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=af,gS(t,a,f,m,S,b),t===Pt&&(pt=Pt=null,bt=0),ys=r,$i=t,ps=a,ch=f,fh=u,jy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PT(yl,function(){return ip(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=K.p,K.p=2,m=kt,kt|=4;try{CT(t,r,a)}finally{kt=m,K.p=u,U.T=o}}he=1,tp(),ep(),np()}}function tp(){if(he===1){he=0;var t=$i,r=ys,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=kt;kt|=4;try{Uy(r,t);var f=Dh,m=Hg(t.containerInfo),S=f.focusedElem,b=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(b!==null&&Wc(S)){var k=b.start,M=b.end;if(M===void 0&&(M=k),"selectionStart"in S)S.selectionStart=k,S.selectionEnd=Math.min(M,S.value.length);else{var q=S.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var B=R.getSelection(),lt=S.textContent.length,at=Math.min(b.start,lt),Mt=b.end===void 0?at:Math.min(b.end,lt);!B.extend&&at>Mt&&(m=Mt,Mt=at,at=m);var E=Pg(S,at),A=Pg(S,Mt);if(E&&A&&(B.rangeCount!==1||B.anchorNode!==E.node||B.anchorOffset!==E.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var O=q.createRange();O.setStart(E.node,E.offset),B.removeAllRanges(),at>Mt?(B.addRange(O),B.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),B.addRange(O))}}}}for(q=[],B=S;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var L=q[S];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Au=!!xh,Dh=xh=null}finally{kt=u,K.p=o,U.T=a}}t.current=r,he=2}}function ep(){if(he===2){he=0;var t=$i,r=ys,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=kt;kt|=4;try{By(t,r.alternate,r)}finally{kt=u,K.p=o,U.T=a}}he=3}}function np(){if(he===4||he===3){he=0,aS();var t=$i,r=ys,a=ps,o=jy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?he=5:(he=0,ys=$i=null,rp(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ki=null),Bc(a),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ys,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=U.T,u=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{U.T=r,K.p=u}}(ps&3)!==0&&fu(),Ln(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===hh?Co++:(Co=0,hh=t):Co=0,ko(0)}}function rp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,lo(r)))}function fu(t){return tp(),ep(),np(),ip()}function ip(){if(he!==5)return!1;var t=$i,r=ch;ch=0;var a=Bc(ps),o=U.T,u=K.p;try{K.p=32>a?32:a,U.T=null,a=fh,fh=null;var f=$i,m=ps;if(he=0,ys=$i=null,ps=0,(kt&6)!==0)throw Error(i(331));var S=kt;if(kt|=4,Vy(f.current),qy(f,f.current,m,a),kt=S,ko(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ys,f)}catch{}return!0}finally{K.p=u,U.T=o,rp(t,r)}}function ap(t,r,a){r=tn(a,r),r=Yf(t.stateNode,r,2),t=Li(t,r,2),t!==null&&(Ks(t,2),Ln(t))}function Lt(t,r,a){if(t.tag===3)ap(t,t,a);else for(;r!==null;){if(r.tag===3){ap(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){t=tn(a,t),a=uy(2),o=Li(r,a,2),o!==null&&(cy(a,o,r,t),Ks(o,2),Ln(o));break}}r=r.return}}function yh(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new BT;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(sh=!0,u.add(a),t=LT.bind(null,t,r,a),r.then(t,t))}function LT(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Pt===t&&(bt&a)===a&&(Xt===4||Xt===3&&(bt&62914560)===bt&&300>Bn()-uh?(kt&2)===0&&vs(t,0):oh|=a,ms===bt&&(ms=0)),Ln(t)}function sp(t,r){r===0&&(r=ng()),t=ts(t,r),t!==null&&(Ks(t,r),Ln(t))}function qT(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),sp(t,a)}function JT(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),sp(t,a)}function PT(t,r){return Oc(t,r)}var hu=null,Ts=null,ph=!1,du=!1,vh=!1,Oa=0;function Ln(t){t!==Ts&&t.next===null&&(Ts===null?hu=Ts=t:Ts=Ts.next=t),du=!0,ph||(ph=!0,HT())}function ko(t,r){if(!vh&&du){vh=!0;do for(var a=!1,o=hu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Pe(42|t)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,cp(o,f))}else f=bt,f=Sl(o,o===Pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gs(o,f)||(a=!0,cp(o,f));o=o.next}while(a);vh=!1}}function VT(){op()}function op(){du=ph=!1;var t=0;Oa!==0&&(QT()&&(t=Oa),Oa=0);for(var r=Bn(),a=null,o=hu;o!==null;){var u=o.next,f=lp(o,r);f===0?(o.next=null,a===null?hu=u:a.next=u,u===null&&(Ts=a)):(a=o,(t!==0||(f&3)!==0)&&(du=!0)),o=u}ko(t)}function lp(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-Pe(f),S=1<<m,b=u[m];b===-1?((S&a)===0||(S&o)!==0)&&(u[m]=dS(S,r)):b<=r&&(t.expiredLanes|=S),f&=~S}if(r=Pt,a=bt,a=Sl(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Cc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Cc(o),Bc(a)){case 2:case 8:a=Wd;break;case 32:a=yl;break;case 268435456:a=tg;break;default:a=yl}return o=up.bind(null,t),a=Oc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Cc(o),t.callbackPriority=2,t.callbackNode=null,2}function up(t,r){if(he!==0&&he!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fu()&&t.callbackNode!==a)return null;var o=bt;return o=Sl(t,t===Pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,r),lp(t,Bn()),t.callbackNode!=null&&t.callbackNode===a?up.bind(null,t):null)}function cp(t,r){if(fu())return null;Gy(t,r,!0)}function HT(){_T(function(){(kt&6)!==0?Oc(_d,VT):op()})}function Sh(){return Oa===0&&(Oa=eg()),Oa}function fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:El(""+t)}function hp(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function jT(t,r,a,o,u){if(r==="submit"&&a&&a.stateNode===u){var f=fp((u[De]||null).action),m=o.submitter;m&&(r=(r=m[De]||null)?fp(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var S=new Ol("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Oa!==0){var b=m?hp(u,m):new FormData(u);Jf(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(S.preventDefault(),b=m?hp(u,m):new FormData(u),Jf(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Th=0;Th<rf.length;Th++){var bh=rf[Th],YT=bh.toLowerCase(),GT=bh[0].toUpperCase()+bh.slice(1);An(YT,"on"+GT)}An(Gg,"onAnimationEnd"),An(Kg,"onAnimationIteration"),An($g,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(lT,"onTransitionRun"),An(uT,"onTransitionStart"),An(cT,"onTransitionCancel"),An(Xg,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function dp(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(r)for(var m=o.length-1;0<=m;m--){var S=o[m],b=S.instance,k=S.currentTarget;if(S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=k;try{f(u)}catch(M){tu(M)}u.currentTarget=null,f=b}else for(m=0;m<o.length;m++){if(S=o[m],b=S.instance,k=S.currentTarget,S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=k;try{f(u)}catch(M){tu(M)}u.currentTarget=null,f=b}}}}function vt(t,r){var a=r[Ic];a===void 0&&(a=r[Ic]=new Set);var o=t+"__bubble";a.has(o)||(gp(r,t,2,!1),a.add(o))}function wh(t,r,a){var o=0;r&&(o|=4),gp(a,t,o,r)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Ah(t){if(!t[gu]){t[gu]=!0,og.forEach(function(a){a!=="selectionchange"&&(KT.has(a)||wh(a,!1,t),wh(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gu]||(r[gu]=!0,wh("selectionchange",!1,r))}}function gp(t,r,a,o){switch(qp(r)){case 2:var u=Sb;break;case 8:u=Tb;break;default:u=Lh}a=u.bind(null,r,a,t),u=void 0,!Yc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(r,a,{capture:!0,passive:u}):t.addEventListener(r,a,!0):u!==void 0?t.addEventListener(r,a,{passive:u}):t.addEventListener(r,a,!1)}function Eh(t,r,a,o,u){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=Va(S),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){o=f=m;continue t}S=S.parentNode}}o=o.return}bg(function(){var k=f,M=Hc(a),q=[];t:{var R=Zg.get(t);if(R!==void 0){var B=Ol,lt=t;switch(t){case"keypress":if(xl(a)===0)break t;case"keydown":case"keyup":B=PS;break;case"focusin":lt="focus",B=Xc;break;case"focusout":lt="blur",B=Xc;break;case"beforeblur":case"afterblur":B=Xc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=jS;break;case Gg:case Kg:case $g:B=RS;break;case Xg:B=GS;break;case"scroll":case"scrollend":B=xS;break;case"wheel":B=$S;break;case"copy":case"cut":case"paste":B=IS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=xg;break;case"toggle":case"beforetoggle":B=ZS}var at=(r&4)!==0,Mt=!at&&(t==="scroll"||t==="scrollend"),E=at?R!==null?R+"Capture":null:R;at=[];for(var A=k,O;A!==null;){var L=A;if(O=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||O===null||E===null||(L=Zs(A,E),L!=null&&at.push(Bo(A,L,O))),Mt)break;A=A.return}0<at.length&&(R=new B(R,lt,null,a,M),q.push({event:R,listeners:at}))}}if((r&7)===0){t:{if(R=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",R&&a!==Vc&&(lt=a.relatedTarget||a.fromElement)&&(Va(lt)||lt[Pa]))break t;if((B||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,B?(lt=a.relatedTarget||a.toElement,B=k,lt=lt?Va(lt):null,lt!==null&&(Mt=c(lt),at=lt.tag,lt!==Mt||at!==5&&at!==27&&at!==6)&&(lt=null)):(B=null,lt=k),B!==lt)){if(at=Eg,L="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(at=xg,L="onPointerLeave",E="onPointerEnter",A="pointer"),Mt=B==null?R:Xs(B),O=lt==null?R:Xs(lt),R=new at(L,A+"leave",B,a,M),R.target=Mt,R.relatedTarget=O,L=null,Va(M)===k&&(at=new at(E,A+"enter",lt,a,M),at.target=O,at.relatedTarget=Mt,L=at),Mt=L,B&&lt)e:{for(at=B,E=lt,A=0,O=at;O;O=bs(O))A++;for(O=0,L=E;L;L=bs(L))O++;for(;0<A-O;)at=bs(at),A--;for(;0<O-A;)E=bs(E),O--;for(;A--;){if(at===E||E!==null&&at===E.alternate)break e;at=bs(at),E=bs(E)}at=null}else at=null;B!==null&&mp(q,R,B,at,!1),lt!==null&&Mt!==null&&mp(q,Mt,lt,at,!0)}}t:{if(R=k?Xs(k):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var X=zg;else if(Bg(R))if(Mg)X=aT;else{X=rT;var mt=nT}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?k&&Pc(k.elementType)&&(X=zg):X=iT;if(X&&(X=X(t,k))){Ig(q,X,a,M);break t}mt&&mt(t,R,k),t==="focusout"&&k&&R.type==="number"&&k.memoizedProps.value!=null&&Jc(R,"number",R.value)}switch(mt=k?Xs(k):window,t){case"focusin":(Bg(mt)||mt.contentEditable==="true")&&(Fa=mt,tf=k,ro=null);break;case"focusout":ro=tf=Fa=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,jg(q,a,M);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":jg(q,a,M)}var Q;if(Qc)t:{switch(t){case"compositionstart":var st="onCompositionStart";break t;case"compositionend":st="onCompositionEnd";break t;case"compositionupdate":st="onCompositionUpdate";break t}st=void 0}else Qa?kg(t,a)&&(st="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(st="onCompositionStart");st&&(Dg&&a.locale!=="ko"&&(Qa||st!=="onCompositionStart"?st==="onCompositionEnd"&&Qa&&(Q=wg()):(Ii=M,Gc="value"in Ii?Ii.value:Ii.textContent,Qa=!0)),mt=mu(k,st),0<mt.length&&(st=new Ng(st,t,null,a,M),q.push({event:st,listeners:mt}),Q?st.data=Q:(Q=Rg(a),Q!==null&&(st.data=Q)))),(Q=FS?_S(t,a):WS(t,a))&&(st=mu(k,"onBeforeInput"),0<st.length&&(mt=new Ng("onBeforeInput","beforeinput",null,a,M),q.push({event:mt,listeners:st}),mt.data=Q)),jT(q,t,k,a,M)}dp(q,r)})}function Bo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function mu(t,r){for(var a=r+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Zs(t,a),u!=null&&o.unshift(Bo(t,u,f)),u=Zs(t,r),u!=null&&o.push(Bo(t,u,f))),t.tag===3)return o;t=t.return}return[]}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mp(t,r,a,o,u){for(var f=r._reactName,m=[];a!==null&&a!==o;){var S=a,b=S.alternate,k=S.stateNode;if(S=S.tag,b!==null&&b===o)break;S!==5&&S!==26&&S!==27||k===null||(b=k,u?(k=Zs(a,f),k!=null&&m.unshift(Bo(a,k,b))):u||(k=Zs(a,f),k!=null&&m.push(Bo(a,k,b)))),a=a.return}m.length!==0&&t.push({event:r,listeners:m})}var $T=/\r\n?/g,XT=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(XT,"")}function pp(t,r){return r=yp(r),yp(t)===r}function yu(){}function zt(t,r,a,o,u,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||$a(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&$a(t,""+o);break;case"className":bl(t,"class",o);break;case"tabIndex":bl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(t,a,o);break;case"style":Sg(t,o,f);break;case"data":if(r!=="object"){bl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=El(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&zt(t,r,"name",u.name,u,null),zt(t,r,"formEncType",u.formEncType,u,null),zt(t,r,"formMethod",u.formMethod,u,null),zt(t,r,"formTarget",u.formTarget,u,null)):(zt(t,r,"encType",u.encType,u,null),zt(t,r,"method",u.method,u,null),zt(t,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=El(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=yu);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=El(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":vt("beforetoggle",t),vt("toggle",t),Tl(t,"popover",o);break;case"xlinkActuate":tr(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tr(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tr(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tr(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tr(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tr(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tr(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Tl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ES.get(a)||a,Tl(t,a,o))}}function Nh(t,r,a,o,u,f){switch(a){case"style":Sg(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?$a(t,o):(typeof o=="number"||typeof o=="bigint")&&$a(t,""+o);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=t[De]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Tl(t,a,o)}}}function de(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(t,r,f,m,a,null)}}u&&zt(t,r,"srcSet",a.srcSet,a,null),o&&zt(t,r,"src",a.src,a,null);return;case"input":vt("invalid",t);var S=f=m=u=null,b=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":b=M;break;case"defaultChecked":k=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,r));break;default:zt(t,r,o,M,a,null)}}mg(t,f,S,b,k,m,u,!1),wl(t);return;case"select":vt("invalid",t),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:zt(t,r,u,S,a,null)}r=f,a=m,t.multiple=!!o,r!=null?Ka(t,!!o,r,!1):a!=null&&Ka(t,!!o,a,!0);return;case"textarea":vt("invalid",t),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:zt(t,r,m,S,a,null)}pg(t,o,u,f),wl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(t,r,b,o,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)vt(Ro[o],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(t,r,k,o,a,null)}return;default:if(Pc(r)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&Nh(t,r,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&zt(t,r,S,o,a,null))}function ZT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,b=null,k=null,M=null;for(B in a){var q=a[B];if(a.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=q;default:o.hasOwnProperty(B)||zt(t,r,B,null,o,q)}}for(var R in o){var B=o[R];if(q=a[R],o.hasOwnProperty(R)&&(B!=null||q!=null))switch(R){case"type":f=B;break;case"name":u=B;break;case"checked":k=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==q&&zt(t,r,R,B,o,q)}}qc(t,m,S,b,k,M,f,u);return;case"select":B=m=S=R=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||zt(t,r,f,null,o,b)}for(u in o)if(f=o[u],b=a[u],o.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":R=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==b&&zt(t,r,u,f,o,b)}r=S,a=m,o=B,R!=null?Ka(t,!!a,R,!1):!!o!=!!a&&(r!=null?Ka(t,!!a,r,!0):Ka(t,!!a,a?[]:"",!1));return;case"textarea":B=R=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:zt(t,r,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":R=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&zt(t,r,m,u,o,f)}yg(t,R,B);return;case"option":for(var lt in a)if(R=a[lt],a.hasOwnProperty(lt)&&R!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:zt(t,r,lt,null,o,R)}for(b in o)if(R=o[b],B=a[b],o.hasOwnProperty(b)&&R!==B&&(R!=null||B!=null))switch(b){case"selected":t.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:zt(t,r,b,R,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in a)R=a[at],a.hasOwnProperty(at)&&R!=null&&!o.hasOwnProperty(at)&&zt(t,r,at,null,o,R);for(k in o)if(R=o[k],B=a[k],o.hasOwnProperty(k)&&R!==B&&(R!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,r));break;default:zt(t,r,k,R,o,B)}return;default:if(Pc(r)){for(var Mt in a)R=a[Mt],a.hasOwnProperty(Mt)&&R!==void 0&&!o.hasOwnProperty(Mt)&&Nh(t,r,Mt,void 0,o,R);for(M in o)R=o[M],B=a[M],!o.hasOwnProperty(M)||R===B||R===void 0&&B===void 0||Nh(t,r,M,R,o,B);return}}for(var E in a)R=a[E],a.hasOwnProperty(E)&&R!=null&&!o.hasOwnProperty(E)&&zt(t,r,E,null,o,R);for(q in o)R=o[q],B=a[q],!o.hasOwnProperty(q)||R===B||R==null&&B==null||zt(t,r,q,R,o,B)}var xh=null,Dh=null;function pu(t){return t.nodeType===9?t:t.ownerDocument}function vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Oh(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ch=null;function QT(){var t=window.event;return t&&t.type==="popstate"?t===Ch?!1:(Ch=t,!0):(Ch=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(t){return bp.resolve(null).then(t).catch(WT)}:Tp;function WT(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function wp(t,r){var a=r,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=t.ownerDocument;if(a&1&&Io(m.documentElement),a&2&&Io(m.body),a&4)for(a=m.head,Io(a),m=a.firstChild;m;){var S=m.nextSibling,b=m.nodeName;m[$s]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){t.removeChild(f),Vo(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Vo(r)}function kh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kh(a),zc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tb(t,r,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[$s])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function eb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function Rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nb(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Nn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Bh=null;function Ap(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Ep(t,r,a){switch(r=pu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Io(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);zc(t)}var on=new Map,Np=new Set;function vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gr=K.d;K.d={f:rb,r:ib,D:ab,C:sb,L:ob,m:lb,X:cb,S:ub,M:fb};function rb(){var t=gr.f(),r=uu();return t||r}function ib(t){var r=Ha(t);r!==null&&r.tag===5&&r.type==="form"?Gm(r):gr.r(t)}var ws=typeof document>"u"?null:document;function xp(t,r,a){var o=ws;if(o&&typeof r=="string"&&r){var u=We(r);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Np.has(u)||(Np.add(u),t={rel:t,crossOrigin:a,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),de(r,"link",t),oe(r),o.head.appendChild(r)))}}function ab(t){gr.D(t),xp("dns-prefetch",t,null)}function sb(t,r){gr.C(t,r),xp("preconnect",t,r)}function ob(t,r,a){gr.L(t,r,a);var o=ws;if(o&&t&&r){var u='link[rel="preload"][as="'+We(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+We(a.imageSizes)+'"]')):u+='[href="'+We(t)+'"]';var f=u;switch(r){case"style":f=As(t);break;case"script":f=Es(t)}on.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),on.set(f,t),o.querySelector(u)!==null||r==="style"&&o.querySelector(zo(f))||r==="script"&&o.querySelector(Mo(f))||(r=o.createElement("link"),de(r,"link",t),oe(r),o.head.appendChild(r)))}}function lb(t,r){gr.m(t,r);var a=ws;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+We(o)+'"][href="'+We(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Es(t)}if(!on.has(f)&&(t=T({rel:"modulepreload",href:t},r),on.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Mo(f)))return}o=a.createElement("link"),de(o,"link",t),oe(o),a.head.appendChild(o)}}}function ub(t,r,a){gr.S(t,r,a);var o=ws;if(o&&t){var u=ja(o).hoistableStyles,f=As(t);r=r||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(zo(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=on.get(f))&&Ih(t,a);var b=m=o.createElement("link");oe(b),de(b,"link",t),b._p=new Promise(function(k,M){b.onload=k,b.onerror=M}),b.addEventListener("load",function(){S.loading|=1}),b.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Su(m,r,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function cb(t,r){gr.X(t,r);var a=ws;if(a&&t){var o=ja(a).hoistableScripts,u=Es(t),f=o.get(u);f||(f=a.querySelector(Mo(u)),f||(t=T({src:t,async:!0},r),(r=on.get(u))&&zh(t,r),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function fb(t,r){gr.M(t,r);var a=ws;if(a&&t){var o=ja(a).hoistableScripts,u=Es(t),f=o.get(u);f||(f=a.querySelector(Mo(u)),f||(t=T({src:t,async:!0,type:"module"},r),(r=on.get(u))&&zh(t,r),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Dp(t,r,a,o){var u=(u=ft.current)?vu(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=As(a.href),a=ja(u).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var f=ja(u).hoistableStyles,m=f.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=u.querySelector(zo(t)))&&!f._p&&(m.instance=f,m.state.loading=5),on.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},on.set(t,a),f||hb(u,t,a,m.state))),r&&o===null)throw Error(i(528,""));return m}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Es(a),a=ja(u).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function As(t){return'href="'+We(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function Op(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),de(r,"link",a),oe(r),t.head.appendChild(r))}function Es(t){return'[src="'+We(t)+'"]'}function Mo(t){return"script[async]"+t}function Cp(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(o)return r.instance=o,oe(o),o;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),oe(o),de(o,"style",u),Su(o,a.precedence,t),r.instance=o;case"stylesheet":u=As(a.href);var f=t.querySelector(zo(u));if(f)return r.state.loading|=4,r.instance=f,oe(f),f;o=Op(a),(u=on.get(u))&&Ih(o,u),f=(t.ownerDocument||t).createElement("link"),oe(f);var m=f;return m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",o),r.state.loading|=4,Su(f,a.precedence,t),r.instance=f;case"script":return f=Es(a.src),(u=t.querySelector(Mo(f)))?(r.instance=u,oe(u),u):(o=a,(u=on.get(f))&&(o=T({},a),zh(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),oe(u),de(u,"link",o),t.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Su(o,a.precedence,t));return r.instance}function Su(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===r)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Ih(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Tu=null;function kp(t,r,a){if(Tu===null){var o=new Map,u=Tu=new Map;u.set(a,o)}else u=Tu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[$s]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=t+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function Rp(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function db(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Uo=null;function gb(){}function mb(t,r,a){if(Uo===null)throw Error(i(475));var o=Uo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=As(a.href),f=t.querySelector(zo(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=bu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=f,oe(f);return}f=t.ownerDocument||t,a=Op(a),(u=on.get(u))&&Ih(a,u),f=f.createElement("link"),oe(f);var m=f;m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=bu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function yb(){if(Uo===null)throw Error(i(475));var t=Uo;return t.stylesheets&&t.count===0&&Mh(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Mh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Mh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,r.forEach(pb,t),wu=null,bu.call(t))}function pb(t,r){if(!(r.state.loading&4)){var a=wu.get(t);if(a)var o=a.get(null);else{a=new Map,wu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=r.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=bu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),r.state.loading|=4}}var Lo={$$typeof:F,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function vb(t,r,a,o,u,f,m,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ip(t,r,a,o,u,f,m,S,b,k,M,q){return t=new vb(t,r,a,m,S,b,k,q),r=1,f===!0&&(r|=24),f=He(3,null,null,r),t.current=f,f.stateNode=t,r=yf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},Tf(f),t}function zp(t){return t?(t=es,t):es}function Mp(t,r,a,o,u,f){u=zp(u),o.context===null?o.context=u:o.pendingContext=u,o=Ui(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Li(t,o,r),a!==null&&($e(a,t,r),ho(a,t,r))}function Up(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Uh(t,r){Up(t,r),(t=t.alternate)&&Up(t,r)}function Lp(t){if(t.tag===13){var r=ts(t,67108864);r!==null&&$e(r,t,67108864),Uh(t,67108864)}}var Au=!0;function Sb(t,r,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=2,Lh(t,r,a,o)}finally{K.p=f,U.T=u}}function Tb(t,r,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=8,Lh(t,r,a,o)}finally{K.p=f,U.T=u}}function Lh(t,r,a,o){if(Au){var u=qh(o);if(u===null)Eh(t,r,o,Eu,a),Jp(t,o);else if(wb(u,t,r,a,o))o.stopPropagation();else if(Jp(t,o),r&4&&-1<bb.indexOf(t)){for(;u!==null;){var f=Ha(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=fa(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var b=1<<31-Pe(m);S.entanglements[1]|=b,m&=~b}Ln(f),(kt&6)===0&&(ou=Bn()+500,ko(0))}}break;case 13:S=ts(f,2),S!==null&&$e(S,f,2),uu(),Uh(f,2)}if(f=qh(o),f===null&&Eh(t,r,o,Eu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else Eh(t,r,o,null,a)}}function qh(t){return t=Hc(t),Jh(t)}var Eu=null;function Jh(t){if(Eu=null,t=Va(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Eu=t,null}function qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sS()){case _d:return 2;case Wd:return 8;case yl:case oS:return 32;case tg:return 268435456;default:return 32}default:return 32}}var Ph=!1,Qi=null,Fi=null,_i=null,qo=new Map,Jo=new Map,Wi=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,r){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":qo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(r.pointerId)}}function Po(t,r,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},r!==null&&(r=Ha(r),r!==null&&Lp(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),t)}function wb(t,r,a,o,u){switch(r){case"focusin":return Qi=Po(Qi,t,r,a,o,u),!0;case"dragenter":return Fi=Po(Fi,t,r,a,o,u),!0;case"mouseover":return _i=Po(_i,t,r,a,o,u),!0;case"pointerover":var f=u.pointerId;return qo.set(f,Po(qo.get(f)||null,t,r,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Jo.set(f,Po(Jo.get(f)||null,t,r,a,o,u)),!0}return!1}function Pp(t){var r=Va(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,mS(t.priority,function(){if(a.tag===13){var o=Ke();o=Rc(o);var u=ts(a,o);u!==null&&$e(u,a,o),Uh(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=qh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Vc=o,a.target.dispatchEvent(o),Vc=null}else return r=Ha(a),r!==null&&Lp(r),t.blockedOn=a,!1;r.shift()}return!0}function Vp(t,r,a){Nu(t)&&a.delete(r)}function Ab(){Ph=!1,Qi!==null&&Nu(Qi)&&(Qi=null),Fi!==null&&Nu(Fi)&&(Fi=null),_i!==null&&Nu(_i)&&(_i=null),qo.forEach(Vp),Jo.forEach(Vp)}function xu(t,r){t.blockedOn===r&&(t.blockedOn=null,Ph||(Ph=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ab)))}var Du=null;function Hp(t){Du!==t&&(Du=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Du===t&&(Du=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],u=t[r+2];if(typeof o!="function"){if(Jh(o||a)===null)continue;break}var f=Ha(a);f!==null&&(t.splice(r,3),r-=3,Jf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Vo(t){function r(b){return xu(b,t)}Qi!==null&&xu(Qi,t),Fi!==null&&xu(Fi,t),_i!==null&&xu(_i,t),qo.forEach(r),Jo.forEach(r);for(var a=0;a<Wi.length;a++){var o=Wi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)Pp(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[De]||null;if(typeof f=="function")m||Hp(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[De]||null)S=m.formAction;else if(Jh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Hp(a)}}}function Vh(t){this._internalRoot=t}Ou.prototype.render=Vh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=Ke();Mp(a,o,t,r,null,null)},Ou.prototype.unmount=Vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Mp(t.current,2,null,t,null,null),uu(),r[Pa]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var r=ag();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&Pp(t)}};var jp=n.version;if(jp!=="19.1.0")throw Error(i(527,jp,"19.1.0"));K.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Eb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Ys=Cu.inject(Eb),Je=Cu}catch{}}return jo.createRoot=function(t,r){if(!l(t))throw Error(i(299));var a=!1,o="",u=ay,f=sy,m=oy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Ip(t,1,!1,null,null,a,o,u,f,m,S,null),t[Pa]=r.current,Ah(t),new Vh(r)},jo.hydrateRoot=function(t,r,a){if(!l(t))throw Error(i(299));var o=!1,u="",f=ay,m=sy,S=oy,b=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),r=Ip(t,1,!0,r,a??null,o,u,f,m,S,b,k),r.context=zp(null),a=r.current,o=Ke(),o=Rc(o),u=Ui(o),u.callback=null,Li(a,u,o),a=o,r.current.lanes=a,Ks(r,a),Ln(r),t[Pa]=r.current,Ah(t),new Ou(r)},jo.version="19.1.0",jo}var Wp;function qb(){if(Wp)return Yh.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Yh.exports=Lb(),Yh.exports}var Jb=qb();const Pb="@yorkie-js/react",Vb="0.6.23",tv={name:Pb,version:Vb};var St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function ev(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Ct extends Error{constructor(n,e=St.Unknown,i,l,c){super(Hb(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(n,e=St.Unknown){return n instanceof Ct?n:n instanceof Error?n.name=="AbortError"?new Ct(n.message,St.Canceled):new Ct(n.message,e,void 0,void 0,n):new Ct(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ct.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,i=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&i.push(l);continue}const c=e.findMessage(l.type);if(c)try{i.push(c.fromBinary(l.value))}catch{}}return i}}function Hb(s,n){return s.length?`[${ev(n)}] ${s}`:`[${ev(n)}]`}function Qt(s,n){if(!s)throw new Error(n)}const jb=34028234663852886e22,Yb=-34028234663852886e22,Gb=4294967295,Kb=2147483647,$b=-2147483648;function Lu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Kb||s<$b)throw new Error("invalid int 32: "+s)}function ed(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>Gb||s<0)throw new Error("invalid uint 32: "+s)}function Xv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>jb||s<Yb))throw new Error("invalid float 32: "+s)}const Zv=Symbol("@bufbuild/protobuf/enum-type");function Xb(s){const n=s[Zv];return Qt(n,"missing enum type on enum object"),n}function Qv(s,n,e,i){s[Zv]=Fv(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function Fv(s,n,e){const i=Object.create(null),l=Object.create(null),c=[];for(const d of n){const g=_v(d);c.push(g),i[d.name]=g,l[d.no]=g}return{typeName:s,values:c,findName(d){return i[d]},findNumber(d){return l[d]}}}function Zb(s,n,e){const i={};for(const l of n){const c=_v(l);i[c.localName]=c.no,i[c.no]=c.localName}return Qv(i,s,n),i}function _v(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class j{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const i=this.getType(),l=i.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const i=this.getType(),l=i.runtime.json,c=l.makeReadOptions(e);return l.readMessage(i,n,c,this),this}fromJsonString(n,e){let i;try{i=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(i,e)}toBinary(n){const e=this.getType(),i=e.runtime.bin,l=i.makeWriteOptions(n),c=l.writerFactory();return i.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),i=e.runtime.json,l=i.makeWriteOptions(n);return i.writeMessage(this,l)}toJsonString(n){var e;const i=this.toJson(n);return JSON.stringify(i,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Qb(s,n,e,i){var l;const c=(l=i==null?void 0:i.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),d={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(d.prototype,new j),Object.assign(d,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(g,y){return new d().fromBinary(g,y)},fromJson(g,y){return new d().fromJson(g,y)},fromJsonString(g,y){return new d().fromJsonString(g,y)},equals(g,y){return s.util.equals(d,g,y)}}),d}function Fb(){let s=0,n=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function Xh(s,n,e){for(let c=0;c<28;c=c+7){const d=s>>>c,g=!(!(d>>>7)&&n==0),y=(g?d|128:d)&255;if(e.push(y),!g)return}const i=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const d=n>>>c,g=!!(d>>>7),y=(g?d|128:d)&255;if(e.push(y),!g)return}e.push(n>>>31&1)}}const qu=4294967296;function nv(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let i=0,l=0;function c(d,g){const y=Number(s.slice(d,g));l*=e,i=i*e+y,i>=qu&&(l=l+(i/qu|0),i=i%qu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?t0(i,l):Bd(i,l)}function _b(s,n){let e=Bd(s,n);const i=e.hi&2147483648;i&&(e=t0(e.lo,e.hi));const l=Wv(e.lo,e.hi);return i?"-"+l:l}function Wv(s,n){if({lo:s,hi:n}=Wb(s,n),n<=2097151)return String(qu*n+s);const e=s&16777215,i=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+i*6777216+l*6710656,d=i+l*8147497,g=l*2;const y=1e7;return c>=y&&(d+=Math.floor(c/y),c%=y),d>=y&&(g+=Math.floor(d/y),d%=y),g.toString()+rv(d)+rv(c)}function Wb(s,n){return{lo:s>>>0,hi:n>>>0}}function Bd(s,n){return{lo:s|0,hi:n|0}}function t0(s,n){return n=~n,s?s=~s+1:n+=1,Bd(s,n)}const rv=s=>{const n=String(s);return"0000000".slice(n.length)+n};function iv(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function t1(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var av={};function e1(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof av!="object"||av.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(y){const p=typeof y=="bigint"?y:BigInt(y);if(p>c||p<l)throw new Error(`int64 invalid: ${y}`);return p},uParse(y){const p=typeof y=="bigint"?y:BigInt(y);if(p>g||p<d)throw new Error(`uint64 invalid: ${y}`);return p},enc(y){return s.setBigInt64(0,this.parse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(y){return s.setBigInt64(0,this.uParse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(y,p){return s.setInt32(0,y,!0),s.setInt32(4,p,!0),s.getBigInt64(0,!0)},uDec(y,p){return s.setInt32(0,y,!0),s.setInt32(4,p,!0),s.getBigUint64(0,!0)}}}const e=l=>Qt(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),i=l=>Qt(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),i(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),nv(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),i(l),nv(l)},dec(l,c){return _b(l,c)},uDec(l,c){return Wv(l,c)}}}const Vt=e1();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var la;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(la||(la={}));function ea(s,n,e){if(n===e)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==e}return!1}function Is(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Vt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function e0(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var te;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(te||(te={}));class n1{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),i=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(ed(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Lu(n),iv(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){Xv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){ed(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Lu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Lu(n),n=(n<<1^n>>31)>>>0,iv(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Vt.enc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Vt.uEnc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=Vt.enc(n);return Xh(e.lo,e.hi,this.buf),this}sint64(n){let e=Vt.enc(n),i=e.hi>>31,l=e.lo<<1^i,c=(e.hi<<1|e.lo>>>31)^i;return Xh(l,c,this.buf),this}uint64(n){let e=Vt.uEnc(n);return Xh(e.lo,e.hi,this.buf),this}}class r1{constructor(n,e){this.varint64=Fb,this.uint32=t1,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,i=n&7;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(n,e){let i=this.pos;switch(n){case te.Varint:for(;this.buf[this.pos++]&128;);break;case te.Bit64:this.pos+=4;case te.Bit32:this.pos+=4;break;case te.LengthDelimited:let l=this.uint32();this.pos+=l;break;case te.StartGroup:for(;;){const[c,d]=this.tag();if(d===te.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(d,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Vt.dec(...this.varint64())}uint64(){return Vt.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),i=-(n&1);return n=(n>>>1|(e&1)<<31)^i,e=e>>>1^i,Vt.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Vt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Vt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function i1(s,n,e,i){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function n0(s){const n=s.field.localName,e=Object.create(null);return e[n]=a1(s),[e,()=>e[n]]}function a1(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Is(n.T,n.L);case"message":const e=n.T,i=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function s1(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),yc=[];for(let s=0;s<Ti.length;s++)yc[Ti[s].charCodeAt(0)]=s;yc[45]=Ti.indexOf("+");yc[95]=Ti.indexOf("/");const Id={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),i=0,l=0,c,d=0;for(let g=0;g<s.length;g++){if(c=yc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:d=c,l=1;break;case 1:e[i++]=d<<2|(c&48)>>4,d=c,l=2;break;case 2:e[i++]=(d&15)<<4|(c&60)>>2,d=c,l=3;break;case 3:e[i++]=(d&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,i)},enc(s){let n="",e=0,i,l=0;for(let c=0;c<s.length;c++)switch(i=s[c],e){case 0:n+=Ti[i>>2],l=(i&3)<<4,e=1;break;case 1:n+=Ti[l|i>>4],l=(i&15)<<2,e=2;break;case 2:n+=Ti[l|i>>6],n+=Ti[i&63],e=0;break}return e&&(n+=Ti[l],n+="=",e==1&&(n+="=")),n}};function o1(s,n,e){i0(n,s);const i=n.runtime.bin.makeReadOptions(e),l=s1(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,d]=n0(n);for(const g of l)n.runtime.bin.readField(c,i.readerFactory(g.data),n.field,g.wireType,i);return d()}function l1(s,n,e,i){i0(n,s);const l=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(r0(s,n)){const p=s.getType().runtime.bin.listUnknownFields(s).filter(T=>T.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const T of p)s.getType().runtime.bin.onUnknownField(s,T.no,T.wireType,T.data)}const d=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,e,d,c);const y=l.readerFactory(d.finish());for(;y.pos<y.len;){const[p,T]=y.tag(),x=y.skip(T,p);s.getType().runtime.bin.onUnknownField(s,p,T,x)}}function r0(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function i0(s,n){Qt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function a0(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!e0(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function sv(s,n){const e=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=i?s.T.values[0].no:void 0;break;case"scalar":n[e]=i?Is(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function Ba(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(j.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function s0(s,n){return Ba(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const ov={ignoreUnknownFields:!1},lv={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function u1(s){return s?Object.assign(Object.assign({},ov),s):ov}function c1(s){return s?Object.assign(Object.assign({},lv),s):lv}const Yu=Symbol(),Ju=Symbol();function f1(){return{makeReadOptions:u1,makeWriteOptions:c1,readMessage(s,n,e,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Jn(n)}`);i=i??new s;const l=new Map,c=e.typeRegistry;for(const[d,g]of Object.entries(n)){const y=s.fields.findJsonName(d);if(y){if(y.oneof){if(g===null&&y.kind=="scalar")continue;const p=l.get(y.oneof);if(p!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${y.oneof.name}" present: "${p}", "${d}"`);l.set(y.oneof,d)}uv(i,g,y,e,s)}else{let p=!1;if(c!=null&&c.findExtension&&d.startsWith("[")&&d.endsWith("]")){const T=c.findExtension(d.substring(1,d.length-1));if(T&&T.extendee.typeName==s.typeName){p=!0;const[x,I]=n0(T);uv(x,g,T.field,e,T),l1(i,T,I(),e)}}if(!p&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${d}" is unknown`)}}return i},writeMessage(s,n){const e=s.getType(),i={};let l;try{for(l of e.fields.byNumber()){if(!a0(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!d1(l))continue}const d=l.oneof?s[l.oneof.localName].value:s[l.localName],g=cv(l,d,n);g!==void 0&&(i[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const d of e.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(e.typeName,d.no);if(g&&r0(s,g)){const y=o1(s,g,n),p=cv(g.field,y,n);p!==void 0&&(i[g.field.jsonName]=p)}}}catch(c){const d=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(d+(g.length>0?`: ${g}`:""))}return i},readScalar(s,n,e){return Xo(s,n,e??la.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||e0(s,n)))return Pu(s,n)},debug:Jn}}function Jn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function uv(s,n,e,i,l){let c=e.localName;if(e.repeated){if(Qt(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Jn(n)}`);const d=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Jn(g)}`);switch(e.kind){case"message":d.push(e.T.fromJson(g,i));break;case"enum":const y=Zh(e.T,g,i.ignoreUnknownFields,!0);y!==Ju&&d.push(y);break;case"scalar":try{d.push(Xo(e.T,g,e.L,!0))}catch(p){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Jn(g)}`;throw p instanceof Error&&p.message.length>0&&(T+=`: ${p.message}`),new Error(T)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Jn(n)}`);const d=s[c];for(const[g,y]of Object.entries(n)){if(y===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let p;try{p=h1(e.K,g)}catch(T){let x=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${Jn(n)}`;throw T instanceof Error&&T.message.length>0&&(x+=`: ${T.message}`),new Error(x)}switch(e.V.kind){case"message":d[p]=e.V.T.fromJson(y,i);break;case"enum":const T=Zh(e.V.T,y,i.ignoreUnknownFields,!0);T!==Ju&&(d[p]=T);break;case"scalar":try{d[p]=Xo(e.V.T,y,la.BIGINT,!0)}catch(x){let I=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${Jn(n)}`;throw x instanceof Error&&x.message.length>0&&(I+=`: ${x.message}`),new Error(I)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const d=e.T;if(n===null&&d.typeName!="google.protobuf.Value")return;let g=s[c];Ba(g)?g.fromJson(n,i):(s[c]=g=d.fromJson(n,i),d.fieldWrapper&&!e.oneof&&(s[c]=d.fieldWrapper.unwrapField(g)));break;case"enum":const y=Zh(e.T,n,i.ignoreUnknownFields,!1);switch(y){case Yu:sv(e,s);break;case Ju:break;default:s[c]=y;break}break;case"scalar":try{const p=Xo(e.T,n,e.L,!1);switch(p){case Yu:sv(e,s);break;default:s[c]=p;break}}catch(p){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Jn(n)}`;throw p instanceof Error&&p.message.length>0&&(T+=`: ${p.message}`),new Error(T)}break}}function h1(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Xo(s,n,la.BIGINT,!0).toString()}function Xo(s,n,e,i){if(n===null)return i?Is(s,e):Yu;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&Xv(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?ed(c):Lu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const d=Vt.parse(n);return e?d.toString():d;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Vt.uParse(n);return e?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return Id.dec(n)}throw new Error}function Zh(s,n,e,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:Yu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return Ju;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Jn(n)}`)}function d1(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function cv(s,n,e){if(s.kind=="map"){Qt(typeof n=="object"&&n!=null);const i={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[d,g]of l)i[d.toString()]=Pu(s.V.T,g);break;case"message":for(const[d,g]of l)i[d.toString()]=g.toJson(e);break;case"enum":const c=s.V.T;for(const[d,g]of l)i[d.toString()]=Qh(c,g,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?i:void 0}if(s.repeated){Qt(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)i.push(Pu(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)i.push(Qh(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)i.push(n[l].toJson(e));break}return e.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return Pu(s.T,n);case"enum":return Qh(s.T,n,e.enumAsInteger);case"message":return s0(s.T,n).toJson(e)}}function Qh(s,n,e){var i;if(Qt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:n}function Pu(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Qt(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Qt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Qt(typeof n=="string"),n;case z.BOOL:return Qt(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Qt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Qt(n instanceof Uint8Array),Id.enc(n)}}const Ns=Symbol("@bufbuild/protobuf/unknown-fields"),fv={readUnknownFields:!0,readerFactory:s=>new r1(s)},hv={writeUnknownFields:!0,writerFactory:()=>new n1};function g1(s){return s?Object.assign(Object.assign({},fv),s):fv}function m1(s){return s?Object.assign(Object.assign({},hv),s):hv}function y1(){return{makeReadOptions:g1,makeWriteOptions:m1,listUnknownFields(s){var n;return(n=s[Ns])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[Ns]},writeUnknownFields(s,n){const i=s[Ns];if(i)for(const l of i)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,i){const l=s;Array.isArray(l[Ns])||(l[Ns]=[]),l[Ns].push({no:n,wireType:e,data:i})},readMessage(s,n,e,i,l){const c=s.getType(),d=l?n.len:n.pos+e;let g,y;for(;n.pos<d&&([g,y]=n.tag(),!(l===!0&&y==te.EndGroup));){const p=c.fields.find(g);if(!p){const T=n.skip(y,g);i.readUnknownFields&&this.onUnknownField(s,g,y,T);continue}dv(s,n,p,y,i)}if(l&&(y!=te.EndGroup||g!==e))throw new Error("invalid end group tag")},readField:dv,writeMessage(s,n,e){const i=s.getType();for(const l of i.fields.byNumber()){if(!a0(l,s)){if(l.req)throw new Error(`cannot encode field ${i.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];gv(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,i){n!==void 0&&gv(s,n,e,i)}}}function dv(s,n,e,i,l){let{repeated:c,localName:d}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=d&&delete s.value,s.case=d,d="value"),e.kind){case"scalar":case"enum":const g=e.kind=="enum"?z.INT32:e.T;let y=Gu;if(e.kind=="scalar"&&e.L>0&&(y=v1),c){let I=s[d];if(i==te.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let P=n.uint32()+n.pos;for(;n.pos<P;)I.push(y(n,g))}else I.push(y(n,g))}else s[d]=y(n,g);break;case"message":const p=e.T;c?s[d].push(Vu(n,new p,l,e)):Ba(s[d])?Vu(n,s[d],l,e):(s[d]=Vu(n,new p,l,e),p.fieldWrapper&&!e.oneof&&!e.repeated&&(s[d]=p.fieldWrapper.unwrapField(s[d])));break;case"map":let[T,x]=p1(e,n,l);s[d][T]=x;break}}function Vu(s,n,e,i){const l=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return l.readMessage(n,s,c?i.no:s.uint32(),e,c),n}function p1(s,n,e){const i=n.uint32(),l=n.pos+i;let c,d;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=Gu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Gu(n,s.V.T);break;case"enum":d=n.int32();break;case"message":d=Vu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Is(s.K,la.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Is(s.V.T,la.BIGINT);break;case"enum":d=s.V.T.values[0].no;break;case"message":d=new s.V.T;break}return[c,d]}function v1(s,n){const e=Gu(s,n);return typeof e=="bigint"?e.toString():e}function Gu(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function gv(s,n,e,i){Qt(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if(Qt(Array.isArray(n)),s.packed)T1(e,c,s.no,n);else for(const d of n)Zo(e,c,s.no,d);else Zo(e,c,s.no,n);break;case"message":if(l){Qt(Array.isArray(n));for(const d of n)mv(e,i,s,d)}else mv(e,i,s,n);break;case"map":Qt(typeof n=="object"&&n!=null);for(const[d,g]of Object.entries(n))S1(e,i,s,d,g);break}}function S1(s,n,e,i,l){s.tag(e.no,te.LengthDelimited),s.fork();let c=i;switch(e.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(i);break;case z.BOOL:Qt(i=="true"||i=="false"),c=i=="true";break}switch(Zo(s,e.K,1,c),e.V.kind){case"scalar":Zo(s,e.V.T,2,l);break;case"enum":Zo(s,z.INT32,2,l);break;case"message":Qt(l!==void 0),s.tag(2,te.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function mv(s,n,e,i){const l=s0(e.T,i);e.delimited?s.tag(e.no,te.StartGroup).raw(l.toBinary(n)).tag(e.no,te.EndGroup):s.tag(e.no,te.LengthDelimited).bytes(l.toBinary(n))}function Zo(s,n,e,i){Qt(i!==void 0);let[l,c]=o0(n);s.tag(e,l)[c](i)}function T1(s,n,e,i){if(!i.length)return;s.tag(e,te.LengthDelimited).fork();let[,l]=o0(n);for(let c=0;c<i.length;c++)s[l](i[c]);s.join()}function o0(s){let n=te.Varint;switch(s){case z.BYTES:case z.STRING:n=te.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=te.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=te.Bit32;break}const e=z[s].toLowerCase();return[n,e]}function b1(){return{setEnumType:Qv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const i of e.fields.byMember()){const l=i.localName,c=n,d=s;if(d[l]!=null)switch(i.kind){case"oneof":const g=d[l].case;if(g===void 0)continue;const y=i.findField(g);let p=d[l].value;y&&y.kind=="message"&&!Ba(p,y.T)?p=new y.T(p):y&&y.kind==="scalar"&&y.T===z.BYTES&&(p=Yo(p)),c[l]={case:g,value:p};break;case"scalar":case"enum":let T=d[l];i.T===z.BYTES&&(T=i.repeated?T.map(Yo):Yo(T)),c[l]=T;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===z.BYTES)for(const[C,P]of Object.entries(d[l]))c[l][C]=Yo(P);else Object.assign(c[l],d[l]);break;case"message":const I=i.V.T;for(const C of Object.keys(d[l])){let P=d[l][C];I.fieldWrapper||(P=new I(P)),c[l][C]=P}break}break;case"message":const x=i.T;if(i.repeated)c[l]=d[l].map(I=>Ba(I,x)?I:new x(I));else{const I=d[l];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?c[l]=Yo(I):c[l]=I:c[l]=Ba(I,x)?I:new x(I)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(i=>{const l=n[i.localName],c=e[i.localName];if(i.repeated){if(l.length!==c.length)return!1;switch(i.kind){case"message":return l.every((d,g)=>i.T.equals(d,c[g]));case"scalar":return l.every((d,g)=>ea(i.T,d,c[g]));case"enum":return l.every((d,g)=>ea(z.INT32,d,c[g]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(l,c);case"enum":return ea(z.INT32,l,c);case"scalar":return ea(i.T,l,c);case"oneof":if(l.case!==c.case)return!1;const d=i.findField(l.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(l.value,c.value);case"enum":return ea(z.INT32,l.value,c.value);case"scalar":return ea(d.T,l.value,c.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const g=Object.keys(l).concat(Object.keys(c));switch(i.V.kind){case"message":const y=i.V.T;return g.every(T=>y.equals(l[T],c[T]));case"enum":return g.every(T=>ea(z.INT32,l[T],c[T]));case"scalar":const p=i.V.T;return g.every(T=>ea(p,l[T],c[T]))}break}})},clone(s){const n=s.getType(),e=new n,i=e;for(const l of n.fields.byMember()){const c=s[l.localName];let d;if(l.repeated)d=c.map(ku);else if(l.kind=="map"){d=i[l.localName];for(const[g,y]of Object.entries(c))d[g]=ku(y)}else l.kind=="oneof"?d=l.findField(c.case)?{case:c.case,value:ku(c.value)}:{case:void 0}:d=ku(c);i[l.localName]=d}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,l.no,l.wireType,l.data);return e}}}function ku(s){if(s===void 0)return s;if(Ba(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function Yo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function w1(s,n,e){return{syntax:s,json:f1(),bin:y1(),util:Object.assign(Object.assign({},b1()),{newFieldList:n,initFields:e}),makeMessageType(i,l,c){return Qb(this,i,l,c)},makeEnum:Zb,makeEnumType:Fv,getEnumType:Xb,makeExtension(i,l,c){return i1(this,i,l,c)}}}class A1{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const i of this.list())e[i.jsonName]=e[i.name]=i;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const i of this.list())e[i.no]=i;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const i of this.list())i.oneof?i.oneof!==e&&(e=i.oneof,n.push(e)):n.push(i)}return this.members}}function l0(s,n){const e=u0(s);return n?e:C1(O1(e))}function E1(s){return l0(s,!1)}const N1=u0;function u0(s){let n=!1;const e=[];for(let i=0;i<s.length;i++){let l=s.charAt(i);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const x1=new Set(["constructor","toString","toJSON","valueOf"]),D1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),c0=s=>`${s}$`,O1=s=>D1.has(s)?c0(s):s,C1=s=>x1.has(s)?c0(s):s;class k1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=E1(n)}addField(n){Qt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function R1(s,n){var e,i,l,c,d,g;const y=[];let p;for(const T of typeof s=="function"?s():s){const x=T;if(x.localName=l0(T.name,T.oneof!==void 0),x.jsonName=(e=T.jsonName)!==null&&e!==void 0?e:N1(T.name),x.repeated=(i=T.repeated)!==null&&i!==void 0?i:!1,T.kind=="scalar"&&(x.L=(l=T.L)!==null&&l!==void 0?l:la.BIGINT),x.delimited=(c=T.delimited)!==null&&c!==void 0?c:!1,x.req=(d=T.req)!==null&&d!==void 0?d:!1,x.opt=(g=T.opt)!==null&&g!==void 0?g:!1,T.packed===void 0&&(x.packed=T.kind=="enum"||T.kind=="scalar"&&T.T!=z.BYTES&&T.T!=z.STRING),T.oneof!==void 0){const I=typeof T.oneof=="string"?T.oneof:T.oneof.name;(!p||p.name!=I)&&(p=new k1(I)),x.oneof=p,p.addField(x)}y.push(x)}return y}const v=w1("proto3",s=>new A1(s,n=>R1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,i=s;if(n.repeated){i[e]=[];continue}switch(n.kind){case"oneof":i[e]={case:void 0};break;case"enum":i[e]=0;break;case"map":i[e]={};break;case"scalar":i[e]=Is(n.T,n.L);break}}});var xe;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(xe||(xe={}));var yv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(yv||(yv={}));class me extends j{constructor(n){super(),this.seconds=Vt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${v.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Vt.parse(l/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?i="."+l.substring(0,3)+"Z":l.substring(6)==="000"?i="."+l.substring(0,6)+"Z":i="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return me.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new me({seconds:Vt.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new me().fromBinary(n,e)}static fromJson(n,e){return new me().fromJson(n,e)}static fromJsonString(n,e){return new me().fromJsonString(n,e)}static equals(n,e){return v.util.equals(me,n,e)}}me.runtime=v;me.typeName="google.protobuf.Timestamp";me.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class bi extends j{constructor(n){super(),this.seconds=Vt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const l=Number(i[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);if(this.seconds=Vt.parse(l),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),e+="."+i,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new bi().fromBinary(n,e)}static fromJson(n,e){return new bi().fromJson(n,e)}static fromJsonString(n,e){return new bi().fromJsonString(n,e)}static equals(n,e){return v.util.equals(bi,n,e)}}bi.runtime=v;bi.typeName="google.protobuf.Duration";bi.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Pn extends j{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(i);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=l.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(n,e){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),d=(i=e==null?void 0:e.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=d.fromJson(n.value,e);else{const y=Object.assign({},n);delete y["@type"],g=d.fromJson(y,e)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,e===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),i=e>=0?n.substring(e+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const e=new Pn;return e.packFrom(n),e}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Pn,n,e)}}Pn.runtime=v;Pn.typeName="google.protobuf.Any";Pn.fields=v.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Vn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.DOUBLE,n)}catch(i){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Vn,n,e)}}Vn.runtime=v;Vn.typeName="google.protobuf.DoubleValue";Vn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class Hn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.FLOAT,n)}catch(i){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Hn,n,e)}}Hn.runtime=v;Hn.typeName="google.protobuf.FloatValue";Hn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class jn extends j{constructor(n){super(),this.value=Vt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT64,n)}catch(i){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(jn,n,e)}}jn.runtime=v;jn.typeName="google.protobuf.Int64Value";jn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};class Yn extends j{constructor(n){super(),this.value=Vt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT64,n)}catch(i){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Yn,n,e)}}Yn.runtime=v;Yn.typeName="google.protobuf.UInt64Value";Yn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Xe extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT32,n)}catch(i){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Xe().fromBinary(n,e)}static fromJson(n,e){return new Xe().fromJson(n,e)}static fromJsonString(n,e){return new Xe().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Xe,n,e)}}Xe.runtime=v;Xe.typeName="google.protobuf.Int32Value";Xe.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Gn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT32,n)}catch(i){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Gn,n,e)}}Gn.runtime=v;Gn.typeName="google.protobuf.UInt32Value";Gn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class Kn extends j{constructor(n){super(),this.value=!1,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BOOL,n)}catch(i){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Kn().fromBinary(n,e)}static fromJson(n,e){return new Kn().fromJson(n,e)}static fromJsonString(n,e){return new Kn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Kn,n,e)}}Kn.runtime=v;Kn.typeName="google.protobuf.BoolValue";Kn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Kn.fieldWrapper={wrapField(s){return new Kn({value:s})},unwrapField(s){return s.value}};class Ie extends j{constructor(n){super(),this.value="",v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.STRING,n)}catch(i){let l='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Ie().fromBinary(n,e)}static fromJson(n,e){return new Ie().fromJson(n,e)}static fromJsonString(n,e){return new Ie().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Ie,n,e)}}Ie.runtime=v;Ie.typeName="google.protobuf.StringValue";Ie.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ie.fieldWrapper={wrapField(s){return new Ie({value:s})},unwrapField(s){return s.value}};class $n extends j{constructor(n){super(),this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BYTES,n)}catch(i){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new $n().fromBinary(n,e)}static fromJson(n,e){return new $n().fromJson(n,e)}static fromJsonString(n,e){return new $n().fromJsonString(n,e)}static equals(n,e){return v.util.equals($n,n,e)}}$n.runtime=v;$n.typeName="google.protobuf.BytesValue";$n.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};function B1(s,n,e){try{const i=Id.dec(s);return n?n.fromBinary(i,e):i}catch(i){throw Ct.from(i,St.DataLoss)}}function I1(s,n){const e={};for(const[i,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:i,service:s}));c!=null&&(e[i]=c)}return e}const pv=1;function vv(s){let n,e=new Uint8Array(0);function i(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let y=0;for(let p=1;p<5;p++)y=(y<<8)+e[p];c={flags:e[0],length:y}}if(c!==void 0&&e.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;i(g.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new Ct("premature end of stream",St.DataLoss));return}const d=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:d})}})}function Sv(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),e}var z1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},d)}},tl=function(s){return this instanceof tl?(this.v=s,this):new tl(s)},M1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(P){return Promise.resolve(P).then(C,x)}}function g(C,P){i[C]&&(l[C]=function(H){return new Promise(function(Y,W){c.push([C,H,Y,W])>1||y(C,H)})},P&&(l[C]=P(l[C])))}function y(C,P){try{p(i[C](P))}catch(H){I(c[0][3],H)}}function p(C){C.value instanceof tl?Promise.resolve(C.value.v).then(T,x):I(c[0][2],C)}function T(C){y("next",C)}function x(C){y("throw",C)}function I(C,P){C(P),c.shift(),c.length&&y(c[0][0],c[0][1])}},U1=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(e=!e)?{value:tl(s[l](d)),done:!1}:c?c(d):d}:c}};function L1(s){return M1(this,arguments,function*(){yield tl(yield*U1(z1(s)))})}var f0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},d)}},zs=function(s){return this instanceof zs?(this.v=s,this):new zs(s)},q1=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(e=!e)?{value:zs(s[l](d)),done:!1}:c?c(d):d}:c}},J1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(P){return Promise.resolve(P).then(C,x)}}function g(C,P){i[C]&&(l[C]=function(H){return new Promise(function(Y,W){c.push([C,H,Y,W])>1||y(C,H)})},P&&(l[C]=P(l[C])))}function y(C,P){try{p(i[C](P))}catch(H){I(c[0][3],H)}}function p(C){C.value instanceof zs?Promise.resolve(C.value.v).then(T,x):I(c[0][2],C)}function T(C){y("next",C)}function x(C){y("throw",C)}function I(C,P){C(P),c.shift(),c.length&&y(c[0][0],c[0][1])}};function P1(s,n){return I1(s,e=>{switch(e.kind){case xe.Unary:return V1(n,s,e);case xe.ServerStreaming:return H1(n,s,e);case xe.ClientStreaming:return j1(n,s,e);case xe.BiDiStreaming:return Y1(n,s,e);default:return null}})}function V1(s,n,e){return async function(i,l){var c,d;const g=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(d=l==null?void 0:l.onTrailer)===null||d===void 0||d.call(l,g.trailer),g.message}}function H1(s,n,e){return function(i,l){return h0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,L1([i]),l==null?void 0:l.contextValues),l)}}function j1(s,n,e){return async function(i,l){var c,d,g,y,p,T;const x=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);(p=l==null?void 0:l.onHeader)===null||p===void 0||p.call(l,x.header);let I,C=0;try{for(var P=!0,H=f0(x.message),Y;Y=await H.next(),c=Y.done,!c;P=!0)y=Y.value,P=!1,I=y,C++}catch(W){d={error:W}}finally{try{!P&&!c&&(g=H.return)&&await g.call(H)}finally{if(d)throw d.error}}if(!I)throw new Ct("protocol error: missing response message",St.Unimplemented);if(C>1)throw new Ct("protocol error: received extra messages for client streaming method",St.Unimplemented);return(T=l==null?void 0:l.onTrailer)===null||T===void 0||T.call(l,x.trailer),I}}function Y1(s,n,e){return function(i,l){return h0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues),l)}}function h0(s,n){const e=function(){return J1(this,arguments,function*(){var i,l;const c=yield zs(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield zs(yield*q1(f0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function G1(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort(d0(this));for(const l of e)l.removeEventListener("abort",i)}return n}function K1(s){const n=new AbortController,e=()=>{n.abort(new Ct("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?e():i=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function d0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Tv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const Fh=128;function bv(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const i of e){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),d=i.substring(l+1).trim();n.append(c,d)}}return n}const $1="Content-Type",X1="Grpc-Timeout",Ms="Grpc-Status",g0="Grpc-Message",Z1="Grpc-Status-Details-Bin",Q1="X-User-Agent",F1="X-Grpc-Web",_1="application/grpc-web+proto",W1="application/grpc-web+json";class wi extends j{constructor(n){super(),this.code=0,this.message="",this.details=[],v.util.initPartial(n,this)}static fromBinary(n,e){return new wi().fromBinary(n,e)}static fromJson(n,e){return new wi().fromJson(n,e)}static fromJsonString(n,e){return new wi().fromJsonString(n,e)}static equals(n,e){return v.util.equals(wi,n,e)}}wi.runtime=v;wi.typeName="google.rpc.Status";wi.fields=v.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Pn,repeated:!0}]);const tw="0";function m0(s){var n;const e=s.get(Z1);if(e!=null){const l=B1(e,wi);if(l.code==0)return;const c=new Ct(l.message,l.code,s);return c.details=l.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),c}const i=s.get(Ms);if(i!=null){if(i===tw)return;const l=parseInt(i,10);return l in St?new Ct(decodeURIComponent((n=s.get(g0))!==null&&n!==void 0?n:""),l,s):new Ct(`invalid grpc-status: ${i}`,St.Internal,s)}}function wv(s,n,e){const i=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${i}/${l}`)}function y0(s,n){return n instanceof s?n:new s(n)}function ew(s,n){function e(i){return i.done===!0?i:{done:i.done,value:y0(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),l={next:()=>i.next().then(e)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(e)),i.return!==void 0&&(l.return=c=>i.return(c).then(e)),l}}}function p0(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((i,l)=>l(i),s))!==null&&e!==void 0?e:s}function nw(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function Av(s,n,e,i){const l=n?Ev(s.I,i):Nv(s.I,e);return{parse:(n?Ev(s.O,i):Nv(s.O,e)).parse,serialize:l.serialize}}function Ev(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ct(`parse binary: ${l}`,St.Internal)}},serialize(e){try{return e.toBinary(n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ct(`serialize binary: ${l}`,St.Internal)}}}}function Nv(s,n){var e,i;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=nw(n);return{parse(g){try{const y=c.decode(g);return s.fromJsonString(y,d)}catch(y){throw Ct.from(y,St.InvalidArgument)}},serialize(g){try{const y=g.toJsonString(d);return l.encode(y)}catch(y){throw Ct.from(y,St.Internal)}}}}function rw(s){const n=p0(s.next,s.interceptors),[e,i,l]=v0(s),c=Object.assign(Object.assign({},s.req),{message:y0(s.req.method.I,s.req.message),signal:e});return n(c).then(d=>(l(),d),i)}function iw(s){const n=p0(s.next,s.interceptors),[e,i,l]=v0(s),c=Object.assign(Object.assign({},s.req),{message:ew(s.req.method.I,s.req.message),signal:e});let d=!1;return e.addEventListener("abort",function(){var g,y;const p=s.req.message[Symbol.asyncIterator]();d||(g=p.throw)===null||g===void 0||g.call(p,this.reason).catch(()=>{}),(y=p.return)===null||y===void 0||y.call(p).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const y=g.message[Symbol.asyncIterator]();return{next(){return y.next().then(p=>(p.done==!0&&(d=!0,l()),p),i)}}}}}),i)}function v0(s){const{signal:n,cleanup:e}=K1(s.timeoutMs),i=G1(s.signal,n);return[i.signal,function(c){const d=Ct.from(n.aborted?d0(n):c);return i.abort(d),e(),Promise.reject(d)},function(){e(),i.abort()}]}function aw(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function xv(s,n){const e=m0(s);if(e)throw n.forEach((i,l)=>{e.metadata.append(l,i)}),e;if(!n.has(Ms)&&!s.has(Ms))throw new Ct("protocol error: missing status",St.Internal)}function Dv(s,n,e,i){const l=new Headers(e??{});return l.set($1,s?_1:W1),l.set(F1,"1"),l.set(Q1,"connect-es/1.6.1"),n!==void 0&&l.set(X1,`${n}m`),l}function sw(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function Ov(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(Ms),headerError:m0(n)};throw new Ct(decodeURIComponent((e=n.get(g0))!==null&&e!==void 0?e:`HTTP ${s}`),sw(s),n)}var Ra=function(s){return this instanceof Ra?(this.v=s,this):new Ra(s)},ow=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(P){return Promise.resolve(P).then(C,x)}}function g(C,P){i[C]&&(l[C]=function(H){return new Promise(function(Y,W){c.push([C,H,Y,W])>1||y(C,H)})},P&&(l[C]=P(l[C])))}function y(C,P){try{p(i[C](P))}catch(H){I(c[0][3],H)}}function p(C){C.value instanceof Ra?Promise.resolve(C.value.v).then(T,x):I(c[0][2],C)}function T(C){y("next",C)}function x(C){y("throw",C)}function I(C,P){C(P),c.shift(),c.length&&y(c[0][0],c[0][1])}};function lw(s){var n;aw();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,l,c,d,g,y,p){var T;const{serialize:x,parse:I}=Av(l,e,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await rw({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!1,service:i,method:l,url:wv(s.baseUrl,i,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Dv(e,d,g),contextValues:p??Tv(),message:y},next:async C=>{var P;const Y=await((P=s.fetch)!==null&&P!==void 0?P:globalThis.fetch)(C.url,Object.assign(Object.assign({},C.init),{headers:C.header,signal:C.signal,body:Sv(0,x(C.message))})),{headerError:W}=Ov(Y.status,Y.headers);if(!Y.body)throw W!==void 0?W:"missing response body";const ut=vv(Y.body).getReader();let F,ct;for(;;){const tt=await ut.read();if(tt.done)break;const{flags:et,data:yt}=tt.value;if((et&pv)===pv)throw new Ct("protocol error: received unsupported compressed output",St.Internal);if(et===Fh){if(F!==void 0)throw"extra trailer";F=bv(yt);continue}if(ct!==void 0)throw new Ct("extra message",St.Unimplemented);ct=I(yt)}if(F===void 0)throw W!==void 0?W:new Ct("missing trailer",Y.headers.has(Ms)?St.Unimplemented:St.Unknown);if(xv(F,Y.headers),ct===void 0)throw new Ct("missing message",F.has(Ms)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:l,header:Y.headers,message:ct,trailer:F}}})},async stream(i,l,c,d,g,y,p){var T;const{serialize:x,parse:I}=Av(l,e,s.jsonOptions,s.binaryOptions);function C(H,Y,W,ut,F){return ow(this,arguments,function*(){const tt=vv(H).getReader();if(Y){if(!(yield Ra(tt.read())).done)throw"extra data for trailers-only";return yield Ra(void 0)}let et=!1;for(;;){const yt=yield Ra(tt.read());if(yt.done)break;const{flags:wt,data:At}=yt.value;if((wt&Fh)===Fh){if(et)throw"extra trailer";et=!0;const re=bv(At);xv(re,ut),re.forEach((Le,se)=>W.set(se,Le));continue}if(et)throw"extra message";yield yield Ra(I(At))}if("throwIfAborted"in F&&F.throwIfAborted(),!et)throw"missing trailer"})}async function P(H){if(l.kind!=xe.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Y=await H[Symbol.asyncIterator]().next();if(Y.done==!0)throw"missing request message";return Sv(0,x(Y.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,iw({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!0,service:i,method:l,url:wv(s.baseUrl,i,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Dv(e,d,g),contextValues:p??Tv(),message:y},next:async H=>{var Y;const ut=await((Y=s.fetch)!==null&&Y!==void 0?Y:globalThis.fetch)(H.url,Object.assign(Object.assign({},H.init),{headers:H.header,signal:H.signal,body:await P(H.message)})),{foundStatus:F,headerError:ct}=Ov(ut.status,ut.headers);if(ct!=null)throw ct;if(!ut.body)throw"missing response body";const tt=new Headers;return Object.assign(Object.assign({},H),{header:ut.headers,trailer:tt,message:C(ut.body,F,tt,ut.headers,H.signal)})}})}}}var ht=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ht||{});v.util.setEnumType(ht,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ia=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Ia||{});v.util.setEnumType(Ia,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const mr=class mr extends j{constructor(e){super();h(this,"root");h(this,"presences",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new mr().fromBinary(e,i)}static fromJson(e,i){return new mr().fromJson(e,i)}static fromJsonString(e,i){return new mr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(mr,e,i)}};h(mr,"runtime",v),h(mr,"typeName","yorkie.v1.Snapshot"),h(mr,"fields",v.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Ue},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Sc}}]));let nd=mr;var un;let Ci=(un=class extends j{constructor(e){super();h(this,"documentKey","");h(this,"checkpoint");h(this,"snapshot",new Uint8Array(0));h(this,"changes",[]);h(this,"minSyncedTicket");h(this,"isRemoved",!1);h(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,i){return new un().fromBinary(e,i)}static fromJson(e,i){return new un().fromJson(e,i)}static fromJsonString(e,i){return new un().fromJsonString(e,i)}static equals(e,i){return v.util.equals(un,e,i)}},h(un,"runtime",v),h(un,"typeName","yorkie.v1.ChangePack"),h(un,"fields",v.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:b0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:S0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:vc}])),un);var cn;let S0=(cn=class extends j{constructor(e){super();h(this,"id");h(this,"message","");h(this,"operations",[]);h(this,"presenceChange");v.util.initPartial(e,this)}static fromBinary(e,i){return new cn().fromBinary(e,i)}static fromJson(e,i){return new cn().fromJson(e,i)}static fromJsonString(e,i){return new cn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(cn,e,i)}},h(cn,"runtime",v),h(cn,"typeName","yorkie.v1.Change"),h(cn,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:pc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:zd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:rl}])),cn);var fn;let pc=(fn=class extends j{constructor(e){super();h(this,"clientSeq",0);h(this,"serverSeq",Vt.zero);h(this,"lamport",Vt.zero);h(this,"actorId",new Uint8Array(0));h(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,i){return new fn().fromBinary(e,i)}static fromJson(e,i){return new fn().fromJson(e,i)}static fromJsonString(e,i){return new fn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(fn,e,i)}},h(fn,"runtime",v),h(fn,"typeName","yorkie.v1.ChangeID"),h(fn,"fields",v.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:vc}])),fn);var hn;let vc=(hn=class extends j{constructor(e){super();h(this,"vector",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new hn().fromBinary(e,i)}static fromJson(e,i){return new hn().fromJson(e,i)}static fromJsonString(e,i){return new hn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(hn,e,i)}},h(hn,"runtime",v),h(hn,"typeName","yorkie.v1.VersionVector"),h(hn,"fields",v.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),hn);var dn;let zd=(dn=class extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new dn().fromBinary(e,i)}static fromJson(e,i){return new dn().fromJson(e,i)}static fromJsonString(e,i){return new dn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(dn,e,i)}},h(dn,"runtime",v),h(dn,"typeName","yorkie.v1.Operation"),h(dn,"fields",v.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Ku,oneof:"body"},{no:2,name:"add",kind:"message",T:$u,oneof:"body"},{no:3,name:"move",kind:"message",T:Xu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Zu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Qu,oneof:"body"},{no:7,name:"style",kind:"message",T:Fu,oneof:"body"},{no:8,name:"increase",kind:"message",T:_u,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Wu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:tc,oneof:"body"},{no:11,name:"array_set",kind:"message",T:ec,oneof:"body"}])),dn);const yr=class yr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"key","");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new yr().fromBinary(e,i)}static fromJson(e,i){return new yr().fromJson(e,i)}static fromJsonString(e,i){return new yr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(yr,e,i)}};h(yr,"runtime",v),h(yr,"typeName","yorkie.v1.Operation.Set"),h(yr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let Ku=yr;const pr=class pr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new pr().fromBinary(e,i)}static fromJson(e,i){return new pr().fromJson(e,i)}static fromJsonString(e,i){return new pr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(pr,e,i)}};h(pr,"runtime",v),h(pr,"typeName","yorkie.v1.Operation.Add"),h(pr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let $u=pr;const vr=class vr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"createdAt");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new vr().fromBinary(e,i)}static fromJson(e,i){return new vr().fromJson(e,i)}static fromJsonString(e,i){return new vr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(vr,e,i)}};h(vr,"runtime",v),h(vr,"typeName","yorkie.v1.Operation.Move"),h(vr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let Xu=vr;const Sr=class Sr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Sr().fromBinary(e,i)}static fromJson(e,i){return new Sr().fromJson(e,i)}static fromJsonString(e,i){return new Sr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Sr,e,i)}};h(Sr,"runtime",v),h(Sr,"typeName","yorkie.v1.Operation.Remove"),h(Sr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let Zu=Sr;const Tr=class Tr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"content","");h(this,"executedAt");h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Tr().fromBinary(e,i)}static fromJson(e,i){return new Tr().fromJson(e,i)}static fromJsonString(e,i){return new Tr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Tr,e,i)}};h(Tr,"runtime",v),h(Tr,"typeName","yorkie.v1.Operation.Edit"),h(Tr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Qu=Tr;const br=class br extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new br().fromBinary(e,i)}static fromJson(e,i){return new br().fromJson(e,i)}static fromJsonString(e,i){return new br().fromJsonString(e,i)}static equals(e,i){return v.util.equals(br,e,i)}};h(br,"runtime",v),h(br,"typeName","yorkie.v1.Operation.Style"),h(br,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let Fu=br;const wr=class wr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new wr().fromBinary(e,i)}static fromJson(e,i){return new wr().fromJson(e,i)}static fromJsonString(e,i){return new wr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(wr,e,i)}};h(wr,"runtime",v),h(wr,"typeName","yorkie.v1.Operation.Increase"),h(wr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:ln},{no:3,name:"executed_at",kind:"message",T:Z}]));let _u=wr;const Ar=class Ar extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"contents",[]);h(this,"splitLevel",0);h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Ar().fromBinary(e,i)}static fromJson(e,i){return new Ar().fromJson(e,i)}static fromJsonString(e,i){return new Ar().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ar,e,i)}};h(Ar,"runtime",v),h(Ar,"typeName","yorkie.v1.Operation.TreeEdit"),h(Ar,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:cc,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let Wu=Ar;const Er=class Er extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"attributesToRemove",[]);h(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Er().fromBinary(e,i)}static fromJson(e,i){return new Er().fromJson(e,i)}static fromJsonString(e,i){return new Er().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Er,e,i)}};h(Er,"runtime",v),h(Er,"typeName","yorkie.v1.Operation.TreeStyle"),h(Er,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let tc=Er;const Nr=class Nr extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Nr().fromBinary(e,i)}static fromJson(e,i){return new Nr().fromJson(e,i)}static fromJsonString(e,i){return new Nr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Nr,e,i)}};h(Nr,"runtime",v),h(Nr,"typeName","yorkie.v1.Operation.ArraySet"),h(Nr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let ec=Nr;const xr=class xr extends j{constructor(e){super();h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");h(this,"type",0);h(this,"value",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new xr().fromBinary(e,i)}static fromJson(e,i){return new xr().fromJson(e,i)}static fromJsonString(e,i){return new xr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(xr,e,i)}};h(xr,"runtime",v),h(xr,"typeName","yorkie.v1.JSONElementSimple"),h(xr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:5,name:"value",kind:"scalar",T:12}]));let ln=xr;const Dr=class Dr extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new Dr().fromBinary(e,i)}static fromJson(e,i){return new Dr().fromJson(e,i)}static fromJsonString(e,i){return new Dr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Dr,e,i)}};h(Dr,"runtime",v),h(Dr,"typeName","yorkie.v1.JSONElement"),h(Dr,"fields",v.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:nc,oneof:"body"},{no:2,name:"json_array",kind:"message",T:rc,oneof:"body"},{no:3,name:"primitive",kind:"message",T:ic,oneof:"body"},{no:5,name:"text",kind:"message",T:ac,oneof:"body"},{no:6,name:"counter",kind:"message",T:sc,oneof:"body"},{no:7,name:"tree",kind:"message",T:oc,oneof:"body"}]));let Ue=Dr;const Or=class Or extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Or().fromBinary(e,i)}static fromJson(e,i){return new Or().fromJson(e,i)}static fromJsonString(e,i){return new Or().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Or,e,i)}};h(Or,"runtime",v),h(Or,"typeName","yorkie.v1.JSONElement.JSONObject"),h(Or,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:T0,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let nc=Or;const Cr=class Cr extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Cr().fromBinary(e,i)}static fromJson(e,i){return new Cr().fromJson(e,i)}static fromJsonString(e,i){return new Cr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Cr,e,i)}};h(Cr,"runtime",v),h(Cr,"typeName","yorkie.v1.JSONElement.JSONArray"),h(Cr,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:lc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let rc=Cr;const kr=class kr extends j{constructor(e){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new kr().fromBinary(e,i)}static fromJson(e,i){return new kr().fromJson(e,i)}static fromJsonString(e,i){return new kr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(kr,e,i)}};h(kr,"runtime",v),h(kr,"typeName","yorkie.v1.JSONElement.Primitive"),h(kr,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let ic=kr;const Rr=class Rr extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Rr().fromBinary(e,i)}static fromJson(e,i){return new Rr().fromJson(e,i)}static fromJsonString(e,i){return new Rr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Rr,e,i)}};h(Rr,"runtime",v),h(Rr,"typeName","yorkie.v1.JSONElement.Text"),h(Rr,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:uc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let ac=Rr;const Br=class Br extends j{constructor(e){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Br().fromBinary(e,i)}static fromJson(e,i){return new Br().fromJson(e,i)}static fromJsonString(e,i){return new Br().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Br,e,i)}};h(Br,"runtime",v),h(Br,"typeName","yorkie.v1.JSONElement.Counter"),h(Br,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let sc=Br;const Ir=class Ir extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Ir().fromBinary(e,i)}static fromJson(e,i){return new Ir().fromJson(e,i)}static fromJsonString(e,i){return new Ir().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ir,e,i)}};h(Ir,"runtime",v),h(Ir,"typeName","yorkie.v1.JSONElement.Tree"),h(Ir,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:nl,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let oc=Ir;var gn;let T0=(gn=class extends j{constructor(e){super();h(this,"key","");h(this,"element");v.util.initPartial(e,this)}static fromBinary(e,i){return new gn().fromBinary(e,i)}static fromJson(e,i){return new gn().fromJson(e,i)}static fromJsonString(e,i){return new gn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(gn,e,i)}},h(gn,"runtime",v),h(gn,"typeName","yorkie.v1.RHTNode"),h(gn,"fields",v.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ue}])),gn);const qn=class qn extends j{constructor(e){super();h(this,"next");h(this,"element");v.util.initPartial(e,this)}static fromBinary(e,i){return new qn().fromBinary(e,i)}static fromJson(e,i){return new qn().fromJson(e,i)}static fromJsonString(e,i){return new qn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(qn,e,i)}};h(qn,"runtime",v),h(qn,"typeName","yorkie.v1.RGANode"),h(qn,"fields",v.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:qn},{no:2,name:"element",kind:"message",T:Ue}]));let lc=qn;const zr=class zr extends j{constructor(e){super();h(this,"value","");h(this,"updatedAt");h(this,"isRemoved",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new zr().fromBinary(e,i)}static fromJson(e,i){return new zr().fromJson(e,i)}static fromJsonString(e,i){return new zr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(zr,e,i)}};h(zr,"runtime",v),h(zr,"typeName","yorkie.v1.NodeAttr"),h(zr,"fields",v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Us=zr;const Mr=class Mr extends j{constructor(e){super();h(this,"id");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Mr().fromBinary(e,i)}static fromJson(e,i){return new Mr().fromJson(e,i)}static fromJsonString(e,i){return new Mr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Mr,e,i)}};h(Mr,"runtime",v),h(Mr,"typeName","yorkie.v1.TextNode"),h(Mr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:el},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:el},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Us}}]));let uc=Mr;const Ur=class Ur extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Ur().fromBinary(e,i)}static fromJson(e,i){return new Ur().fromJson(e,i)}static fromJsonString(e,i){return new Ur().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ur,e,i)}};h(Ur,"runtime",v),h(Ur,"typeName","yorkie.v1.TextNodeID"),h(Ur,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let el=Ur;const Lr=class Lr extends j{constructor(e){super();h(this,"id");h(this,"type","");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"insNextId");h(this,"depth",0);h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Lr().fromBinary(e,i)}static fromJson(e,i){return new Lr().fromJson(e,i)}static fromJsonString(e,i){return new Lr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Lr,e,i)}};h(Lr,"runtime",v),h(Lr,"typeName","yorkie.v1.TreeNode"),h(Lr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:aa},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:aa},{no:6,name:"ins_next_id",kind:"message",T:aa},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Us}}]));let nl=Lr;const qr=class qr extends j{constructor(e){super();h(this,"content",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new qr().fromBinary(e,i)}static fromJson(e,i){return new qr().fromJson(e,i)}static fromJsonString(e,i){return new qr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(qr,e,i)}};h(qr,"runtime",v),h(qr,"typeName","yorkie.v1.TreeNodes"),h(qr,"fields",v.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:nl,repeated:!0}]));let cc=qr;const Jr=class Jr extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Jr().fromBinary(e,i)}static fromJson(e,i){return new Jr().fromJson(e,i)}static fromJsonString(e,i){return new Jr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Jr,e,i)}};h(Jr,"runtime",v),h(Jr,"typeName","yorkie.v1.TreeNodeID"),h(Jr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let aa=Jr;const Pr=class Pr extends j{constructor(e){super();h(this,"parentId");h(this,"leftSiblingId");v.util.initPartial(e,this)}static fromBinary(e,i){return new Pr().fromBinary(e,i)}static fromJson(e,i){return new Pr().fromJson(e,i)}static fromJsonString(e,i){return new Pr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Pr,e,i)}};h(Pr,"runtime",v),h(Pr,"typeName","yorkie.v1.TreePos"),h(Pr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:aa},{no:2,name:"left_sibling_id",kind:"message",T:aa}]));let za=Pr;const Vr=class Vr extends j{constructor(e){super();h(this,"id","");h(this,"authProvider","");h(this,"username","");h(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Vr().fromBinary(e,i)}static fromJson(e,i){return new Vr().fromJson(e,i)}static fromJsonString(e,i){return new Vr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Vr,e,i)}};h(Vr,"runtime",v),h(Vr,"typeName","yorkie.v1.User"),h(Vr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:me}]));let Cv=Vr;const Hr=class Hr extends j{constructor(e){super();h(this,"id","");h(this,"name","");h(this,"publicKey","");h(this,"secretKey","");h(this,"authWebhookUrl","");h(this,"authWebhookMethods",[]);h(this,"eventWebhookUrl","");h(this,"eventWebhookEvents",[]);h(this,"clientDeactivateThreshold","");h(this,"maxSubscribersPerDocument",0);h(this,"maxAttachmentsPerDocument",0);h(this,"maxSizePerDocument",0);h(this,"allowedOrigins",[]);h(this,"createdAt");h(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Hr().fromBinary(e,i)}static fromJson(e,i){return new Hr().fromJson(e,i)}static fromJsonString(e,i){return new Hr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Hr,e,i)}};h(Hr,"runtime",v),h(Hr,"typeName","yorkie.v1.Project"),h(Hr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:me},{no:13,name:"updated_at",kind:"message",T:me}]));let kv=Hr;const jr=class jr extends j{constructor(e){super();h(this,"timestamp",Vt.zero);h(this,"value",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new jr().fromBinary(e,i)}static fromJson(e,i){return new jr().fromJson(e,i)}static fromJsonString(e,i){return new jr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(jr,e,i)}};h(jr,"runtime",v),h(jr,"typeName","yorkie.v1.MetricPoint"),h(jr,"fields",v.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let Rv=jr;const Yr=class Yr extends j{constructor(e){super();h(this,"name");h(this,"authWebhookUrl");h(this,"authWebhookMethods");h(this,"eventWebhookUrl");h(this,"eventWebhookEvents");h(this,"clientDeactivateThreshold");h(this,"maxSubscribersPerDocument");h(this,"maxAttachmentsPerDocument");h(this,"maxSizePerDocument");h(this,"allowedOrigins");v.util.initPartial(e,this)}static fromBinary(e,i){return new Yr().fromBinary(e,i)}static fromJson(e,i){return new Yr().fromJson(e,i)}static fromJsonString(e,i){return new Yr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Yr,e,i)}};h(Yr,"runtime",v),h(Yr,"typeName","yorkie.v1.UpdatableProjectFields"),h(Yr,"fields",v.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Ie},{no:2,name:"auth_webhook_url",kind:"message",T:Ie},{no:3,name:"auth_webhook_methods",kind:"message",T:rd},{no:4,name:"event_webhook_url",kind:"message",T:Ie},{no:5,name:"event_webhook_events",kind:"message",T:id},{no:6,name:"client_deactivate_threshold",kind:"message",T:Ie},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:9,name:"allowed_origins",kind:"message",T:ad}]));let Bv=Yr;const Gr=class Gr extends j{constructor(e){super();h(this,"methods",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Gr().fromBinary(e,i)}static fromJson(e,i){return new Gr().fromJson(e,i)}static fromJsonString(e,i){return new Gr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Gr,e,i)}};h(Gr,"runtime",v),h(Gr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),h(Gr,"fields",v.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let rd=Gr;const Kr=class Kr extends j{constructor(e){super();h(this,"events",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Kr().fromBinary(e,i)}static fromJson(e,i){return new Kr().fromJson(e,i)}static fromJsonString(e,i){return new Kr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Kr,e,i)}};h(Kr,"runtime",v),h(Kr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),h(Kr,"fields",v.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let id=Kr;const $r=class $r extends j{constructor(e){super();h(this,"origins",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new $r().fromBinary(e,i)}static fromJson(e,i){return new $r().fromJson(e,i)}static fromJsonString(e,i){return new $r().fromJsonString(e,i)}static equals(e,i){return v.util.equals($r,e,i)}};h($r,"runtime",v),h($r,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),h($r,"fields",v.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let ad=$r;const Xr=class Xr extends j{constructor(e){super();h(this,"id","");h(this,"key","");h(this,"root","");h(this,"attachedClients",0);h(this,"documentSize");h(this,"schemaKey","");h(this,"presences",{});h(this,"createdAt");h(this,"accessedAt");h(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Xr().fromBinary(e,i)}static fromJson(e,i){return new Xr().fromJson(e,i)}static fromJsonString(e,i){return new Xr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Xr,e,i)}};h(Xr,"runtime",v),h(Xr,"typeName","yorkie.v1.DocumentSummary"),h(Xr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:ld},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:Sc}},{no:4,name:"created_at",kind:"message",T:me},{no:5,name:"accessed_at",kind:"message",T:me},{no:6,name:"updated_at",kind:"message",T:me}]));let Iv=Xr;const Zr=class Zr extends j{constructor(e){super();h(this,"type",0);h(this,"presence");v.util.initPartial(e,this)}static fromBinary(e,i){return new Zr().fromBinary(e,i)}static fromJson(e,i){return new Zr().fromJson(e,i)}static fromJsonString(e,i){return new Zr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Zr,e,i)}};h(Zr,"runtime",v),h(Zr,"typeName","yorkie.v1.PresenceChange"),h(Zr,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ma)},{no:2,name:"presence",kind:"message",T:Sc}]));let rl=Zr;var Ma=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Ma||{});v.util.setEnumType(Ma,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var mn;let Sc=(mn=class extends j{constructor(e){super();h(this,"data",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new mn().fromBinary(e,i)}static fromJson(e,i){return new mn().fromJson(e,i)}static fromJsonString(e,i){return new mn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(mn,e,i)}},h(mn,"runtime",v),h(mn,"typeName","yorkie.v1.Presence"),h(mn,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),mn);var yn;let b0=(yn=class extends j{constructor(e){super();h(this,"serverSeq",Vt.zero);h(this,"clientSeq",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new yn().fromBinary(e,i)}static fromJson(e,i){return new yn().fromJson(e,i)}static fromJsonString(e,i){return new yn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(yn,e,i)}},h(yn,"runtime",v),h(yn,"typeName","yorkie.v1.Checkpoint"),h(yn,"fields",v.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),yn);const Qr=class Qr extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);h(this,"relativeOffset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Qr().fromBinary(e,i)}static fromJson(e,i){return new Qr().fromJson(e,i)}static fromJsonString(e,i){return new Qr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Qr,e,i)}};h(Qr,"runtime",v),h(Qr,"typeName","yorkie.v1.TextNodePos"),h(Qr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Ua=Qr;var pn;let Z=(pn=class extends j{constructor(e){super();h(this,"lamport",Vt.zero);h(this,"delimiter",0);h(this,"actorId",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new pn().fromBinary(e,i)}static fromJson(e,i){return new pn().fromJson(e,i)}static fromJsonString(e,i){return new pn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(pn,e,i)}},h(pn,"runtime",v),h(pn,"typeName","yorkie.v1.TimeTicket"),h(pn,"fields",v.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),pn);const Fr=class Fr extends j{constructor(e){super();h(this,"topic","");h(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new Fr().fromBinary(e,i)}static fromJson(e,i){return new Fr().fromJson(e,i)}static fromJsonString(e,i){return new Fr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Fr,e,i)}};h(Fr,"runtime",v),h(Fr,"typeName","yorkie.v1.DocEventBody"),h(Fr,"fields",v.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let sd=Fr;const _r=class _r extends j{constructor(e){super();h(this,"type",0);h(this,"publisher","");h(this,"body");v.util.initPartial(e,this)}static fromBinary(e,i){return new _r().fromBinary(e,i)}static fromJson(e,i){return new _r().fromJson(e,i)}static fromJsonString(e,i){return new _r().fromJsonString(e,i)}static equals(e,i){return v.util.equals(_r,e,i)}};h(_r,"runtime",v),h(_r,"typeName","yorkie.v1.DocEvent"),h(_r,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ia)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:sd}]));let od=_r;const Wr=class Wr extends j{constructor(e){super();h(this,"data",0);h(this,"meta",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Wr().fromBinary(e,i)}static fromJson(e,i){return new Wr().fromJson(e,i)}static fromJsonString(e,i){return new Wr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Wr,e,i)}};h(Wr,"runtime",v),h(Wr,"typeName","yorkie.v1.DataSize"),h(Wr,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let fc=Wr;const ti=class ti extends j{constructor(e){super();h(this,"live");h(this,"gc");v.util.initPartial(e,this)}static fromBinary(e,i){return new ti().fromBinary(e,i)}static fromJson(e,i){return new ti().fromJson(e,i)}static fromJsonString(e,i){return new ti().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ti,e,i)}};h(ti,"runtime",v),h(ti,"typeName","yorkie.v1.DocSize"),h(ti,"fields",v.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:fc},{no:2,name:"gc",kind:"message",T:fc}]));let ld=ti;const ei=class ei extends j{constructor(e){super();h(this,"id","");h(this,"name","");h(this,"version",0);h(this,"body","");h(this,"rules",[]);h(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new ei().fromBinary(e,i)}static fromJson(e,i){return new ei().fromJson(e,i)}static fromJsonString(e,i){return new ei().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ei,e,i)}};h(ei,"runtime",v),h(ei,"typeName","yorkie.v1.Schema"),h(ei,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:hc,repeated:!0},{no:6,name:"created_at",kind:"message",T:me}]));let zv=ei;const ni=class ni extends j{constructor(e){super();h(this,"path","");h(this,"type","");v.util.initPartial(e,this)}static fromBinary(e,i){return new ni().fromBinary(e,i)}static fromJson(e,i){return new ni().fromJson(e,i)}static fromJsonString(e,i){return new ni().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ni,e,i)}};h(ni,"runtime",v),h(ni,"typeName","yorkie.v1.Rule"),h(ni,"fields",v.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let hc=ni;const ri=class ri extends j{constructor(e){super();h(this,"clientKey","");h(this,"metadata",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new ri().fromBinary(e,i)}static fromJson(e,i){return new ri().fromJson(e,i)}static fromJsonString(e,i){return new ri().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ri,e,i)}};h(ri,"runtime",v),h(ri,"typeName","yorkie.v1.ActivateClientRequest"),h(ri,"fields",v.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let ud=ri;const ii=class ii extends j{constructor(e){super();h(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new ii().fromBinary(e,i)}static fromJson(e,i){return new ii().fromJson(e,i)}static fromJsonString(e,i){return new ii().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ii,e,i)}};h(ii,"runtime",v),h(ii,"typeName","yorkie.v1.ActivateClientResponse"),h(ii,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let cd=ii;const ai=class ai extends j{constructor(e){super();h(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new ai().fromBinary(e,i)}static fromJson(e,i){return new ai().fromJson(e,i)}static fromJsonString(e,i){return new ai().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ai,e,i)}};h(ai,"runtime",v),h(ai,"typeName","yorkie.v1.DeactivateClientRequest"),h(ai,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let fd=ai;const si=class si extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new si().fromBinary(n,e)}static fromJson(n,e){return new si().fromJson(n,e)}static fromJsonString(n,e){return new si().fromJsonString(n,e)}static equals(n,e){return v.util.equals(si,n,e)}};h(si,"runtime",v),h(si,"typeName","yorkie.v1.DeactivateClientResponse"),h(si,"fields",v.util.newFieldList(()=>[]));let hd=si;const oi=class oi extends j{constructor(e){super();h(this,"clientId","");h(this,"changePack");h(this,"schemaKey","");v.util.initPartial(e,this)}static fromBinary(e,i){return new oi().fromBinary(e,i)}static fromJson(e,i){return new oi().fromJson(e,i)}static fromJsonString(e,i){return new oi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(oi,e,i)}};h(oi,"runtime",v),h(oi,"typeName","yorkie.v1.AttachDocumentRequest"),h(oi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ci},{no:3,name:"schema_key",kind:"scalar",T:9}]));let dd=oi;const li=class li extends j{constructor(e){super();h(this,"documentId","");h(this,"changePack");h(this,"maxSizePerDocument",0);h(this,"schemaRules",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new li().fromBinary(e,i)}static fromJson(e,i){return new li().fromJson(e,i)}static fromJsonString(e,i){return new li().fromJsonString(e,i)}static equals(e,i){return v.util.equals(li,e,i)}};h(li,"runtime",v),h(li,"typeName","yorkie.v1.AttachDocumentResponse"),h(li,"fields",v.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ci},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:hc,repeated:!0}]));let gd=li;const ui=class ui extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"removeIfNotAttached",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new ui().fromBinary(e,i)}static fromJson(e,i){return new ui().fromJson(e,i)}static fromJsonString(e,i){return new ui().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ui,e,i)}};h(ui,"runtime",v),h(ui,"typeName","yorkie.v1.DetachDocumentRequest"),h(ui,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ci},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let md=ui;const ci=class ci extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new ci().fromBinary(e,i)}static fromJson(e,i){return new ci().fromJson(e,i)}static fromJsonString(e,i){return new ci().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ci,e,i)}};h(ci,"runtime",v),h(ci,"typeName","yorkie.v1.DetachDocumentResponse"),h(ci,"fields",v.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Ci}]));let yd=ci;const fi=class fi extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new fi().fromBinary(e,i)}static fromJson(e,i){return new fi().fromJson(e,i)}static fromJsonString(e,i){return new fi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(fi,e,i)}};h(fi,"runtime",v),h(fi,"typeName","yorkie.v1.WatchDocumentRequest"),h(fi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let pd=fi;const hi=class hi extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new hi().fromBinary(e,i)}static fromJson(e,i){return new hi().fromJson(e,i)}static fromJsonString(e,i){return new hi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(hi,e,i)}};h(hi,"runtime",v),h(hi,"typeName","yorkie.v1.WatchDocumentResponse"),h(hi,"fields",v.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Sd,oneof:"body"},{no:2,name:"event",kind:"message",T:od,oneof:"body"}]));let vd=hi;const di=class di extends j{constructor(e){super();h(this,"clientIds",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new di().fromBinary(e,i)}static fromJson(e,i){return new di().fromJson(e,i)}static fromJsonString(e,i){return new di().fromJsonString(e,i)}static equals(e,i){return v.util.equals(di,e,i)}};h(di,"runtime",v),h(di,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),h(di,"fields",v.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Sd=di;const gi=class gi extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new gi().fromBinary(e,i)}static fromJson(e,i){return new gi().fromJson(e,i)}static fromJsonString(e,i){return new gi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(gi,e,i)}};h(gi,"runtime",v),h(gi,"typeName","yorkie.v1.RemoveDocumentRequest"),h(gi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ci}]));let Td=gi;const mi=class mi extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new mi().fromBinary(e,i)}static fromJson(e,i){return new mi().fromJson(e,i)}static fromJsonString(e,i){return new mi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(mi,e,i)}};h(mi,"runtime",v),h(mi,"typeName","yorkie.v1.RemoveDocumentResponse"),h(mi,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ci}]));let bd=mi;const yi=class yi extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"pushOnly",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new yi().fromBinary(e,i)}static fromJson(e,i){return new yi().fromJson(e,i)}static fromJsonString(e,i){return new yi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(yi,e,i)}};h(yi,"runtime",v),h(yi,"typeName","yorkie.v1.PushPullChangesRequest"),h(yi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ci},{no:4,name:"push_only",kind:"scalar",T:8}]));let wd=yi;const pi=class pi extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new pi().fromBinary(e,i)}static fromJson(e,i){return new pi().fromJson(e,i)}static fromJsonString(e,i){return new pi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(pi,e,i)}};h(pi,"runtime",v),h(pi,"typeName","yorkie.v1.PushPullChangesResponse"),h(pi,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ci}]));let Ad=pi;const vi=class vi extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"topic","");h(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new vi().fromBinary(e,i)}static fromJson(e,i){return new vi().fromJson(e,i)}static fromJsonString(e,i){return new vi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(vi,e,i)}};h(vi,"runtime",v),h(vi,"typeName","yorkie.v1.BroadcastRequest"),h(vi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Ed=vi;const Si=class Si extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new Si().fromBinary(n,e)}static fromJson(n,e){return new Si().fromJson(n,e)}static fromJsonString(n,e){return new Si().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Si,n,e)}};h(Si,"runtime",v),h(Si,"typeName","yorkie.v1.BroadcastResponse"),h(Si,"fields",v.util.newFieldList(()=>[]));let Nd=Si;const uw={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:ud,O:cd,kind:xe.Unary},deactivateClient:{name:"DeactivateClient",I:fd,O:hd,kind:xe.Unary},attachDocument:{name:"AttachDocument",I:dd,O:gd,kind:xe.Unary},detachDocument:{name:"DetachDocument",I:md,O:yd,kind:xe.Unary},removeDocument:{name:"RemoveDocument",I:Td,O:bd,kind:xe.Unary},pushPullChanges:{name:"PushPullChanges",I:wd,O:Ad,kind:xe.Unary},watchDocument:{name:"WatchDocument",I:pd,O:vd,kind:xe.ServerStreaming},broadcast:{name:"Broadcast",I:Ed,O:Nd,kind:xe.Unary}}},cw=v.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);v.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:bi}]);v.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:fw,repeated:!0}]);const fw=v.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});v.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:hw,repeated:!0}]);const hw=v.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});v.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:dw,repeated:!0}]);const dw=v.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:mw}],{localName:"BadRequest_FieldViolation"});v.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:gw,repeated:!0}]);const gw=v.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),mw=v.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var N=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(N||{});class D extends Error{constructor(e,i){super(i);h(this,"name","YorkieError");h(this,"stack");this.code=e,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var _n=(s=>(s.Put="put",s.Clear="clear",s))(_n||{});const Tc="000000000000000000000000",Zn=24;class Tn{constructor(n,e,i){h(this,"lamport");h(this,"delimiter");h(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=i}static of(n,e,i){return new Tn(n,e,i)}static fromStruct(n){return Tn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new Tn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const xd=0n,w0=0,Qo=9223372036854775807n,Ls=new Tn(xd,w0,Tc);function Xn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class cl{constructor(n){h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.createdAt)&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Zn),this.getMovedAt()&&(n+=Zn),this.getRemovedAt()&&(n+=Zn),n}}class sa extends cl{constructor(n){super(n)}}class Md{constructor(n,e){h(this,"strKey");h(this,"value");this.strKey=n,this.value=e}static of(n,e){return new Md(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class il{constructor(){h(this,"nodeMapByKey");h(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new il}set(n,e,i){let l;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const d=Md.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),d),(c==null||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,d),e.setMovedAt(i)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new D(N.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(e),i.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new D(N.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(e.getStrKey());e===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const i=this.nodeMapByKey.get(n);if(i!=null&&i.remove(e))return i.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class we extends sa{constructor(e,i){super(e);h(this,"memberNodes");this.memberNodes=i}static create(e,i){if(!i)return new we(e,il.create());const l=il.create();for(const[c,d]of Object.entries(i))l.set(c,d.deepcopy(),d.getCreatedAt());return new we(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,i,l){return this.memberNodes.set(e,i,l)}delete(e,i){return this.memberNodes.delete(e,i)}deleteByKey(e,i){return this.memberNodes.deleteByKey(e,i)}get(e){const i=this.memberNodes.get(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.memberNodes.getByID(e);return i==null?void 0:i.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[i,l]of this)e.push(`"${Xn(i)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[i,l]of this){const{createdAt:c,value:d,type:g}=l.toJSForTest();e[i]={key:i,createdAt:c,value:d,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[i]of this)e.push(i);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const i=[];for(const c of e.sort()){const d=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Xn(c)}":${d.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=we.create(this.getCreatedAt());for(const i of this.memberNodes)e.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const i of this.memberNodes){const l=i.getValue();if(e(l,this))return;l instanceof sa&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const i of this.memberNodes)e.has(i.getStrKey())||(e.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var qt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(qt||{});class bn{constructor(n,e){h(this,"parentCreatedAt");h(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new D(N.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class A0{constructor(n){h(this,"value");h(this,"left");h(this,"right");h(this,"parent");h(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class al{constructor(n){h(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new D(N.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new al(n.getLeft());e.root&&e.root.setParent();const i=new al(n.getRight());if(i.root&&i.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(i.root),i.root&&i.root.setParent(e.root),this.root=e.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const i of e)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var vn=null;try{vn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Tt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}Tt.prototype.__isLong__;Object.defineProperty(Tt.prototype,"__isLong__",{value:!0});function Ee(s){return(s&&s.__isLong__)===!0}function Mv(s){var n=Math.clz32(s&-s);return s?31-n:n}Tt.isLong=Ee;var Uv={},Lv={};function Ja(s,n){var e,i,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(i=Lv[s],i)?i:(e=Et(s,0,!0),l&&(Lv[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(i=Uv[s],i)?i:(e=Et(s,s<0?-1:0,!1),l&&(Uv[s]=e),e))}Tt.fromInt=Ja;function Sn(s,n){if(isNaN(s))return n?Ai:Cn;if(n){if(s<0)return Ai;if(s>=E0)return D0}else{if(s<=-9223372036854776e3)return ze;if(s+1>=pw)return x0}return s<0?Sn(-s,n).neg():Et(s%qs|0,s/qs|0,n)}Tt.fromNumber=Sn;function Et(s,n,e){return new Tt(s,n,e)}Tt.fromBits=Et;var dc=Math.pow;function Ud(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?Ai:Cn;if(e=e||10,e<2||36<e)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Ud(s.substring(1),n,e).neg();for(var l=Sn(dc(e,8)),c=Cn,d=0;d<s.length;d+=8){var g=Math.min(8,s.length-d),y=parseInt(s.substring(d,d+g),e);if(g<8){var p=Sn(dc(e,g));c=c.mul(p).add(Sn(y))}else c=c.mul(l),c=c.add(Sn(y))}return c.unsigned=n,c}Tt.fromString=Ud;function wn(s,n){return typeof s=="number"?Sn(s,n):typeof s=="string"?Ud(s,n):Et(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}Tt.fromValue=wn;var qv=65536,yw=1<<24,qs=qv*qv,E0=qs*qs,pw=E0/2,Jv=Ja(yw),Cn=Ja(0);Tt.ZERO=Cn;var Ai=Ja(0,!0);Tt.UZERO=Ai;var Os=Ja(1);Tt.ONE=Os;var N0=Ja(1,!0);Tt.UONE=N0;var Dd=Ja(-1);Tt.NEG_ONE=Dd;var x0=Et(-1,2147483647,!1);Tt.MAX_VALUE=x0;var D0=Et(-1,-1,!0);Tt.MAX_UNSIGNED_VALUE=D0;var ze=Et(0,-2147483648,!1);Tt.MIN_VALUE=ze;var V=Tt.prototype;V.toInt=function(){return this.unsigned?this.low>>>0:this.low};V.toNumber=function(){return this.unsigned?(this.high>>>0)*qs+(this.low>>>0):this.high*qs+(this.low>>>0)};V.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ze)){var e=Sn(n),i=this.div(e),l=i.mul(e).sub(this);return i.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=Sn(dc(n,6),this.unsigned),d=this,g="";;){var y=d.div(c),p=d.sub(y.mul(c)).toInt()>>>0,T=p.toString(n);if(d=y,d.isZero())return T+g;for(;T.length<6;)T="0"+T;g=""+T+g}};V.getHighBits=function(){return this.high};V.getHighBitsUnsigned=function(){return this.high>>>0};V.getLowBits=function(){return this.low};V.getLowBitsUnsigned=function(){return this.low>>>0};V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ze)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};V.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};V.isZero=function(){return this.high===0&&this.low===0};V.eqz=V.isZero;V.isNegative=function(){return!this.unsigned&&this.high<0};V.isPositive=function(){return this.unsigned||this.high>=0};V.isOdd=function(){return(this.low&1)===1};V.isEven=function(){return(this.low&1)===0};V.equals=function(n){return Ee(n)||(n=wn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};V.eq=V.equals;V.notEquals=function(n){return!this.eq(n)};V.neq=V.notEquals;V.ne=V.notEquals;V.lessThan=function(n){return this.comp(n)<0};V.lt=V.lessThan;V.lessThanOrEqual=function(n){return this.comp(n)<=0};V.lte=V.lessThanOrEqual;V.le=V.lessThanOrEqual;V.greaterThan=function(n){return this.comp(n)>0};V.gt=V.greaterThan;V.greaterThanOrEqual=function(n){return this.comp(n)>=0};V.gte=V.greaterThanOrEqual;V.ge=V.greaterThanOrEqual;V.compare=function(n){if(Ee(n)||(n=wn(n)),this.eq(n))return 0;var e=this.isNegative(),i=n.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};V.comp=V.compare;V.negate=function(){return!this.unsigned&&this.eq(ze)?ze:this.not().add(Os)};V.neg=V.negate;V.add=function(n){Ee(n)||(n=wn(n));var e=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,d=n.high>>>16,g=n.high&65535,y=n.low>>>16,p=n.low&65535,T=0,x=0,I=0,C=0;return C+=c+p,I+=C>>>16,C&=65535,I+=l+y,x+=I>>>16,I&=65535,x+=i+g,T+=x>>>16,x&=65535,T+=e+d,T&=65535,Et(I<<16|C,T<<16|x,this.unsigned)};V.subtract=function(n){return Ee(n)||(n=wn(n)),this.add(n.neg())};V.sub=V.subtract;V.multiply=function(n){if(this.isZero())return this;if(Ee(n)||(n=wn(n)),vn){var e=vn.mul(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Ai:Cn;if(this.eq(ze))return n.isOdd()?ze:Cn;if(n.eq(ze))return this.isOdd()?ze:Cn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Jv)&&n.lt(Jv))return Sn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,g=n.high>>>16,y=n.high&65535,p=n.low>>>16,T=n.low&65535,x=0,I=0,C=0,P=0;return P+=d*T,C+=P>>>16,P&=65535,C+=c*T,I+=C>>>16,C&=65535,C+=d*p,I+=C>>>16,C&=65535,I+=l*T,x+=I>>>16,I&=65535,I+=c*p,x+=I>>>16,I&=65535,I+=d*y,x+=I>>>16,I&=65535,x+=i*T+l*p+c*y+d*g,x&=65535,Et(C<<16|P,x<<16|I,this.unsigned)};V.mul=V.multiply;V.divide=function(n){if(Ee(n)||(n=wn(n)),n.isZero())throw Error("division by zero");if(vn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?vn.div_u:vn.div_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ai:Cn;var i,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Ai;if(n.gt(this.shru(1)))return N0;c=Ai}else{if(this.eq(ze)){if(n.eq(Os)||n.eq(Dd))return ze;if(n.eq(ze))return Os;var d=this.shr(1);return i=d.div(n).shl(1),i.eq(Cn)?n.isNegative()?Os:Dd:(l=this.sub(n.mul(i)),c=i.add(l.div(n)),c)}else if(n.eq(ze))return this.unsigned?Ai:Cn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Cn}for(l=this;l.gte(n);){i=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(i)/Math.LN2),y=g<=48?1:dc(2,g-48),p=Sn(i),T=p.mul(n);T.isNegative()||T.gt(l);)i-=y,p=Sn(i,this.unsigned),T=p.mul(n);p.isZero()&&(p=Os),c=c.add(p),l=l.sub(T)}return c};V.div=V.divide;V.modulo=function(n){if(Ee(n)||(n=wn(n)),vn){var e=(this.unsigned?vn.rem_u:vn.rem_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};V.mod=V.modulo;V.rem=V.modulo;V.not=function(){return Et(~this.low,~this.high,this.unsigned)};V.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};V.clz=V.countLeadingZeros;V.countTrailingZeros=function(){return this.low?Mv(this.low):Mv(this.high)+32};V.ctz=V.countTrailingZeros;V.and=function(n){return Ee(n)||(n=wn(n)),Et(this.low&n.low,this.high&n.high,this.unsigned)};V.or=function(n){return Ee(n)||(n=wn(n)),Et(this.low|n.low,this.high|n.high,this.unsigned)};V.xor=function(n){return Ee(n)||(n=wn(n)),Et(this.low^n.low,this.high^n.high,this.unsigned)};V.shiftLeft=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Et(0,this.low<<n-32,this.unsigned)};V.shl=V.shiftLeft;V.shiftRight=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Et(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};V.shr=V.shiftRight;V.shiftRightUnsigned=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Et(this.high,0,this.unsigned):Et(this.high>>>n-32,0,this.unsigned)};V.shru=V.shiftRightUnsigned;V.shr_u=V.shiftRightUnsigned;V.rotateLeft=function(n){var e;return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,Et(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};V.rotl=V.rotateLeft;V.rotateRight=function(n){var e;return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,Et(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};V.rotr=V.rotateRight;V.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this};V.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)};V.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};V.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};V.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};Tt.fromBytes=function(n,e,i){return i?Tt.fromBytesLE(n,e):Tt.fromBytesBE(n,e)};Tt.fromBytesLE=function(n,e){return new Tt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};Tt.fromBytesBE=function(n,e){return new Tt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(Tt.fromBigInt=function(n,e){var i=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return Et(i,l,e)},Tt.fromValue=function(n,e){return typeof n=="bigint"?fromBigInt(n,e):wn(n,e)},V.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var Jt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(Jt||{});class Kt extends cl{constructor(e,i){super(i);h(this,"valueType");h(this,"value");this.valueType=Kt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,i){return new Kt(e,i)}static valueFromBytes(e,i){switch(e){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,d){l.setUint8(d,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Tt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Tt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new D(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new D(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Kt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Tt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Kt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const e=this.value,i=Tt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new D(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class gc extends A0{constructor(e){super(e);h(this,"prev");h(this,"next");h(this,"movedFrom");this.value=e}static createAfter(e,i){const l=new gc(i),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class sl{constructor(){h(this,"dummyHead");h(this,"last");h(this,"nodeMapByIndex");h(this,"nodeMapByCreatedAt");const n=Kt.of(0,Ls);n.setRemovedAt(Ls),this.dummyHead=new gc(n),this.last=this.dummyHead,this.nodeMapByIndex=new al,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new sl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new D(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(e)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(e);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,i=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,i),c=gc.createAfter(l,e);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(n,e,i){let l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);let c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new D(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const d=c.getPrev();let g=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d);g&&g.getPositionedAt().after(i);)l=c,c=g,g=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d)}}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new D(N.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,i]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||i>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const i=this.nodeMapByCreatedAt.get(n.toIDString()),l=i.isRemoved();return i.remove(e)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(n,e,i){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);return this.insertAfter(l.getCreatedAt(),e,i),this.delete(n,i)}deleteByIndex(n,e){const i=this.getByIndex(n);if(i)return i.remove(e)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const i=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Ae extends sa{constructor(e,i){super(e);h(this,"elements");this.elements=i}static create(e,i){if(!i)return new Ae(e,sl.create());const l=sl.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Ae(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,i,l){this.elements.insertAfter(e,i,l)}moveAfter(e,i,l){this.elements.moveAfter(e,i,l)}get(e){const i=this.elements.getByIndex(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.elements.getByID(e);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,i){return this.elements.delete(e,i)}deleteByIndex(e,i){return this.elements.deleteByIndex(e,i)}set(e,i,l){return this.elements.set(e,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const i of this.elements){const l=i.getValue();if(e(l,this))return;l instanceof sa&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const i of this)e.push(i.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:d}=this.get(i).toJSForTest();e[i]={key:String(i),createdAt:l,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Ae.create(this.getCreatedAt());for(const i of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),i.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class js extends bn{constructor(e,i,l,c){super(e,c);h(this,"prevCreatedAt");h(this,"value");this.prevCreatedAt=i,this.value=l}static create(e,i,l,c){return new js(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(N.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Di.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Di extends bn{constructor(e,i,l){super(e,l);h(this,"createdAt");this.createdAt=i}static create(e,i,l){return new Di(e,i,l)}execute(e,i){var p;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof sa))throw new D(N.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===qt.UndoRedo){let T=l.getByID(this.createdAt);for(;T;){if(T.getRemovedAt())return;T=(p=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:p.parent}}const c=l.subPathOf(this.createdAt),d=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(g),{opInfos:l instanceof Ae?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:d}}toReverseOperation(e){if(e instanceof Ae){const i=e.getByID(this.createdAt);if(i!==void 0){const l=e.getPrevCreatedAt(this.createdAt);return js.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(e instanceof we){const i=e.subPathOf(this.createdAt);if(i!==void 0){const l=e.get(i);if(l!==void 0)return La.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class La extends bn{constructor(e,i,l,c){super(l,c);h(this,"key");h(this,"value");this.key=e,this.value=i}static create(e,i,l,c){return new La(e,i,l,c)}execute(e,i){var p;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof we))throw new D(N.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===qt.UndoRedo){let T=l;for(;T;){if(T.getRemovedAt())return;T=(p=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:p.parent}}const c=l.get(this.key),d=this.toReverseOperation(c),g=this.value.deepcopy(),y=l.set(this.key,g,this.getExecutedAt());return i===qt.UndoRedo&&e.findByCreatedAt(g.getCreatedAt())&&e.deregisterElement(g),e.registerElement(g,l),y&&e.registerRemovedElement(y),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let i=Di.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(i=La.create(this.key,e.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ei extends bn{constructor(e,i,l,c){super(e,c);h(this,"prevCreatedAt");h(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(e,i,l,c){return new Ei(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(N.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),d=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const g=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:g,previousIndex:d}],reverseOp:c}}toReverseOperation(e){const i=e.getPrevCreatedAt(this.createdAt);return Ei.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class ia{constructor(n,e,i,l){h(this,"key");h(this,"value");h(this,"updatedAt");h(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=i,this._isRemoved=l}static of(n,e,i,l){return new ia(n,e,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Zn}}}class Oi{constructor(){h(this,"nodeMapByKey");h(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Oi}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,i){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=ia.of(n,e,i,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,i,l){const c=ia.of(n,e,i,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const i=this.nodeMapByKey.get(n),l=[];if(i===void 0||e.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const g=ia.of(n,"",e,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const d=ia.of(n,i.getValue(),e,!0);return this.nodeMapByKey.set(n,d),l.push(d),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Oi;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Xn(e)}":"${Xn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,i]of this.nodeMapByKey)i.isRemoved()||(n[e]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function Dn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const O0=s=>s?Object.entries(s).length===0:!0,Js=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.stringify(i);return n},Ni=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.parse(i);return n};function vw(s){return s?Pv(s.live)+Pv(s.gc):0}function Pv(s){return s.data+s.meta}function ye(s,...n){for(const e of n)s.data+=e.data,s.meta+=e.meta}function ks(s,n){s.data-=n.data,s.meta-=n.meta}class ol{constructor(n){h(this,"attributes");h(this,"content");this.attributes=Oi.create(),this.content=n}static create(n){return new ol(n)}get length(){return this.content.length}substring(n,e){const i=new ol(this.content.substring(n,e));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,e,i){return this.attributes.set(n,e,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const i=e.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Xn(this.content),e=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(e)){const d=JSON.parse(c),g=typeof d=="string"?`"${Xn(l)}":"${Xn(d)}"`:`"${Xn(l)}":${String(d)}`;i.push(g)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof ia&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class Qe extends cl{constructor(e,i){super(i);h(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,i){return new Qe(e,i)}edit(e,i,l,c,d){const g=i?ol.create(i):void 0;if(g&&c)for(const[C,P]of Object.entries(c))g.setAttr(C,P,l);const[y,p,T,x]=this.rgaTreeSplit.edit(e,l,g,d);return[x.map(C=>({...C,value:C.value?{attributes:Ni(C.value.getAttributes()),content:C.value.getContent()}:{attributes:void 0,content:""},type:"content"})),p,T,[y,y]]}setStyle(e,i,l,c){const d={data:0,meta:0},[,g,y]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,p,T]=this.rgaTreeSplit.findNodeWithSplit(e[0],l);ye(d,g,p);const x=[],I=this.rgaTreeSplit.findBetween(T,y),C=[];for(const H of I){const Y=H.getCreatedAt().getActorID();let W=Qo;c!=null&&(W=c.get(Y)?c.get(Y):0n),H.canStyle(l,W)&&C.push(H)}const P=[];for(const H of C){if(H.isRemoved())continue;const[Y,W]=this.rgaTreeSplit.findIndexesFromRange(H.createPosRange());x.push({type:"style",actor:l.getActorID(),from:Y,to:W,value:{attributes:Ni(i)}});for(const[ut,F]of Object.entries(i)){const[ct]=H.getValue().setAttr(ut,F,l);ct!==void 0&&P.push({parent:H.getValue(),child:ct});const tt=H.getValue().getAttrs().getNodeMapByKey().get(ut);tt!==void 0&&ye(d,tt.getDataSize())}}return[P,d,x]}indexRangeToPosRange(e,i){const l=this.rgaTreeSplit.indexToPos(e);return e===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const i of this.rgaTreeSplit)i.isRemoved()||e.push(i.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();e.push({attributes:Ni(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Qe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())e.push(l)}return e}}class fl extends bn{constructor(e,i,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"content");h(this,"attributes");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=d}static create(e,i,l,c,d,g){return new fl(e,i,l,c,d,g)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,p]=d.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);e.acc(p);for(const T of y)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I})=>({type:"edit",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class hl extends bn{constructor(e,i,l,c,d){super(e,d);h(this,"fromPos");h(this,"toPos");h(this,"attributes");this.fromPos=i,this.toPos=l,this.attributes=c}static create(e,i,l,c,d){return new hl(e,i,l,c,d)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,p]=d.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);e.acc(y);for(const T of g)e.registerGCPair(T);return{opInfos:p.map(({from:T,to:x,value:I})=>({type:"style",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Sw=2,Tw="root",Qn="text";function Go(s,n){let e=0;const i=s.children;for(let l=0;l<n;l++){const c=i[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class bw{constructor(n,e=[]){h(this,"type");h(this,"parent");h(this,"_children");h(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new D(N.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const i=e.updateDescendantsSize();e.isRemoved||(n+=i)}return this.size+=n,this.paddedSize}get isText(){return this.type===Qn}get paddedSize(){return this.size+(this.isText?0:Sw)}isAncestorOf(n){return ww(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){const i={data:0,meta:0};if(n===0||n===this.size)return[void 0,i];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,i];const d=this.getDataSize();this.value=l;const g=this.cloneText(n+e);return g.value=c,this.parent.insertAfterInternal(g,this),ye(i,this.getDataSize(),g.getDataSize()),ks(i,d),[g,i]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new D(N.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(e);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize();const d=this.children.slice(0,n),g=this.children.slice(n);this._children=d,c._children=g,this.size=this._children.reduce((y,p)=>y+p.paddedSize,0),c.size=c._children.reduce((y,p)=>y+p.paddedSize,0);for(const y of c._children)y.parent=c;return ye(i,this.getDataSize(),c.getDataSize()),ks(i,l),[c,i]}insertAfterInternal(n,e){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,e){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new D(N.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const i=this._children.indexOf(e);if(i!==-1)return i;e=e.parent}return-1}}function ww(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var Wt=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Wt||{});function C0(s,n,e,i){if(n>e)throw new D(N.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new D(N.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new D(N.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const d=c.isText?n-l:n-l-1,g=c.isText?e-l:e-l-1,y=!c.isText&&d<0,p=!c.isText&&g>c.size;(c.isText||y)&&i([c,c.isText?"Text":"Start"],p),C0(c,Math.max(0,d),Math.min(g,c.size),i),p&&i([c,"End"],p)}l+=c.paddedSize}}function k0(s,n,e=0){for(const i of s.children)k0(i,n,e+1);n(s,e)}function bc(s,n,e=0){for(const i of s._children)bc(i,n,e+1);n(s,e)}function Od(s,n,e=!0){if(n>s.size)throw new D(N.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let i=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return Od(c,n-l,e);if(n===l)return{node:s,offset:i};if(!e&&c.paddedSize===n-l)return{node:s,offset:i+1};if(c.paddedSize>n-l)return Od(c,n-l-1,e);l+=c.paddedSize,i+=1}return{node:s,offset:i}}function R0(s){return s.isText||s.children.length===0?s:R0(s.children[0])}function Aw(s,n){if(s.size<n)throw new D(N.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const i=s.children[e];if(i.size<n)n-=i.size;else{s=i;break}}return{node:s,offset:n}}class Ew{constructor(n){h(this,"root");this.root=n}tokensBetween(n,e,i){C0(this.root,n,e,i)}traverse(n){k0(this.root,n,0)}traverseAll(n){bc(this.root,n,0)}findTreePos(n,e=!0){return Od(this.root,n,e)}treePosToPath(n){const e=[];let i=n.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new D(N.ErrInvalidArgument,"invalid treePos");const c=Go(i.parent,l);e.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const l=Go(i,n.offset);e.push(l)}else e.push(n.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new D(N.ErrInvalidArgument,"invalid treePos");e.push(l),i=i.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new D(N.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let i=0;i<n.length-1;i++){const l=n[i];if(e=e.children[l],!e)throw new D(N.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return Aw(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new D(N.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:i}=n;if(e.isText){if(e.size===i){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===i?e:R0(e.children[i])}indexOf(n){let{node:e}=n;const{offset:i}=n;let l=0,c=1;if(e.isText){l+=i;const d=e.parent,g=d.findOffset(e);if(g===-1)throw new D(N.ErrInvalidArgument,"invalid pos");l+=Go(d,g),e=e.parent}else l+=Go(e,i);for(;e!=null&&e.parent;){const d=e.parent,g=d.findOffset(e);if(g===-1)throw new D(N.ErrInvalidArgument,"invalid pos");l+=Go(d,g),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const Nw=(s,n)=>s===n?0:s<n?-1:1;class xw{constructor(n,e,i){h(this,"key");h(this,"value");h(this,"parent");h(this,"left");h(this,"right");h(this,"isRed");this.key=n,this.value=e,this.isRed=i}}class Dw{constructor(n){h(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class B0{constructor(n){h(this,"root");h(this,"comparator");h(this,"counter");this.comparator=typeof n<"u"?n:Nw,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new Dw(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const i=this.comparator(n,e.key);if(i>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(i<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const i=this.comparator(n,e.key);if(i===0)return e;i<0?e=e.left:i>0&&(e=e.right)}}putInternal(n,e,i){if(!i)return this.counter+=1,new xw(n,e,!0);const l=this.comparator(n,i.key);return l<0?i.left=this.putInternal(n,e,i.left):l>0?i.right=this.putInternal(n,e,i.right):i.value=e,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class kn{constructor(n,e){h(this,"parentID");h(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new kn(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:i}=n,l;return i.isText?(i.parent.children[0]===i&&e===0?l=i.parent:l=i,i=i.parent):e===0?l=i:l=i.children[e-1],kn.of(i.id,pe.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return kn.of(pe.of(Tn.fromStruct(n.parentID.createdAt),n.parentID.offset),pe.of(Tn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),i=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(i);if(!l||!c)throw new D(N.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${i.toTestString()})`);return!i.equals(e)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class pe{constructor(n,e){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new pe(n,e)}static fromStruct(n){return pe.of(Tn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const i=n.getCreatedAt().compare(e.getCreatedAt());return i!==0?i:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ze extends bw{constructor(e,i,l,c,d){super(i);h(this,"id");h(this,"removedAt");h(this,"attrs");h(this,"insPrevID");h(this,"insNextID");h(this,"_value","");this.id=e,this.removedAt=d,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,i,l,c){return new Ze(e,i,l,c)}deepcopy(){var i;const e=new Ze(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new D(N.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new D(N.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),i&&this.updateAncestorsSize()}cloneText(e){return new Ze(pe.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ze(pe.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,i,l){const[c,d]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=e.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return[c,d]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,i){this.attrs||(this.attrs=new Oi);const l=[];for(const[c,d]of Object.entries(e))l.push(this.attrs.set(c,d,i));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Zn),this.removedAt&&(e.meta+=Zn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const i of this.attrs)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}function Cd(s){var e;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(Cd)};return s.attrs&&(n.attributes=Ni((e=s.attrs)==null?void 0:e.toObject())),n}function Ld(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,i)=>e.getKey().localeCompare(i.getKey())).map(e=>{const i=JSON.parse(e.getValue());return typeof i=="string"?`${e.getKey()}="${i}"`:`${e.getKey()}="${Xn(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>Ld(e)).join("")}</${s.type}>`}function I0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(I0),size:s.size,isRemoved:s.isRemoved}}class Fe extends cl{constructor(e,i){super(i);h(this,"indexTree");h(this,"nodeMapByID");this.indexTree=new Ew(e),this.nodeMapByID=new B0(pe.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,i){return new Fe(e,i)}findFloorNode(e){const i=this.nodeMapByID.floorEntry(e);if(!(!i||!i.key.getCreatedAt().equals(e.getCreatedAt())))return i.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,i){let l={data:0,meta:0};const[c,d]=e.toTreeNodePair(this);let g=d;const y=c===g,p=g.parent&&!y?g.parent:c;if(g.isText){const[,T]=g.split(this,e.getLeftSiblingID().getOffset()-g.id.getOffset());l=T}if(i){const T=p.allChildren,x=y?0:T.indexOf(g)+1;for(let I=x;I<T.length;I++){const C=T[I];if(!C.id.getCreatedAt().after(i))break;g=C}}return[[p,g],l]}style(e,i,l,c){const d={data:0,meta:0},[[g,y],p]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);ye(d,I,p);const C=[],P=i?Ni(i):{},H=[];return this.traverseInPosRange(g,y,T,x,([Y,W])=>{var ct;const ut=Y.getCreatedAt().getActorID();let F=Qo;if(c!=null&&(F=c.get(ut)?c.get(ut):0n),Y.canStyle(l,F)&&i){const tt=Y.setAttrs(i,l),et=tt.reduce((At,[,re])=>(re&&(At[re.getKey()]=P[re.getKey()]),At),{}),yt=Y.parent,wt=Y.prevSibling||Y.parent;Object.keys(et).length>0&&C.push({type:"style",from:this.toIndex(yt,wt),to:this.toIndex(Y,Y),fromPath:this.toPath(yt,wt),toPath:this.toPath(Y,Y),actor:l.getActorID(),value:et});for(const[At]of tt)At&&H.push({parent:Y,child:At});for(const[At]of Object.entries(P)){const re=(ct=Y.attrs)==null?void 0:ct.getNodeMapByKey().get(At);re!==void 0&&W!==Wt.End&&ye(d,re.getDataSize())}}}),[H,C,d]}removeStyle(e,i,l,c){const d={data:0,meta:0},[[g,y],p]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);ye(d,I,p);const C=[],P=[];return this.traverseInPosRange(g,y,T,x,([H])=>{const Y=H.getCreatedAt().getActorID();let W=Qo;if(c!=null&&(W=c.get(Y)?c.get(Y):0n),H.canStyle(l,W)&&i){H.attrs||(H.attrs=new Oi);for(const ct of i){const tt=H.attrs.remove(ct,l);for(const et of tt)P.push({parent:H,child:et})}const ut=H.parent,F=H.prevSibling||H.parent;C.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(ut,F),to:this.toIndex(H,H),fromPath:this.toPath(ut,F),toPath:this.toPath(H,H),value:i})}}),[P,C,d]}edit(e,i,l,c,d,g){const y={data:0,meta:0},[[p,T],x]=this.findNodesAndSplitText(e[0],c),[[I,C],P]=this.findNodesAndSplitText(e[1],c);ye(y,P,x);const H=this.toIndex(p,T),Y=this.toPath(p,T),W=[],ut=[],F=[];this.traverseInPosRange(p,T,I,C,([et,yt],wt)=>{if(yt===Wt.Start&&!wt)for(const Le of et.children)F.push(Le);const At=et.getCreatedAt().getActorID();let re=Qo;g!=null&&(re=g.get(At)?g.get(At):0n),(et.canDelete(c,re)||W.includes(et.parent))&&((yt===Wt.Text||yt===Wt.Start)&&W.push(et),ut.push([et,yt]))});const ct=this.makeDeletionChanges(ut,c),tt=[];for(const et of W)et.remove(c),et.isRemoved&&tt.push({parent:this,child:et});for(const et of F)et.removedAt||p.append(et);if(l>0){let et=0,yt=p,wt=T;for(;et<l;)yt.split(this,yt.findOffset(wt)+1,d),wt=yt,yt=yt.parent,et++;ct.push({type:"content",from:H,to:H,fromPath:Y,toPath:Y,actor:c.getActorID()})}if(i!=null&&i.length){const et=[];let yt=T;for(const wt of i)yt===p?p.insertAt(wt,0):p.insertAfter(wt,yt),yt=wt,bc(wt,At=>{p.isRemoved?(At.remove(c),tt.push({parent:this,child:At})):ye(y,At.getDataSize()),this.nodeMapByID.put(At.id,At)}),wt.isRemoved||et.push(wt);if(et.length){const wt=et.map(At=>Cd(At));ct.length&&ct[ct.length-1].from===H?ct[ct.length-1].value=wt:ct.push({type:"content",from:H,to:H,fromPath:Y,toPath:Y,actor:c.getActorID(),value:wt})}}return[ct,tt,y]}editT(e,i,l,c,d){const g=this.findPos(e[0]),y=this.findPos(e[1]);this.edit([g,y],i,l,c,d)}move(e,i,l){throw new D(N.ErrUnimplemented,`not implemented: ${e}, ${i}, ${l}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,l=e.insNextID;if(i){const d=this.findFloorNode(i);d.insNextID=l}if(l){const d=this.findFloorNode(l);d.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&e.push({parent:this,child:i});for(const l of i.getGCPairs())e.push(l)}),e}findPos(e,i=!0){const l=this.indexTree.findTreePos(e,i);return kn.fromTreePos(l)}pathToPosRange(e){const i=this.pathToIndex(e);return[this.findPos(i),this.findPos(i+1)]}pathToPos(e){const i=this.indexTree.pathToIndex(e);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Ld(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),i=(l,c=void 0,d=void 0,g=0)=>{var C,P,H,Y;let y,p,T;const x=l.isText?{node:l,offset:0}:c&&d?this.toTreePos(c,d):null;x&&(y=this.indexTree.indexOf(x),p=this.indexTree.treePosToPath(x),T=kn.fromTreePos(x).toStruct());const I={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(C=l.removedAt)==null?void 0:C.toTestString(),insPrev:(P=l.insPrevID)==null?void 0:P.toTestString(),insNext:(H=l.insNextID)==null?void 0:H.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?Ni((Y=l.attrs)==null?void 0:Y.toObject()):void 0,index:y,path:p,pos:T};for(let W=0;W<l.allChildren.length;W++){const ut=W===0?l:l.allChildren[W-1];I.children.push(i(l.allChildren[W],l,ut,g+1))}return I};return i(e)}getRootTreeNode(){return Cd(this.indexTree.getRoot())}toTestTreeNode(){return I0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Fe(e.deepcopy(),this.getCreatedAt())}toPath(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const i=this.findPos(e[0]);return e[0]===e[1]?[i,i]:[i,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[i,l]=e,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[[i,l]]=this.findNodesAndSplitText(e[0]),[[c,d]]=this.findNodesAndSplitText(e[1]);return[this.toPath(i,l),this.toPath(c,d)]}posRangeToIndexRange(e){const[[i,l]]=this.findNodesAndSplitText(e[0]),[[c,d]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(i,l),this.toIndex(c,d)]}traverseInPosRange(e,i,l,c,d){const g=this.toIndex(e,i),y=this.toIndex(l,c);return this.indexTree.tokensBetween(g,y,d)}toTreePos(e,i){if(!e||!i)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const d=e.findOffset(c);return{node:e,offset:d}}if(e===i)return{node:e,offset:0};let l=e.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,i){const l=[],c=[];let d=null,g=null;for(let y=0;y<e.length;y++){const p=e[y],T=e[y+1];d||(d=p),g=p;const x=this.findRightToken(p);(!x||!T||x[0]!==T[0]||x[1]!==T[1])&&(c.push([d,g]),d=null,g=null)}for(const y of c){const[p,T]=y,[x,I]=this.findLeftToken(p),[C,P]=T,H=I===Wt.Start?x:x.parent,Y=P===Wt.Start?C:C.parent,W=this.toIndex(H,x),ut=this.toIndex(Y,C);W<ut&&(l.length>0&&W===l[l.length-1].to?(l[l.length-1].to=ut,l[l.length-1].toPath=this.toPath(Y,C)):l.push({type:"content",from:W,to:ut,fromPath:this.toPath(H,x),toPath:this.toPath(Y,C),actor:i.getActorID()}))}return l.reverse()}findRightToken([e,i]){if(i===Wt.Start){const y=e.allChildren;return y.length>0?[y[0],y[0].isText?Wt.Text:Wt.Start]:[e,Wt.End]}const l=e.parent,c=l.allChildren,d=c.indexOf(e);if(l&&d===c.length-1)return[l,Wt.End];const g=c[d+1];return[g,g.isText?Wt.Text:Wt.Start]}findLeftToken([e,i]){if(i===Wt.End){const y=e.allChildren;if(y.length>0){const p=y[y.length-1];return[p,p.isText?Wt.Text:Wt.End]}return[e,Wt.Start]}const l=e.parent,c=l.allChildren,d=c.indexOf(e);if(l&&d===0)return[l,Wt.Start];const g=c[d-1];return[g,g.isText?Wt.Text:Wt.End]}}class dl extends bn{constructor(e,i,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"contents");h(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=d}static create(e,i,l,c,d,g){return new dl(e,i,l,c,d,g)}execute(e,i,l){var x;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=this.getExecutedAt(),g=c,[y,p,T]=g.edit([this.fromPos,this.toPos],(x=this.contents)==null?void 0:x.map(I=>I.deepcopy()),this.splitLevel,d,(()=>{let I=d.getDelimiter();return this.contents!==void 0&&(I+=this.contents.length),()=>Tn.of(d.getLamport(),++I,d.getActorID())})(),l);e.acc(T);for(const I of p)e.registerGCPair(I);return{opInfos:y.map(({from:I,to:C,value:P,splitLevel:H,fromPath:Y,toPath:W})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:I,to:C,value:P,splitLevel:H,fromPath:Y,toPath:W}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${i},${l},${c.map(d=>Ld(d)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Rs{constructor(n){h(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[i,l]of n){const c=this.vector.get(i),d=c&&c>l?c:l;e.set(i,d)}for(const[i,l]of this){const c=n.get(i),d=c&&c>l?c:l;e.set(i,d)}return new Rs(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,i]of this.vector)n.set(e,i);return new Rs(n)}filter(n){const e=new Map;for(const[i]of n){const l=this.vector.get(i);l!==void 0&&e.set(i,l)}return new Rs(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const z0=new Rs(new Map);class On{constructor(n,e,i,l,c){h(this,"clientSeq");h(this,"serverSeq");h(this,"actor");h(this,"lamport");h(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=xd}static of(n,e,i,l,c){return new On(n,e,i,l,c)}next(n=!1){if(n)return new On(this.clientSeq+1,this.lamport,this.actor,z0,xd);const e=this.versionVector.deepcopy();return e.set(this.actor,this.lamport+1n),new On(this.clientSeq+1,this.lamport+1n,this.actor,e)}syncClocks(n){if(!n.hasClocks())return this;const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,i=this.versionVector.max(n.versionVector),l=new On(this.clientSeq,e,this.actor,i);return l.versionVector.set(this.actor,e),l}setClocks(n,e){const i=n>this.lamport?n+1n:this.lamport+1n;e.unset(Tc);const l=this.versionVector.max(e);return l.set(this.actor,i),On.of(this.clientSeq,i,this.actor,l)}createTimeTicket(n){return Tn.of(this.lamport,n,this.actor)}setActor(n){return new On(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new On(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new On(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Ow=new On(0,0n,Tc,z0);class Ps{constructor({id:n,operations:e,presenceChange:i,message:l}){h(this,"id");h(this,"operations");h(this,"presenceChange");h(this,"message");this.id=n,this.operations=e||[],this.presenceChange=i,this.message=l}static create({id:n,operations:e,presenceChange:i,message:l}){return new Ps({id:n,operations:e,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,i){const l=[],c=[];for(const d of this.operations){const g=d.execute(n,i,this.id.getVersionVector());if(!g)continue;const{opInfos:y,reverseOp:p}=g;l.push(...y),p&&c.unshift(p)}return this.presenceChange&&(this.presenceChange.type===_n.Put?e.set(this.id.getActorID(),Dn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Zt.bytesToHex(Zt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Zt.bytesToHex(Zt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:i,presenceChange:l,message:c}=n;return Ps.create({id:Zt.bytesToChangeID(Zt.hexToBytes(e)),operations:i==null?void 0:i.map(d=>Zt.bytesToOperation(Zt.hexToBytes(d))),presenceChange:l,message:c})}}class wc{constructor(n,e,i,l,c,d){h(this,"documentKey");h(this,"checkpoint");h(this,"isRemoved");h(this,"changes");h(this,"snapshot");h(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=i,this.changes=l,this.snapshot=d,this.versionVector=c}static create(n,e,i,l,c,d){return new wc(n,e,i,l,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Bs{constructor(n,e){h(this,"serverSeq");h(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Bs(n,e)}increaseClientSeq(n){return n===0?this:new Bs(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return Bs.of(e,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Cw=new Bs(0n,0);class Fn{constructor(n,e){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new Fn(n,e)}static fromStruct(n){return Fn.of(Tn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Fn(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const kw=Fn.of(Ls,0);class Rn{constructor(n,e){h(this,"id");h(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new Rn(n,e)}static fromStruct(n){const e=Fn.fromStruct(n.id);return Rn.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Fn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class oa extends A0{constructor(e,i,l){super(i);h(this,"id");h(this,"removedAt");h(this,"prev");h(this,"next");h(this,"insPrev");h(this,"insNext");this.id=e,this.removedAt=l}static create(e,i){return new oa(e,i)}static createComparator(){return(e,i)=>{const l=e.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new oa(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,i){const l=!this.removedAt;return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))?l:!1}canStyle(e,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Rn.of(this.id,0),Rn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Zn),this.removedAt&&(e.meta+=Zn),e}deepcopy(){return new oa(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const i=this.value;return this.value=i.substring(0,e),i.substring(e,i.length)}toIDString(){return this.id.toIDString()}}class Vs{constructor(){h(this,"head");h(this,"treeByIndex");h(this,"treeByID");this.head=oa.create(kw),this.treeByIndex=new al,this.treeByID=new B0(oa.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Vs}edit(n,e,i,l){const c={data:0,meta:0},[d,g,y]=this.findNodeWithSplit(n[1],e),[p,T,x]=this.findNodeWithSplit(n[0],e);ye(c,g,T);const I=this.findBetween(x,y),[C,P]=this.deleteNodes(I,e,l),H=y?y.getID():d.getID();let Y=Rn.of(H,0);if(i){const ut=this.posToIndex(p.createPosRange()[1],!0),F=this.insertAfter(p,oa.create(Fn.of(e,0),i));ye(c,F.getDataSize()),C.length&&C[C.length-1].from===ut?C[C.length-1].value=i:C.push({actor:e.getActorID(),from:ut,to:ut,value:i}),Y=Rn.of(F.getID(),F.getContentLength())}const W=[];for(const[,ut]of P)W.push({parent:this,child:ut});return[Y,W,c,C]}indexToPos(n){const[e,i]=this.treeByIndex.find(n),l=e;return Rn.of(l.getID(),i)}findIndexesFromRange(n){const[e,i]=n;return[this.posToIndex(e,!1),this.posToIndex(i,!0)]}posToIndex(n,e){const i=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new D(N.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),d=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+d}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Vs;let e=this.head.getNext(),i=n.head,l;for(;e;){if(l=n.insertAfter(i,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}i=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const i=n.getNext();return e.setPrev(n),i&&i.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const i=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,d]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,d,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new D(N.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const i=[];let l=n;for(;l&&l!==e;)i.push(l),l=l.getNext();return i}splitNode(n,e){const i={data:0,meta:0};if(e>n.getContentLength())throw new D(N.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return[n,i];if(e===n.getContentLength())return[n.getNext(),i];const l=n.getDataSize(),c=n.split(e);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const d=n.getInsNext();return d&&d.setInsPrev(c),c.setInsPrev(n),ye(i,n.getDataSize(),c.getDataSize()),ks(i,l),[c,i]}deleteNodes(n,e,i){if(!n.length)return[[],new Map];const[l,c]=this.filterNodes(n,e,i),d=new Map,g=this.makeChanges(c,e);for(const y of l)d.set(y.getID().toIDString(),y),y.remove(e);return this.deleteIndexNodes(c),[g,d]}filterNodes(n,e,i){const l=[],c=[],[d,g]=this.findEdgesOfCandidates(n);c.push(d);for(const y of n){const p=y.getCreatedAt().getActorID();let T=Qo;i!=null&&(T=i.get(p)?i.get(p):0n),y.canDelete(e,T)?l.push(y):c.push(y)}return c.push(g),[l,c]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const i=[];let l,c;for(let d=0;d<n.length-1;d++){const g=n[d],y=n[d+1];g.getNext()!=y&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:e.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const i=n[e],l=n[e+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),i=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(i),i&&i.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const Vv=s=>s<0?Math.ceil(s):Math.floor(s);var Wn=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(Wn||{});class Me extends cl{constructor(e,i,l){super(l);h(this,"valueType");h(this,"value");switch(this.valueType=e,e){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Tt.fromNumber(i).toInt():this.value=Vv(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Tt.fromNumber(i):this.value=i;break;default:throw new D(N.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,i,l){return new Me(e,i,l)}static valueFromBytes(e,i){switch(e){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Tt.fromBytesLE(Array.from(i));default:throw new D(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Me.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Tt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Me.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new D(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Jt.Long?this.value=this.value+e.getValue().toInt():this.value=Tt.fromNumber(this.value+Vv(e.getValue())).toInt(),this}}class Hs extends bn{constructor(e,i,l){super(e,l);h(this,"value");this.value=i}static create(e,i,l){return new Hs(e,i,l)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Me))throw new D(N.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===Jt.Long?e.getValue().multiply(-1):e.getValue()*-1;return Hs.create(this.getParentCreatedAt(),Kt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class xi extends bn{constructor(e,i,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"attributes");h(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=d}static create(e,i,l,c,d){return new xi(e,i,l,c,[],d)}static createTreeRemoveStyleOperation(e,i,l,c,d){return new xi(e,i,l,new Map,c,d)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=c;let g,y,p={data:0,meta:0};if(this.attributes.size){const T={};[...this.attributes].forEach(([x,I])=>T[x]=I),[y,g,p]=d.style([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}else{const T=this.attributesToRemove;[y,g,p]=d.removeStyle([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}e.acc(p);for(const T of y)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I,fromPath:C,toPath:P})=>({type:"tree-style",from:T,to:x,value:this.attributes.size?{attributes:I}:{attributesToRemove:I},fromPath:C,toPath:P,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,d])=>`${c}:"${d}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class gl extends bn{constructor(e,i,l,c){super(e,c);h(this,"createdAt");h(this,"value");this.createdAt=i,this.value=l}static create(e,i,l,c){return new gl(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(N.ErrInvalidArgument,"fail to execute, only array can execute set");const l=this.value.deepcopy();return i.insertAfter(this.createdAt,l,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),e.registerElement(l),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:void 0}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}}function Rw(s){const n=new Sc,e=n.data;for(const[i,l]of Object.entries(s))e[i]=JSON.stringify(l);return n}function Bw(s){if(s.type===_n.Put)return new rl({type:Ma.PUT,presence:Rw(s.presence)});if(s.type===_n.Clear)return new rl({type:Ma.CLEAR});throw new D(N.ErrUnimplemented,"unimplemented type")}function Iw(s){return new b0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function M0(s){return new pc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Ec(s.getActorID()),versionVector:qd(s.getVersionVector())})}function _(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Ec(s.getActorID())})}function qd(s){if(!s)return;const n=new vc;for(const[e,i]of s){const l=mA(Ec(e));n.vector[l]=BigInt(i.toString())}return n}function U0(s){switch(s){case Jt.Null:return ht.NULL;case Jt.Boolean:return ht.BOOLEAN;case Jt.Integer:return ht.INTEGER;case Jt.Long:return ht.LONG;case Jt.Double:return ht.DOUBLE;case Jt.String:return ht.STRING;case Jt.Bytes:return ht.BYTES;case Jt.Date:return ht.DATE;default:throw new D(N.ErrInvalidType,`unsupported type: ${s}`)}}function L0(s){switch(s){case Wn.Int:return ht.INTEGER_CNT;case Wn.Long:return ht.LONG_CNT;default:throw new D(N.ErrInvalidType,`unsupported type: ${s}`)}}function Ru(s){if(s instanceof we)return new ln({type:ht.JSON_OBJECT,createdAt:_(s.getCreatedAt()),value:Q0(s)});if(s instanceof Ae)return new ln({type:ht.JSON_ARRAY,createdAt:_(s.getCreatedAt()),value:fA(s)});if(s instanceof Qe)return new ln({type:ht.TEXT,createdAt:_(s.getCreatedAt())});if(s instanceof Kt)return new ln({type:U0(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Me)return new ln({type:L0(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Fe)return new ln({type:ht.TREE,createdAt:_(s.getCreatedAt()),value:dA(s)});throw new D(N.ErrUnimplemented,"unimplemented element")}function zw(s){return new el({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function Bu(s){return new Ua({createdAt:_(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Iu(s){return new za({parentId:Fo(s.getParentID()),leftSiblingId:Fo(s.getLeftSiblingID())})}function Fo(s){return new aa({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function q0(s){const n=new zd;if(s instanceof La){const e=s,i=new Ku;i.parentCreatedAt=_(e.getParentCreatedAt()),i.key=e.getKey(),i.value=Ru(e.getValue()),i.executedAt=_(e.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof js){const e=s,i=new $u;i.parentCreatedAt=_(e.getParentCreatedAt()),i.prevCreatedAt=_(e.getPrevCreatedAt()),i.value=Ru(e.getValue()),i.executedAt=_(e.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof Ei){const e=s,i=new Xu;i.parentCreatedAt=_(e.getParentCreatedAt()),i.prevCreatedAt=_(e.getPrevCreatedAt()),i.createdAt=_(e.getCreatedAt()),i.executedAt=_(e.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof Di){const e=s,i=new Zu;i.parentCreatedAt=_(e.getParentCreatedAt()),i.createdAt=_(e.getCreatedAt()),i.executedAt=_(e.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof fl){const e=s,i=new Qu;i.parentCreatedAt=_(e.getParentCreatedAt()),i.from=Bu(e.getFromPos()),i.to=Bu(e.getToPos()),i.content=e.getContent();const l=i.attributes;for(const[c,d]of e.getAttributes())l[c]=d;i.executedAt=_(e.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof hl){const e=s,i=new Fu;i.parentCreatedAt=_(e.getParentCreatedAt()),i.from=Bu(e.getFromPos()),i.to=Bu(e.getToPos());const l=i.attributes;for(const[c,d]of e.getAttributes())l[c]=d;i.executedAt=_(e.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof Hs){const e=s,i=new _u;i.parentCreatedAt=_(e.getParentCreatedAt()),i.value=Ru(e.getValue()),i.executedAt=_(e.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof dl){const e=s,i=new Wu;i.parentCreatedAt=_(e.getParentCreatedAt()),i.from=Iu(e.getFromPos()),i.to=Iu(e.getToPos()),i.contents=Vw(e.getContents()),i.splitLevel=e.getSplitLevel(),i.executedAt=_(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof xi){const e=s,i=new tc;i.parentCreatedAt=_(e.getParentCreatedAt()),i.from=Iu(e.getFromPos()),i.to=Iu(e.getToPos());const l=e.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[d,g]of e.getAttributes())c[d]=g}i.executedAt=_(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else if(s instanceof gl){const e=s,i=new ec;i.parentCreatedAt=_(e.getParentCreatedAt()),i.createdAt=_(e.getCreatedAt()),i.value=Ru(e.getValue()),i.executedAt=_(e.getExecutedAt()),n.body.case="arraySet",n.body.value=i}else throw new D(N.ErrUnimplemented,"unimplemented operation");return n}function Mw(s){const n=[];for(const e of s)n.push(q0(e));return n}function Uw(s){const n=new S0({id:M0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=Mw(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=Bw(s.getPresenceChange())),n}function Lw(s){const n=[];for(const e of s)n.push(Uw(e));return n}function qw(s){const n=[];for(const e of s)n.push(new T0({key:e.getStrKey(),element:Pd(e.getValue())}));return n}function Jw(s){const n=[];for(const e of s)n.push(new lc({element:Pd(e.getValue())}));return n}function Pw(s){const n=[];for(const e of s){const i=new uc;i.id=zw(e.getID()),i.value=e.getValue().getContent(),i.removedAt=_(e.getRemovedAt());const l=i.attributes,c=e.getValue().getAttrs();for(const d of c){const g=new Us;g.value=d.getValue(),g.updatedAt=_(d.getUpdatedAt()),l[d.getKey()]=g}n.push(i)}return n}function Vw(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new cc({content:Jd(e)}));return n}function Hw(s){const n={};for(const e of s)n[e.getKey()]=new Us({value:e.getValue(),updatedAt:_(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function Jd(s){if(!s)return[];const n=[];return bc(s,(e,i)=>{const l=new nl({id:Fo(e.id),type:e.type,removedAt:_(e.removedAt),depth:i});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=Fo(e.insPrevID)),e.insNextID&&(l.insNextId=Fo(e.insNextID)),e.attrs&&(l.attributes=Hw(e.attrs)),n.push(l)}),n}function jw(s){const n=new Ue;return n.body.case="jsonObject",n.body.value=new nc({nodes:qw(s.getRHT()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function J0(s){const n=new Ue;return n.body.case="jsonArray",n.body.value=new rc({nodes:Jw(s.getElements()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function Yw(s){const n=new Ue;return n.body.case="primitive",n.body.value=new ic({type:U0(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function Gw(s){const n=new Ue;return n.body.case="text",n.body.value=new ac({nodes:Pw(s.getRGATreeSplit()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function Kw(s){const n=new Ue;return n.body.case="counter",n.body.value=new sc({type:L0(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function P0(s){const n=new Ue;return n.body.case="tree",n.body.value=new oc({nodes:Jd(s.getRoot()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function Pd(s){if(s instanceof we)return jw(s);if(s instanceof Ae)return J0(s);if(s instanceof Kt)return Yw(s);if(s instanceof Qe)return Gw(s);if(s instanceof Me)return Kw(s);if(s instanceof Fe)return P0(s);throw new D(N.ErrUnimplemented,"unimplemented element")}function $w(s){return new Ci({documentKey:s.getDocumentKey(),checkpoint:Iw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:Lw(s.getChanges()),snapshot:s.getSnapshot(),versionVector:qd(s.getVersionVector())})}function $o(s){if(!(s instanceof Ct))return{};const n=s.findDetails(cw);for(const e of n)return e.metadata;return{}}function na(s){return $o(s).code??""}function V0(s){return On.of(s.clientSeq,BigInt(s.lamport),Gd(s.actorId),Vd(s.versionVector),BigInt(s.serverSeq))}function Vd(s){if(!s)return;const n=new Rs;return Object.entries(s.vector).forEach(([e,i])=>{const l=Ac(gA(e));n.set(l,BigInt(i.toString()))}),n}function nt(s){if(s)return Tn.of(BigInt(s.lamport),s.delimiter,Gd(s.actorId))}function Hd(s){const n={};return Object.entries(s.data).forEach(([e,i])=>{n[e]=JSON.parse(i)}),n}function Xw(s){const n=s.type;if(n===Ma.PUT){const e=Hd(s.presence);return{type:_n.Put,presence:e}}if(n===Ma.CLEAR)return{type:_n.Clear};throw new D(N.ErrInvalidType,`unsupported type: ${n}`)}function Zw(s){const n=new Map;return Object.entries(s).forEach(([e,i])=>{n.set(e,Hd(i))}),n}function H0(s){switch(s){case ht.NULL:return Jt.Null;case ht.BOOLEAN:return Jt.Boolean;case ht.INTEGER:return Jt.Integer;case ht.LONG:return Jt.Long;case ht.DOUBLE:return Jt.Double;case ht.STRING:return Jt.String;case ht.BYTES:return Jt.Bytes;case ht.DATE:return Jt.Date}throw new D(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function mc(s){switch(s){case ht.INTEGER_CNT:return Wn.Int;case ht.LONG_CNT:return Wn.Long}throw new D(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function zu(s){switch(s.type){case ht.JSON_OBJECT:return s.value?Z0(s.value):we.create(nt(s.createdAt));case ht.JSON_ARRAY:return s.value?cA(s.value):Ae.create(nt(s.createdAt));case ht.TEXT:return Qe.create(Vs.create(),nt(s.createdAt));case ht.TREE:return hA(s.value);case ht.NULL:case ht.BOOLEAN:case ht.INTEGER:case ht.LONG:case ht.DOUBLE:case ht.STRING:case ht.BYTES:case ht.DATE:return Kt.of(Kt.valueFromBytes(H0(s.type),s.value),nt(s.createdAt));case ht.INTEGER_CNT:case ht.LONG_CNT:return Me.create(mc(s.type),Me.valueFromBytes(mc(s.type),s.value),nt(s.createdAt))}}function Mu(s){return Rn.of(Fn.of(nt(s.createdAt),s.offset),s.relativeOffset)}function j0(s){return Fn.of(nt(s.createdAt),s.offset)}function Qw(s){const n=ol.create(s.value);Object.entries(s.attributes).forEach(([i,l])=>{n.setAttr(i,l.value,nt(l.updatedAt))});const e=oa.create(j0(s.id),n);return e.remove(nt(s.removedAt)),e}function xs(s){return kn.of(_o(s.parentId),_o(s.leftSiblingId))}function _o(s){return pe.of(nt(s.createdAt),s.offset)}function Fw(s){if(!s.length)return;const n=[];return s.forEach(e=>{const i=jd(e.content);n.push(i)}),n}function jd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(Ww(l));const e=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)i.get(s[l].depth-1).prepend(n[l]),i.set(s[l].depth,n[l]);return e.updateDescendantsSize(),Fe.create(e,Ls).getRoot()}function _w(s){const n=Oi.create();for(const[e,i]of Object.entries(s))n.setInternal(e,i.value,nt(i.updatedAt),i.isRemoved);return n}function Ww(s){const n=_o(s.id),e=Ze.create(n,s.type),i=Object.entries(s.attributes);return e.isText?e.value=s.value:i.length&&(e.attrs=_w(s.attributes)),s.insPrevId&&(e.insPrevID=_o(s.insPrevId)),s.insNextId&&(e.insNextID=_o(s.insNextId)),e.removedAt=nt(s.removedAt),e}function Y0(s){if(s.body.case==="set"){const n=s.body.value;return La.create(n.key,zu(n.value),nt(n.parentCreatedAt),nt(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return js.create(nt(n.parentCreatedAt),nt(n.prevCreatedAt),zu(n.value),nt(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Ei.create(nt(n.parentCreatedAt),nt(n.prevCreatedAt),nt(n.createdAt),nt(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return Di.create(nt(n.parentCreatedAt),nt(n.createdAt),nt(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{e.set(i,l)}),fl.create(nt(n.parentCreatedAt),Mu(n.from),Mu(n.to),n.content,e,nt(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{e.set(i,l)}),hl.create(nt(n.parentCreatedAt),Mu(n.from),Mu(n.to),e,nt(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return Hs.create(nt(n.parentCreatedAt),zu(n.value),nt(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return dl.create(nt(n.parentCreatedAt),xs(n.from),xs(n.to),Fw(n.contents),n.splitLevel,nt(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,i=n.attributesToRemove;return(i==null?void 0:i.length)>0?xi.createTreeRemoveStyleOperation(nt(n.parentCreatedAt),xs(n.from),xs(n.to),i,nt(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{e.set(l,c)}),xi.create(nt(n.parentCreatedAt),xs(n.from),xs(n.to),e,nt(n.executedAt)))}else if(s.body.case==="arraySet"){const n=s.body.value;return gl.create(nt(n.parentCreatedAt),nt(n.createdAt),zu(n.value),nt(n.executedAt))}else throw new D(N.ErrUnimplemented,"unimplemented operation")}function tA(s){const n=[];for(const e of s){const i=Y0(e);i&&n.push(i)}return n}function G0(s){const n=[];for(const e of s)n.push(Ps.create({id:V0(e.id),operations:tA(e.operations),presenceChange:e.presenceChange?Xw(e.presenceChange):void 0,message:e.message}));return n}function eA(s){return Bs.of(BigInt(s.serverSeq),s.clientSeq)}function nA(s){return wc.create(s.documentKey,eA(s.checkpoint),s.isRemoved,G0(s.changes),Vd(s.versionVector),s.snapshot)}function K0(s){const n=new il;for(const i of s.nodes){const l=Yd(i.element);n.set(i.key,l,l.getPositionedAt())}const e=new we(nt(s.createdAt),n);return e.setMovedAt(nt(s.movedAt)),e.setRemovedAt(nt(s.removedAt)),e}function $0(s){const n=new sl;for(const i of s.nodes)n.insert(Yd(i.element));const e=new Ae(nt(s.createdAt),n);return e.setMovedAt(nt(s.movedAt)),e.setRemovedAt(nt(s.removedAt)),e}function rA(s){const n=Kt.of(Kt.valueFromBytes(H0(s.type),s.value),nt(s.createdAt));return n.setMovedAt(nt(s.movedAt)),n.setRemovedAt(nt(s.removedAt)),n}function iA(s){const n=new Vs;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,Qw(l));l.insPrevId&&c.setInsPrev(n.findNode(j0(l.insPrevId))),e=c}const i=new Qe(n,nt(s.createdAt));return i.setMovedAt(nt(s.movedAt)),i.setRemovedAt(nt(s.removedAt)),i}function aA(s){const n=Me.create(mc(s.type),Me.valueFromBytes(mc(s.type),s.value),nt(s.createdAt));return n.setMovedAt(nt(s.movedAt)),n.setRemovedAt(nt(s.removedAt)),n}function X0(s){const n=jd(s.nodes);return Fe.create(n,nt(s.createdAt))}function Yd(s){if(s.body.case==="jsonObject")return K0(s.body.value);if(s.body.case==="jsonArray")return $0(s.body.value);if(s.body.case==="primitive")return rA(s.body.value);if(s.body.case==="text")return iA(s.body.value);if(s.body.case==="counter")return aA(s.body.value);if(s.body.case==="tree")return X0(s.body.value);throw new D(N.ErrUnimplemented,"unimplemented element")}function sA(s){return s.map(n=>({path:n.path,type:n.type}))}function oA(s){if(!s)return{root:we.create(Ls),presences:new Map};const n=nd.fromBinary(s);return{root:Yd(n.root),presences:Zw(n.presences)}}function lA(s){const n=qd(s);return Ac(n.toBinary())}function uA(s){const n=Kd(s),e=vc.fromBinary(n);return Vd(e)}function Z0(s){if(!s)throw new D(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return K0(n.body.value)}function Q0(s){return Pd(s).toBinary()}function cA(s){if(!s)throw new D(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return $0(n.body.value)}function fA(s){return J0(s).toBinary()}function hA(s){if(!s)throw new D(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return X0(n.body.value)}function dA(s){return P0(s).toBinary()}function Ac(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Gd(s){return Ac(s)}function Kd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function gA(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),e=n.length,i=new Uint8Array(e);for(let l=0;l<e;l++)i[l]=n.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function Ec(s){return Kd(s)}function mA(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let e=0;e<s.byteLength;e++)n+=String.fromCharCode(s[e]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function yA(s){const n=pc.fromBinary(s);return V0(n)}function pA(s){const n=zd.fromBinary(s);return Y0(n)}const Zt={fromPresence:Hd,toChangePack:$w,fromChangePack:nA,fromChanges:G0,toTreeNodes:Jd,fromTreeNodes:jd,objectToBytes:Q0,bytesToObject:Z0,bytesToSnapshot:oA,bytesToHex:Ac,hexToBytes:Kd,toHexString:Gd,toUint8Array:Ec,toOperation:q0,toChangeID:M0,PbChangeID:pc,bytesToChangeID:yA,bytesToOperation:pA,versionVectorToHex:lA,hexToVersionVector:uA,fromSchemaRules:sA};var Be=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Be||{});let Ca=3;function vA(s){Ca=s}const rt={trivial:(...s)=>{Ca>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Ca>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Ca>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Ca>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Ca>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Ca<=s};function F0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class SA{constructor(n,e,i,l,c){h(this,"reconnectStreamDelay");h(this,"doc");h(this,"docID");h(this,"syncMode");h(this,"remoteChangeEventReceived");h(this,"watchStream");h(this,"watchLoopTimerID");h(this,"watchAbortController");h(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=i,this.syncMode=l,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===ju.RealtimeSyncOff?!1:this.syncMode===ju.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==ju.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function TA(s,n){const e=[];for(const i of n){const l=bA(s,i.path),c=wA(l,i);if(!c.valid)for(const d of c.errors||[])e.push(d)}return{valid:e.length===0,errors:e}}function bA(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const e=n.split(".");let i=s;for(let l=1;l<e.length;l++){const c=e[l];if(!(i instanceof we))return;i=i.get(c)}return i}function wA(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return EA(s,n);case"object":if(!(s instanceof we))return{valid:!1,errors:[{path:n.path,message:`Expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof Ae))return{valid:!1,errors:[{path:n.path,message:`Expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Fe))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Me))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function AA(s){switch(s){case"null":return Jt.Null;case"boolean":return Jt.Boolean;case"integer":return Jt.Integer;case"long":return Jt.Long;case"double":return Jt.Double;case"string":return Jt.String;case"bytes":return Jt.Bytes;case"date":return Jt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function EA(s,n){return s instanceof Kt&&s.getType()===AA(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`Expected ${n.type} at path ${n.path}`}]}}const _h=()=>{};class NA{constructor(n){h(this,"finalized",!1);h(this,"observers",[]);h(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,i){let l;if(!n)throw new D(N.ErrInvalidArgument,"missing observer");if(this.finalized)throw new D(N.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:i},l.next===void 0&&(l.next=_h),l.error===void 0&&(l.error=_h),l.complete===void 0&&(l.complete=_h);const c=F0(),d=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){rt.warn(g)}return d}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(i){rt.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function xA(s){const n=new NA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class Cs{constructor(n,e,i,l){h(this,"prevID");h(this,"nextID");h(this,"delimiter");h(this,"message");h(this,"root");h(this,"operations");h(this,"presenceChange");h(this,"previousPresence");h(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=w0,this.root=e,this.operations=[],this.previousPresence=Dn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,i,l){return new Cs(n,e,i,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ps.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const i of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}class ll{constructor(n){h(this,"rootObject");h(this,"elementPairMapByCreatedAt");h(this,"gcElementSetByCreatedAt");h(this,"gcPairMap");h(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof Qe||e instanceof Fe)for(const i of e.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new ll(we.create(Ls))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const i=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new D(N.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),ye(this.docSize.live,n.getDataSize()),n instanceof sa&&n.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),ye(this.docSize.live,i.getDataSize()),!1))}deregisterElement(n){let e=0;const i=l=>{const c=l.getCreatedAt().toIDString();ks(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return i(n),n instanceof sa&&n.getDescendants(l=>(i(l),!1)),e}registerRemovedElement(n){ye(this.docSize.gc,n.getDataSize()),ks(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Zn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const i=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ye(this.docSize.gc,i),ks(this.docSize.live,i),n.child instanceof ia||(this.docSize.live.meta+=Zn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const i=this.elementPairMapByCreatedAt.get(e);i.element instanceof sa&&i.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new ll(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ye(this.docSize.live,n)}}function _0(s,n){const e=new ul(s);return new Proxy(n,e.getHandlers())}class ul{constructor(n){h(this,"context");h(this,"handlers");this.context=n,this.handlers={set:(e,i,l)=>(rt.isEnabled(Be.Trivial)&&rt.trivial(`obj[${i}]=${JSON.stringify(l)}`),ul.setInternal(n,e,i,l),!0),get:(e,i)=>(rt.isEnabled(Be.Trivial)&&rt.trivial(`obj[${i}]`),i==="getID"?()=>e.getCreatedAt():i==="toJSON"||i==="toString"?()=>e.toJSON():i==="toJS"?()=>e.toJS():i==="toJSForTest"?()=>e.toJSForTest():ka(n,e.get(i))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,i)=>(rt.isEnabled(Be.Trivial)&&rt.trivial(`obj[${i}]`),ul.deleteInternal(n,e,i),!0)}}static setInternal(n,e,i,l){if(i.includes("."))throw new D(N.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),d=Wo(n,l,c),g=e.set(i,d,c);n.registerElement(d,e),g&&n.registerRemovedElement(g),n.push(La.create(i,d.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const i={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new D(N.ErrInvalidObjectKey,"key must not contain the '.'.");const d=n.issueTimeTicket(),g=Wo(n,c,d);i[l]=g}return i}static deleteInternal(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByKey(i,l);c&&(n.push(Di.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function DA(s,n){const e=new Ot(s,n);return new Proxy(n,e.getHandlers())}function Hv(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function OA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ot{constructor(n,e){h(this,"context");h(this,"handlers");h(this,"array");this.context=n,this.array=e,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?d=>{const g=i.getByID(d);if(!(!g||g.isRemoved()))return xn(n,g)}:l==="getElementByIndex"?d=>{const g=i.get(d);return xn(n,g)}:l==="getLast"?()=>xn(n,i.getLast()):l==="delete"?d=>{const g=Ot.deleteInternalByIndex(n,i,d);return xn(n,g)}:l==="deleteByID"?d=>{const g=Ot.deleteInternalByID(n,i,d);return xn(n,g)}:l==="insertAfter"?(d,g)=>{const y=Ot.insertAfterInternal(n,i,d,g);return xn(n,y)}:l==="insertIntegerAfter"?(d,g)=>{const y=Ot.insertIntegerAfterInternal(n,i,d,g);return xn(n,y)}:l==="insertBefore"?(d,g)=>{const y=Ot.insertBeforeInternal(n,i,d,g);return xn(n,y)}:l==="setValue"?(d,g)=>{const y=Ot.setValueInternal(n,i,d,g);return xn(n,y)}:l==="moveBefore"?(d,g)=>{Ot.moveBeforeInternal(n,i,d,g)}:l==="moveAfter"?(d,g)=>{Ot.moveAfterInternal(n,i,d,g)}:l==="moveAfterByIndex"?(d,g)=>{Ot.moveAfterByIndexInternal(n,i,d,g)}:l==="moveFront"?d=>{Ot.moveFrontInternal(n,i,d)}:l==="moveLast"?d=>{Ot.moveLastInternal(n,i,d)}:Hv(l)?ka(n,i.get(Number(l))):l==="push"?d=>Ot.pushInternal(n,i,d):l==="splice"?(d,g,...y)=>Ot.splice(n,i,d,g,...y):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?Ot.iteratorInternal.bind(this,n,i):l==="includes"?(d,g)=>Ot.includes(n,i,d,g):l==="indexOf"?(d,g)=>Ot.indexOf(n,i,d,g):l==="lastIndexOf"?(d,g)=>Ot.lastIndexOf(n,i,d,g):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>Ot.toTestString(i):typeof l=="string"&&OA(l)?(...d)=>{const g=Array.from(i).map(y=>ka(n,y));return Array.prototype[l].apply(g,d)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(Hv(l)){const d=Number(l);return Ot.setValueInternal(n,i,d,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(rt.isEnabled(Be.Trivial)&&rt.trivial(`array[${l}]`),Ot.deleteInternalByIndex(n,i,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const i of e)yield xn(n,i)}static buildArrayElements(n,e){const i=[];for(const l of e){const c=n.issueTimeTicket(),d=Wo(n,l,c);i.push(d)}return i}static pushInternal(n,e,i){return Ot.insertAfterInternal(n,e,e.getLastCreatedAt(),i),e.length}static moveBeforeInternal(n,e,i,l){const c=n.issueTimeTicket(),d=e.getPrevCreatedAt(i);e.moveAfter(d,l,c),n.push(Ei.create(e.getCreatedAt(),d,l,c))}static moveAfterInternal(n,e,i,l){const c=n.issueTimeTicket();n.push(Ei.create(e.getCreatedAt(),i,l,c)),e.moveAfter(i,l,c)}static moveAfterByIndexInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(N.ErrInvalidArgument,`index out of bounds: ${i}`);const d=e.get(l);if(!d)throw new D(N.ErrInvalidArgument,`index out of bounds: ${l}`);Ot.moveAfterInternal(n,e,c.getCreatedAt(),d.getCreatedAt())}static moveFrontInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),i,l),n.push(Ei.create(e.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,i,l),n.push(Ei.create(e.getCreatedAt(),c,i,l))}static insertAfterInternal(n,e,i,l){const c=n.issueTimeTicket(),d=Wo(n,l,c);return e.insertAfter(i,d),n.registerElement(d,e),n.push(js.create(e.getCreatedAt(),i,d.deepcopy(),c)),d}static insertIntegerAfterInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(N.ErrInvalidArgument,`index out of bounds: ${i}`);return Ot.insertAfterInternal(n,e,c.getCreatedAt(),l),e}static insertBeforeInternal(n,e,i,l){return Ot.insertAfterInternal(n,e,e.getPrevCreatedAt(i),l)}static setValueInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(N.ErrInvalidArgument,`index out of bounds: ${i}`);return Ot.setByIndexInternal(n,e,c.getCreatedAt(),l),e}static setByIndexInternal(n,e,i,l){const c=n.issueTimeTicket(),d=Wo(n,l,c),g=d.deepcopy();return n.push(gl.create(e.getCreatedAt(),i,g,c)),e.set(i,d,c),n.registerElement(d,e),d}static deleteInternalByIndex(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByIndex(i,l);if(c)return n.push(Di.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,i){const l=n.issueTimeTicket(),c=e.delete(i,l);return n.push(Di.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,i,l,...c){const d=e.length,g=i>=0?Math.min(i,d):Math.max(d+i,0),y=l===void 0?d:l<0?g:Math.min(g+l,d),p=[];for(let T=g;T<y;T++){const x=Ot.deleteInternalByIndex(n,e,g);if(x){const I=x.deepcopy();I.setRemovedAt(),p.push(ka(n,I))}}if(c){let T=g===0?e.getHead().getID():e.get(g-1).getID();for(const x of c)T=Ot.insertAfterInternal(n,e,T,x).getID()}return p}static includes(n,e,i,l){var g;const c=e.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return!1;if(Kt.isSupport(i))return Array.from(e).map(p=>ka(n,p)).includes(i,d);for(let y=d;y<c;y++)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return!0;return!1}static indexOf(n,e,i,l){var g;const c=e.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return-1;if(Kt.isSupport(i))return Array.from(e).map(p=>ka(n,p)).indexOf(i,d);for(let y=d;y<c;y++)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static lastIndexOf(n,e,i,l){var g;const c=e.length,d=l===void 0||l>=c?c-1:l<0?l+c:l;if(d<0)return-1;if(Kt.isSupport(i))return Array.from(e).map(p=>ka(n,p)).lastIndexOf(i,d);for(let y=d;y>0;y--)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class $d{constructor(n,e){h(this,"context");h(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,i,l){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);rt.isEnabled(Be.Debug)&&rt.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${i}`);const d=l?Js(l):void 0,g=this.context.issueTimeTicket(),[,y,p,T]=this.text.edit(c,i,g,d);this.context.acc(p);for(const x of y)this.context.registerGCPair(x);return this.context.push(new fl(this.text.getCreatedAt(),c[0],c[1],i,d?new Map(Object.entries(d)):new Map,g)),this.text.findIndexesFromRange(T)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,i){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);rt.isEnabled(Be.Debug)&&rt.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=Js(i),d=this.context.issueTimeTicket(),[g,y]=this.text.setStyle(l,c,d);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);return this.context.push(new hl(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),d)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Rn.fromStruct(n[0]),Rn.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new D(N.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let Xd=class{constructor(n,e){h(this,"valueType");h(this,"value");h(this,"context");h(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new D(N.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),i=Kt.of(n,e);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(Hs.create(this.counter.getCreatedAt(),i,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new D(N.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Zd(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(e=>Zd(e))};return s.attrs&&(n.attributes=Ni(s.attrs.toObject())),n}function CA(s,n){const e={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Qn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(i=>Zd(i))};return s.attrs?e.attributes=Ni(s.attrs.toObject()):s.isText&&s.parent.attrs&&(e.attributes=Ni(s.parent.attrs.toObject())),e}function kA(s,n){const{node:e}=s,i=[...n].slice(0,-1),l=e.isText?e.parent.getChildrenText().length:e.children.length,c=[...i,l],d=[...i],g=[];d[d.length-1]+=1,n.every((p,T)=>p===c[T])||g.push({fromPath:[...n],toPath:c});const y=CA(e,n[n.length-1]);return y&&g.push({fromPath:d,toPath:d,content:y}),g}function RA(s,n){const{node:e,offset:i}=s,l=e.children[i],c=e.children[i-1],{children:d}=l,g=[...n].slice(0,-1),y=[{fromPath:[...n],toPath:[...g,i+1]}];if(!l.children.length)return y;const p=[...g,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],T=d.map(x=>Zd(x));return y.push({fromPath:p,toPath:p,content:T}),y}function Qd(s,n,e){const{type:i}=s,l=e.issueTimeTicket();if(i===Qn){W0(s);const{value:c}=s,d=Ze.create(pe.of(l,0),i,c);n.append(d)}else{const{children:c=[]}=s,{attributes:d}=s;let g;if(typeof d=="object"&&!O0(d)){const p=Js(d);g=new Oi;for(const[T,x]of Object.entries(p))g.set(T,x,l)}const y=Ze.create(pe.of(l,0),i,void 0,g);n.append(y);for(const p of c)Qd(p,y,e)}}function BA(s,n){const{type:e}=n,i=s.issueTimeTicket();let l;if(n.type===Qn){const{value:c}=n;l=Ze.create(pe.of(i,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:d}=n;let g;if(typeof d=="object"&&!O0(d)){const y=Js(d);g=new Oi;for(const[p,T]of Object.entries(y))g.set(p,T,i)}l=Ze.create(pe.of(s.issueTimeTicket(),0),e,void 0,g);for(const y of c)Qd(y,l,s)}return l}function W0(s){if(!s.value.length)throw new D(N.ErrInvalidArgument,"text node cannot have empty value");return!0}function jv(s){if(!s.length)return!0;if(s[0].type===Qn)for(const e of s){const{type:i}=e;if(i!==Qn)throw new D(N.ErrInvalidArgument,"element node and text node cannot be passed together");W0(e)}else for(const e of s){const{type:i}=e;if(i===Qn)throw new D(N.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Fd{constructor(n){h(this,"initialRoot");h(this,"context");h(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ze.create(pe.of(n.issueTimeTicket(),0),Tw);const e=Ze.create(pe.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Qd(i,e,n);return e}getSize(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n),i=kA(e,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),p=this.tree.pathToPos(d);this.editInternal(y,p,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n);if(e.node.isText)throw new D(N.ErrInvalidArgument,"text node cannot be merged");const i=RA(e,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),p=this.tree.pathToPos(d);this.editInternal(y,p,g??[],0)}}styleByPath(n,e){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(N.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),d=e?Js(e):void 0,[g,,y]=this.tree.style([i,l],d,c);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);this.context.push(xi.create(this.tree.getCreatedAt(),i,l,d?new Map(Object.entries(d)):new Map,c))}style(n,e,i){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),d=this.context.issueTimeTicket(),g=i?Js(i):void 0,[y,,p]=this.tree.style([l,c],g,d);this.context.acc(p);for(const T of y)this.context.registerGCPair(T);this.context.push(xi.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,d))}removeStyle(n,e,i){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),d=this.context.issueTimeTicket(),[g,,y]=this.tree.removeStyle([l,c],i,d);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);this.context.push(xi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,d))}editInternal(n,e,i,l=0){var p;if(i.length!==0&&i[0]&&(jv(i),i[0].type!==Qn))for(const T of i){const{children:x=[]}=T;jv(x)}const c=this.context.getLastTimeTicket();let d=new Array;if(((p=i[0])==null?void 0:p.type)===Qn){let T="";for(const x of i){const{value:I}=x;T+=I}d.push(Ze.create(pe.of(this.context.issueTimeTicket(),0),Qn,T))}else d=i.map(T=>T&&BA(this.context,T)).filter(T=>T);const[,g,y]=this.tree.edit([n,e],d.length?d.map(T=>T==null?void 0:T.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const T of g)this.context.registerGCPair(T);return this.context.push(dl.create(this.tree.getCreatedAt(),n,e,d.length?d:void 0,l,c)),!0}editByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new D(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new D(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(e);return this.editInternal(c,d,i?[i]:[],l)}editBulkByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new D(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new D(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(e);return this.editInternal(c,d,i,l)}edit(n,e,i,l=0){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(e);return this.editInternal(c,d,i?[i]:[],l)}editBulk(n,e,i,l=0){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(e);return this.editInternal(c,d,i,l)}toXML(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(e);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");const e=[kn.fromStruct(n[0]),kn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new D(N.ErrNotInitialized,"Tree is not initialized yet");const e=[kn.fromStruct(n[0]),kn.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function Yv(s,n){return _0(s,n)}function xn(s,n){if(n){if(n instanceof Kt)return n;if(n instanceof we)return _0(s,n);if(n instanceof Ae)return DA(s,n);if(n instanceof Qe)return new $d(s,n);if(n instanceof Me){const e=new Xd(Wn.Int,0);return e.initialize(s,n),e}else if(n instanceof Fe){const e=new Fd;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function ka(s,n){const e=xn(s,n);return e instanceof Kt?e.getValue():e}function Wo(s,n,e){let i;if(Kt.isSupport(n))i=Kt.of(n,e);else if(Array.isArray(n))i=Ae.create(e,Ot.buildArrayElements(s,n));else if(typeof n=="object")n instanceof $d?(i=Qe.create(Vs.create(),e),n.initialize(s,i)):n instanceof Xd?(i=Me.create(n.getValueType(),n.getValue(),e),n.initialize(s,i)):n instanceof Fd?(i=Fe.create(n.buildRoot(s),e),n.initialize(s,i)):i=we.create(e,ul.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}class Wh{constructor(n,e){h(this,"context");h(this,"presence");this.context=n,this.presence=e}set(n,e){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:_n.Put,presence:Dn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:_n.Clear})}}const Gv=50;class IA{constructor(){h(this,"undoStack",[]);h(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=Gv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=Gv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const zA="yorkie-devtools-panel",MA="yorkie-devtools-sdk";function UA(s){return[ge.StatusChanged,ge.Snapshot,ge.LocalChange,ge.RemoteChange,ge.Initialized,ge.Watched,ge.Unwatched,ge.PresenceChanged].includes(s.type)}function LA(s){return s.every(UA)}let Ds="disconnected";const Kv=new Map,Hu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Hu);function Uu(s,n){(n!=null&&n.force||Ds!=="disconnected")&&window.postMessage({source:MA,...s},"*")}function qA(s){if(!s.isEnableDevtools()||typeof window>"u"||Kv.has(s.getKey()))return;Hu.set(s.getKey(),[]);const n=s.subscribe("all",e=>{LA(e)&&(Hu.get(s.getKey()).push(e),Ds==="synced"&&Uu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Kv.set(s.getKey(),[n]),Uu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==zA)return;switch(e.data.msg){case"devtools::connect":if(Ds!=="disconnected")break;Ds="connected",Uu({msg:"doc::available",docKey:s.getKey()}),rt.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Ds="disconnected",rt.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Ds="synced",Uu({msg:"doc::sync::full",docKey:s.getKey(),events:Hu.get(s.getKey())}),rt.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var ra=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(ra||{}),ge=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ge||{}),qa=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(qa||{}),kd=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(kd||{});class tS{constructor(n,e){h(this,"key");h(this,"status");h(this,"opts");h(this,"changeID");h(this,"checkpoint");h(this,"localChanges");h(this,"maxSizeLimit");h(this,"schemaRules");h(this,"root");h(this,"clone");h(this,"eventStream");h(this,"eventStreamObserver");h(this,"onlineClients");h(this,"presences");h(this,"history");h(this,"internalHistory");h(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=ll.create(),this.changeID=Ow,this.checkpoint=Cw,this.localChanges=[],this.maxSizeLimit=0,this.schemaRules=[],this.eventStream=xA(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new IA,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},qA(this)}update(n,e){var g,y,p;if(this.getStatus()==="removed")throw new D(N.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},e);try{const T=Yv(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(T,new Wh(l,this.clone.presences.get(i)))}catch(T){throw this.clone=void 0,T}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length>0){const T=TA((g=this.clone)==null?void 0:g.root.getObject(),c);if(!T.valid)throw this.clone=void 0,new D(N.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(y=T.errors)==null?void 0:y.map(x=>x.message).join(", ")}`)}const d=vw((p=this.clone)==null?void 0:p.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<d)throw this.clone=void 0,new D(N.ErrDocumentSizeExceedsLimit,`document size exceeded: ${d} > ${this.maxSizeLimit}`);if(l.hasChange()){rt.isEnabled(Be.Trivial)&&rt.trivial(`trying to update a local change: ${this.toJSON()}`);const T=l.toChange(),{opInfos:x,reverseOps:I}=T.execute(this.root,this.presences,qt.Local),C=l.getReversePresence();C&&I.push({type:"presence",value:C}),this.localChanges.push(T),I.length>0&&this.internalHistory.pushUndo(I),x.length>0&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const P=[];x.length>0&&P.push({type:"local-change",source:qt.Local,value:{message:T.getMessage()||"",operations:x,actor:i,clientSeq:T.getID().getClientSeq(),serverSeq:T.getID().getServerSeq()},rawChange:this.isEnableDevtools()?T.toStruct():void 0}),T.hasPresenceChange()&&P.push({type:"presence-changed",source:qt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(P),rt.isEnabled(Be.Trivial)&&rt.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,i,l){if(typeof n=="string"){if(typeof e!="function")throw new D(N.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="initialized"&&p.type!=="watched"&&p.type!=="unwatched"&&p.type!=="presence-changed"||g(p)},i,l)}if(n==="my-presence"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="initialized"&&p.type!=="presence-changed"||p.type==="presence-changed"&&p.value.clientID!==this.changeID.getActorID()||g(p)},i,l)}if(n==="others"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="watched"&&p.type!=="unwatched"&&p.type!=="presence-changed"||p.value.clientID!==this.changeID.getActorID()&&g(p)},i,l)}if(n==="connection"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="connection-changed"&&g(p)},i,l)}if(n==="status"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="status-changed"&&g(p)},i,l)}if(n==="sync"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="sync-status-changed"&&g(p)},i,l)}if(n==="local-broadcast"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="local-broadcast"&&g(p)},i)}if(n==="broadcast"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="broadcast"&&g(p)},i)}if(n==="auth-error"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="auth-error"&&g(p)},i)}if(n==="all"){const g=e;return this.eventStream.subscribe(g,i,l)}const c=n,d=e;return this.eventStream.subscribe(g=>{for(const y of g){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const p=[];for(const T of y.value.operations)this.isSameElementOrChildOf(T.path,c)&&p.push(T);p.length&&d({...y,value:{...y.value,operations:p}})}},i,l)}if(typeof n=="function"){const c=n,d=e,g=i;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="snapshot"&&p.type!=="local-change"&&p.type!=="remote-change"||c(p)},d,g)}throw new D(N.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const i=n.split(".");return e.split(".").every((c,d)=>c===i[d])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),qt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),rt.isEnabled(Be.Trivial)&&rt.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Dn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return wc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=Cs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Yv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,i,l=-1){const{root:c,presences:d}=Zt.bytesToSnapshot(i);this.root=new ll(c),this.presences=d,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,qt.Local),this.publish([{type:"snapshot",source:qt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Zt.bytesToHex(i):void 0,snapshotVector:Zt.versionVectorToHex(e)}}])}applyChanges(n,e){rt.isEnabled(Be.Debug)&&rt.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),rt.isEnabled(Be.Trivial)&&rt.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,e);rt.isEnabled(Be.Debug)&&rt.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const i=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const d=n.getPresenceChange();switch(d.type){case _n.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:d.presence}}:{type:"watched",source:qt.Remote,value:{clientID:l,presence:d.presence}});break;case _n.Clear:i.push({type:"unwatched",source:qt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const d=this.isEnableDevtools()?n.toStruct():void 0;i.push(e===qt.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d})}i.length>0&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,i=new Set;for(const l of e)l!==this.changeID.getActorID()&&i.add(l);this.setOnlineClients(i),this.publish([{type:"initialized",source:qt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:i}=n.body.value,l=[];if(e===Ia.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&l.push({type:"watched",source:qt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(e===Ia.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&l.push({type:"unwatched",source:qt.Remote,value:{clientID:i,presence:c}})}else if(e===Ia.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:d}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:i,topic:c,payload:JSON.parse(g.decode(d))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(Tc),this.publish([{source:n==="removed"?qt.Remote:qt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:i,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(i),Zt.hexToVersionVector(l),Zt.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Ps.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:i,presence:l}of n.value)e.add(i),this.presences.set(i,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:i}=n.value;this.addOnlineClient(e),this.presences.set(e,i);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:i}=n.value;this.presences.set(e,i)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new D(N.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let i=this.getRoot();for(const l of e)if(i=i[l],i===void 0)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?Dn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?Dn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?Dn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:Dn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:Dn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,i)=>e.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new D(N.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new D(N.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of n){if(!(p instanceof bn)){new Wh(e,Dn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();p.setExecutedAt(T),e.push(p)}const i=e.toChange();i.execute(this.clone.root,this.clone.presences,qt.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,qt.UndoRedo),d=e.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length>0&&this.internalHistory.pushRedo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=e.getNextID();const g=this.changeID.getActorID(),y=[];l.length>0&&y.push({type:"local-change",source:qt.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&y.push({type:"presence-changed",source:qt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(y)}redo(){if(this.isUpdating)throw new D(N.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new D(N.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of n){if(!(p instanceof bn)){new Wh(e,Dn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();p.setExecutedAt(T),e.push(p)}const i=e.toChange();i.execute(this.clone.root,this.clone.presences,qt.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,qt.UndoRedo),d=e.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length>0&&this.internalHistory.pushUndo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=e.getNextID();const g=this.changeID.getActorID(),y=[];l.length>0&&y.push({type:"local-change",source:qt.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&y.push({type:"presence-changed",source:qt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(y)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,i){const l={type:"local-broadcast",value:{topic:n,payload:e},options:i};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function JA(s,n){let e=n;return{authInterceptor:c=>async d=>(s&&d.header.set("x-api-key",s),e&&d.header.set("authorization",e),await c(d)),setToken:c=>{e=c}}}const PA="@yorkie-js/sdk",VA="0.6.23",$v={name:PA,version:VA};function HA(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",$v.name+"/"+$v.version),await n(e))}const jA=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var ju=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(ju||{});const Ko={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},td={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class eS{constructor(n){h(this,"id");h(this,"key");h(this,"metadata");h(this,"status");h(this,"attachmentMap");h(this,"apiKey");h(this,"authTokenInjector");h(this,"conditions");h(this,"syncLoopDuration");h(this,"reconnectStreamDelay");h(this,"retrySyncLoopDelay");h(this,"rpcClient");h(this,"setAuthToken");h(this,"taskQueue");h(this,"processing",!1);h(this,"keepalive",!1);n=n||Ko;const e=n.rpcAddr||Ko.rpcAddr;this.key=n.key||F0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Ko.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Ko.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Ko.retrySyncLoopDelay;const{authInterceptor:i,setToken:l}=JA(this.apiKey);this.setAuthToken=l,this.rpcClient=P1(uw,lw({baseUrl:e,interceptors:[i,HA(n==null?void 0:n.userAgent)],fetch:(c,d)=>{const g={...d,keepalive:this.keepalive};return fetch(c,g)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),rt.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw rt.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),rt.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw rt.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=e();return this.keepalive=!1,i}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==ra.Detached)throw new D(N.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,d)=>d.set(e.initialPresence||{}));const i=n.subscribe("local-broadcast",async c=>{var T;const{topic:d,payload:g}=c.value,y=(T=c.options)==null?void 0:T.error,p=c.options;try{await this.broadcast(n.getKey(),d,g,p)}catch(x){x instanceof Error&&(y==null||y(x))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Zt.toChangePack(n.createChangePack()),schemaKey:e.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(c.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(c.maxSizePerDocument),c.schemaRules.length>0&&n.setSchemaRules(Zt.fromSchemaRules(c.schemaRules));const g=Zt.fromChangePack(c.changePack);if(n.applyChangePack(g),n.getStatus()===ra.Removed)return n;n.applyStatus(ra.Attached),this.attachmentMap.set(n.getKey(),new SA(this.reconnectStreamDelay,n,c.documentId,l,i)),l!=="manual"&&await this.runWatchLoop(n.getKey()),rt.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const y=n.getRootObject();if(e.initialRoot){const p=e.initialRoot;n.update(T=>{for(const[x,I]of Object.entries(p))if(!y.has(x)){const C=x;T[C]=I}})}return n}catch(c){throw rt.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,d)=>d.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Zt.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),d=Zt.fromChangePack(c.changePack);return n.applyChangePack(d),n.getStatus()!==ra.Removed&&n.applyStatus(ra.Detached),this.detachInternal(n.getKey()),rt.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw rt.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=i.syncMode;return l===e?n:(i.changeSyncMode(e),e==="manual"?(i.cancelWatchStream(),n):(e==="realtime"&&(i.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new D(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async i=>{throw rt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const e=[];for(const[,i]of this.attachmentMap)e.push(this.syncInternal(i,i.syncMode));return Promise.all(e).catch(async i=>{throw rt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new D(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=Zt.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Zt.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),rt.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw rt.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,i,l){if(!this.isActive())throw new D(N.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new D(N.ErrDocumentNotAttached,`${n} is not attached`);if(!jA(i))throw new D(N.ErrInvalidArgument,"payload is not serializable");const d=(l==null?void 0:l.maxRetries)??td.maxRetries,g=td.maxBackoff;let y=0;const p=x=>Math.min(td.initialRetryInterval*2**x,g),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),rt.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(x){if(rt.error(`[BC] c:"${this.getKey()}" err:`,x),await this.handleConnectError(x))if(x instanceof Ct&&na(x)===N.ErrUnauthenticated&&c.doc.publish([{type:ge.AuthError,value:{reason:$o(x).reason,method:"Broadcast"}}]),y<d)y++,setTimeout(()=>T(),p(y-1)),rt.info(`[BC] c:"${this.getKey()}" retry attempt ${y}/${d}`);else throw rt.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),x;else throw x}});return T()}runSyncLoop(){const n=()=>{if(!this.isActive()){rt.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,e.push(this.syncInternal(i,i.syncMode).catch(async l=>{throw l instanceof Ct&&na(l)===N.ErrUnauthenticated&&i.doc.publish([{type:ge.AuthError,value:{reason:$o(l).reason,method:"PushPull"}}]),l})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async i=>{rt.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};rt.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new D(N.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new D(N.ErrClientNotActivated,`${this.key} is not active`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:ge.ConnectionChanged,value:qa.Connected}]),rt.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((d,g)=>{(async()=>{try{for await(const p of c)this.handleWatchDocumentsResponse(e,p),p.body.case==="initialization"&&d([c,l])}catch(p){e.doc.resetOnlineClients(),e.doc.publish([{type:ge.Initialized,source:qt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:ge.ConnectionChanged,value:qa.Disconnected}]),rt.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(p)?(p instanceof Ct&&na(p)===N.ErrUnauthenticated&&e.doc.publish([{type:ge.AuthError,value:{reason:$o(p).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,g(p)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Ia.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus(ra.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:i,docID:l}=n,c=i.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Zt.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),g=Zt.fromChangePack(d.changePack);if(g.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return i;i.applyChangePack(g),n.doc.publish([{type:ge.SyncStatusChanged,value:kd.Synced}]),i.getStatus()===ra.Removed&&this.detachInternal(i.getKey());const y=i.getKey(),p=g.getChangeSize();return rt.info(`[PP] c:"${this.getKey()}" sync d:"${y}", push:${c.getChangeSize()} pull:${p} cp:${g.getCheckpoint().toTestString()}`),i}catch(d){throw i.publish([{type:ge.SyncStatusChanged,value:kd.SyncFailed}]),rt.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(n){if(!(n instanceof Ct))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(na(n)===N.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector($o(n).reason);this.setAuthToken(e)}return!0}return na(n)===N.ErrTooManySubscribers?(rt.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(na(n)===N.ErrTooManyAttachments||(na(n)===N.ErrClientNotActivated||na(n)===N.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,i)=>{this.taskQueue.push(()=>n().then(e).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{rt.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Wn.Int,Wn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:eS,Document:tS,Primitive:Kt,Text:$d,Counter:Xd,Tree:Fd,LogLevel:Be,setLogLevel:vA,IntType:Wn.Int,LongType:Wn.Long});const nS=Gt.createContext({client:void 0,loading:!0,error:void 0});function YA(s){const[n,e]=Gt.useState(void 0),[i,l]=Gt.useState(!0),[c,d]=Gt.useState(void 0),[g,y]=Gt.useState(!1);return Gt.useEffect(()=>{y(!0)},[]),Gt.useEffect(()=>{l(!0),d(void 0);async function p(){if(g)try{const T=new eS(s);await T.activate(),e(T)}catch(T){d(T instanceof Error?T:new Error("Failed to activate client"))}finally{l(!1)}}return p(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:i,error:c}}const GA=({children:s,...n})=>{const e=Gt.useMemo(()=>({userAgent:tv.name+"/"+tv.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:l,error:c}=YA(e);return Bt.jsx(nS.Provider,{value:{client:i,loading:l,error:c},children:s})},KA=()=>{const s=Gt.useContext(nS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function $A(s,n,e,i,l,c){const[d,g]=Gt.useState(),[y,p]=Gt.useState(!0),[T,x]=Gt.useState(),[I,C]=Gt.useState(l),[P,H]=Gt.useState([]),[Y,W]=Gt.useState(qa.Disconnected);Gt.useEffect(()=>{if(e){p(!1),x(e);return}if(!s||n){p(!0);return}p(!0),x(void 0);const F=new tS(i),ct=[];ct.push(F.subscribe(()=>{C(F.getRoot())})),ct.push(F.subscribe("presence",()=>{H(F.getPresences())})),ct.push(F.subscribe("connection",et=>{W(et.value)}));async function tt(){try{await(s==null?void 0:s.attach(F,{initialRoot:l,initialPresence:c})),g(F),C(F.getRoot()),H(F.getPresences())}catch(et){x(et instanceof Error?et:new Error("Failed to attach document"))}finally{p(!1)}}return tt(),()=>{s&&s.hasDocument(i)&&s.detach(F);for(const et of ct)et()}},[s,n,e,i]);const ut=Gt.useCallback(F=>{if(d)try{d.update(F)}catch(ct){x(ct instanceof Error?ct:new Error("Failed to update document"))}},[d]);return{doc:d,root:I,presences:P,connection:Y,update:ut,loading:y,error:T}}const Nc=Gt.createContext(null),XA=({docKey:s,initialRoot:n={},initialPresence:e={},children:i})=>{const{client:l,loading:c,error:d}=KA(),{doc:g,root:y,presences:p,connection:T,update:x,loading:I,error:C}=$A(l,c,d,s,n,e);return Bt.jsx(Nc.Provider,{value:{doc:g,root:y,presences:p,connection:T,update:x,loading:I,error:C},children:i})},ZA=()=>{const s=Gt.useContext(Nc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{doc:s.doc,root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},QA=()=>{const s=Gt.useContext(Nc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},rS=()=>{const s=Gt.useContext(Nc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function FA(){const s=rS();return Bt.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===qa.Connected?Bt.jsx("span",{className:"green",children:" "}):Bt.jsx("span",{className:"red",children:" "})]})}function _A(){const s=QA();return Bt.jsx("div",{id:"peers-container",children:Bt.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Bt.jsxs(Bb.Fragment,{children:[Bt.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Bt.jsx("span",{children:", "})]},n.clientID))]})})}function WA(){const{root:s,update:n,loading:e,error:i}=ZA(),l=rS();return e?Bt.jsx("p",{children:"Loading..."}):i?Bt.jsxs("div",{id:"error",children:[Bt.jsxs("p",{children:["Error Name: ",i.name]}),Bt.jsxs("p",{children:["Error Message: ",i.message]})]}):Bt.jsxs("div",{className:"counter-side",children:[Bt.jsx(FA,{}),Bt.jsx(_A,{}),Bt.jsxs("div",{id:"counter-container",children:[Bt.jsx("h1",{id:"counter",children:"Counter"}),Bt.jsx("div",{id:"counter-value",children:s.counter}),Bt.jsx("button",{id:"increment",disabled:l===qa.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),Bt.jsx("div",{id:"error",children:l===qa.Disconnected&&Bt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function tE(){return Bt.jsx(GA,{apiKey:"",rpcAddr:"http://localhost:8080",children:Bt.jsx("div",{className:"page-container",children:Bt.jsx(XA,{docKey:"react-document-limit",initialRoot:{counter:0},children:Bt.jsx(WA,{})})})})}Jb.createRoot(document.getElementById("root")).render(Bt.jsx(Gt.StrictMode,{children:Bt.jsx(tE,{})}));
