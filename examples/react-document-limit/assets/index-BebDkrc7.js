(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function OA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cf={exports:{}},Ss={};var Ly;function VA(){if(Ly)return Ss;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Ss.Fragment=e,Ss.jsx=r,Ss.jsxs=r,Ss}var My;function xA(){return My||(My=1,cf.exports=VA()),cf.exports}var Ce=xA(),ff={exports:{}},ae={};var Zy;function BA(){if(Zy)return ae;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),V=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=V&&E[V]||E["@@iterator"],typeof E=="function"?E:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,j={};function q(E,z,W){this.props=E,this.context=z,this.refs=j,this.updater=W||L}q.prototype.isReactComponent={},q.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ye(){}ye.prototype=q.prototype;function ne(E,z,W){this.props=E,this.context=z,this.refs=j,this.updater=W||L}var Ee=ne.prototype=new ye;Ee.constructor=ne,Y(Ee,q.prototype),Ee.isPureReactComponent=!0;var ie=Array.isArray;function Ae(){}var J={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Et(E,z,W){var k=W.ref;return{$$typeof:i,type:E,key:z,ref:k!==void 0?k:null,props:W}}function gn(E,z){return Et(E.type,z,E.props)}function Mt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function at(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return z[W]})}var ji=/\/+/g;function Yn(E,z){return typeof E=="object"&&E!==null&&E.key!=null?at(""+E.key):z.toString(36)}function mn(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ae,Ae):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,z,W,k,se){var he=typeof E;(he==="undefined"||he==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case i:case e:we=!0;break;case v:return we=E._init,U(we(E._payload),z,W,k,se)}}if(we)return se=se(E),we=k===""?"."+Yn(E,0):k,ie(se)?(W="",we!=null&&(W=we.replace(ji,"$&/")+"/"),U(se,z,W,"",function(Ca){return Ca})):se!=null&&(Mt(se)&&(se=gn(se,W+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ji,"$&/")+"/")+we)),z.push(se)),1;we=0;var Nt=k===""?".":k+":";if(ie(E))for(var Qe=0;Qe<E.length;Qe++)k=E[Qe],he=Nt+Yn(k,Qe),we+=U(k,z,W,he,se);else if(Qe=C(E),typeof Qe=="function")for(E=Qe.call(E),Qe=0;!(k=E.next()).done;)k=k.value,he=Nt+Yn(k,Qe++),we+=U(k,z,W,he,se);else if(he==="object"){if(typeof E.then=="function")return U(mn(E),z,W,k,se);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(E,z,W){if(E==null)return E;var k=[],se=0;return U(E,k,"","",function(he){return z.call(W,he,se++)}),k}function te(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var Be=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ze={map:K,forEach:function(E,z,W){K(E,function(){z.apply(this,arguments)},W)},count:function(E){var z=0;return K(E,function(){z++}),z},toArray:function(E){return K(E,function(z){return z})||[]},only:function(E){if(!Mt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ae.Activity=T,ae.Children=Ze,ae.Component=q,ae.Fragment=r,ae.Profiler=o,ae.PureComponent=ne,ae.StrictMode=s,ae.Suspense=y,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ae.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},ae.cache=function(E){return function(){return E.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(E,z,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var k=Y({},E.props),se=E.key;if(z!=null)for(he in z.key!==void 0&&(se=""+z.key),z)!ve.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(k[he]=z[he]);var he=arguments.length-2;if(he===1)k.children=W;else if(1<he){for(var we=Array(he),Nt=0;Nt<he;Nt++)we[Nt]=arguments[Nt+2];k.children=we}return Et(E.type,se,k)},ae.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ae.createElement=function(E,z,W){var k,se={},he=null;if(z!=null)for(k in z.key!==void 0&&(he=""+z.key),z)ve.call(z,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(se[k]=z[k]);var we=arguments.length-2;if(we===1)se.children=W;else if(1<we){for(var Nt=Array(we),Qe=0;Qe<we;Qe++)Nt[Qe]=arguments[Qe+2];se.children=Nt}if(E&&E.defaultProps)for(k in we=E.defaultProps,we)se[k]===void 0&&(se[k]=we[k]);return Et(E,he,se)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(E){return{$$typeof:g,render:E}},ae.isValidElement=Mt,ae.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:te}},ae.memo=function(E,z){return{$$typeof:m,type:E,compare:z===void 0?null:z}},ae.startTransition=function(E){var z=J.T,W={};J.T=W;try{var k=E(),se=J.S;se!==null&&se(W,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Ae,Be)}catch(he){Be(he)}finally{z!==null&&W.types!==null&&(z.types=W.types),J.T=z}},ae.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ae.use=function(E){return J.H.use(E)},ae.useActionState=function(E,z,W){return J.H.useActionState(E,z,W)},ae.useCallback=function(E,z){return J.H.useCallback(E,z)},ae.useContext=function(E){return J.H.useContext(E)},ae.useDebugValue=function(){},ae.useDeferredValue=function(E,z){return J.H.useDeferredValue(E,z)},ae.useEffect=function(E,z){return J.H.useEffect(E,z)},ae.useEffectEvent=function(E){return J.H.useEffectEvent(E)},ae.useId=function(){return J.H.useId()},ae.useImperativeHandle=function(E,z,W){return J.H.useImperativeHandle(E,z,W)},ae.useInsertionEffect=function(E,z){return J.H.useInsertionEffect(E,z)},ae.useLayoutEffect=function(E,z){return J.H.useLayoutEffect(E,z)},ae.useMemo=function(E,z){return J.H.useMemo(E,z)},ae.useOptimistic=function(E,z){return J.H.useOptimistic(E,z)},ae.useReducer=function(E,z,W){return J.H.useReducer(E,z,W)},ae.useRef=function(E){return J.H.useRef(E)},ae.useState=function(E){return J.H.useState(E)},ae.useSyncExternalStore=function(E,z,W){return J.H.useSyncExternalStore(E,z,W)},ae.useTransition=function(){return J.H.useTransition()},ae.version="19.2.1",ae}var zy;function Gf(){return zy||(zy=1,ff.exports=BA()),ff.exports}var We=Gf();const UA=OA(We);var hf={exports:{}},As={},df={exports:{}},gf={};var Yy;function LA(){return Yy||(Yy=1,(function(i){function e(U,K){var te=U.length;U.push(K);e:for(;0<te;){var Be=te-1>>>1,Ze=U[Be];if(0<o(Ze,K))U[Be]=K,U[te]=Ze,te=Be;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var K=U[0],te=U.pop();if(te!==K){U[0]=te;e:for(var Be=0,Ze=U.length,E=Ze>>>1;Be<E;){var z=2*(Be+1)-1,W=U[z],k=z+1,se=U[k];if(0>o(W,te))k<Ze&&0>o(se,W)?(U[Be]=se,U[k]=te,Be=k):(U[Be]=W,U[z]=te,Be=z);else if(k<Ze&&0>o(se,te))U[Be]=se,U[k]=te,Be=k;else break e}}return K}function o(U,K){var te=U.sortIndex-K.sortIndex;return te!==0?te:U.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var y=[],m=[],v=1,T=null,V=3,C=!1,L=!1,Y=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Ee(U){for(var K=r(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=U)s(m),K.sortIndex=K.expirationTime,e(y,K);else break;K=r(m)}}function ie(U){if(Y=!1,Ee(U),!L)if(r(y)!==null)L=!0,Ae||(Ae=!0,at());else{var K=r(m);K!==null&&mn(ie,K.startTime-U)}}var Ae=!1,J=-1,ve=5,Et=-1;function gn(){return j?!0:!(i.unstable_now()-Et<ve)}function Mt(){if(j=!1,Ae){var U=i.unstable_now();Et=U;var K=!0;try{e:{L=!1,Y&&(Y=!1,ye(J),J=-1),C=!0;var te=V;try{t:{for(Ee(U),T=r(y);T!==null&&!(T.expirationTime>U&&gn());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,V=T.priorityLevel;var Ze=Be(T.expirationTime<=U);if(U=i.unstable_now(),typeof Ze=="function"){T.callback=Ze,Ee(U),K=!0;break t}T===r(y)&&s(y),Ee(U)}else s(y);T=r(y)}if(T!==null)K=!0;else{var E=r(m);E!==null&&mn(ie,E.startTime-U),K=!1}}break e}finally{T=null,V=te,C=!1}K=void 0}}finally{K?at():Ae=!1}}}var at;if(typeof ne=="function")at=function(){ne(Mt)};else if(typeof MessageChannel<"u"){var ji=new MessageChannel,Yn=ji.port2;ji.port1.onmessage=Mt,at=function(){Yn.postMessage(null)}}else at=function(){q(Mt,0)};function mn(U,K){J=q(function(){U(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(U){switch(V){case 1:case 2:case 3:var K=3;break;default:K=V}var te=V;V=K;try{return U()}finally{V=te}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=V;V=U;try{return K()}finally{V=te}},i.unstable_scheduleCallback=function(U,K,te){var Be=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Be+te:Be):te=Be,U){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=te+Ze,U={id:v++,callback:K,priorityLevel:U,startTime:te,expirationTime:Ze,sortIndex:-1},te>Be?(U.sortIndex=te,e(m,U),r(y)===null&&U===r(m)&&(Y?(ye(J),J=-1):Y=!0,mn(ie,te-Be))):(U.sortIndex=Ze,e(y,U),L||C||(L=!0,Ae||(Ae=!0,at()))),U},i.unstable_shouldYield=gn,i.unstable_wrapCallback=function(U){var K=V;return function(){var te=V;V=K;try{return U.apply(this,arguments)}finally{V=te}}}})(gf)),gf}var _y;function MA(){return _y||(_y=1,df.exports=LA()),df.exports}var mf={exports:{}},bt={};var Gy;function ZA(){if(Gy)return bt;Gy=1;var i=Gf();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},bt.flushSync=function(y){var m=h.T,v=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=m,s.p=v,s.d.f()}},bt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},bt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},bt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),V=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:V,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:V,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},bt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},bt.requestFormReset=function(y){s.d.r(y)},bt.unstable_batchedUpdates=function(y,m){return y(m)},bt.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var Ky;function zA(){if(Ky)return mf.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=ZA(),mf.exports}var Wy;function YA(){if(Wy)return As;Wy=1;var i=MA(),e=Gf(),r=zA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return y(u),t;if(f===l)return y(u),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=u,l=f;else{for(var d=!1,p=u.child;p;){if(p===a){d=!0,a=u,l=f;break}if(p===l){d=!0,l=u,a=f;break}p=p.sibling}if(!d){for(p=f.child;p;){if(p===a){d=!0,a=f,l=u;break}if(p===l){d=!0,l=f,a=u;break}p=p.sibling}if(!d)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,V=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),gn=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=Mt&&t[Mt]||t["@@iterator"],typeof t=="function"?t:null)}var ji=Symbol.for("react.client.reference");function Yn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ji?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case q:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case Ae:return"SuspenseList";case Et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ne:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case Ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:Yn(t.type)||"Memo";case ve:n=t._payload,t=t._init;try{return Yn(t(n))}catch{}}return null}var mn=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function E(t){return{current:t}}function z(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function W(t,n){Ze++,Be[Ze]=t.current,t.current=n}var k=E(null),se=E(null),he=E(null),we=E(null);function Nt(t,n){switch(W(he,n),W(se,t),W(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ry(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(k),W(k,t)}function Qe(){z(k),z(se),z(he)}function Ca(t){t.memoizedState!==null&&W(we,t);var n=k.current,a=ay(n,t.type);n!==a&&(W(se,t),W(k,a))}function Qs(t){se.current===t&&(z(k),z(se)),we.current===t&&(z(we),ys._currentValue=te)}var Jo,Uh;function Fi(t){if(Jo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Jo=n&&n[1]||"",Uh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jo+t+Uh}var ko=!1;function jo(t,n){if(!t||ko)return"";ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(x){var O=x}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(x){O=x}t.call(Z.prototype)}}else{try{throw Error()}catch(x){O=x}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(x){if(x&&O&&typeof x.stack=="string")return[x.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),d=f[0],p=f[1];if(d&&p){var b=d.split(`
`),D=p.split(`
`);for(u=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;if(l===b.length||u===D.length)for(l=b.length-1,u=D.length-1;1<=l&&0<=u&&b[l]!==D[u];)u--;for(;1<=l&&0<=u;l--,u--)if(b[l]!==D[u]){if(l!==1||u!==1)do if(l--,u--,0>u||b[l]!==D[u]){var B=`
`+b[l].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=l&&0<=u);break}}}finally{ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fi(a):""}function l0(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return jo(t.type,!1);case 11:return jo(t.type.render,!1);case 1:return jo(t.type,!0);case 31:return Fi("Activity");default:return""}}function Lh(t){try{var n="",a=null;do n+=l0(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,Ho=i.unstable_scheduleCallback,Qo=i.unstable_cancelCallback,o0=i.unstable_shouldYield,u0=i.unstable_requestPaint,Zt=i.unstable_now,c0=i.unstable_getCurrentPriorityLevel,Mh=i.unstable_ImmediatePriority,Zh=i.unstable_UserBlockingPriority,$s=i.unstable_NormalPriority,f0=i.unstable_LowPriority,zh=i.unstable_IdlePriority,h0=i.log,d0=i.unstable_setDisableYieldValue,wa=null,zt=null;function hi(t){if(typeof h0=="function"&&d0(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(wa,t)}catch{}}var Yt=Math.clz32?Math.clz32:y0,g0=Math.log,m0=Math.LN2;function y0(t){return t>>>=0,t===0?32:31-(g0(t)/m0|0)|0}var Ps=256,qs=262144,el=4194304;function Hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,d=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=Hi(l):(d&=p,d!==0?u=Hi(d):a||(a=p&~t,a!==0&&(u=Hi(a))))):(p=l&~f,p!==0?u=Hi(p):d!==0?u=Hi(d):a||(a=l&~t,a!==0&&(u=Hi(a)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:u}function Da(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function p0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function $o(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Oa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function b0(t,n,a,l,u,f){var d=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var p=t.entanglements,b=t.expirationTimes,D=t.hiddenUpdates;for(a=d&~a;0<a;){var B=31-Yt(a),Z=1<<B;p[B]=0,b[B]=-1;var O=D[B];if(O!==null)for(D[B]=null,B=0;B<O.length;B++){var x=O[B];x!==null&&(x.lane&=-536870913)}a&=~Z}l!==0&&_h(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(d&~n))}function _h(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Yt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Gh(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Yt(a),u=1<<l;u&n|t[l]&n&&(t[l]|=n),a&=~u}}function Kh(t,n){var a=n&-n;return a=(a&42)!==0?1:Po(a),(a&(t.suspendedLanes|n))!==0?0:a}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wh(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:wy(t.type))}function Xh(t,n){var a=K.p;try{return K.p=t,n()}finally{K.p=a}}var di=Math.random().toString(36).slice(2),ft="__reactFiber$"+di,Rt="__reactProps$"+di,Ar="__reactContainer$"+di,eu="__reactEvents$"+di,v0="__reactListeners$"+di,S0="__reactHandles$"+di,Jh="__reactResources$"+di,Va="__reactMarker$"+di;function tu(t){delete t[ft],delete t[Rt],delete t[eu],delete t[v0],delete t[S0]}function Er(t){var n=t[ft];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ar]||a[ft]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hy(t);t!==null;){if(a=t[ft])return a;t=hy(t)}return n}t=a,a=t.parentNode}return null}function Nr(t){if(t=t[ft]||t[Ar]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function xa(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Tr(t){var n=t[Jh];return n||(n=t[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[Va]=!0}var kh=new Set,jh={};function Qi(t,n){Rr(t,n),Rr(t+"Capture",n)}function Rr(t,n){for(jh[t]=n,t=0;t<n.length;t++)kh.add(n[t])}var A0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},Hh={};function E0(t){return Fo.call(Hh,t)?!0:Fo.call(Fh,t)?!1:A0.test(t)?Hh[t]=!0:(Fh[t]=!0,!1)}function nl(t,n,a){if(E0(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function il(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function N0(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,f.call(this,d)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nu(t){if(!t._valueTracker){var n=Qh(t)?"checked":"value";t._valueTracker=N0(t,n,""+t[n])}}function $h(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qh(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var T0=/[\n"\\]/g;function $t(t){return t.replace(T0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(t,n,a,l,u,f,d,p){t.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?t.type=d:t.removeAttribute("type"),n!=null?d==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):d!=="submit"&&d!=="reset"||t.removeAttribute("value"),n!=null?ru(t,d,Qt(n)):a!=null?ru(t,d,Qt(a)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Qt(p):t.removeAttribute("name")}function Ph(t,n,a,l,u,f,d,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nu(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.name=d),nu(t)}function ru(t,n,a){n==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,n,a,l){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function qh(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function ed(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(mn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),nu(t)}function Cr(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var R0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||R0.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function nd(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&td(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&td(t,f,n[f])}function au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return C0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var su=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,Dr=null;function id(t){var n=Nr(t);if(n&&(t=n.stateNode)){var a=t[Rt]||null;e:switch(t=n.stateNode,n.type){case"input":if(iu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var u=l[Rt]||null;if(!u)throw Error(s(90));iu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&$h(l)}break e;case"textarea":qh(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ir(t,!!a.multiple,n,!1)}}}var ou=!1;function rd(t,n,a){if(ou)return t(n,a);ou=!0;try{var l=t(n);return l}finally{if(ou=!1,(wr!==null||Dr!==null)&&(kl(),wr&&(n=wr,t=Dr,Dr=wr=null,id(n),t)))for(n=0;n<t.length;n++)id(t[n])}}function Ba(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Kn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{uu=!1}var gi=null,cu=null,sl=null;function ad(){if(sl)return sl;var t,n=cu,a=n.length,l,u="value"in gi?gi.value:gi.textContent,f=u.length;for(t=0;t<a&&n[t]===u[t];t++);var d=a-t;for(l=1;l<=d&&n[a-l]===u[f-l];l++);return sl=u.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function sd(){return!1}function It(t){function n(a,l,u,f,d){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(a=t[p],this[p]=a?a(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ol:sd,this.isPropagationStopped=sd,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=It($i),La=T({},$i,{view:0,detail:0}),w0=It(La),fu,hu,Ma,cl=T({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(fu=t.screenX-Ma.screenX,hu=t.screenY-Ma.screenY):hu=fu=0,Ma=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),ld=It(cl),D0=T({},cl,{dataTransfer:0}),O0=It(D0),V0=T({},La,{relatedTarget:0}),du=It(V0),x0=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=It(x0),U0=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L0=It(U0),M0=T({},$i,{data:0}),od=It(M0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Y0[t])?!!n[t]:!1}function gu(){return _0}var G0=T({},La,{key:function(t){if(t.key){var n=Z0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K0=It(G0),W0=T({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=It(W0),X0=T({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),J0=It(X0),k0=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),j0=It(k0),F0=T({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=It(F0),Q0=T({},$i,{newState:0,oldState:0}),$0=It(Q0),P0=[9,13,27,32],mu=Kn&&"CompositionEvent"in window,Za=null;Kn&&"documentMode"in document&&(Za=document.documentMode);var q0=Kn&&"TextEvent"in window&&!Za,cd=Kn&&(!mu||Za&&8<Za&&11>=Za),fd=" ",hd=!1;function dd(t,n){switch(t){case"keyup":return P0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function eS(t,n){switch(t){case"compositionend":return gd(n);case"keypress":return n.which!==32?null:(hd=!0,fd);case"textInput":return t=n.data,t===fd&&hd?null:t;default:return null}}function tS(t,n){if(Or)return t==="compositionend"||!mu&&dd(t,n)?(t=ad(),sl=cu=gi=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cd&&n.locale!=="ko"?null:n.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nS[t.type]:n==="textarea"}function yd(t,n,a,l){wr?Dr?Dr.push(l):Dr=[l]:wr=l,n=ql(n,"onChange"),0<n.length&&(a=new ul("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var za=null,Ya=null;function iS(t){Pm(t,0)}function fl(t){var n=xa(t);if($h(n))return t}function pd(t,n){if(t==="change")return n}var bd=!1;if(Kn){var yu;if(Kn){var pu="oninput"in document;if(!pu){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),pu=typeof vd.oninput=="function"}yu=pu}else yu=!1;bd=yu&&(!document.documentMode||9<document.documentMode)}function Sd(){za&&(za.detachEvent("onpropertychange",Ad),Ya=za=null)}function Ad(t){if(t.propertyName==="value"&&fl(Ya)){var n=[];yd(n,Ya,t,lu(t)),rd(iS,n)}}function rS(t,n,a){t==="focusin"?(Sd(),za=n,Ya=a,za.attachEvent("onpropertychange",Ad)):t==="focusout"&&Sd()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(Ya)}function sS(t,n){if(t==="click")return fl(n)}function lS(t,n){if(t==="input"||t==="change")return fl(n)}function oS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _t=typeof Object.is=="function"?Object.is:oS;function _a(t,n){if(_t(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Fo.call(n,u)||!_t(t[u],n[u]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,n){var a=Ed(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ed(a)}}function Td(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Td(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rl(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=rl(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uS=Kn&&"documentMode"in document&&11>=document.documentMode,Vr=null,vu=null,Ga=null,Su=!1;function Id(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Su||Vr==null||Vr!==rl(l)||(l=Vr,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ga&&_a(Ga,l)||(Ga=l,l=ql(vu,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Vr)))}function Pi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Au={},Cd={};Kn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function qi(t){if(Au[t])return Au[t];if(!xr[t])return t;var n=xr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cd)return Au[t]=n[a];return t}var wd=qi("animationend"),Dd=qi("animationiteration"),Od=qi("animationstart"),cS=qi("transitionrun"),fS=qi("transitionstart"),hS=qi("transitioncancel"),Vd=qi("transitionend"),xd=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function yn(t,n){xd.set(t,n),Qi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],Br=0,Nu=0;function dl(){for(var t=Br,n=Nu=Br=0;n<t;){var a=Pt[n];Pt[n++]=null;var l=Pt[n];Pt[n++]=null;var u=Pt[n];Pt[n++]=null;var f=Pt[n];if(Pt[n++]=null,l!==null&&u!==null){var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}f!==0&&Bd(a,u,f)}}function gl(t,n,a,l){Pt[Br++]=t,Pt[Br++]=n,Pt[Br++]=a,Pt[Br++]=l,Nu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tu(t,n,a,l){return gl(t,n,a,l),ml(t)}function er(t,n){return gl(t,null,null,n),ml(t)}function Bd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Yt(a),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=a|536870912),f):null}function ml(t){if(50<us)throw us=0,Bc=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ur={};function dS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,n,a,l){return new dS(t,n,a,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wn(t,n){var a=t.alternate;return a===null?(a=Gt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ud(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,a,l,u,f){var d=0;if(l=t,typeof t=="function")Ru(t)&&(d=1);else if(typeof t=="string")d=bA(t,a,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Et:return t=Gt(31,a,n,u),t.elementType=Et,t.lanes=f,t;case Y:return tr(a.children,u,f,n);case j:d=8,u|=24;break;case q:return t=Gt(12,a,n,u|2),t.elementType=q,t.lanes=f,t;case ie:return t=Gt(13,a,n,u),t.elementType=ie,t.lanes=f,t;case Ae:return t=Gt(19,a,n,u),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:d=10;break e;case ye:d=9;break e;case Ee:d=11;break e;case J:d=14;break e;case ve:d=16,l=null;break e}d=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Gt(d,a,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function tr(t,n,a,l){return t=Gt(7,t,l,n),t.lanes=a,t}function Iu(t,n,a){return t=Gt(6,t,null,n),t.lanes=a,t}function Ld(t){var n=Gt(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,a){return n=Gt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Md=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var a=Md.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Lh(n)},Md.set(t,n),n)}return{value:t,source:n,stack:Lh(n)}}var Lr=[],Mr=0,pl=null,Ka=0,en=[],tn=0,mi=null,wn=1,Dn="";function Xn(t,n){Lr[Mr++]=Ka,Lr[Mr++]=pl,pl=t,Ka=n}function Zd(t,n,a){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,mi=t;var l=wn;t=Dn;var u=32-Yt(l)-1;l&=~(1<<u),a+=1;var f=32-Yt(n)+u;if(30<f){var d=u-u%5;f=(l&(1<<d)-1).toString(32),l>>=d,u-=d,wn=1<<32-Yt(n)+u|a<<u|l,Dn=f+t}else wn=1<<f|a<<u|l,Dn=t}function wu(t){t.return!==null&&(Xn(t,1),Zd(t,1,0))}function Du(t){for(;t===pl;)pl=Lr[--Mr],Lr[Mr]=null,Ka=Lr[--Mr],Lr[Mr]=null;for(;t===mi;)mi=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null}function zd(t,n){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,wn=n.id,Dn=n.overflow,mi=t}var ht=null,_e=null,Se=!1,yi=null,nn=!1,Ou=Error(s(519));function pi(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wa(qt(n,t)),Ou}function Yd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Rt]=l,a){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<fs.length;a++)ge(fs[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),Ph(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),ed(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ny(n.textContent,a)?(l.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),l.onScroll!=null&&ge("scroll",n),l.onScrollEnd!=null&&ge("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||pi(t,!0)}function _d(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ht=ht.return}}function Zr(t){if(t!==ht)return!1;if(!Se)return _d(t),Se=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fc(t.type,t.memoizedProps)),a=!a),a&&_e&&pi(t),_d(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));_e=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));_e=fy(t)}else n===27?(n=_e,Vi(t.type)?(t=qc,qc=null,_e=t):_e=n):_e=ht?an(t.stateNode.nextSibling):null;return!0}function nr(){_e=ht=null,Se=!1}function Vu(){var t=yi;return t!==null&&(Ot===null?Ot=t:Ot.push.apply(Ot,t),yi=null),t}function Wa(t){yi===null?yi=[t]:yi.push(t)}var xu=E(null),ir=null,Jn=null;function bi(t,n,a){W(xu,n._currentValue),n._currentValue=a}function kn(t){t._currentValue=xu.current,z(xu)}function Bu(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Uu(t,n,a,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var d=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var b=0;b<n.length;b++)if(p.context===n[b]){f.lanes|=a,p=f.alternate,p!==null&&(p.lanes|=a),Bu(f.return,a,t),l||(d=null);break e}f=p.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(s(341));d.lanes|=a,f=d.alternate,f!==null&&(f.lanes|=a),Bu(d,a,t),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function zr(t,n,a,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(s(387));if(d=d.memoizedProps,d!==null){var p=u.type;_t(u.pendingProps.value,d.value)||(t!==null?t.push(p):t=[p])}}else if(u===we.current){if(d=u.alternate,d===null)throw Error(s(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ys):t=[ys])}u=u.return}t!==null&&Uu(n,t,a,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!_t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ir=t,Jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return Gd(ir,t)}function vl(t,n){return ir===null&&rr(t),Gd(t,n)}function Gd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Jn===null){if(t===null)throw Error(s(308));Jn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jn=Jn.next=n;return a}var gS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mS=i.unstable_scheduleCallback,yS=i.unstable_NormalPriority,tt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new gS,data:new Map,refCount:0}}function Xa(t){t.refCount--,t.refCount===0&&mS(yS,function(){t.controller.abort()})}var Ja=null,Mu=0,Yr=0,_r=null;function pS(t,n){if(Ja===null){var a=Ja=[];Mu=0,Yr=Yc(),_r={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mu++,n.then(Kd,Kd),n}function Kd(){if(--Mu===0&&Ja!==null){_r!==null&&(_r.status="fulfilled");var t=Ja;Ja=null,Yr=0,_r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Wd=U.S;U.S=function(t,n){Im=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pS(t,n),Wd!==null&&Wd(t,n)};var ar=E(null);function Zu(){var t=ar.current;return t!==null?t:ze.pooledCache}function Sl(t,n){n===null?W(ar,ar.current):W(ar,n.pool)}function Xd(){var t=Zu();return t===null?null:{parent:tt._currentValue,pool:t}}var Gr=Error(s(460)),zu=Error(s(474)),Al=Error(s(542)),El={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw lr=n,Gr}}function sr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(lr=a,Gr):a}}var lr=null;function jd(){if(lr===null)throw Error(s(459));var t=lr;return lr=null,t}function Fd(t){if(t===Gr||t===Al)throw Error(s(483))}var Kr=null,ka=0;function Nl(t){var n=ka;return ka+=1,Kr===null&&(Kr=[]),kd(Kr,t,n)}function ja(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hd(t){function n(R,S){if(t){var w=R.deletions;w===null?(R.deletions=[S],R.flags|=16):w.push(S)}}function a(R,S){if(!t)return null;for(;S!==null;)n(R,S),S=S.sibling;return null}function l(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function u(R,S){return R=Wn(R,S),R.index=0,R.sibling=null,R}function f(R,S,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<S?(R.flags|=67108866,S):w):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function d(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,S,w,M){return S===null||S.tag!==6?(S=Iu(w,R.mode,M),S.return=R,S):(S=u(S,w),S.return=R,S)}function b(R,S,w,M){var $=w.type;return $===Y?B(R,S,w.props.children,M,w.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&sr($)===S.type)?(S=u(S,w.props),ja(S,w),S.return=R,S):(S=yl(w.type,w.key,w.props,null,R.mode,M),ja(S,w),S.return=R,S)}function D(R,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Cu(w,R.mode,M),S.return=R,S):(S=u(S,w.children||[]),S.return=R,S)}function B(R,S,w,M,$){return S===null||S.tag!==7?(S=tr(w,R.mode,M,$),S.return=R,S):(S=u(S,w),S.return=R,S)}function Z(R,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Iu(""+S,R.mode,w),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return w=yl(S.type,S.key,S.props,null,R.mode,w),ja(w,S),w.return=R,w;case L:return S=Cu(S,R.mode,w),S.return=R,S;case ve:return S=sr(S),Z(R,S,w)}if(mn(S)||at(S))return S=tr(S,R.mode,w,null),S.return=R,S;if(typeof S.then=="function")return Z(R,Nl(S),w);if(S.$$typeof===ne)return Z(R,vl(R,S),w);Tl(R,S)}return null}function O(R,S,w,M){var $=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return $!==null?null:p(R,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===$?b(R,S,w,M):null;case L:return w.key===$?D(R,S,w,M):null;case ve:return w=sr(w),O(R,S,w,M)}if(mn(w)||at(w))return $!==null?null:B(R,S,w,M,null);if(typeof w.then=="function")return O(R,S,Nl(w),M);if(w.$$typeof===ne)return O(R,S,vl(R,w),M);Tl(R,w)}return null}function x(R,S,w,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return R=R.get(w)||null,p(S,R,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return R=R.get(M.key===null?w:M.key)||null,b(S,R,M,$);case L:return R=R.get(M.key===null?w:M.key)||null,D(S,R,M,$);case ve:return M=sr(M),x(R,S,w,M,$)}if(mn(M)||at(M))return R=R.get(w)||null,B(S,R,M,$,null);if(typeof M.then=="function")return x(R,S,w,Nl(M),$);if(M.$$typeof===ne)return x(R,S,w,vl(S,M),$);Tl(S,M)}return null}function X(R,S,w,M){for(var $=null,Te=null,F=S,oe=S=0,be=null;F!==null&&oe<w.length;oe++){F.index>oe?(be=F,F=null):be=F.sibling;var Re=O(R,F,w[oe],M);if(Re===null){F===null&&(F=be);break}t&&F&&Re.alternate===null&&n(R,F),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re,F=be}if(oe===w.length)return a(R,F),Se&&Xn(R,oe),$;if(F===null){for(;oe<w.length;oe++)F=Z(R,w[oe],M),F!==null&&(S=f(F,S,oe),Te===null?$=F:Te.sibling=F,Te=F);return Se&&Xn(R,oe),$}for(F=l(F);oe<w.length;oe++)be=x(F,R,oe,w[oe],M),be!==null&&(t&&be.alternate!==null&&F.delete(be.key===null?oe:be.key),S=f(be,S,oe),Te===null?$=be:Te.sibling=be,Te=be);return t&&F.forEach(function(Mi){return n(R,Mi)}),Se&&Xn(R,oe),$}function ee(R,S,w,M){if(w==null)throw Error(s(151));for(var $=null,Te=null,F=S,oe=S=0,be=null,Re=w.next();F!==null&&!Re.done;oe++,Re=w.next()){F.index>oe?(be=F,F=null):be=F.sibling;var Mi=O(R,F,Re.value,M);if(Mi===null){F===null&&(F=be);break}t&&F&&Mi.alternate===null&&n(R,F),S=f(Mi,S,oe),Te===null?$=Mi:Te.sibling=Mi,Te=Mi,F=be}if(Re.done)return a(R,F),Se&&Xn(R,oe),$;if(F===null){for(;!Re.done;oe++,Re=w.next())Re=Z(R,Re.value,M),Re!==null&&(S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return Se&&Xn(R,oe),$}for(F=l(F);!Re.done;oe++,Re=w.next())Re=x(F,R,oe,Re.value,M),Re!==null&&(t&&Re.alternate!==null&&F.delete(Re.key===null?oe:Re.key),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return t&&F.forEach(function(DA){return n(R,DA)}),Se&&Xn(R,oe),$}function Me(R,S,w,M){if(typeof w=="object"&&w!==null&&w.type===Y&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var $=w.key;S!==null;){if(S.key===$){if($=w.type,$===Y){if(S.tag===7){a(R,S.sibling),M=u(S,w.props.children),M.return=R,R=M;break e}}else if(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&sr($)===S.type){a(R,S.sibling),M=u(S,w.props),ja(M,w),M.return=R,R=M;break e}a(R,S);break}else n(R,S);S=S.sibling}w.type===Y?(M=tr(w.props.children,R.mode,M,w.key),M.return=R,R=M):(M=yl(w.type,w.key,w.props,null,R.mode,M),ja(M,w),M.return=R,R=M)}return d(R);case L:e:{for($=w.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){a(R,S.sibling),M=u(S,w.children||[]),M.return=R,R=M;break e}else{a(R,S);break}else n(R,S);S=S.sibling}M=Cu(w,R.mode,M),M.return=R,R=M}return d(R);case ve:return w=sr(w),Me(R,S,w,M)}if(mn(w))return X(R,S,w,M);if(at(w)){if($=at(w),typeof $!="function")throw Error(s(150));return w=$.call(w),ee(R,S,w,M)}if(typeof w.then=="function")return Me(R,S,Nl(w),M);if(w.$$typeof===ne)return Me(R,S,vl(R,w),M);Tl(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(a(R,S.sibling),M=u(S,w),M.return=R,R=M):(a(R,S),M=Iu(w,R.mode,M),M.return=R,R=M),d(R)):a(R,S)}return function(R,S,w,M){try{ka=0;var $=Me(R,S,w,M);return Kr=null,$}catch(F){if(F===Gr||F===Al)throw F;var Te=Gt(29,F,null,R.mode);return Te.lanes=M,Te.return=R,Te}finally{}}}var or=Hd(!0),Qd=Hd(!1),vi=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ml(t),Bd(t,null,a),n}return gl(t,l,n,a),ml(t)}function Fa(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gh(t,a)}}function Gu(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=d:f=f.next=d,a=a.next}while(a!==null);f===null?u=f=n:f=f.next=n}else u=f=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ku=!1;function Ha(){if(Ku){var t=_r;if(t!==null)throw t}}function Qa(t,n,a,l){Ku=!1;var u=t.updateQueue;vi=!1;var f=u.firstBaseUpdate,d=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,D=b.next;b.next=null,d===null?f=D:d.next=D,d=b;var B=t.alternate;B!==null&&(B=B.updateQueue,p=B.lastBaseUpdate,p!==d&&(p===null?B.firstBaseUpdate=D:p.next=D,B.lastBaseUpdate=b))}if(f!==null){var Z=u.baseState;d=0,B=D=b=null,p=f;do{var O=p.lane&-536870913,x=O!==p.lane;if(x?(pe&O)===O:(l&O)===O){O!==0&&O===Yr&&(Ku=!0),B!==null&&(B=B.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var X=t,ee=p;O=n;var Me=a;switch(ee.tag){case 1:if(X=ee.payload,typeof X=="function"){Z=X.call(Me,Z,O);break e}Z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,O=typeof X=="function"?X.call(Me,Z,O):X,O==null)break e;Z=T({},Z,O);break e;case 2:vi=!0}}O=p.callback,O!==null&&(t.flags|=64,x&&(t.flags|=8192),x=u.callbacks,x===null?u.callbacks=[O]:x.push(O))}else x={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},B===null?(D=B=x,b=Z):B=B.next=x,d|=O;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;x=p,p=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);B===null&&(b=Z),u.baseState=b,u.firstBaseUpdate=D,u.lastBaseUpdate=B,f===null&&(u.shared.lanes=0),Ii|=d,t.lanes=d,t.memoizedState=Z}}function $d(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Pd(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$d(a[t],n)}var Wr=E(null),Rl=E(0);function qd(t,n){t=ti,W(Rl,t),W(Wr,n),ti=t|n.baseLanes}function Wu(){W(Rl,ti),W(Wr,Wr.current)}function Xu(){ti=Rl.current,z(Wr),z(Rl)}var Kt=E(null),rn=null;function Ei(t){var n=t.alternate;W($e,$e.current&1),W(Kt,t),rn===null&&(n===null||Wr.current!==null||n.memoizedState!==null)&&(rn=t)}function Ju(t){W($e,$e.current),W(Kt,t),rn===null&&(rn=t)}function eg(t){t.tag===22?(W($e,$e.current),W(Kt,t),rn===null&&(rn=t)):Ni()}function Ni(){W($e,$e.current),W(Kt,Kt.current)}function Wt(t){z(Kt),rn===t&&(rn=null),z($e)}var $e=E(0);function Il(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$c(a)||Pc(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jn=0,le=null,Ue=null,nt=null,Cl=!1,Xr=!1,ur=!1,wl=0,$a=0,Jr=null,vS=0;function Fe(){throw Error(s(321))}function ku(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!_t(t[a],n[a]))return!1;return!0}function ju(t,n,a,l,u,f){return jn=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Zg:oc,ur=!1,f=a(l,u),ur=!1,Xr&&(f=ng(n,a,l,u)),tg(t),f}function tg(t){U.H=es;var n=Ue!==null&&Ue.next!==null;if(jn=0,nt=Ue=le=null,Cl=!1,$a=0,Jr=null,n)throw Error(s(300));t===null||it||(t=t.dependencies,t!==null&&bl(t)&&(it=!0))}function ng(t,n,a,l){le=t;var u=0;do{if(Xr&&(Jr=null),$a=0,Xr=!1,25<=u)throw Error(s(301));if(u+=1,nt=Ue=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=zg,f=n(a,l)}while(Xr);return f}function SS(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Pa(n):n,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(le.flags|=1024),n}function Fu(){var t=wl!==0;return wl=0,t}function Hu(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Qu(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}jn=0,nt=Ue=le=null,Xr=!1,$a=wl=0,Jr=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?le.memoizedState=nt=t:nt=nt.next=t,nt}function Pe(){if(Ue===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var n=nt===null?le.memoizedState:nt.next;if(n!==null)nt=n,Ue=t;else{if(t===null)throw le.alternate===null?Error(s(467)):Error(s(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},nt===null?le.memoizedState=nt=t:nt=nt.next=t}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(t){var n=$a;return $a+=1,Jr===null&&(Jr=[]),t=kd(Jr,t,n),n=le,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Zg:oc),t}function Ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pa(t);if(t.$$typeof===ne)return dt(t)}throw Error(s(438,String(t)))}function $u(t){var n=null,a=le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Dl(),le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=gn;return n.index++,a}function Fn(t,n){return typeof n=="function"?n(t):n}function Vl(t){var n=Pe();return Pu(n,Ue,t)}function Pu(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var d=u.next;u.next=f.next,f.next=d}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=d=null,b=null,D=n,B=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(pe&Z)===Z:(jn&Z)===Z){var O=D.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===Yr&&(B=!0);else if((jn&O)===O){D=D.next,O===Yr&&(B=!0);continue}else Z={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=Z,d=f):b=b.next=Z,le.lanes|=O,Ii|=O;Z=D.action,ur&&a(f,Z),f=D.hasEagerState?D.eagerState:a(f,Z)}else O={lane:Z,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=O,d=f):b=b.next=O,le.lanes|=Z,Ii|=Z;D=D.next}while(D!==null&&D!==n);if(b===null?d=f:b.next=p,!_t(f,t.memoizedState)&&(it=!0,B&&(a=_r,a!==null)))throw a;t.memoizedState=f,t.baseState=d,t.baseQueue=b,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qu(t){var n=Pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,f=n.memoizedState;if(u!==null){a.pending=null;var d=u=u.next;do f=t(f,d.action),d=d.next;while(d!==u);_t(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function ig(t,n,a){var l=le,u=Pe(),f=Se;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var d=!_t((Ue||u).memoizedState,a);if(d&&(u.memoizedState=a,it=!0),u=u.queue,nc(sg.bind(null,l,u,t),[t]),u.getSnapshot!==n||d||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,kr(9,{destroy:void 0},ag.bind(null,l,u,a,n),null),ze===null)throw Error(s(349));f||(jn&127)!==0||rg(l,n,a)}return a}function rg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=le.updateQueue,n===null?(n=Dl(),le.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ag(t,n,a,l){n.value=a,n.getSnapshot=l,lg(n)&&og(t)}function sg(t,n,a){return a(function(){lg(n)&&og(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!_t(t,a)}catch{return!0}}function og(t){var n=er(t,2);n!==null&&Vt(n,t,2)}function ec(t){var n=Tt();if(typeof t=="function"){var a=t;if(t=a(),ur){hi(!0);try{a()}finally{hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},n}function ug(t,n,a,l){return t.baseState=a,Pu(t,Ue,typeof l=="function"?l:Fn)}function AS(t,n,a,l,u){if(Ul(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};U.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function cg(t,n){var a=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=U.T,d={};U.T=d;try{var p=a(u,l),b=U.S;b!==null&&b(d,p),fg(t,n,p)}catch(D){tc(t,n,D)}finally{f!==null&&d.types!==null&&(f.types=d.types),U.T=f}}else try{f=a(u,l),fg(t,n,f)}catch(D){tc(t,n,D)}}function fg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hg(t,n,l)},function(l){return tc(t,n,l)}):hg(t,n,a)}function hg(t,n,a){n.status="fulfilled",n.value=a,dg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,cg(t,a)))}function tc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,dg(n),n=n.next;while(n!==l)}t.action=null}function dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function mg(t,n){if(Se){var a=ze.formState;if(a!==null){e:{var l=le;if(Se){if(_e){t:{for(var u=_e,f=nn;u.nodeType!==8;){if(!f){u=null;break t}if(u=an(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){_e=an(u.nextSibling),l=u.data==="F!";break e}}pi(l)}l=!1}l&&(n=a[0])}}return a=Tt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=l,a=Ug.bind(null,le,l),l.dispatch=a,l=ec(!1),f=lc.bind(null,le,!1,l.queue),l=Tt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,a=AS.bind(null,le,u,f,a),u.dispatch=a,l.memoizedState=t,[n,a,!1]}function yg(t){var n=Pe();return pg(n,Ue,t)}function pg(t,n,a){if(n=Pu(t,n,gg)[0],t=Vl(Fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pa(n)}catch(d){throw d===Gr?Al:d}else l=n;n=Pe();var u=n.queue,f=u.dispatch;return a!==n.memoizedState&&(le.flags|=2048,kr(9,{destroy:void 0},ES.bind(null,u,a),null)),[l,f,t]}function ES(t,n){t.action=n}function bg(t){var n=Pe(),a=Ue;if(a!==null)return pg(n,a,t);Pe(),n=n.memoizedState,a=Pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function kr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Dl(),le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function vg(){return Pe().memoizedState}function xl(t,n,a,l){var u=Tt();le.flags|=t,u.memoizedState=kr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Bl(t,n,a,l){var u=Pe();l=l===void 0?null:l;var f=u.memoizedState.inst;Ue!==null&&l!==null&&ku(l,Ue.memoizedState.deps)?u.memoizedState=kr(n,f,a,l):(le.flags|=t,u.memoizedState=kr(1|n,f,a,l))}function Sg(t,n){xl(8390656,8,t,n)}function nc(t,n){Bl(2048,8,t,n)}function NS(t){le.flags|=4;var n=le.updateQueue;if(n===null)n=Dl(),le.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ag(t){var n=Pe().memoizedState;return NS({ref:n,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return Bl(4,2,t,n)}function Ng(t,n){return Bl(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,a){a=a!=null?a.concat([t]):null,Bl(4,4,Tg.bind(null,n,t),a)}function ic(){}function Ig(t,n){var a=Pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Cg(t,n){var a=Pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=t(),ur){hi(!0);try{t()}finally{hi(!1)}}return a.memoizedState=[l,n],l}function rc(t,n,a){return a===void 0||(jn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=wm(),le.lanes|=t,Ii|=t,a)}function wg(t,n,a,l){return _t(a,n)?a:Wr.current!==null?(t=rc(t,a,l),_t(t,n)||(it=!0),t):(jn&42)===0||(jn&1073741824)!==0&&(pe&261930)===0?(it=!0,t.memoizedState=a):(t=wm(),le.lanes|=t,Ii|=t,n)}function Dg(t,n,a,l,u){var f=K.p;K.p=f!==0&&8>f?f:8;var d=U.T,p={};U.T=p,lc(t,!1,n,a);try{var b=u(),D=U.S;if(D!==null&&D(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var B=bS(b,l);qa(t,n,B,kt(t))}else qa(t,n,l,kt(t))}catch(Z){qa(t,n,{then:function(){},status:"rejected",reason:Z},kt())}finally{K.p=f,d!==null&&p.types!==null&&(d.types=p.types),U.T=d}}function TS(){}function ac(t,n,a,l){if(t.tag!==5)throw Error(s(476));var u=Og(t).queue;Dg(t,u,n,te,a===null?TS:function(){return Vg(t),a(l)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),qa(t,n.next.queue,{},kt())}function sc(){return dt(ys)}function xg(){return Pe().memoizedState}function Bg(){return Pe().memoizedState}function RS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kt();t=Si(a);var l=Ai(n,t,a);l!==null&&(Vt(l,n,a),Fa(l,n,a)),n={cache:Lu()},t.payload=n;return}n=n.return}}function IS(t,n,a){var l=kt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ul(t)?Lg(n,a):(a=Tu(t,n,a,l),a!==null&&(Vt(a,t,l),Mg(a,n,l)))}function Ug(t,n,a){var l=kt();qa(t,n,a,l)}function qa(t,n,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ul(t))Lg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,p=f(d,a);if(u.hasEagerState=!0,u.eagerState=p,_t(p,d))return gl(t,n,u,0),ze===null&&dl(),!1}catch{}finally{}if(a=Tu(t,n,u,l),a!==null)return Vt(a,t,l),Mg(a,n,l),!0}return!1}function lc(t,n,a,l){if(l={lane:2,revertLane:Yc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ul(t)){if(n)throw Error(s(479))}else n=Tu(t,a,l,2),n!==null&&Vt(n,t,2)}function Ul(t){var n=t.alternate;return t===le||n!==null&&n===le}function Lg(t,n){Xr=Cl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Mg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gh(t,a)}}var es={readContext:dt,use:Ol,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};es.useEffectEvent=Fe;var Zg={readContext:dt,use:Ol,useCallback:function(t,n){return Tt().memoizedState=[t,n===void 0?null:n],t},useContext:dt,useEffect:Sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,xl(4194308,4,Tg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return xl(4194308,4,t,n)},useInsertionEffect:function(t,n){xl(4,2,t,n)},useMemo:function(t,n){var a=Tt();n=n===void 0?null:n;var l=t();if(ur){hi(!0);try{t()}finally{hi(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Tt();if(a!==void 0){var u=a(n);if(ur){hi(!0);try{a(n)}finally{hi(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=IS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Tt();return t={current:t},n.memoizedState=t},useState:function(t){t=ec(t);var n=t.queue,a=Ug.bind(null,le,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ic,useDeferredValue:function(t,n){var a=Tt();return rc(a,t,n)},useTransition:function(){var t=ec(!1);return t=Dg.bind(null,le,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=le,u=Tt();if(Se){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ze===null)throw Error(s(349));(pe&127)!==0||rg(l,n,a)}u.memoizedState=a;var f={value:a,getSnapshot:n};return u.queue=f,Sg(sg.bind(null,l,f,t),[t]),l.flags|=2048,kr(9,{destroy:void 0},ag.bind(null,l,f,a,n),null),a},useId:function(){var t=Tt(),n=ze.identifierPrefix;if(Se){var a=Dn,l=wn;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=wl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=vS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sc,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Tt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=lc.bind(null,le,!0,a),a.dispatch=n,[t,n]},useMemoCache:$u,useCacheRefresh:function(){return Tt().memoizedState=RS.bind(null,le)},useEffectEvent:function(t){var n=Tt(),a={impl:t};return n.memoizedState=a,function(){if((Ie&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},oc={readContext:dt,use:Ol,useCallback:Ig,useContext:dt,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Cg,useReducer:Vl,useRef:vg,useState:function(){return Vl(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var a=Pe();return wg(a,Ue.memoizedState,t,n)},useTransition:function(){var t=Vl(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:Pa(t),n]},useSyncExternalStore:ig,useId:xg,useHostTransitionStatus:sc,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var a=Pe();return ug(a,Ue,t,n)},useMemoCache:$u,useCacheRefresh:Bg};oc.useEffectEvent=Ag;var zg={readContext:dt,use:Ol,useCallback:Ig,useContext:dt,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Cg,useReducer:qu,useRef:vg,useState:function(){return qu(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var a=Pe();return Ue===null?rc(a,t,n):wg(a,Ue.memoizedState,t,n)},useTransition:function(){var t=qu(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:Pa(t),n]},useSyncExternalStore:ig,useId:xg,useHostTransitionStatus:sc,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var a=Pe();return Ue!==null?ug(a,Ue,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Bg};zg.useEffectEvent=Ag;function uc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cc={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=kt(),u=Si(l);u.payload=n,a!=null&&(u.callback=a),n=Ai(t,u,l),n!==null&&(Vt(n,t,l),Fa(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=kt(),u=Si(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=Ai(t,u,l),n!==null&&(Vt(n,t,l),Fa(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kt(),l=Si(a);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,a),n!==null&&(Vt(n,t,a),Fa(n,t,a))}};function Yg(t,n,a,l,u,f,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,d):n.prototype&&n.prototype.isPureReactComponent?!_a(a,l)||!_a(u,f):!0}function _g(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&cc.enqueueReplaceState(n,n.state,null)}function cr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}function Gg(t){hl(t)}function Kg(t){console.error(t)}function Wg(t){hl(t)}function Ll(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fc(t,n,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){Ll(t,n)},a}function Jg(t){return t=Si(t),t.tag=3,t}function kg(t,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Xg(n,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(t.callback=function(){Xg(n,a,l),typeof u!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function CS(t,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&zr(n,a,u,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return rn===null?jl():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===El?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Mc(t,l,u)),!1;case 22:return a.flags|=65536,l===El?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Mc(t,l,u)),!1}throw Error(s(435,a.tag))}return Mc(t,l,u),jl(),!1}if(Se)return n=Kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ou&&(t=Error(s(422),{cause:l}),Wa(qt(t,a)))):(l!==Ou&&(n=Error(s(423),{cause:l}),Wa(qt(n,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=qt(l,a),u=fc(t.stateNode,l,u),Gu(t,u),He!==4&&(He=2)),!1;var f=Error(s(520),{cause:l});if(f=qt(f,a),os===null?os=[f]:os.push(f),He!==4&&(He=2),n===null)return!0;l=qt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=fc(a.stateNode,l,t),Gu(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Jg(u),kg(u,t,a,l),Gu(a,u),!1}a=a.return}while(a!==null);return!1}var hc=Error(s(461)),it=!1;function gt(t,n,a,l){n.child=t===null?Qd(n,null,a,l):or(n,t.child,a,l)}function jg(t,n,a,l,u){a=a.render;var f=n.ref;if("ref"in l){var d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}else d=l;return rr(n),l=ju(t,n,a,d,f,u),p=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&p&&wu(n),n.flags|=1,gt(t,n,l,u),n.child)}function Fg(t,n,a,l,u){if(t===null){var f=a.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,u)):(t=yl(a.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sc(t,u)){var d=f.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(d,l)&&t.ref===n.ref)return Hn(t,n,u)}return n.flags|=1,t=Wn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,a,l,u){if(t!==null){var f=t.memoizedProps;if(_a(f,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=f,Sc(t,u))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Hn(t,n,u)}return dc(t,n,a,l,u)}function Qg(t,n,a,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return $g(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sl(n,f!==null?f.cachePool:null),f!==null?qd(n,f):Wu(),eg(n);else return l=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Sl(n,f.cachePool),qd(n,f),Ni(),n.memoizedState=null):(t!==null&&Sl(n,null),Wu(),Ni());return gt(t,n,u,a),n.child}function ts(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,a,l,u){var f=Zu();return f=f===null?null:{parent:tt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Sl(n,null),Wu(),eg(n),t!==null&&zr(t,n,l,!0),n.childLanes=u,null}function Ml(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pg(t,n,a){return or(n,t.child,null,a),t=Ml(n,n.pendingProps),t.flags|=2,Wt(n),n.memoizedState=null,t}function wS(t,n,a){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,ts(null,t);if(Ju(n),(t=_e)?(t=cy(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Ld(t),a.return=n,n.child=a,ht=n,_e=null)):t=null,t===null)throw pi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var d=f.dehydrated;if(Ju(n),u)if(n.flags&256)n.flags&=-257,n=Pg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(it||zr(t,n,a,!1),u=(a&t.childLanes)!==0,it||u){if(l=ze,l!==null&&(d=Kh(l,a),d!==0&&d!==f.retryLane))throw f.retryLane=d,er(t,d),Vt(l,t,d),hc;jl(),n=Pg(t,n,a)}else t=f.treeContext,_e=an(d.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&zd(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Wn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function dc(t,n,a,l,u){return rr(n),a=ju(t,n,a,l,void 0,u),l=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&l&&wu(n),n.flags|=1,gt(t,n,a,u),n.child)}function qg(t,n,a,l,u,f){return rr(n),n.updateQueue=null,a=ng(n,l,a,u),tg(t),l=Fu(),t!==null&&!it?(Hu(t,n,f),Hn(t,n,f)):(Se&&l&&wu(n),n.flags|=1,gt(t,n,a,f),n.child)}function em(t,n,a,l,u){if(rr(n),n.stateNode===null){var f=Ur,d=a.contextType;typeof d=="object"&&d!==null&&(f=dt(d)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yu(n),d=a.contextType,f.context=typeof d=="object"&&d!==null?dt(d):Ur,f.state=n.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(uc(n,a,d,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&cc.enqueueReplaceState(f,f.state,null),Qa(n,l,f,u),Ha(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,b=cr(a,p);f.props=b;var D=f.context,B=a.contextType;d=Ur,typeof B=="object"&&B!==null&&(d=dt(B));var Z=a.getDerivedStateFromProps;B=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||D!==d)&&_g(n,f,l,d),vi=!1;var O=n.memoizedState;f.state=O,Qa(n,l,f,u),Ha(),D=n.memoizedState,p||O!==D||vi?(typeof Z=="function"&&(uc(n,a,Z,l),D=n.memoizedState),(b=vi||Yg(n,a,b,l,O,D,d))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=d,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_u(t,n),d=n.memoizedProps,B=cr(a,d),f.props=B,Z=n.pendingProps,O=f.context,D=a.contextType,b=Ur,typeof D=="object"&&D!==null&&(b=dt(D)),p=a.getDerivedStateFromProps,(D=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==Z||O!==b)&&_g(n,f,l,b),vi=!1,O=n.memoizedState,f.state=O,Qa(n,l,f,u),Ha();var x=n.memoizedState;d!==Z||O!==x||vi||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(uc(n,a,p,l),x=n.memoizedState),(B=vi||Yg(n,a,B,l,O,x,b)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=b,l=B):(typeof f.componentDidUpdate!="function"||d===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,u),n.child=or(n,null,a,u)):gt(t,n,a,u),n.memoizedState=f.state,t=n.child):t=Hn(t,n,u),t}function tm(t,n,a,l){return nr(),n.flags|=256,gt(t,n,a,l),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:Xd()}}function yc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Jt),t}function nm(t,n,a){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,t===null){if(Se){if(u?Ei(n):Ni(),(t=_e)?(t=cy(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},a=Ld(t),a.return=n,n.child=a,ht=n,_e=null)):t=null,t===null)throw pi(n);return Pc(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ni(),u=n.mode,p=zl({mode:"hidden",children:p},u),l=tr(l,u,a,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=mc(a),l.childLanes=yc(t,d,a),n.memoizedState=gc,ts(null,l)):(Ei(n),pc(n,p))}var b=t.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=bc(t,n,a)):n.memoizedState!==null?(Ni(),n.child=t.child,n.flags|=128,n=null):(Ni(),p=l.fallback,u=n.mode,l=zl({mode:"visible",children:l.children},u),p=tr(p,u,a,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,or(n,t.child,null,a),l=n.child,l.memoizedState=mc(a),l.childLanes=yc(t,d,a),n.memoizedState=gc,n=ts(null,l));else if(Ei(n),Pc(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;d=D,l=Error(s(419)),l.stack="",l.digest=d,Wa({value:l,source:null,stack:null}),n=bc(t,n,a)}else if(it||zr(t,n,a,!1),d=(a&t.childLanes)!==0,it||d){if(d=ze,d!==null&&(l=Kh(d,a),l!==0&&l!==b.retryLane))throw b.retryLane=l,er(t,l),Vt(d,t,l),hc;$c(p)||jl(),n=bc(t,n,a)}else $c(p)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,_e=an(p.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&zd(n,t),n=pc(n,l.children),n.flags|=4096);return n}return u?(Ni(),p=l.fallback,u=n.mode,b=t.child,D=b.sibling,l=Wn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,D!==null?p=Wn(D,p):(p=tr(p,u,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,ts(null,l),l=n.child,p=t.child.memoizedState,p===null?p=mc(a):(u=p.cachePool,u!==null?(b=tt._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Xd(),p={baseLanes:p.baseLanes|a,cachePool:u}),l.memoizedState=p,l.childLanes=yc(t,d,a),n.memoizedState=gc,ts(t.child,l)):(Ei(n),a=t.child,t=a.sibling,a=Wn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(d=n.deletions,d===null?(n.deletions=[t],n.flags|=16):d.push(t)),n.child=a,n.memoizedState=null,a)}function pc(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Gt(22,t,null,n),t.lanes=0,t}function bc(t,n,a){return or(n,t.child,null,a),t=pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function im(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bu(t.return,n,a)}function vc(t,n,a,l,u,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=u,d.treeForkCount=f)}function rm(t,n,a){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var d=$e.current,p=(d&2)!==0;if(p?(d=d&1|2,n.flags|=128):d&=1,W($e,d),gt(t,n,l,a),l=Se?Ka:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,a,n);else if(t.tag===19)im(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&Il(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),vc(n,!1,u,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Il(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}vc(n,!0,a,null,f,l);break;case"together":vc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(zr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Wn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Sc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function DS(t,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),bi(n,tt,t.memoizedState.cache),nr();break;case 27:case 5:Ca(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ju(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?nm(t,n,a):(Ei(n),t=Hn(t,n,a),t!==null?t.sibling:null);Ei(n);break;case 19:var u=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(zr(t,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return rm(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),W($e,$e.current),l)break;return null;case 22:return n.lanes=0,Qg(t,n,a,n.pendingProps);case 24:bi(n,tt,t.memoizedState.cache)}return Hn(t,n,a)}function am(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!Sc(t,a)&&(n.flags&128)===0)return it=!1,DS(t,n,a);it=(t.flags&131072)!==0}else it=!1,Se&&(n.flags&1048576)!==0&&Zd(n,Ka,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")Ru(t)?(l=cr(t,l),n.tag=1,n=em(null,n,t,l,a)):(n.tag=0,n=dc(null,n,t,l,a));else{if(t!=null){var u=t.$$typeof;if(u===Ee){n.tag=11,n=jg(null,n,t,l,a);break e}else if(u===J){n.tag=14,n=Fg(null,n,t,l,a);break e}}throw n=Yn(t)||t,Error(s(306,n,""))}}return n;case 0:return dc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=cr(l,n.pendingProps),em(t,n,l,u,a);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,_u(t,n),Qa(n,l,null,a);var d=n.memoizedState;if(l=d.cache,bi(n,tt,l),l!==f.cache&&Uu(n,[tt],a,!0),Ha(),l=d.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tm(t,n,l,a);break e}else if(l!==u){u=qt(Error(s(424)),n),Wa(u),n=tm(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_e=an(t.firstChild),ht=n,Se=!0,yi=null,nn=!0,a=Qd(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nr(),l===u){n=Hn(t,n,a);break e}gt(t,n,l,a)}n=n.child}return n;case 26:return Zl(t,n),t===null?(a=yy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Se||(a=n.type,t=n.pendingProps,l=eo(he.current).createElement(a),l[ft]=n,l[Rt]=t,mt(l,a,t),lt(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ca(n),t===null&&Se&&(l=n.stateNode=dy(n.type,n.pendingProps,he.current),ht=n,nn=!0,u=_e,Vi(n.type)?(qc=u,_e=an(l.firstChild)):_e=u),gt(t,n,n.pendingProps.children,a),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Se&&((u=l=_e)&&(l=aA(l,n.type,n.pendingProps,nn),l!==null?(n.stateNode=l,ht=n,_e=an(l.firstChild),nn=!1,u=!0):u=!1),u||pi(n)),Ca(n),u=n.type,f=n.pendingProps,d=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:d!==null&&Fc(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(t,n,SS,null,null,a),ys._currentValue=u),Zl(t,n),gt(t,n,l,a),n.child;case 6:return t===null&&Se&&((t=a=_e)&&(a=sA(a,n.pendingProps,nn),a!==null?(n.stateNode=a,ht=n,_e=null,t=!0):t=!1),t||pi(n)),null;case 13:return nm(t,n,a);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,a):gt(t,n,l,a),n.child;case 11:return jg(t,n,n.type,n.pendingProps,a);case 7:return gt(t,n,n.pendingProps,a),n.child;case 8:return gt(t,n,n.pendingProps.children,a),n.child;case 12:return gt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),gt(t,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,rr(n),u=dt(u),l=l(u),n.flags|=1,gt(t,n,l,a),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,a);case 15:return Hg(t,n,n.type,n.pendingProps,a);case 19:return rm(t,n,a);case 31:return wS(t,n,a);case 22:return Qg(t,n,a,n.pendingProps);case 24:return rr(n),l=dt(tt),t===null?(u=Zu(),u===null&&(u=ze,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),n.memoizedState={parent:l,cache:u},Yu(n),bi(n,tt,u)):((t.lanes&a)!==0&&(_u(t,n),Qa(n,null,null,a),Ha()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),bi(n,tt,l)):(l=f.cache,bi(n,tt,l),l!==u.cache&&Uu(n,[tt],a,!0))),gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qn(t){t.flags|=4}function Ac(t,n,a,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(xm())t.flags|=8192;else throw lr=El,zu}else t.flags&=-16777217}function sm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ay(n))if(xm())t.flags|=8192;else throw lr=El,zu}function Yl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Yh():536870912,t.lanes|=n,Qr|=n)}function ns(t,n){if(!Se)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function OS(t,n,a){var l=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),kn(tt),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zr(n)?Qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),Ge(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(Qn(n),f!==null?(Ge(n),sm(n,f)):(Ge(n),Ac(n,u,null,l,a))):f?f!==t.memoizedState?(Qn(n),Ge(n),sm(n,f)):(Ge(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qn(n),Ge(n),Ac(n,u,t,l,a)),null;case 27:if(Qs(n),a=he.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}t=k.current,Zr(n)?Yd(n):(t=dy(u,l,a),n.stateNode=t,Qn(n))}return Ge(n),null;case 5:if(Qs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}if(f=k.current,Zr(n))Yd(n);else{var d=eo(he.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?d.createElement(u,{is:l.is}):d.createElement(u)}}f[ft]=n,f[Rt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(mt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qn(n)}}return Ge(n),Ac(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=he.current,Zr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,u=ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ft]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,a)),t||pi(n,!0)}else t=eo(t).createTextNode(l),t[ft]=n,n.stateNode=t}return Ge(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Zr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ft]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),t=!1}else a=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Wt(n),n):(Wt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ge(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Zr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(s(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[ft]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),u=!1}else u=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Wt(n),n):(Wt(n),null)}return Wt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Yl(n,n.updateQueue),Ge(n),null);case 4:return Qe(),t===null&&Wc(n.stateNode.containerInfo),Ge(n),null;case 10:return kn(n.type),Ge(n),null;case 19:if(z($e),l=n.memoizedState,l===null)return Ge(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)ns(l,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Il(t),f!==null){for(n.flags|=128,ns(l,!1),t=f.updateQueue,n.updateQueue=t,Yl(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ud(a,t),a=a.sibling;return W($e,$e.current&1|2),Se&&Xn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Zt()>Xl&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304)}else{if(!u)if(t=Il(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Yl(n,t),ns(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Se)return Ge(n),null}else 2*Zt()-l.renderingStartTime>Xl&&a!==536870912&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,a=$e.current,W($e,u?a&1|2:a&1),Se&&Xn(n,l.treeForkCount),t):(Ge(n),null);case 22:case 23:return Wt(n),Xu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),a=n.updateQueue,a!==null&&Yl(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&z(ar),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kn(tt),Ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function VS(t,n){switch(Du(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(tt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(Wt(n),n.alternate===null)throw Error(s(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Wt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z($e),null;case 4:return Qe(),null;case 10:return kn(n.type),null;case 22:case 23:return Wt(n),Xu(),t!==null&&z(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(tt),null;case 25:return null;default:return null}}function lm(t,n){switch(Du(n),n.tag){case 3:kn(tt),Qe();break;case 26:case 27:case 5:Qs(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Wt(n);break;case 13:Wt(n);break;case 19:z($e);break;case 10:kn(n.type);break;case 22:case 23:Wt(n),Xu(),t!==null&&z(ar);break;case 24:kn(tt)}}function is(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){l=void 0;var f=a.create,d=a.inst;l=f(),d.destroy=l}a=a.next}while(a!==u)}}catch(p){Ve(n,n.return,p)}}function Ti(t,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var d=l.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,u=n;var b=a,D=p;try{D()}catch(B){Ve(u,b,B)}}}l=l.next}while(l!==f)}}catch(B){Ve(n,n.return,B)}}function om(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Pd(n,a)}catch(l){Ve(t,t.return,l)}}}function um(t,n,a){a.props=cr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ve(t,n,l)}}function rs(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(u){Ve(t,n,u)}}function On(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ve(t,n,u)}else a.current=null}function cm(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ve(t,t.return,u)}}function Ec(t,n,a){try{var l=t.stateNode;qS(l,t.type,a,n),l[Rt]=n}catch(u){Ve(t,t.return,u)}}function fm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Tc(t,n,a),t=t.sibling;t!==null;)Tc(t,n,a),t=t.sibling}function _l(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_l(t,n,a),t=t.sibling;t!==null;)_l(t,n,a),t=t.sibling}function hm(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);mt(n,l,a),n[ft]=t,n[Rt]=a}catch(f){Ve(t,t.return,f)}}var $n=!1,rt=!1,Rc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,ot=null;function xS(t,n){if(t=t.containerInfo,kc=lo,t=Rd(t),bu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var d=0,p=-1,b=-1,D=0,B=0,Z=t,O=null;t:for(;;){for(var x;Z!==a||u!==0&&Z.nodeType!==3||(p=d+u),Z!==f||l!==0&&Z.nodeType!==3||(b=d+l),Z.nodeType===3&&(d+=Z.nodeValue.length),(x=Z.firstChild)!==null;)O=Z,Z=x;for(;;){if(Z===t)break t;if(O===a&&++D===u&&(p=d),O===f&&++B===l&&(b=d),(x=Z.nextSibling)!==null)break;Z=O,O=Z.parentNode}Z=x}a=p===-1||b===-1?null:{start:p,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:t,selectionRange:a},lo=!1,ot=n;ot!==null;)if(n=ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ot=t;else for(;ot!==null;){switch(n=ot,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)u=t[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var X=cr(a.type,u);t=l.getSnapshotBeforeUpdate(X,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ve(a,a.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ot=t;break}ot=n.return}}function gm(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qn(t,a),l&4&&is(5,a);break;case 1:if(qn(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(d){Ve(a,a.return,d)}else{var u=cr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(d){Ve(a,a.return,d)}}l&64&&om(a),l&512&&rs(a,a.return);break;case 3:if(qn(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pd(t,n)}catch(d){Ve(a,a.return,d)}}break;case 27:n===null&&l&4&&hm(a);case 26:case 5:qn(t,a),n===null&&l&4&&cm(a),l&512&&rs(a,a.return);break;case 12:qn(t,a);break;case 31:qn(t,a),l&4&&pm(t,a);break;case 13:qn(t,a),l&4&&bm(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=GS.bind(null,a),lA(t,a))));break;case 22:if(l=a.memoizedState!==null||$n,!l){n=n!==null&&n.memoizedState!==null||rt,u=$n;var f=rt;$n=l,(rt=n)&&!f?ei(t,a,(a.subtreeFlags&8772)!==0):qn(t,a),$n=u,rt=f}break;case 30:break;default:qn(t,a)}}function mm(t){var n=t.alternate;n!==null&&(t.alternate=null,mm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Ct=!1;function Pn(t,n,a){for(a=a.child;a!==null;)ym(t,n,a),a=a.sibling}function ym(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(wa,a)}catch{}switch(a.tag){case 26:rt||On(a,n),Pn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||On(a,n);var l=Xe,u=Ct;Vi(a.type)&&(Xe=a.stateNode,Ct=!1),Pn(t,n,a),ds(a.stateNode),Xe=l,Ct=u;break;case 5:rt||On(a,n);case 6:if(l=Xe,u=Ct,Xe=null,Pn(t,n,a),Xe=l,Ct=u,Xe!==null)if(Ct)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(f){Ve(a,n,f)}else try{Xe.removeChild(a.stateNode)}catch(f){Ve(a,n,f)}break;case 18:Xe!==null&&(Ct?(t=Xe,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ra(t)):oy(Xe,a.stateNode));break;case 4:l=Xe,u=Ct,Xe=a.stateNode.containerInfo,Ct=!0,Pn(t,n,a),Xe=l,Ct=u;break;case 0:case 11:case 14:case 15:Ti(2,a,n),rt||Ti(4,a,n),Pn(t,n,a);break;case 1:rt||(On(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&um(a,n,l)),Pn(t,n,a);break;case 21:Pn(t,n,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,Pn(t,n,a),rt=l;break;default:Pn(t,n,a)}}function pm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ra(t)}catch(a){Ve(n,n.return,a)}}}function bm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ra(t)}catch(a){Ve(n,n.return,a)}}function BS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dm),n;default:throw Error(s(435,t.tag))}}function Gl(t,n){var a=BS(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var u=KS.bind(null,t,l);l.then(u,u)}})}function wt(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=t,d=n,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){Xe=p.stateNode,Ct=!1;break e}break;case 5:Xe=p.stateNode,Ct=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,Ct=!0;break e}p=p.return}if(Xe===null)throw Error(s(160));ym(f,d,u),Xe=null,Ct=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vm(n,t),n=n.sibling}var pn=null;function vm(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(n,t),Dt(t),l&4&&(Ti(3,t,t.return),is(3,t),Ti(5,t,t.return));break;case 1:wt(n,t),Dt(t),l&512&&(rt||a===null||On(a,a.return)),l&64&&$n&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=pn;if(wt(n,t),Dt(t),l&512&&(rt||a===null||On(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Va]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),mt(f,l,a),f[ft]=t,lt(f),l=f;break e;case"link":var d=vy("link","href",u).get(l+(a.href||""));if(d){for(var p=0;p<d.length;p++)if(f=d[p],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(p,1);break t}}f=u.createElement(l),mt(f,l,a),u.head.appendChild(f);break;case"meta":if(d=vy("meta","content",u).get(l+(a.content||""))){for(p=0;p<d.length;p++)if(f=d[p],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(p,1);break t}}f=u.createElement(l),mt(f,l,a),u.head.appendChild(f);break;default:throw Error(s(468,l))}f[ft]=t,lt(f),l=f}t.stateNode=l}else Sy(u,t.type,t.stateNode);else t.stateNode=by(u,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Sy(u,t.type,t.stateNode):by(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ec(t,t.memoizedProps,a.memoizedProps)}break;case 27:wt(n,t),Dt(t),l&512&&(rt||a===null||On(a,a.return)),a!==null&&l&4&&Ec(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wt(n,t),Dt(t),l&512&&(rt||a===null||On(a,a.return)),t.flags&32){u=t.stateNode;try{Cr(u,"")}catch(X){Ve(t,t.return,X)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Ec(t,u,a!==null?a.memoizedProps:u)),l&1024&&(Rc=!0);break;case 6:if(wt(n,t),Dt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){Ve(t,t.return,X)}}break;case 3:if(io=null,u=pn,pn=to(n.containerInfo),wt(n,t),pn=u,Dt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ra(n.containerInfo)}catch(X){Ve(t,t.return,X)}Rc&&(Rc=!1,Sm(t));break;case 4:l=pn,pn=to(t.stateNode.containerInfo),wt(n,t),Dt(t),pn=l;break;case 12:wt(n,t),Dt(t);break;case 31:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 13:wt(n,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wl=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,D=$n,B=rt;if($n=D||u,rt=B||b,wt(n,t),rt=B,$n=D,Dt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||b||$n||rt||fr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,u)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=b.stateNode;var Z=b.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(X){Ve(b,b.return,X)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(X){Ve(b,b.return,X)}}}else if(n.tag===18){if(a===null){b=n;try{var x=b.stateNode;u?uy(x,!0):uy(b.stateNode,!1)}catch(X){Ve(b,b.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gl(t,a))));break;case 19:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 30:break;case 21:break;default:wt(n,t),Dt(t)}}function Dt(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(fm(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var u=a.stateNode,f=Nc(t);_l(t,f,u);break;case 5:var d=a.stateNode;a.flags&32&&(Cr(d,""),a.flags&=-33);var p=Nc(t);_l(t,p,d);break;case 3:case 4:var b=a.stateNode.containerInfo,D=Nc(t);Tc(t,D,b);break;default:throw Error(s(161))}}catch(B){Ve(t,t.return,B)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gm(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),fr(n);break;case 1:On(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&um(n,n.return,a),fr(n);break;case 27:ds(n.stateNode);case 26:case 5:On(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function ei(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:ei(u,f,a),is(4,f);break;case 1:if(ei(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(D){Ve(l,l.return,D)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)$d(b[u],p)}catch(D){Ve(l,l.return,D)}}a&&d&64&&om(f),rs(f,f.return);break;case 27:hm(f);case 26:case 5:ei(u,f,a),a&&l===null&&d&4&&cm(f),rs(f,f.return);break;case 12:ei(u,f,a);break;case 31:ei(u,f,a),a&&d&4&&pm(u,f);break;case 13:ei(u,f,a),a&&d&4&&bm(u,f);break;case 22:f.memoizedState===null&&ei(u,f,a),rs(f,f.return);break;case 30:break;default:ei(u,f,a)}n=n.sibling}}function Ic(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xa(a))}function Cc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xa(t))}function bn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Am(t,n,a,l),n=n.sibling}function Am(t,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:bn(t,n,a,l),u&2048&&is(9,n);break;case 1:bn(t,n,a,l);break;case 3:bn(t,n,a,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xa(t)));break;case 12:if(u&2048){bn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,d=f.id,p=f.onPostCommit;typeof p=="function"&&p(d,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ve(n,n.return,b)}}else bn(t,n,a,l);break;case 31:bn(t,n,a,l);break;case 13:bn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?bn(t,n,a,l):as(t,n):f._visibility&2?bn(t,n,a,l):(f._visibility|=2,jr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ic(d,n);break;case 24:bn(t,n,a,l),u&2048&&Cc(n.alternate,n);break;default:bn(t,n,a,l)}}function jr(t,n,a,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,d=n,p=a,b=l,D=d.flags;switch(d.tag){case 0:case 11:case 15:jr(f,d,p,b,u),is(8,d);break;case 23:break;case 22:var B=d.stateNode;d.memoizedState!==null?B._visibility&2?jr(f,d,p,b,u):as(f,d):(B._visibility|=2,jr(f,d,p,b,u)),u&&D&2048&&Ic(d.alternate,d);break;case 24:jr(f,d,p,b,u),u&&D&2048&&Cc(d.alternate,d);break;default:jr(f,d,p,b,u)}n=n.sibling}}function as(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,u=l.flags;switch(l.tag){case 22:as(a,l),u&2048&&Ic(l.alternate,l);break;case 24:as(a,l),u&2048&&Cc(l.alternate,l);break;default:as(a,l)}n=n.sibling}}var ss=8192;function Fr(t,n,a){if(t.subtreeFlags&ss)for(t=t.child;t!==null;)Em(t,n,a),t=t.sibling}function Em(t,n,a){switch(t.tag){case 26:Fr(t,n,a),t.flags&ss&&t.memoizedState!==null&&vA(a,pn,t.memoizedState,t.memoizedProps);break;case 5:Fr(t,n,a);break;case 3:case 4:var l=pn;pn=to(t.stateNode.containerInfo),Fr(t,n,a),pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ss,ss=16777216,Fr(t,n,a),ss=l):Fr(t,n,a));break;default:Fr(t,n,a)}}function Nm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ls(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ot=l,Rm(l,t)}Nm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 0:case 11:case 15:ls(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:ls(t);break;case 12:ls(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Kl(t)):ls(t);break;default:ls(t)}}function Kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ot=l,Rm(l,t)}Nm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Kl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Kl(n));break;default:Kl(n)}t=t.sibling}}function Rm(t,n){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:Ti(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ot=l;else e:for(a=t;ot!==null;){l=ot;var u=l.sibling,f=l.return;if(mm(l),l===a){ot=null;break e}if(u!==null){u.return=f,ot=u;break e}ot=f}}}var US={getCacheForType:function(t){var n=dt(tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return dt(tt).controller.signal}},LS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,ze=null,de=null,pe=0,Oe=0,Xt=null,Ri=!1,Hr=!1,wc=!1,ti=0,He=0,Ii=0,hr=0,Dc=0,Jt=0,Qr=0,os=null,Ot=null,Oc=!1,Wl=0,Im=0,Xl=1/0,Jl=null,Ci=null,st=0,wi=null,$r=null,ni=0,Vc=0,xc=null,Cm=null,us=0,Bc=null;function kt(){return(Ie&2)!==0&&pe!==0?pe&-pe:U.T!==null?Yc():Wh()}function wm(){if(Jt===0)if((pe&536870912)===0||Se){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Jt=t}else Jt=536870912;return t=Kt.current,t!==null&&(t.flags|=32),Jt}function Vt(t,n,a){(t===ze&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),Di(t,pe,Jt,!1)),Oa(t,a),((Ie&2)===0||t!==ze)&&(t===ze&&((Ie&2)===0&&(hr|=a),He===4&&Di(t,pe,Jt,!1)),Vn(t))}function Dm(t,n,a){if((Ie&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Da(t,n),u=l?zS(t,n):Lc(t,n,!0),f=l;do{if(u===0){Hr&&!l&&Di(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!MS(a)){u=Lc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var d=0;else d=t.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var p=t;u=os;var b=p.current.memoizedState.isDehydrated;if(b&&(Pr(p,d).flags|=256),d=Lc(p,d,!1),d!==2){if(wc&&!b){p.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Ot,Ot=u,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}u=d}if(f=!1,u!==2)continue}}if(u===1){Pr(t,0),Di(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,Jt,!Ri);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(u=Wl+300-Zt(),10<u)){if(Di(l,n,Jt,!Ri),tl(l,0,!0)!==0)break e;ni=n,l.timeoutHandle=sy(Om.bind(null,l,a,Ot,Jl,Oc,n,Jt,hr,Qr,Ri,f,"Throttled",-0,0),u);break e}Om(l,a,Ot,Jl,Oc,n,Jt,hr,Qr,Ri,f,null,-0,0)}}break}while(!0);Vn(t)}function Om(t,n,a,l,u,f,d,p,b,D,B,Z,O,x){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Em(n,f,Z);var X=(f&62914560)===f?Wl-Zt():(f&4194048)===f?Im-Zt():0;if(X=SA(Z,X),X!==null){ni=f,t.cancelPendingCommit=X(zm.bind(null,t,n,f,a,l,u,d,p,b,B,Z,null,O,x)),Di(t,f,d,!D);return}}zm(t,n,f,a,l,u,d,p,b)}function MS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!_t(f(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,a,l){n&=~Dc,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Yt(u),d=1<<f;l[f]=-1,u&=~d}a!==0&&_h(t,a,n)}function kl(){return(Ie&6)===0?(cs(0),!1):!0}function Uc(){if(de!==null){if(Oe===0)var t=de.return;else t=de,Jn=ir=null,Qu(t),Kr=null,ka=0,t=de;for(;t!==null;)lm(t.alternate,t),t=t.return;de=null}}function Pr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ni=0,Uc(),ze=t,de=a=Wn(t.current,null),pe=n,Oe=0,Xt=null,Ri=!1,Hr=Da(t,n),wc=!1,Qr=Jt=Dc=hr=Ii=He=0,Ot=os=null,Oc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Yt(l),f=1<<u;n|=t[u],l&=~f}return ti=n,dl(),a}function Vm(t,n){le=null,U.H=es,n===Gr||n===Al?(n=jd(),Oe=3):n===zu?(n=jd(),Oe=4):Oe=n===hc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,de===null&&(He=1,Ll(t,qt(n,t.current)))}function xm(){var t=Kt.current;return t===null?!0:(pe&4194048)===pe?rn===null:(pe&62914560)===pe||(pe&536870912)!==0?t===rn:!1}function Bm(){var t=U.H;return U.H=es,t===null?es:t}function Um(){var t=U.A;return U.A=US,t}function jl(){He=4,Ri||(pe&4194048)!==pe&&Kt.current!==null||(Hr=!0),(Ii&134217727)===0&&(hr&134217727)===0||ze===null||Di(ze,pe,Jt,!1)}function Lc(t,n,a){var l=Ie;Ie|=2;var u=Bm(),f=Um();(ze!==t||pe!==n)&&(Jl=null,Pr(t,n)),n=!1;var d=He;e:do try{if(Oe!==0&&de!==null){var p=de,b=Xt;switch(Oe){case 8:Uc(),d=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(n=!0);var D=Oe;if(Oe=0,Xt=null,qr(t,p,b,D),a&&Hr){d=0;break e}break;default:D=Oe,Oe=0,Xt=null,qr(t,p,b,D)}}ZS(),d=He;break}catch(B){Vm(t,B)}while(!0);return n&&t.shellSuspendCounter++,Jn=ir=null,Ie=l,U.H=u,U.A=f,de===null&&(ze=null,pe=0,dl()),d}function ZS(){for(;de!==null;)Lm(de)}function zS(t,n){var a=Ie;Ie|=2;var l=Bm(),u=Um();ze!==t||pe!==n?(Jl=null,Xl=Zt()+500,Pr(t,n)):Hr=Da(t,n);e:do try{if(Oe!==0&&de!==null){n=de;var f=Xt;t:switch(Oe){case 1:Oe=0,Xt=null,qr(t,n,f,1);break;case 2:case 9:if(Jd(f)){Oe=0,Xt=null,Mm(n);break}n=function(){Oe!==2&&Oe!==9||ze!==t||(Oe=7),Vn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Jd(f)?(Oe=0,Xt=null,Mm(n)):(Oe=0,Xt=null,qr(t,n,f,7));break;case 5:var d=null;switch(de.tag){case 26:d=de.memoizedState;case 5:case 27:var p=de;if(d?Ay(d):p.stateNode.complete){Oe=0,Xt=null;var b=p.sibling;if(b!==null)de=b;else{var D=p.return;D!==null?(de=D,Fl(D)):de=null}break t}}Oe=0,Xt=null,qr(t,n,f,5);break;case 6:Oe=0,Xt=null,qr(t,n,f,6);break;case 8:Uc(),He=6;break e;default:throw Error(s(462))}}YS();break}catch(B){Vm(t,B)}while(!0);return Jn=ir=null,U.H=l,U.A=u,Ie=a,de!==null?0:(ze=null,pe=0,dl(),He)}function YS(){for(;de!==null&&!o0();)Lm(de)}function Lm(t){var n=am(t.alternate,t,ti);t.memoizedProps=t.pendingProps,n===null?Fl(t):de=n}function Mm(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Qu(n);default:lm(a,n),n=de=Ud(n,ti),n=am(a,n,ti)}t.memoizedProps=t.pendingProps,n===null?Fl(t):de=n}function qr(t,n,a,l){Jn=ir=null,Qu(n),Kr=null,ka=0;var u=n.return;try{if(CS(t,u,n,a,pe)){He=1,Ll(t,qt(a,t.current)),de=null;return}}catch(f){if(u!==null)throw de=u,f;He=1,Ll(t,qt(a,t.current)),de=null;return}n.flags&32768?(Se||l===1?t=!0:Hr||(pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zm(n,t)):Fl(n)}function Fl(t){var n=t;do{if((n.flags&32768)!==0){Zm(n,Ri);return}t=n.return;var a=OS(n.alternate,n,ti);if(a!==null){de=a;return}if(n=n.sibling,n!==null){de=n;return}de=n=t}while(n!==null);He===0&&(He=5)}function Zm(t,n){do{var a=VS(t.alternate,t);if(a!==null){a.flags&=32767,de=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){de=t;return}de=t=a}while(t!==null);He=6,de=null}function zm(t,n,a,l,u,f,d,p,b){t.cancelPendingCommit=null;do Hl();while(st!==0);if((Ie&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Nu,b0(t,a,f,d,p,b),t===ze&&(de=ze=null,pe=0),$r=n,wi=t,ni=a,Vc=f,xc=u,Cm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS($s,function(){return Wm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,u=K.p,K.p=2,d=Ie,Ie|=4;try{xS(t,n,a)}finally{Ie=d,K.p=u,U.T=l}}st=1,Ym(),_m(),Gm()}}function Ym(){if(st===1){st=0;var t=wi,n=$r,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{vm(n,t);var f=jc,d=Rd(t.containerInfo),p=f.focusedElem,b=f.selectionRange;if(d!==p&&p&&p.ownerDocument&&Td(p.ownerDocument.documentElement,p)){if(b!==null&&bu(p)){var D=b.start,B=b.end;if(B===void 0&&(B=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(B,p.value.length);else{var Z=p.ownerDocument||document,O=Z&&Z.defaultView||window;if(O.getSelection){var x=O.getSelection(),X=p.textContent.length,ee=Math.min(b.start,X),Me=b.end===void 0?ee:Math.min(b.end,X);!x.extend&&ee>Me&&(d=Me,Me=ee,ee=d);var R=Nd(p,ee),S=Nd(p,Me);if(R&&S&&(x.rangeCount!==1||x.anchorNode!==R.node||x.anchorOffset!==R.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var w=Z.createRange();w.setStart(R.node,R.offset),x.removeAllRanges(),ee>Me?(x.addRange(w),x.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),x.addRange(w))}}}}for(Z=[],x=p;x=x.parentNode;)x.nodeType===1&&Z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var M=Z[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}lo=!!kc,jc=kc=null}finally{Ie=u,K.p=l,U.T=a}}t.current=n,st=2}}function _m(){if(st===2){st=0;var t=wi,n=$r,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{gm(t,n.alternate,n)}finally{Ie=u,K.p=l,U.T=a}}st=3}}function Gm(){if(st===4||st===3){st=0,u0();var t=wi,n=$r,a=ni,l=Cm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,$r=wi=null,Km(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ci=null),qo(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(wa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,u=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,d=0;d<l.length;d++){var p=l[d];f(p.value,{componentStack:p.stack})}}finally{U.T=n,K.p=u}}(ni&3)!==0&&Hl(),Vn(t),u=t.pendingLanes,(a&261930)!==0&&(u&42)!==0?t===Bc?us++:(us=0,Bc=t):us=0,cs(0)}}function Km(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xa(n)))}function Hl(){return Ym(),_m(),Gm(),Wm()}function Wm(){if(st!==5)return!1;var t=wi,n=Vc;Vc=0;var a=qo(ni),l=U.T,u=K.p;try{K.p=32>a?32:a,U.T=null,a=xc,xc=null;var f=wi,d=ni;if(st=0,$r=wi=null,ni=0,(Ie&6)!==0)throw Error(s(331));var p=Ie;if(Ie|=4,Tm(f.current),Am(f,f.current,d,a),Ie=p,cs(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(wa,f)}catch{}return!0}finally{K.p=u,U.T=l,Km(t,n)}}function Xm(t,n,a){n=qt(a,n),n=fc(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(Oa(t,2),Vn(t))}function Ve(t,n,a){if(t.tag===3)Xm(t,t,a);else for(;n!==null;){if(n.tag===3){Xm(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=qt(a,t),a=Jg(2),l=Ai(n,a,2),l!==null&&(kg(a,l,n,t),Oa(l,2),Vn(l));break}}n=n.return}}function Mc(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(wc=!0,u.add(a),t=_S.bind(null,t,n,a),n.then(t,t))}function _S(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ze===t&&(pe&a)===a&&(He===4||He===3&&(pe&62914560)===pe&&300>Zt()-Wl?(Ie&2)===0&&Pr(t,0):Dc|=a,Qr===pe&&(Qr=0)),Vn(t)}function Jm(t,n){n===0&&(n=Yh()),t=er(t,n),t!==null&&(Oa(t,n),Vn(t))}function GS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jm(t,a)}function KS(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Jm(t,a)}function WS(t,n){return Ho(t,n)}var Ql=null,ea=null,Zc=!1,$l=!1,zc=!1,Oi=0;function Vn(t){t!==ea&&t.next===null&&(ea===null?Ql=ea=t:ea=ea.next=t),$l=!0,Zc||(Zc=!0,JS())}function cs(t,n){if(!zc&&$l){zc=!0;do for(var a=!1,l=Ql;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var d=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-Yt(42|t)+1)-1,f&=u&~(d&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Hm(l,f))}else f=pe,f=tl(l,l===ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Da(l,f)||(a=!0,Hm(l,f));l=l.next}while(a);zc=!1}}function XS(){km()}function km(){$l=Zc=!1;var t=0;Oi!==0&&tA()&&(t=Oi);for(var n=Zt(),a=null,l=Ql;l!==null;){var u=l.next,f=jm(l,n);f===0?(l.next=null,a===null?Ql=u:a.next=u,u===null&&(ea=a)):(a=l,(t!==0||(f&3)!==0)&&($l=!0)),l=u}st!==0&&st!==5||cs(t),Oi!==0&&(Oi=0)}function jm(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var d=31-Yt(f),p=1<<d,b=u[d];b===-1?((p&a)===0||(p&l)!==0)&&(u[d]=p0(p,n)):b<=n&&(t.expiredLanes|=p),f&=~p}if(n=ze,a=pe,a=tl(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Da(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qo(l),qo(a)){case 2:case 8:a=Zh;break;case 32:a=$s;break;case 268435456:a=zh;break;default:a=$s}return l=Fm.bind(null,t),a=Ho(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qo(l),t.callbackPriority=2,t.callbackNode=null,2}function Fm(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hl()&&t.callbackNode!==a)return null;var l=pe;return l=tl(t,t===ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dm(t,l,n),jm(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?Fm.bind(null,t):null)}function Hm(t,n){if(Hl())return null;Dm(t,n,!0)}function JS(){iA(function(){(Ie&6)!==0?Ho(Mh,XS):km()})}function Yc(){if(Oi===0){var t=Yr;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Oi=t}return Oi}function Qm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function $m(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function kS(t,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var f=Qm((u[Rt]||null).action),d=l.submitter;d&&(n=(n=d[Rt]||null)?Qm(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var p=new ul("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var b=d?$m(u,d):new FormData(u);ac(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(p.preventDefault(),b=d?$m(u,d):new FormData(u),ac(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var _c=0;_c<Eu.length;_c++){var Gc=Eu[_c],jS=Gc.toLowerCase(),FS=Gc[0].toUpperCase()+Gc.slice(1);yn(jS,"on"+FS)}yn(wd,"onAnimationEnd"),yn(Dd,"onAnimationIteration"),yn(Od,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(cS,"onTransitionRun"),yn(fS,"onTransitionStart"),yn(hS,"onTransitionCancel"),yn(Vd,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fs));function Pm(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var d=l.length-1;0<=d;d--){var p=l[d],b=p.instance,D=p.currentTarget;if(p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(B){hl(B)}u.currentTarget=null,f=b}else for(d=0;d<l.length;d++){if(p=l[d],b=p.instance,D=p.currentTarget,p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(B){hl(B)}u.currentTarget=null,f=b}}}}function ge(t,n){var a=n[eu];a===void 0&&(a=n[eu]=new Set);var l=t+"__bubble";a.has(l)||(qm(n,t,2,!1),a.add(l))}function Kc(t,n,a){var l=0;n&&(l|=4),qm(a,t,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[Pl]){t[Pl]=!0,kh.forEach(function(a){a!=="selectionchange"&&(HS.has(a)||Kc(a,!1,t),Kc(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,Kc("selectionchange",!1,n))}}function qm(t,n,a,l){switch(wy(n)){case 2:var u=NA;break;case 8:u=TA;break;default:u=af}a=u.bind(null,n,a,t),u=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Xc(t,n,a,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var p=l.stateNode.containerInfo;if(p===u)break;if(d===4)for(d=l.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;p!==null;){if(d=Er(p),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){l=f=d;continue e}p=p.parentNode}}l=l.return}rd(function(){var D=f,B=lu(a),Z=[];e:{var O=xd.get(t);if(O!==void 0){var x=ul,X=t;switch(t){case"keypress":if(ll(a)===0)break e;case"keydown":case"keyup":x=K0;break;case"focusin":X="focus",x=du;break;case"focusout":X="blur",x=du;break;case"beforeblur":case"afterblur":x=du;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=J0;break;case wd:case Dd:case Od:x=B0;break;case Vd:x=j0;break;case"scroll":case"scrollend":x=w0;break;case"wheel":x=H0;break;case"copy":case"cut":case"paste":x=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ud;break;case"toggle":case"beforetoggle":x=$0}var ee=(n&4)!==0,Me=!ee&&(t==="scroll"||t==="scrollend"),R=ee?O!==null?O+"Capture":null:O;ee=[];for(var S=D,w;S!==null;){var M=S;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||R===null||(M=Ba(S,R),M!=null&&ee.push(hs(S,M,w))),Me)break;S=S.return}0<ee.length&&(O=new x(O,X,null,a,B),Z.push({event:O,listeners:ee}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",O&&a!==su&&(X=a.relatedTarget||a.fromElement)&&(Er(X)||X[Ar]))break e;if((x||O)&&(O=B.window===B?B:(O=B.ownerDocument)?O.defaultView||O.parentWindow:window,x?(X=a.relatedTarget||a.toElement,x=D,X=X?Er(X):null,X!==null&&(Me=c(X),ee=X.tag,X!==Me||ee!==5&&ee!==27&&ee!==6)&&(X=null)):(x=null,X=D),x!==X)){if(ee=ld,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(ee=ud,M="onPointerLeave",R="onPointerEnter",S="pointer"),Me=x==null?O:xa(x),w=X==null?O:xa(X),O=new ee(M,S+"leave",x,a,B),O.target=Me,O.relatedTarget=w,M=null,Er(B)===D&&(ee=new ee(R,S+"enter",X,a,B),ee.target=w,ee.relatedTarget=Me,M=ee),Me=M,x&&X)t:{for(ee=QS,R=x,S=X,w=0,M=R;M;M=ee(M))w++;M=0;for(var $=S;$;$=ee($))M++;for(;0<w-M;)R=ee(R),w--;for(;0<M-w;)S=ee(S),M--;for(;w--;){if(R===S||S!==null&&R===S.alternate){ee=R;break t}R=ee(R),S=ee(S)}ee=null}else ee=null;x!==null&&ey(Z,O,x,ee,!1),X!==null&&Me!==null&&ey(Z,Me,X,ee,!0)}}e:{if(O=D?xa(D):window,x=O.nodeName&&O.nodeName.toLowerCase(),x==="select"||x==="input"&&O.type==="file")var Te=pd;else if(md(O))if(bd)Te=lS;else{Te=aS;var F=rS}else x=O.nodeName,!x||x.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&au(D.elementType)&&(Te=pd):Te=sS;if(Te&&(Te=Te(t,D))){yd(Z,Te,a,B);break e}F&&F(t,O,D),t==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&ru(O,"number",O.value)}switch(F=D?xa(D):window,t){case"focusin":(md(F)||F.contentEditable==="true")&&(Vr=F,vu=D,Ga=null);break;case"focusout":Ga=vu=Vr=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Id(Z,a,B);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Id(Z,a,B)}var oe;if(mu)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Or?dd(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(cd&&a.locale!=="ko"&&(Or||be!=="onCompositionStart"?be==="onCompositionEnd"&&Or&&(oe=ad()):(gi=B,cu="value"in gi?gi.value:gi.textContent,Or=!0)),F=ql(D,be),0<F.length&&(be=new od(be,t,null,a,B),Z.push({event:be,listeners:F}),oe?be.data=oe:(oe=gd(a),oe!==null&&(be.data=oe)))),(oe=q0?eS(t,a):tS(t,a))&&(be=ql(D,"onBeforeInput"),0<be.length&&(F=new od("onBeforeInput","beforeinput",null,a,B),Z.push({event:F,listeners:be}),F.data=oe)),kS(Z,t,D,a,B)}Pm(Z,n)})}function hs(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ql(t,n){for(var a=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ba(t,a),u!=null&&l.unshift(hs(t,u,f)),u=Ba(t,n),u!=null&&l.push(hs(t,u,f))),t.tag===3)return l;t=t.return}return[]}function QS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,a,l,u){for(var f=n._reactName,d=[];a!==null&&a!==l;){var p=a,b=p.alternate,D=p.stateNode;if(p=p.tag,b!==null&&b===l)break;p!==5&&p!==26&&p!==27||D===null||(b=D,u?(D=Ba(a,f),D!=null&&d.unshift(hs(a,D,b))):u||(D=Ba(a,f),D!=null&&d.push(hs(a,D,b)))),a=a.return}d.length!==0&&t.push({event:n,listeners:d})}var $S=/\r\n?/g,PS=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace($S,`
`).replace(PS,"")}function ny(t,n){return n=ty(n),ty(t)===n}function Le(t,n,a,l,u,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cr(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cr(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,a,l);break;case"style":nd(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=al(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Le(t,n,"name",u.name,u,null),Le(t,n,"formEncType",u.formEncType,u,null),Le(t,n,"formMethod",u.formMethod,u,null),Le(t,n,"formTarget",u.formTarget,u,null)):(Le(t,n,"encType",u.encType,u,null),Le(t,n,"method",u.method,u,null),Le(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=al(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ge("beforetoggle",t),ge("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=I0.get(a)||a,nl(t,a,l))}}function Jc(t,n,a,l,u,f){switch(a){case"style":nd(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cr(t,l):(typeof l=="number"||typeof l=="bigint")&&Cr(t,""+l);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),f=t[Rt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,u);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):nl(t,a,l)}}}function mt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var d=a[f];if(d!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Le(t,n,f,d,a,null)}}u&&Le(t,n,"srcSet",a.srcSet,a,null),l&&Le(t,n,"src",a.src,a,null);return;case"input":ge("invalid",t);var p=f=d=u=null,b=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var B=a[l];if(B!=null)switch(l){case"name":u=B;break;case"type":d=B;break;case"checked":b=B;break;case"defaultChecked":D=B;break;case"value":f=B;break;case"defaultValue":p=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Le(t,n,l,B,a,null)}}Ph(t,f,p,b,D,d,u,!1);return;case"select":ge("invalid",t),l=d=f=null;for(u in a)if(a.hasOwnProperty(u)&&(p=a[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":d=p;break;case"multiple":l=p;default:Le(t,n,u,p,a,null)}n=f,a=d,t.multiple=!!l,n!=null?Ir(t,!!l,n,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":ge("invalid",t),f=u=l=null;for(d in a)if(a.hasOwnProperty(d)&&(p=a[d],p!=null))switch(d){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:Le(t,n,d,p,a,null)}ed(t,l,u,f);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(t,n,b,l,a,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(l=0;l<fs.length;l++)ge(fs[l],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Le(t,n,D,l,a,null)}return;default:if(au(n)){for(B in a)a.hasOwnProperty(B)&&(l=a[B],l!==void 0&&Jc(t,n,B,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&Le(t,n,p,l,a,null))}function qS(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,d=null,p=null,b=null,D=null,B=null;for(x in a){var Z=a[x];if(a.hasOwnProperty(x)&&Z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(x)||Le(t,n,x,null,l,Z)}}for(var O in l){var x=l[O];if(Z=a[O],l.hasOwnProperty(O)&&(x!=null||Z!=null))switch(O){case"type":f=x;break;case"name":u=x;break;case"checked":D=x;break;case"defaultChecked":B=x;break;case"value":d=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:x!==Z&&Le(t,n,O,x,l,Z)}}iu(t,d,p,b,D,B,f,u);return;case"select":x=d=p=O=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":x=b;default:l.hasOwnProperty(f)||Le(t,n,f,null,l,b)}for(u in l)if(f=l[u],b=a[u],l.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":O=f;break;case"defaultValue":p=f;break;case"multiple":d=f;default:f!==b&&Le(t,n,u,f,l,b)}n=p,a=d,l=x,O!=null?Ir(t,!!a,O,!1):!!l!=!!a&&(n!=null?Ir(t,!!a,n,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":x=O=null;for(p in a)if(u=a[p],a.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(t,n,p,null,l,u)}for(d in l)if(u=l[d],f=a[d],l.hasOwnProperty(d)&&(u!=null||f!=null))switch(d){case"value":O=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&Le(t,n,d,u,l,f)}qh(t,O,x);return;case"option":for(var X in a)if(O=a[X],a.hasOwnProperty(X)&&O!=null&&!l.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Le(t,n,X,null,l,O)}for(b in l)if(O=l[b],x=a[b],l.hasOwnProperty(b)&&O!==x&&(O!=null||x!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(t,n,b,O,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in a)O=a[ee],a.hasOwnProperty(ee)&&O!=null&&!l.hasOwnProperty(ee)&&Le(t,n,ee,null,l,O);for(D in l)if(O=l[D],x=a[D],l.hasOwnProperty(D)&&O!==x&&(O!=null||x!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:Le(t,n,D,O,l,x)}return;default:if(au(n)){for(var Me in a)O=a[Me],a.hasOwnProperty(Me)&&O!==void 0&&!l.hasOwnProperty(Me)&&Jc(t,n,Me,void 0,l,O);for(B in l)O=l[B],x=a[B],!l.hasOwnProperty(B)||O===x||O===void 0&&x===void 0||Jc(t,n,B,O,l,x);return}}for(var R in a)O=a[R],a.hasOwnProperty(R)&&O!=null&&!l.hasOwnProperty(R)&&Le(t,n,R,null,l,O);for(Z in l)O=l[Z],x=a[Z],!l.hasOwnProperty(Z)||O===x||O==null&&x==null||Le(t,n,Z,O,l,x)}function iy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],f=u.transferSize,d=u.initiatorType,p=u.duration;if(f&&p&&iy(d)){for(d=0,p=u.responseEnd,l+=1;l<a.length;l++){var b=a[l],D=b.startTime;if(D>p)break;var B=b.transferSize,Z=b.initiatorType;B&&iy(Z)&&(b=b.responseEnd,d+=B*(b<p?1:(p-D)/(b-D)))}if(--l,n+=8*(f+d)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kc=null,jc=null;function eo(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hc=null;function tA(){var t=window.event;return t&&t.type==="popstate"?t===Hc?!1:(Hc=t,!0):(Hc=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(rA)}:sy;function rA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function oy(t,n){var a=n,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(u),ra(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ds(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ds(a);for(var f=a.firstChild;f;){var d=f.nextSibling,p=f.nodeName;f[Va]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=d}}else a==="body"&&ds(t.ownerDocument.body);a=u}while(a);ra(n)}function uy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qc(a),tu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aA(t,n,a,l){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Va])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=an(t.nextSibling),t===null)break}return null}function sA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=an(t.nextSibling),t===null))return null;return t}function cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=an(t.nextSibling),t===null))return null;return t}function $c(t){return t.data==="$?"||t.data==="$~"}function Pc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function an(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qc=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return an(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,a){switch(n=eo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ds(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tu(t)}var sn=new Map,gy=new Set;function to(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=K.d;K.d={f:oA,r:uA,D:cA,C:fA,L:hA,m:dA,X:mA,S:gA,M:yA};function oA(){var t=ii.f(),n=kl();return t||n}function uA(t){var n=Nr(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):ii.r(t)}var ta=typeof document>"u"?null:document;function my(t,n,a){var l=ta;if(l&&typeof n=="string"&&n){var u=$t(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),gy.has(u)||(gy.add(u),t={rel:t,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function cA(t){ii.D(t),my("dns-prefetch",t,null)}function fA(t,n){ii.C(t,n),my("preconnect",t,n)}function hA(t,n,a){ii.L(t,n,a);var l=ta;if(l&&t&&n){var u='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+$t(a.imageSizes)+'"]')):u+='[href="'+$t(t)+'"]';var f=u;switch(n){case"style":f=na(t);break;case"script":f=ia(t)}sn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),sn.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(gs(f))||n==="script"&&l.querySelector(ms(f))||(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function dA(t,n){ii.m(t,n);var a=ta;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ia(t)}if(!sn.has(f)&&(t=T({rel:"modulepreload",href:t},n),sn.set(f,t),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ms(f)))return}l=a.createElement("link"),mt(l,"link",t),lt(l),a.head.appendChild(l)}}}function gA(t,n,a){ii.S(t,n,a);var l=ta;if(l&&t){var u=Tr(l).hoistableStyles,f=na(t);n=n||"default";var d=u.get(f);if(!d){var p={loading:0,preload:null};if(d=l.querySelector(gs(f)))p.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=sn.get(f))&&ef(t,a);var b=d=l.createElement("link");lt(b),mt(b,"link",t),b._p=new Promise(function(D,B){b.onload=D,b.onerror=B}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,no(d,n,l)}d={type:"stylesheet",instance:d,count:1,state:p},u.set(f,d)}}}function mA(t,n){ii.X(t,n);var a=ta;if(a&&t){var l=Tr(a).hoistableScripts,u=ia(t),f=l.get(u);f||(f=a.querySelector(ms(u)),f||(t=T({src:t,async:!0},n),(n=sn.get(u))&&tf(t,n),f=a.createElement("script"),lt(f),mt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yA(t,n){ii.M(t,n);var a=ta;if(a&&t){var l=Tr(a).hoistableScripts,u=ia(t),f=l.get(u);f||(f=a.querySelector(ms(u)),f||(t=T({src:t,async:!0,type:"module"},n),(n=sn.get(u))&&tf(t,n),f=a.createElement("script"),lt(f),mt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yy(t,n,a,l){var u=(u=he.current)?to(u):null;if(!u)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=na(a.href),a=Tr(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=na(a.href);var f=Tr(u).hoistableStyles,d=f.get(t);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,d),(f=u.querySelector(gs(t)))&&!f._p&&(d.instance=f,d.state.loading=5),sn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sn.set(t,a),f||pA(u,t,a,d.state))),n&&l===null)throw Error(s(528,""));return d}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ia(a),a=Tr(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function na(t){return'href="'+$t(t)+'"'}function gs(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function pA(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mt(n,"link",a),lt(n),t.head.appendChild(n))}function ia(t){return'[src="'+$t(t)+'"]'}function ms(t){return"script[async]"+t}function by(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$t(a.href)+'"]');if(l)return n.instance=l,lt(l),l;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),mt(l,"style",u),no(l,a.precedence,t),n.instance=l;case"stylesheet":u=na(a.href);var f=t.querySelector(gs(u));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=py(a),(u=sn.get(u))&&ef(l,u),f=(t.ownerDocument||t).createElement("link"),lt(f);var d=f;return d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),mt(f,"link",l),n.state.loading|=4,no(f,a.precedence,t),n.instance=f;case"script":return f=ia(a.src),(u=t.querySelector(ms(f)))?(n.instance=u,lt(u),u):(l=a,(u=sn.get(f))&&(l=T({},a),tf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),lt(u),mt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,a.precedence,t));return n.instance}function no(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,d=0;d<l.length;d++){var p=l[d];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var io=null;function vy(t,n,a){if(io===null){var l=new Map,u=io=new Map;u.set(a,l)}else u=io,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[Va]||f[ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=t+d;var p=l.get(d);p?p.push(f):l.set(d,[f])}}return l}function Sy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function bA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vA(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=na(l.href),f=n.querySelector(gs(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ro.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,lt(f);return}f=n.ownerDocument||n,l=py(l),(u=sn.get(u))&&ef(l,u),f=f.createElement("link"),lt(f);var d=f;d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),mt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ro.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var nf=0;function SA(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*eA());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ao=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ao=new Map,n.forEach(AA,t),ao=null,ro.call(t))}function AA(t,n){if(!(n.state.loading&4)){var a=ao.get(t);if(a)var l=a.get(null);else{a=new Map,ao.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var d=u[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}u=n.instance,d=u.getAttribute("data-precedence"),f=a.get(d)||l,f===l&&a.set(null,u),a.set(d,u),this.count++,l=ro.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ys={$$typeof:ne,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function EA(t,n,a,l,u,f,d,p,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ey(t,n,a,l,u,f,d,p,b,D,B,Z){return t=new EA(t,n,a,d,b,D,B,Z,p),n=1,f===!0&&(n|=24),f=Gt(3,null,null,n),t.current=f,f.stateNode=t,n=Lu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Yu(f),t}function Ny(t){return t?(t=Ur,t):Ur}function Ty(t,n,a,l,u,f){u=Ny(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ai(t,l,n),a!==null&&(Vt(a,t,n),Fa(a,t,n))}function Ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rf(t,n){Ry(t,n),(t=t.alternate)&&Ry(t,n)}function Iy(t){if(t.tag===13||t.tag===31){var n=er(t,67108864);n!==null&&Vt(n,t,67108864),rf(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=kt();n=Po(n);var a=er(t,n);a!==null&&Vt(a,t,n),rf(t,n)}}var lo=!0;function NA(t,n,a,l){var u=U.T;U.T=null;var f=K.p;try{K.p=2,af(t,n,a,l)}finally{K.p=f,U.T=u}}function TA(t,n,a,l){var u=U.T;U.T=null;var f=K.p;try{K.p=8,af(t,n,a,l)}finally{K.p=f,U.T=u}}function af(t,n,a,l){if(lo){var u=sf(l);if(u===null)Xc(t,n,l,oo,a),Dy(t,l);else if(IA(u,t,n,a,l))l.stopPropagation();else if(Dy(t,l),n&4&&-1<RA.indexOf(t)){for(;u!==null;){var f=Nr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=Hi(f.pendingLanes);if(d!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var b=1<<31-Yt(d);p.entanglements[1]|=b,d&=~b}Vn(f),(Ie&6)===0&&(Xl=Zt()+500,cs(0))}}break;case 31:case 13:p=er(f,2),p!==null&&Vt(p,f,2),kl(),rf(f,2)}if(f=sf(l),f===null&&Xc(t,n,l,oo,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else Xc(t,n,l,null,a)}}function sf(t){return t=lu(t),lf(t)}var oo=null;function lf(t){if(oo=null,t=Er(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oo=t,null}function wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(c0()){case Mh:return 2;case Zh:return 8;case $s:case f0:return 32;case zh:return 268435456;default:return 32}default:return 32}}var of=!1,xi=null,Bi=null,Ui=null,ps=new Map,bs=new Map,Li=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(n.pointerId)}}function vs(t,n,a,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Nr(n),n!==null&&Iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function IA(t,n,a,l,u){switch(n){case"focusin":return xi=vs(xi,t,n,a,l,u),!0;case"dragenter":return Bi=vs(Bi,t,n,a,l,u),!0;case"mouseover":return Ui=vs(Ui,t,n,a,l,u),!0;case"pointerover":var f=u.pointerId;return ps.set(f,vs(ps.get(f)||null,t,n,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,bs.set(f,vs(bs.get(f)||null,t,n,a,l,u)),!0}return!1}function Oy(t){var n=Er(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,Xh(t.priority,function(){Cy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Xh(t.priority,function(){Cy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);su=l,a.target.dispatchEvent(l),su=null}else return n=Nr(a),n!==null&&Iy(n),t.blockedOn=a,!1;n.shift()}return!0}function Vy(t,n,a){uo(t)&&a.delete(n)}function CA(){of=!1,xi!==null&&uo(xi)&&(xi=null),Bi!==null&&uo(Bi)&&(Bi=null),Ui!==null&&uo(Ui)&&(Ui=null),ps.forEach(Vy),bs.forEach(Vy)}function co(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,CA)))}var fo=null;function xy(t){fo!==t&&(fo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fo===t&&(fo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(lf(l||a)===null)continue;break}var f=Nr(a);f!==null&&(t.splice(n,3),n-=3,ac(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function ra(t){function n(b){return co(b,t)}xi!==null&&co(xi,t),Bi!==null&&co(Bi,t),Ui!==null&&co(Ui,t),ps.forEach(n),bs.forEach(n);for(var a=0;a<Li.length;a++){var l=Li[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&Li.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],d=u[Rt]||null;if(typeof f=="function")d||xy(a);else if(d){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,d=f[Rt]||null)p=d.formAction;else if(lf(u)!==null)continue}else p=d.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),xy(a)}}}function By(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}ho.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=kt();Ty(a,l,t,n,null,null)},ho.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ty(t.current,2,null,t,null,null),kl(),n[Ar]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wh();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Li.length&&n!==0&&n<Li[a].priority;a++);Li.splice(a,0,t),a===0&&Oy(t)}};var Uy=e.version;if(Uy!=="19.2.1")throw Error(s(527,Uy,"19.2.1"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var wA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{wa=go.inject(wA),zt=go}catch{}}return As.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",u=Gg,f=Kg,d=Wg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Ey(t,1,!1,null,null,a,l,null,u,f,d,By),t[Ar]=n.current,Wc(t),new uf(n)},As.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,u="",f=Gg,d=Kg,p=Wg,b=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),n=Ey(t,1,!0,n,a??null,l,u,b,f,d,p,By),n.context=Ny(null),a=n.current,l=kt(),l=Po(l),u=Si(l),u.callback=null,Ai(a,u,l),a=l,n.current.lanes=a,Oa(n,a),Vn(n),t[Ar]=n.current,Wc(t),new ho(n)},As.version="19.2.1",As}var Xy;function _A(){if(Xy)return hf.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=YA(),hf.exports}var GA=_A(),fe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(fe||(fe={}));function Kf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var I;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(I||(I={}));function KA(){let i=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[i,e]}let r=this.buf[this.pos++];if(i|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[i,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function yf(i,e,r){for(let c=0;c<28;c=c+7){const h=i>>>c,g=!(!(h>>>7)&&e==0),y=(g?h|128:h)&255;if(r.push(y),!g)return}const s=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(r.push((o?s|128:s)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,g=!!(h>>>7),y=(g?h|128:h)&255;if(r.push(y),!g)return}r.push(e>>>31&1)}}const No=4294967296;function Jy(i){const e=i[0]==="-";e&&(i=i.slice(1));const r=1e6;let s=0,o=0;function c(h,g){const y=Number(i.slice(h,g));o*=r,s=s*r+y,s>=No&&(o=o+(s/No|0),s=s%No)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?bb(s,o):Wf(s,o)}function WA(i,e){let r=Wf(i,e);const s=r.hi&2147483648;s&&(r=bb(r.lo,r.hi));const o=pb(r.lo,r.hi);return s?"-"+o:o}function pb(i,e){if({lo:i,hi:e}=XA(i,e),e<=2097151)return String(No*e+i);const r=i&16777215,s=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=r+s*6777216+o*6710656,h=s+o*8147497,g=o*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(g+=Math.floor(h/y),h%=y),g.toString()+ky(h)+ky(c)}function XA(i,e){return{lo:i>>>0,hi:e>>>0}}function Wf(i,e){return{lo:i|0,hi:e|0}}function bb(i,e){return e=~e,i?i=~i+1:e+=1,Wf(i,e)}const ky=i=>{const e=String(i);return"0000000".slice(e.length)+e};function Cf(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let r=0;r<9;r++)e.push(i&127|128),i=i>>7;e.push(1)}}function JA(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let r=5;(i&128)!==0&&r<10;r++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var jy={};const ke=kA();function kA(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof jy!="object"||jy.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const g=typeof h=="bigint"?h:BigInt(h);if(g>s||g<r)throw new Error(`invalid int64: ${h}`);return g},uParse(h){const g=typeof h=="bigint"?h:BigInt(h);if(g>c||g<o)throw new Error(`invalid uint64: ${h}`);return g},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,g){return i.setInt32(0,h,!0),i.setInt32(4,g,!0),i.getBigInt64(0,!0)},uDec(h,g){return i.setInt32(0,h,!0),i.setInt32(4,g,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),Fy(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),Hy(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),Fy(r),Jy(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),Hy(r),Jy(r)},dec(r,s){return WA(r,s)},uDec(r,s){return pb(r,s)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function Hy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function br(i,e){switch(i){case I.STRING:return"";case I.BOOL:return!1;case I.DOUBLE:case I.FLOAT:return 0;case I.INT64:case I.UINT64:case I.SFIXED64:case I.FIXED64:case I.SINT64:return e?"0":ke.zero;case I.BYTES:return new Uint8Array(0);default:return 0}}function jA(i,e){switch(i){case I.BOOL:return e===!1;case I.STRING:return e==="";case I.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const vb=2,ai=Symbol.for("reflect unsafe local");function Sb(i,e){const r=i[e.localName].case;return r===void 0?r:e.fields.find(s=>s.localName===r)}function FA(i,e){const r=e.localName;if(e.oneof)return i[e.oneof.localName].case===r;if(e.presence!=vb)return i[r]!==void 0&&Object.prototype.hasOwnProperty.call(i,r);switch(e.fieldKind){case"list":return i[r].length>0;case"map":return Object.keys(i[r]).length>0;case"scalar":return!jA(e.scalar,i[r]);case"enum":return i[r]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Bs(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function Ab(i,e){if(e.oneof){const r=i[e.oneof.localName];return r.case===e.localName?r.value:void 0}return i[e.localName]}function Eb(i,e,r){e.oneof?i[e.oneof.localName]={case:e.localName,value:r}:i[e.localName]=r}function HA(i,e){const r=e.localName;if(e.oneof){const s=e.oneof.localName;i[s].case===r&&(i[s]={case:void 0})}else if(e.presence!=vb)delete i[r];else switch(e.fieldKind){case"map":i[r]={};break;case"list":i[r]=[];break;case"enum":i[r]=e.enum.values[0].number;break;case"scalar":i[r]=br(e.scalar,e.longAsString);break}}function Xi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function Xf(i,e){var r,s,o,c;if(Xi(i)&&ai in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,g=i.field();return h.listKind==g.listKind&&h.scalar===g.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((s=g.message)===null||s===void 0?void 0:s.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=g.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Jf(i,e){var r,s,o,c;if(Xi(i)&&ai in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,g=i.field();return h.mapKey===g.mapKey&&h.mapKind==g.mapKind&&h.scalar===g.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((s=g.message)===null||s===void 0?void 0:s.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=g.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function kf(i,e){return Xi(i)&&ai in i&&"desc"in i&&Xi(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function QA(i){return Nb(i.$typeName)}function Xs(i){const e=i.fields[0];return Nb(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Nb(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const $A=999,PA=998,To=2;function H(i,e){if(Kf(e,i))return e;const r=iE(i);return e!==void 0&&qA(i,r,e),r}function qA(i,e,r){for(const s of i.members){let o=r[s.localName];if(o==null)continue;let c;if(s.kind=="oneof"){const h=Sb(r,s);if(!h)continue;c=h,o=Ab(r,h)}else c=s;switch(c.fieldKind){case"message":o=jf(c,o);break;case"scalar":o=Tb(c,o);break;case"list":o=tE(c,o);break;case"map":o=eE(c,o);break}Eb(e,c,o)}return e}function Tb(i,e){return i.scalar==I.BYTES?Ff(e):e}function eE(i,e){if(Xi(e)){if(i.scalar==I.BYTES)return Qy(e,Ff);if(i.mapKind=="message")return Qy(e,r=>jf(i,r))}return e}function tE(i,e){if(Array.isArray(e)){if(i.scalar==I.BYTES)return e.map(Ff);if(i.listKind=="message")return e.map(r=>jf(i,r))}return e}function jf(i,e){if(i.fieldKind=="message"&&!i.oneof&&Xs(i.message))return Tb(i.message.fields[0],e);if(Xi(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Kf(e,i.message))return H(i.message,e)}return e}function Ff(i){return Array.isArray(i)?new Uint8Array(i):i}function Qy(i,e){const r={};for(const s of Object.entries(i))r[s[0]]=e(s[1]);return r}const nE=Symbol(),$y=new WeakMap;function iE(i){let e;if(rE(i)){const r=$y.get(i);let s,o;if(r)({prototype:s,members:o}=r);else{s={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=To&&(o.add(c),s[c.localName]=pf(c)));$y.set(i,{prototype:s,members:o})}e=Object.create(s),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=To)||(e[c.localName]=pf(c))}else{e={$typeName:i.typeName};for(const r of i.members)(r.kind=="oneof"||r.presence==To)&&(e[r.localName]=pf(r))}return e}function rE(i){switch(i.file.edition){case $A:return!1;case PA:return!0;default:return i.fields.some(e=>e.presence!=To&&e.fieldKind!="message"&&!e.oneof)}}function pf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return nE;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?br(i.scalar,i.longAsString):i.enum.values[0].number}const aE=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Ut extends Error{constructor(e,r,s="FieldValueInvalidError"){super(r),this.name=s,this.field=()=>e}}function sE(i){return i instanceof Error&&aE.includes(i.name)&&"field"in i&&typeof i.field=="function"}const bf=Symbol.for("@bufbuild/protobuf/text-encoding");function Hf(){if(globalThis[bf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[bf]={encodeUtf8(r){return i.encode(r)},decodeUtf8(r){return e.decode(r)},checkUtf8(r){try{return encodeURIComponent(r),!0}catch{return!1}}}}return globalThis[bf]}var et;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(et||(et={}));const Rb=34028234663852886e22,Ib=-34028234663852886e22,Cb=4294967295,wb=2147483647,Db=-2147483648;class Ob{constructor(e=Hf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let r=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)r.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Py(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return vf(e),Cf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.encodeUtf8(e);return this.uint32(r.byteLength),this.raw(r)}float(e){lE(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){Py(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){vf(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return vf(e),e=(e<<1^e>>31)>>>0,Cf(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),s=new DataView(r.buffer),o=ke.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),s=new DataView(r.buffer),o=ke.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(r)}int64(e){let r=ke.enc(e);return yf(r.lo,r.hi,this.buf),this}sint64(e){const r=ke.enc(e),s=r.hi>>31,o=r.lo<<1^s,c=(r.hi<<1|r.lo>>>31)^s;return yf(o,c,this.buf),this}uint64(e){const r=ke.uEnc(e);return yf(r.lo,r.hi,this.buf),this}}class Qf{constructor(e,r=Hf().decodeUtf8){this.decodeUtf8=r,this.varint64=KA,this.uint32=JA,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),r=e>>>3,s=e&7;if(r<=0||s<0||s>5)throw new Error("illegal tag: field no "+r+" wire type "+s);return[r,s]}skip(e,r){let s=this.pos;switch(e){case et.Varint:for(;this.buf[this.pos++]&128;);break;case et.Bit64:this.pos+=4;case et.Bit32:this.pos+=4;break;case et.LengthDelimited:let o=this.uint32();this.pos+=o;break;case et.StartGroup:for(;;){const[c,h]=this.tag();if(h===et.EndGroup){if(r!==void 0&&c!==r)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ke.dec(...this.varint64())}uint64(){return ke.uDec(...this.varint64())}sint64(){let[e,r]=this.varint64(),s=-(e&1);return e=(e>>>1|(r&1)<<31)^s,r=r>>>1^s,ke.dec(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ke.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ke.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.decodeUtf8(this.bytes())}}function vf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>wb||i<Db)throw new Error("invalid int32: "+i)}function Py(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>Cb||i<0)throw new Error("invalid uint32: "+i)}function lE(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>Rb||i<Ib))throw new Error("invalid float32: "+i)}function dr(i,e){const r=i.fieldKind=="list"?Xf(e,i):i.fieldKind=="map"?Jf(e,i):$f(i,e);if(r===!0)return;let s;switch(i.fieldKind){case"list":s=`expected ${Bb(i)}, got ${ct(e)}`;break;case"map":s=`expected ${Ub(i)}, got ${ct(e)}`;break;default:s=Co(i,e,r)}return new Ut(i,s)}function qy(i,e,r){const s=$f(i,r);if(s!==!0)return new Ut(i,`list item #${e+1}: ${Co(i,r,s)}`)}function oE(i,e,r){const s=Vb(e,i.mapKey);if(s!==!0)return new Ut(i,`invalid map key: ${Co({scalar:i.mapKey},e,s)}`);const o=$f(i,r);if(o!==!0)return new Ut(i,`map entry ${ct(e)}: ${Co(i,r,o)}`)}function $f(i,e){return i.scalar!==void 0?Vb(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(r=>r.number===e):kf(e,i.message)}function Vb(i,e){switch(e){case I.DOUBLE:return typeof i=="number";case I.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>Rb||i<Ib?`${i.toFixed()} out of range`:!0;case I.INT32:case I.SFIXED32:case I.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>wb||i<Db?`${i.toFixed()} out of range`:!0;case I.FIXED32:case I.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Cb||i<0?`${i.toFixed()} out of range`:!0;case I.BOOL:return typeof i=="boolean";case I.STRING:return typeof i!="string"?!1:Hf().checkUtf8(i)||"invalid UTF8";case I.BYTES:return i instanceof Uint8Array;case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.parse(i),!0}catch{return`${i} out of range`}return!1;case I.FIXED64:case I.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Co(i,e,r){return r=typeof r=="string"?`: ${r}`:`, got ${ct(e)}`,i.scalar!==void 0?`expected ${uE(i.scalar)}`+r:i.enum!==void 0?`expected ${i.enum.toString()}`+r:`expected ${xb(i.message)}`+r}function ct(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:Xf(i)?Bb(i.field()):Jf(i)?Ub(i.field()):kf(i)?xb(i.desc):Kf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function xb(i){return`ReflectMessage (${i.typeName})`}function Bb(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${I[i.scalar]})`}}function Ub(i){switch(i.mapKind){case"message":return`ReflectMap (${I[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${I[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${I[i.mapKey]}, ${I[i.scalar]})`}}function uE(i){switch(i){case I.STRING:return"string";case I.BOOL:return"boolean";case I.INT64:case I.SINT64:case I.SFIXED64:return"bigint (int64)";case I.UINT64:case I.FIXED64:return"bigint (uint64)";case I.BYTES:return"Uint8Array";case I.DOUBLE:return"number (float64)";case I.FLOAT:return"number (float32)";case I.FIXED32:case I.UINT32:return"number (uint32)";case I.INT32:case I.SFIXED32:case I.SINT32:return"number (int32)"}}function cn(i,e,r=!0){return new Lb(i,e,r)}const ep=new WeakMap;class Lb{get sortedFields(){const e=ep.get(this.desc);if(e)return e;const r=this.desc.fields.concat().sort((s,o)=>s.number-o.number);return ep.set(this.desc,r),r}constructor(e,r,s=!0){this.lists=new Map,this.maps=new Map,this.check=s,this.desc=e,this.message=this[ai]=r??H(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(r=>[r.number,r]))),this._fieldsByNumber.get(e)}oneofCase(e){return Es(this.message,e),Sb(this.message,e)}isSet(e){return Es(this.message,e),FA(this.message,e)}clear(e){Es(this.message,e),HA(this.message,e)}get(e){Es(this.message,e);const r=Ab(this.message,e);switch(e.fieldKind){case"list":let s=this.lists.get(e);return(!s||s[ai]!==r)&&this.lists.set(e,s=new cE(e,r,this.check)),s;case"map":let o=this.maps.get(e);return(!o||o[ai]!==r)&&this.maps.set(e,o=new fE(e,r,this.check)),o;case"message":return qf(e,r,this.check);case"scalar":return r===void 0?br(e.scalar,!1):eh(e,r);case"enum":return r??e.enum.values[0].number}}set(e,r){if(Es(this.message,e),this.check){const o=dr(e,r);if(o)throw o}let s;e.fieldKind=="message"?s=Pf(e,r):Jf(r)||Xf(r)?s=r[ai]:s=th(e,r),Eb(this.message,e,s)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Es(i,e){if(e.parent.typeName!==i.$typeName)throw new Ut(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class cE{field(){return this._field}get size(){return this._arr.length}constructor(e,r,s){this._field=e,this._arr=this[ai]=r,this.check=s}get(e){const r=this._arr[e];return r===void 0?void 0:Sf(this._field,r,this.check)}set(e,r){if(e<0||e>=this._arr.length)throw new Ut(this._field,`list item #${e+1}: out of range`);if(this.check){const s=qy(this._field,e,r);if(s)throw s}this._arr[e]=tp(this._field,r)}add(e){if(this.check){const r=qy(this._field,this._arr.length,e);if(r)throw r}this._arr.push(tp(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Sf(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Sf(this._field,this._arr[e],this.check)]}}class fE{constructor(e,r,s=!0){this.obj=this[ai]=r??{},this.check=s,this._field=e}field(){return this._field}set(e,r){if(this.check){const s=oE(this._field,e,r);if(s)throw s}return this.obj[mo(e)]=hE(this._field,r),this}delete(e){const r=mo(e),s=Object.prototype.hasOwnProperty.call(this.obj,r);return s&&delete this.obj[r],s}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let r=this.obj[mo(e)];return r!==void 0&&(r=Af(this._field,r,this.check)),r}has(e){return Object.prototype.hasOwnProperty.call(this.obj,mo(e))}*keys(){for(const e of Object.keys(this.obj))yield np(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[np(e[0],this._field.mapKey),Af(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Af(this._field,e,this.check)}forEach(e,r){for(const s of this.entries())e.call(r,s[1],s[0],this)}}function Pf(i,e){return kf(e)?QA(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?Zb(e.message):e.message:e}function qf(i,e,r){return e!==void 0&&(Xs(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:eh(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Xi(e)&&(e=Mb(e))),new Lb(i.message,e,r)}function tp(i,e){return i.listKind=="message"?Pf(i,e):th(i,e)}function Sf(i,e,r){return i.listKind=="message"?qf(i,e,r):eh(i,e)}function hE(i,e){return i.mapKind=="message"?Pf(i,e):th(i,e)}function Af(i,e,r){return i.mapKind=="message"?qf(i,e,r):e}function mo(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function np(i,e){switch(e){case I.STRING:return i;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:{const r=Number.parseInt(i);if(Number.isFinite(r))return r;break}case I.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case I.UINT64:case I.FIXED64:try{return ke.uParse(i)}catch{}break;default:try{return ke.parse(i)}catch{}break}return i}function eh(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.uParse(e));break}return e}function th(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.uParse(e));break}return e}function Mb(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Xi(i))for(const[r,s]of Object.entries(i))e.fields[r]=Yb(s);return e}function Zb(i){const e={};for(const[r,s]of Object.entries(i.fields))e[r]=zb(s);return e}function zb(i){switch(i.kind.case){case"structValue":return Zb(i.kind.value);case"listValue":return i.kind.value.values.map(zb);case"nullValue":case void 0:return null;default:return i.kind.value}}function Yb(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const r={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const s of i)r.values.push(Yb(s));e.kind={case:"listValue",value:r}}else e.kind={case:"structValue",value:Mb(i)};break}return e}function nh(i){const e=gE();let r=i.length*3/4;i[i.length-2]=="="?r-=2:i[i.length-1]=="="&&(r-=1);let s=new Uint8Array(r),o=0,c=0,h,g=0;for(let y=0;y<i.length;y++){if(h=e[i.charCodeAt(y)],h===void 0)switch(i[y]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:g=h,c=1;break;case 1:s[o++]=g<<2|(h&48)>>4,g=h,c=2;break;case 2:s[o++]=(g&15)<<4|(h&60)>>2,g=h,c=3;break;case 3:s[o++]=(g&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return s.subarray(0,o)}function dE(i,e="std"){const r=_b(e),s=e=="std";let o="",c=0,h,g=0;for(let y=0;y<i.length;y++)switch(h=i[y],c){case 0:o+=r[h>>2],g=(h&3)<<4,c=1;break;case 1:o+=r[g|h>>4],g=(h&15)<<2,c=2;break;case 2:o+=r[g|h>>6],o+=r[h&63],c=0;break}return c&&(o+=r[g],s&&(o+="=",c==1&&(o+="="))),o}let yo,ip,aa;function _b(i){return yo||(yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ip=yo.slice(0,-2).concat("-","_")),i=="url"?ip:yo}function gE(){if(!aa){aa=[];const i=_b("std");for(let e=0;e<i.length;e++)aa[i[e].charCodeAt(0)]=e;aa[45]=i.indexOf("+"),aa[95]=i.indexOf("/")}return aa}function Us(i){let e=!1;const r=[];for(let s=0;s<i.length;s++){let o=i.charAt(s);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),r.push(o);break}}return r.join("")}const mE=new Set(["constructor","toString","toJSON","valueOf"]);function Ls(i){return mE.has(i)?i+"$":i}function ih(i){for(const e of i.field)Bs(e,"jsonName")||(e.jsonName=Us(e.name));i.nestedType.forEach(ih)}function yE(i,e){const r=i.values.find(s=>s.name===e);if(!r)throw new Error(`cannot parse ${i} default value: ${e}`);return r.number}function pE(i,e){switch(i){case I.STRING:return e;case I.BYTES:{const r=bE(e);if(r===!1)throw new Error(`cannot parse ${I[i]} default value: ${e}`);return r}case I.INT64:case I.SFIXED64:case I.SINT64:return ke.parse(e);case I.UINT64:case I.FIXED64:return ke.uParse(e);case I.DOUBLE:case I.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case I.BOOL:return e==="true";case I.INT32:case I.UINT32:case I.SINT32:case I.FIXED32:case I.SFIXED32:return parseInt(e,10)}}function bE(i){const e=[],r={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(s){if(this.tail.length>=s){const o=this.tail.substring(0,s);return this.tail=this.tail.substring(s),o}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":e.push(r.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const s=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(s+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const s=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(s+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const s=r.c,o=r.take(4);if(o===!1)return!1;const c=parseInt(s+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const s=r.c,o=r.take(8);if(o===!1)return!1;const c=ke.uEnc(s+o),h=new Uint8Array(8),g=new DataView(h.buffer);g.setInt32(0,c.lo,!0),g.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(r.c.charCodeAt(0))}return new Uint8Array(e)}function*wf(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*wf(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*wf(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function Gb(...i){const e=vE();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const s of i[0].file)lp(s,e);return e}if("$typeName"in i[0]){let h=function(g){const y=[];for(const m of g.dependency){if(e.getFile(m)!=null||c.has(m))continue;const v=o(m);if(!v)throw new Error(`Unable to resolve ${m}, imported by ${g.name}`);"kind"in v?e.addFile(v,!1,!0):(c.add(v.name),y.push(v))}return y.concat(...y.map(h))};var r=h;const s=i[0],o=i[1],c=new Set;for(const g of[s,...h(s)].reverse())lp(g,e)}else for(const s of i)for(const o of s.files)e.addFile(o);return e}function vE(){const i=new Map,e=new Map,r=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return r.values()},addFile(s,o,c){if(r.set(s.proto.name,s),!o)for(const h of wf(s))this.add(h);if(c)for(const h of s.dependencies)this.addFile(h,o,c)},add(s){if(s.kind=="extension"){let o=e.get(s.extendee.typeName);o||e.set(s.extendee.typeName,o=new Map),o.set(s.number,s)}i.set(s.typeName,s)},get(s){return i.get(s)},getFile(s){return r.get(s)},getMessage(s){const o=i.get(s);return o?.kind=="message"?o:void 0},getEnum(s){const o=i.get(s);return o?.kind=="enum"?o:void 0},getExtension(s){const o=i.get(s);return o?.kind=="extension"?o:void 0},getExtensionFor(s,o){var c;return(c=e.get(s.typeName))===null||c===void 0?void 0:c.get(o)},getService(s){const o=i.get(s);return o?.kind=="service"?o:void 0}}}const SE=998,AE=999,EE=9,Ms=10,ws=11,NE=12,rp=14,rh=3,TE=2,ap=1,RE=0,Ef=1,sp=2,IE=3,CE=1,wE=2,DE=1,Kb={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lp(i,e){var r,s;const o={kind:"file",proto:i,deprecated:(s=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&s!==void 0?s:!1,edition:BE(i),name:i.name.replace(/\.proto$/,""),dependencies:UE(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(g){return c.get(g)},add(g){var y;En(((y=g.proto.options)===null||y===void 0?void 0:y.mapEntry)===!0),c.set(g.typeName,g)}};for(const g of i.enumType)Wb(g,o,void 0,e);for(const g of i.messageType)Xb(g,o,void 0,e,h);for(const g of i.service)OE(g,o,e);Df(o,e);for(const g of c.values())Of(g,e,h);for(const g of o.messages)Of(g,e,h),Df(g,e);e.addFile(o,!0)}function Df(i,e){switch(i.kind){case"file":for(const r of i.proto.extension){const s=Vf(r,i,e);i.extensions.push(s),e.add(s)}break;case"message":for(const r of i.proto.extension){const s=Vf(r,i,e);i.nestedExtensions.push(s),e.add(s)}for(const r of i.nestedMessages)Df(r,e);break}}function Of(i,e,r){const s=i.proto.oneofDecl.map(c=>xE(c,i)),o=new Set;for(const c of i.proto.field){const h=ZE(c,s),g=Vf(c,i,e,h,r);i.fields.push(g),i.field[g.localName]=g,h===void 0?i.members.push(g):(h.fields.push(g),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of s.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Of(c,e,r)}function Wb(i,e,r,s){var o,c,h,g,y;const m=LE(i.name,i.value),v={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:r,open:!0,name:i.name,typeName:Lo(i,r,e),value:{},values:[],sharedPrefix:m,toString(){return`enum ${this.typeName}`}};v.open=GE(v),s.add(v);for(const T of i.value){const V=T.name;v.values.push(v.value[T.number]={kind:"enum_value",proto:T,deprecated:(g=(h=T.options)===null||h===void 0?void 0:h.deprecated)!==null&&g!==void 0?g:!1,parent:v,name:V,localName:Ls(m==null?V:V.substring(m.length)),number:T.number,toString(){return`enum value ${v.typeName}.${V}`}})}((y=r?.nestedEnums)!==null&&y!==void 0?y:e.enums).push(v)}function Xb(i,e,r,s,o){var c,h,g,y;const m={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:r,name:i.name,typeName:Lo(i,r,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((g=i.options)===null||g===void 0?void 0:g.mapEntry)===!0?o.add(m):(((y=r?.nestedMessages)!==null&&y!==void 0?y:e.messages).push(m),s.add(m));for(const v of i.enumType)Wb(v,e,m,s);for(const v of i.nestedType)Xb(v,e,m,s,o)}function OE(i,e,r){var s,o;const c={kind:"service",proto:i,deprecated:(o=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Lo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),r.add(c);for(const h of i.method){const g=VE(h,c,r);c.methods.push(g),c.method[g.localName]=g}}function VE(i,e,r){var s,o,c,h;let g;i.clientStreaming&&i.serverStreaming?g="bidi_streaming":i.clientStreaming?g="client_streaming":i.serverStreaming?g="server_streaming":g="unary";const y=r.getMessage(ri(i.inputType)),m=r.getMessage(ri(i.outputType));En(y,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),En(m,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const v=i.name;return{kind:"rpc",proto:i,deprecated:(o=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:v,localName:Ls(v.length?Ls(v[0].toLowerCase()+v.substring(1)):v),methodKind:g,input:y,output:m,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:RE,toString(){return`rpc ${e.typeName}.${v}`}}}function xE(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ls(Us(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Vf(i,e,r,s,o){var c,h,g;const y=o===void 0,m={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:zE(i,s,y,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(y){const C=e.kind=="file"?e:e.file,L=e.kind=="file"?void 0:e,Y=Lo(i,L,C);m.kind="extension",m.file=C,m.parent=L,m.oneof=void 0,m.typeName=Y,m.jsonName=`[${Y}]`,m.toString=()=>`extension ${Y}`;const j=r.getMessage(ri(i.extendee));En(j,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),m.extendee=j}else{const C=e;En(C.kind=="message"),m.parent=C,m.oneof=s,m.localName=s?Us(i.name):Ls(Us(i.name)),m.jsonName=i.jsonName,m.toString=()=>`field ${C.typeName}.${i.name}`}const v=i.label,T=i.type,V=(g=i.options)===null||g===void 0?void 0:g.jstype;if(v===rh){const C=T==ws?o?.get(ri(i.typeName)):void 0;if(C){m.fieldKind="map";const{key:L,value:Y}=_E(C);return m.mapKey=L.scalar,m.mapKind=Y.fieldKind,m.message=Y.message,m.delimitedEncoding=!1,m.enum=Y.enum,m.scalar=Y.scalar,m}switch(m.fieldKind="list",T){case ws:case Ms:m.listKind="message",m.message=r.getMessage(ri(i.typeName)),En(m.message),m.delimitedEncoding=op(i,e);break;case rp:m.listKind="enum",m.enum=r.getEnum(ri(i.typeName)),En(m.enum);break;default:m.listKind="scalar",m.scalar=T,m.longAsString=V==ap;break}return m.packed=YE(i,e),m}switch(T){case ws:case Ms:m.fieldKind="message",m.message=r.getMessage(ri(i.typeName)),En(m.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.delimitedEncoding=op(i,e),m.getDefaultValue=()=>{};break;case rp:{const C=r.getEnum(ri(i.typeName));En(C!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.fieldKind="enum",m.enum=r.getEnum(ri(i.typeName)),m.getDefaultValue=()=>Bs(i,"defaultValue")?yE(C,i.defaultValue):void 0;break}default:{m.fieldKind="scalar",m.scalar=T,m.longAsString=V==ap,m.getDefaultValue=()=>Bs(i,"defaultValue")?pE(T,i.defaultValue):void 0;break}}return m}function BE(i){switch(i.syntax){case"":case"proto2":return SE;case"proto3":return AE;case"editions":if(i.edition in Kb)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function UE(i,e){return i.dependency.map(r=>{const s=e.getFile(r);if(!s)throw new Error(`Cannot find ${r}, imported by ${i.name}`);return s})}function LE(i,e){const r=ME(i)+"_";for(const s of e){if(!s.name.toLowerCase().startsWith(r))return;const o=s.name.substring(r.length);if(o.length==0||/^\d/.test(o))return}return r}function ME(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Lo(i,e,r){let s;return e?s=`${e.typeName}.${i.name}`:r.proto.package.length>0?s=`${r.proto.package}.${i.name}`:s=`${i.name}`,s}function ri(i){return i.startsWith(".")?i.substring(1):i}function ZE(i,e){if(!Bs(i,"oneofIndex")||i.proto3Optional)return;const r=e[i.oneofIndex];return En(r,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),r}function zE(i,e,r,s){if(i.label==TE)return IE;if(i.label==rh)return sp;if(e||i.proto3Optional||r)return Ef;const o=ma("fieldPresence",{proto:i,parent:s});return o==sp&&(i.type==ws||i.type==Ms)?Ef:o}function YE(i,e){if(i.label!=rh)return!1;switch(i.type){case EE:case NE:case Ms:case ws:return!1}const r=i.options;return r&&Bs(r,"packed")?r.packed:CE==ma("repeatedFieldEncoding",{proto:i,parent:e})}function _E(i){const e=i.fields.find(s=>s.number===1),r=i.fields.find(s=>s.number===2);return En(e&&e.fieldKind=="scalar"&&e.scalar!=I.BYTES&&e.scalar!=I.FLOAT&&e.scalar!=I.DOUBLE&&r&&r.fieldKind!="list"&&r.fieldKind!="map"),{key:e,value:r}}function GE(i){var e;return DE==ma("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function op(i,e){return i.type==Ms?!0:wE==ma("messageEncoding",{proto:i,parent:e})}function ma(i,e){var r,s;const o=(r=e.proto.options)===null||r===void 0?void 0:r.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return ma(i,(s=e.parent)!==null&&s!==void 0?s:e.file);const c=Kb[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return ma(i,e.parent)}function En(i,e){if(!i)throw new Error(e)}function KE(i){const e=WE(i);return e.messageType.forEach(ih),Gb(e,()=>{}).getFile(e.name)}function WE(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(Jb),enumType:i.enumType.map(kb)}))}function Jb(i){var e,r,s,o,c,h,g,y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(r=(e=i.field)===null||e===void 0?void 0:e.map(XE))!==null&&r!==void 0?r:[],extension:[],nestedType:(o=(s=i.nestedType)===null||s===void 0?void 0:s.map(Jb))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(kb))!==null&&h!==void 0?h:[],extensionRange:(y=(g=i.extensionRange)===null||g===void 0?void 0:g.map(v=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},v)))!==null&&y!==void 0?y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function XE(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?JE(i.options):void 0}))}function JE(i){var e,r,s;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(s=(r=i.editionDefaults)===null||r===void 0?void 0:r.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&s!==void 0?s:[],uninterpretedOption:[]}))}function kb(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(r=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},r))})}function re(i,e,...r){return r.reduce((s,o)=>s.nestedMessages[o],i.messages[e])}const kE=KE({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),jE=re(kE,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var cp;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(cp||(cp={}));var fp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(fp||(fp={}));var hp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(hp||(hp={}));var dp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(dp||(dp={}));var gp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(gp||(gp={}));var mp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mp||(mp={}));var yp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yp||(yp={}));var pp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(pp||(pp={}));var bp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(bp||(bp={}));var vp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(vp||(vp={}));var Sp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(Sp||(Sp={}));var Ap;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Ap||(Ap={}));var Ep;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ep||(Ep={}));var Np;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Np||(Np={}));var Tp;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tp||(Tp={}));var Rp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Rp||(Rp={}));var Ip;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Ip||(Ip={}));var Cp;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Cp||(Cp={}));var wp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(wp||(wp={}));const Dp={readUnknownFields:!0};function FE(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function fn(i,e,r){const s=cn(i,void 0,!1);return jb(s,new Qf(e),FE(r),!1,e.byteLength),s.message}function jb(i,e,r,s,o){var c;const h=s?e.len:e.pos+o;let g,y;const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([g,y]=e.tag(),!(s&&y==et.EndGroup));){const v=i.findNumber(g);if(!v){const T=e.skip(y,g);r.readUnknownFields&&m.push({no:g,wireType:y,data:T});continue}Fb(i,e,v,y,r)}if(s&&(y!=et.EndGroup||g!==o))throw new Error("invalid end group tag");m.length>0&&i.setUnknown(m)}function Fb(i,e,r,s,o){var c;switch(r.fieldKind){case"scalar":i.set(r,ya(e,r.scalar));break;case"enum":const h=ya(e,I.INT32);if(r.enum.open)i.set(r,h);else if(r.enum.values.some(y=>y.number===h))i.set(r,h);else if(o.readUnknownFields){const y=[];Cf(h,y);const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];m.push({no:r.number,wireType:s,data:new Uint8Array(y)}),i.setUnknown(m)}break;case"message":i.set(r,ah(e,o,r,i.get(r)));break;case"list":QE(e,s,i.get(r),o);break;case"map":HE(e,i.get(r),o);break}}function HE(i,e,r){const s=e.field();let o,c;const h=i.uint32(),g=i.pos+h;for(;i.pos<g;){const[y]=i.tag();switch(y){case 1:o=ya(i,s.mapKey);break;case 2:switch(s.mapKind){case"scalar":c=ya(i,s.scalar);break;case"enum":c=i.int32();break;case"message":c=ah(i,r,s);break}break}}if(o===void 0&&(o=br(s.mapKey,!1)),c===void 0)switch(s.mapKind){case"scalar":c=br(s.scalar,!1);break;case"enum":c=s.enum.values[0].number;break;case"message":c=cn(s.message,void 0,!1);break}e.set(o,c)}function QE(i,e,r,s){var o;const c=r.field();if(c.listKind==="message"){r.add(ah(i,s,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:I.INT32;if(!(e==et.LengthDelimited&&h!=I.STRING&&h!=I.BYTES)){r.add(ya(i,h));return}const y=i.uint32()+i.pos;for(;i.pos<y;)r.add(ya(i,h))}function ah(i,e,r,s){const o=r.delimitedEncoding,c=s??cn(r.message,void 0,!1);return jb(c,i,e,o,o?r.number:i.uint32()),c}function ya(i,e){switch(e){case I.STRING:return i.string();case I.BOOL:return i.bool();case I.DOUBLE:return i.double();case I.FLOAT:return i.float();case I.INT32:return i.int32();case I.INT64:return i.int64();case I.UINT64:return i.uint64();case I.FIXED64:return i.fixed64();case I.BYTES:return i.bytes();case I.FIXED32:return i.fixed32();case I.SFIXED32:return i.sfixed32();case I.SFIXED64:return i.sfixed64();case I.SINT64:return i.sint64();case I.UINT32:return i.uint32();case I.SINT32:return i.sint32()}}function fi(i,e){var r;const s=fn(jE,nh(i));return s.messageType.forEach(ih),s.dependency=(r=e?.map(c=>c.proto.name))!==null&&r!==void 0?r:[],Gb(s,c=>e?.find(h=>h.proto.name===c)).getFile(s.name)}const $E=fi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function PE(i){return new Date(qE(i))}function qE(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const e1=fi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Hb=fi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),t1=re(Hb,0),n1=3,Op={writeUnknownFields:!0};function i1(i){return i?Object.assign(Object.assign({},Op),i):Op}function Ji(i,e,r){return wo(new Ob,i1(r),cn(i,e)).finish()}function wo(i,e,r){var s;for(const o of r.sortedFields){if(!r.isSet(o)){if(o.presence==n1)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}Qb(i,e,r,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(s=r.getUnknown())!==null&&s!==void 0?s:[])i.tag(o,c).raw(h);return i}function Qb(i,e,r,s){var o;switch(s.fieldKind){case"scalar":case"enum":Do(i,r.desc.typeName,s.name,(o=s.scalar)!==null&&o!==void 0?o:I.INT32,s.number,r.get(s));break;case"list":r1(i,e,s,r.get(s));break;case"message":$b(i,e,s,r.get(s));break;case"map":for(const[c,h]of r.get(s))a1(i,e,s,c,h);break}}function Do(i,e,r,s,o,c){Pb(i.tag(o,s1(s)),e,r,s,c)}function $b(i,e,r,s){r.delimitedEncoding?wo(i.tag(r.number,et.StartGroup),e,s).tag(r.number,et.EndGroup):wo(i.tag(r.number,et.LengthDelimited).fork(),e,s).join()}function r1(i,e,r,s){var o;if(r.listKind=="message"){for(const h of s)$b(i,e,r,h);return}const c=(o=r.scalar)!==null&&o!==void 0?o:I.INT32;if(r.packed){if(!s.size)return;i.tag(r.number,et.LengthDelimited).fork();for(const h of s)Pb(i,r.parent.typeName,r.name,c,h);i.join();return}for(const h of s)Do(i,r.parent.typeName,r.name,c,r.number,h)}function a1(i,e,r,s,o){var c;switch(i.tag(r.number,et.LengthDelimited).fork(),Do(i,r.parent.typeName,r.name,r.mapKey,1,s),r.mapKind){case"scalar":case"enum":Do(i,r.parent.typeName,r.name,(c=r.scalar)!==null&&c!==void 0?c:I.INT32,2,o);break;case"message":wo(i.tag(2,et.LengthDelimited).fork(),e,o).join();break}i.join()}function Pb(i,e,r,s,o){try{switch(s){case I.STRING:i.string(o);break;case I.BOOL:i.bool(o);break;case I.DOUBLE:i.double(o);break;case I.FLOAT:i.float(o);break;case I.INT32:i.int32(o);break;case I.INT64:i.int64(o);break;case I.UINT64:i.uint64(o);break;case I.FIXED64:i.fixed64(o);break;case I.BYTES:i.bytes(o);break;case I.FIXED32:i.fixed32(o);break;case I.SFIXED32:i.sfixed32(o);break;case I.SFIXED64:i.sfixed64(o);break;case I.SINT64:i.sint64(o);break;case I.UINT32:i.uint32(o);break;case I.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${r} to binary: ${c.message}`):c}}function s1(i){switch(i){case I.BYTES:case I.STRING:return et.LengthDelimited;case I.DOUBLE:case I.FIXED64:case I.SFIXED64:return et.Bit64;case I.FIXED32:case I.SFIXED32:case I.FLOAT:return et.Bit32;default:return et.Varint}}function l1(i,e,r){let s=!1;return r||(r=H(t1),s=!0),r.value=Ji(i,e),r.typeUrl=c1(e.$typeName),s?r:void 0}function o1(i,e){if(i.typeUrl==="")return!1;const r=typeof e=="string"?e:e.typeName,s=qb(i.typeUrl);return r===s}function u1(i,e){if(i.typeUrl==="")return;const r=e.kind=="message"?e:e.getMessage(qb(i.typeUrl));if(!(!r||!o1(i,r)))return fn(r,i.value)}function c1(i){return`type.googleapis.com/${i}`}function qb(i){const e=i.lastIndexOf("/"),r=e>=0?i.substring(e+1):i;if(!r.length)throw new Error(`invalid type url: ${i}`);return r}const sh=fi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),f1=re(sh,0),ev=re(sh,1),h1=re(sh,2);var xf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(xf||(xf={}));const d1=fi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function g1(i,e){tv(e,i);const r=y1(i.$unknown,e),[s,o,c]=Mo(e);for(const h of r)Fb(s,new Qf(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function m1(i,e,r){var s;tv(e,i);const o=((s=i.$unknown)!==null&&s!==void 0?s:[]).filter(m=>m.no!==e.number),[c,h]=Mo(e,r),g=new Ob;Qb(g,{writeUnknownFields:!0},c,h);const y=new Qf(g.finish());for(;y.pos<y.len;){const[m,v]=y.tag(),T=y.skip(v,m);o.push({no:m,wireType:v,data:T})}i.$unknown=o}function y1(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let r=i.length-1;r>=0;--r)if(i[r].no==e.number)return[i[r]];return[]}return i.filter(r=>r.no===e.number)}function Mo(i,e){const r=i.typeName,s=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:r}),o=Object.assign(Object.assign({},i.extendee),{fields:[s],members:[s],oneofs:[]}),c=H(o,e!==void 0?{[r]:e}:void 0);return[cn(o,c),s,()=>{const h=c[r];if(h===void 0){const g=i.message;return Xs(g)?br(g.fields[0].scalar,g.fields[0].longAsString):H(g)}return h}]}function tv(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const p1=3,b1=2,Vp={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function v1(i){return i?Object.assign(Object.assign({},Vp),i):Vp}function S1(i,e,r){return Js(cn(i,e),v1(r))}function A1(i,e,r){var s;const o=S1(i,e,r);return JSON.stringify(o,null,(s=r?.prettySpaces)!==null&&s!==void 0?s:0)}function Js(i,e){var r;const s=R1(i,e);if(s!==void 0)return s;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==p1)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==b1)continue}const h=xp(c,i.get(c),e);h!==void 0&&(o[T1(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(r=i.getUnknown())!==null&&r!==void 0?r:[])if(!c.has(h)){c.add(h);const g=e.registry.getExtensionFor(i.desc,h);if(!g)continue;const y=g1(i.message,g),[m,v]=Mo(g,y),T=xp(v,m.get(v),e);T!==void 0&&(o[g.jsonName]=T)}}return o}function xp(i,e,r){switch(i.fieldKind){case"scalar":return Zo(i,e);case"message":return Js(e,r);case"enum":return lh(i.enum,e,r.enumAsInteger);case"list":return N1(e,r);case"map":return E1(e,r)}}function E1(i,e){const r=i.field(),s={};switch(r.mapKind){case"scalar":for(const[o,c]of i)s[o]=Zo(r,c);break;case"message":for(const[o,c]of i)s[o]=Js(c,e);break;case"enum":for(const[o,c]of i)s[o]=lh(r.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?s:void 0}function N1(i,e){const r=i.field(),s=[];switch(r.listKind){case"scalar":for(const o of i)s.push(Zo(r,o));break;case"enum":for(const o of i)s.push(lh(r.enum,o,e.enumAsInteger));break;case"message":for(const o of i)s.push(Js(o,e));break}return e.alwaysEmitImplicit||s.length>0?s:void 0}function lh(i,e,r){var s;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ct(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(r)return e;const o=i.value[e];return(s=o?.name)!==null&&s!==void 0?s:e}function Zo(i,e){var r,s,o,c,h,g;switch(i.scalar){case I.INT32:case I.SFIXED32:case I.SINT32:case I.FIXED32:case I.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(r=dr(i,e))===null||r===void 0?void 0:r.message}`);return e;case I.FLOAT:case I.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(s=dr(i,e))===null||s===void 0?void 0:s.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case I.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=dr(i,e))===null||o===void 0?void 0:o.message}`);return e;case I.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=dr(i,e))===null||c===void 0?void 0:c.message}`);return e;case I.UINT64:case I.FIXED64:case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=dr(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case I.BYTES:if(e instanceof Uint8Array)return dE(e);throw new Error(`cannot encode ${i} to JSON: ${(g=dr(i,e))===null||g===void 0?void 0:g.message}`)}}function T1(i,e){return e.useProtoFieldName?i.name:i.jsonName}function R1(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return I1(i.message,e);case"google.protobuf.Timestamp":return D1(i.message);case"google.protobuf.Duration":return C1(i.message);case"google.protobuf.FieldMask":return w1(i.message);case"google.protobuf.Struct":return nv(i.message);case"google.protobuf.Value":return oh(i.message);case"google.protobuf.ListValue":return iv(i.message);default:if(Xs(i.desc)){const r=i.desc.fields[0];return Zo(r,i.get(r))}return}}function I1(i,e){if(i.typeUrl==="")return{};const{registry:r}=e;let s,o;if(r&&(s=u1(i,r),s&&(o=r.getMessage(s.$typeName))),!o||!s)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=Js(cn(o,s),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function C1(i){const e=Number(i.seconds),r=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&r<0||e<0&&r>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let s=i.seconds.toString();if(r!==0){let o=Math.abs(r).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),s+="."+o,r<0&&e==0&&(s="-"+s)}return s+"s"}function w1(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Us(e)}).join(",")}function nv(i){const e={};for(const[r,s]of Object.entries(i.fields))e[r]=oh(s);return e}function oh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return nv(i.kind.value);case"listValue":return iv(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function iv(i){return i.values.map(oh)}function D1(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let r="Z";if(i.nanos>0){const s=(i.nanos+1e9).toString().substring(1);s.substring(3)==="000000"?r="."+s.substring(0,3)+"Z":s.substring(6)==="000"?r="."+s.substring(0,6)+"Z":r="."+s+"Z"}return new Date(e).toISOString().replace(".000Z",r)}const Bp={ignoreUnknownFields:!1};function O1(i){return i?Object.assign(Object.assign({},Bp),i):Bp}function V1(i,e,r){return x1(i,Y1(e,i.typeName),r)}function x1(i,e,r){const s=cn(i);try{pa(s,e,O1(r))}catch(o){throw sE(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return s.message}function pa(i,e,r){var s;if(_1(i,e,r))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ct(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,g]of Object.entries(e)){const y=c.get(h);if(y){if(y.oneof){if(g===null&&y.fieldKind=="scalar")continue;const m=o.get(y.oneof);if(m!==void 0)throw new Ut(y.oneof,`oneof set multiple times by ${m.name} and ${y.name}`);o.set(y.oneof,y)}Up(i,y,g,r)}else{let m;if(h.startsWith("[")&&h.endsWith("]")&&(m=(s=r.registry)===null||s===void 0?void 0:s.getExtension(h.substring(1,h.length-1)))&&m.extendee.typeName===i.desc.typeName){const[v,T,V]=Mo(m);Up(v,T,g,r),m1(i.message,m,V())}if(!m&&!r.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,r,s){switch(e.fieldKind){case"scalar":Z1(i,e,r);break;case"enum":M1(i,e,r,s);break;case"message":L1(i,e,r,s);break;case"list":U1(i.get(e),r,s);break;case"map":B1(i.get(e),r,s);break}}function B1(i,e,r){if(e===null)return;const s=i.field();if(typeof e!="object"||Array.isArray(e))throw new Ut(s,"expected object, got "+ct(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Ut(s,"map value must not be null");let h;switch(s.mapKind){case"message":const y=cn(s.message);pa(y,c,r),h=y;break;case"enum":if(h=uh(s.enum,c,r.ignoreUnknownFields,!0),h===zo)return;break;case"scalar":h=_o(s,c,!0);break}const g=z1(s.mapKey,o);i.set(g,h)}}function U1(i,e,r){if(e===null)return;const s=i.field();if(!Array.isArray(e))throw new Ut(s,"expected Array, got "+ct(e));for(const o of e){if(o===null)throw new Ut(s,"list item must not be null");switch(s.listKind){case"message":const c=cn(s.message);pa(c,o,r),i.add(c);break;case"enum":const h=uh(s.enum,o,r.ignoreUnknownFields,!0);h!==zo&&i.add(h);break;case"scalar":i.add(_o(s,o,!0));break}}}function L1(i,e,r,s){if(r===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):cn(e.message);pa(o,r,s),i.set(e,o)}function M1(i,e,r,s){const o=uh(e.enum,r,s.ignoreUnknownFields,!1);o===Yo?i.clear(e):o!==zo&&i.set(e,o)}function Z1(i,e,r){const s=_o(e,r,!1);s===Yo?i.clear(e):i.set(e,s)}const zo=Symbol();function uh(i,e,r,s){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:s?i.values[0].number:Yo;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(r)return zo;break}throw new Error(`cannot decode ${i} from JSON: ${ct(e)}`)}const Yo=Symbol();function _o(i,e,r){if(e===null)return r?br(i.scalar,!1):Yo;switch(i.scalar){case I.DOUBLE:case I.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Ut(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Ut(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const s=Number(e);if(!Number.isFinite(s))break;return s}break;case I.INT32:case I.FIXED32:case I.SFIXED32:case I.SINT32:case I.UINT32:return rv(e);case I.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return nh(e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new Ut(i,o)}}break}return e}function z1(i,e){switch(i){case I.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:return rv(e);default:return e}}function rv(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function Y1(i,e){try{return JSON.parse(i)}catch(r){const s=r instanceof Error?r.message:String(r);throw new Error(`cannot decode message ${e} from JSON: ${s}`,{cause:r})}}function _1(i,e,r){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return G1(i.message,e,r),!0;case"google.protobuf.Timestamp":return K1(i.message,e),!0;case"google.protobuf.Duration":return W1(i.message,e),!0;case"google.protobuf.FieldMask":return X1(i.message,e),!0;case"google.protobuf.Struct":return av(i.message,e),!0;case"google.protobuf.Value":return ch(i.message,e),!0;case"google.protobuf.ListValue":return sv(i.message,e),!0;default:if(Xs(i.desc)){const s=i.desc.fields[0];return e===null?i.clear(s):i.set(s,_o(s,e,!0)),!0}return!1}}function G1(i,e,r){var s;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ct(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(s=r.registry)===null||s===void 0?void 0:s.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const g=cn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const y=e.value;pa(g,y,r)}else{const y=Object.assign({},e);delete y["@type"],pa(g,y,r)}l1(g.desc,g.message,i)}function K1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const s=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(s))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=ke.parse(s/1e3),i.nanos=0,r[7]&&(i.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9)}function W1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const r=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const s=Number(r[1]);if(s>315576e6||s<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(i.seconds=ke.parse(s),typeof r[2]!="string")return;const o=r[2]+"0".repeat(9-r[2].length);i.nanos=parseInt(o),(s<0||Object.is(s,-0))&&(i.nanos=-i.nanos)}function X1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(e==="")return;function r(s){if(s.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=s.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(r)}function av(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const[r,s]of Object.entries(e)){const o=H(ev);ch(o,s),i.fields[r]=o}}function ch(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:xf.NULL_VALUE};else if(Array.isArray(e)){const r=H(h1);sv(r,e),i.kind={case:"listValue",value:r}}else{const r=H(f1);av(r,e),i.kind={case:"structValue",value:r}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`)}return i}function sv(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const r of e){const s=H(ev);ch(s,r),i.values.push(s)}}function Lp(i){const e=fe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class xe extends Error{constructor(e,r=fe.Unknown,s,o,c){super(J1(e,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=r,this.metadata=new Headers(s??{}),this.details=o??[],this.cause=c}static from(e,r=fe.Unknown){return e instanceof xe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new xe(e.message,fe.Canceled):new xe(e.message,r,void 0,void 0,e):new xe(String(e),r,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const r=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,s=[];for(const o of this.details){if("desc"in o){r.getMessage(o.desc.typeName)&&s.push(H(o.desc,o.value));continue}const c=r.getMessage(o.type);if(c)try{s.push(fn(c,o.value))}catch{}}return s}}function J1(i,e){return i.length?`[${Lp(e)}] ${i}`:`[${Lp(e)}]`}function k1(i,e,r){try{const s=nh(i);return e?fn(e,s,r):s}catch(s){throw xe.from(s,fe.DataLoss)}}function j1(i,e){const r={};for(const s of i.methods){const o=e(s);o!=null&&(r[s.localName]=o)}return r}const Mp=1;function F1(i,e,r=!1){if(e>i){let s=`message size is larger than configured readMaxBytes ${i}`;throw r&&(s=`message size ${e} is larger than configured readMaxBytes ${i}`),new xe(s,fe.ResourceExhausted)}}function H1(i){return new Q1(i)}class Q1{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,r)=>e+r.byteLength,0)}decode(e){this.buf.push(e);const r=[];for(;;){let s=this.pop();if(!s)break;r.push(s)}return r}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),r=this.headerView.getUint32(1);return F1(this.readMaxBytes,r,!0),{flags:e,data:new Uint8Array(r)}}cons(e){const r=e.byteLength;if(this.byteLength<r)return!1;let s=0;for(;s<r;){const o=this.buf.shift();o.byteLength>r-s?(e.set(o.subarray(0,r-s),s),this.buf.unshift(o.subarray(r-s)),s+=r-s):(e.set(o,s),s+=o.byteLength)}return!0}}function Zp(i){let e;const r=H1(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(s){let o=!1;for(;!o;){const c=await e.read();if(c.done)r.byteLength>0&&s.error(new xe("protocol error: incomplete envelope",fe.InvalidArgument)),s.close();else for(const h of r.decode(c.value))s.enqueue(h),o=!0}}})}function zp(i,e){const r=new Uint8Array(e.length+5);r.set(e,5);const s=new DataView(r.buffer,r.byteOffset,r.byteLength);return s.setUint8(0,i),s.setUint32(1,e.length),r}var $1=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=i[c]&&function(h){return new Promise(function(g,y){h=i[c](h),o(g,y,h.done,h.value)})}}function o(c,h,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},P1=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function g(C,L){s[C]&&(o[C]=function(Y){return new Promise(function(j,q){c.push([C,Y,j,q])>1||y(C,Y)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof Zs?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}},q1=function(i){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:Zs(i[o](h)),done:!1}:c?c(h):h}:c}};function eN(i){return P1(this,arguments,function*(){yield Zs(yield*q1($1(i)))})}var lv=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=i[c]&&function(h){return new Promise(function(g,y){h=i[c](h),o(g,y,h.done,h.value)})}}function o(c,h,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},h)}},ba=function(i){return this instanceof ba?(this.v=i,this):new ba(i)},tN=function(i){var e,r;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:ba(i[o](h)),done:!1}:c?c(h):h}:c}},nN=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function g(C,L){s[C]&&(o[C]=function(Y){return new Promise(function(j,q){c.push([C,Y,j,q])>1||y(C,Y)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof ba?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};function iN(i,e){return j1(i,r=>{switch(r.methodKind){case"unary":return rN(e,r);case"server_streaming":return aN(e,r);case"client_streaming":return sN(e,r);case"bidi_streaming":return lN(e,r);default:return null}})}function rN(i,e){return async(r,s)=>{var o,c;const h=await i.unary(e,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues);return(o=s?.onHeader)===null||o===void 0||o.call(s,h.header),(c=s?.onTrailer)===null||c===void 0||c.call(s,h.trailer),h.message}}function aN(i,e){return(r,s)=>ov(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,eN([r]),s?.contextValues),s)}function sN(i,e){return async(r,s)=>{var o,c,h,g,y,m;const v=await i.stream(e,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues);(y=s?.onHeader)===null||y===void 0||y.call(s,v.header);let T,V=0;try{for(var C=!0,L=lv(v.message),Y;Y=await L.next(),o=Y.done,!o;C=!0)g=Y.value,C=!1,T=g,V++}catch(j){c={error:j}}finally{try{!C&&!o&&(h=L.return)&&await h.call(L)}finally{if(c)throw c.error}}if(!T)throw new xe("protocol error: missing response message",fe.Unimplemented);if(V>1)throw new xe("protocol error: received extra messages for client streaming method",fe.Unimplemented);return(m=s?.onTrailer)===null||m===void 0||m.call(s,v.trailer),T}}function lN(i,e){return(r,s)=>ov(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,r,s?.contextValues),s)}function ov(i,e){const r=(function(){return nN(this,arguments,function*(){var s,o;const c=yield ba(i);(s=e?.onHeader)===null||s===void 0||s.call(e,c.header),yield ba(yield*tN(lv(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function oN(...i){const e=new AbortController,r=i.filter(o=>o!==void 0).concat(e.signal);for(const o of r){if(o.aborted){s.apply(o);break}o.addEventListener("abort",s)}function s(){e.signal.aborted||e.abort(uv(this));for(const o of r)o.removeEventListener("abort",s)}return e}function uN(i){const e=new AbortController,r=()=>{e.abort(new xe("the operation timed out",fe.DeadlineExceeded))};let s;return i!==void 0&&(i<=0?r():s=setTimeout(r,i)),{signal:e.signal,cleanup:()=>clearTimeout(s)}}function uv(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Yp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Nf=128;function _p(i){const e=new Headers,r=new TextDecoder().decode(i).split(`\r
`);for(const s of r){if(s==="")continue;const o=s.indexOf(":");if(o>0){const c=s.substring(0,o).trim(),h=s.substring(o+1).trim();e.append(c,h)}}return e}const cN="Content-Type",fN="Grpc-Timeout",va="Grpc-Status",cv="Grpc-Message",hN="Grpc-Status-Details-Bin",dN="User-Agent",Gp="X-User-Agent",gN="X-Grpc-Web",mN="application/grpc-web+proto",yN="application/grpc-web+json";function pN(i,e,...r){if(r.length>0)throw new Error;return i.services[e]}const bN=fi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Hb]),vN=re(bN,0),SN="0";function fv(i){var e;const r=i.get(hN);if(r!=null){const o=k1(r,vN);if(o.code==0)return;const c=new xe(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const s=i.get(va);if(s!=null){if(s===SN)return;const o=parseInt(s,10);return o in fe?new xe(decodeURIComponent((e=i.get(cv))!==null&&e!==void 0?e:""),o,i):new xe(`invalid grpc-status: ${s}`,fe.Internal,i)}}function Kp(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function hv(i,e){return H(i,e)}function AN(i,e){function r(s){return s.done===!0?s:{done:s.done,value:hv(i,s.value)}}return{[Symbol.asyncIterator](){const s=e[Symbol.asyncIterator](),o={next:()=>s.next().then(r)};return s.throw!==void 0&&(o.throw=c=>s.throw(c).then(r)),s.return!==void 0&&(o.return=c=>s.return(c).then(r)),o}}}function dv(i,e){if(!e)return i;for(const r of e.concat().reverse())i=r(i);return i}function EN(i){var e;const r=Object.assign({},i);return(e=r.ignoreUnknownFields)!==null&&e!==void 0||(r.ignoreUnknownFields=!0),r}function Wp(i,e,r,s){const o=e?Xp(i.input,s):Jp(i.input,r);return{parse:(e?Xp(i.output,s):Jp(i.output,r)).parse,serialize:o.serialize}}function Xp(i,e){return{parse(r){try{return fn(i,r,e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new xe(`parse binary: ${o}`,fe.Internal)}},serialize(r){try{return Ji(i,r,e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new xe(`serialize binary: ${o}`,fe.Internal)}}}}function Jp(i,e){var r,s;const o=(r=e?.textEncoder)!==null&&r!==void 0?r:new TextEncoder,c=(s=e?.textDecoder)!==null&&s!==void 0?s:new TextDecoder,h=EN(e);return{parse(g){try{const y=c.decode(g);return V1(i,y,h)}catch(y){throw xe.from(y,fe.InvalidArgument)}},serialize(g){try{const y=A1(i,g,h);return o.encode(y)}catch(y){throw xe.from(y,fe.Internal)}}}}function NN(i){const e=dv(i.next,i.interceptors),[r,s,o]=gv(i),c=Object.assign(Object.assign({},i.req),{message:hv(i.req.method.input,i.req.message),signal:r});return e(c).then(h=>(o(),h),s)}function TN(i){const e=dv(i.next,i.interceptors),[r,s,o]=gv(i),c=Object.assign(Object.assign({},i.req),{message:AN(i.req.method.input,i.req.message),signal:r});let h=!1;return r.addEventListener("abort",function(){var g,y;const m=i.req.message[Symbol.asyncIterator]();h||(g=m.throw)===null||g===void 0||g.call(m,this.reason).catch(()=>{}),(y=m.return)===null||y===void 0||y.call(m).catch(()=>{})}),e(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const y=g.message[Symbol.asyncIterator]();return{next(){return y.next().then(m=>(m.done==!0&&(h=!0,o()),m),s)}}}}}),s)}function gv(i){const{signal:e,cleanup:r}=uN(i.timeoutMs),s=oN(i.signal,e);return[s.signal,function(c){const h=xe.from(e.aborted?uv(e):c);return s.abort(h),r(),Promise.reject(h)},function(){r(),s.abort()}]}function RN(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function kp(i,e){const r=fv(i);if(r)throw e.forEach((s,o)=>{r.metadata.append(o,s)}),r;if(!e.has(va)&&!i.has(va))throw new xe("protocol error: missing status",fe.Internal)}function jp(i,e,r,s){var o,c;const h=new Headers(r??{});h.set(cN,i?mN:yN),h.set(gN,"1");const g=(c=(o=h.get(dN))!==null&&o!==void 0?o:h.get(Gp))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(Gp,g),e!==void 0&&h.set(fN,`${e}m`),h}function IN(i){switch(i){case 400:return fe.Internal;case 401:return fe.Unauthenticated;case 403:return fe.PermissionDenied;case 404:return fe.Unimplemented;case 429:return fe.Unavailable;case 502:return fe.Unavailable;case 503:return fe.Unavailable;case 504:return fe.Unavailable;default:return fe.Unknown}}function Fp(i,e){var r;if(i>=200&&i<300)return{foundStatus:e.has(va),headerError:fv(e)};throw new xe(decodeURIComponent((r=e.get(cv))!==null&&r!==void 0?r:`HTTP ${i}`),IN(i),e)}var yr=function(i){return this instanceof yr?(this.v=i,this):new yr(i)},CN=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function g(C,L){s[C]&&(o[C]=function(Y){return new Promise(function(j,q){c.push([C,Y,j,q])>1||y(C,Y)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof yr?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};const Hp={redirect:"error"};function wN(i){var e;RN();const r=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(s,o,c,h,g,y){const{serialize:m,parse:v}=Wp(s,r,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await NN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:s.parent,method:s,requestMethod:"POST",url:Kp(i.baseUrl,s),header:jp(r,c,h),contextValues:y??Yp(),message:g},next:async T=>{var V;const L=await((V=i.fetch)!==null&&V!==void 0?V:globalThis.fetch)(T.url,Object.assign(Object.assign({},Hp),{method:T.requestMethod,headers:T.header,signal:T.signal,body:zp(0,m(T.message))})),{headerError:Y}=Fp(L.status,L.headers);if(!L.body)throw Y!==void 0?Y:"missing response body";const j=Zp(L.body).getReader();let q,ye;for(;;){const ne=await j.read();if(ne.done)break;const{flags:Ee,data:ie}=ne.value;if((Ee&Mp)===Mp)throw new xe("protocol error: received unsupported compressed output",fe.Internal);if(Ee===Nf){if(q!==void 0)throw"extra trailer";q=_p(ie);continue}if(ye!==void 0)throw new xe("extra message",fe.Unimplemented);ye=v(ie)}if(q===void 0)throw Y!==void 0?Y:new xe("missing trailer",L.headers.has(va)?fe.Unimplemented:fe.Unknown);if(kp(q,L.headers),ye===void 0)throw new xe("missing message",q.has(va)?fe.Unimplemented:fe.Unknown);return{stream:!1,service:s.parent,method:s,header:L.headers,message:ye,trailer:q}}})},async stream(s,o,c,h,g,y){const{serialize:m,parse:v}=Wp(s,r,i.jsonOptions,i.binaryOptions);function T(C,L,Y,j,q){return CN(this,arguments,function*(){const ne=Zp(C).getReader();if(L){if(!(yield yr(ne.read())).done)throw"extra data for trailers-only";return yield yr(void 0)}let Ee=!1;for(;;){const ie=yield yr(ne.read());if(ie.done)break;const{flags:Ae,data:J}=ie.value;if((Ae&Nf)===Nf){if(Ee)throw"extra trailer";Ee=!0;const ve=_p(J);kp(ve,j),ve.forEach((Et,gn)=>Y.set(gn,Et));continue}if(Ee)throw"extra message";yield yield yr(v(J))}if("throwIfAborted"in q&&q.throwIfAborted(),!Ee)throw"missing trailer"})}async function V(C){if(s.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const L=await C[Symbol.asyncIterator]().next();if(L.done==!0)throw"missing request message";return zp(0,m(L.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,TN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:s.parent,method:s,requestMethod:"POST",url:Kp(i.baseUrl,s),header:jp(r,c,h),contextValues:y??Yp(),message:g},next:async C=>{var L;const j=await((L=i.fetch)!==null&&L!==void 0?L:globalThis.fetch)(C.url,Object.assign(Object.assign({},Hp),{method:C.requestMethod,headers:C.header,signal:C.signal,body:await V(C.message)})),{foundStatus:q,headerError:ye}=Fp(j.status,j.headers);if(ye!=null)throw ye;if(!j.body)throw"missing response body";const ne=new Headers;return Object.assign(Object.assign({},C),{header:j.headers,trailer:ne,message:T(j.body,q,ne,j.headers,C.signal)})}})}}}const ce=fi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[$E,d1]),DN=re(ce,0),ON=re(ce,1),VN=re(ce,2),fh=re(ce,3),hh=re(ce,4),dh=re(ce,5),xN=re(ce,5,0),BN=re(ce,5,1),UN=re(ce,5,2),LN=re(ce,5,3),MN=re(ce,5,4),ZN=re(ce,5,5),zN=re(ce,5,6),YN=re(ce,5,7),_N=re(ce,5,8),GN=re(ce,5,9),sa=re(ce,6),hn=re(ce,7),KN=re(ce,7,0),WN=re(ce,7,1),XN=re(ce,7,2),JN=re(ce,7,3),kN=re(ce,7,4),jN=re(ce,7,5),FN=re(ce,8),HN=re(ce,9),mv=re(ce,10),QN=re(ce,11),$N=re(ce,12),PN=re(ce,13),qN=re(ce,14),e2=re(ce,15),t2=re(ce,16),Qp=re(ce,22);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const n2=re(ce,23),i2=re(ce,25),r2=re(ce,26),a2=re(ce,27);var yv=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(yv||{}),ue=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(ue||{}),Oo=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(Oo||{});const s2=fi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ce]),l2=pN(s2,0),o2=fi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[e1]),u2=re(o2,0);var A=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(A||{});class N extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Mn=(i=>(i.Put="put",i.Clear="clear",i))(Mn||{});const gh="000000000000000000000000",Bn=24;class un{lamport;delimiter;actorID;constructor(e,r,s){this.lamport=e,this.delimiter=r,this.actorID=s}static of(e,r,s){return new un(e,r,s)}static fromStruct(e){return un.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new un(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const r=this.actorID.localeCompare(e.actorID);return r!==0?r:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Bf=0n,pv=0,Uf=9223372036854775807n,Sa=new un(Bf,pv,gh);function xn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ks{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Bn),this.getMovedAt()&&(e+=Bn),this.getRemovedAt()&&(e+=Bn),e}}class Gi extends ks{constructor(e){super(e)}}class Vo{strKey;value;constructor(e,r){this.strKey=e,this.value=r}static of(e,r){return new Vo(e,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Aa{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Aa}set(e,r,s){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(s)&&(o=c.getValue());const h=Vo.of(e,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),h),(!c||s.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),r.setMovedAt(s)),o}delete(e,r){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new N(A.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const s=this.nodeMapByCreatedAt.get(e.toIDString());return s.remove(r),s.getValue()}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return r.getStrKey()}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const s=this.nodeMapByKey.get(r.getStrKey());r===s&&this.nodeMapByKey.delete(s.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(e,r){const s=this.nodeMapByKey.get(e);if(s&&s.remove(r))return s.getValue()}has(e){const r=this.nodeMapByKey.get(e);return r?!r.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const r=this.nodeMapByKey.get(e);if(!(!r||r.isRemoved()))return r}deepcopy(){const e=Aa.create();for(const[,r]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(r.getValue().getCreatedAt().toIDString(),Vo.of(r.getStrKey(),r.getValue().deepcopy()));for(const[r,s]of this.nodeMapByKey)e.nodeMapByKey.set(r,e.nodeMapByCreatedAt.get(s.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class vt extends Gi{memberNodes;constructor(e,r){super(e),this.memberNodes=r}static create(e,r){if(!r)return new vt(e,Aa.create());const s=Aa.create();for(const[o,c]of Object.entries(r))s.set(o,c.deepcopy(),c.getCreatedAt());return new vt(e,s)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,s){return this.memberNodes.set(e,r,s)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,s]of this)e.push(`"${xn(r)}":${s.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,s]of this){const{createdAt:o,value:c,type:h}=s.toJSForTest();e[r]={key:r,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){const e=new Set;for(const[s]of this)e.add(s);const r=[];for(const s of Array.from(e).sort()){const o=this.memberNodes.get(s)?.getValue();r.push(`"${xn(s)}":${o.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=vt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const s=r.getValue();if(e(s,this))return;s instanceof Gi&&s.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var Je=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(Je||{});class Cn{parentCreatedAt;executedAt;constructor(e,r){this.parentCreatedAt=e,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new N(A.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class bv{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Ys{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&e<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<e)e-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{e-=r.getLeftWeight();break}if(e>r.getLength())throw new N(A.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${r.getLength()}`);return this.splayNode(r),[r,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,r){return e?(this.splayNode(e),this.root=r,r.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(r),r.setLeft(e),e.setParent(r),e.setRight(),this.updateWeight(e),this.updateWeight(r),r):(this.root=r,r)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const r=new Ys(e.getLeft());r.root&&r.root.setParent();const s=new Ys(e.getRight());if(s.root&&s.root.setParent(),r.root){const o=r.getRightmost();r.splayNode(o),r.root.setRight(s.root),s.root&&s.root.setParent(r.root),this.root=r.root}else this.root=s.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,r){if(!r){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(r),r.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const r=[];this.traversePostorder(e.getRight(),r);for(const s of r)s.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const r of e)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,r){e&&(this.traverseInorder(e.getLeft(),r),r.push(e),this.traverseInorder(e.getRight(),r))}traversePostorder(e,r){e&&(this.traversePostorder(e.getLeft(),r),this.traversePostorder(e.getRight(),r),r.push(e))}rotateLeft(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setRight(e.getLeft()),r.hasRight()&&r.getRight().setParent(r),e.setLeft(r),e.getLeft().setParent(e),this.updateWeight(r),this.updateWeight(e)}rotateRight(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setLeft(e.getRight()),r.hasLeft()&&r.getLeft().setParent(r),e.setRight(r),e.getRight().setParent(e),this.updateWeight(r),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var ln=null;try{ln=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function me(i,e,r){this.low=i|0,this.high=e|0,this.unsigned=!!r}me.prototype.__isLong__;Object.defineProperty(me.prototype,"__isLong__",{value:!0});function At(i){return(i&&i.__isLong__)===!0}function $p(i){var e=Math.clz32(i&-i);return i?31-e:e}me.isLong=At;var Pp={},qp={};function Sr(i,e){var r,s,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(s=qp[i],s)?s:(r=Ne(i,0,!0),o&&(qp[i]=r),r)):(i|=0,(o=-128<=i&&i<128)&&(s=Pp[i],s)?s:(r=Ne(i,i<0?-1:0,!1),o&&(Pp[i]=r),r))}me.fromInt=Sr;function on(i,e){if(isNaN(i))return e?si:Nn;if(e){if(i<0)return si;if(i>=vv)return Ev}else{if(i<=-tb)return Bt;if(i+1>=tb)return Av}return i<0?on(-i,e).neg():Ne(i%Ea|0,i/Ea|0,e)}me.fromNumber=on;function Ne(i,e,r){return new me(i,e,r)}me.fromBits=Ne;var xo=Math.pow;function mh(i,e,r){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(r=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?si:Nn;if(r=r||10,r<2||36<r)throw RangeError("radix");var s;if((s=i.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return mh(i.substring(1),e,r).neg();for(var o=on(xo(r,8)),c=Nn,h=0;h<i.length;h+=8){var g=Math.min(8,i.length-h),y=parseInt(i.substring(h,h+g),r);if(g<8){var m=on(xo(r,g));c=c.mul(m).add(on(y))}else c=c.mul(o),c=c.add(on(y))}return c.unsigned=e,c}me.fromString=mh;function dn(i,e){return typeof i=="number"?on(i,e):typeof i=="string"?mh(i,e):Ne(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}me.fromValue=dn;var eb=65536,c2=1<<24,Ea=eb*eb,vv=Ea*Ea,tb=vv/2,nb=Sr(c2),Nn=Sr(0);me.ZERO=Nn;var si=Sr(0,!0);me.UZERO=si;var fa=Sr(1);me.ONE=fa;var Sv=Sr(1,!0);me.UONE=Sv;var Lf=Sr(-1);me.NEG_ONE=Lf;var Av=Ne(-1,2147483647,!1);me.MAX_VALUE=Av;var Ev=Ne(-1,-1,!0);me.MAX_UNSIGNED_VALUE=Ev;var Bt=Ne(0,-2147483648,!1);me.MIN_VALUE=Bt;var _=me.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low};_.toNumber=function(){return this.unsigned?(this.high>>>0)*Ea+(this.low>>>0):this.high*Ea+(this.low>>>0)};_.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Bt)){var r=on(e),s=this.div(r),o=s.mul(r).sub(this);return s.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=on(xo(e,6),this.unsigned),h=this,g="";;){var y=h.div(c),m=h.sub(y.mul(c)).toInt()>>>0,v=m.toString(e);if(h=y,h.isZero())return v+g;for(;v.length<6;)v="0"+v;g=""+v+g}};_.getHighBits=function(){return this.high};_.getHighBitsUnsigned=function(){return this.high>>>0};_.getLowBits=function(){return this.low};_.getLowBitsUnsigned=function(){return this.low>>>0};_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};_.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};_.isZero=function(){return this.high===0&&this.low===0};_.eqz=_.isZero;_.isNegative=function(){return!this.unsigned&&this.high<0};_.isPositive=function(){return this.unsigned||this.high>=0};_.isOdd=function(){return(this.low&1)===1};_.isEven=function(){return(this.low&1)===0};_.equals=function(e){return At(e)||(e=dn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};_.eq=_.equals;_.notEquals=function(e){return!this.eq(e)};_.neq=_.notEquals;_.ne=_.notEquals;_.lessThan=function(e){return this.comp(e)<0};_.lt=_.lessThan;_.lessThanOrEqual=function(e){return this.comp(e)<=0};_.lte=_.lessThanOrEqual;_.le=_.lessThanOrEqual;_.greaterThan=function(e){return this.comp(e)>0};_.gt=_.greaterThan;_.greaterThanOrEqual=function(e){return this.comp(e)>=0};_.gte=_.greaterThanOrEqual;_.ge=_.greaterThanOrEqual;_.compare=function(e){if(At(e)||(e=dn(e)),this.eq(e))return 0;var r=this.isNegative(),s=e.isNegative();return r&&!s?-1:!r&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};_.comp=_.compare;_.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(fa)};_.neg=_.negate;_.add=function(e){At(e)||(e=dn(e));var r=this.high>>>16,s=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,g=e.high&65535,y=e.low>>>16,m=e.low&65535,v=0,T=0,V=0,C=0;return C+=c+m,V+=C>>>16,C&=65535,V+=o+y,T+=V>>>16,V&=65535,T+=s+g,v+=T>>>16,T&=65535,v+=r+h,v&=65535,Ne(V<<16|C,v<<16|T,this.unsigned)};_.subtract=function(e){return At(e)||(e=dn(e)),this.add(e.neg())};_.sub=_.subtract;_.multiply=function(e){if(this.isZero())return this;if(At(e)||(e=dn(e)),ln){var r=ln.mul(this.low,this.high,e.low,e.high);return Ne(r,ln.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?si:Nn;if(this.eq(Bt))return e.isOdd()?Bt:Nn;if(e.eq(Bt))return this.isOdd()?Bt:Nn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nb)&&e.lt(nb))return on(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,g=e.high>>>16,y=e.high&65535,m=e.low>>>16,v=e.low&65535,T=0,V=0,C=0,L=0;return L+=h*v,C+=L>>>16,L&=65535,C+=c*v,V+=C>>>16,C&=65535,C+=h*m,V+=C>>>16,C&=65535,V+=o*v,T+=V>>>16,V&=65535,V+=c*m,T+=V>>>16,V&=65535,V+=h*y,T+=V>>>16,V&=65535,T+=s*v+o*m+c*y+h*g,T&=65535,Ne(C<<16|L,T<<16|V,this.unsigned)};_.mul=_.multiply;_.divide=function(e){if(At(e)||(e=dn(e)),e.isZero())throw Error("division by zero");if(ln){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?ln.div_u:ln.div_s)(this.low,this.high,e.low,e.high);return Ne(r,ln.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?si:Nn;var s,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return si;if(e.gt(this.shru(1)))return Sv;c=si}else{if(this.eq(Bt)){if(e.eq(fa)||e.eq(Lf))return Bt;if(e.eq(Bt))return fa;var h=this.shr(1);return s=h.div(e).shl(1),s.eq(Nn)?e.isNegative()?fa:Lf:(o=this.sub(e.mul(s)),c=s.add(o.div(e)),c)}else if(e.eq(Bt))return this.unsigned?si:Nn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Nn}for(o=this;o.gte(e);){s=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var g=Math.ceil(Math.log(s)/Math.LN2),y=g<=48?1:xo(2,g-48),m=on(s),v=m.mul(e);v.isNegative()||v.gt(o);)s-=y,m=on(s,this.unsigned),v=m.mul(e);m.isZero()&&(m=fa),c=c.add(m),o=o.sub(v)}return c};_.div=_.divide;_.modulo=function(e){if(At(e)||(e=dn(e)),ln){var r=(this.unsigned?ln.rem_u:ln.rem_s)(this.low,this.high,e.low,e.high);return Ne(r,ln.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};_.mod=_.modulo;_.rem=_.modulo;_.not=function(){return Ne(~this.low,~this.high,this.unsigned)};_.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};_.clz=_.countLeadingZeros;_.countTrailingZeros=function(){return this.low?$p(this.low):$p(this.high)+32};_.ctz=_.countTrailingZeros;_.and=function(e){return At(e)||(e=dn(e)),Ne(this.low&e.low,this.high&e.high,this.unsigned)};_.or=function(e){return At(e)||(e=dn(e)),Ne(this.low|e.low,this.high|e.high,this.unsigned)};_.xor=function(e){return At(e)||(e=dn(e)),Ne(this.low^e.low,this.high^e.high,this.unsigned)};_.shiftLeft=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ne(0,this.low<<e-32,this.unsigned)};_.shl=_.shiftLeft;_.shiftRight=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ne(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};_.shr=_.shiftRight;_.shiftRightUnsigned=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ne(this.high,0,this.unsigned):Ne(this.high>>>e-32,0,this.unsigned)};_.shru=_.shiftRightUnsigned;_.shr_u=_.shiftRightUnsigned;_.rotateLeft=function(e){var r;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(r=32-e,Ne(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,Ne(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};_.rotl=_.rotateLeft;_.rotateRight=function(e){var r;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(r=32-e,Ne(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,Ne(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};_.rotr=_.rotateRight;_.toSigned=function(){return this.unsigned?Ne(this.low,this.high,!1):this};_.toUnsigned=function(){return this.unsigned?this:Ne(this.low,this.high,!0)};_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};_.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};_.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};me.fromBytes=function(e,r,s){return s?me.fromBytesLE(e,r):me.fromBytesBE(e,r)};me.fromBytesLE=function(e,r){return new me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};me.fromBytesBE=function(e,r){return new me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};typeof BigInt=="function"&&(me.fromBigInt=function(e,r){var s=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Ne(s,o,r)},me.fromValue=function(e,r){return typeof e=="bigint"?me.fromBigInt(e,r):dn(e,r)},_.toBigInt=function(){var e=BigInt(this.low>>>0),r=BigInt(this.unsigned?this.high>>>0:this.high);return r<<BigInt(32)|e});var Ye=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(Ye||{});class je extends ks{valueType;value;constructor(e,r){super(r),this.valueType=je.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new je(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const s=new DataView(r.buffer);return r.forEach(function(o,c){s.setUint8(c,o)}),s.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return me.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(me.fromBytesLE(Array.from(r),!0).toNumber());default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=je.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof me)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return je.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=me.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Bo extends bv{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,r){const s=new Bo(r),o=e.next;return e.next=s,s.prev=e,s.next=o,o&&(o.prev=s),s}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class _s{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=je.of(0,Sa);e.setRemovedAt(Sa),this.dummyHead=new Bo(e),this.last=this.dummyHead,this.nodeMapByIndex=new Ys,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new _s}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,r){let s=this.nodeMapByCreatedAt.get(e.toIDString());if(!s)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;s.getValue().getMovedAt()&&s.getValue().getMovedAt().after(r)&&s.getMovedFrom();)s=s.getMovedFrom();for(;s.getNext()&&s.getNext().getPositionedAt().after(r);)s=s.getNext();return s}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,r,s=r.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,s),c=Bo.createAfter(o,r);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,r,s){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(r.toIDString());if(!c)throw new N(A.ErrInvalidArgument,`cant find the given node: ${r.toIDString()}`);if(o!==c&&s.after(c.getPositionedAt())){const h=c.getPrev();let g=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h);g&&g.getPositionedAt().after(s);)o=c,c=g,g=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new N(A.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(r)}getByIndex(e){if(e>=this.length)return;const[r,s]=this.nodeMapByIndex.find(e);let o=r;if(e===0&&r===this.dummyHead||s>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let r=this.nodeMapByCreatedAt.get(e.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(e,r){const s=this.nodeMapByCreatedAt.get(e.toIDString()),o=s.isRemoved();return s.remove(r)&&!o&&this.nodeMapByIndex.splayNode(s),s.getValue()}set(e,r,s){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),r,s),this.delete(e,s)}deleteByIndex(e,r){const s=this.getByIndex(e);if(s)return s.remove(r)&&this.nodeMapByIndex.splayNode(s),s.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const r of this){const s=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?e.push(`{${s}}`):e.push(`[${s}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class St extends Gi{elements;constructor(e,r){super(e),this.elements=r}static create(e,r){if(!r)return new St(e,_s.create());const s=_s.create();for(const o of r)s.insertAfter(s.getLastCreatedAt(),o.deepcopy());return new St(e,s)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,s){this.elements.insertAfter(e,r,s)}moveAfter(e,r,s){this.elements.moveAfter(e,r,s)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}set(e,r,s){return this.elements.set(e,r,s)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const s=r.getValue();if(e(s,this))return;s instanceof Gi&&s.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:s,value:o,type:c}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:s,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=St.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class ki extends Cn{prevCreatedAt;value;constructor(e,r,s,o){super(e,o),this.prevCreatedAt=r,this.value=s}static create(e,r,s,o){return new ki(e,r,s,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute add");const s=r,o=this.value.deepcopy();return s.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,s),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(s.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Zn extends Cn{createdAt;constructor(e,r,s){super(e,s),this.createdAt=r}static create(e,r,s){return new Zn(e,r,s)}execute(e,r){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof Gi))throw new N(A.ErrInvalidArgument,`only object and array can execute remove: ${s}`);if(r===Je.UndoRedo){let y=s.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=s.subPathOf(this.createdAt),c=this.toReverseOperation(s),h=s.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:s instanceof St?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof St){const r=e.getByID(this.createdAt);if(r!==void 0){const s=e.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),s,r.deepcopy())}}if(e instanceof vt){const r=e.subPathOf(this.createdAt);if(r!==void 0){const s=e.get(r);if(s!==void 0)return vr.create(r,s.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class vr extends Cn{key;value;constructor(e,r,s,o){super(s,o),this.key=e,this.value=r}static create(e,r,s,o){return new vr(e,r,s,o)}execute(e,r){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof vt))throw new N(A.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===Je.UndoRedo){let y=s;for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=s.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),g=s.set(this.key,h,this.getExecutedAt());return r===Je.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,s),g&&e.registerRemovedElement(g),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let r=Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=vr.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Tn extends Cn{prevCreatedAt;createdAt;constructor(e,r,s,o){super(e,o),this.prevCreatedAt=r,this.createdAt=s}static create(e,r,s,o){return new Tn(e,r,s,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute move");const s=r,o=this.toReverseOperation(s),c=Number(s.subPathOf(this.createdAt));s.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(s.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return Tn.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class _i{key;value;updatedAt;_isRemoved;constructor(e,r,s,o){this.key=e,this.value=r,this.updatedAt=s,this._isRemoved=o}static of(e,r,s,o){return new _i(e,r,s,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Bn}}}class ui{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ui}getNodeMapByKey(){return this.nodeMapByKey}set(e,r,s){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&s.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||s.after(o.getUpdatedAt())){const c=_i.of(e,r,s,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,r,s,o){const c=_i.of(e,r,s,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,r){const s=this.nodeMapByKey.get(e),o=[];if(s===void 0||r.after(s.getUpdatedAt())){if(s===void 0){this.numberOfRemovedElement+=1;const g=_i.of(e,"",r,!0);return this.nodeMapByKey.set(e,g),o.push(g),o}const c=s.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(s);const h=_i.of(e,s.getValue(),r,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const r=this.nodeMapByKey.get(e);return r!==void 0&&!r.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ui;for(const[,r]of this.nodeMapByKey)e.setInternal(r.getKey(),r.getValue(),r.getUpdatedAt(),r.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[r,s]of this.nodeMapByKey)s.isRemoved()||e.push(`"${xn(r)}":"${xn(s.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[r,s]of this.nodeMapByKey)s.isRemoved()||(e[r]=s.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const r=this.nodeMapByKey.get(e.getKey());r==null||r.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Sn(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Nv=i=>i?Object.entries(i).length===0:!0,Na=i=>{const e={};for(const[r,s]of Object.entries(i))e[r]=JSON.stringify(s);return e},li=i=>{const e={};for(const[r,s]of Object.entries(i))e[r]=JSON.parse(s);return e};function f2(i){return i?ib(i.live)+ib(i.gc):0}function ib(i){return i.data+i.meta}function yt(i,...e){for(const r of e)i.data+=r.data,i.meta+=r.meta}function pr(i,e){i.data-=e.data,i.meta-=e.meta}class Gs{attributes;content;constructor(e){this.attributes=ui.create(),this.content=e}static create(e){return new Gs(e)}get length(){return this.content.length}substring(e,r){const s=new Gs(this.content.substring(e,r));return s.attributes=this.attributes.deepcopy(),s}setAttr(e,r,s){return this.attributes.set(e,r,s)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const r of this.attributes){const s=r.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}toJSON(){const e=xn(this.content),r=this.attributes.toObject(),s=[];for(const[o,c]of Object.entries(r)){const h=JSON.parse(c),g=typeof h=="string"?`"${xn(o)}":"${xn(h)}"`:`"${xn(o)}":${String(h)}`;s.push(g)}return s.sort(),s.length===0?`{"val":"${e}"}`:`{"attrs":{${s.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof _i&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const r of this.attributes)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}class Ft extends ks{rgaTreeSplit;constructor(e,r){super(r),this.rgaTreeSplit=e}static create(e,r){return new Ft(e,r)}edit(e,r,s,o,c){const h=r?Gs.create(r):void 0;if(h&&o)for(const[V,C]of Object.entries(o))h.setAttr(V,C,s);const[g,y,m,v]=this.rgaTreeSplit.edit(e,s,h,c);return[v.map(V=>({...V,value:V.value?{attributes:li(V.value.getAttributes()),content:V.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,m,[g,g]]}setStyle(e,r,s,o){const c={data:0,meta:0},[,h,g]=this.rgaTreeSplit.findNodeWithSplit(e[1],s),[,y,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],s);yt(c,h,y);const v=[],T=this.rgaTreeSplit.findBetween(m,g),V=[];for(const L of T){const Y=L.getCreatedAt().getActorID();let j=Uf;o!=null&&(j=o.get(Y)?o.get(Y):0n),L.canStyle(s,j)&&V.push(L)}const C=[];for(const L of V){if(L.isRemoved())continue;const[Y,j]=this.rgaTreeSplit.findIndexesFromRange(L.createPosRange());v.push({type:"style",actor:s.getActorID(),from:Y,to:j,value:{attributes:li(r)}});for(const[q,ye]of Object.entries(r)){const[ne]=L.getValue().setAttr(q,ye,s);ne!==void 0&&C.push({parent:L.getValue(),child:ne});const Ee=L.getValue().getAttrs().getNodeMapByKey().get(q);Ee!==void 0&&yt(c,Ee.getDataSize())}}return[C,c,v]}indexRangeToPosRange(e,r){const s=this.rgaTreeSplit.indexToPos(e);return e===r?[s,s]:[s,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const s=r.getDataSize();e.data+=s.data,e.meta+=s.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const s=r.getValue();e.push({attributes:li(s.getAttributes()),content:s.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Ft(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const s of r.getValue().getGCPairs())e.push(s)}return e}}class js extends Cn{fromPos;toPos;content;attributes;constructor(e,r,s,o,c,h){super(e,h),this.fromPos=r,this.toPos=s,this.content=o,this.attributes=c}static create(e,r,s,o,c,h){return new js(e,r,s,o,c,h)}execute(e,r,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ft))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,g,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),s);e.acc(y);for(const m of g)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:T})=>({type:"edit",from:m,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${r},${s},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Fs extends Cn{fromPos;toPos;attributes;constructor(e,r,s,o,c){super(e,c),this.fromPos=r,this.toPos=s,this.attributes=o}static create(e,r,s,o,c){return new Fs(e,r,s,o,c)}execute(e,r,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ft))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,g,y]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),s);e.acc(g);for(const m of h)e.registerGCPair(m);return{opInfos:y.map(({from:m,to:v,value:T})=>({type:"style",from:m,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),s=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${r},${s},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const h2=2,d2="root",Un="text";function Ns(i,e,r=!1){let s=0;const o=r?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!r&&h.isRemoved||(s+=h.paddedSize(r))}return s}class g2{type;parent;_children;visibleSize;totalSize;constructor(e,r=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=r,this.isText&&this._children.length>0)throw new N(A.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,r=!1){let s=this.parent;for(;s;){if(r)s.totalSize+=e;else if(s.visibleSize+=e,s.isRemoved)break;s=s.parent}}updateDescendantsSize(e=!1){let r=0;for(const s of this._children){const o=s.updateDescendantsSize(e);!e&&s.isRemoved||(r+=o)}return e?this.totalSize+=r:this.visibleSize+=r,this.paddedSize(e)}get isText(){return this.type===Un}paddedSize(e=!1){let r=this.visibleSize;return e&&(r=this.totalSize),this.isText||(r+=h2),r}isAncestorOf(e){return m2(this,e)}get nextSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e+1];if(r)return r}get prevSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e-1];if(r)return r}splitText(e,r){const s={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,s];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,s];const h=this.getDataSize();this.value=o;const g=this.cloneText(e+r);return g.value=c,this.parent.insertAfterInternal(g,this),yt(s,this.getDataSize(),g.getDataSize()),pr(s,h),[g,s]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const r of e)r.parent=this,r.updateAncestorsSize(r.paddedSize()),r.updateAncestorsSize(r.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const r of e)r.parent=this}insertBefore(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this._children.splice(r,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,r){const s={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(r);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),g=this.children.slice(e);this._children=h,c._children=g,this.visibleSize=this._children.reduce((y,m)=>y+m.paddedSize(),0),this.totalSize=this._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.totalSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0);for(const y of c._children)y.parent=c;return yt(s,this.getDataSize(),c.getDataSize()),pr(s,o),[c,s]}insertAfterInternal(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(r);if(s===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1)}insertAtInternal(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.splice(r,0,e),e.parent=this}findOffset(e,r=!1){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");if(r)return this._children.indexOf(e);if(e.isRemoved){const s=this._children.indexOf(e);return this.allChildren.splice(0,s).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");let r=e;for(;r;){const s=this._children.indexOf(r);if(s!==-1)return s;r=r.parent}return-1}}function m2(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var qe=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(qe||{});function Tv(i,e,r,s,o=!1){if(e>r)throw new N(A.ErrInvalidArgument,`from is greater than to: ${e} > ${r}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new N(A.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(r>c)throw new N(A.ErrInvalidArgument,`to is out of range: ${r} > ${c}`);if(e===r)return;let h=0;const g=o?i._children:i.children;for(const y of g){if(e-y.paddedSize(o)<h&&h<r){const m=y.isText?e-h:e-h-1,v=y.isText?r-h:r-h-1,T=o?y.totalSize:y.visibleSize,V=!y.isText&&m<0,C=!y.isText&&v>T;(y.isText||V)&&s([y,y.isText?"Text":"Start"],C),Tv(y,Math.max(0,m),Math.min(v,T),s,o),C&&s([y,"End"],C)}h+=y.paddedSize(o)}}function Rv(i,e,r=0){for(const s of i.children)Rv(s,e,r+1);e(i,r)}function Go(i,e,r=0){for(const s of i._children)Go(s,e,r+1);e(i,r)}function Mf(i,e,r=!0){if(e>i.visibleSize)throw new N(A.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let s=0,o=0;for(const c of i.children){if(r&&c.isText&&c.visibleSize>=e-o)return Mf(c,e-o,r);if(e===o)return{node:i,offset:s};if(!r&&c.paddedSize()===e-o)return{node:i,offset:s+1};if(c.paddedSize()>e-o)return Mf(c,e-o-1,r);o+=c.paddedSize(),s+=1}return{node:i,offset:s}}function Iv(i){return i.isText||i.children.length===0?i:Iv(i.children[0])}function y2(i,e){if(i.visibleSize<e)throw new N(A.ErrInvalidArgument,"unacceptable path");for(let r=0;r<i.children.length;r++){const s=i.children[r];if(s.visibleSize<e)e-=s.visibleSize;else{i=s;break}}return{node:i,offset:e}}class p2{root;constructor(e){this.root=e}tokensBetween(e,r,s,o=!1){Tv(this.root,e,r,s,o)}traverse(e){Rv(this.root,e,0)}traverseAll(e){Go(this.root,e,0)}findTreePos(e,r=!0){return Mf(this.root,e,r)}treePosToPath(e){const r=[];let s=e.node;if(s.isText){const o=s.parent.findOffset(s);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");const c=Ns(s.parent,o);r.push(c+e.offset),s=s.parent}else if(s.hasTextChild()){const o=Ns(s,e.offset);r.push(o)}else r.push(e.offset);for(;s.parent;){const o=s.parent.findOffset(s);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");r.push(o),s=s.parent}return r.reverse()}pathToIndex(e){const r=this.pathToTreePos(e);return this.indexOf(r)}pathToTreePos(e){if(!e.length)throw new N(A.ErrInvalidArgument,"unacceptable path");let r=this.root;for(let s=0;s<e.length-1;s++){const o=e[s];if(r=r.children[o],!r)throw new N(A.ErrInvalidArgument,"unacceptable path")}if(r.hasTextChild())return y2(r,e[e.length-1]);if(r.children.length<e[e.length-1])throw new N(A.ErrInvalidArgument,"unacceptable path");return{node:r,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:r,offset:s}=e;if(r.isText){if(r.visibleSize===s){const o=r.nextSibling;return o||r.parent}return r}return r.children.length===s?r:Iv(r.children[s])}indexOf(e,r=!1){let{node:s}=e;const{offset:o}=e;let c=0,h=1;if(s.isText){c+=o;const g=s.parent,y=g.findOffset(s,r);if(y===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ns(g,y,r),s=s.parent}else c+=Ns(s,o,r);for(;s?.parent;){const g=s.parent,y=g.findOffset(s,r);if(y===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ns(g,y,r),h++,s=s.parent}return c+h-1}indexToPath(e){const r=this.findTreePos(e);return this.treePosToPath(r)}}const b2=(i,e)=>i===e?0:i<e?-1:1;class v2{key;value;left;right;isRed;constructor(e,r,s){this.key=e,this.value=r,this.isRed=s}}class S2{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Cv{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:b2,this.counter=0}put(e,r){return this.root=this.putInternal(e,r,this.root),this.root.isRed=!1,r}get(e){const r=this.getInternal(e,this.root);return r?r.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new S2(this.root)}values(){const e=[];for(const r of this.getIterator().stack)e.push(r.value);return e}floorEntry(e){let r=this.root,s;for(;r;){const o=this.comparator(e,r.key);if(o===0)return r;o<0?r=r.left:(s=r,r=r.right)}return s}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,r){for(;r;){const s=this.comparator(e,r.key);if(s===0)return r;s<0?r=r.left:s>0&&(r=r.right)}}putInternal(e,r,s){if(!s)return this.counter+=1,new v2(e,r,!0);const o=this.comparator(e,s.key);return o<0?s.left=this.putInternal(e,r,s.left):o>0?s.right=this.putInternal(e,r,s.right):s.value=r,this.isRed(s.right)&&!this.isRed(s.left)&&(s=this.rotateLeft(s)),this.isRed(s.left)&&this.isRed(s.left.left)&&(s=this.rotateRight(s)),this.isRed(s.left)&&this.isRed(s.right)&&this.flipColors(s),s}removeInternal(e,r){if(this.comparator(r,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,r);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(r,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(r,e.key)===0){this.counter-=1;const s=this.min(e.right);e.value=s.value,e.key=s.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,r)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const r=e.right;return e.right=r.left,r.left=e,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(e){const r=e.left;return e.left=r.right,r.right=e,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Rn{parentID;leftSiblingID;constructor(e,r){this.parentID=e,this.leftSiblingID=r}static of(e,r){return new Rn(e,r)}static fromTreePos(e){const{offset:r}=e;let{node:s}=e,o;return s.isText?(s.parent.children[0]===s&&r===0?o=s.parent:o=s,s=s.parent):r===0?o=s:o=s.children[r-1],Rn.of(s.id,pt.of(o.getCreatedAt(),o.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(e){return Rn.of(pt.of(un.fromStruct(e.parentID.createdAt),e.parentID.offset),pt.of(un.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const r=this.getParentID(),s=this.getLeftSiblingID(),o=e.findFloorNode(r);let c=e.findFloorNode(s);if(!o||!c)throw new N(A.ErrRefused,`cannot find node of CRDTTreePos(${r.toTestString()}, ${s.toTestString()})`);return!s.equals(r)&&s.getOffset()>0&&s.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class pt{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new pt(e,r)}static fromStruct(e){return pt.of(un.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,r)=>{const s=e.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class jt extends g2{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,r,s,o,c){super(r),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof s=="string"?this.value=s:Array.isArray(s)&&(this._children=s)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,s,o){return new jt(e,r,s,o)}deepcopy(){const e=new jt(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(r=>{const s=r.deepcopy();return s.parent=e,s}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new N(A.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new N(A.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new jt(pt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new jt(pt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,s){const[o,c]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,s);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r,s){return r?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new ui);const s=[];for(const[o,c]of Object.entries(e))s.push(this.attrs.set(o,c,r));return s}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const s=r.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Zf(i){if(i.isText){const r=i;return{type:r.type,value:r.value}}const e={type:i.type,children:i.children.map(Zf)};return i.attrs&&(e.attributes=li(i.attrs?.toObject())),e}function yh(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(r=>!r.isRemoved()).sort((r,s)=>r.getKey().localeCompare(s.getKey())).map(r=>{const s=JSON.parse(r.getValue());return typeof s=="string"?`${r.getKey()}="${s}"`:`${r.getKey()}="${xn(r.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(r=>yh(r)).join("")}</${i.type}>`}function wv(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(wv),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Ht extends ks{indexTree;nodeMapByID;constructor(e,r){super(r),this.indexTree=new p2(e),this.nodeMapByID=new Cv(pt.createComparator()),this.indexTree.traverseAll(s=>{this.nodeMapByID.put(s.id,s)})}static create(e,r){return new Ht(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let s={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const g=o===h,y=h.parent&&!g?h.parent:o;if(h.isText){const[,m]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());s=m}if(r){const m=y.allChildren,v=g?0:m.indexOf(h)+1;for(let T=v;T<m.length;T++){const V=m[T];if(!V.id.getCreatedAt().after(r))break;h=V}}return[[y,h],s]}style(e,r,s,o){const c={data:0,meta:0},[[h,g],y]=this.findNodesAndSplitText(e[0],s),[[m,v],T]=this.findNodesAndSplitText(e[1],s);yt(c,T,y);const V=[],C=r?li(r):{},L=[];return this.traverseInPosRange(h,g,m,v,([Y,j])=>{const q=Y.getCreatedAt().getActorID();let ye=Uf;if(o!=null&&(ye=o.get(q)?o.get(q):0n),Y.canStyle(s,ye)&&r){const ne=Y.setAttrs(r,s),Ee=ne.reduce((J,[,ve])=>(ve&&(J[ve.getKey()]=C[ve.getKey()]),J),{}),ie=Y.parent,Ae=Y.prevSibling||Y.parent;Object.keys(Ee).length>0&&V.push({type:"style",from:this.toIndex(ie,Ae),to:this.toIndex(Y,Y),fromPath:this.toPath(ie,Ae),toPath:this.toPath(Y,Y),actor:s.getActorID(),value:Ee});for(const[J]of ne)J&&L.push({parent:Y,child:J});for(const[J]of Object.entries(C)){const ve=Y.attrs?.getNodeMapByKey().get(J);ve!==void 0&&j!==qe.End&&yt(c,ve.getDataSize())}}}),[L,V,c]}removeStyle(e,r,s,o){const c={data:0,meta:0},[[h,g],y]=this.findNodesAndSplitText(e[0],s),[[m,v],T]=this.findNodesAndSplitText(e[1],s);yt(c,T,y);const V=[],C=[];return this.traverseInPosRange(h,g,m,v,([L])=>{const Y=L.getCreatedAt().getActorID();let j=Uf;if(o!=null&&(j=o.get(Y)?o.get(Y):0n),L.canStyle(s,j)&&r){L.attrs||(L.attrs=new ui);for(const ne of r){const Ee=L.attrs.remove(ne,s);for(const ie of Ee)C.push({parent:L,child:ie})}const q=L.parent,ye=L.prevSibling||L.parent;V.push({actor:s.getActorID(),type:"removeStyle",from:this.toIndex(q,ye),to:this.toIndex(L,L),fromPath:this.toPath(q,ye),toPath:this.toPath(L,L),value:r})}}),[C,V,c]}edit(e,r,s,o,c,h){const g={data:0,meta:0},[[y,m],v]=this.findNodesAndSplitText(e[0],o),[[T,V],C]=this.findNodesAndSplitText(e[1],o);yt(g,C,v);const L=this.toIndex(y,m),Y=this.toPath(y,m),j=[],q=[],ye=[];this.traverseInPosRange(y,m,T,V,([ie,Ae],J)=>{if(Ae===qe.Start&&!J)for(const at of ie.children)ye.push(at);const ve=h===void 0;let Et=!1;const gn=h?.get(ie.id.getCreatedAt().getActorID());Et=ve||gn!==void 0&&gn>=ie.id.getCreatedAt().getLamport();let Mt=!1;if(ie.removedAt){const at=h?.get(ie.removedAt.getActorID());Mt=ve||at!==void 0&&at>=ie.removedAt.getLamport()}(ie.canDelete(o,Et,Mt)||j.includes(ie.parent))&&((Ae===qe.Text||Ae===qe.Start)&&j.push(ie),q.push([ie,Ae]))},!0);const ne=this.makeDeletionChanges(q,o),Ee=[];for(const ie of j)ie.remove(o),ie.isRemoved&&Ee.push({parent:this,child:ie});for(const ie of ye)ie.removedAt||y.append(ie);if(s>0){let ie=0,Ae=y,J=m;for(;ie<s;)Ae.split(this,Ae.findOffset(J)+1,c),J=Ae,Ae=Ae.parent,ie++;ne.push({type:"content",from:L,to:L,fromPath:Y,toPath:Y,actor:o.getActorID()})}if(r?.length){const ie=[];let Ae=m;for(const J of r)Ae===y?y.insertAt(J,0):y.insertAfter(J,Ae),Ae=J,Go(J,ve=>{y.isRemoved?(ve.remove(o),Ee.push({parent:this,child:ve})):yt(g,ve.getDataSize()),this.nodeMapByID.put(ve.id,ve)}),J.isRemoved||ie.push(J);if(ie.length){const J=ie.map(ve=>Zf(ve));ne.length&&ne[ne.length-1].from===L?ne[ne.length-1].value=J:ne.push({type:"content",from:L,to:L,fromPath:Y,toPath:Y,actor:o.getActorID(),value:J})}}return[ne,Ee,g]}editT(e,r,s,o,c){const h=this.findPos(e[0]),g=this.findPos(e[1]);return this.edit([h,g],r,s,o,c)}move(e,r,s){throw new N(A.ErrUnimplemented,`not implemented: ${e}, ${r}, ${s}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,s=e.insNextID;if(r){const o=this.findFloorNode(r);o.insNextID=s}if(s){const o=this.findFloorNode(s);o.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const s of r.getGCPairs())e.push(s)}),e}findPos(e,r=!0){const s=this.indexTree.findTreePos(e,r);return Rn.fromTreePos(s)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return yh(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const s=r.getDataSize();e.data+=s.data,e.meta+=s.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(s,o=void 0,c=void 0,h=0)=>{let g,y,m;const v=s.isText?{node:s,offset:0}:o&&c?this.toTreePos(o,c):null;v&&(g=this.indexTree.indexOf(v),y=this.indexTree.treePosToPath(v),m=Rn.fromTreePos(v).toStruct());const T={type:s.type,parent:o?.id.toTestString(),size:s.visibleSize,id:s.id.toTestString(),removedAt:s.removedAt?.toTestString(),insPrev:s.insPrevID?.toTestString(),insNext:s.insNextID?.toTestString(),value:s.isText?s.value:void 0,isRemoved:s.isRemoved,children:[],depth:h,attributes:s.attrs?li(s.attrs?.toObject()):void 0,index:g,path:y,pos:m};for(let V=0;V<s.allChildren.length;V++){const C=V===0?s:s.allChildren[V-1];T.children.push(r(s.allChildren[V],s,C,h+1))}return T};return r(e)}getRootTreeNode(){return Zf(this.indexTree.getRoot())}toTestTreeNode(){return wv(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),r=new Ht(e.deepcopy(),this.getCreatedAt());return r.setRemovedAt(this.getRemovedAt()),r.setMovedAt(this.getMovedAt()),r}toPath(e,r){const s=this.toTreePos(e,r);return s?this.indexTree.treePosToPath(s):[]}toIndex(e,r,s=!1){const o=this.toTreePos(e,r,s);return o?this.indexTree.indexOf(o,s):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,s]=e,o=this.findPos(r);return r===s?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(s).toStruct()]}posRangeToPathRange(e){const[[r,s]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,s),this.toPath(o,c)]}posRangeToIndexRange(e){const[[r,s]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,s),this.toIndex(o,c)]}traverseInPosRange(e,r,s,o,c,h=!1){const g=this.toIndex(e,r,h),y=this.toIndex(s,o,h);this.indexTree.tokensBetween(g,y,c,h)}toTreePos(e,r,s=!1){if(!e||!r)return;if(!s&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,s);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let o=e.findOffset(r,s);if(s||!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize(s)};o++}return{node:e,offset:o}}makeDeletionChanges(e,r){const s=[],o=[];let c=null,h=null;for(let g=0;g<e.length;g++){const y=e[g],m=e[g+1];c||(c=y),h=y;const v=this.findRightToken(y);(!v||!m||v[0]!==m[0]||v[1]!==m[1])&&(o.push([c,h]),c=null,h=null)}for(const g of o){const[y,m]=g,[v,T]=this.findLeftToken(y),[V,C]=m,L=T===qe.Start?v:v.parent,Y=C===qe.Start?V:V.parent,j=this.toIndex(L,v),q=this.toIndex(Y,V);j<q&&(s.length>0&&j===s[s.length-1].to?(s[s.length-1].to=q,s[s.length-1].toPath=this.toPath(Y,V)):s.push({type:"content",from:j,to:q,fromPath:this.toPath(L,v),toPath:this.toPath(Y,V),actor:r.getActorID()}))}return s.reverse()}findRightToken([e,r]){if(r===qe.Start){const g=e.allChildren;return g.length>0?[g[0],g[0].isText?qe.Text:qe.Start]:[e,qe.End]}const s=e.parent,o=s.allChildren,c=o.indexOf(e);if(s&&c===o.length-1)return[s,qe.End];const h=o[c+1];return[h,h.isText?qe.Text:qe.Start]}findLeftToken([e,r]){if(r===qe.End){const g=e.allChildren;if(g.length>0){const y=g[g.length-1];return[y,y.isText?qe.Text:qe.End]}return[e,qe.Start]}const s=e.parent,o=s.allChildren,c=o.indexOf(e);if(s&&c===0)return[s,qe.Start];const h=o[c-1];return[h,h.isText?qe.Text:qe.End]}}class Hs extends Cn{fromPos;toPos;contents;splitLevel;constructor(e,r,s,o,c,h){super(e,h),this.fromPos=r,this.toPos=s,this.contents=o,this.splitLevel=c}static create(e,r,s,o,c,h){return new Hs(e,r,s,o,c,h)}execute(e,r,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ht))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[g,y,m]=h.edit([this.fromPos,this.toPos],this.contents?.map(v=>v.deepcopy()),this.splitLevel,c,(()=>{let v=c.getDelimiter();return this.contents!==void 0&&(v+=this.contents.length),()=>un.of(c.getLamport(),++v,c.getActorID())})(),s);e.acc(m);for(const v of y)e.registerGCPair(v);return{opInfos:g.map(({from:v,to:T,value:V,splitLevel:C,fromPath:L,toPath:Y})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:v,to:T,value:V,splitLevel:C,fromPath:L,toPath:Y}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${r},${s},${o.map(c=>yh(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class da{vector;constructor(e){this.vector=e||new Map}set(e,r){this.vector.set(e,r)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,r]of this)r>e&&(e=r);return e}max(e){const r=new Map;for(const[s,o]of e){const c=this.vector.get(s),h=c&&c>o?c:o;r.set(s,h)}for(const[s,o]of this){const c=e.get(s),h=c&&c>o?c:o;r.set(s,h)}return new da(r)}afterOrEqual(e){const r=this.vector.get(e.getActorID());return r===void 0?!1:r>=e.getLamport()}deepcopy(){const e=new Map;for(const[r,s]of this.vector)e.set(r,s);return new da(e)}filter(e){const r=new Map;for(const[s]of e){const o=this.vector.get(s);o!==void 0&&r.set(s,o)}return new da(r)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,r]of this.vector)yield[e,r]}}const Dv=new da(new Map);class An{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,r,s,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=r,this.versionVector=o,this.actor=s}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Bf}static of(e,r,s,o,c){return new An(e,r,s,o,c)}next(e=!1){if(e)return new An(this.clientSeq+1,this.lamport,this.actor,Dv,Bf);const r=this.versionVector.deepcopy();return r.set(this.actor,this.lamport+1n),new An(this.clientSeq+1,this.lamport+1n,this.actor,r)}syncClocks(e){if(!e.hasClocks())return this;const r=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,s=this.versionVector.max(e.versionVector),o=new An(this.clientSeq,r,this.actor,s);return o.versionVector.set(this.actor,r),o}setClocks(e,r){const s=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(r);return o.set(this.actor,s),An.of(this.clientSeq,s,this.actor,o)}createTimeTicket(e){return un.of(this.lamport,e,this.actor)}setActor(e){return new An(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new An(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new An(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const A2=new An(0,0n,gh,Dv);class Ta{id;operations;presenceChange;message;constructor({id:e,operations:r,presenceChange:s,message:o}){this.id=e,this.operations=r||[],this.presenceChange=s,this.message=o}static create({id:e,operations:r,presenceChange:s,message:o}){return new Ta({id:e,operations:r,presenceChange:s,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const r of this.operations)r.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,r,s){const o=[],c=[];for(const h of this.operations){const g=h.execute(e,s,this.id.getVersionVector());if(!g)continue;const{opInfos:y,reverseOp:m}=g;o.push(...y),m&&c.unshift(m)}return this.presenceChange&&(this.presenceChange.type===Mn.Put?r.set(this.id.getActorID(),Sn(this.presenceChange.presence)):r.delete(this.id.getActorID())),{opInfos:o,reverseOps:c}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Ke.bytesToHex(Ke.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>Ke.bytesToHex(Ke.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:r,operations:s,presenceChange:o,message:c}=e;return Ta.create({id:Ke.bytesToChangeID(Ke.hexToBytes(r)),operations:s?.map(h=>Ke.bytesToOperation(Ke.hexToBytes(h))),presenceChange:o,message:c})}}class Ko{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,r,s,o,c,h){this.documentKey=e,this.checkpoint=r,this.isRemoved=s,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,r,s,o,c,h){return new Ko(e,r,s,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ga{serverSeq;clientSeq;constructor(e,r){this.serverSeq=e,this.clientSeq=r}static of(e,r){return new ga(e,r)}increaseClientSeq(e){return e===0?this:new ga(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const r=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,s=Math.max(this.clientSeq,e.clientSeq);return ga.of(r,s)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const E2=new ga(0n,0);class Ln{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new Ln(e,r)}static fromStruct(e){return Ln.of(un.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Ln(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const N2=Ln.of(Sa,0);class In{id;relativeOffset;constructor(e,r){this.id=e,this.relativeOffset=r}static of(e,r){return new In(e,r)}static fromStruct(e){const r=Ln.fromStruct(e.id);return In.of(r,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Ln.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Ki extends bv{id;removedAt;prev;next;insPrev;insNext;constructor(e,r,s){super(r),this.id=e,this.removedAt=s}static create(e,r){return new Ki(e,r)}static createComparator(){return(e,r)=>{const s=e.getCreatedAt().compare(r.getCreatedAt());return s!==0?s:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,r,s){return r?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[In.of(this.id,0),In.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Ra{head;treeByIndex;treeByID;constructor(){this.head=Ki.create(N2),this.treeByIndex=new Ys,this.treeByID=new Cv(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ra}edit(e,r,s,o){const c={data:0,meta:0},[h,g,y]=this.findNodeWithSplit(e[1],r),[m,v,T]=this.findNodeWithSplit(e[0],r);yt(c,g,v);const V=this.findBetween(T,y),[C,L]=this.deleteNodes(V,r,o),Y=y?y.getID():h.getID();let j=In.of(Y,0);if(s){const ye=this.posToIndex(m.createPosRange()[1],!0),ne=this.insertAfter(m,Ki.create(Ln.of(r,0),s));yt(c,ne.getDataSize()),C.length&&C[C.length-1].from===ye?C[C.length-1].value=s:C.push({actor:r.getActorID(),from:ye,to:ye,value:s}),j=In.of(ne.getID(),ne.getContentLength())}const q=[];for(const[,ye]of L)q.push({parent:this,child:ye});return[j,q,c,C]}indexToPos(e){const[r,s]=this.treeByIndex.find(e),o=r;return In.of(o.getID(),s)}findIndexesFromRange(e){const[r,s]=e;return[this.posToIndex(r,!1),this.posToIndex(s,!0)]}posToIndex(e,r){const s=e.getAbsoluteID(),o=r?this.findFloorNodePreferToLeft(s):this.findFloorNode(s);if(!o)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${s.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:s.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const r of this)r.isRemoved()||e.push(r.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Ra;let r=this.head.getNext(),s=e.head,o;for(;r;){if(o=e.insertAfter(s,r.deepcopy()),r.hasInsPrev()){const c=e.findNode(r.getInsPrevID());o.setInsPrev(c)}s=o,r=r.getNext()}return e}toTestString(){const e=[];let r=this.head;for(;r;)r.isRemoved()?e.push(`{${r.toTestString()}}`):e.push(`[${r.toTestString()}]`),r=r.getNext();return e.join("")}insertAfter(e,r){const s=e.getNext();return r.setPrev(e),s&&s.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(e,r),r}findNodeWithSplit(e,r){const s=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(s);const c=s.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(r);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let r=this.findFloorNode(e);if(!r)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&r.getID().getOffset()==e.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(e){const r=this.treeByID.floorEntry(e);if(r&&!(!r.key.equals(e)&&!r.key.hasSameCreatedAt(e)))return r.value}findBetween(e,r){const s=[];let o=e;for(;o&&o!==r;)s.push(o),o=o.getNext();return s}splitNode(e,r){const s={data:0,meta:0};if(r>e.getContentLength())throw new N(A.ErrInvalidArgument,"offset should be less than or equal to length");if(r===0)return[e,s];if(r===e.getContentLength())return[e.getNext(),s];const o=e.getDataSize(),c=e.split(r);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),yt(s,e.getDataSize(),c.getDataSize()),pr(s,o),[c,s]}deleteNodes(e,r,s){if(!e.length)return[[],new Map];const o=s===void 0||s.size()===0,c=[],h=[],[g,y]=this.findEdgesOfCandidates(e);h.push(g);for(const T of e){let V=!1;if(o)V=!0;else{const L=s?.get(T.getCreatedAt().getActorID());L&&L>=T.getCreatedAt().getLamport()&&(V=!0)}let C=!1;if(T.getRemovedAt()){const L=s?.get(T.getRemovedAt().getActorID());(o||L&&L>=T.getRemovedAt().getLamport())&&(C=!0)}T.canRemove(r,V,C)?c.push(T):h.push(T)}h.push(y);const m=this.makeChanges(h,r),v=new Map;for(const T of c)v.set(T.getID().toIDString(),T),T.remove(r);return this.deleteIndexNodes(h),[m,v]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,r){const s=[];let o,c;for(let h=0;h<e.length-1;h++){const g=e[h],y=e[h+1];g.getNext()!=y&&([o]=this.findIndexesFromRange(g.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&s.push({actor:r.getActorID(),from:o,to:c}))}return s.reverse()}deleteIndexNodes(e){for(let r=0;r<e.length-1;r++){const s=e[r],o=e[r+1];s.getNext()!=o&&this.treeByIndex.deleteRange(s,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const r=e.getPrev(),s=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();r&&r.setNext(s),s&&s.setPrev(r),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}const rb=i=>i<0?Math.ceil(i):Math.floor(i);var zn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(zn||{});class Lt extends ks{valueType;value;constructor(e,r,s){switch(super(s),this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=me.fromNumber(r).toInt():this.value=rb(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=me.fromNumber(r):this.value=r;break;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,s){return new Lt(e,r,s)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return me.fromBytesLE(Array.from(r));default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Lt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof me?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Lt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(s){if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ye.Long?this.value=this.value+e.getValue().toInt():this.value=me.fromNumber(this.value+rb(e.getValue())).toInt(),this}}class Ia extends Cn{value;constructor(e,r,s){super(e,s),this.value=r}static create(e,r,s){return new Ia(e,r,s)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Lt))throw new N(A.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const s=r,o=this.value.deepcopy();return s.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),s=e.getType()===Ye.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ia.create(this.getParentCreatedAt(),je.of(s,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class oi extends Cn{fromPos;toPos;attributes;attributesToRemove;constructor(e,r,s,o,c,h){super(e,h),this.fromPos=r,this.toPos=s,this.attributes=o,this.attributesToRemove=c}static create(e,r,s,o,c){return new oi(e,r,s,o,[],c)}static createTreeRemoveStyleOperation(e,r,s,o,c){return new oi(e,r,s,new Map,o,c)}execute(e,r,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ht))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,g,y={data:0,meta:0};if(this.attributes.size){const m={};[...this.attributes].forEach(([v,T])=>m[v]=T),[g,h,y]=c.style([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}else{const m=this.attributesToRemove;[g,h,y]=c.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}e.acc(y);for(const m of g)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:T,fromPath:V,toPath:C})=>({type:"tree-style",from:m,to:v,value:this.attributes.size?{attributes:T}:{attributesToRemove:T},fromPath:V,toPath:C,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${s},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ci extends Cn{createdAt;value;constructor(e,r,s,o){super(e,o),this.createdAt=r,this.value=s}static create(e,r,s,o){return new ci(e,r,s,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute set");const s=r.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,s),c=this.value.deepcopy();return r.insertAfter(this.createdAt,c,this.getExecutedAt()),r.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,r){return ci.create(this.getParentCreatedAt(),e.getCreatedAt(),r)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function T2(i){const e={};for(const[r,s]of Object.entries(i))e[r]=JSON.stringify(s);return H(n2,{data:e})}function R2(i){if(i.type===Mn.Put)return H(Qp,{type:zs.PUT,presence:T2(i.presence)});if(i.type===Mn.Clear)return H(Qp,{type:zs.CLEAR});throw new N(A.ErrUnimplemented,"unimplemented type")}function I2(i){return H(i2,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function zf(i){return H(fh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Xo(i.getActorID()),versionVector:ph(i.getVersionVector())})}function Q(i){if(i)return H(a2,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Xo(i.getActorID())})}function ph(i){if(!i)return;const e=H(hh);for(const[r,s]of i){const o=uT(Xo(r));e.vector[o]=BigInt(s.toString())}return e}function Ov(i){switch(i){case Ye.Null:return ue.NULL;case Ye.Boolean:return ue.BOOLEAN;case Ye.Integer:return ue.INTEGER;case Ye.Long:return ue.LONG;case Ye.Double:return ue.DOUBLE;case Ye.String:return ue.STRING;case Ye.Bytes:return ue.BYTES;case Ye.Date:return ue.DATE;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function Vv(i){switch(i){case zn.Int:return ue.INTEGER_CNT;case zn.Long:return ue.LONG_CNT;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function po(i){if(i instanceof vt)return H(sa,{type:ue.JSON_OBJECT,createdAt:Q(i.getCreatedAt()),value:Wv(i)});if(i instanceof St)return H(sa,{type:ue.JSON_ARRAY,createdAt:Q(i.getCreatedAt()),value:aT(i)});if(i instanceof Ft)return H(sa,{type:ue.TEXT,createdAt:Q(i.getCreatedAt())});if(i instanceof je)return H(sa,{type:Ov(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Lt)return H(sa,{type:Vv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Ht)return H(sa,{type:ue.TREE,createdAt:Q(i.getCreatedAt()),value:lT(i)});throw new N(A.ErrUnimplemented,"unimplemented element")}function C2(i){return H($N,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function bo(i){return H(r2,{createdAt:Q(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function vo(i){return H(t2,{parentId:Ds(i.getParentID()),leftSiblingId:Ds(i.getLeftSiblingID())})}function Ds(i){return H(e2,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function Yf(i){const e=H(dh);if(i instanceof vr){const r=i,s=H(xN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.key=r.getKey(),s.value=po(r.getValue()),s.executedAt=Q(r.getExecutedAt()),e.body.case="set",e.body.value=s}else if(i instanceof ki){const r=i,s=H(BN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.prevCreatedAt=Q(r.getPrevCreatedAt()),s.value=po(r.getValue()),s.executedAt=Q(r.getExecutedAt()),e.body.case="add",e.body.value=s}else if(i instanceof Tn){const r=i,s=H(UN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.prevCreatedAt=Q(r.getPrevCreatedAt()),s.createdAt=Q(r.getCreatedAt()),s.executedAt=Q(r.getExecutedAt()),e.body.case="move",e.body.value=s}else if(i instanceof Zn){const r=i,s=H(LN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.createdAt=Q(r.getCreatedAt()),s.executedAt=Q(r.getExecutedAt()),e.body.case="remove",e.body.value=s}else if(i instanceof js){const r=i,s=H(MN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.from=bo(r.getFromPos()),s.to=bo(r.getToPos()),s.content=r.getContent();const o=s.attributes;for(const[c,h]of r.getAttributes())o[c]=h;s.executedAt=Q(r.getExecutedAt()),e.body.case="edit",e.body.value=s}else if(i instanceof Fs){const r=i,s=H(ZN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.from=bo(r.getFromPos()),s.to=bo(r.getToPos());const o=s.attributes;for(const[c,h]of r.getAttributes())o[c]=h;s.executedAt=Q(r.getExecutedAt()),e.body.case="style",e.body.value=s}else if(i instanceof Ia){const r=i,s=H(zN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.value=po(r.getValue()),s.executedAt=Q(r.getExecutedAt()),e.body.case="increase",e.body.value=s}else if(i instanceof Hs){const r=i,s=H(YN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.from=vo(r.getFromPos()),s.to=vo(r.getToPos()),s.contents=U2(r.getContents()),s.splitLevel=r.getSplitLevel(),s.executedAt=Q(r.getExecutedAt()),e.body.case="treeEdit",e.body.value=s}else if(i instanceof oi){const r=i,s=H(_N);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.from=vo(r.getFromPos()),s.to=vo(r.getToPos());const o=r.getAttributesToRemove();if(o.length>0)s.attributesToRemove=o;else{const c=s.attributes;for(const[h,g]of r.getAttributes())c[h]=g}s.executedAt=Q(r.getExecutedAt()),e.body.case="treeStyle",e.body.value=s}else if(i instanceof ci){const r=i,s=H(GN);s.parentCreatedAt=Q(r.getParentCreatedAt()),s.createdAt=Q(r.getCreatedAt()),s.value=po(r.getValue()),s.executedAt=Q(r.getExecutedAt()),e.body.case="arraySet",e.body.value=s}else throw new N(A.ErrUnimplemented,"unimplemented operation");return e}function w2(i){const e=[];for(const r of i)e.push(Yf(r));return e}function D2(i){const e=H(VN,{id:zf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=w2(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=R2(i.getPresenceChange())),e}function O2(i){const e=[];for(const r of i)e.push(D2(r));return e}function V2(i){const e=[];for(const r of i)e.push(H(FN,{key:r.getStrKey(),element:vh(r.getValue())}));return e}function x2(i){const e=[];for(const r of i)e.push(H(HN,{element:vh(r.getValue())}));return e}function B2(i){const e=[];for(const r of i){const s=H(QN);s.id=C2(r.getID()),s.value=r.getValue().getContent(),s.removedAt=Q(r.getRemovedAt());const o=s.attributes,c=r.getValue().getAttrs();for(const h of c){const g=H(mv);g.value=h.getValue(),g.updatedAt=Q(h.getUpdatedAt()),o[h.getKey()]=g}e.push(s)}return e}function U2(i){const e=[];if(!i||!i.length)return e;for(const r of i)e.push(H(qN,{content:bh(r)}));return e}function L2(i){const e={};for(const r of i)e[r.getKey()]=H(mv,{value:r.getValue(),updatedAt:Q(r.getUpdatedAt()),isRemoved:r.isRemoved()});return e}function bh(i){if(!i)return[];const e=[];return Go(i,(r,s)=>{const o=H(PN,{id:Ds(r.id),type:r.type,removedAt:Q(r.removedAt),depth:s});r.isText&&(o.value=r.value),r.insPrevID&&(o.insPrevId=Ds(r.insPrevID)),r.insNextID&&(o.insNextId=Ds(r.insNextID)),r.attrs&&(o.attributes=L2(r.attrs)),e.push(o)}),e}function M2(i){return H(hn,{body:{case:"jsonObject",value:H(KN,{nodes:V2(i.getRHT()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function xv(i){return H(hn,{body:{case:"jsonArray",value:H(WN,{nodes:x2(i.getElements()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Z2(i){return H(hn,{body:{case:"primitive",value:H(XN,{type:Ov(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function z2(i){return H(hn,{body:{case:"text",value:H(JN,{nodes:B2(i.getRGATreeSplit()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Y2(i){return H(hn,{body:{case:"counter",value:H(kN,{type:Vv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Bv(i){return H(hn,{body:{case:"tree",value:H(jN,{nodes:bh(i.getRoot()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function vh(i){if(i instanceof vt)return M2(i);if(i instanceof St)return xv(i);if(i instanceof je)return Z2(i);if(i instanceof Ft)return z2(i);if(i instanceof Lt)return Y2(i);if(i instanceof Ht)return Bv(i);throw new N(A.ErrUnimplemented,"unimplemented element")}function _2(i){return H(ON,{documentKey:i.getDocumentKey(),checkpoint:I2(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:O2(i.getChanges()),snapshot:i.getSnapshot(),versionVector:ph(i.getVersionVector())})}function G2(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?PE(i.createdAt):new Date}}function Rs(i){if(!(i instanceof xe))return{};const e=i.findDetails(u2);for(const r of e)return r.metadata;return{}}function ua(i){return Rs(i).code??""}function Tf(i,e){return i instanceof xe&&ua(i)===e}function Uv(i){return An.of(i.clientSeq,BigInt(i.lamport),Th(i.actorId),Sh(i.versionVector),BigInt(i.serverSeq))}function Sh(i){if(!i)return;const e=new da;return Object.entries(i.vector).forEach(([r,s])=>{const o=Wo(oT(r));e.set(o,BigInt(s.toString()))}),e}function P(i){if(i)return un.of(BigInt(i.lamport),i.delimiter,Th(i.actorId))}function Ah(i){const e={};return Object.entries(i.data).forEach(([r,s])=>{e[r]=JSON.parse(s)}),e}function K2(i){const e=i.type;if(e===zs.PUT){const r=Ah(i.presence);return{type:Mn.Put,presence:r}}if(e===zs.CLEAR)return{type:Mn.Clear};throw new N(A.ErrInvalidType,`unsupported type: ${e}`)}function W2(i){const e=new Map;return Object.entries(i).forEach(([r,s])=>{e.set(r,Ah(s))}),e}function Lv(i){switch(i){case ue.NULL:return Ye.Null;case ue.BOOLEAN:return Ye.Boolean;case ue.INTEGER:return Ye.Integer;case ue.LONG:return Ye.Long;case ue.DOUBLE:return Ye.Double;case ue.STRING:return Ye.String;case ue.BYTES:return Ye.Bytes;case ue.DATE:return Ye.Date}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function Uo(i){switch(i){case ue.INTEGER_CNT:return zn.Int;case ue.LONG_CNT:return zn.Long}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function So(i){switch(i.type){case ue.JSON_OBJECT:return i.value?Kv(i.value):vt.create(P(i.createdAt));case ue.JSON_ARRAY:return i.value?rT(i.value):St.create(P(i.createdAt));case ue.TEXT:return Ft.create(Ra.create(),P(i.createdAt));case ue.TREE:return sT(i.value);case ue.NULL:case ue.BOOLEAN:case ue.INTEGER:case ue.LONG:case ue.DOUBLE:case ue.STRING:case ue.BYTES:case ue.DATE:return je.of(je.valueFromBytes(Lv(i.type),i.value),P(i.createdAt));case ue.INTEGER_CNT:case ue.LONG_CNT:return Lt.create(Uo(i.type),Lt.valueFromBytes(Uo(i.type),i.value),P(i.createdAt))}}function Ao(i){return In.of(Ln.of(P(i.createdAt),i.offset),i.relativeOffset)}function Mv(i){return Ln.of(P(i.createdAt),i.offset)}function X2(i){const e=Gs.create(i.value);Object.entries(i.attributes).forEach(([s,o])=>{e.setAttr(s,o.value,P(o.updatedAt))});const r=Ki.create(Mv(i.id),e);return r.setRemovedAt(P(i.removedAt)),r}function la(i){return Rn.of(Os(i.parentId),Os(i.leftSiblingId))}function Os(i){return pt.of(P(i.createdAt),i.offset)}function J2(i){if(!i.length)return;const e=[];return i.forEach(r=>{const s=Eh(r.content);e.push(s)}),e}function Eh(i){if(i.length===0)return;const e=[];for(const o of i)e.push(j2(o));const r=e[e.length-1],s=new Map;s.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)s.get(i[o].depth-1).prepend(e[o]),s.set(i[o].depth,e[o]);return r.updateDescendantsSize(),r.updateDescendantsSize(!0),Ht.create(r,Sa).getRoot()}function k2(i){const e=ui.create();for(const[r,s]of Object.entries(i))e.setInternal(r,s.value,P(s.updatedAt),s.isRemoved);return e}function j2(i){const e=Os(i.id),r=jt.create(e,i.type),s=Object.entries(i.attributes);return r.isText?r.value=i.value:s.length&&(r.attrs=k2(i.attributes)),i.insPrevId&&(r.insPrevID=Os(i.insPrevId)),i.insNextId&&(r.insNextID=Os(i.insNextId)),r.removedAt=P(i.removedAt),r}function Zv(i){if(i.body.case==="set"){const e=i.body.value;return vr.create(e.key,So(e.value),P(e.parentCreatedAt),P(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return ki.create(P(e.parentCreatedAt),P(e.prevCreatedAt),So(e.value),P(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Tn.create(P(e.parentCreatedAt),P(e.prevCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Zn.create(P(e.parentCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([s,o])=>{r.set(s,o)}),js.create(P(e.parentCreatedAt),Ao(e.from),Ao(e.to),e.content,r,P(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([s,o])=>{r.set(s,o)}),Fs.create(P(e.parentCreatedAt),Ao(e.from),Ao(e.to),r,P(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Ia.create(P(e.parentCreatedAt),So(e.value),P(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create(P(e.parentCreatedAt),la(e.from),la(e.to),J2(e.contents),e.splitLevel,P(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,r=new Map,s=e.attributesToRemove;return s?.length>0?oi.createTreeRemoveStyleOperation(P(e.parentCreatedAt),la(e.from),la(e.to),s,P(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{r.set(o,c)}),oi.create(P(e.parentCreatedAt),la(e.from),la(e.to),r,P(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return ci.create(P(e.parentCreatedAt),P(e.createdAt),So(e.value),P(e.executedAt))}else throw new N(A.ErrUnimplemented,"unimplemented operation")}function F2(i){const e=[];for(const r of i){const s=Zv(r);s&&e.push(s)}return e}function zv(i){const e=[];for(const r of i)e.push(Ta.create({id:Uv(r.id),operations:F2(r.operations),presenceChange:r.presenceChange?K2(r.presenceChange):void 0,message:r.message}));return e}function H2(i){return ga.of(BigInt(i.serverSeq),i.clientSeq)}function Q2(i){return Ko.create(i.documentKey,H2(i.checkpoint),i.isRemoved,zv(i.changes),Sh(i.versionVector),i.snapshot)}function Yv(i){const e=new Aa;for(const s of i.nodes){const o=Nh(s.element);e.set(s.key,o,o.getPositionedAt())}const r=new vt(P(i.createdAt),e);return r.setMovedAt(P(i.movedAt)),r.setRemovedAt(P(i.removedAt)),r}function _v(i){const e=new _s;for(const s of i.nodes)e.insert(Nh(s.element));const r=new St(P(i.createdAt),e);return r.setMovedAt(P(i.movedAt)),r.setRemovedAt(P(i.removedAt)),r}function $2(i){const e=je.of(je.valueFromBytes(Lv(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function P2(i){const e=new Ra;let r=e.getHead();for(const o of i.nodes){const c=e.insertAfter(r,X2(o));o.insPrevId&&c.setInsPrev(e.findNode(Mv(o.insPrevId))),r=c}const s=new Ft(e,P(i.createdAt));return s.setMovedAt(P(i.movedAt)),s.setRemovedAt(P(i.removedAt)),s}function q2(i){const e=Lt.create(Uo(i.type),Lt.valueFromBytes(Uo(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function Gv(i){const e=Eh(i.nodes);return Ht.create(e,P(i.createdAt))}function Nh(i){if(i.body.case==="jsonObject")return Yv(i.body.value);if(i.body.case==="jsonArray")return _v(i.body.value);if(i.body.case==="primitive")return $2(i.body.value);if(i.body.case==="text")return P2(i.body.value);if(i.body.case==="counter")return q2(i.body.value);if(i.body.case==="tree")return Gv(i.body.value);throw new N(A.ErrUnimplemented,"unimplemented element")}function eT(i){return i.map(e=>({path:e.path,type:e.type}))}function tT(i){if(!i)return{root:vt.create(Sa),presences:new Map};const e=fn(DN,i);return{root:Nh(e.root),presences:W2(e.presences)}}function nT(i){const e=ph(i);return Wo(Ji(hh,e))}function iT(i){const e=Rh(i),r=fn(hh,e);return Sh(r)}function Kv(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Yv(e.body.value)}function Wv(i){return Ji(hn,vh(i))}function rT(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return _v(e.body.value)}function aT(i){return Ji(hn,xv(i))}function sT(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Gv(e.body.value)}function lT(i){return Ji(hn,Bv(i))}function Wo(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Th(i){return Wo(i)}function Rh(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function oT(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),r=e.length,s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=e.charCodeAt(o);return s}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Xo(i){return Rh(i)}function uT(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let r=0;r<i.byteLength;r++)e+=String.fromCharCode(i[r]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function cT(i){const e=fn(fh,i);return Uv(e)}function fT(i){const e=fn(dh,i);return Zv(e)}const Ke={fromPresence:Ah,toChangePack:_2,fromChangePack:Q2,fromChanges:zv,toTreeNodes:bh,fromTreeNodes:Eh,objectToBytes:Wv,bytesToObject:Kv,bytesToSnapshot:tT,bytesToHex:Wo,hexToBytes:Rh,toHexString:Th,toUint8Array:Xo,toOperation:Yf,toChangeID:zf,bytesToChangeID:cT,bytesToOperation:fT,versionVectorToHex:nT,hexToVersionVector:iT,fromSchemaRules:eT,toRevisionSummary:G2,changeIDToBinary:i=>Ji(fh,zf(i)),operationToBinary:i=>Ji(dh,Yf(i))};var xt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(xt||{});let gr=3;function hT(i){gr=i}const G={trivial:(...i)=>{gr>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{gr>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{gr>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{gr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{gr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>gr<=i};function Xv(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const Rf=()=>{};class dT{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(r){this.error(r)}}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let o;if(!e)throw new N(A.ErrInvalidArgument,"missing observer");if(this.finalized)throw new N(A.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:r,complete:s},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const c=Xv(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(g){G.warn(g)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(r=>r.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e].observer)}catch(s){G.error(s)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function Jv(i){const e=new dT(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Vs{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,r,s,o){this.prevID=e,this.nextID=e.next(),this.delimiter=pv,this.root=r,this.operations=[],this.previousPresence=Sn(s),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,r,s,o){return new Vs(e,r,s,o)}push(e){this.operations.push(e)}registerElement(e,r){this.root.registerElement(e,r)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ta.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,r){for(const s of Object.keys(e))r?.addToHistory?this.reversePresenceKeys.add(s):this.reversePresenceKeys.delete(s)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const r of this.reversePresenceKeys)e[r]=this.previousPresence[r];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function kv(i,e){const r=new Ks(i);return new Proxy(e,r.getHandlers())}class Ks{context;handlers;constructor(e){this.context=e,this.handlers={set:(r,s,o)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${s}]=${JSON.stringify(o)}`),Ks.setInternal(e,r,s,o),!0),get:(r,s)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${s}]`),s==="getID"?()=>r.getCreatedAt():s==="toJSON"||s==="toString"?()=>r.toJSON():s==="toJS"?()=>r.toJS():s==="toJSForTest"?()=>r.toJSForTest():mr(e,r.get(s))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,s)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${s}]`),Ks.deleteInternal(e,r,s),!0)}}static setInternal(e,r,s,o){if(s.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=xs(e,o,c),g=r.set(s,h,c);e.registerElement(h,r),g&&e.registerRemovedElement(g),e.push(vr.create(s,h.deepcopy(),r.getCreatedAt(),c))}static buildObjectMembers(e,r){const s={};for(const[o,c]of Object.entries(r)){if(o.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),g=xs(e,c,h);s[o]=g}return s}static deleteInternal(e,r,s){const o=e.issueTimeTicket(),c=r.deleteByKey(s,o);c&&(e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function gT(i,e){const r=new De(i,e);return new Proxy(e,r.getHandlers())}function ab(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function mT(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class De{context;handlers;array;constructor(e,r){this.context=e,this.array=r,this.handlers={get:(s,o,c)=>o==="getID"?()=>s.getCreatedAt():o==="getElementByID"?h=>{const g=s.getByID(h);if(!(!g||g.isRemoved()))return vn(e,g)}:o==="getElementByIndex"?h=>{const g=s.get(h);return vn(e,g)}:o==="getLast"?()=>vn(e,s.getLast()):o==="delete"?h=>{const g=De.deleteInternalByIndex(e,s,h);return vn(e,g)}:o==="deleteByID"?h=>{const g=De.deleteInternalByID(e,s,h);return vn(e,g)}:o==="insertAfter"?(h,g)=>{const y=De.insertAfterInternal(e,s,h,g);return vn(e,y)}:o==="insertIntegerAfter"?(h,g)=>{const y=De.insertIntegerAfterInternal(e,s,h,g);return vn(e,y)}:o==="insertBefore"?(h,g)=>{const y=De.insertBeforeInternal(e,s,h,g);return vn(e,y)}:o==="setValue"?(h,g)=>{const y=De.setValueInternal(e,s,h,g);return vn(e,y)}:o==="moveBefore"?(h,g)=>{De.moveBeforeInternal(e,s,h,g)}:o==="moveAfter"?(h,g)=>{De.moveAfterInternal(e,s,h,g)}:o==="moveAfterByIndex"?(h,g)=>{De.moveAfterByIndexInternal(e,s,h,g)}:o==="moveFront"?h=>{De.moveFrontInternal(e,s,h)}:o==="moveLast"?h=>{De.moveLastInternal(e,s,h)}:ab(o)?mr(e,s.get(Number(o))):o==="push"?h=>De.pushInternal(e,s,h):o==="splice"?(h,g,...y)=>De.splice(e,s,h,g,...y):o==="length"?s.length:typeof o=="symbol"&&o===Symbol.iterator?De.iteratorInternal.bind(this,e,s):o==="includes"?(h,g)=>De.includes(e,s,h,g):o==="indexOf"?(h,g)=>De.indexOf(e,s,h,g):o==="lastIndexOf"?(h,g)=>De.lastIndexOf(e,s,h,g):o==="toJSForTest"?()=>s.toJSForTest():o==="toTestString"?()=>De.toTestString(s):typeof o=="string"&&mT(o)?(...h)=>{const g=Array.from(s).map(y=>mr(e,y));return Array.prototype[o].apply(g,h)}:Reflect.get(s,o,c),set:(s,o,c)=>{if(ab(o)){const h=Number(o);return De.setValueInternal(e,s,h,c),!0}return Reflect.set(s,o,c)},deleteProperty:(s,o)=>(G.isEnabled(xt.Trivial)&&G.trivial(`array[${o}]`),De.deleteInternalByIndex(e,s,Number.parseInt(o)),!0)}}static*iteratorInternal(e,r){for(const s of r)yield vn(e,s)}static buildArrayElements(e,r){const s=[];for(const o of r){const c=e.issueTimeTicket(),h=xs(e,o,c);s.push(h)}return s}static pushInternal(e,r,s){return De.insertAfterInternal(e,r,r.getLastCreatedAt(),s),r.length}static moveBeforeInternal(e,r,s,o){const c=e.issueTimeTicket(),h=r.getPrevCreatedAt(s);r.moveAfter(h,o,c),e.push(Tn.create(r.getCreatedAt(),h,o,c))}static moveAfterInternal(e,r,s,o){const c=e.issueTimeTicket();e.push(Tn.create(r.getCreatedAt(),s,o,c)),r.moveAfter(s,o,c)}static moveAfterByIndexInternal(e,r,s,o){const c=r.get(s);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${s}`);const h=r.get(o);if(!h)throw new N(A.ErrInvalidArgument,`index out of bounds: ${o}`);De.moveAfterInternal(e,r,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,r,s){const o=e.issueTimeTicket(),c=r.getHead();r.moveAfter(c.getCreatedAt(),s,o),e.push(Tn.create(r.getCreatedAt(),c.getCreatedAt(),s,o))}static moveLastInternal(e,r,s){const o=e.issueTimeTicket(),c=r.getLastCreatedAt();r.moveAfter(c,s,o),e.push(Tn.create(r.getCreatedAt(),c,s,o))}static insertAfterInternal(e,r,s,o){const c=e.issueTimeTicket(),h=xs(e,o,c);return r.insertAfter(s,h),e.registerElement(h,r),e.push(ki.create(r.getCreatedAt(),s,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,r,s,o){const c=r.get(s);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${s}`);return De.insertAfterInternal(e,r,c.getCreatedAt(),o),r}static insertBeforeInternal(e,r,s,o){return De.insertAfterInternal(e,r,r.getPrevCreatedAt(s),o)}static setValueInternal(e,r,s,o){const c=r.get(s);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${s}`);return De.setByIndexInternal(e,r,c.getCreatedAt(),o),r}static setByIndexInternal(e,r,s,o){const c=e.issueTimeTicket(),h=xs(e,o,c),g=h.deepcopy();return e.push(ci.create(r.getCreatedAt(),s,g,c)),r.set(s,h,c),e.registerElement(h,r),h}static deleteInternalByIndex(e,r,s){const o=e.issueTimeTicket(),c=r.deleteByIndex(s,o);if(c)return e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,r,s){const o=e.issueTimeTicket(),c=r.delete(s,o);return e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,r,s,o,...c){const h=r.length,g=s>=0?Math.min(s,h):Math.max(h+s,0),y=o===void 0?h:o<0?g:Math.min(g+o,h),m=[];for(let v=g;v<y;v++){const T=De.deleteInternalByIndex(e,r,g);if(T){const V=T.deepcopy();V.setRemovedAt(),m.push(mr(e,V))}}if(c){let v=g===0?r.getHead().getID():r.get(g-1).getID();for(const T of c)v=De.insertAfterInternal(e,r,v,T).getID()}return m}static includes(e,r,s,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(je.isSupport(s))return Array.from(r).map(y=>mr(e,y)).includes(s,h);for(let g=h;g<c;g++)if(r.get(g)?.getID()===s.getID())return!0;return!1}static indexOf(e,r,s,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(je.isSupport(s))return Array.from(r).map(y=>mr(e,y)).indexOf(s,h);for(let g=h;g<c;g++)if(r.get(g)?.getID()===s.getID())return g;return-1}static lastIndexOf(e,r,s,o){const c=r.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(je.isSupport(s))return Array.from(r).map(y=>mr(e,y)).lastIndexOf(s,h);for(let g=h;g>0;g--)if(r.get(g)?.getID()===s.getID())return g;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Ih{context;text;constructor(e,r){this.context=e,this.text=r}initialize(e,r){this.context=e,this.text=r}getID(){return this.text.getID()}edit(e,r,s,o){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,r);G.isEnabled(xt.Debug)&&G.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${r}->${c[1].toTestString()} c:${s}`);const h=o?Na(o):void 0,g=this.context.issueTimeTicket(),[,y,m,v]=this.text.edit(c,s,g,h);this.context.acc(m);for(const T of y)this.context.registerGCPair(T);return this.context.push(new js(this.text.getCreatedAt(),c[0],c[1],s,h?new Map(Object.entries(h)):new Map,g)),this.text.findIndexesFromRange(v)}delete(e,r){return this.edit(e,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,r,s){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,r);G.isEnabled(xt.Debug)&&G.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${r}->${o[1].toTestString()} a:${JSON.stringify(s)}`);const c=Na(s),h=this.context.issueTimeTicket(),[g,y]=this.text.setStyle(o,c,h);this.context.acc(y);for(const m of g)this.context.registerGCPair(m);return this.context.push(new Fs(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const r=this.text.indexRangeToPosRange(e[0],e[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const r=this.text.findIndexesFromRange([In.fromStruct(e[0]),In.fromStruct(e[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,r){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,r)}}let Ch=class{valueType;value;context;counter;constructor(e,r){this.valueType=e,this.value=r}initialize(e,r){this.valueType=r.getValueType(),this.context=e,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");const r=this.context.issueTimeTicket(),s=je.of(e,r);if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`);return this.counter.increase(s),this.context.push(Ia.create(this.counter.getCreatedAt(),s,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function wh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(r=>wh(r))};return i.attrs&&(e.attributes=li(i.attrs.toObject())),e}function yT(i,e){const r={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Un,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(s=>wh(s))};return i.attrs?r.attributes=li(i.attrs.toObject()):i.isText&&i.parent.attrs&&(r.attributes=li(i.parent.attrs.toObject())),r}function pT(i,e){const{node:r}=i,s=[...e].slice(0,-1),o=r.isText?r.parent.getChildrenText().length:r.children.length,c=[...s,o],h=[...s],g=[];h[h.length-1]+=1,e.every((m,v)=>m===c[v])||g.push({fromPath:[...e],toPath:c});const y=yT(r,e[e.length-1]);return y&&g.push({fromPath:h,toPath:h,content:y}),g}function bT(i,e){const{node:r,offset:s}=i,o=r.children[s],c=r.children[s-1],{children:h}=o,g=[...e].slice(0,-1),y=[{fromPath:[...e],toPath:[...g,s+1]}];if(!o.children.length)return y;const m=[...g,s-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],v=h.map(T=>wh(T));return y.push({fromPath:m,toPath:m,content:v}),y}function Dh(i,e,r){const{type:s}=i,o=r.issueTimeTicket();if(s===Un){jv(i);const{value:c}=i,h=jt.create(pt.of(o,0),s,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let g;if(typeof h=="object"&&!Nv(h)){const m=Na(h);g=new ui;for(const[v,T]of Object.entries(m))g.set(v,T,o)}const y=jt.create(pt.of(o,0),s,void 0,g);e.append(y);for(const m of c)Dh(m,y,r)}}function vT(i,e){const{type:r}=e,s=i.issueTimeTicket();let o;if(e.type===Un){const{value:c}=e;o=jt.create(pt.of(s,0),r,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let g;if(typeof h=="object"&&!Nv(h)){const y=Na(h);g=new ui;for(const[m,v]of Object.entries(y))g.set(m,v,s)}o=jt.create(pt.of(i.issueTimeTicket(),0),r,void 0,g);for(const y of c)Dh(y,o,i)}return o}function jv(i){if(!i.value.length)throw new N(A.ErrInvalidArgument,"text node cannot have empty value");return!0}function sb(i){if(!i.length)return!0;if(i[0].type===Un)for(const r of i){const{type:s}=r;if(s!==Un)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together");jv(r)}else for(const r of i){const{type:s}=r;if(s===Un)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Oh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,r){this.context=e,this.tree=r}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return jt.create(pt.of(e.issueTimeTicket(),0),d2);const r=jt.create(pt.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const s of this.initialRoot.children)Dh(s,r,e);return r}getSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e),s=pT(r,e);for(const o of s){const{fromPath:c,toPath:h,content:g}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,g?[g]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e);if(r.node.isText)throw new N(A.ErrInvalidArgument,"text node cannot be merged");const s=bT(r,e);for(const o of s){const{fromPath:c,toPath:h,content:g}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,g??[],0)}}styleByPath(e,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const[s,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=r?Na(r):void 0,[g,,y]=this.tree.style([s,o],h,c);this.context.acc(y);for(const m of g)this.context.registerGCPair(m);this.context.push(oi.create(this.tree.getCreatedAt(),s,o,h?new Map(Object.entries(h)):new Map,c))}style(e,r,s){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),g=s?Na(s):void 0,[y,,m]=this.tree.style([o,c],g,h);this.context.acc(m);for(const v of y)this.context.registerGCPair(v);this.context.push(oi.create(this.tree.getCreatedAt(),o,c,g?new Map(Object.entries(g)):new Map,h))}removeStyle(e,r,s){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),[g,,y]=this.tree.removeStyle([o,c],s,h);this.context.acc(y);for(const m of g)this.context.registerGCPair(m);this.context.push(oi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,s,h))}editInternal(e,r,s,o=0){if(s.length!==0&&s[0]&&(sb(s),s[0].type!==Un))for(const m of s){const{children:v=[]}=m;sb(v)}const c=this.context.getLastTimeTicket();let h=new Array;if(s[0]?.type===Un){let m="";for(const v of s){const{value:T}=v;m+=T}h.push(jt.create(pt.of(this.context.issueTimeTicket(),0),Un,m))}else h=s.map(m=>m&&vT(this.context,m)).filter(m=>m);const[,g,y]=this.tree.edit([e,r],h.length?h.map(m=>m?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const m of g)this.context.registerGCPair(m);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,r,h.length?h:void 0,o,c)),!0}editByPath(e,r,s,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,s?[s]:[],o)}editBulkByPath(e,r,s,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,s,o)}edit(e,r,s,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,s?[s]:[],o)}editBulk(e,r,s,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,s,o)}toXML(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],s=this.tree.indexRangeToPosRange(r);return[s[0].toStruct(),s[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToPathRange(r)}}function lb(i,e){return kv(i,e)}function vn(i,e){if(e){if(e instanceof je)return e;if(e instanceof vt)return kv(i,e);if(e instanceof St)return gT(i,e);if(e instanceof Ft)return new Ih(i,e);if(e instanceof Lt){const r=new Ch(zn.Int,0);return r.initialize(i,e),r}else if(e instanceof Ht){const r=new Oh;return r.initialize(i,e),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function mr(i,e){const r=vn(i,e);return r instanceof je?r.getValue():r}function xs(i,e,r){let s;if(je.isSupport(e))s=je.of(e,r);else if(Array.isArray(e))s=St.create(r,De.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Ih?(s=Ft.create(Ra.create(),r),e.initialize(i,s)):e instanceof Ch?(s=Lt.create(e.getValueType(),e.getValue(),r),e.initialize(i,s)):e instanceof Oh?(s=Ht.create(e.buildRoot(i),r),e.initialize(i,s)):s=vt.create(r,Ks.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return s}class Ws{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(r=>{if(r.getRemovedAt()&&this.registerRemovedElement(r),r instanceof Ft||r instanceof Ht)for(const s of r.getGCPairs())this.registerGCPair(s);return!1})}static create(){return new Ws(vt.create(Sa))}findByCreatedAt(e){const r=this.elementPairMapByCreatedAt.get(e.toIDString());if(r)return r.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let r=this.elementPairMapByCreatedAt.get(e.toIDString());if(!r)return[];const s=[];for(;r.parent;){const o=r.element.getCreatedAt(),c=r.parent.subPathOf(o);if(c===void 0)throw new N(A.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);s.unshift(c),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return s.unshift("$"),s}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,r){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:r,element:e}),yt(this.docSize.live,e.getDataSize()),e instanceof Gi&&e.getDescendants((s,o)=>(this.elementPairMapByCreatedAt.set(s.getCreatedAt().toIDString(),{parent:o,element:s}),yt(this.docSize.live,s.getDataSize()),!1))}deregisterElement(e){let r=0;const s=o=>{const c=o.getCreatedAt().toIDString();pr(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),r++};return s(e),e instanceof Gi&&e.getDescendants(o=>(s(o),!1)),r}registerRemovedElement(e){yt(this.docSize.gc,e.getDataSize()),pr(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Bn,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const s=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();yt(this.docSize.gc,s),pr(this.docSize.live,s),e.child instanceof _i||(this.docSize.live.meta+=Bn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const r of this.gcElementSetByCreatedAt){e.add(r);const s=this.elementPairMapByCreatedAt.get(r);s.element instanceof Gi&&s.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Ws(this.rootObject.deepcopy())}garbageCollect(e){let r=0;for(const s of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(s),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),r+=this.deregisterElement(o.element))}for(const[,s]of this.gcPairMap){const o=s.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(s.parent.purge(s.child),pr(this.docSize.gc,s.child.getDataSize()),this.gcPairMap.delete(s.child.toIDString()),r+=1)}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){yt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(e);r&&(yield r)}}}let ob=class{context;presence;constructor(e,r){this.context=e,this.presence=r}set(e,r){for(const s of Object.keys(e))this.presence[s]=e[s];this.context.setPresenceChange({type:Mn.Put,presence:Sn(this.presence)}),this.context.setReversePresence(e,r)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Mn.Clear})}};const ub=50;class ST{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=ub&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=ub&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,r){const s=o=>{for(const c of o)for(const h of c)(h instanceof ci||h instanceof Zn||h instanceof Tn)&&h.getCreatedAt()===e&&h.setCreatedAt(r),(h instanceof ki||h instanceof Tn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(r)};s(this.undoStack),s(this.redoStack)}}function AT(i,e){const r=[];for(const s of e){const o=ET(i,s.path),c=NT(o,s);if(!c.valid)for(const h of c.errors||[])r.push(h)}return{valid:r.length===0,errors:r}}function ET(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const r=e.split(".");let s=i;for(let o=1;o<r.length;o++){const c=r[o];if(!(s instanceof vt))return;s=s.get(c)}return s}function NT(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return RT(i,e);case"object":if(!(i instanceof vt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof St))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof Ft))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Ht))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof Lt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function TT(i){switch(i){case"null":return Ye.Null;case"boolean":return Ye.Boolean;case"integer":return Ye.Integer;case"long":return Ye.Long;case"double":return Ye.Double;case"string":return Ye.String;case"bytes":return Ye.Bytes;case"date":return Ye.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function RT(i,e){return i instanceof je&&i.getType()===TT(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const IT="yorkie-devtools-panel",CT="yorkie-devtools-sdk";function wT(i){return[ut.StatusChanged,ut.Snapshot,ut.LocalChange,ut.RemoteChange,ut.Initialized,ut.Watched,ut.Unwatched,ut.PresenceChanged].includes(i.type)}function DT(i){return i.every(wT)}let ca="disconnected";const cb=new Map,Ro=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ro);function Eo(i,e){(e?.force||ca!=="disconnected")&&window.postMessage({source:CT,...i},"*")}function OT(i){if(!i.isEnableDevtools()||typeof window>"u"||cb.has(i.getKey()))return;Ro.set(i.getKey(),[]);const e=i.subscribe("all",r=>{DT(r)&&(Ro.get(i.getKey()).push(r),ca==="synced"&&Eo({msg:"doc::sync::partial",docKey:i.getKey(),event:r}))});cb.set(i.getKey(),[e]),Eo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{if(r.data?.source!==IT)return;switch(r.data.msg){case"devtools::connect":if(ca!=="disconnected")break;ca="connected",Eo({msg:"doc::available",docKey:i.getKey()}),G.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":ca="disconnected",G.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":ca="synced",Eo({msg:"doc::sync::full",docKey:i.getKey(),events:Ro.get(i.getKey())}),G.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),ut=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(ut||{}),Wi=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(Wi||{}),_f=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(_f||{});class Yi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,r){this.key=e,this.status="detached",this.opts=r||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=A2,this.checkpoint=E2,this.localChanges=[],this.root=Ws.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new ST,this.isUpdating=!1,this.eventStream=Jv(s=>this.eventStreamObserver=s),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},OT(this)}update(e,r){if(this.getStatus()==="removed")throw new N(A.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const s=this.changeID.getActorID(),o=Vs.create(this.changeID,this.clone.root,this.clone.presences.get(s)||{},r);try{const g=lb(o,this.clone.root.getObject());this.presences.has(s)||this.clone.presences.set(s,{}),this.isUpdating=!0,e(g,new ob(o,this.clone.presences.get(s)))}catch(g){throw this.clone=void 0,g}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const g=AT(this.clone?.root.getObject(),c);if(!g.valid)throw this.clone=void 0,new N(A.ErrDocumentSchemaValidationFailed,`schema validation failed: ${g.errors?.map(y=>y.message).join(", ")}`)}const h=f2(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new N(A.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){G.isEnabled(xt.Trivial)&&G.trivial(`trying to update a local change: ${this.toJSON()}`);const g=o.toChange(),{opInfos:y,reverseOps:m}=g.execute(this.root,this.presences,Je.Local);for(const V of g.getOperations())V instanceof ci&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const v=o.getReversePresence();v&&m.push({type:"presence",value:v}),this.localChanges.push(g),m.length&&this.internalHistory.pushUndo(m),y.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const T=[];y.length&&T.push({type:"local-change",source:Je.Local,value:{message:g.getMessage()||"",operations:y,actor:s,clientSeq:g.getID().getClientSeq(),serverSeq:g.getID().getServerSeq()},rawChange:this.isEnableDevtools()?g.toStruct():void 0}),g.hasPresenceChange()&&T.push({type:"presence-changed",source:Je.Local,value:{clientID:s,presence:this.getPresence(s)}}),this.publish(T),G.isEnabled(xt.Trivial)&&G.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,r,s,o){if(typeof e=="string"){if(typeof r!="function")throw new N(A.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||g(m)},s,o)}if(e==="my-presence"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="presence-changed"||m.type==="presence-changed"&&m.value.clientID!==this.changeID.getActorID()||g(m)},s,o)}if(e==="others"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||m.value.clientID!==this.changeID.getActorID()&&g(m)},s,o)}if(e==="connection"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="connection-changed"&&g(m)},s,o)}if(e==="status"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="status-changed"&&g(m)},s,o)}if(e==="sync"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="sync-status-changed"&&g(m)},s,o)}if(e==="auth-error"){const g=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="auth-error"&&g(m)},s)}if(e==="all"){const g=r;return this.eventStream.subscribe(g,s,o)}const c=e,h=r;return this.eventStream.subscribe(g=>{for(const y of g){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const m=[];for(const v of y.value.operations)this.isSameElementOrChildOf(v.path,c)&&m.push(v);m.length&&h({...y,value:{...y.value,operations:m}})}},s,o)}if(typeof e=="function"){const c=e,h=r,g=s;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="snapshot"&&m.type!=="local-change"&&m.type!=="remote-change"||c(m)},h,g)}throw new N(A.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Je.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),G.isEnabled(xt.Trivial)&&G.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Sn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(e.length);return Ko.create(this.key,r,!1,e,this.getVersionVector())}setActor(e){for(const r of this.localChanges)r.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Vs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return lb(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,r,s,o=-1){const{root:c,presences:h}=Ke.bytesToSnapshot(s);this.root=new Ws(c),this.presences=h,this.changeID=this.changeID.setClocks(r.maxLamport(),r),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,Je.Local),this.publish([{type:"snapshot",source:Je.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?Ke.bytesToHex(s):void 0,snapshotVector:Ke.versionVectorToHex(r)}}])}applyChanges(e,r){G.isEnabled(xt.Debug)&&G.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),G.isEnabled(xt.Trivial)&&G.trivial(e.map(s=>`${s.getID().toTestString()}	${s.toTestString()}`).join(`
`));for(const s of e)this.applyChange(s,r);G.isEnabled(xt.Debug)&&G.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,r){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,r);const s=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const h=e.getPresenceChange();switch(h.type){case Mn.Put:s.push(this.presences.has(o)?{type:"presence-changed",source:r,value:{clientID:o,presence:h.presence}}:{type:"watched",source:Je.Remote,value:{clientID:o,presence:h.presence}});break;case Mn.Clear:s.push({type:"unwatched",source:Je.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c}=e.execute(this.root,this.presences,r);if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const h=this.isEnableDevtools()?e.toStruct():void 0;s.push(r===Je.Remote?{type:"remote-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h})}s.length&&this.publish(s)}applyWatchStream(e){if(e.body.case==="initialization"){const r=e.body.value.clientIds,s=new Set;for(const o of r)o!==this.changeID.getActorID()&&s.add(o);this.setOnlineClients(s),this.publish([{type:"initialized",source:Je.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:r,publisher:s}=e.body.value,o=[];if(r===Oo.DOCUMENT_WATCHED){if(this.onlineClients.has(s)&&this.hasPresence(s))return;this.addOnlineClient(s),this.hasPresence(s)&&o.push({type:"watched",source:Je.Remote,value:{clientID:s,presence:this.getPresence(s)}})}else if(r===Oo.DOCUMENT_UNWATCHED){const c=this.getPresence(s);this.removeOnlineClient(s),c&&o.push({type:"unwatched",source:Je.Remote,value:{clientID:s,presence:c}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(gh),this.publish([{source:e==="removed"?Je.Remote:Je.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const r of e){if(r.type==="status-changed"){this.applyStatus(r.value.status),r.value.status==="attached"&&this.setActor(r.value.actorID);continue}if(r.type==="snapshot"){const{snapshot:s,serverSeq:o,snapshotVector:c}=r.value;if(!s)continue;this.applySnapshot(BigInt(o),Ke.hexToVersionVector(c),Ke.hexToBytes(s));continue}if(r.type==="local-change"||r.type==="remote-change"){if(!r.rawChange)continue;const s=Ta.fromStruct(r.rawChange);this.applyChange(s,r.source)}if(r.type==="initialized"){const s=new Set;for(const{clientID:o,presence:c}of r.value)s.add(o),this.presences.set(o,c);this.setOnlineClients(s)}else if(r.type==="watched"){const{clientID:s,presence:o}=r.value;this.addOnlineClient(s),this.presences.set(s,o)}else if(r.type==="unwatched"){const{clientID:s}=r.value;this.removeOnlineClient(s),this.presences.delete(s)}else if(r.type==="presence-changed"){const{clientID:s,presence:o}=r.value;this.presences.set(s,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new N(A.ErrInvalidArgument,'path must start with "$"');const r=e.split(".");r.shift();let s=this.getRoot();for(const o of r)if(s=s[o],!s)return;return s}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Sn(e):{}}getOthersPresences(){const e=[],r=this.changeID.getActorID();for(const s of this.onlineClients)s!==r&&this.presences.has(s)&&e.push({clientID:s,presence:Sn(this.presences.get(s))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const r=this.presences.get(e);return r?Sn(r):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Sn(this.getMyPresence())});for(const r of this.onlineClients)this.presences.has(r)&&e.push({clientID:r,presence:Sn(this.presences.get(r))});return e}getPresenceForTest(e){const r=this.presences.get(e);return r?Sn(r):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==e).sort((r,s)=>r.clientID>s.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,r){if(r===e)return!0;const s=e.split(".");return r.split(".").every((o,c)=>o===s[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new N(A.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const r=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!r)throw new N(A.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const s=Vs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const v of r){if(!(v instanceof Cn)){new ob(s,Sn(this.clone.presences.get(this.changeID.getActorID()))).set(v.value,{addToHistory:!0});continue}const T=s.issueTimeTicket();if(v.setExecutedAt(T),v instanceof ci){const V=v.getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}else if(v instanceof ki){const V=v.getValue().getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}s.push(v)}const o=s.toChange();o.execute(this.clone.root,this.clone.presences,Je.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,Je.UndoRedo),g=s.getReversePresence();if(g&&h.push({type:"presence",value:g}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=s.getNextID();const y=this.changeID.getActorID(),m=[];c.length&&m.push({type:"local-change",source:Je.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:y,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&m.push({type:"presence-changed",source:Je.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(m)}}class fb{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,r,s,o){this.reconnectStreamDelay=e,this.resource=r,this.resourceID=s,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Cs.RealtimeSyncOff?!1:this.syncMode===Cs.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Cs.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Yi?this.needRealtimeSync():this.syncMode===Cs.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay))})}catch{}};await r()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function VT(i,e){let r=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),r&&h.header.set("authorization",r),await c(h)),setToken:c=>{r=c}}}const xT="@yorkie-js/sdk",BT="0.6.41-rc3",hb={name:xT,version:BT};function UT(i){return e=>async r=>(i?r.header.set("x-yorkie-user-agent",i):r.header.set("x-yorkie-user-agent",hb.name+"/"+hb.version),await e(r))}const LT=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Is=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Is||{}),ha=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(ha||{});const Ts=".";class zi{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=Jv(r=>this.eventStreamObserver=r)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ts)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,r){return r===0||r>this.seq?(this.count=e,this.seq=r,!0):!1}hasLocalChanges(){return!1}subscribe(e,r){if(typeof e=="function")return this.eventStream.subscribe(e);const s=e,o=r;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(s==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(s==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(s==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(s==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(s==="all")return this.eventStream.subscribe(o);const c=s;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,r,s){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:r,options:s})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ts))throw new Error("channel key must not start with a period");if(e.endsWith(Ts))throw new Error("channel key must not end with a period");if(e.includes(`${Ts}${Ts}`))throw new Error("channel key path must not empty")}}var Cs=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Cs||{});const oa={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},If={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Fv{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||oa;const r=e.rpcAddr||oa.rpcAddr;this.key=e.key||Xv(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??oa.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??oa.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??oa.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??oa.channelHeartbeatInterval;const{authInterceptor:s,setToken:o}=VT(this.apiKey);this.setAuthToken=o,this.rpcClient=iN(l2,wN({baseUrl:r,interceptors:[s,UT(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),G.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw G.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const r=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),G.info(`[DC] c"${this.getKey()}" deactivated`)}catch(s){throw G.error(`[DC] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};if(e.keepalive){this.keepalive=!0;const s=r();return this.keepalive=!1,s}return this.enqueueTask(r)}has(e){return this.attachmentMap.has(e)}attach(e,r){return e instanceof zi?this.attachChannel(e,r):this.attachDocument(e,r)}attachDocument(e,r={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(r.initialPresence||{}));const s=r.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ke.toChangePack(e.createChangePack()),schemaKey:r.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(Ke.fromSchemaRules(o.schemaRules));const h=Ke.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new fb(this.reconnectStreamDelay,e,o.documentId,s)),s!=="manual"&&await this.runWatchLoop(e.getKey()),G.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const g=e.getRootObject();if(r.initialRoot){const y=r.initialRoot;e.update(m=>{for(const[v,T]of Object.entries(y))if(!g.has(v)){const V=v;m[V]=T}})}return e}catch(o){throw G.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,r){return e instanceof zi?this.detachChannel(e):this.detachDocument(e,r)}detachDocument(e,r={keepalive:!1}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:s.resourceID,changePack:Ke.toChangePack(e.createChangePack()),removeIfNotAttached:r.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=Ke.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),G.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw G.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(r.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,r={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Is.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const s=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Is.Attached);const c=r.isRealtime!==!1?"realtime":"manual",h=new fb(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",g=>{const{topic:y,payload:m,options:v}=g;this.broadcast(e.getKey(),y,m,v).catch(T=>{v?.error&&v.error(T),G.error(`[BC] c:"${this.getKey()}" failed: ${T}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),G.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getPresenceCount()}`),e}catch(o){throw G.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(s)}async detachChannel(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const r=async()=>{try{const s=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(s.count),0),e.applyStatus(Is.Detached),this.detachInternal(e.getKey()),G.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(s){throw G.error(`[DP] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};return this.enqueueTask(r)}async changeSyncMode(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=s.syncMode;return o===r?e:(s.changeSyncMode(r),r==="manual"?(s.cancelWatchStream(),e):(r==="realtime"&&(s.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof zi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r).catch(async s=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}if(e instanceof Yi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r,"realtime").catch(async s=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}return this.enqueueTask(async()=>{const r=[];for(const[,s]of this.attachmentMap)s.syncMode!==void 0&&s.resource instanceof Yi&&r.push(this.syncInternal(s,s.syncMode));return Promise.all(r).catch(async s=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s})})}remove(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const s=Ke.toChangePack(e.createChangePack());return s.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:r.resourceID,changePack:s},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=Ke.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),G.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw G.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,r,s){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:r,description:s||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return G.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${r}"`),Ke.toRevisionSummary(h.revision)}catch(h){throw G.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:s.resourceID,pageSize:r?.pageSize||10,offset:r?.offset||0,isForward:r?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return G.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(Ke.toRevisionSummary)}catch(c){throw G.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:s.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return G.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${r}"`),Ke.toRevisionSummary(c.revision)}catch(c){throw G.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:s.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),G.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${r}"`)}catch(c){throw G.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,r,s,o){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new N(A.ErrNotAttached,`${e} is not attached`);if(!LT(s))throw new N(A.ErrInvalidArgument,"payload is not serializable");const h=c.resource,g=o?.maxRetries??If.maxRetries,y=If.maxBackoff;let m=0;const v=V=>Math.min(If.initialRetryInterval*2**V,y),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:r,payload:new TextEncoder().encode(JSON.stringify(s))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),G.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${r}"`)}catch(V){if(G.error(`[BC] c:"${this.getKey()}" err:`,V),await this.handleConnectError(V))if(Tf(V,A.ErrUnauthenticated)&&c.resource instanceof zi&&c.resource.publish({type:ha.AuthError,reason:Rs(V).reason||"unauthenticated",method:"Broadcast"}),m<g)m++,setTimeout(()=>T(),v(m-1)),G.info(`[BC] c:"${this.getKey()}" retry attempt ${m}/${g}`);else throw G.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),V}});return T()}runSyncLoop(){const e=async()=>{if(!this.isActive()){G.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const r=[];for(const[,s]of this.attachmentMap)s.needSync(this.channelHeartbeatInterval)&&(s.changeEventReceived!==void 0&&(s.changeEventReceived=!1),r.push(this.syncInternal(s,s.syncMode).catch(o=>{throw Tf(o,A.ErrUnauthenticated)&&s.resource.publish([{type:ut.AuthError,value:{reason:Rs(o).reason,method:"PushPull"}}]),o})));await Promise.all(r),setTimeout(e,this.syncLoopDuration)})}catch(r){G.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};G.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const r=this.attachmentMap.get(e);if(!r)throw new N(A.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,r.runWatchLoop(s=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return r.resource instanceof Yi?this.createDocumentWatchStream(r,e,o,s):r.resource instanceof zi?this.createChannelWatchStream(r,e,o,s):Promise.reject(new N(A.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,r,s,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${r}`},signal:s.signal});return e.resource.publish([{type:ut.ConnectionChanged,value:Wi.Connected}]),G.info(`[WD] c:"${this.getKey()}" watches d:"${r}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((h,g)=>{(async()=>{try{for await(const m of c)this.handleWatchDocumentResponse(e,m),m.body.case==="initialization"&&h([c,s]);e.resource.resetOnlineClients(),e.resource.publish([{type:ut.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ut.ConnectionChanged,value:Wi.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(m){e.resource.resetOnlineClients(),e.resource.publish([{type:ut.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ut.ConnectionChanged,value:Wi.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(m)?(Tf(m,A.ErrUnauthenticated)&&e.resource.publish([{type:ut.AuthError,value:{reason:Rs(m).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,g(m)}})()})}createChannelWatchStream(e,r,s,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:r},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:s.signal});return G.info(`[WP] c:"${this.getKey()}" watches p:"${r}"`),new Promise((h,g)=>{(async()=>{try{let m=!0;for await(const v of c)this.handleWatchChannelResponse(e,v),m&&(m=!1,h([c,s]));G.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream ended`),o()}catch(m){if(m instanceof Error&&m.name==="AbortError"){G.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream aborted`);return}G.debug(`[WP] c:"${this.getKey()}" p:"${r}" err:`,m),await this.handleConnectError(m)?o():this.conditions.WatchLoop=!1,g(m)}})()})}handleWatchChannelResponse(e,r){const s=e.resource;if(r.body.case==="initialized"){const{count:o,seq:c}=r.body.value;s.updateCount(Number(o),Number(c))&&s.publish({type:ha.Initialized,count:Number(o)})}else if(r.body.case==="event"){const o=r.body.value;if(o.type===yv.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(o.payload));s.publish({type:ha.Broadcast,clientID:o.publisher,topic:o.topic,payload:h})}catch(h){G.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}s.updateCount(Number(o.count),Number(o.seq))&&s.publish({type:ha.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,r){if(r.body.case==="event"&&r.body.value.type===Oo.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(r)}deactivateInternal(){this.status="deactivated";for(const[e,r]of this.attachmentMap)this.detachInternal(e),r.resource instanceof Yi?r.resource.applyStatus(Zi.Detached):r.resource instanceof zi&&r.resource.applyStatus(Is.Detached)}detachInternal(e){const r=this.attachmentMap.get(e);r&&(r.cancelWatchStream(),r.resource instanceof Yi&&r.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,r){const{resource:s}=e;if(s instanceof zi){try{const g=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:s.getKey(),sessionId:s.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${s.getFirstKeyPath()}`}});s.updateCount(Number(g.count),0),e.updateHeartbeatTime(),G.debug(`[RP] c:"${this.getKey()}" refreshes p:"${s.getKey()}" mode:${e.syncMode}`)}catch(g){throw G.error(`[RP] c:"${this.getKey()}" err :`,g),g}return s}const o=s,{resourceID:c}=e,h=o.createChangePack();try{const g=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Ke.toChangePack(h),pushOnly:r==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),y=Ke.fromChangePack(g.changePack);if(y.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(y),e.resource.publish([{type:ut.SyncStatusChanged,value:_f.Synced}]),o.getStatus()===Zi.Removed&&this.detachInternal(o.getKey());const m=o.getKey(),v=y.getChangeSize();return G.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${h.getChangeSize()} pull:${v} cp:${y.getCheckpoint().toTestString()}`),o}catch(g){throw o.publish([{type:ut.SyncStatusChanged,value:_f.SyncFailed}]),G.error(`[PP] c:"${this.getKey()}" err :`,g),g}}async handleConnectError(e){if(!(e instanceof xe))return!1;if(e.code===fe.Canceled||e.code===fe.Unknown||e.code===fe.ResourceExhausted||e.code===fe.Unavailable)return!0;if(ua(e)===A.ErrUnauthenticated){if(this.authTokenInjector){const r=await this.authTokenInjector(Rs(e).reason);this.setAuthToken(r)}return!0}return ua(e)===A.ErrTooManySubscribers?(G.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ua(e)===A.ErrTooManyAttachments||(ua(e)===A.ErrClientNotActivated||ua(e)===A.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((r,s)=>{this.taskQueue.push(()=>e().then(r).catch(s)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{G.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Hv(i){return typeof i=="object"&&i!==null&&i.type==="Text"&&Array.isArray(i.nodes)}function Qv(i){return typeof i=="object"&&i!==null&&i.type==="Tree"&&typeof i.root=="object"}function $v(i){return typeof i=="object"&&i!==null&&i.type==="Int"&&typeof i.value=="number"}function Pv(i){return typeof i=="object"&&i!==null&&i.type==="Long"&&typeof i.value=="number"}function qv(i){return typeof i=="object"&&i!==null&&i.type==="Date"&&typeof i.value=="string"}function e0(i){return typeof i=="object"&&i!==null&&i.type==="BinData"&&typeof i.value=="string"}function t0(i){return typeof i=="object"&&i!==null&&i.type==="Counter"&&typeof i.value=="object"}function MT(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!Hv(i)&&!Qv(i)&&!$v(i)&&!Pv(i)&&!qv(i)&&!e0(i)&&!t0(i)}function ZT(i){try{const e=zT(i),r=JSON.parse(e);return Io(r)}catch(e){throw new N(A.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function zT(i){let e=i;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(r,s,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${s}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(r,s)=>`{"__yson_type":"Int","__yson_data":${s}}`),e=e.replace(/Long\((-?\d+)\)/g,(r,s)=>`{"__yson_type":"Long","__yson_data":${s}}`),e=e.replace(/Date\("([^"]*)"\)/g,(r,s)=>`{"__yson_type":"Date","__yson_data":"${s}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(r,s)=>`{"__yson_type":"BinData","__yson_data":"${s}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(r,s)=>`{"__yson_type":"Text","__yson_data":${s}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(r,s)=>`{"__yson_type":"Tree","__yson_data":${s}}`),e}function Io(i){if(i===null||typeof i!="object")return i;if(i.__yson_type==="Int"&&typeof i.__yson_data=="number")return{type:"Int",value:i.__yson_data};if(i.__yson_type==="Long"&&typeof i.__yson_data=="number")return{type:"Long",value:i.__yson_data};if(i.__yson_type==="Date"&&typeof i.__yson_data=="string")return{type:"Date",value:i.__yson_data};if(i.__yson_type==="BinData"&&typeof i.__yson_data=="string")return{type:"BinData",value:i.__yson_data};if(i.__yson_type==="Counter"&&typeof i.__yson_data=="object"){const r=Io(i.__yson_data);if(typeof r=="object"&&r!==null&&"type"in r&&(r.type==="Int"||r.type==="Long"))return{type:"Counter",value:r};throw new N(A.ErrInvalidArgument,"Counter must contain Int or Long")}if(i.__yson_type==="Text"&&Array.isArray(i.__yson_data))return{type:"Text",nodes:i.__yson_data.map(r=>YT(r))};if(i.__yson_type==="Tree"&&typeof i.__yson_data=="object")return{type:"Tree",root:n0(i.__yson_data)};if(Array.isArray(i))return i.map(r=>Io(r));const e={};for(const[r,s]of Object.entries(i))e[r]=Io(s);return e}function YT(i){if(typeof i!="object"||i===null||typeof i.val!="string")throw new N(A.ErrInvalidArgument,"invalid text node format");const e={val:i.val};return i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),e}function n0(i){if(typeof i!="object"||i===null||typeof i.type!="string")throw new N(A.ErrInvalidArgument,"invalid tree node format");const e={type:i.type};return i.type==="text"&&typeof i.value=="string"?(e.value=i.value,e):(i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),Array.isArray(i.children)&&(e.children=i.children.map(r=>n0(r))),e)}function _T(i){return i.nodes.map(e=>e.val).join("")}function GT(i){return i0(i.root)}function i0(i){const e=i.attrs?Object.entries(i.attrs).map(([s,o])=>` ${s}="${db(o)}"`).join(""):"";if(i.type==="text"&&i.value!==void 0)return`<${i.type}${e}>${db(i.value)}</${i.type}>`;if(!i.children||i.children.length===0)return`<${i.type}${e} />`;const r=i.children.map(s=>i0(s)).join("");return`<${i.type}${e}>${r}</${i.type}>`}function db(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const KT=Object.freeze(Object.defineProperty({__proto__:null,isBinData:e0,isCounter:t0,isDate:qv,isInt:$v,isLong:Pv,isObject:MT,isText:Hv,isTree:Qv,parse:ZT,textToString:_T,treeToXML:GT},Symbol.toStringTag,{value:"Module"}));zn.Int,zn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Fv,Document:Yi,Primitive:je,Text:Ih,Counter:Ch,Tree:Oh,Channel:zi,ChannelEventType:ha,YSON:KT,LogLevel:xt,setLogLevel:hT,IntType:zn.Int,LongType:zn.Long});const WT="@yorkie-js/react",XT="0.6.41-rc3",gb={name:WT,version:XT},r0=We.createContext({client:void 0,loading:!0,error:void 0});function JT(i){const[e,r]=We.useState(void 0),[s,o]=We.useState(!0),[c,h]=We.useState(void 0),[g,y]=We.useState(!1);return We.useEffect(()=>{y(!0)},[]),We.useEffect(()=>{o(!0),h(void 0);async function m(){if(g)try{const v=new Fv(i);await v.activate(),r(v)}catch(v){h(v instanceof Error?v:new Error("Failed to activate client"))}finally{o(!1)}}return m(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,g]),{client:e,loading:s,error:c}}const kT=({children:i,...e})=>{const r=We.useMemo(()=>({userAgent:gb.name+"/"+gb.version,...e}),[e.apiKey,e.rpcAddr]),{client:s,loading:o,error:c}=JT(r);return Ce.jsx(r0.Provider,{value:{client:s,loading:o,error:c},children:i})},jT=()=>{const i=We.useContext(r0);if(!i)throw new Error("useYorkie must be used under YorkieProvider");return{client:i.client,loading:i.loading,error:i.error}};function FT(i){const e=new Set;let r=i;const s=()=>{e.forEach(y=>y(r))};return{subscribe:y=>(e.add(y),()=>e.delete(y)),getSnapshot:()=>r,setState:y=>{const m=r;r=typeof y=="function"?y(m):y,m!==r&&s()},destroy:()=>{e.clear()}}}const HT=i=>FT(i);function Vh(i,e,r=Object.is){const s=We.useRef(e),o=We.useRef(r),c=We.useRef(void 0);s.current=e,o.current=r;const h=()=>{const g=i.getSnapshot(),y=s.current?s.current(g):g;return c.current!==void 0&&o.current(c.current,y)?c.current:(c.current=y,y)};return We.useSyncExternalStore(i.subscribe,h,h)}function mb(i){return i!=null&&typeof i[Symbol.iterator]=="function"}function yb(i){return"entries"in i&&typeof i.entries=="function"}function QT(i,e){const r=i instanceof Map?i:new Map(i.entries()),s=e instanceof Map?e:new Map(e.entries());if(r.size!==s.size)return!1;for(const[o,c]of r)if(!s.has(o)||!Object.is(c,s.get(o)))return!1;return!0}function $T(i,e){const r=i[Symbol.iterator](),s=e[Symbol.iterator]();let o=r.next(),c=s.next();for(;!o.done&&!c.done;){if(!Object.is(o.value,c.value))return!1;o=r.next(),c=s.next()}return o.done===c.done}function PT(i,e){const r=Object.keys(i),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(e,o)||!Object.is(i[o],e[o]))return!1;return!0}function qT(i,e){if(Object.is(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null||Object.getPrototypeOf(i)!==Object.getPrototypeOf(e))return!1;const r=mb(i),s=mb(e);return r!==s?!1:r&&s?yb(i)&&yb(e)?QT(i,e):$T(i,e):PT(i,e)}function eR(i,e,r,s,o,c,h,g){const y=We.useRef(o),m=We.useRef(c),[v,T]=We.useState(!1);We.useEffect(()=>{T(!0)},[]),We.useEffect(()=>{if(r){g.setState(Y=>({...Y,loading:!1,error:r}));return}if(!i||e||!v){g.setState(Y=>({...Y,loading:!0}));return}g.setState(Y=>({...Y,loading:!0,error:void 0}));const V=new Yi(s,{enableDevtools:h}),C=[];C.push(V.subscribe(()=>{g.setState(Y=>({...Y,root:V.getRoot()}))})),C.push(V.subscribe("presence",()=>{g.setState(Y=>({...Y,presences:V.getPresences()}))})),C.push(V.subscribe("connection",Y=>{g.setState(j=>({...j,connection:Y.value}))}));async function L(){try{await i?.attach(V,{initialRoot:y.current,initialPresence:m.current});const Y=j=>{try{V.update(j)}catch(q){g.setState(ye=>({...ye,error:q instanceof Error?q:new Error("Failed to update document")}))}};g.setState(j=>({...j,doc:V,root:V.getRoot(),presences:V.getPresences(),update:Y}))}catch(Y){g.setState(j=>({...j,error:Y instanceof Error?Y:new Error("Failed to attach document")}))}finally{g.setState(Y=>({...Y,loading:!1}))}}return L(),()=>{i&&i.has(s)&&i.detach(V);for(const Y of C)Y()}},[i,e,r,s,g,v])}const xh=We.createContext(void 0),tR=({docKey:i,initialRoot:e={},initialPresence:r={},enableDevtools:s=!1,children:o})=>{const{client:c,loading:h,error:g}=jT(),y=We.useRef(void 0);y.current||(y.current=HT({doc:void 0,root:e,presences:[],connection:Wi.Disconnected,update:()=>{},loading:!0,error:void 0}));const m=y.current;return eR(c,h,g,i,e,r,s,m),Ce.jsx(xh.Provider,{value:m,children:o})},nR=()=>(i,e=qT)=>{const r=We.useContext(xh);if(!r)throw new Error("useDocument must be used within a DocumentProvider");return Vh(r,i,e)},iR=()=>{const i=s0("usePresences");return Vh(i,e=>e.presences)},a0=()=>{const i=s0("useConnection");return Vh(i,e=>e.connection)},s0=i=>{const e=We.useContext(xh);if(!e)throw new Error(`${i} must be used within a DocumentProvider`);return e};We.createContext(void 0);function rR(){const i=a0();return Ce.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",i===Wi.Connected?Ce.jsx("span",{className:"green",children:" "}):Ce.jsx("span",{className:"red",children:" "})]})}function aR(){const i=iR();return Ce.jsx("div",{id:"peers-container",children:Ce.jsxs("p",{children:["Peers:"," ",i.map((e,r)=>Ce.jsxs(UA.Fragment,{children:[Ce.jsx("span",{children:e.clientID.slice(-2)}),r<i.length-1&&Ce.jsx("span",{children:", "})]},e.clientID))]})})}const Bh=nR();function sR(){const{counter:i}=Bh(({root:e})=>({counter:e.counter}));return Ce.jsx("div",{id:"counter-value",children:i})}function lR(){const{update:i,connection:e}=Bh(({update:r,connection:s})=>({update:r,connection:s}));return Ce.jsx("button",{id:"increment",disabled:e===Wi.Disconnected,onClick:()=>i(r=>r.counter+=1),children:"Increment"})}function oR(){const{loading:i,error:e}=Bh(({loading:s,error:o})=>({loading:s,error:o})),r=a0();return i?Ce.jsx("p",{children:"Loading..."}):e?Ce.jsxs("div",{id:"error",children:[Ce.jsxs("p",{children:["Error Name: ",e.name]}),Ce.jsxs("p",{children:["Error Message: ",e.message]})]}):Ce.jsxs("div",{className:"counter-side",children:[Ce.jsx(rR,{}),Ce.jsx(aR,{}),Ce.jsxs("div",{id:"counter-container",children:[Ce.jsx("h1",{id:"counter",children:"Counter"}),Ce.jsx(sR,{}),Ce.jsx(lR,{})]}),Ce.jsx("div",{id:"error",children:r===Wi.Disconnected&&Ce.jsx("p",{children:"Stream subscription is disconnected"})})]})}function uR(){return Ce.jsx(kT,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:Ce.jsx("div",{className:"page-container",children:Ce.jsx(tR,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ce.jsx(oR,{})})})})}GA.createRoot(document.getElementById("root")).render(Ce.jsx(We.StrictMode,{children:Ce.jsx(uR,{})}));
