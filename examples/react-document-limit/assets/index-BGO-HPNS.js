var IT=Object.defineProperty;var BT=(s,n,e)=>n in s?IT(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var d=(s,n,e)=>BT(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function zT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ph={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function MT(){if(Kp)return jo;Kp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return jo.Fragment=n,jo.jsx=e,jo.jsxs=e,jo}var $p;function UT(){return $p||($p=1,Ph.exports=MT()),Ph.exports}var Ot=UT(),Vh={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function LT(){if(Xp)return ht;Xp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,V={};function Y(w,P,$){this.props=w,this.context=P,this.refs=V,this.updater=$||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function _(){}_.prototype=Y.prototype;function lt(w,P,$){this.props=w,this.context=P,this.refs=V,this.updater=$||k}var ct=lt.prototype=new _;ct.constructor=lt,q(ct,Y.prototype),ct.isPureReactComponent=!0;var mt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function yt(w,P,$,G,nt,xt){return $=xt.ref,{$$typeof:s,type:w,key:P,ref:$!==void 0?$:null,props:xt}}function wt(w,P){return yt(w.type,P,void 0,void 0,void 0,w.props)}function At(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function re(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return P[$]})}var Le=/\/+/g;function se(w,P){return typeof w=="object"&&w!==null&&w.key!=null?re(""+w.key):P.toString(36)}function ha(){}function da(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ha,ha):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ve(w,P,$,G,nt){var xt=typeof w;(xt==="undefined"||xt==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(xt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case s:case n:ut=!0;break;case b:return ut=w._init,ve(ut(w._payload),P,$,G,nt)}}if(ut)return nt=nt(w),ut=G===""?"."+se(w,0):G,mt(nt)?($="",ut!=null&&($=ut.replace(Le,"$&/")+"/"),ve(nt,P,$,"",function(Bi){return Bi})):nt!=null&&(At(nt)&&(nt=wt(nt,$+(nt.key==null||w&&w.key===nt.key?"":(""+nt.key).replace(Le,"$&/")+"/")+ut)),P.push(nt)),1;ut=0;var qe=G===""?".":G+":";if(mt(w))for(var Ht=0;Ht<w.length;Ht++)G=w[Ht],xt=qe+se(G,Ht),ut+=ve(G,P,$,xt,nt);else if(Ht=I(w),typeof Ht=="function")for(w=Ht.call(w),Ht=0;!(G=w.next()).done;)G=G.value,xt=qe+se(G,Ht++),ut+=ve(G,P,$,xt,nt);else if(xt==="object"){if(typeof w.then=="function")return ve(da(w),P,$,G,nt);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function U(w,P,$){if(w==null)return w;var G=[],nt=0;return ve(w,G,"","",function(xt){return P.call($,xt,nt++)}),G}function K(w){if(w._status===-1){var P=w._result;P=P(),P.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var at=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Ut(){}return ht.Children={map:U,forEach:function(w,P,$){U(w,function(){P.apply(this,arguments)},$)},count:function(w){var P=0;return U(w,function(){P++}),P},toArray:function(w){return U(w,function(P){return P})||[]},only:function(w){if(!At(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ht.Component=Y,ht.Fragment=e,ht.Profiler=l,ht.PureComponent=lt,ht.StrictMode=i,ht.Suspense=y,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,ht.__COMPILER_RUNTIME={__proto__:null,c:function(w){return et.H.useMemoCache(w)}},ht.cache=function(w){return function(){return w.apply(null,arguments)}},ht.cloneElement=function(w,P,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=q({},w.props),nt=w.key,xt=void 0;if(P!=null)for(ut in P.ref!==void 0&&(xt=void 0),P.key!==void 0&&(nt=""+P.key),P)!st.call(P,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&P.ref===void 0||(G[ut]=P[ut]);var ut=arguments.length-2;if(ut===1)G.children=$;else if(1<ut){for(var qe=Array(ut),Ht=0;Ht<ut;Ht++)qe[Ht]=arguments[Ht+2];G.children=qe}return yt(w.type,nt,void 0,void 0,xt,G)},ht.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ht.createElement=function(w,P,$){var G,nt={},xt=null;if(P!=null)for(G in P.key!==void 0&&(xt=""+P.key),P)st.call(P,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(nt[G]=P[G]);var ut=arguments.length-2;if(ut===1)nt.children=$;else if(1<ut){for(var qe=Array(ut),Ht=0;Ht<ut;Ht++)qe[Ht]=arguments[Ht+2];nt.children=qe}if(w&&w.defaultProps)for(G in ut=w.defaultProps,ut)nt[G]===void 0&&(nt[G]=ut[G]);return yt(w,xt,void 0,void 0,null,nt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(w){return{$$typeof:g,render:w}},ht.isValidElement=At,ht.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:K}},ht.memo=function(w,P){return{$$typeof:p,type:w,compare:P===void 0?null:P}},ht.startTransition=function(w){var P=et.T,$={};et.T=$;try{var G=w(),nt=et.S;nt!==null&&nt($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ut,at)}catch(xt){at(xt)}finally{et.T=P}},ht.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},ht.use=function(w){return et.H.use(w)},ht.useActionState=function(w,P,$){return et.H.useActionState(w,P,$)},ht.useCallback=function(w,P){return et.H.useCallback(w,P)},ht.useContext=function(w){return et.H.useContext(w)},ht.useDebugValue=function(){},ht.useDeferredValue=function(w,P){return et.H.useDeferredValue(w,P)},ht.useEffect=function(w,P,$){var G=et.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,P)},ht.useId=function(){return et.H.useId()},ht.useImperativeHandle=function(w,P,$){return et.H.useImperativeHandle(w,P,$)},ht.useInsertionEffect=function(w,P){return et.H.useInsertionEffect(w,P)},ht.useLayoutEffect=function(w,P){return et.H.useLayoutEffect(w,P)},ht.useMemo=function(w,P){return et.H.useMemo(w,P)},ht.useOptimistic=function(w,P){return et.H.useOptimistic(w,P)},ht.useReducer=function(w,P,$){return et.H.useReducer(w,P,$)},ht.useRef=function(w){return et.H.useRef(w)},ht.useState=function(w){return et.H.useState(w)},ht.useSyncExternalStore=function(w,P,$){return et.H.useSyncExternalStore(w,P,$)},ht.useTransition=function(){return et.H.useTransition()},ht.version="19.1.0",ht}var Zp;function Cd(){return Zp||(Zp=1,Vh.exports=LT()),Vh.exports}var Yt=Cd();const qT=zT(Yt);var Hh={exports:{}},Yo={},jh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function JT(){return Qp||(Qp=1,function(s){function n(U,K){var at=U.length;U.push(K);t:for(;0<at;){var Ut=at-1>>>1,w=U[Ut];if(0<l(w,K))U[Ut]=K,U[at]=w,at=Ut;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var K=U[0],at=U.pop();if(at!==K){U[0]=at;t:for(var Ut=0,w=U.length,P=w>>>1;Ut<P;){var $=2*(Ut+1)-1,G=U[$],nt=$+1,xt=U[nt];if(0>l(G,at))nt<w&&0>l(xt,G)?(U[Ut]=xt,U[nt]=at,Ut=nt):(U[Ut]=G,U[$]=at,Ut=$);else if(nt<w&&0>l(xt,at))U[Ut]=xt,U[nt]=at,Ut=nt;else break t}}return K}function l(U,K){var at=U.sortIndex-K.sortIndex;return at!==0?at:U.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var y=[],p=[],b=1,E=null,I=3,k=!1,q=!1,V=!1,Y=!1,_=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function mt(U){for(var K=e(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=U)i(p),K.sortIndex=K.expirationTime,n(y,K);else break;K=e(p)}}function et(U){if(V=!1,mt(U),!q)if(e(y)!==null)q=!0,st||(st=!0,se());else{var K=e(p);K!==null&&ve(et,K.startTime-U)}}var st=!1,yt=-1,wt=5,At=-1;function re(){return Y?!0:!(s.unstable_now()-At<wt)}function Le(){if(Y=!1,st){var U=s.unstable_now();At=U;var K=!0;try{t:{q=!1,V&&(V=!1,lt(yt),yt=-1),k=!0;var at=I;try{e:{for(mt(U),E=e(y);E!==null&&!(E.expirationTime>U&&re());){var Ut=E.callback;if(typeof Ut=="function"){E.callback=null,I=E.priorityLevel;var w=Ut(E.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){E.callback=w,mt(U),K=!0;break e}E===e(y)&&i(y),mt(U)}else i(y);E=e(y)}if(E!==null)K=!0;else{var P=e(p);P!==null&&ve(et,P.startTime-U),K=!1}}break t}finally{E=null,I=at,k=!1}K=void 0}}finally{K?se():st=!1}}}var se;if(typeof ct=="function")se=function(){ct(Le)};else if(typeof MessageChannel<"u"){var ha=new MessageChannel,da=ha.port2;ha.port1.onmessage=Le,se=function(){da.postMessage(null)}}else se=function(){_(Le,0)};function ve(U,K){yt=_(function(){U(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var K=3;break;default:K=I}var at=I;I=K;try{return U()}finally{I=at}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var at=I;I=U;try{return K()}finally{I=at}},s.unstable_scheduleCallback=function(U,K,at){var Ut=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Ut+at:Ut):at=Ut,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=at+w,U={id:b++,callback:K,priorityLevel:U,startTime:at,expirationTime:w,sortIndex:-1},at>Ut?(U.sortIndex=at,n(p,U),e(y)===null&&U===e(p)&&(V?(lt(yt),yt=-1):V=!0,ve(et,at-Ut))):(U.sortIndex=w,n(y,U),q||k||(q=!0,st||(st=!0,se()))),U},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(U){var K=I;return function(){var at=I;I=K;try{return U.apply(this,arguments)}finally{I=at}}}}(Yh)),Yh}var Fp;function PT(){return Fp||(Fp=1,jh.exports=JT()),jh.exports}var Gh={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function VT(){if(_p)return Te;_p=1;var s=Cd();function n(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,p,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:p,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Te.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(y,p,null,b)},Te.flushSync=function(y){var p=h.T,b=i.p;try{if(h.T=null,i.p=2,y)return y()}finally{h.T=p,i.p=b,i.d.f()}},Te.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(y,p))},Te.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Te.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,E=g(b,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:I,fetchPriority:k}):b==="script"&&i.d.X(y,{crossOrigin:E,integrity:I,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Te.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(y)},Te.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,E=g(b,p.crossOrigin);i.d.L(y,b,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Te.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=g(p.as,p.crossOrigin);i.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(y)},Te.requestFormReset=function(y){i.d.r(y)},Te.unstable_batchedUpdates=function(y,p){return y(p)},Te.useFormState=function(y,p,b){return h.H.useFormState(y,p,b)},Te.useFormStatus=function(){return h.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var Wp;function HT(){if(Wp)return Gh.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Gh.exports=VT(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function jT(){if(tv)return Yo;tv=1;var s=PT(),n=Cd(),e=HT();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,o=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),t;if(f===o)return g(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=Le&&t[Le]||t["@@iterator"],typeof t=="function"?t:null)}var ha=Symbol.for("react.client.reference");function da(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ha?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case et:return"Suspense";case st:return"SuspenseList";case At:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case mt:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return r=t.displayName||null,r!==null?r:da(t.type)||"Memo";case wt:r=t._payload,t=t._init;try{return da(t(r))}catch{}}return null}var ve=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Ut=[],w=-1;function P(t){return{current:t}}function $(t){0>w||(t.current=Ut[w],Ut[w]=null,w--)}function G(t,r){w++,Ut[w]=t.current,t.current=r}var nt=P(null),xt=P(null),ut=P(null),qe=P(null);function Ht(t,r){switch(G(ut,r),G(xt,t),G(nt,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?bp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=bp(r),t=Tp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(nt),G(nt,t)}function Bi(){$(nt),$(xt),$(ut)}function Ec(t){t.memoizedState!==null&&G(qe,t);var r=nt.current,a=Tp(r,t.type);r!==a&&(G(xt,t),G(nt,a))}function gl(t){xt.current===t&&($(nt),$(xt)),qe.current===t&&($(qe),qo._currentValue=at)}var xc=Object.prototype.hasOwnProperty,Nc=s.unstable_scheduleCallback,Dc=s.unstable_cancelCallback,cS=s.unstable_shouldYield,fS=s.unstable_requestPaint,Bn=s.unstable_now,hS=s.unstable_getCurrentPriorityLevel,tg=s.unstable_ImmediatePriority,eg=s.unstable_UserBlockingPriority,ml=s.unstable_NormalPriority,dS=s.unstable_LowPriority,ng=s.unstable_IdlePriority,gS=s.log,mS=s.unstable_setDisableYieldValue,Gs=null,Je=null;function zi(t){if(typeof gS=="function"&&mS(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Gs,t)}catch{}}var Pe=Math.clz32?Math.clz32:vS,yS=Math.log,pS=Math.LN2;function vS(t){return t>>>=0,t===0?32:31-(yS(t)/pS|0)|0}var yl=256,pl=4194304;function ga(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vl(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=ga(o):(m&=S,m!==0?u=ga(m):a||(a=S&~t,a!==0&&(u=ga(a))))):(S=o&~f,S!==0?u=ga(S):m!==0?u=ga(m):a||(a=o&~t,a!==0&&(u=ga(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function Ks(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function SS(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rg(){var t=yl;return yl<<=1,(yl&4194048)===0&&(yl=256),t}function ig(){var t=pl;return pl<<=1,(pl&62914560)===0&&(pl=4194304),t}function Oc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function $s(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bS(t,r,a,o,u,f){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,T=t.expirationTimes,C=t.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Pe(a),J=1<<M;S[M]=0,T[M]=-1;var R=C[M];if(R!==null)for(C[M]=null,M=0;M<R.length;M++){var B=R[M];B!==null&&(B.lane&=-536870913)}a&=~J}o!==0&&ag(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~r))}function ag(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Pe(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function sg(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Pe(a),u=1<<o;u&r|t[o]&r&&(t[o]|=r),a&=~u}}function Cc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function og(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Pp(t.type))}function TS(t,r){var a=K.p;try{return K.p=t,r()}finally{K.p=a}}var Mi=Math.random().toString(36).slice(2),Se="__reactFiber$"+Mi,De="__reactProps$"+Mi,Ha="__reactContainer$"+Mi,Rc="__reactEvents$"+Mi,wS="__reactListeners$"+Mi,AS="__reactHandles$"+Mi,lg="__reactResources$"+Mi,Xs="__reactMarker$"+Mi;function Ic(t){delete t[Se],delete t[De],delete t[Rc],delete t[wS],delete t[AS]}function ja(t){var r=t[Se];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ha]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=xp(t);t!==null;){if(a=t[Se])return a;t=xp(t)}return r}t=a,a=t.parentNode}return null}function Ya(t){if(t=t[Se]||t[Ha]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ga(t){var r=t[lg];return r||(r=t[lg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function oe(t){t[Xs]=!0}var ug=new Set,cg={};function ma(t,r){Ka(t,r),Ka(t+"Capture",r)}function Ka(t,r){for(cg[t]=r,t=0;t<r.length;t++)ug.add(r[t])}var ES=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fg={},hg={};function xS(t){return xc.call(hg,t)?!0:xc.call(fg,t)?!1:ES.test(t)?hg[t]=!0:(fg[t]=!0,!1)}function Sl(t,r,a){if(xS(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function bl(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function rr(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var Bc,dg;function $a(t){if(Bc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bc=r&&r[1]||"",dg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bc+t+dg}var zc=!1;function Mc(t,r){if(!t||zc)return"";zc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var R=B}Reflect.construct(t,[],J)}else{try{J.call()}catch(B){R=B}t.call(J.prototype)}}else{try{throw Error()}catch(B){R=B}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var T=m.split(`
`),C=S.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===C.length)for(o=T.length-1,u=C.length-1;1<=o&&0<=u&&T[o]!==C[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==C[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==C[u]){var M=`
`+T[o].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=o&&0<=u);break}}}finally{zc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$a(a):""}function NS(t){switch(t.tag){case 26:case 27:case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return Mc(t.type,!1);case 11:return Mc(t.type.render,!1);case 1:return Mc(t.type,!0);case 31:return $a("Activity");default:return""}}function gg(t){try{var r="";do r+=NS(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mg(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function DS(t){var r=mg(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Tl(t){t._valueTracker||(t._valueTracker=DS(t))}function yg(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=mg(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var OS=/[\n"\\]/g;function We(t){return t.replace(OS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Uc(t,r,a,o,u,f,m,S){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),r!=null?m==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+_e(r)):t.value!==""+_e(r)&&(t.value=""+_e(r)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),r!=null?Lc(t,m,_e(r)):a!=null?Lc(t,m,_e(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+_e(S):t.removeAttribute("name")}function pg(t,r,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+_e(a):"",r=r!=null?""+_e(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Lc(t,r,a){r==="number"&&wl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xa(t,r,a,o){if(t=t.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=r.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),r=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}r!==null||t[u].disabled||(r=t[u])}r!==null&&(r.selected=!0)}}function vg(t,r,a){if(r!=null&&(r=""+_e(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+_e(a):""}function Sg(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(ve(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=_e(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Za(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var CS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bg(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||CS.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Tg(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&a[u]!==o&&bg(t,u,o)}else for(var f in r)r.hasOwnProperty(f)&&bg(t,f,r[f])}function qc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(t){return RS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jc=null;function Pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,Fa=null;function wg(t){var r=Ya(t);if(r&&(t=r.stateNode)){var a=t[De]||null;t:switch(t=r.stateNode,r.type){case"input":if(Uc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var u=o[De]||null;if(!u)throw Error(i(90));Uc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&yg(o)}break t;case"textarea":vg(t,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Xa(t,!!a.multiple,r,!1)}}}var Vc=!1;function Ag(t,r,a){if(Vc)return t(r,a);Vc=!0;try{var o=t(r);return o}finally{if(Vc=!1,(Qa!==null||Fa!==null)&&(lu(),Qa&&(r=Qa,t=Fa,Fa=Qa=null,wg(r),t)))for(r=0;r<t.length;r++)wg(t[r])}}function Qs(t,r){var a=t.stateNode;if(a===null)return null;var o=a[De]||null;if(o===null)return null;a=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=!1;if(ir)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Hc=!1}var Ui=null,jc=null,El=null;function Eg(){if(El)return El;var t,r=jc,a=r.length,o,u="value"in Ui?Ui.value:Ui.textContent,f=u.length;for(t=0;t<a&&r[t]===u[t];t++);var m=a-t;for(o=1;o<=m&&r[a-o]===u[f-o];o++);return El=u.slice(t,1<o?1-o:void 0)}function xl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Nl(){return!0}function xg(){return!1}function Oe(t){function r(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Nl:xg,this.isPropagationStopped=xg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),r}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Oe(ya),_s=b({},ya,{view:0,detail:0}),IS=Oe(_s),Yc,Gc,Ws,Ol=b({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ws&&(Ws&&t.type==="mousemove"?(Yc=t.screenX-Ws.screenX,Gc=t.screenY-Ws.screenY):Gc=Yc=0,Ws=t),Yc)},movementY:function(t){return"movementY"in t?t.movementY:Gc}}),Ng=Oe(Ol),BS=b({},Ol,{dataTransfer:0}),zS=Oe(BS),MS=b({},_s,{relatedTarget:0}),Kc=Oe(MS),US=b({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),LS=Oe(US),qS=b({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JS=Oe(qS),PS=b({},ya,{data:0}),Dg=Oe(PS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YS(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=jS[t])?!!r[t]:!1}function $c(){return YS}var GS=b({},_s,{key:function(t){if(t.key){var r=VS[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KS=Oe(GS),$S=b({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=Oe($S),XS=b({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),ZS=Oe(XS),QS=b({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=Oe(QS),_S=b({},Ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=Oe(_S),tb=b({},ya,{newState:0,oldState:0}),eb=Oe(tb),nb=[9,13,27,32],Xc=ir&&"CompositionEvent"in window,to=null;ir&&"documentMode"in document&&(to=document.documentMode);var rb=ir&&"TextEvent"in window&&!to,Cg=ir&&(!Xc||to&&8<to&&11>=to),kg=" ",Rg=!1;function Ig(t,r){switch(t){case"keyup":return nb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function ib(t,r){switch(t){case"compositionend":return Bg(r);case"keypress":return r.which!==32?null:(Rg=!0,kg);case"textInput":return t=r.data,t===kg&&Rg?null:t;default:return null}}function ab(t,r){if(_a)return t==="compositionend"||!Xc&&Ig(t,r)?(t=Eg(),El=jc=Ui=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cg&&r.locale!=="ko"?null:r.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!sb[t.type]:r==="textarea"}function Mg(t,r,a,o){Qa?Fa?Fa.push(o):Fa=[o]:Qa=o,r=gu(r,"onChange"),0<r.length&&(a=new Dl("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var eo=null,no=null;function ob(t){mp(t,0)}function Cl(t){var r=Zs(t);if(yg(r))return t}function Ug(t,r){if(t==="change")return r}var Lg=!1;if(ir){var Zc;if(ir){var Qc="oninput"in document;if(!Qc){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Qc=typeof qg.oninput=="function"}Zc=Qc}else Zc=!1;Lg=Zc&&(!document.documentMode||9<document.documentMode)}function Jg(){eo&&(eo.detachEvent("onpropertychange",Pg),no=eo=null)}function Pg(t){if(t.propertyName==="value"&&Cl(no)){var r=[];Mg(r,no,t,Pc(t)),Ag(ob,r)}}function lb(t,r,a){t==="focusin"?(Jg(),eo=r,no=a,eo.attachEvent("onpropertychange",Pg)):t==="focusout"&&Jg()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cl(no)}function cb(t,r){if(t==="click")return Cl(r)}function fb(t,r){if(t==="input"||t==="change")return Cl(r)}function hb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ve=typeof Object.is=="function"?Object.is:hb;function ro(t,r){if(Ve(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!xc.call(r,u)||!Ve(t[u],r[u]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,r){var a=Vg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vg(a)}}function jg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?jg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=wl(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=wl(t.document)}return r}function Fc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var db=ir&&"documentMode"in document&&11>=document.documentMode,Wa=null,_c=null,io=null,Wc=!1;function Gg(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||Wa==null||Wa!==wl(o)||(o=Wa,"selectionStart"in o&&Fc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&ro(io,o)||(io=o,o=gu(_c,"onSelect"),0<o.length&&(r=new Dl("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Wa)))}function pa(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ts={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},tf={},Kg={};ir&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function va(t){if(tf[t])return tf[t];if(!ts[t])return t;var r=ts[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Kg)return tf[t]=r[a];return t}var $g=va("animationend"),Xg=va("animationiteration"),Zg=va("animationstart"),gb=va("transitionrun"),mb=va("transitionstart"),yb=va("transitioncancel"),Qg=va("transitionend"),Fg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function An(t,r){Fg.set(t,r),ma(r,[t])}var _g=new WeakMap;function tn(t,r){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(r={value:t,source:r,stack:gg(r)},_g.set(t,r),r)}return{value:t,source:r,stack:gg(r)}}var en=[],es=0,nf=0;function kl(){for(var t=es,r=nf=es=0;r<t;){var a=en[r];en[r++]=null;var o=en[r];en[r++]=null;var u=en[r];en[r++]=null;var f=en[r];if(en[r++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Wg(a,u,f)}}function Rl(t,r,a,o){en[es++]=t,en[es++]=r,en[es++]=a,en[es++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,r,a,o){return Rl(t,r,a,o),Il(t)}function ns(t,r){return Rl(t,null,null,r),Il(t)}function Wg(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&r!==null&&(u=31-Pe(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[r]:o.push(r),r.lane=a|536870912),f):null}function Il(t){if(50<ko)throw ko=0,ch=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var rs={};function pb(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,r,a,o){return new pb(t,r,a,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,r){var a=t.alternate;return a===null?(a=He(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function tm(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bl(t,r,a,o,u,f){var m=0;if(o=t,typeof t=="function")af(t)&&(m=1);else if(typeof t=="string")m=ST(t,a,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case At:return t=He(31,a,r,u),t.elementType=At,t.lanes=f,t;case q:return Sa(a.children,u,f,r);case V:m=8,u|=24;break;case Y:return t=He(12,a,r,u|2),t.elementType=Y,t.lanes=f,t;case et:return t=He(13,a,r,u),t.elementType=et,t.lanes=f,t;case st:return t=He(19,a,r,u),t.elementType=st,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case ct:m=10;break t;case lt:m=9;break t;case mt:m=11;break t;case yt:m=14;break t;case wt:m=16,o=null;break t}m=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=He(m,a,r,u),r.elementType=t,r.type=o,r.lanes=f,r}function Sa(t,r,a,o){return t=He(7,t,o,r),t.lanes=a,t}function sf(t,r,a){return t=He(6,t,null,r),t.lanes=a,t}function of(t,r,a){return r=He(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var is=[],as=0,zl=null,Ml=0,nn=[],rn=0,ba=null,sr=1,or="";function Ta(t,r){is[as++]=Ml,is[as++]=zl,zl=t,Ml=r}function em(t,r,a){nn[rn++]=sr,nn[rn++]=or,nn[rn++]=ba,ba=t;var o=sr;t=or;var u=32-Pe(o)-1;o&=~(1<<u),a+=1;var f=32-Pe(r)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,sr=1<<32-Pe(r)+u|a<<u|o,or=f+t}else sr=1<<f|a<<u|o,or=t}function lf(t){t.return!==null&&(Ta(t,1),em(t,1,0))}function uf(t){for(;t===zl;)zl=is[--as],is[as]=null,Ml=is[--as],is[as]=null;for(;t===ba;)ba=nn[--rn],nn[rn]=null,or=nn[--rn],nn[rn]=null,sr=nn[--rn],nn[rn]=null}var xe=null,$t=null,Dt=!1,wa=null,zn=!1,cf=Error(i(519));function Aa(t){var r=Error(i(418,""));throw oo(tn(r,t)),cf}function nm(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[Se]=t,r[De]=o,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Io.length;a++)vt(Io[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),pg(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Tl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),Sg(r,o.value,o.defaultValue,o.children),Tl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Sp(r.textContent,a)?(o.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),o.onScroll!=null&&vt("scroll",r),o.onScrollEnd!=null&&vt("scrollend",r),o.onClick!=null&&(r.onclick=mu),r=!0):r=!1,r||Aa(t)}function rm(t){for(xe=t.return;xe;)switch(xe.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:xe=xe.return}}function ao(t){if(t!==xe)return!1;if(!Dt)return rm(t),Dt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nh(t.type,t.memoizedProps)),a=!a),a&&$t&&Aa(t),rm(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){$t=xn(t.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}$t=null}}else r===27?(r=$t,_i(t.type)?(t=kh,kh=null,$t=t):$t=r):$t=xe?xn(t.stateNode.nextSibling):null;return!0}function so(){$t=xe=null,Dt=!1}function im(){var t=wa;return t!==null&&(Re===null?Re=t:Re.push.apply(Re,t),wa=null),t}function oo(t){wa===null?wa=[t]:wa.push(t)}var ff=P(null),Ea=null,lr=null;function Li(t,r,a){G(ff,r._currentValue),r._currentValue=a}function ur(t){t._currentValue=ff.current,$(ff)}function hf(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function df(t,r,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<r.length;T++)if(S.context===r[T]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),hf(f.return,a,t),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),hf(m,a,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function lo(t,r,a,o){t=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var S=u.type;Ve(u.pendingProps.value,m.value)||(t!==null?t.push(S):t=[S])}}else if(u===qe.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}u=u.return}t!==null&&df(r,t,a,o),r.flags|=262144}function Ul(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xa(t){Ea=t,lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function be(t){return am(Ea,t)}function Ll(t,r){return Ea===null&&xa(t),am(t,r)}function am(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},lr===null){if(t===null)throw Error(i(308));lr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else lr=lr.next=r;return a}var vb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Sb=s.unstable_scheduleCallback,bb=s.unstable_NormalPriority,ie={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new vb,data:new Map,refCount:0}}function uo(t){t.refCount--,t.refCount===0&&Sb(bb,function(){t.controller.abort()})}var co=null,mf=0,ss=0,os=null;function Tb(t,r){if(co===null){var a=co=[];mf=0,ss=ph(),os={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mf++,r.then(sm,sm),r}function sm(){if(--mf===0&&co!==null){os!==null&&(os.status="fulfilled");var t=co;co=null,ss=0,os=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function wb(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var om=U.S;U.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Tb(t,r),om!==null&&om(t,r)};var Na=P(null);function yf(){var t=Na.current;return t!==null?t:Pt.pooledCache}function ql(t,r){r===null?G(Na,Na.current):G(Na,r.pool)}function lm(){var t=yf();return t===null?null:{parent:ie._currentValue,pool:t}}var fo=Error(i(460)),um=Error(i(474)),Jl=Error(i(542)),pf={then:function(){}};function cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pl(){}function fm(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Pl,Pl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dm(t),t;default:if(typeof r.status=="string")r.then(Pl,Pl);else{if(t=Pt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,dm(t),t}throw ho=r,fo}}var ho=null;function hm(){if(ho===null)throw Error(i(459));var t=ho;return ho=null,t}function dm(t){if(t===fo||t===Jl)throw Error(i(483))}var qi=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Il(t),Wg(t,null,a),r}return Rl(t,o,r,a),Il(t)}function go(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,sg(t,a)}}function bf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Tf=!1;function mo(){if(Tf){var t=os;if(t!==null)throw t}}function yo(t,r,a,o){Tf=!1;var u=t.updateQueue;qi=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,C=T.next;T.next=null,m===null?f=C:m.next=C,m=T;var M=t.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=C:S.next=C,M.lastBaseUpdate=T))}if(f!==null){var J=u.baseState;m=0,M=C=T=null,S=f;do{var R=S.lane&-536870913,B=R!==S.lane;if(B?(Tt&R)===R:(o&R)===R){R!==0&&R===ss&&(Tf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ot=t,rt=S;R=r;var Mt=a;switch(rt.tag){case 1:if(ot=rt.payload,typeof ot=="function"){J=ot.call(Mt,J,R);break t}J=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=rt.payload,R=typeof ot=="function"?ot.call(Mt,J,R):ot,R==null)break t;J=b({},J,R);break t;case 2:qi=!0}}R=S.callback,R!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[R]:B.push(R))}else B={lane:R,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(C=M=B,T=J):M=M.next=B,m|=R;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(T=J),u.baseState=T,u.firstBaseUpdate=C,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),Xi|=m,t.lanes=m,t.memoizedState=J}}function gm(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function mm(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gm(a[t],r)}var ls=P(null),Vl=P(0);function ym(t,r){t=yr,G(Vl,t),G(ls,r),yr=t|r.baseLanes}function wf(){G(Vl,yr),G(ls,ls.current)}function Af(){yr=Vl.current,$(ls),$(Vl)}var Vi=0,dt=null,Bt=null,ee=null,Hl=!1,us=!1,Da=!1,jl=0,po=0,cs=null,Ab=0;function Ft(){throw Error(i(321))}function Ef(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Ve(t[a],r[a]))return!1;return!0}function xf(t,r,a,o,u,f){return Vi=f,dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?Wm:ty,Da=!1,f=a(o,u),Da=!1,us&&(f=vm(r,a,o,u)),pm(t),f}function pm(t){U.H=Zl;var r=Bt!==null&&Bt.next!==null;if(Vi=0,ee=Bt=dt=null,Hl=!1,po=0,cs=null,r)throw Error(i(300));t===null||le||(t=t.dependencies,t!==null&&Ul(t)&&(le=!0))}function vm(t,r,a,o){dt=t;var u=0;do{if(us&&(cs=null),po=0,us=!1,25<=u)throw Error(i(301));if(u+=1,ee=Bt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=kb,f=r(a,o)}while(us);return f}function Eb(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?vo(r):r,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(dt.flags|=1024),r}function Nf(){var t=jl!==0;return jl=0,t}function Df(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Of(t){if(Hl){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Hl=!1}Vi=0,ee=Bt=dt=null,us=!1,po=jl=0,cs=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?dt.memoizedState=ee=t:ee=ee.next=t,ee}function ne(){if(Bt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var r=ee===null?dt.memoizedState:ee.next;if(r!==null)ee=r,Bt=t;else{if(t===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ee===null?dt.memoizedState=ee=t:ee=ee.next=t}return ee}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(t){var r=po;return po+=1,cs===null&&(cs=[]),t=fm(cs,t,r),r=dt,(ee===null?r.memoizedState:ee.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Wm:ty),t}function Yl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vo(t);if(t.$$typeof===ct)return be(t)}throw Error(i(438,String(t)))}function kf(t){var r=null,a=dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cf(),dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=re;return r.index++,a}function cr(t,r){return typeof r=="function"?r(t):r}function Gl(t){var r=ne();return Rf(r,Bt,t)}function Rf(t,r,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}r.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{r=u.next;var S=m=null,T=null,C=r,M=!1;do{var J=C.lane&-536870913;if(J!==C.lane?(Tt&J)===J:(Vi&J)===J){var R=C.revertLane;if(R===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),J===ss&&(M=!0);else if((Vi&R)===R){C=C.next,R===ss&&(M=!0);continue}else J={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},T===null?(S=T=J,m=f):T=T.next=J,dt.lanes|=R,Xi|=R;J=C.action,Da&&a(f,J),f=C.hasEagerState?C.eagerState:a(f,J)}else R={lane:J,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},T===null?(S=T=R,m=f):T=T.next=R,dt.lanes|=J,Xi|=J;C=C.next}while(C!==null&&C!==r);if(T===null?m=f:T.next=S,!Ve(f,t.memoizedState)&&(le=!0,M&&(a=os,a!==null)))throw a;t.memoizedState=f,t.baseState=m,t.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function If(t){var r=ne(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=t(f,m.action),m=m.next;while(m!==u);Ve(f,r.memoizedState)||(le=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function Sm(t,r,a){var o=dt,u=ne(),f=Dt;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var m=!Ve((Bt||u).memoizedState,a);m&&(u.memoizedState=a,le=!0),u=u.queue;var S=wm.bind(null,o,u,t);if(So(2048,8,S,[t]),u.getSnapshot!==r||m||ee!==null&&ee.memoizedState.tag&1){if(o.flags|=2048,fs(9,Kl(),Tm.bind(null,o,u,a,r),null),Pt===null)throw Error(i(349));f||(Vi&124)!==0||bm(o,r,a)}return a}function bm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=dt.updateQueue,r===null?(r=Cf(),dt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Tm(t,r,a,o){r.value=a,r.getSnapshot=o,Am(r)&&Em(t)}function wm(t,r,a){return a(function(){Am(r)&&Em(t)})}function Am(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Ve(t,a)}catch{return!0}}function Em(t){var r=ns(t,2);r!==null&&$e(r,t,2)}function Bf(t){var r=Ce();if(typeof t=="function"){var a=t;if(t=a(),Da){zi(!0);try{a()}finally{zi(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},r}function xm(t,r,a,o){return t.baseState=a,Rf(t,Bt,typeof o=="function"?o:cr)}function xb(t,r,a,o,u){if(Xl(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,Nm(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Nm(t,r){var a=r.action,o=r.payload,u=t.state;if(r.isTransition){var f=U.T,m={};U.T=m;try{var S=a(u,o),T=U.S;T!==null&&T(m,S),Dm(t,r,S)}catch(C){zf(t,r,C)}finally{U.T=f}}else try{f=a(u,o),Dm(t,r,f)}catch(C){zf(t,r,C)}}function Dm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Om(t,r,o)},function(o){return zf(t,r,o)}):Om(t,r,a)}function Om(t,r,a){r.status="fulfilled",r.value=a,Cm(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Nm(t,a)))}function zf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,Cm(r),r=r.next;while(r!==o)}t.action=null}function Cm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function km(t,r){return r}function Rm(t,r){if(Dt){var a=Pt.formState;if(a!==null){t:{var o=dt;if(Dt){if($t){e:{for(var u=$t,f=zn;u.nodeType!==8;){if(!f){u=null;break e}if(u=xn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$t=xn(u.nextSibling),o=u.data==="F!";break t}}Aa(o)}o=!1}o&&(r=a[0])}}return a=Ce(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:r},a.queue=o,a=Qm.bind(null,dt,o),o.dispatch=a,o=Bf(!1),f=Jf.bind(null,dt,!1,o.queue),o=Ce(),u={state:r,dispatch:null,action:t,pending:null},o.queue=u,a=xb.bind(null,dt,u,f,a),u.dispatch=a,o.memoizedState=t,[r,a,!1]}function Im(t){var r=ne();return Bm(r,Bt,t)}function Bm(t,r,a){if(r=Rf(t,r,km)[0],t=Gl(cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=vo(r)}catch(m){throw m===fo?Jl:m}else o=r;r=ne();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(dt.flags|=2048,fs(9,Kl(),Nb.bind(null,u,a),null)),[o,f,t]}function Nb(t,r){t.action=r}function zm(t){var r=ne(),a=Bt;if(a!==null)return Bm(r,a,t);ne(),r=r.memoizedState,a=ne();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function fs(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=dt.updateQueue,r===null&&(r=Cf(),dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function Kl(){return{destroy:void 0,resource:void 0}}function Mm(){return ne().memoizedState}function $l(t,r,a,o){var u=Ce();o=o===void 0?null:o,dt.flags|=t,u.memoizedState=fs(1|r,Kl(),a,o)}function So(t,r,a,o){var u=ne();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&Ef(o,Bt.memoizedState.deps)?u.memoizedState=fs(r,f,a,o):(dt.flags|=t,u.memoizedState=fs(1|r,f,a,o))}function Um(t,r){$l(8390656,8,t,r)}function Lm(t,r){So(2048,8,t,r)}function qm(t,r){return So(4,2,t,r)}function Jm(t,r){return So(4,4,t,r)}function Pm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Vm(t,r,a){a=a!=null?a.concat([t]):null,So(4,4,Pm.bind(null,r,t),a)}function Mf(){}function Hm(t,r){var a=ne();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Ef(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function jm(t,r){var a=ne();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Ef(r,o[1]))return o[0];if(o=t(),Da){zi(!0);try{t()}finally{zi(!1)}}return a.memoizedState=[o,r],o}function Uf(t,r,a){return a===void 0||(Vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Ky(),dt.lanes|=t,Xi|=t,a)}function Ym(t,r,a,o){return Ve(a,r)?a:ls.current!==null?(t=Uf(t,a,o),Ve(t,r)||(le=!0),t):(Vi&42)===0?(le=!0,t.memoizedState=a):(t=Ky(),dt.lanes|=t,Xi|=t,r)}function Gm(t,r,a,o,u){var f=K.p;K.p=f!==0&&8>f?f:8;var m=U.T,S={};U.T=S,Jf(t,!1,r,a);try{var T=u(),C=U.S;if(C!==null&&C(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var M=wb(T,o);bo(t,r,M,Ke(t))}else bo(t,r,o,Ke(t))}catch(J){bo(t,r,{then:function(){},status:"rejected",reason:J},Ke())}finally{K.p=f,U.T=m}}function Db(){}function Lf(t,r,a,o){if(t.tag!==5)throw Error(i(476));var u=Km(t).queue;Gm(t,u,r,at,a===null?Db:function(){return $m(t),a(o)})}function Km(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:at},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function $m(t){var r=Km(t).next.queue;bo(t,r,{},Ke())}function qf(){return be(qo)}function Xm(){return ne().memoizedState}function Zm(){return ne().memoizedState}function Ob(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ke();t=Ji(a);var o=Pi(r,t,a);o!==null&&($e(o,r,a),go(o,r,a)),r={cache:gf()},t.payload=r;return}r=r.return}}function Cb(t,r,a){var o=Ke();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xl(t)?Fm(r,a):(a=rf(t,r,a,o),a!==null&&($e(a,t,o),_m(a,r,o)))}function Qm(t,r,a){var o=Ke();bo(t,r,a,o)}function bo(t,r,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xl(t))Fm(r,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Ve(S,m))return Rl(t,r,u,0),Pt===null&&kl(),!1}catch{}finally{}if(a=rf(t,r,u,o),a!==null)return $e(a,t,o),_m(a,r,o),!0}return!1}function Jf(t,r,a,o){if(o={lane:2,revertLane:ph(),action:o,hasEagerState:!1,eagerState:null,next:null},Xl(t)){if(r)throw Error(i(479))}else r=rf(t,a,o,2),r!==null&&$e(r,t,2)}function Xl(t){var r=t.alternate;return t===dt||r!==null&&r===dt}function Fm(t,r){us=Hl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function _m(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,sg(t,a)}}var Zl={readContext:be,use:Yl,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Wm={readContext:be,use:Yl,useCallback:function(t,r){return Ce().memoizedState=[t,r===void 0?null:r],t},useContext:be,useEffect:Um,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,$l(4194308,4,Pm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return $l(4194308,4,t,r)},useInsertionEffect:function(t,r){$l(4,2,t,r)},useMemo:function(t,r){var a=Ce();r=r===void 0?null:r;var o=t();if(Da){zi(!0);try{t()}finally{zi(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=Ce();if(a!==void 0){var u=a(r);if(Da){zi(!0);try{a(r)}finally{zi(!1)}}}else u=r;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=Cb.bind(null,dt,t),[o.memoizedState,t]},useRef:function(t){var r=Ce();return t={current:t},r.memoizedState=t},useState:function(t){t=Bf(t);var r=t.queue,a=Qm.bind(null,dt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,r){var a=Ce();return Uf(a,t,r)},useTransition:function(){var t=Bf(!1);return t=Gm.bind(null,dt,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=dt,u=Ce();if(Dt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(Tt&124)!==0||bm(o,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,Um(wm.bind(null,o,f,t),[t]),o.flags|=2048,fs(9,Kl(),Tm.bind(null,o,f,a,r),null),a},useId:function(){var t=Ce(),r=Pt.identifierPrefix;if(Dt){var a=or,o=sr;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=jl++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Ab++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:qf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t){var r=Ce();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jf.bind(null,dt,!0,a),a.dispatch=r,[t,r]},useMemoCache:kf,useCacheRefresh:function(){return Ce().memoizedState=Ob.bind(null,dt)}},ty={readContext:be,use:Yl,useCallback:Hm,useContext:be,useEffect:Lm,useImperativeHandle:Vm,useInsertionEffect:qm,useLayoutEffect:Jm,useMemo:jm,useReducer:Gl,useRef:Mm,useState:function(){return Gl(cr)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=ne();return Ym(a,Bt.memoizedState,t,r)},useTransition:function(){var t=Gl(cr)[0],r=ne().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:Sm,useId:Xm,useHostTransitionStatus:qf,useFormState:Im,useActionState:Im,useOptimistic:function(t,r){var a=ne();return xm(a,Bt,t,r)},useMemoCache:kf,useCacheRefresh:Zm},kb={readContext:be,use:Yl,useCallback:Hm,useContext:be,useEffect:Lm,useImperativeHandle:Vm,useInsertionEffect:qm,useLayoutEffect:Jm,useMemo:jm,useReducer:If,useRef:Mm,useState:function(){return If(cr)},useDebugValue:Mf,useDeferredValue:function(t,r){var a=ne();return Bt===null?Uf(a,t,r):Ym(a,Bt.memoizedState,t,r)},useTransition:function(){var t=If(cr)[0],r=ne().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:Sm,useId:Xm,useHostTransitionStatus:qf,useFormState:zm,useActionState:zm,useOptimistic:function(t,r){var a=ne();return Bt!==null?xm(a,Bt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Zm},hs=null,To=0;function Ql(t){var r=To;return To+=1,hs===null&&(hs=[]),fm(hs,t,r)}function wo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Fl(t,r){throw r.$$typeof===E?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ey(t){var r=t._init;return r(t._payload)}function ny(t){function r(N,A){if(t){var O=N.deletions;O===null?(N.deletions=[A],N.flags|=16):O.push(A)}}function a(N,A){if(!t)return null;for(;A!==null;)r(N,A),A=A.sibling;return null}function o(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function u(N,A){return N=ar(N,A),N.index=0,N.sibling=null,N}function f(N,A,O){return N.index=O,t?(O=N.alternate,O!==null?(O=O.index,O<A?(N.flags|=67108866,A):O):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function m(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function S(N,A,O,L){return A===null||A.tag!==6?(A=sf(O,N.mode,L),A.return=N,A):(A=u(A,O),A.return=N,A)}function T(N,A,O,L){var X=O.type;return X===q?M(N,A,O.props.children,L,O.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&ey(X)===A.type)?(A=u(A,O.props),wo(A,O),A.return=N,A):(A=Bl(O.type,O.key,O.props,null,N.mode,L),wo(A,O),A.return=N,A)}function C(N,A,O,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=of(O,N.mode,L),A.return=N,A):(A=u(A,O.children||[]),A.return=N,A)}function M(N,A,O,L,X){return A===null||A.tag!==7?(A=Sa(O,N.mode,L,X),A.return=N,A):(A=u(A,O),A.return=N,A)}function J(N,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=sf(""+A,N.mode,O),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return O=Bl(A.type,A.key,A.props,null,N.mode,O),wo(O,A),O.return=N,O;case k:return A=of(A,N.mode,O),A.return=N,A;case wt:var L=A._init;return A=L(A._payload),J(N,A,O)}if(ve(A)||se(A))return A=Sa(A,N.mode,O,null),A.return=N,A;if(typeof A.then=="function")return J(N,Ql(A),O);if(A.$$typeof===ct)return J(N,Ll(N,A),O);Fl(N,A)}return null}function R(N,A,O,L){var X=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return X!==null?null:S(N,A,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return O.key===X?T(N,A,O,L):null;case k:return O.key===X?C(N,A,O,L):null;case wt:return X=O._init,O=X(O._payload),R(N,A,O,L)}if(ve(O)||se(O))return X!==null?null:M(N,A,O,L,null);if(typeof O.then=="function")return R(N,A,Ql(O),L);if(O.$$typeof===ct)return R(N,A,Ll(N,O),L);Fl(N,O)}return null}function B(N,A,O,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(O)||null,S(A,N,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return N=N.get(L.key===null?O:L.key)||null,T(A,N,L,X);case k:return N=N.get(L.key===null?O:L.key)||null,C(A,N,L,X);case wt:var gt=L._init;return L=gt(L._payload),B(N,A,O,L,X)}if(ve(L)||se(L))return N=N.get(O)||null,M(A,N,L,X,null);if(typeof L.then=="function")return B(N,A,O,Ql(L),X);if(L.$$typeof===ct)return B(N,A,O,Ll(A,L),X);Fl(A,L)}return null}function ot(N,A,O,L){for(var X=null,gt=null,Q=A,it=A=0,ce=null;Q!==null&&it<O.length;it++){Q.index>it?(ce=Q,Q=null):ce=Q.sibling;var Nt=R(N,Q,O[it],L);if(Nt===null){Q===null&&(Q=ce);break}t&&Q&&Nt.alternate===null&&r(N,Q),A=f(Nt,A,it),gt===null?X=Nt:gt.sibling=Nt,gt=Nt,Q=ce}if(it===O.length)return a(N,Q),Dt&&Ta(N,it),X;if(Q===null){for(;it<O.length;it++)Q=J(N,O[it],L),Q!==null&&(A=f(Q,A,it),gt===null?X=Q:gt.sibling=Q,gt=Q);return Dt&&Ta(N,it),X}for(Q=o(Q);it<O.length;it++)ce=B(Q,N,it,O[it],L),ce!==null&&(t&&ce.alternate!==null&&Q.delete(ce.key===null?it:ce.key),A=f(ce,A,it),gt===null?X=ce:gt.sibling=ce,gt=ce);return t&&Q.forEach(function(ra){return r(N,ra)}),Dt&&Ta(N,it),X}function rt(N,A,O,L){if(O==null)throw Error(i(151));for(var X=null,gt=null,Q=A,it=A=0,ce=null,Nt=O.next();Q!==null&&!Nt.done;it++,Nt=O.next()){Q.index>it?(ce=Q,Q=null):ce=Q.sibling;var ra=R(N,Q,Nt.value,L);if(ra===null){Q===null&&(Q=ce);break}t&&Q&&ra.alternate===null&&r(N,Q),A=f(ra,A,it),gt===null?X=ra:gt.sibling=ra,gt=ra,Q=ce}if(Nt.done)return a(N,Q),Dt&&Ta(N,it),X;if(Q===null){for(;!Nt.done;it++,Nt=O.next())Nt=J(N,Nt.value,L),Nt!==null&&(A=f(Nt,A,it),gt===null?X=Nt:gt.sibling=Nt,gt=Nt);return Dt&&Ta(N,it),X}for(Q=o(Q);!Nt.done;it++,Nt=O.next())Nt=B(Q,N,it,Nt.value,L),Nt!==null&&(t&&Nt.alternate!==null&&Q.delete(Nt.key===null?it:Nt.key),A=f(Nt,A,it),gt===null?X=Nt:gt.sibling=Nt,gt=Nt);return t&&Q.forEach(function(RT){return r(N,RT)}),Dt&&Ta(N,it),X}function Mt(N,A,O,L){if(typeof O=="object"&&O!==null&&O.type===q&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case I:t:{for(var X=O.key;A!==null;){if(A.key===X){if(X=O.type,X===q){if(A.tag===7){a(N,A.sibling),L=u(A,O.props.children),L.return=N,N=L;break t}}else if(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&ey(X)===A.type){a(N,A.sibling),L=u(A,O.props),wo(L,O),L.return=N,N=L;break t}a(N,A);break}else r(N,A);A=A.sibling}O.type===q?(L=Sa(O.props.children,N.mode,L,O.key),L.return=N,N=L):(L=Bl(O.type,O.key,O.props,null,N.mode,L),wo(L,O),L.return=N,N=L)}return m(N);case k:t:{for(X=O.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){a(N,A.sibling),L=u(A,O.children||[]),L.return=N,N=L;break t}else{a(N,A);break}else r(N,A);A=A.sibling}L=of(O,N.mode,L),L.return=N,N=L}return m(N);case wt:return X=O._init,O=X(O._payload),Mt(N,A,O,L)}if(ve(O))return ot(N,A,O,L);if(se(O)){if(X=se(O),typeof X!="function")throw Error(i(150));return O=X.call(O),rt(N,A,O,L)}if(typeof O.then=="function")return Mt(N,A,Ql(O),L);if(O.$$typeof===ct)return Mt(N,A,Ll(N,O),L);Fl(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(a(N,A.sibling),L=u(A,O),L.return=N,N=L):(a(N,A),L=sf(O,N.mode,L),L.return=N,N=L),m(N)):a(N,A)}return function(N,A,O,L){try{To=0;var X=Mt(N,A,O,L);return hs=null,X}catch(Q){if(Q===fo||Q===Jl)throw Q;var gt=He(29,Q,null,N.mode);return gt.lanes=L,gt.return=N,gt}finally{}}}var ds=ny(!0),ry=ny(!1),an=P(null),Mn=null;function Hi(t){var r=t.alternate;G(ae,ae.current&1),G(an,t),Mn===null&&(r===null||ls.current!==null||r.memoizedState!==null)&&(Mn=t)}function iy(t){if(t.tag===22){if(G(ae,ae.current),G(an,t),Mn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Mn=t)}}else ji()}function ji(){G(ae,ae.current),G(an,an.current)}function fr(t){$(an),Mn===t&&(Mn=null),$(ae)}var ae=P(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ch(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Pf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=Ke(),u=Ji(o);u.payload=r,a!=null&&(u.callback=a),r=Pi(t,u,o),r!==null&&($e(r,t,o),go(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=Ke(),u=Ji(o);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=Pi(t,u,o),r!==null&&($e(r,t,o),go(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Ke(),o=Ji(a);o.tag=2,r!=null&&(o.callback=r),r=Pi(t,o,a),r!==null&&($e(r,t,a),go(r,t,a))}};function ay(t,r,a,o,u,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,m):r.prototype&&r.prototype.isPureReactComponent?!ro(a,o)||!ro(u,f):!0}function sy(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&Vf.enqueueReplaceState(r,r.state,null)}function Oa(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Wl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function oy(t){Wl(t)}function ly(t){console.error(t)}function uy(t){Wl(t)}function tu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function cy(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Hf(t,r,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(t,r)},a}function fy(t){return t=Ji(t),t.tag=3,t}function hy(t,r,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){cy(r,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){cy(r,a,o),typeof u!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Rb(t,r,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&lo(r,a,u,!0),a=an.current,a!==null){switch(a.tag){case 13:return Mn===null?hh():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===pf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),gh(t,o,u)),!1;case 22:return a.flags|=65536,o===pf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),gh(t,o,u)),!1}throw Error(i(435,a.tag))}return gh(t,o,u),hh(),!1}if(Dt)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==cf&&(t=Error(i(422),{cause:o}),oo(tn(t,a)))):(o!==cf&&(r=Error(i(423),{cause:o}),oo(tn(r,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=tn(o,a),u=Hf(t.stateNode,o,u),bf(t,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:o});if(f=tn(f,a),Co===null?Co=[f]:Co.push(f),Xt!==4&&(Xt=2),r===null)return!0;o=tn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Hf(a.stateNode,o,t),bf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zi===null||!Zi.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=fy(u),hy(u,t,a,o),bf(a,u),!1}a=a.return}while(a!==null);return!1}var dy=Error(i(461)),le=!1;function fe(t,r,a,o){r.child=t===null?ry(r,null,a,o):ds(r,t.child,a,o)}function gy(t,r,a,o,u){a=a.render;var f=r.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return xa(r),o=xf(t,r,a,m,f,u),S=Nf(),t!==null&&!le?(Df(t,r,u),hr(t,r,u)):(Dt&&S&&lf(r),r.flags|=1,fe(t,r,o,u),r.child)}function my(t,r,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,yy(t,r,f,o,u)):(t=Bl(a.type,null,o,r,r.mode,u),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Qf(t,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:ro,a(m,o)&&t.ref===r.ref)return hr(t,r,u)}return r.flags|=1,t=ar(f,o),t.ref=r.ref,t.return=r,r.child=t}function yy(t,r,a,o,u){if(t!==null){var f=t.memoizedProps;if(ro(f,o)&&t.ref===r.ref)if(le=!1,r.pendingProps=o=f,Qf(t,u))(t.flags&131072)!==0&&(le=!0);else return r.lanes=t.lanes,hr(t,r,u)}return jf(t,r,a,o,u)}function py(t,r,a){var o=r.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=r.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return vy(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ql(r,f!==null?f.cachePool:null),f!==null?ym(r,f):wf(),iy(r);else return r.lanes=r.childLanes=536870912,vy(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(ql(r,f.cachePool),ym(r,f),ji(),r.memoizedState=null):(t!==null&&ql(r,null),wf(),ji());return fe(t,r,u,a),r.child}function vy(t,r,a,o){var u=yf();return u=u===null?null:{parent:ie._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},t!==null&&ql(r,null),wf(),iy(r),t!==null&&lo(t,r,o,!0),null}function eu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jf(t,r,a,o,u){return xa(r),a=xf(t,r,a,o,void 0,u),o=Nf(),t!==null&&!le?(Df(t,r,u),hr(t,r,u)):(Dt&&o&&lf(r),r.flags|=1,fe(t,r,a,u),r.child)}function Sy(t,r,a,o,u,f){return xa(r),r.updateQueue=null,a=vm(r,o,a,u),pm(t),o=Nf(),t!==null&&!le?(Df(t,r,f),hr(t,r,f)):(Dt&&o&&lf(r),r.flags|=1,fe(t,r,a,f),r.child)}function by(t,r,a,o,u){if(xa(r),r.stateNode===null){var f=rs,m=a.contextType;typeof m=="object"&&m!==null&&(f=be(m)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},vf(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?be(m):rs,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Pf(r,a,m,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Vf.enqueueReplaceState(f,f.state,null),yo(r,o,f,u),mo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var S=r.memoizedProps,T=Oa(a,S);f.props=T;var C=f.context,M=a.contextType;m=rs,typeof M=="object"&&M!==null&&(m=be(M));var J=a.getDerivedStateFromProps;M=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||C!==m)&&sy(r,f,o,m),qi=!1;var R=r.memoizedState;f.state=R,yo(r,o,f,u),mo(),C=r.memoizedState,S||R!==C||qi?(typeof J=="function"&&(Pf(r,a,J,o),C=r.memoizedState),(T=qi||ay(r,a,T,o,R,C,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=C),f.props=o,f.state=C,f.context=m,o=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Sf(t,r),m=r.memoizedProps,M=Oa(a,m),f.props=M,J=r.pendingProps,R=f.context,C=a.contextType,T=rs,typeof C=="object"&&C!==null&&(T=be(C)),S=a.getDerivedStateFromProps,(C=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==J||R!==T)&&sy(r,f,o,T),qi=!1,R=r.memoizedState,f.state=R,yo(r,o,f,u),mo();var B=r.memoizedState;m!==J||R!==B||qi||t!==null&&t.dependencies!==null&&Ul(t.dependencies)?(typeof S=="function"&&(Pf(r,a,S,o),B=r.memoizedState),(M=qi||ay(r,a,M,o,R,B,T)||t!==null&&t.dependencies!==null&&Ul(t.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=T,o=M):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,eu(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=ds(r,t.child,null,u),r.child=ds(r,null,a,u)):fe(t,r,a,u),r.memoizedState=f.state,t=r.child):t=hr(t,r,u),t}function Ty(t,r,a,o){return so(),r.flags|=256,fe(t,r,a,o),r.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:lm()}}function Kf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=sn),t}function wy(t,r,a){var o=r.pendingProps,u=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(ae.current&2)!==0),m&&(u=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,t===null){if(Dt){if(u?Hi(r):ji(),Dt){var S=$t,T;if(T=S){t:{for(T=S,S=zn;T.nodeType!==8;){if(!S){S=null;break t}if(T=xn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:ba!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},T=He(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,xe=r,$t=null,T=!0):T=!1}T||Aa(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ch(S)?r.lanes=32:r.lanes=536870912,null;fr(r)}return S=o.children,o=o.fallback,u?(ji(),u=r.mode,S=nu({mode:"hidden",children:S},u),o=Sa(o,u,a,null),S.return=r,o.return=r,S.sibling=o,r.child=S,u=r.child,u.memoizedState=Gf(a),u.childLanes=Kf(t,m,a),r.memoizedState=Yf,o):(Hi(r),$f(r,S))}if(T=t.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)r.flags&256?(Hi(r),r.flags&=-257,r=Xf(t,r,a)):r.memoizedState!==null?(ji(),r.child=t.child,r.flags|=128,r=null):(ji(),u=o.fallback,S=r.mode,o=nu({mode:"visible",children:o.children},S),u=Sa(u,S,a,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,ds(r,t.child,null,a),o=r.child,o.memoizedState=Gf(a),o.childLanes=Kf(t,m,a),r.memoizedState=Yf,r=u);else if(Hi(r),Ch(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var C=m.dgst;m=C,o=Error(i(419)),o.stack="",o.digest=m,oo({value:o,source:null,stack:null}),r=Xf(t,r,a)}else if(le||lo(t,r,a,!1),m=(a&t.childLanes)!==0,le||m){if(m=Pt,m!==null&&(o=a&-a,o=(o&42)!==0?1:Cc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==T.retryLane))throw T.retryLane=o,ns(t,o),$e(m,t,o),dy;S.data==="$?"||hh(),r=Xf(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=T.treeContext,$t=xn(S.nextSibling),xe=r,Dt=!0,wa=null,zn=!1,t!==null&&(nn[rn++]=sr,nn[rn++]=or,nn[rn++]=ba,sr=t.id,or=t.overflow,ba=r),r=$f(r,o.children),r.flags|=4096);return r}return u?(ji(),u=o.fallback,S=r.mode,T=t.child,C=T.sibling,o=ar(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,C!==null?u=ar(C,u):(u=Sa(u,S,a,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,S=t.child.memoizedState,S===null?S=Gf(a):(T=S.cachePool,T!==null?(C=ie._currentValue,T=T.parent!==C?{parent:C,pool:C}:T):T=lm(),S={baseLanes:S.baseLanes|a,cachePool:T}),u.memoizedState=S,u.childLanes=Kf(t,m,a),r.memoizedState=Yf,o):(Hi(r),a=t.child,t=a.sibling,a=ar(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(m=r.deletions,m===null?(r.deletions=[t],r.flags|=16):m.push(t)),r.child=a,r.memoizedState=null,a)}function $f(t,r){return r=nu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function nu(t,r){return t=He(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xf(t,r,a){return ds(r,t.child,null,a),t=$f(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ay(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),hf(t.return,r,a)}function Zf(t,r,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function Ey(t,r,a){var o=r.pendingProps,u=o.revealOrder,f=o.tail;if(fe(t,r,o.children,a),o=ae.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,r);else if(t.tag===19)Ay(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(ae,o),u){case"forwards":for(a=r.child,u=null;a!==null;)t=a.alternate,t!==null&&_l(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),Zf(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(t=u.alternate,t!==null&&_l(t)===null){r.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Zf(r,!0,a,null,f);break;case"together":Zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(lo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=ar(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ar(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Qf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ul(t)))}function Ib(t,r,a){switch(r.tag){case 3:Ht(r,r.stateNode.containerInfo),Li(r,ie,t.memoizedState.cache),so();break;case 27:case 5:Ec(r);break;case 4:Ht(r,r.stateNode.containerInfo);break;case 10:Li(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wy(t,r,a):(Hi(r),t=hr(t,r,a),t!==null?t.sibling:null);Hi(r);break;case 19:var u=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(lo(t,r,a,!1),o=(a&r.childLanes)!==0),u){if(o)return Ey(t,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(ae,ae.current),o)break;return null;case 22:case 23:return r.lanes=0,py(t,r,a);case 24:Li(r,ie,t.memoizedState.cache)}return hr(t,r,a)}function xy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)le=!0;else{if(!Qf(t,a)&&(r.flags&128)===0)return le=!1,Ib(t,r,a);le=(t.flags&131072)!==0}else le=!1,Dt&&(r.flags&1048576)!==0&&em(r,Ml,r.index);switch(r.lanes=0,r.tag){case 16:t:{t=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")af(o)?(t=Oa(o,t),r.tag=1,r=by(null,r,o,t,a)):(r.tag=0,r=jf(null,r,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===mt){r.tag=11,r=gy(null,r,o,t,a);break t}else if(u===yt){r.tag=14,r=my(null,r,o,t,a);break t}}throw r=da(o)||o,Error(i(306,r,""))}}return r;case 0:return jf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,u=Oa(o,r.pendingProps),by(t,r,o,u,a);case 3:t:{if(Ht(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;u=f.element,Sf(t,r),yo(r,o,null,a);var m=r.memoizedState;if(o=m.cache,Li(r,ie,o),o!==f.cache&&df(r,[ie],a,!0),mo(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ty(t,r,o,a);break t}else if(o!==u){u=tn(Error(i(424)),r),oo(u),r=Ty(t,r,o,a);break t}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=xn(t.firstChild),xe=r,Dt=!0,wa=null,zn=!0,a=ry(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(so(),o===u){r=hr(t,r,a);break t}fe(t,r,o,a)}r=r.child}return r;case 26:return eu(t,r),t===null?(a=Cp(r.type,null,r.pendingProps,null))?r.memoizedState=a:Dt||(a=r.type,t=r.pendingProps,o=yu(ut.current).createElement(a),o[Se]=r,o[De]=t,de(o,a,t),oe(o),r.stateNode=o):r.memoizedState=Cp(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ec(r),t===null&&Dt&&(o=r.stateNode=Np(r.type,r.pendingProps,ut.current),xe=r,zn=!0,u=$t,_i(r.type)?(kh=u,$t=xn(o.firstChild)):$t=u),fe(t,r,r.pendingProps.children,a),eu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Dt&&((u=o=$t)&&(o=sT(o,r.type,r.pendingProps,zn),o!==null?(r.stateNode=o,xe=r,$t=xn(o.firstChild),zn=!1,u=!0):u=!1),u||Aa(r)),Ec(r),u=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,o=f.children,Nh(u,f)?o=null:m!==null&&Nh(u,m)&&(r.flags|=32),r.memoizedState!==null&&(u=xf(t,r,Eb,null,null,a),qo._currentValue=u),eu(t,r),fe(t,r,o,a),r.child;case 6:return t===null&&Dt&&((t=a=$t)&&(a=oT(a,r.pendingProps,zn),a!==null?(r.stateNode=a,xe=r,$t=null,t=!0):t=!1),t||Aa(r)),null;case 13:return wy(t,r,a);case 4:return Ht(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=ds(r,null,o,a):fe(t,r,o,a),r.child;case 11:return gy(t,r,r.type,r.pendingProps,a);case 7:return fe(t,r,r.pendingProps,a),r.child;case 8:return fe(t,r,r.pendingProps.children,a),r.child;case 12:return fe(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Li(r,r.type,o.value),fe(t,r,o.children,a),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,xa(r),u=be(u),o=o(u),r.flags|=1,fe(t,r,o,a),r.child;case 14:return my(t,r,r.type,r.pendingProps,a);case 15:return yy(t,r,r.type,r.pendingProps,a);case 19:return Ey(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=nu(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ar(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return py(t,r,a);case 24:return xa(r),o=be(ie),t===null?(u=yf(),u===null&&(u=Pt,f=gf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:o,cache:u},vf(r),Li(r,ie,u)):((t.lanes&a)!==0&&(Sf(t,r),yo(r,null,null,a),mo()),u=t.memoizedState,f=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),Li(r,ie,o)):(o=f.cache,Li(r,ie,o),o!==u.cache&&df(r,[ie],a,!0))),fe(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function dr(t){t.flags|=4}function Ny(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zp(r)){if(r=an.current,r!==null&&((Tt&4194048)===Tt?Mn!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||r!==Mn))throw ho=pf,um;t.flags|=8192}}function ru(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ig():536870912,t.lanes|=r,ps|=r)}function Ao(t,r){if(!Dt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function Bb(t,r,a){var o=r.pendingProps;switch(uf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return Gt(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ur(ie),Bi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ao(r)?dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,im())),Gt(r),null;case 26:return a=r.memoizedState,t===null?(dr(r),a!==null?(Gt(r),Ny(r,a)):(Gt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(dr(r),Gt(r),Ny(r,a)):(Gt(r),r.flags&=-16777217):(t.memoizedProps!==o&&dr(r),Gt(r),r.flags&=-16777217),null;case 27:gl(r),a=ut.current;var u=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&dr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}t=nt.current,ao(r)?nm(r):(t=Np(u,o,a),r.stateNode=t,dr(r))}return Gt(r),null;case 5:if(gl(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&dr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Gt(r),null}if(t=nt.current,ao(r))nm(r);else{switch(u=yu(ut.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[Se]=r,t[De]=o;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=t;t:switch(de(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&dr(r)}}return Gt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&dr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ut.current,ao(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,u=xe,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[Se]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Sp(t.nodeValue,a)),t||Aa(r)}else t=yu(t).createTextNode(o),t[Se]=r,r.stateNode=t}return Gt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=ao(r),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Se]=r}else so(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Gt(r),u=!1}else u=im(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(fr(r),r):(fr(r),null)}if(fr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),ru(r,r.updateQueue),Gt(r),null;case 4:return Bi(),t===null&&Th(r.stateNode.containerInfo),Gt(r),null;case 10:return ur(r.type),Gt(r),null;case 19:if($(ae),u=r.memoizedState,u===null)return Gt(r),null;if(o=(r.flags&128)!==0,f=u.rendering,f===null)if(o)Ao(u,!1);else{if(Xt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=_l(t),f!==null){for(r.flags|=128,Ao(u,!1),t=f.updateQueue,r.updateQueue=t,ru(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)tm(a,t),a=a.sibling;return G(ae,ae.current&1|2),r.child}t=t.sibling}u.tail!==null&&Bn()>su&&(r.flags|=128,o=!0,Ao(u,!1),r.lanes=4194304)}else{if(!o)if(t=_l(f),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,ru(r,t),Ao(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Dt)return Gt(r),null}else 2*Bn()-u.renderingStartTime>su&&a!==536870912&&(r.flags|=128,o=!0,Ao(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(t=u.last,t!==null?t.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Bn(),r.sibling=null,t=ae.current,G(ae,o?t&1|2:t&1),r):(Gt(r),null);case 22:case 23:return fr(r),Af(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Gt(r),r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),a=r.updateQueue,a!==null&&ru(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&$(Na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ur(ie),Gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function zb(t,r){switch(uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ur(ie),Bi(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gl(r),null;case 13:if(fr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));so()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return $(ae),null;case 4:return Bi(),null;case 10:return ur(r.type),null;case 22:case 23:return fr(r),Af(),t!==null&&$(Na),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ur(ie),null;case 25:return null;default:return null}}function Dy(t,r){switch(uf(r),r.tag){case 3:ur(ie),Bi();break;case 26:case 27:case 5:gl(r);break;case 4:Bi();break;case 13:fr(r);break;case 19:$(ae);break;case 10:ur(r.type);break;case 22:case 23:fr(r),Af(),t!==null&&$(Na);break;case 24:ur(ie)}}function Eo(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Lt(r,r.return,S)}}function Yi(t,r,a){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=r;var T=a,C=S;try{C()}catch(M){Lt(u,T,M)}}}o=o.next}while(o!==f)}}catch(M){Lt(r,r.return,M)}}function Oy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{mm(r,a)}catch(o){Lt(t,t.return,o)}}}function Cy(t,r,a){a.props=Oa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Lt(t,r,o)}}function xo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){Lt(t,r,u)}}function Un(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Lt(t,r,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Lt(t,r,u)}else a.current=null}function ky(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Lt(t,t.return,u)}}function Ff(t,r,a){try{var o=t.stateNode;eT(o,t.type,a,r),o[De]=r}catch(u){Lt(t,t.return,u)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_i(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_i(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=mu));else if(o!==4&&(o===27&&_i(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Wf(t,r,a),t=t.sibling;t!==null;)Wf(t,r,a),t=t.sibling}function iu(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&_i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(iu(t,r,a),t=t.sibling;t!==null;)iu(t,r,a),t=t.sibling}function Iy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);de(r,o,a),r[Se]=t,r[De]=a}catch(f){Lt(t,t.return,f)}}var gr=!1,_t=!1,th=!1,By=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Mb(t,r){if(t=t.containerInfo,Eh=wu,t=Yg(t),Fc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,T=-1,C=0,M=0,J=t,R=null;e:for(;;){for(var B;J!==a||u!==0&&J.nodeType!==3||(S=m+u),J!==f||o!==0&&J.nodeType!==3||(T=m+o),J.nodeType===3&&(m+=J.nodeValue.length),(B=J.firstChild)!==null;)R=J,J=B;for(;;){if(J===t)break e;if(R===a&&++C===u&&(S=m),R===f&&++M===o&&(T=m),(B=J.nextSibling)!==null)break;J=R,R=J.parentNode}J=B}a=S===-1||T===-1?null:{start:S,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(xh={focusedElem:t,selectionRange:a},wu=!1,ue=r;ue!==null;)if(r=ue,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,ue=t;else for(;ue!==null;){switch(r=ue,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Oa(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(rt){Lt(a,a.return,rt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Oh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Oh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,ue=t;break}ue=r.return}}function zy(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),o&4&&Eo(5,a);break;case 1:if(Gi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(m){Lt(a,a.return,m)}else{var u=Oa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(u,r,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Lt(a,a.return,m)}}o&64&&Oy(a),o&512&&xo(a,a.return);break;case 3:if(Gi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{mm(t,r)}catch(m){Lt(a,a.return,m)}}break;case 27:r===null&&o&4&&Iy(a);case 26:case 5:Gi(t,a),r===null&&o&4&&ky(a),o&512&&xo(a,a.return);break;case 12:Gi(t,a);break;case 13:Gi(t,a),o&4&&Ly(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yb.bind(null,a),lT(t,a))));break;case 22:if(o=a.memoizedState!==null||gr,!o){r=r!==null&&r.memoizedState!==null||_t,u=gr;var f=_t;gr=o,(_t=r)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),gr=u,_t=f}break;case 30:break;default:Gi(t,a)}}function My(t){var r=t.alternate;r!==null&&(t.alternate=null,My(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ic(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jt=null,ke=!1;function mr(t,r,a){for(a=a.child;a!==null;)Uy(t,r,a),a=a.sibling}function Uy(t,r,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Gs,a)}catch{}switch(a.tag){case 26:_t||Un(a,r),mr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Un(a,r);var o=jt,u=ke;_i(a.type)&&(jt=a.stateNode,ke=!1),mr(t,r,a),zo(a.stateNode),jt=o,ke=u;break;case 5:_t||Un(a,r);case 6:if(o=jt,u=ke,jt=null,mr(t,r,a),jt=o,ke=u,jt!==null)if(ke)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(f){Lt(a,r,f)}else try{jt.removeChild(a.stateNode)}catch(f){Lt(a,r,f)}break;case 18:jt!==null&&(ke?(t=jt,Ep(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ho(t)):Ep(jt,a.stateNode));break;case 4:o=jt,u=ke,jt=a.stateNode.containerInfo,ke=!0,mr(t,r,a),jt=o,ke=u;break;case 0:case 11:case 14:case 15:_t||Yi(2,a,r),_t||Yi(4,a,r),mr(t,r,a);break;case 1:_t||(Un(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,r,o)),mr(t,r,a);break;case 21:mr(t,r,a);break;case 22:_t=(o=_t)||a.memoizedState!==null,mr(t,r,a),_t=o;break;default:mr(t,r,a)}}function Ly(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ho(t)}catch(a){Lt(r,r.return,a)}}function Ub(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new By),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new By),r;default:throw Error(i(435,t.tag))}}function eh(t,r){var a=Ub(t);r.forEach(function(o){var u=Gb.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function je(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,m=r,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(_i(S.type)){jt=S.stateNode,ke=!1;break t}break;case 5:jt=S.stateNode,ke=!1;break t;case 3:case 4:jt=S.stateNode.containerInfo,ke=!0;break t}S=S.return}if(jt===null)throw Error(i(160));Uy(f,m,u),jt=null,ke=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)qy(r,t),r=r.sibling}var En=null;function qy(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:je(r,t),Ye(t),o&4&&(Yi(3,t,t.return),Eo(3,t),Yi(5,t,t.return));break;case 1:je(r,t),Ye(t),o&512&&(_t||a===null||Un(a,a.return)),o&64&&gr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=En;if(je(r,t),Ye(t),o&512&&(_t||a===null||Un(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Xs]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),de(f,o,a),f[Se]=t,oe(f),o=f;break t;case"link":var m=Ip("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;case"meta":if(m=Ip("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[Se]=t,oe(f),o=f}t.stateNode=o}else Bp(u,t.type,t.stateNode);else t.stateNode=Rp(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Bp(u,t.type,t.stateNode):Rp(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:je(r,t),Ye(t),o&512&&(_t||a===null||Un(a,a.return)),a!==null&&o&4&&Ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(je(r,t),Ye(t),o&512&&(_t||a===null||Un(a,a.return)),t.flags&32){u=t.stateNode;try{Za(u,"")}catch(B){Lt(t,t.return,B)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Ff(t,u,a!==null?a.memoizedProps:u)),o&1024&&(th=!0);break;case 6:if(je(r,t),Ye(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){Lt(t,t.return,B)}}break;case 3:if(Su=null,u=En,En=pu(r.containerInfo),je(r,t),En=u,Ye(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ho(r.containerInfo)}catch(B){Lt(t,t.return,B)}th&&(th=!1,Jy(t));break;case 4:o=En,En=pu(t.stateNode.containerInfo),je(r,t),Ye(t),En=o;break;case 12:je(r,t),Ye(t);break;case 13:je(r,t),Ye(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=Bn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eh(t,o)));break;case 22:u=t.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,C=gr,M=_t;if(gr=C||u,_t=M||T,je(r,t),_t=M,gr=C,Ye(t),o&8192)t:for(r=t.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||T||gr||_t||Ca(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=T.stateNode;var J=T.memoizedProps.style,R=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(B){Lt(T,T.return,B)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(B){Lt(T,T.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,eh(t,a))));break;case 19:je(r,t),Ye(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eh(t,o)));break;case 30:break;case 21:break;default:je(r,t),Ye(t)}}function Ye(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=_f(t);iu(t,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(Za(m,""),a.flags&=-33);var S=_f(t);iu(t,S,m);break;case 3:case 4:var T=a.stateNode.containerInfo,C=_f(t);Wf(t,C,T);break;default:throw Error(i(161))}}catch(M){Lt(t,t.return,M)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Jy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Gi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(t,r.alternate,r),r=r.sibling}function Ca(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yi(4,r,r.return),Ca(r);break;case 1:Un(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Cy(r,r.return,a),Ca(r);break;case 27:zo(r.stateNode);case 26:case 5:Un(r,r.return),Ca(r);break;case 22:r.memoizedState===null&&Ca(r);break;case 30:Ca(r);break;default:Ca(r)}t=t.sibling}}function Ki(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=t,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(u,f,a),Eo(4,f);break;case 1:if(Ki(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){Lt(o,o.return,C)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)gm(T[u],S)}catch(C){Lt(o,o.return,C)}}a&&m&64&&Oy(f),xo(f,f.return);break;case 27:Iy(f);case 26:case 5:Ki(u,f,a),a&&o===null&&m&4&&ky(f),xo(f,f.return);break;case 12:Ki(u,f,a);break;case 13:Ki(u,f,a),a&&m&4&&Ly(u,f);break;case 22:f.memoizedState===null&&Ki(u,f,a),xo(f,f.return);break;case 30:break;default:Ki(u,f,a)}r=r.sibling}}function nh(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&uo(a))}function rh(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&uo(t))}function Ln(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Py(t,r,a,o),r=r.sibling}function Py(t,r,a,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Ln(t,r,a,o),u&2048&&Eo(9,r);break;case 1:Ln(t,r,a,o);break;case 3:Ln(t,r,a,o),u&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&uo(t)));break;case 12:if(u&2048){Ln(t,r,a,o),t=r.stateNode;try{var f=r.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){Lt(r,r.return,T)}}else Ln(t,r,a,o);break;case 13:Ln(t,r,a,o);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?Ln(t,r,a,o):No(t,r):f._visibility&2?Ln(t,r,a,o):(f._visibility|=2,gs(t,r,a,o,(r.subtreeFlags&10256)!==0)),u&2048&&nh(m,r);break;case 24:Ln(t,r,a,o),u&2048&&rh(r.alternate,r);break;default:Ln(t,r,a,o)}}function gs(t,r,a,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,m=r,S=a,T=o,C=m.flags;switch(m.tag){case 0:case 11:case 15:gs(f,m,S,T,u),Eo(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?gs(f,m,S,T,u):No(f,m):(M._visibility|=2,gs(f,m,S,T,u)),u&&C&2048&&nh(m.alternate,m);break;case 24:gs(f,m,S,T,u),u&&C&2048&&rh(m.alternate,m);break;default:gs(f,m,S,T,u)}r=r.sibling}}function No(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,u=o.flags;switch(o.tag){case 22:No(a,o),u&2048&&nh(o.alternate,o);break;case 24:No(a,o),u&2048&&rh(o.alternate,o);break;default:No(a,o)}r=r.sibling}}var Do=8192;function ms(t){if(t.subtreeFlags&Do)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 26:ms(t),t.flags&Do&&t.memoizedState!==null&&TT(En,t.memoizedState,t.memoizedProps);break;case 5:ms(t);break;case 3:case 4:var r=En;En=pu(t.stateNode.containerInfo),ms(t),En=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Do,Do=16777216,ms(t),Do=r):ms(t));break;default:ms(t)}}function Hy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Oo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ue=o,Yy(o,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:Oo(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:Oo(t);break;case 12:Oo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,au(t)):Oo(t);break;default:Oo(t)}}function au(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ue=o,Yy(o,t)}Hy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yi(8,r,r.return),au(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,au(r));break;default:au(r)}t=t.sibling}}function Yy(t,r){for(;ue!==null;){var a=ue;switch(a.tag){case 0:case 11:case 15:Yi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ue=o;else t:for(a=t;ue!==null;){o=ue;var u=o.sibling,f=o.return;if(My(o),o===a){ue=null;break t}if(u!==null){u.return=f,ue=u;break t}ue=f}}}var Lb={getCacheForType:function(t){var r=be(ie),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},qb=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,pt=null,Tt=0,It=0,Ge=null,$i=!1,ys=!1,ih=!1,yr=0,Xt=0,Xi=0,ka=0,ah=0,sn=0,ps=0,Co=null,Re=null,sh=!1,oh=0,su=1/0,ou=null,Zi=null,he=0,Qi=null,vs=null,Ss=0,lh=0,uh=null,Gy=null,ko=0,ch=null;function Ke(){if((Rt&2)!==0&&Tt!==0)return Tt&-Tt;if(U.T!==null){var t=ss;return t!==0?t:ph()}return og()}function Ky(){sn===0&&(sn=(Tt&536870912)===0||Dt?rg():536870912);var t=an.current;return t!==null&&(t.flags|=32),sn}function $e(t,r,a){(t===Pt&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(bs(t,0),Fi(t,Tt,sn,!1)),$s(t,a),((Rt&2)===0||t!==Pt)&&(t===Pt&&((Rt&2)===0&&(ka|=a),Xt===4&&Fi(t,Tt,sn,!1)),qn(t))}function $y(t,r,a){if((Rt&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ks(t,r),u=o?Vb(t,r):dh(t,r,!0),f=o;do{if(u===0){ys&&!o&&Fi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!Jb(a)){u=dh(t,r,!1),f=!1;continue}if(u===2){if(f=r,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;t:{var S=t;u=Co;var T=S.current.memoizedState.isDehydrated;if(T&&(bs(S,m).flags|=256),m=dh(S,m,!1),m!==2){if(ih&&!T){S.errorRecoveryDisabledLanes|=f,ka|=f,u=4;break t}f=Re,Re=u,f!==null&&(Re===null?Re=f:Re.push.apply(Re,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){bs(t,0),Fi(t,r,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Fi(o,r,sn,!$i);break t;case 2:Re=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=oh+300-Bn(),10<u)){if(Fi(o,r,sn,!$i),vl(o,0,!0)!==0)break t;o.timeoutHandle=wp(Xy.bind(null,o,a,Re,ou,sh,r,sn,ka,ps,$i,f,2,-0,0),u);break t}Xy(o,a,Re,ou,sh,r,sn,ka,ps,$i,f,0,-0,0)}}break}while(!0);qn(t)}function Xy(t,r,a,o,u,f,m,S,T,C,M,J,R,B){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Lo={stylesheets:null,count:0,unsuspend:bT},Vy(r),J=wT(),J!==null)){t.cancelPendingCommit=J(ep.bind(null,t,r,f,a,o,u,m,S,T,M,1,R,B)),Fi(t,f,m,!C);return}ep(t,r,f,a,o,u,m,S,T)}function Jb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Ve(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(t,r,a,o){r&=~ah,r&=~ka,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var u=r;0<u;){var f=31-Pe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&ag(t,a,r)}function lu(){return(Rt&6)===0?(Ro(0),!1):!0}function fh(){if(pt!==null){if(It===0)var t=pt.return;else t=pt,lr=Ea=null,Of(t),hs=null,To=0,t=pt;for(;t!==null;)Dy(t.alternate,t),t=t.return;pt=null}}function bs(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fh(),Pt=t,pt=a=ar(t.current,null),Tt=r,It=0,Ge=null,$i=!1,ys=Ks(t,r),ih=!1,ps=sn=ah=ka=Xi=Xt=0,Re=Co=null,sh=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var u=31-Pe(o),f=1<<u;r|=t[u],o&=~f}return yr=r,kl(),a}function Zy(t,r){dt=null,U.H=Zl,r===fo||r===Jl?(r=hm(),It=3):r===um?(r=hm(),It=4):It=r===dy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ge=r,pt===null&&(Xt=1,tu(t,tn(r,t.current)))}function Qy(){var t=U.H;return U.H=Zl,t===null?Zl:t}function Fy(){var t=U.A;return U.A=Lb,t}function hh(){Xt=4,$i||(Tt&4194048)!==Tt&&an.current!==null||(ys=!0),(Xi&134217727)===0&&(ka&134217727)===0||Pt===null||Fi(Pt,Tt,sn,!1)}function dh(t,r,a){var o=Rt;Rt|=2;var u=Qy(),f=Fy();(Pt!==t||Tt!==r)&&(ou=null,bs(t,r)),r=!1;var m=Xt;t:do try{if(It!==0&&pt!==null){var S=pt,T=Ge;switch(It){case 8:fh(),m=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(r=!0);var C=It;if(It=0,Ge=null,Ts(t,S,T,C),a&&ys){m=0;break t}break;default:C=It,It=0,Ge=null,Ts(t,S,T,C)}}Pb(),m=Xt;break}catch(M){Zy(t,M)}while(!0);return r&&t.shellSuspendCounter++,lr=Ea=null,Rt=o,U.H=u,U.A=f,pt===null&&(Pt=null,Tt=0,kl()),m}function Pb(){for(;pt!==null;)_y(pt)}function Vb(t,r){var a=Rt;Rt|=2;var o=Qy(),u=Fy();Pt!==t||Tt!==r?(ou=null,su=Bn()+500,bs(t,r)):ys=Ks(t,r);t:do try{if(It!==0&&pt!==null){r=pt;var f=Ge;e:switch(It){case 1:It=0,Ge=null,Ts(t,r,f,1);break;case 2:case 9:if(cm(f)){It=0,Ge=null,Wy(r);break}r=function(){It!==2&&It!==9||Pt!==t||(It=7),qn(t)},f.then(r,r);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:cm(f)?(It=0,Ge=null,Wy(r)):(It=0,Ge=null,Ts(t,r,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||zp(m)){It=0,Ge=null;var T=S.sibling;if(T!==null)pt=T;else{var C=S.return;C!==null?(pt=C,uu(C)):pt=null}break e}}It=0,Ge=null,Ts(t,r,f,5);break;case 6:It=0,Ge=null,Ts(t,r,f,6);break;case 8:fh(),Xt=6;break t;default:throw Error(i(462))}}Hb();break}catch(M){Zy(t,M)}while(!0);return lr=Ea=null,U.H=o,U.A=u,Rt=a,pt!==null?0:(Pt=null,Tt=0,kl(),Xt)}function Hb(){for(;pt!==null&&!cS();)_y(pt)}function _y(t){var r=xy(t.alternate,t,yr);t.memoizedProps=t.pendingProps,r===null?uu(t):pt=r}function Wy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Sy(a,r,r.pendingProps,r.type,void 0,Tt);break;case 11:r=Sy(a,r,r.pendingProps,r.type.render,r.ref,Tt);break;case 5:Of(r);default:Dy(a,r),r=pt=tm(r,yr),r=xy(a,r,yr)}t.memoizedProps=t.pendingProps,r===null?uu(t):pt=r}function Ts(t,r,a,o){lr=Ea=null,Of(r),hs=null,To=0;var u=r.return;try{if(Rb(t,u,r,a,Tt)){Xt=1,tu(t,tn(a,t.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Xt=1,tu(t,tn(a,t.current)),pt=null;return}r.flags&32768?(Dt||o===1?t=!0:ys||(Tt&536870912)!==0?t=!1:($i=t=!0,(o===2||o===9||o===3||o===6)&&(o=an.current,o!==null&&o.tag===13&&(o.flags|=16384))),tp(r,t)):uu(r)}function uu(t){var r=t;do{if((r.flags&32768)!==0){tp(r,$i);return}t=r.return;var a=Bb(r.alternate,r,yr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=t}while(r!==null);Xt===0&&(Xt=5)}function tp(t,r){do{var a=zb(t.alternate,t);if(a!==null){a.flags&=32767,pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){pt=t;return}pt=t=a}while(t!==null);Xt=6,pt=null}function ep(t,r,a,o,u,f,m,S,T){t.cancelPendingCommit=null;do cu();while(he!==0);if((Rt&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=nf,bS(t,a,f,m,S,T),t===Pt&&(pt=Pt=null,Tt=0),vs=r,Qi=t,Ss=a,lh=f,uh=u,Gy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kb(ml,function(){return sp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=K.p,K.p=2,m=Rt,Rt|=4;try{Mb(t,r,a)}finally{Rt=m,K.p=u,U.T=o}}he=1,np(),rp(),ip()}}function np(){if(he===1){he=0;var t=Qi,r=vs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Rt;Rt|=4;try{qy(r,t);var f=xh,m=Yg(t.containerInfo),S=f.focusedElem,T=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&jg(S.ownerDocument.documentElement,S)){if(T!==null&&Fc(S)){var C=T.start,M=T.end;if(M===void 0&&(M=C),"selectionStart"in S)S.selectionStart=C,S.selectionEnd=Math.min(M,S.value.length);else{var J=S.ownerDocument||document,R=J&&J.defaultView||window;if(R.getSelection){var B=R.getSelection(),ot=S.textContent.length,rt=Math.min(T.start,ot),Mt=T.end===void 0?rt:Math.min(T.end,ot);!B.extend&&rt>Mt&&(m=Mt,Mt=rt,rt=m);var N=Hg(S,rt),A=Hg(S,Mt);if(N&&A&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var O=J.createRange();O.setStart(N.node,N.offset),B.removeAllRanges(),rt>Mt?(B.addRange(O),B.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),B.addRange(O))}}}}for(J=[],B=S;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var L=J[S];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}wu=!!Eh,xh=Eh=null}finally{Rt=u,K.p=o,U.T=a}}t.current=r,he=2}}function rp(){if(he===2){he=0;var t=Qi,r=vs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Rt;Rt|=4;try{zy(t,r.alternate,r)}finally{Rt=u,K.p=o,U.T=a}}he=3}}function ip(){if(he===4||he===3){he=0,fS();var t=Qi,r=vs,a=Ss,o=Gy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?he=5:(he=0,vs=Qi=null,ap(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Zi=null),kc(a),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Gs,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=U.T,u=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{U.T=r,K.p=u}}(Ss&3)!==0&&cu(),qn(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===ch?ko++:(ko=0,ch=t):ko=0,Ro(0)}}function ap(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,uo(r)))}function cu(t){return np(),rp(),ip(),sp()}function sp(){if(he!==5)return!1;var t=Qi,r=lh;lh=0;var a=kc(Ss),o=U.T,u=K.p;try{K.p=32>a?32:a,U.T=null,a=uh,uh=null;var f=Qi,m=Ss;if(he=0,vs=Qi=null,Ss=0,(Rt&6)!==0)throw Error(i(331));var S=Rt;if(Rt|=4,jy(f.current),Py(f,f.current,m,a),Rt=S,Ro(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Gs,f)}catch{}return!0}finally{K.p=u,U.T=o,ap(t,r)}}function op(t,r,a){r=tn(a,r),r=Hf(t.stateNode,r,2),t=Pi(t,r,2),t!==null&&($s(t,2),qn(t))}function Lt(t,r,a){if(t.tag===3)op(t,t,a);else for(;r!==null;){if(r.tag===3){op(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zi===null||!Zi.has(o))){t=tn(a,t),a=fy(2),o=Pi(r,a,2),o!==null&&(hy(a,o,r,t),$s(o,2),qn(o));break}}r=r.return}}function gh(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new qb;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(ih=!0,u.add(a),t=jb.bind(null,t,r,a),r.then(t,t))}function jb(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Pt===t&&(Tt&a)===a&&(Xt===4||Xt===3&&(Tt&62914560)===Tt&&300>Bn()-oh?(Rt&2)===0&&bs(t,0):ah|=a,ps===Tt&&(ps=0)),qn(t)}function lp(t,r){r===0&&(r=ig()),t=ns(t,r),t!==null&&($s(t,r),qn(t))}function Yb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),lp(t,a)}function Gb(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),lp(t,a)}function Kb(t,r){return Nc(t,r)}var fu=null,ws=null,mh=!1,hu=!1,yh=!1,Ra=0;function qn(t){t!==ws&&t.next===null&&(ws===null?fu=ws=t:ws=ws.next=t),hu=!0,mh||(mh=!0,Xb())}function Ro(t,r){if(!yh&&hu){yh=!0;do for(var a=!1,o=fu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Pe(42|t)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,hp(o,f))}else f=Tt,f=vl(o,o===Pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ks(o,f)||(a=!0,hp(o,f));o=o.next}while(a);yh=!1}}function $b(){up()}function up(){hu=mh=!1;var t=0;Ra!==0&&(nT()&&(t=Ra),Ra=0);for(var r=Bn(),a=null,o=fu;o!==null;){var u=o.next,f=cp(o,r);f===0?(o.next=null,a===null?fu=u:a.next=u,u===null&&(ws=a)):(a=o,(t!==0||(f&3)!==0)&&(hu=!0)),o=u}Ro(t)}function cp(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-Pe(f),S=1<<m,T=u[m];T===-1?((S&a)===0||(S&o)!==0)&&(u[m]=SS(S,r)):T<=r&&(t.expiredLanes|=S),f&=~S}if(r=Pt,a=Tt,a=vl(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(It===2||It===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Dc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ks(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&Dc(o),kc(a)){case 2:case 8:a=eg;break;case 32:a=ml;break;case 268435456:a=ng;break;default:a=ml}return o=fp.bind(null,t),a=Nc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&Dc(o),t.callbackPriority=2,t.callbackNode=null,2}function fp(t,r){if(he!==0&&he!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cu()&&t.callbackNode!==a)return null;var o=Tt;return o=vl(t,t===Pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:($y(t,o,r),cp(t,Bn()),t.callbackNode!=null&&t.callbackNode===a?fp.bind(null,t):null)}function hp(t,r){if(cu())return null;$y(t,r,!0)}function Xb(){iT(function(){(Rt&6)!==0?Nc(tg,$b):up()})}function ph(){return Ra===0&&(Ra=rg()),Ra}function dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Al(""+t)}function gp(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Zb(t,r,a,o,u){if(r==="submit"&&a&&a.stateNode===u){var f=dp((u[De]||null).action),m=o.submitter;m&&(r=(r=m[De]||null)?dp(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var S=new Dl("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ra!==0){var T=m?gp(u,m):new FormData(u);Lf(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=m?gp(u,m):new FormData(u),Lf(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var vh=0;vh<ef.length;vh++){var Sh=ef[vh],Qb=Sh.toLowerCase(),Fb=Sh[0].toUpperCase()+Sh.slice(1);An(Qb,"on"+Fb)}An($g,"onAnimationEnd"),An(Xg,"onAnimationIteration"),An(Zg,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(gb,"onTransitionRun"),An(mb,"onTransitionStart"),An(yb,"onTransitionCancel"),An(Qg,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function mp(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(r)for(var m=o.length-1;0<=m;m--){var S=o[m],T=S.instance,C=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=C;try{f(u)}catch(M){Wl(M)}u.currentTarget=null,f=T}else for(m=0;m<o.length;m++){if(S=o[m],T=S.instance,C=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=C;try{f(u)}catch(M){Wl(M)}u.currentTarget=null,f=T}}}}function vt(t,r){var a=r[Rc];a===void 0&&(a=r[Rc]=new Set);var o=t+"__bubble";a.has(o)||(yp(r,t,2,!1),a.add(o))}function bh(t,r,a){var o=0;r&&(o|=4),yp(a,t,o,r)}var du="_reactListening"+Math.random().toString(36).slice(2);function Th(t){if(!t[du]){t[du]=!0,ug.forEach(function(a){a!=="selectionchange"&&(_b.has(a)||bh(a,!1,t),bh(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[du]||(r[du]=!0,bh("selectionchange",!1,r))}}function yp(t,r,a,o){switch(Pp(r)){case 2:var u=xT;break;case 8:u=NT;break;default:u=Mh}a=u.bind(null,r,a,t),u=void 0,!Hc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(r,a,{capture:!0,passive:u}):t.addEventListener(r,a,!0):u!==void 0?t.addEventListener(r,a,{passive:u}):t.addEventListener(r,a,!1)}function wh(t,r,a,o,u){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=ja(S),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){o=f=m;continue t}S=S.parentNode}}o=o.return}Ag(function(){var C=f,M=Pc(a),J=[];t:{var R=Fg.get(t);if(R!==void 0){var B=Dl,ot=t;switch(t){case"keypress":if(xl(a)===0)break t;case"keydown":case"keyup":B=KS;break;case"focusin":ot="focus",B=Kc;break;case"focusout":ot="blur",B=Kc;break;case"beforeblur":case"afterblur":B=Kc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=zS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ZS;break;case $g:case Xg:case Zg:B=LS;break;case Qg:B=FS;break;case"scroll":case"scrollend":B=IS;break;case"wheel":B=WS;break;case"copy":case"cut":case"paste":B=JS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Og;break;case"toggle":case"beforetoggle":B=eb}var rt=(r&4)!==0,Mt=!rt&&(t==="scroll"||t==="scrollend"),N=rt?R!==null?R+"Capture":null:R;rt=[];for(var A=C,O;A!==null;){var L=A;if(O=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||O===null||N===null||(L=Qs(A,N),L!=null&&rt.push(Bo(A,L,O))),Mt)break;A=A.return}0<rt.length&&(R=new B(R,ot,null,a,M),J.push({event:R,listeners:rt}))}}if((r&7)===0){t:{if(R=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",R&&a!==Jc&&(ot=a.relatedTarget||a.fromElement)&&(ja(ot)||ot[Ha]))break t;if((B||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=C,ot=ot?ja(ot):null,ot!==null&&(Mt=c(ot),rt=ot.tag,ot!==Mt||rt!==5&&rt!==27&&rt!==6)&&(ot=null)):(B=null,ot=C),B!==ot)){if(rt=Ng,L="onMouseLeave",N="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(rt=Og,L="onPointerLeave",N="onPointerEnter",A="pointer"),Mt=B==null?R:Zs(B),O=ot==null?R:Zs(ot),R=new rt(L,A+"leave",B,a,M),R.target=Mt,R.relatedTarget=O,L=null,ja(M)===C&&(rt=new rt(N,A+"enter",ot,a,M),rt.target=O,rt.relatedTarget=Mt,L=rt),Mt=L,B&&ot)e:{for(rt=B,N=ot,A=0,O=rt;O;O=As(O))A++;for(O=0,L=N;L;L=As(L))O++;for(;0<A-O;)rt=As(rt),A--;for(;0<O-A;)N=As(N),O--;for(;A--;){if(rt===N||N!==null&&rt===N.alternate)break e;rt=As(rt),N=As(N)}rt=null}else rt=null;B!==null&&pp(J,R,B,rt,!1),ot!==null&&Mt!==null&&pp(J,Mt,ot,rt,!0)}}t:{if(R=C?Zs(C):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var X=Ug;else if(zg(R))if(Lg)X=fb;else{X=ub;var gt=lb}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?C&&qc(C.elementType)&&(X=Ug):X=cb;if(X&&(X=X(t,C))){Mg(J,X,a,M);break t}gt&&gt(t,R,C),t==="focusout"&&C&&R.type==="number"&&C.memoizedProps.value!=null&&Lc(R,"number",R.value)}switch(gt=C?Zs(C):window,t){case"focusin":(zg(gt)||gt.contentEditable==="true")&&(Wa=gt,_c=C,io=null);break;case"focusout":io=_c=Wa=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,Gg(J,a,M);break;case"selectionchange":if(db)break;case"keydown":case"keyup":Gg(J,a,M)}var Q;if(Xc)t:{switch(t){case"compositionstart":var it="onCompositionStart";break t;case"compositionend":it="onCompositionEnd";break t;case"compositionupdate":it="onCompositionUpdate";break t}it=void 0}else _a?Ig(t,a)&&(it="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(Cg&&a.locale!=="ko"&&(_a||it!=="onCompositionStart"?it==="onCompositionEnd"&&_a&&(Q=Eg()):(Ui=M,jc="value"in Ui?Ui.value:Ui.textContent,_a=!0)),gt=gu(C,it),0<gt.length&&(it=new Dg(it,t,null,a,M),J.push({event:it,listeners:gt}),Q?it.data=Q:(Q=Bg(a),Q!==null&&(it.data=Q)))),(Q=rb?ib(t,a):ab(t,a))&&(it=gu(C,"onBeforeInput"),0<it.length&&(gt=new Dg("onBeforeInput","beforeinput",null,a,M),J.push({event:gt,listeners:it}),gt.data=Q)),Zb(J,t,C,a,M)}mp(J,r)})}function Bo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function gu(t,r){for(var a=r+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Qs(t,a),u!=null&&o.unshift(Bo(t,u,f)),u=Qs(t,r),u!=null&&o.push(Bo(t,u,f))),t.tag===3)return o;t=t.return}return[]}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pp(t,r,a,o,u){for(var f=r._reactName,m=[];a!==null&&a!==o;){var S=a,T=S.alternate,C=S.stateNode;if(S=S.tag,T!==null&&T===o)break;S!==5&&S!==26&&S!==27||C===null||(T=C,u?(C=Qs(a,f),C!=null&&m.unshift(Bo(a,C,T))):u||(C=Qs(a,f),C!=null&&m.push(Bo(a,C,T)))),a=a.return}m.length!==0&&t.push({event:r,listeners:m})}var Wb=/\r\n?/g,tT=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(tT,"")}function Sp(t,r){return r=vp(r),vp(t)===r}function mu(){}function zt(t,r,a,o,u,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Za(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Za(t,""+o);break;case"className":bl(t,"class",o);break;case"tabIndex":bl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(t,a,o);break;case"style":Tg(t,o,f);break;case"data":if(r!=="object"){bl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Al(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&zt(t,r,"name",u.name,u,null),zt(t,r,"formEncType",u.formEncType,u,null),zt(t,r,"formMethod",u.formMethod,u,null),zt(t,r,"formTarget",u.formTarget,u,null)):(zt(t,r,"encType",u.encType,u,null),zt(t,r,"method",u.method,u,null),zt(t,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Al(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=mu);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Al(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":vt("beforetoggle",t),vt("toggle",t),Sl(t,"popover",o);break;case"xlinkActuate":rr(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":rr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":rr(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":rr(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":rr(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":rr(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":rr(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":rr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":rr(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kS.get(a)||a,Sl(t,a,o))}}function Ah(t,r,a,o,u,f){switch(a){case"style":Tg(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Za(t,o):(typeof o=="number"||typeof o=="bigint")&&Za(t,""+o);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=t[De]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sl(t,a,o)}}}function de(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(t,r,f,m,a,null)}}u&&zt(t,r,"srcSet",a.srcSet,a,null),o&&zt(t,r,"src",a.src,a,null);return;case"input":vt("invalid",t);var S=f=m=u=null,T=null,C=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":T=M;break;case"defaultChecked":C=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,r));break;default:zt(t,r,o,M,a,null)}}pg(t,f,S,T,C,m,u,!1),Tl(t);return;case"select":vt("invalid",t),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:zt(t,r,u,S,a,null)}r=f,a=m,t.multiple=!!o,r!=null?Xa(t,!!o,r,!1):a!=null&&Xa(t,!!o,a,!0);return;case"textarea":vt("invalid",t),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:zt(t,r,m,S,a,null)}Sg(t,o,u,f),Tl(t);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(o=a[T],o!=null))switch(T){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(t,r,T,o,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(o=0;o<Io.length;o++)vt(Io[o],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(t,r,C,o,a,null)}return;default:if(qc(r)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&Ah(t,r,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&zt(t,r,S,o,a,null))}function eT(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,T=null,C=null,M=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=J;default:o.hasOwnProperty(B)||zt(t,r,B,null,o,J)}}for(var R in o){var B=o[R];if(J=a[R],o.hasOwnProperty(R)&&(B!=null||J!=null))switch(R){case"type":f=B;break;case"name":u=B;break;case"checked":C=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==J&&zt(t,r,R,B,o,J)}}Uc(t,m,S,T,C,M,f,u);return;case"select":B=m=S=R=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":B=T;default:o.hasOwnProperty(f)||zt(t,r,f,null,o,T)}for(u in o)if(f=o[u],T=a[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":R=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==T&&zt(t,r,u,f,o,T)}r=S,a=m,o=B,R!=null?Xa(t,!!a,R,!1):!!o!=!!a&&(r!=null?Xa(t,!!a,r,!0):Xa(t,!!a,a?[]:"",!1));return;case"textarea":B=R=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:zt(t,r,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":R=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&zt(t,r,m,u,o,f)}vg(t,R,B);return;case"option":for(var ot in a)if(R=a[ot],a.hasOwnProperty(ot)&&R!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:zt(t,r,ot,null,o,R)}for(T in o)if(R=o[T],B=a[T],o.hasOwnProperty(T)&&R!==B&&(R!=null||B!=null))switch(T){case"selected":t.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:zt(t,r,T,R,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)R=a[rt],a.hasOwnProperty(rt)&&R!=null&&!o.hasOwnProperty(rt)&&zt(t,r,rt,null,o,R);for(C in o)if(R=o[C],B=a[C],o.hasOwnProperty(C)&&R!==B&&(R!=null||B!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,r));break;default:zt(t,r,C,R,o,B)}return;default:if(qc(r)){for(var Mt in a)R=a[Mt],a.hasOwnProperty(Mt)&&R!==void 0&&!o.hasOwnProperty(Mt)&&Ah(t,r,Mt,void 0,o,R);for(M in o)R=o[M],B=a[M],!o.hasOwnProperty(M)||R===B||R===void 0&&B===void 0||Ah(t,r,M,R,o,B);return}}for(var N in a)R=a[N],a.hasOwnProperty(N)&&R!=null&&!o.hasOwnProperty(N)&&zt(t,r,N,null,o,R);for(J in o)R=o[J],B=a[J],!o.hasOwnProperty(J)||R===B||R==null&&B==null||zt(t,r,J,R,o,B)}var Eh=null,xh=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Nh(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dh=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===Dh?!1:(Dh=t,!0):(Dh=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(t){return Ap.resolve(null).then(t).catch(aT)}:wp;function aT(t){setTimeout(function(){throw t})}function _i(t){return t==="head"}function Ep(t,r){var a=r,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=t.ownerDocument;if(a&1&&zo(m.documentElement),a&2&&zo(m.body),a&4)for(a=m.head,zo(a),m=a.firstChild;m;){var S=m.nextSibling,T=m.nodeName;m[Xs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){t.removeChild(f),Ho(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Ho(r)}function Oh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Oh(a),Ic(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sT(t,r,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Xs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function oT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function Ch(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var kh=null;function xp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Np(t,r,a){switch(r=yu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function zo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ic(t)}var on=new Map,Dp=new Set;function pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pr=K.d;K.d={f:uT,r:cT,D:fT,C:hT,L:dT,m:gT,X:yT,S:mT,M:pT};function uT(){var t=pr.f(),r=lu();return t||r}function cT(t){var r=Ya(t);r!==null&&r.tag===5&&r.type==="form"?$m(r):pr.r(t)}var Es=typeof document>"u"?null:document;function Op(t,r,a){var o=Es;if(o&&typeof r=="string"&&r){var u=We(r);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Dp.has(u)||(Dp.add(u),t={rel:t,crossOrigin:a,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),de(r,"link",t),oe(r),o.head.appendChild(r)))}}function fT(t){pr.D(t),Op("dns-prefetch",t,null)}function hT(t,r){pr.C(t,r),Op("preconnect",t,r)}function dT(t,r,a){pr.L(t,r,a);var o=Es;if(o&&t&&r){var u='link[rel="preload"][as="'+We(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+We(a.imageSizes)+'"]')):u+='[href="'+We(t)+'"]';var f=u;switch(r){case"style":f=xs(t);break;case"script":f=Ns(t)}on.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),on.set(f,t),o.querySelector(u)!==null||r==="style"&&o.querySelector(Mo(f))||r==="script"&&o.querySelector(Uo(f))||(r=o.createElement("link"),de(r,"link",t),oe(r),o.head.appendChild(r)))}}function gT(t,r){pr.m(t,r);var a=Es;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+We(o)+'"][href="'+We(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ns(t)}if(!on.has(f)&&(t=b({rel:"modulepreload",href:t},r),on.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Uo(f)))return}o=a.createElement("link"),de(o,"link",t),oe(o),a.head.appendChild(o)}}}function mT(t,r,a){pr.S(t,r,a);var o=Es;if(o&&t){var u=Ga(o).hoistableStyles,f=xs(t);r=r||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(Mo(f)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=on.get(f))&&Rh(t,a);var T=m=o.createElement("link");oe(T),de(T,"link",t),T._p=new Promise(function(C,M){T.onload=C,T.onerror=M}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,vu(m,r,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function yT(t,r){pr.X(t,r);var a=Es;if(a&&t){var o=Ga(a).hoistableScripts,u=Ns(t),f=o.get(u);f||(f=a.querySelector(Uo(u)),f||(t=b({src:t,async:!0},r),(r=on.get(u))&&Ih(t,r),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function pT(t,r){pr.M(t,r);var a=Es;if(a&&t){var o=Ga(a).hoistableScripts,u=Ns(t),f=o.get(u);f||(f=a.querySelector(Uo(u)),f||(t=b({src:t,async:!0,type:"module"},r),(r=on.get(u))&&Ih(t,r),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Cp(t,r,a,o){var u=(u=ut.current)?pu(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=xs(a.href),a=Ga(u).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xs(a.href);var f=Ga(u).hoistableStyles,m=f.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=u.querySelector(Mo(t)))&&!f._p&&(m.instance=f,m.state.loading=5),on.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},on.set(t,a),f||vT(u,t,a,m.state))),r&&o===null)throw Error(i(528,""));return m}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ns(a),a=Ga(u).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function xs(t){return'href="'+We(t)+'"'}function Mo(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function vT(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),de(r,"link",a),oe(r),t.head.appendChild(r))}function Ns(t){return'[src="'+We(t)+'"]'}function Uo(t){return"script[async]"+t}function Rp(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(o)return r.instance=o,oe(o),o;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),oe(o),de(o,"style",u),vu(o,a.precedence,t),r.instance=o;case"stylesheet":u=xs(a.href);var f=t.querySelector(Mo(u));if(f)return r.state.loading|=4,r.instance=f,oe(f),f;o=kp(a),(u=on.get(u))&&Rh(o,u),f=(t.ownerDocument||t).createElement("link"),oe(f);var m=f;return m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),de(f,"link",o),r.state.loading|=4,vu(f,a.precedence,t),r.instance=f;case"script":return f=Ns(a.src),(u=t.querySelector(Uo(f)))?(r.instance=u,oe(u),u):(o=a,(u=on.get(f))&&(o=b({},a),Ih(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),oe(u),de(u,"link",o),t.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,vu(o,a.precedence,t));return r.instance}function vu(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===r)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Ih(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Su=null;function Ip(t,r,a){if(Su===null){var o=new Map,u=Su=new Map;u.set(a,o)}else u=Su,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[Xs]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=t+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function Bp(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function ST(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Lo=null;function bT(){}function TT(t,r,a){if(Lo===null)throw Error(i(475));var o=Lo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=xs(a.href),f=t.querySelector(Mo(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=bu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=f,oe(f);return}f=t.ownerDocument||t,a=kp(a),(u=on.get(u))&&Rh(a,u),f=f.createElement("link"),oe(f);var m=f;m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),de(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=bu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function wT(){if(Lo===null)throw Error(i(475));var t=Lo;return t.stylesheets&&t.count===0&&Bh(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Bh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)Bh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function Bh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,r.forEach(AT,t),Tu=null,bu.call(t))}function AT(t,r){if(!(r.state.loading&4)){var a=Tu.get(t);if(a)var o=a.get(null);else{a=new Map,Tu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=r.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=bu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),r.state.loading|=4}}var qo={$$typeof:ct,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function ET(t,r,a,o,u,f,m,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.hiddenUpdates=Oc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Mp(t,r,a,o,u,f,m,S,T,C,M,J){return t=new ET(t,r,a,m,S,T,C,J),r=1,f===!0&&(r|=24),f=He(3,null,null,r),t.current=f,f.stateNode=t,r=gf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},vf(f),t}function Up(t){return t?(t=rs,t):rs}function Lp(t,r,a,o,u,f){u=Up(u),o.context===null?o.context=u:o.pendingContext=u,o=Ji(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Pi(t,o,r),a!==null&&($e(a,t,r),go(a,t,r))}function qp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function zh(t,r){qp(t,r),(t=t.alternate)&&qp(t,r)}function Jp(t){if(t.tag===13){var r=ns(t,67108864);r!==null&&$e(r,t,67108864),zh(t,67108864)}}var wu=!0;function xT(t,r,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=2,Mh(t,r,a,o)}finally{K.p=f,U.T=u}}function NT(t,r,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=8,Mh(t,r,a,o)}finally{K.p=f,U.T=u}}function Mh(t,r,a,o){if(wu){var u=Uh(o);if(u===null)wh(t,r,o,Au,a),Vp(t,o);else if(OT(u,t,r,a,o))o.stopPropagation();else if(Vp(t,o),r&4&&-1<DT.indexOf(t)){for(;u!==null;){var f=Ya(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=ga(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var T=1<<31-Pe(m);S.entanglements[1]|=T,m&=~T}qn(f),(Rt&6)===0&&(su=Bn()+500,Ro(0))}}break;case 13:S=ns(f,2),S!==null&&$e(S,f,2),lu(),zh(f,2)}if(f=Uh(o),f===null&&wh(t,r,o,Au,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else wh(t,r,o,null,a)}}function Uh(t){return t=Pc(t),Lh(t)}var Au=null;function Lh(t){if(Au=null,t=ja(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Au=t,null}function Pp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hS()){case tg:return 2;case eg:return 8;case ml:case dS:return 32;case ng:return 268435456;default:return 32}default:return 32}}var qh=!1,Wi=null,ta=null,ea=null,Jo=new Map,Po=new Map,na=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,r){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(r.pointerId)}}function Vo(t,r,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},r!==null&&(r=Ya(r),r!==null&&Jp(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),t)}function OT(t,r,a,o,u){switch(r){case"focusin":return Wi=Vo(Wi,t,r,a,o,u),!0;case"dragenter":return ta=Vo(ta,t,r,a,o,u),!0;case"mouseover":return ea=Vo(ea,t,r,a,o,u),!0;case"pointerover":var f=u.pointerId;return Jo.set(f,Vo(Jo.get(f)||null,t,r,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Po.set(f,Vo(Po.get(f)||null,t,r,a,o,u)),!0}return!1}function Hp(t){var r=ja(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,TS(t.priority,function(){if(a.tag===13){var o=Ke();o=Cc(o);var u=ns(a,o);u!==null&&$e(u,a,o),zh(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Uh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Jc=o,a.target.dispatchEvent(o),Jc=null}else return r=Ya(a),r!==null&&Jp(r),t.blockedOn=a,!1;r.shift()}return!0}function jp(t,r,a){Eu(t)&&a.delete(r)}function CT(){qh=!1,Wi!==null&&Eu(Wi)&&(Wi=null),ta!==null&&Eu(ta)&&(ta=null),ea!==null&&Eu(ea)&&(ea=null),Jo.forEach(jp),Po.forEach(jp)}function xu(t,r){t.blockedOn===r&&(t.blockedOn=null,qh||(qh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CT)))}var Nu=null;function Yp(t){Nu!==t&&(Nu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],u=t[r+2];if(typeof o!="function"){if(Lh(o||a)===null)continue;break}var f=Ya(a);f!==null&&(t.splice(r,3),r-=3,Lf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Ho(t){function r(T){return xu(T,t)}Wi!==null&&xu(Wi,t),ta!==null&&xu(ta,t),ea!==null&&xu(ea,t),Jo.forEach(r),Po.forEach(r);for(var a=0;a<na.length;a++){var o=na[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)Hp(a),a.blockedOn===null&&na.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[De]||null;if(typeof f=="function")m||Yp(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[De]||null)S=m.formAction;else if(Lh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Yp(a)}}}function Jh(t){this._internalRoot=t}Du.prototype.render=Jh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=Ke();Lp(a,o,t,r,null,null)},Du.prototype.unmount=Jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Lp(t.current,2,null,t,null,null),lu(),r[Ha]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var r=og();t={blockedOn:null,target:t,priority:r};for(var a=0;a<na.length&&r!==0&&r<na[a].priority;a++);na.splice(a,0,t),a===0&&Hp(t)}};var Gp=n.version;if(Gp!=="19.1.0")throw Error(i(527,Gp,"19.1.0"));K.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var kT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Gs=Ou.inject(kT),Je=Ou}catch{}}return Yo.createRoot=function(t,r){if(!l(t))throw Error(i(299));var a=!1,o="",u=oy,f=ly,m=uy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Mp(t,1,!1,null,null,a,o,u,f,m,S,null),t[Ha]=r.current,Th(t),new Jh(r)},Yo.hydrateRoot=function(t,r,a){if(!l(t))throw Error(i(299));var o=!1,u="",f=oy,m=ly,S=uy,T=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),r=Mp(t,1,!0,r,a??null,o,u,f,m,S,T,C),r.context=Up(null),a=r.current,o=Ke(),o=Cc(o),u=Ji(o),u.callback=null,Pi(a,u,o),a=o,r.current.lanes=a,$s(r,a),qn(r),t[Ha]=r.current,Th(t),new Du(r)},Yo.version="19.1.0",Yo}var ev;function YT(){if(ev)return Hh.exports;ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Hh.exports=jT(),Hh.exports}var GT=YT(),St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function nv(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class kt extends Error{constructor(n,e=St.Unknown,i,l,c){super(KT(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(n,e=St.Unknown){return n instanceof kt?n:n instanceof Error?n.name=="AbortError"?new kt(n.message,St.Canceled):new kt(n.message,e,void 0,void 0,n):new kt(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===kt.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,i=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&i.push(l);continue}const c=e.findMessage(l.type);if(c)try{i.push(c.fromBinary(l.value))}catch{}}return i}}function KT(s,n){return s.length?`[${nv(n)}] ${s}`:`[${nv(n)}]`}function Qt(s,n){if(!s)throw new Error(n)}const $T=34028234663852886e22,XT=-34028234663852886e22,ZT=4294967295,QT=2147483647,FT=-2147483648;function Uu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>QT||s<FT)throw new Error("invalid int 32: "+s)}function Wh(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>ZT||s<0)throw new Error("invalid uint 32: "+s)}function Wv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>$T||s<XT))throw new Error("invalid float 32: "+s)}const t0=Symbol("@bufbuild/protobuf/enum-type");function _T(s){const n=s[t0];return Qt(n,"missing enum type on enum object"),n}function e0(s,n,e,i){s[t0]=n0(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function n0(s,n,e){const i=Object.create(null),l=Object.create(null),c=[];for(const h of n){const g=r0(h);c.push(g),i[h.name]=g,l[h.no]=g}return{typeName:s,values:c,findName(h){return i[h]},findNumber(h){return l[h]}}}function WT(s,n,e){const i={};for(const l of n){const c=r0(l);i[c.localName]=c.no,i[c.no]=c.localName}return e0(i,s,n),i}function r0(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class j{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const i=this.getType(),l=i.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const i=this.getType(),l=i.runtime.json,c=l.makeReadOptions(e);return l.readMessage(i,n,c,this),this}fromJsonString(n,e){let i;try{i=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(i,e)}toBinary(n){const e=this.getType(),i=e.runtime.bin,l=i.makeWriteOptions(n),c=l.writerFactory();return i.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),i=e.runtime.json,l=i.makeWriteOptions(n);return i.writeMessage(this,l)}toJsonString(n){var e;const i=this.toJson(n);return JSON.stringify(i,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function t1(s,n,e,i){var l;const c=(l=i==null?void 0:i.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),h={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(h.prototype,new j),Object.assign(h,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(g,y){return new h().fromBinary(g,y)},fromJson(g,y){return new h().fromJson(g,y)},fromJsonString(g,y){return new h().fromJsonString(g,y)},equals(g,y){return s.util.equals(h,g,y)}}),h}function e1(){let s=0,n=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function Kh(s,n,e){for(let c=0;c<28;c=c+7){const h=s>>>c,g=!(!(h>>>7)&&n==0),y=(g?h|128:h)&255;if(e.push(y),!g)return}const i=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const h=n>>>c,g=!!(h>>>7),y=(g?h|128:h)&255;if(e.push(y),!g)return}e.push(n>>>31&1)}}const Lu=4294967296;function rv(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let i=0,l=0;function c(h,g){const y=Number(s.slice(h,g));l*=e,i=i*e+y,i>=Lu&&(l=l+(i/Lu|0),i=i%Lu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?a0(i,l):kd(i,l)}function n1(s,n){let e=kd(s,n);const i=e.hi&2147483648;i&&(e=a0(e.lo,e.hi));const l=i0(e.lo,e.hi);return i?"-"+l:l}function i0(s,n){if({lo:s,hi:n}=r1(s,n),n<=2097151)return String(Lu*n+s);const e=s&16777215,i=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+i*6777216+l*6710656,h=i+l*8147497,g=l*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(g+=Math.floor(h/y),h%=y),g.toString()+iv(h)+iv(c)}function r1(s,n){return{lo:s>>>0,hi:n>>>0}}function kd(s,n){return{lo:s|0,hi:n|0}}function a0(s,n){return n=~n,s?s=~s+1:n+=1,kd(s,n)}const iv=s=>{const n=String(s);return"0000000".slice(n.length)+n};function av(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function i1(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var sv={};function a1(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof sv!="object"||sv.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),h=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(y){const p=typeof y=="bigint"?y:BigInt(y);if(p>c||p<l)throw new Error(`int64 invalid: ${y}`);return p},uParse(y){const p=typeof y=="bigint"?y:BigInt(y);if(p>g||p<h)throw new Error(`uint64 invalid: ${y}`);return p},enc(y){return s.setBigInt64(0,this.parse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(y){return s.setBigInt64(0,this.uParse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(y,p){return s.setInt32(0,y,!0),s.setInt32(4,p,!0),s.getBigInt64(0,!0)},uDec(y,p){return s.setInt32(0,y,!0),s.setInt32(4,p,!0),s.getBigUint64(0,!0)}}}const e=l=>Qt(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),i=l=>Qt(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),i(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),rv(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),i(l),rv(l)},dec(l,c){return n1(l,c)},uDec(l,c){return i0(l,c)}}}const Vt=a1();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var fa;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(fa||(fa={}));function ia(s,n,e){if(n===e)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==e}return!1}function Ms(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Vt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function s0(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var te;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(te||(te={}));class s1{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),i=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Wh(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Uu(n),av(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){Wv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){Wh(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Uu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Uu(n),n=(n<<1^n>>31)>>>0,av(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Vt.enc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Vt.uEnc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=Vt.enc(n);return Kh(e.lo,e.hi,this.buf),this}sint64(n){let e=Vt.enc(n),i=e.hi>>31,l=e.lo<<1^i,c=(e.hi<<1|e.lo>>>31)^i;return Kh(l,c,this.buf),this}uint64(n){let e=Vt.uEnc(n);return Kh(e.lo,e.hi,this.buf),this}}class o1{constructor(n,e){this.varint64=e1,this.uint32=i1,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,i=n&7;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(n,e){let i=this.pos;switch(n){case te.Varint:for(;this.buf[this.pos++]&128;);break;case te.Bit64:this.pos+=4;case te.Bit32:this.pos+=4;break;case te.LengthDelimited:let l=this.uint32();this.pos+=l;break;case te.StartGroup:for(;;){const[c,h]=this.tag();if(h===te.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Vt.dec(...this.varint64())}uint64(){return Vt.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),i=-(n&1);return n=(n>>>1|(e&1)<<31)^i,e=e>>>1^i,Vt.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Vt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Vt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function l1(s,n,e,i){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function o0(s){const n=s.field.localName,e=Object.create(null);return e[n]=u1(s),[e,()=>e[n]]}function u1(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Ms(n.T,n.L);case"message":const e=n.T,i=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function c1(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),yc=[];for(let s=0;s<Ai.length;s++)yc[Ai[s].charCodeAt(0)]=s;yc[45]=Ai.indexOf("+");yc[95]=Ai.indexOf("/");const Rd={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),i=0,l=0,c,h=0;for(let g=0;g<s.length;g++){if(c=yc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:h=c,l=1;break;case 1:e[i++]=h<<2|(c&48)>>4,h=c,l=2;break;case 2:e[i++]=(h&15)<<4|(c&60)>>2,h=c,l=3;break;case 3:e[i++]=(h&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,i)},enc(s){let n="",e=0,i,l=0;for(let c=0;c<s.length;c++)switch(i=s[c],e){case 0:n+=Ai[i>>2],l=(i&3)<<4,e=1;break;case 1:n+=Ai[l|i>>4],l=(i&15)<<2,e=2;break;case 2:n+=Ai[l|i>>6],n+=Ai[i&63],e=0;break}return e&&(n+=Ai[l],n+="=",e==1&&(n+="=")),n}};function f1(s,n,e){u0(n,s);const i=n.runtime.bin.makeReadOptions(e),l=c1(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,h]=o0(n);for(const g of l)n.runtime.bin.readField(c,i.readerFactory(g.data),n.field,g.wireType,i);return h()}function h1(s,n,e,i){u0(n,s);const l=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(l0(s,n)){const p=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of p)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const h=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,e,h,c);const y=l.readerFactory(h.finish());for(;y.pos<y.len;){const[p,b]=y.tag(),E=y.skip(b,p);s.getType().runtime.bin.onUnknownField(s,p,b,E)}}function l0(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function u0(s,n){Qt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function c0(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!s0(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function ov(s,n){const e=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=i?s.T.values[0].no:void 0;break;case"scalar":n[e]=i?Ms(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function Ei(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(j.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function f0(s,n){return Ei(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const lv={ignoreUnknownFields:!1},uv={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function d1(s){return s?Object.assign(Object.assign({},lv),s):lv}function g1(s){return s?Object.assign(Object.assign({},uv),s):uv}const Yu=Symbol(),qu=Symbol();function m1(){return{makeReadOptions:d1,makeWriteOptions:g1,readMessage(s,n,e,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Pn(n)}`);i=i??new s;const l=new Map,c=e.typeRegistry;for(const[h,g]of Object.entries(n)){const y=s.fields.findJsonName(h);if(y){if(y.oneof){if(g===null&&y.kind=="scalar")continue;const p=l.get(y.oneof);if(p!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${y.oneof.name}" present: "${p}", "${h}"`);l.set(y.oneof,h)}cv(i,g,y,e,s)}else{let p=!1;if(c!=null&&c.findExtension&&h.startsWith("[")&&h.endsWith("]")){const b=c.findExtension(h.substring(1,h.length-1));if(b&&b.extendee.typeName==s.typeName){p=!0;const[E,I]=o0(b);cv(E,g,b.field,e,b),h1(i,b,I(),e)}}if(!p&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${h}" is unknown`)}}return i},writeMessage(s,n){const e=s.getType(),i={};let l;try{for(l of e.fields.byNumber()){if(!c0(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!p1(l))continue}const h=l.oneof?s[l.oneof.localName].value:s[l.localName],g=fv(l,h,n);g!==void 0&&(i[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const h of e.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(e.typeName,h.no);if(g&&l0(s,g)){const y=f1(s,g,n),p=fv(g.field,y,n);p!==void 0&&(i[g.field.jsonName]=p)}}}catch(c){const h=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(h+(g.length>0?`: ${g}`:""))}return i},readScalar(s,n,e){return Zo(s,n,e??fa.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||s0(s,n)))return Ju(s,n)},debug:Pn}}function Pn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function cv(s,n,e,i,l){let c=e.localName;if(e.repeated){if(Qt(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Pn(n)}`);const h=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Pn(g)}`);switch(e.kind){case"message":h.push(e.T.fromJson(g,i));break;case"enum":const y=$h(e.T,g,i.ignoreUnknownFields,!0);y!==qu&&h.push(y);break;case"scalar":try{h.push(Zo(e.T,g,e.L,!0))}catch(p){let b=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Pn(g)}`;throw p instanceof Error&&p.message.length>0&&(b+=`: ${p.message}`),new Error(b)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Pn(n)}`);const h=s[c];for(const[g,y]of Object.entries(n)){if(y===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let p;try{p=y1(e.K,g)}catch(b){let E=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${Pn(n)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}switch(e.V.kind){case"message":h[p]=e.V.T.fromJson(y,i);break;case"enum":const b=$h(e.V.T,y,i.ignoreUnknownFields,!0);b!==qu&&(h[p]=b);break;case"scalar":try{h[p]=Zo(e.V.T,y,fa.BIGINT,!0)}catch(E){let I=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${Pn(n)}`;throw E instanceof Error&&E.message.length>0&&(I+=`: ${E.message}`),new Error(I)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const h=e.T;if(n===null&&h.typeName!="google.protobuf.Value")return;let g=s[c];Ei(g)?g.fromJson(n,i):(s[c]=g=h.fromJson(n,i),h.fieldWrapper&&!e.oneof&&(s[c]=h.fieldWrapper.unwrapField(g)));break;case"enum":const y=$h(e.T,n,i.ignoreUnknownFields,!1);switch(y){case Yu:ov(e,s);break;case qu:break;default:s[c]=y;break}break;case"scalar":try{const p=Zo(e.T,n,e.L,!1);switch(p){case Yu:ov(e,s);break;default:s[c]=p;break}}catch(p){let b=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Pn(n)}`;throw p instanceof Error&&p.message.length>0&&(b+=`: ${p.message}`),new Error(b)}break}}function y1(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Zo(s,n,fa.BIGINT,!0).toString()}function Zo(s,n,e,i){if(n===null)return i?Ms(s,e):Yu;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&Wv(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?Wh(c):Uu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const h=Vt.parse(n);return e?h.toString():h;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Vt.uParse(n);return e?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return Rd.dec(n)}throw new Error}function $h(s,n,e,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:Yu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return qu;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Pn(n)}`)}function p1(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function fv(s,n,e){if(s.kind=="map"){Qt(typeof n=="object"&&n!=null);const i={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[h,g]of l)i[h.toString()]=Ju(s.V.T,g);break;case"message":for(const[h,g]of l)i[h.toString()]=g.toJson(e);break;case"enum":const c=s.V.T;for(const[h,g]of l)i[h.toString()]=Xh(c,g,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?i:void 0}if(s.repeated){Qt(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)i.push(Ju(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)i.push(Xh(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)i.push(n[l].toJson(e));break}return e.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return Ju(s.T,n);case"enum":return Xh(s.T,n,e.enumAsInteger);case"message":return f0(s.T,n).toJson(e)}}function Xh(s,n,e){var i;if(Qt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:n}function Ju(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Qt(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Qt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Qt(typeof n=="string"),n;case z.BOOL:return Qt(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Qt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Qt(n instanceof Uint8Array),Rd.enc(n)}}const Ds=Symbol("@bufbuild/protobuf/unknown-fields"),hv={readUnknownFields:!0,readerFactory:s=>new o1(s)},dv={writeUnknownFields:!0,writerFactory:()=>new s1};function v1(s){return s?Object.assign(Object.assign({},hv),s):hv}function S1(s){return s?Object.assign(Object.assign({},dv),s):dv}function b1(){return{makeReadOptions:v1,makeWriteOptions:S1,listUnknownFields(s){var n;return(n=s[Ds])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[Ds]},writeUnknownFields(s,n){const i=s[Ds];if(i)for(const l of i)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,i){const l=s;Array.isArray(l[Ds])||(l[Ds]=[]),l[Ds].push({no:n,wireType:e,data:i})},readMessage(s,n,e,i,l){const c=s.getType(),h=l?n.len:n.pos+e;let g,y;for(;n.pos<h&&([g,y]=n.tag(),!(l===!0&&y==te.EndGroup));){const p=c.fields.find(g);if(!p){const b=n.skip(y,g);i.readUnknownFields&&this.onUnknownField(s,g,y,b);continue}gv(s,n,p,y,i)}if(l&&(y!=te.EndGroup||g!==e))throw new Error("invalid end group tag")},readField:gv,writeMessage(s,n,e){const i=s.getType();for(const l of i.fields.byNumber()){if(!c0(l,s)){if(l.req)throw new Error(`cannot encode field ${i.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];mv(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,i){n!==void 0&&mv(s,n,e,i)}}}function gv(s,n,e,i,l){let{repeated:c,localName:h}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=h&&delete s.value,s.case=h,h="value"),e.kind){case"scalar":case"enum":const g=e.kind=="enum"?z.INT32:e.T;let y=Gu;if(e.kind=="scalar"&&e.L>0&&(y=w1),c){let I=s[h];if(i==te.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let q=n.uint32()+n.pos;for(;n.pos<q;)I.push(y(n,g))}else I.push(y(n,g))}else s[h]=y(n,g);break;case"message":const p=e.T;c?s[h].push(Pu(n,new p,l,e)):Ei(s[h])?Pu(n,s[h],l,e):(s[h]=Pu(n,new p,l,e),p.fieldWrapper&&!e.oneof&&!e.repeated&&(s[h]=p.fieldWrapper.unwrapField(s[h])));break;case"map":let[b,E]=T1(e,n,l);s[h][b]=E;break}}function Pu(s,n,e,i){const l=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return l.readMessage(n,s,c?i.no:s.uint32(),e,c),n}function T1(s,n,e){const i=n.uint32(),l=n.pos+i;let c,h;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=Gu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":h=Gu(n,s.V.T);break;case"enum":h=n.int32();break;case"message":h=Pu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Ms(s.K,fa.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),h===void 0)switch(s.V.kind){case"scalar":h=Ms(s.V.T,fa.BIGINT);break;case"enum":h=s.V.T.values[0].no;break;case"message":h=new s.V.T;break}return[c,h]}function w1(s,n){const e=Gu(s,n);return typeof e=="bigint"?e.toString():e}function Gu(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function mv(s,n,e,i){Qt(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if(Qt(Array.isArray(n)),s.packed)E1(e,c,s.no,n);else for(const h of n)Qo(e,c,s.no,h);else Qo(e,c,s.no,n);break;case"message":if(l){Qt(Array.isArray(n));for(const h of n)yv(e,i,s,h)}else yv(e,i,s,n);break;case"map":Qt(typeof n=="object"&&n!=null);for(const[h,g]of Object.entries(n))A1(e,i,s,h,g);break}}function A1(s,n,e,i,l){s.tag(e.no,te.LengthDelimited),s.fork();let c=i;switch(e.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(i);break;case z.BOOL:Qt(i=="true"||i=="false"),c=i=="true";break}switch(Qo(s,e.K,1,c),e.V.kind){case"scalar":Qo(s,e.V.T,2,l);break;case"enum":Qo(s,z.INT32,2,l);break;case"message":Qt(l!==void 0),s.tag(2,te.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function yv(s,n,e,i){const l=f0(e.T,i);e.delimited?s.tag(e.no,te.StartGroup).raw(l.toBinary(n)).tag(e.no,te.EndGroup):s.tag(e.no,te.LengthDelimited).bytes(l.toBinary(n))}function Qo(s,n,e,i){Qt(i!==void 0);let[l,c]=h0(n);s.tag(e,l)[c](i)}function E1(s,n,e,i){if(!i.length)return;s.tag(e,te.LengthDelimited).fork();let[,l]=h0(n);for(let c=0;c<i.length;c++)s[l](i[c]);s.join()}function h0(s){let n=te.Varint;switch(s){case z.BYTES:case z.STRING:n=te.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=te.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=te.Bit32;break}const e=z[s].toLowerCase();return[n,e]}function x1(){return{setEnumType:e0,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const i of e.fields.byMember()){const l=i.localName,c=n,h=s;if(h[l]!=null)switch(i.kind){case"oneof":const g=h[l].case;if(g===void 0)continue;const y=i.findField(g);let p=h[l].value;y&&y.kind=="message"&&!Ei(p,y.T)?p=new y.T(p):y&&y.kind==="scalar"&&y.T===z.BYTES&&(p=Go(p)),c[l]={case:g,value:p};break;case"scalar":case"enum":let b=h[l];i.T===z.BYTES&&(b=i.repeated?b.map(Go):Go(b)),c[l]=b;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===z.BYTES)for(const[k,q]of Object.entries(h[l]))c[l][k]=Go(q);else Object.assign(c[l],h[l]);break;case"message":const I=i.V.T;for(const k of Object.keys(h[l])){let q=h[l][k];I.fieldWrapper||(q=new I(q)),c[l][k]=q}break}break;case"message":const E=i.T;if(i.repeated)c[l]=h[l].map(I=>Ei(I,E)?I:new E(I));else{const I=h[l];E.fieldWrapper?E.typeName==="google.protobuf.BytesValue"?c[l]=Go(I):c[l]=I:c[l]=Ei(I,E)?I:new E(I)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(i=>{const l=n[i.localName],c=e[i.localName];if(i.repeated){if(l.length!==c.length)return!1;switch(i.kind){case"message":return l.every((h,g)=>i.T.equals(h,c[g]));case"scalar":return l.every((h,g)=>ia(i.T,h,c[g]));case"enum":return l.every((h,g)=>ia(z.INT32,h,c[g]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let h=l,g=c;return i.T.fieldWrapper&&(h!==void 0&&!Ei(h)&&(h=i.T.fieldWrapper.wrapField(h)),g!==void 0&&!Ei(g)&&(g=i.T.fieldWrapper.wrapField(g))),i.T.equals(h,g);case"enum":return ia(z.INT32,l,c);case"scalar":return ia(i.T,l,c);case"oneof":if(l.case!==c.case)return!1;const y=i.findField(l.case);if(y===void 0)return!0;switch(y.kind){case"message":return y.T.equals(l.value,c.value);case"enum":return ia(z.INT32,l.value,c.value);case"scalar":return ia(y.T,l.value,c.value)}throw new Error(`oneof cannot contain ${y.kind}`);case"map":const p=Object.keys(l).concat(Object.keys(c));switch(i.V.kind){case"message":const b=i.V.T;return p.every(I=>b.equals(l[I],c[I]));case"enum":return p.every(I=>ia(z.INT32,l[I],c[I]));case"scalar":const E=i.V.T;return p.every(I=>ia(E,l[I],c[I]))}break}})},clone(s){const n=s.getType(),e=new n,i=e;for(const l of n.fields.byMember()){const c=s[l.localName];let h;if(l.repeated)h=c.map(Cu);else if(l.kind=="map"){h=i[l.localName];for(const[g,y]of Object.entries(c))h[g]=Cu(y)}else l.kind=="oneof"?h=l.findField(c.case)?{case:c.case,value:Cu(c.value)}:{case:void 0}:h=Cu(c);i[l.localName]=h}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,l.no,l.wireType,l.data);return e}}}function Cu(s){if(s===void 0)return s;if(Ei(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function Go(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function N1(s,n,e){return{syntax:s,json:m1(),bin:b1(),util:Object.assign(Object.assign({},x1()),{newFieldList:n,initFields:e}),makeMessageType(i,l,c){return t1(this,i,l,c)},makeEnum:WT,makeEnumType:n0,getEnumType:_T,makeExtension(i,l,c){return l1(this,i,l,c)}}}class D1{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const i of this.list())e[i.jsonName]=e[i.name]=i;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const i of this.list())e[i.no]=i;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const i of this.list())i.oneof?i.oneof!==e&&(e=i.oneof,n.push(e)):n.push(i)}return this.members}}function d0(s,n){const e=g0(s);return n?e:B1(I1(e))}function O1(s){return d0(s,!1)}const C1=g0;function g0(s){let n=!1;const e=[];for(let i=0;i<s.length;i++){let l=s.charAt(i);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const k1=new Set(["constructor","toString","toJSON","valueOf"]),R1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),m0=s=>`${s}$`,I1=s=>R1.has(s)?m0(s):s,B1=s=>k1.has(s)?m0(s):s;class z1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=O1(n)}addField(n){Qt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function M1(s,n){var e,i,l,c,h,g;const y=[];let p;for(const b of typeof s=="function"?s():s){const E=b;if(E.localName=d0(b.name,b.oneof!==void 0),E.jsonName=(e=b.jsonName)!==null&&e!==void 0?e:C1(b.name),E.repeated=(i=b.repeated)!==null&&i!==void 0?i:!1,b.kind=="scalar"&&(E.L=(l=b.L)!==null&&l!==void 0?l:fa.BIGINT),E.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,E.req=(h=b.req)!==null&&h!==void 0?h:!1,E.opt=(g=b.opt)!==null&&g!==void 0?g:!1,b.packed===void 0&&(E.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=z.BYTES&&b.T!=z.STRING),b.oneof!==void 0){const I=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!p||p.name!=I)&&(p=new z1(I)),E.oneof=p,p.addField(E)}y.push(E)}return y}const v=N1("proto3",s=>new D1(s,n=>M1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,i=s;if(n.repeated){i[e]=[];continue}switch(n.kind){case"oneof":i[e]={case:void 0};break;case"enum":i[e]=0;break;case"map":i[e]={};break;case"scalar":i[e]=Ms(n.T,n.L);break}}});var Ne;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Ne||(Ne={}));var pv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(pv||(pv={}));class me extends j{constructor(n){super(),this.seconds=Vt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${v.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Vt.parse(l/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?i="."+l.substring(0,3)+"Z":l.substring(6)==="000"?i="."+l.substring(0,6)+"Z":i="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return me.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new me({seconds:Vt.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new me().fromBinary(n,e)}static fromJson(n,e){return new me().fromJson(n,e)}static fromJsonString(n,e){return new me().fromJsonString(n,e)}static equals(n,e){return v.util.equals(me,n,e)}}me.runtime=v;me.typeName="google.protobuf.Timestamp";me.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class xi extends j{constructor(n){super(),this.seconds=Vt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const l=Number(i[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);if(this.seconds=Vt.parse(l),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),e+="."+i,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new xi().fromBinary(n,e)}static fromJson(n,e){return new xi().fromJson(n,e)}static fromJsonString(n,e){return new xi().fromJsonString(n,e)}static equals(n,e){return v.util.equals(xi,n,e)}}xi.runtime=v;xi.typeName="google.protobuf.Duration";xi.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Vn extends j{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(i);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let h=l.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||h===null||Array.isArray(h)||typeof h!="object")&&(h={value:h}),h["@type"]=this.typeUrl,h}fromJson(n,e){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),h=(i=e==null?void 0:e.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!h)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=h.fromJson(n.value,e);else{const y=Object.assign({},n);delete y["@type"],g=h.fromJson(y,e)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,e===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),i=e>=0?n.substring(e+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const e=new Vn;return e.packFrom(n),e}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Vn,n,e)}}Vn.runtime=v;Vn.typeName="google.protobuf.Any";Vn.fields=v.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Hn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.DOUBLE,n)}catch(i){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Hn,n,e)}}Hn.runtime=v;Hn.typeName="google.protobuf.DoubleValue";Hn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class jn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.FLOAT,n)}catch(i){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(jn,n,e)}}jn.runtime=v;jn.typeName="google.protobuf.FloatValue";jn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};class Yn extends j{constructor(n){super(),this.value=Vt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT64,n)}catch(i){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Yn,n,e)}}Yn.runtime=v;Yn.typeName="google.protobuf.Int64Value";Yn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Gn extends j{constructor(n){super(),this.value=Vt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT64,n)}catch(i){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Gn,n,e)}}Gn.runtime=v;Gn.typeName="google.protobuf.UInt64Value";Gn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class Xe extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT32,n)}catch(i){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Xe().fromBinary(n,e)}static fromJson(n,e){return new Xe().fromJson(n,e)}static fromJsonString(n,e){return new Xe().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Xe,n,e)}}Xe.runtime=v;Xe.typeName="google.protobuf.Int32Value";Xe.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Kn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT32,n)}catch(i){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Kn().fromBinary(n,e)}static fromJson(n,e){return new Kn().fromJson(n,e)}static fromJsonString(n,e){return new Kn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Kn,n,e)}}Kn.runtime=v;Kn.typeName="google.protobuf.UInt32Value";Kn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Kn.fieldWrapper={wrapField(s){return new Kn({value:s})},unwrapField(s){return s.value}};class $n extends j{constructor(n){super(),this.value=!1,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BOOL,n)}catch(i){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new $n().fromBinary(n,e)}static fromJson(n,e){return new $n().fromJson(n,e)}static fromJsonString(n,e){return new $n().fromJsonString(n,e)}static equals(n,e){return v.util.equals($n,n,e)}}$n.runtime=v;$n.typeName="google.protobuf.BoolValue";$n.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};class Be extends j{constructor(n){super(),this.value="",v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.STRING,n)}catch(i){let l='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Be().fromBinary(n,e)}static fromJson(n,e){return new Be().fromJson(n,e)}static fromJsonString(n,e){return new Be().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Be,n,e)}}Be.runtime=v;Be.typeName="google.protobuf.StringValue";Be.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Be.fieldWrapper={wrapField(s){return new Be({value:s})},unwrapField(s){return s.value}};class Xn extends j{constructor(n){super(),this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BYTES,n)}catch(i){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Xn().fromBinary(n,e)}static fromJson(n,e){return new Xn().fromJson(n,e)}static fromJsonString(n,e){return new Xn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Xn,n,e)}}Xn.runtime=v;Xn.typeName="google.protobuf.BytesValue";Xn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Xn.fieldWrapper={wrapField(s){return new Xn({value:s})},unwrapField(s){return s.value}};function U1(s,n,e){try{const i=Rd.dec(s);return n?n.fromBinary(i,e):i}catch(i){throw kt.from(i,St.DataLoss)}}function L1(s,n){const e={};for(const[i,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:i,service:s}));c!=null&&(e[i]=c)}return e}const vv=1;function Sv(s){let n,e=new Uint8Array(0);function i(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let y=0;for(let p=1;p<5;p++)y=(y<<8)+e[p];c={flags:e[0],length:y}}if(c!==void 0&&e.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;i(g.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new kt("premature end of stream",St.DataLoss));return}const h=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:h})}})}function bv(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),e}var q1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(h){return new Promise(function(g,y){h=s[c](h),l(g,y,h.done,h.value)})}}function l(c,h,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},h)}},tl=function(s){return this instanceof tl?(this.v=s,this):new tl(s)},J1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(V){return new Promise(function(Y,_){c.push([k,V,Y,_])>1||y(k,V)})},q&&(l[k]=q(l[k])))}function y(k,q){try{p(i[k](q))}catch(V){I(c[0][3],V)}}function p(k){k.value instanceof tl?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function I(k,q){k(q),c.shift(),c.length&&y(c[0][0],c[0][1])}},P1=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:tl(s[l](h)),done:!1}:c?c(h):h}:c}};function V1(s){return J1(this,arguments,function*(){yield tl(yield*P1(q1(s)))})}var y0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(h){return new Promise(function(g,y){h=s[c](h),l(g,y,h.done,h.value)})}}function l(c,h,g,y){Promise.resolve(y).then(function(p){c({value:p,done:g})},h)}},Us=function(s){return this instanceof Us?(this.v=s,this):new Us(s)},H1=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Us(s[l](h)),done:!1}:c?c(h):h}:c}},j1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(V){return new Promise(function(Y,_){c.push([k,V,Y,_])>1||y(k,V)})},q&&(l[k]=q(l[k])))}function y(k,q){try{p(i[k](q))}catch(V){I(c[0][3],V)}}function p(k){k.value instanceof Us?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function I(k,q){k(q),c.shift(),c.length&&y(c[0][0],c[0][1])}};function Y1(s,n){return L1(s,e=>{switch(e.kind){case Ne.Unary:return G1(n,s,e);case Ne.ServerStreaming:return K1(n,s,e);case Ne.ClientStreaming:return $1(n,s,e);case Ne.BiDiStreaming:return X1(n,s,e);default:return null}})}function G1(s,n,e){return async function(i,l){var c,h;const g=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(h=l==null?void 0:l.onTrailer)===null||h===void 0||h.call(l,g.trailer),g.message}}function K1(s,n,e){return function(i,l){return p0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,V1([i]),l==null?void 0:l.contextValues),l)}}function $1(s,n,e){return async function(i,l){var c,h,g,y,p,b;const E=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);(p=l==null?void 0:l.onHeader)===null||p===void 0||p.call(l,E.header);let I,k=0;try{for(var q=!0,V=y0(E.message),Y;Y=await V.next(),c=Y.done,!c;q=!0)y=Y.value,q=!1,I=y,k++}catch(_){h={error:_}}finally{try{!q&&!c&&(g=V.return)&&await g.call(V)}finally{if(h)throw h.error}}if(!I)throw new kt("protocol error: missing response message",St.Unimplemented);if(k>1)throw new kt("protocol error: received extra messages for client streaming method",St.Unimplemented);return(b=l==null?void 0:l.onTrailer)===null||b===void 0||b.call(l,E.trailer),I}}function X1(s,n,e){return function(i,l){return p0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues),l)}}function p0(s,n){const e=function(){return j1(this,arguments,function*(){var i,l;const c=yield Us(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield Us(yield*H1(y0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function Z1(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort(v0(this));for(const l of e)l.removeEventListener("abort",i)}return n}function Q1(s){const n=new AbortController,e=()=>{n.abort(new kt("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?e():i=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function v0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Tv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const Zh=128;function wv(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const i of e){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),h=i.substring(l+1).trim();n.append(c,h)}}return n}const F1="Content-Type",_1="Grpc-Timeout",Ls="Grpc-Status",S0="Grpc-Message",W1="Grpc-Status-Details-Bin",tw="X-User-Agent",ew="X-Grpc-Web",nw="application/grpc-web+proto",rw="application/grpc-web+json";class Ni extends j{constructor(n){super(),this.code=0,this.message="",this.details=[],v.util.initPartial(n,this)}static fromBinary(n,e){return new Ni().fromBinary(n,e)}static fromJson(n,e){return new Ni().fromJson(n,e)}static fromJsonString(n,e){return new Ni().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Ni,n,e)}}Ni.runtime=v;Ni.typeName="google.rpc.Status";Ni.fields=v.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Vn,repeated:!0}]);const iw="0";function b0(s){var n;const e=s.get(W1);if(e!=null){const l=U1(e,Ni);if(l.code==0)return;const c=new kt(l.message,l.code,s);return c.details=l.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const i=s.get(Ls);if(i!=null){if(i===iw)return;const l=parseInt(i,10);return l in St?new kt(decodeURIComponent((n=s.get(S0))!==null&&n!==void 0?n:""),l,s):new kt(`invalid grpc-status: ${i}`,St.Internal,s)}}function Av(s,n,e){const i=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${i}/${l}`)}function T0(s,n){return n instanceof s?n:new s(n)}function aw(s,n){function e(i){return i.done===!0?i:{done:i.done,value:T0(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),l={next:()=>i.next().then(e)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(e)),i.return!==void 0&&(l.return=c=>i.return(c).then(e)),l}}}function w0(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((i,l)=>l(i),s))!==null&&e!==void 0?e:s}function sw(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function Ev(s,n,e,i){const l=n?xv(s.I,i):Nv(s.I,e);return{parse:(n?xv(s.O,i):Nv(s.O,e)).parse,serialize:l.serialize}}function xv(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new kt(`parse binary: ${l}`,St.Internal)}},serialize(e){try{return e.toBinary(n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new kt(`serialize binary: ${l}`,St.Internal)}}}}function Nv(s,n){var e,i;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,h=sw(n);return{parse(g){try{const y=c.decode(g);return s.fromJsonString(y,h)}catch(y){throw kt.from(y,St.InvalidArgument)}},serialize(g){try{const y=g.toJsonString(h);return l.encode(y)}catch(y){throw kt.from(y,St.Internal)}}}}function ow(s){const n=w0(s.next,s.interceptors),[e,i,l]=A0(s),c=Object.assign(Object.assign({},s.req),{message:T0(s.req.method.I,s.req.message),signal:e});return n(c).then(h=>(l(),h),i)}function lw(s){const n=w0(s.next,s.interceptors),[e,i,l]=A0(s),c=Object.assign(Object.assign({},s.req),{message:aw(s.req.method.I,s.req.message),signal:e});let h=!1;return e.addEventListener("abort",function(){var g,y;const p=s.req.message[Symbol.asyncIterator]();h||(g=p.throw)===null||g===void 0||g.call(p,this.reason).catch(()=>{}),(y=p.return)===null||y===void 0||y.call(p).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const y=g.message[Symbol.asyncIterator]();return{next(){return y.next().then(p=>(p.done==!0&&(h=!0,l()),p),i)}}}}}),i)}function A0(s){const{signal:n,cleanup:e}=Q1(s.timeoutMs),i=Z1(s.signal,n);return[i.signal,function(c){const h=kt.from(n.aborted?v0(n):c);return i.abort(h),e(),Promise.reject(h)},function(){e(),i.abort()}]}function uw(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Dv(s,n){const e=b0(s);if(e)throw n.forEach((i,l)=>{e.metadata.append(l,i)}),e;if(!n.has(Ls)&&!s.has(Ls))throw new kt("protocol error: missing status",St.Internal)}function Ov(s,n,e,i){const l=new Headers(e??{});return l.set(F1,s?nw:rw),l.set(ew,"1"),l.set(tw,"connect-es/1.6.1"),n!==void 0&&l.set(_1,`${n}m`),l}function cw(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function Cv(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(Ls),headerError:b0(n)};throw new kt(decodeURIComponent((e=n.get(S0))!==null&&e!==void 0?e:`HTTP ${s}`),cw(s),n)}var za=function(s){return this instanceof za?(this.v=s,this):new za(s)},fw=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(V){return new Promise(function(Y,_){c.push([k,V,Y,_])>1||y(k,V)})},q&&(l[k]=q(l[k])))}function y(k,q){try{p(i[k](q))}catch(V){I(c[0][3],V)}}function p(k){k.value instanceof za?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function I(k,q){k(q),c.shift(),c.length&&y(c[0][0],c[0][1])}};function hw(s){var n;uw();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,l,c,h,g,y,p){var b;const{serialize:E,parse:I}=Ev(l,e,s.jsonOptions,s.binaryOptions);return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,await ow({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!1,service:i,method:l,url:Av(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Ov(e,h,g),contextValues:p??Tv(),message:y},next:async k=>{var q;const Y=await((q=s.fetch)!==null&&q!==void 0?q:globalThis.fetch)(k.url,Object.assign(Object.assign({},k.init),{headers:k.header,signal:k.signal,body:bv(0,E(k.message))})),{headerError:_}=Cv(Y.status,Y.headers);if(!Y.body)throw _!==void 0?_:"missing response body";const lt=Sv(Y.body).getReader();let ct,mt;for(;;){const et=await lt.read();if(et.done)break;const{flags:st,data:yt}=et.value;if((st&vv)===vv)throw new kt("protocol error: received unsupported compressed output",St.Internal);if(st===Zh){if(ct!==void 0)throw"extra trailer";ct=wv(yt);continue}if(mt!==void 0)throw new kt("extra message",St.Unimplemented);mt=I(yt)}if(ct===void 0)throw _!==void 0?_:new kt("missing trailer",Y.headers.has(Ls)?St.Unimplemented:St.Unknown);if(Dv(ct,Y.headers),mt===void 0)throw new kt("missing message",ct.has(Ls)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:l,header:Y.headers,message:mt,trailer:ct}}})},async stream(i,l,c,h,g,y,p){var b;const{serialize:E,parse:I}=Ev(l,e,s.jsonOptions,s.binaryOptions);function k(V,Y,_,lt,ct){return fw(this,arguments,function*(){const et=Sv(V).getReader();if(Y){if(!(yield za(et.read())).done)throw"extra data for trailers-only";return yield za(void 0)}let st=!1;for(;;){const yt=yield za(et.read());if(yt.done)break;const{flags:wt,data:At}=yt.value;if((wt&Zh)===Zh){if(st)throw"extra trailer";st=!0;const re=wv(At);Dv(re,lt),re.forEach((Le,se)=>_.set(se,Le));continue}if(st)throw"extra message";yield yield za(I(At))}if("throwIfAborted"in ct&&ct.throwIfAborted(),!st)throw"missing trailer"})}async function q(V){if(l.kind!=Ne.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Y=await V[Symbol.asyncIterator]().next();if(Y.done==!0)throw"missing request message";return bv(0,E(Y.value))}return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,lw({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!0,service:i,method:l,url:Av(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Ov(e,h,g),contextValues:p??Tv(),message:y},next:async V=>{var Y;const lt=await((Y=s.fetch)!==null&&Y!==void 0?Y:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await q(V.message)})),{foundStatus:ct,headerError:mt}=Cv(lt.status,lt.headers);if(mt!=null)throw mt;if(!lt.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},V),{header:lt.headers,trailer:et,message:k(lt.body,ct,et,lt.headers,V.signal)})}})}}}var ft=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ft||{});v.util.setEnumType(ft,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ma=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Ma||{});v.util.setEnumType(Ma,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const vr=class vr extends j{constructor(e){super();d(this,"root");d(this,"presences",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new vr().fromBinary(e,i)}static fromJson(e,i){return new vr().fromJson(e,i)}static fromJsonString(e,i){return new vr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(vr,e,i)}};d(vr,"runtime",v),d(vr,"typeName","yorkie.v1.Snapshot"),d(vr,"fields",v.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Ue},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Sc}}]));let td=vr;var un;let Ii=(un=class extends j{constructor(e){super();d(this,"documentKey","");d(this,"checkpoint");d(this,"snapshot",new Uint8Array(0));d(this,"changes",[]);d(this,"minSyncedTicket");d(this,"isRemoved",!1);d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,i){return new un().fromBinary(e,i)}static fromJson(e,i){return new un().fromJson(e,i)}static fromJsonString(e,i){return new un().fromJsonString(e,i)}static equals(e,i){return v.util.equals(un,e,i)}},d(un,"runtime",v),d(un,"typeName","yorkie.v1.ChangePack"),d(un,"fields",v.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:N0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:E0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:vc}])),un);var cn;let E0=(cn=class extends j{constructor(e){super();d(this,"id");d(this,"message","");d(this,"operations",[]);d(this,"presenceChange");v.util.initPartial(e,this)}static fromBinary(e,i){return new cn().fromBinary(e,i)}static fromJson(e,i){return new cn().fromJson(e,i)}static fromJsonString(e,i){return new cn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(cn,e,i)}},d(cn,"runtime",v),d(cn,"typeName","yorkie.v1.Change"),d(cn,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:pc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Id,repeated:!0},{no:4,name:"presence_change",kind:"message",T:rl}])),cn);var fn;let pc=(fn=class extends j{constructor(e){super();d(this,"clientSeq",0);d(this,"serverSeq",Vt.zero);d(this,"lamport",Vt.zero);d(this,"actorId",new Uint8Array(0));d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,i){return new fn().fromBinary(e,i)}static fromJson(e,i){return new fn().fromJson(e,i)}static fromJsonString(e,i){return new fn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(fn,e,i)}},d(fn,"runtime",v),d(fn,"typeName","yorkie.v1.ChangeID"),d(fn,"fields",v.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:vc}])),fn);var hn;let vc=(hn=class extends j{constructor(e){super();d(this,"vector",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new hn().fromBinary(e,i)}static fromJson(e,i){return new hn().fromJson(e,i)}static fromJsonString(e,i){return new hn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(hn,e,i)}},d(hn,"runtime",v),d(hn,"typeName","yorkie.v1.VersionVector"),d(hn,"fields",v.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),hn);var dn;let Id=(dn=class extends j{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new dn().fromBinary(e,i)}static fromJson(e,i){return new dn().fromJson(e,i)}static fromJsonString(e,i){return new dn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(dn,e,i)}},d(dn,"runtime",v),d(dn,"typeName","yorkie.v1.Operation"),d(dn,"fields",v.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Ku,oneof:"body"},{no:2,name:"add",kind:"message",T:$u,oneof:"body"},{no:3,name:"move",kind:"message",T:Xu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Zu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Qu,oneof:"body"},{no:7,name:"style",kind:"message",T:Fu,oneof:"body"},{no:8,name:"increase",kind:"message",T:_u,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Wu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:tc,oneof:"body"},{no:11,name:"array_set",kind:"message",T:ec,oneof:"body"}])),dn);const Sr=class Sr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"key","");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Sr().fromBinary(e,i)}static fromJson(e,i){return new Sr().fromJson(e,i)}static fromJsonString(e,i){return new Sr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Sr,e,i)}};d(Sr,"runtime",v),d(Sr,"typeName","yorkie.v1.Operation.Set"),d(Sr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let Ku=Sr;const br=class br extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new br().fromBinary(e,i)}static fromJson(e,i){return new br().fromJson(e,i)}static fromJsonString(e,i){return new br().fromJsonString(e,i)}static equals(e,i){return v.util.equals(br,e,i)}};d(br,"runtime",v),d(br,"typeName","yorkie.v1.Operation.Add"),d(br,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let $u=br;const Tr=class Tr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Tr().fromBinary(e,i)}static fromJson(e,i){return new Tr().fromJson(e,i)}static fromJsonString(e,i){return new Tr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Tr,e,i)}};d(Tr,"runtime",v),d(Tr,"typeName","yorkie.v1.Operation.Move"),d(Tr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let Xu=Tr;const wr=class wr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new wr().fromBinary(e,i)}static fromJson(e,i){return new wr().fromJson(e,i)}static fromJsonString(e,i){return new wr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(wr,e,i)}};d(wr,"runtime",v),d(wr,"typeName","yorkie.v1.Operation.Remove"),d(wr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let Zu=wr;const Ar=class Ar extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"content","");d(this,"executedAt");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Ar().fromBinary(e,i)}static fromJson(e,i){return new Ar().fromJson(e,i)}static fromJsonString(e,i){return new Ar().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ar,e,i)}};d(Ar,"runtime",v),d(Ar,"typeName","yorkie.v1.Operation.Edit"),d(Ar,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:qa},{no:3,name:"to",kind:"message",T:qa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Qu=Ar;const Er=class Er extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Er().fromBinary(e,i)}static fromJson(e,i){return new Er().fromJson(e,i)}static fromJsonString(e,i){return new Er().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Er,e,i)}};d(Er,"runtime",v),d(Er,"typeName","yorkie.v1.Operation.Style"),d(Er,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:qa},{no:3,name:"to",kind:"message",T:qa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let Fu=Er;const xr=class xr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new xr().fromBinary(e,i)}static fromJson(e,i){return new xr().fromJson(e,i)}static fromJsonString(e,i){return new xr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(xr,e,i)}};d(xr,"runtime",v),d(xr,"typeName","yorkie.v1.Operation.Increase"),d(xr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:ln},{no:3,name:"executed_at",kind:"message",T:Z}]));let _u=xr;const Nr=class Nr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"contents",[]);d(this,"splitLevel",0);d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Nr().fromBinary(e,i)}static fromJson(e,i){return new Nr().fromJson(e,i)}static fromJsonString(e,i){return new Nr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Nr,e,i)}};d(Nr,"runtime",v),d(Nr,"typeName","yorkie.v1.Operation.TreeEdit"),d(Nr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:cc,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let Wu=Nr;const Dr=class Dr extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"attributesToRemove",[]);d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Dr().fromBinary(e,i)}static fromJson(e,i){return new Dr().fromJson(e,i)}static fromJsonString(e,i){return new Dr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Dr,e,i)}};d(Dr,"runtime",v),d(Dr,"typeName","yorkie.v1.Operation.TreeStyle"),d(Dr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let tc=Dr;const Or=class Or extends j{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Or().fromBinary(e,i)}static fromJson(e,i){return new Or().fromJson(e,i)}static fromJsonString(e,i){return new Or().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Or,e,i)}};d(Or,"runtime",v),d(Or,"typeName","yorkie.v1.Operation.ArraySet"),d(Or,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let ec=Or;const Cr=class Cr extends j{constructor(e){super();d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");d(this,"type",0);d(this,"value",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new Cr().fromBinary(e,i)}static fromJson(e,i){return new Cr().fromJson(e,i)}static fromJsonString(e,i){return new Cr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Cr,e,i)}};d(Cr,"runtime",v),d(Cr,"typeName","yorkie.v1.JSONElementSimple"),d(Cr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:v.getEnumType(ft)},{no:5,name:"value",kind:"scalar",T:12}]));let ln=Cr;const kr=class kr extends j{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new kr().fromBinary(e,i)}static fromJson(e,i){return new kr().fromJson(e,i)}static fromJsonString(e,i){return new kr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(kr,e,i)}};d(kr,"runtime",v),d(kr,"typeName","yorkie.v1.JSONElement"),d(kr,"fields",v.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:nc,oneof:"body"},{no:2,name:"json_array",kind:"message",T:rc,oneof:"body"},{no:3,name:"primitive",kind:"message",T:ic,oneof:"body"},{no:5,name:"text",kind:"message",T:ac,oneof:"body"},{no:6,name:"counter",kind:"message",T:sc,oneof:"body"},{no:7,name:"tree",kind:"message",T:oc,oneof:"body"}]));let Ue=kr;const Rr=class Rr extends j{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Rr().fromBinary(e,i)}static fromJson(e,i){return new Rr().fromJson(e,i)}static fromJsonString(e,i){return new Rr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Rr,e,i)}};d(Rr,"runtime",v),d(Rr,"typeName","yorkie.v1.JSONElement.JSONObject"),d(Rr,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:x0,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let nc=Rr;const Ir=class Ir extends j{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Ir().fromBinary(e,i)}static fromJson(e,i){return new Ir().fromJson(e,i)}static fromJsonString(e,i){return new Ir().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ir,e,i)}};d(Ir,"runtime",v),d(Ir,"typeName","yorkie.v1.JSONElement.JSONArray"),d(Ir,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:lc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let rc=Ir;const Br=class Br extends j{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Br().fromBinary(e,i)}static fromJson(e,i){return new Br().fromJson(e,i)}static fromJsonString(e,i){return new Br().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Br,e,i)}};d(Br,"runtime",v),d(Br,"typeName","yorkie.v1.JSONElement.Primitive"),d(Br,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let ic=Br;const zr=class zr extends j{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new zr().fromBinary(e,i)}static fromJson(e,i){return new zr().fromJson(e,i)}static fromJsonString(e,i){return new zr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(zr,e,i)}};d(zr,"runtime",v),d(zr,"typeName","yorkie.v1.JSONElement.Text"),d(zr,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:uc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let ac=zr;const Mr=class Mr extends j{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Mr().fromBinary(e,i)}static fromJson(e,i){return new Mr().fromJson(e,i)}static fromJsonString(e,i){return new Mr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Mr,e,i)}};d(Mr,"runtime",v),d(Mr,"typeName","yorkie.v1.JSONElement.Counter"),d(Mr,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let sc=Mr;const Ur=class Ur extends j{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Ur().fromBinary(e,i)}static fromJson(e,i){return new Ur().fromJson(e,i)}static fromJsonString(e,i){return new Ur().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ur,e,i)}};d(Ur,"runtime",v),d(Ur,"typeName","yorkie.v1.JSONElement.Tree"),d(Ur,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:nl,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let oc=Ur;var gn;let x0=(gn=class extends j{constructor(e){super();d(this,"key","");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,i){return new gn().fromBinary(e,i)}static fromJson(e,i){return new gn().fromJson(e,i)}static fromJsonString(e,i){return new gn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(gn,e,i)}},d(gn,"runtime",v),d(gn,"typeName","yorkie.v1.RHTNode"),d(gn,"fields",v.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ue}])),gn);const Jn=class Jn extends j{constructor(e){super();d(this,"next");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,i){return new Jn().fromBinary(e,i)}static fromJson(e,i){return new Jn().fromJson(e,i)}static fromJsonString(e,i){return new Jn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Jn,e,i)}};d(Jn,"runtime",v),d(Jn,"typeName","yorkie.v1.RGANode"),d(Jn,"fields",v.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Jn},{no:2,name:"element",kind:"message",T:Ue}]));let lc=Jn;const Lr=class Lr extends j{constructor(e){super();d(this,"value","");d(this,"updatedAt");d(this,"isRemoved",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new Lr().fromBinary(e,i)}static fromJson(e,i){return new Lr().fromJson(e,i)}static fromJsonString(e,i){return new Lr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Lr,e,i)}};d(Lr,"runtime",v),d(Lr,"typeName","yorkie.v1.NodeAttr"),d(Lr,"fields",v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let qs=Lr;const qr=class qr extends j{constructor(e){super();d(this,"id");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new qr().fromBinary(e,i)}static fromJson(e,i){return new qr().fromJson(e,i)}static fromJsonString(e,i){return new qr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(qr,e,i)}};d(qr,"runtime",v),d(qr,"typeName","yorkie.v1.TextNode"),d(qr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:el},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:el},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:qs}}]));let uc=qr;const Jr=class Jr extends j{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Jr().fromBinary(e,i)}static fromJson(e,i){return new Jr().fromJson(e,i)}static fromJsonString(e,i){return new Jr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Jr,e,i)}};d(Jr,"runtime",v),d(Jr,"typeName","yorkie.v1.TextNodeID"),d(Jr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let el=Jr;const Pr=class Pr extends j{constructor(e){super();d(this,"id");d(this,"type","");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"insNextId");d(this,"depth",0);d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new Pr().fromBinary(e,i)}static fromJson(e,i){return new Pr().fromJson(e,i)}static fromJsonString(e,i){return new Pr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Pr,e,i)}};d(Pr,"runtime",v),d(Pr,"typeName","yorkie.v1.TreeNode"),d(Pr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:la},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:la},{no:6,name:"ins_next_id",kind:"message",T:la},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:qs}}]));let nl=Pr;const Vr=class Vr extends j{constructor(e){super();d(this,"content",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Vr().fromBinary(e,i)}static fromJson(e,i){return new Vr().fromJson(e,i)}static fromJsonString(e,i){return new Vr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Vr,e,i)}};d(Vr,"runtime",v),d(Vr,"typeName","yorkie.v1.TreeNodes"),d(Vr,"fields",v.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:nl,repeated:!0}]));let cc=Vr;const Hr=class Hr extends j{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Hr().fromBinary(e,i)}static fromJson(e,i){return new Hr().fromJson(e,i)}static fromJsonString(e,i){return new Hr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Hr,e,i)}};d(Hr,"runtime",v),d(Hr,"typeName","yorkie.v1.TreeNodeID"),d(Hr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let la=Hr;const jr=class jr extends j{constructor(e){super();d(this,"parentId");d(this,"leftSiblingId");v.util.initPartial(e,this)}static fromBinary(e,i){return new jr().fromBinary(e,i)}static fromJson(e,i){return new jr().fromJson(e,i)}static fromJsonString(e,i){return new jr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(jr,e,i)}};d(jr,"runtime",v),d(jr,"typeName","yorkie.v1.TreePos"),d(jr,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:la},{no:2,name:"left_sibling_id",kind:"message",T:la}]));let Ua=jr;const Yr=class Yr extends j{constructor(e){super();d(this,"id","");d(this,"authProvider","");d(this,"username","");d(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Yr().fromBinary(e,i)}static fromJson(e,i){return new Yr().fromJson(e,i)}static fromJsonString(e,i){return new Yr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Yr,e,i)}};d(Yr,"runtime",v),d(Yr,"typeName","yorkie.v1.User"),d(Yr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:me}]));let kv=Yr;const Gr=class Gr extends j{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"publicKey","");d(this,"secretKey","");d(this,"authWebhookUrl","");d(this,"authWebhookMethods",[]);d(this,"eventWebhookUrl","");d(this,"eventWebhookEvents",[]);d(this,"clientDeactivateThreshold","");d(this,"maxSubscribersPerDocument",0);d(this,"maxAttachmentsPerDocument",0);d(this,"maxSizePerDocument",0);d(this,"allowedOrigins",[]);d(this,"createdAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Gr().fromBinary(e,i)}static fromJson(e,i){return new Gr().fromJson(e,i)}static fromJsonString(e,i){return new Gr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Gr,e,i)}};d(Gr,"runtime",v),d(Gr,"typeName","yorkie.v1.Project"),d(Gr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:me},{no:13,name:"updated_at",kind:"message",T:me}]));let Rv=Gr;const Kr=class Kr extends j{constructor(e){super();d(this,"timestamp",Vt.zero);d(this,"value",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Kr().fromBinary(e,i)}static fromJson(e,i){return new Kr().fromJson(e,i)}static fromJsonString(e,i){return new Kr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Kr,e,i)}};d(Kr,"runtime",v),d(Kr,"typeName","yorkie.v1.MetricPoint"),d(Kr,"fields",v.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let Iv=Kr;const $r=class $r extends j{constructor(e){super();d(this,"name");d(this,"authWebhookUrl");d(this,"authWebhookMethods");d(this,"eventWebhookUrl");d(this,"eventWebhookEvents");d(this,"clientDeactivateThreshold");d(this,"maxSubscribersPerDocument");d(this,"maxAttachmentsPerDocument");d(this,"maxSizePerDocument");d(this,"allowedOrigins");v.util.initPartial(e,this)}static fromBinary(e,i){return new $r().fromBinary(e,i)}static fromJson(e,i){return new $r().fromJson(e,i)}static fromJsonString(e,i){return new $r().fromJsonString(e,i)}static equals(e,i){return v.util.equals($r,e,i)}};d($r,"runtime",v),d($r,"typeName","yorkie.v1.UpdatableProjectFields"),d($r,"fields",v.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Be},{no:2,name:"auth_webhook_url",kind:"message",T:Be},{no:3,name:"auth_webhook_methods",kind:"message",T:ed},{no:4,name:"event_webhook_url",kind:"message",T:Be},{no:5,name:"event_webhook_events",kind:"message",T:nd},{no:6,name:"client_deactivate_threshold",kind:"message",T:Be},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:9,name:"allowed_origins",kind:"message",T:rd}]));let Bv=$r;const Xr=class Xr extends j{constructor(e){super();d(this,"methods",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Xr().fromBinary(e,i)}static fromJson(e,i){return new Xr().fromJson(e,i)}static fromJsonString(e,i){return new Xr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Xr,e,i)}};d(Xr,"runtime",v),d(Xr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),d(Xr,"fields",v.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let ed=Xr;const Zr=class Zr extends j{constructor(e){super();d(this,"events",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Zr().fromBinary(e,i)}static fromJson(e,i){return new Zr().fromJson(e,i)}static fromJsonString(e,i){return new Zr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Zr,e,i)}};d(Zr,"runtime",v),d(Zr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),d(Zr,"fields",v.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let nd=Zr;const Qr=class Qr extends j{constructor(e){super();d(this,"origins",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new Qr().fromBinary(e,i)}static fromJson(e,i){return new Qr().fromJson(e,i)}static fromJsonString(e,i){return new Qr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Qr,e,i)}};d(Qr,"runtime",v),d(Qr,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),d(Qr,"fields",v.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let rd=Qr;const Fr=class Fr extends j{constructor(e){super();d(this,"id","");d(this,"key","");d(this,"root","");d(this,"attachedClients",0);d(this,"documentSize");d(this,"schemaKey","");d(this,"presences",{});d(this,"createdAt");d(this,"accessedAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new Fr().fromBinary(e,i)}static fromJson(e,i){return new Fr().fromJson(e,i)}static fromJsonString(e,i){return new Fr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Fr,e,i)}};d(Fr,"runtime",v),d(Fr,"typeName","yorkie.v1.DocumentSummary"),d(Fr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:sd},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:Sc}},{no:4,name:"created_at",kind:"message",T:me},{no:5,name:"accessed_at",kind:"message",T:me},{no:6,name:"updated_at",kind:"message",T:me}]));let zv=Fr;const _r=class _r extends j{constructor(e){super();d(this,"type",0);d(this,"presence");v.util.initPartial(e,this)}static fromBinary(e,i){return new _r().fromBinary(e,i)}static fromJson(e,i){return new _r().fromJson(e,i)}static fromJsonString(e,i){return new _r().fromJsonString(e,i)}static equals(e,i){return v.util.equals(_r,e,i)}};d(_r,"runtime",v),d(_r,"typeName","yorkie.v1.PresenceChange"),d(_r,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(La)},{no:2,name:"presence",kind:"message",T:Sc}]));let rl=_r;var La=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(La||{});v.util.setEnumType(La,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var mn;let Sc=(mn=class extends j{constructor(e){super();d(this,"data",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new mn().fromBinary(e,i)}static fromJson(e,i){return new mn().fromJson(e,i)}static fromJsonString(e,i){return new mn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(mn,e,i)}},d(mn,"runtime",v),d(mn,"typeName","yorkie.v1.Presence"),d(mn,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),mn);var yn;let N0=(yn=class extends j{constructor(e){super();d(this,"serverSeq",Vt.zero);d(this,"clientSeq",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new yn().fromBinary(e,i)}static fromJson(e,i){return new yn().fromJson(e,i)}static fromJsonString(e,i){return new yn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(yn,e,i)}},d(yn,"runtime",v),d(yn,"typeName","yorkie.v1.Checkpoint"),d(yn,"fields",v.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),yn);const Wr=class Wr extends j{constructor(e){super();d(this,"createdAt");d(this,"offset",0);d(this,"relativeOffset",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new Wr().fromBinary(e,i)}static fromJson(e,i){return new Wr().fromJson(e,i)}static fromJsonString(e,i){return new Wr().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Wr,e,i)}};d(Wr,"runtime",v),d(Wr,"typeName","yorkie.v1.TextNodePos"),d(Wr,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let qa=Wr;var pn;let Z=(pn=class extends j{constructor(e){super();d(this,"lamport",Vt.zero);d(this,"delimiter",0);d(this,"actorId",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new pn().fromBinary(e,i)}static fromJson(e,i){return new pn().fromJson(e,i)}static fromJsonString(e,i){return new pn().fromJsonString(e,i)}static equals(e,i){return v.util.equals(pn,e,i)}},d(pn,"runtime",v),d(pn,"typeName","yorkie.v1.TimeTicket"),d(pn,"fields",v.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),pn);const ti=class ti extends j{constructor(e){super();d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new ti().fromBinary(e,i)}static fromJson(e,i){return new ti().fromJson(e,i)}static fromJsonString(e,i){return new ti().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ti,e,i)}};d(ti,"runtime",v),d(ti,"typeName","yorkie.v1.DocEventBody"),d(ti,"fields",v.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let id=ti;const ei=class ei extends j{constructor(e){super();d(this,"type",0);d(this,"publisher","");d(this,"body");v.util.initPartial(e,this)}static fromBinary(e,i){return new ei().fromBinary(e,i)}static fromJson(e,i){return new ei().fromJson(e,i)}static fromJsonString(e,i){return new ei().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ei,e,i)}};d(ei,"runtime",v),d(ei,"typeName","yorkie.v1.DocEvent"),d(ei,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ma)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:id}]));let ad=ei;const ni=class ni extends j{constructor(e){super();d(this,"data",0);d(this,"meta",0);v.util.initPartial(e,this)}static fromBinary(e,i){return new ni().fromBinary(e,i)}static fromJson(e,i){return new ni().fromJson(e,i)}static fromJsonString(e,i){return new ni().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ni,e,i)}};d(ni,"runtime",v),d(ni,"typeName","yorkie.v1.DataSize"),d(ni,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let fc=ni;const ri=class ri extends j{constructor(e){super();d(this,"live");d(this,"gc");v.util.initPartial(e,this)}static fromBinary(e,i){return new ri().fromBinary(e,i)}static fromJson(e,i){return new ri().fromJson(e,i)}static fromJsonString(e,i){return new ri().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ri,e,i)}};d(ri,"runtime",v),d(ri,"typeName","yorkie.v1.DocSize"),d(ri,"fields",v.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:fc},{no:2,name:"gc",kind:"message",T:fc}]));let sd=ri;const ii=class ii extends j{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"version",0);d(this,"body","");d(this,"rules",[]);d(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,i){return new ii().fromBinary(e,i)}static fromJson(e,i){return new ii().fromJson(e,i)}static fromJsonString(e,i){return new ii().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ii,e,i)}};d(ii,"runtime",v),d(ii,"typeName","yorkie.v1.Schema"),d(ii,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:hc,repeated:!0},{no:6,name:"created_at",kind:"message",T:me}]));let Mv=ii;const ai=class ai extends j{constructor(e){super();d(this,"path","");d(this,"type","");v.util.initPartial(e,this)}static fromBinary(e,i){return new ai().fromBinary(e,i)}static fromJson(e,i){return new ai().fromJson(e,i)}static fromJsonString(e,i){return new ai().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ai,e,i)}};d(ai,"runtime",v),d(ai,"typeName","yorkie.v1.Rule"),d(ai,"fields",v.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let hc=ai;const si=class si extends j{constructor(e){super();d(this,"clientKey","");d(this,"metadata",{});v.util.initPartial(e,this)}static fromBinary(e,i){return new si().fromBinary(e,i)}static fromJson(e,i){return new si().fromJson(e,i)}static fromJsonString(e,i){return new si().fromJsonString(e,i)}static equals(e,i){return v.util.equals(si,e,i)}};d(si,"runtime",v),d(si,"typeName","yorkie.v1.ActivateClientRequest"),d(si,"fields",v.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let od=si;const oi=class oi extends j{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new oi().fromBinary(e,i)}static fromJson(e,i){return new oi().fromJson(e,i)}static fromJsonString(e,i){return new oi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(oi,e,i)}};d(oi,"runtime",v),d(oi,"typeName","yorkie.v1.ActivateClientResponse"),d(oi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let ld=oi;const li=class li extends j{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new li().fromBinary(e,i)}static fromJson(e,i){return new li().fromJson(e,i)}static fromJsonString(e,i){return new li().fromJsonString(e,i)}static equals(e,i){return v.util.equals(li,e,i)}};d(li,"runtime",v),d(li,"typeName","yorkie.v1.DeactivateClientRequest"),d(li,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let ud=li;const ui=class ui extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new ui().fromBinary(n,e)}static fromJson(n,e){return new ui().fromJson(n,e)}static fromJsonString(n,e){return new ui().fromJsonString(n,e)}static equals(n,e){return v.util.equals(ui,n,e)}};d(ui,"runtime",v),d(ui,"typeName","yorkie.v1.DeactivateClientResponse"),d(ui,"fields",v.util.newFieldList(()=>[]));let cd=ui;const ci=class ci extends j{constructor(e){super();d(this,"clientId","");d(this,"changePack");d(this,"schemaKey","");v.util.initPartial(e,this)}static fromBinary(e,i){return new ci().fromBinary(e,i)}static fromJson(e,i){return new ci().fromJson(e,i)}static fromJsonString(e,i){return new ci().fromJsonString(e,i)}static equals(e,i){return v.util.equals(ci,e,i)}};d(ci,"runtime",v),d(ci,"typeName","yorkie.v1.AttachDocumentRequest"),d(ci,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ii},{no:3,name:"schema_key",kind:"scalar",T:9}]));let fd=ci;const fi=class fi extends j{constructor(e){super();d(this,"documentId","");d(this,"changePack");d(this,"maxSizePerDocument",0);d(this,"schemaRules",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new fi().fromBinary(e,i)}static fromJson(e,i){return new fi().fromJson(e,i)}static fromJsonString(e,i){return new fi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(fi,e,i)}};d(fi,"runtime",v),d(fi,"typeName","yorkie.v1.AttachDocumentResponse"),d(fi,"fields",v.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ii},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:hc,repeated:!0}]));let hd=fi;const hi=class hi extends j{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"removeIfNotAttached",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new hi().fromBinary(e,i)}static fromJson(e,i){return new hi().fromJson(e,i)}static fromJsonString(e,i){return new hi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(hi,e,i)}};d(hi,"runtime",v),d(hi,"typeName","yorkie.v1.DetachDocumentRequest"),d(hi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ii},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let dd=hi;const di=class di extends j{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new di().fromBinary(e,i)}static fromJson(e,i){return new di().fromJson(e,i)}static fromJsonString(e,i){return new di().fromJsonString(e,i)}static equals(e,i){return v.util.equals(di,e,i)}};d(di,"runtime",v),d(di,"typeName","yorkie.v1.DetachDocumentResponse"),d(di,"fields",v.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Ii}]));let gd=di;const gi=class gi extends j{constructor(e){super();d(this,"clientId","");d(this,"documentId","");v.util.initPartial(e,this)}static fromBinary(e,i){return new gi().fromBinary(e,i)}static fromJson(e,i){return new gi().fromJson(e,i)}static fromJsonString(e,i){return new gi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(gi,e,i)}};d(gi,"runtime",v),d(gi,"typeName","yorkie.v1.WatchDocumentRequest"),d(gi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let md=gi;const mi=class mi extends j{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,i){return new mi().fromBinary(e,i)}static fromJson(e,i){return new mi().fromJson(e,i)}static fromJsonString(e,i){return new mi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(mi,e,i)}};d(mi,"runtime",v),d(mi,"typeName","yorkie.v1.WatchDocumentResponse"),d(mi,"fields",v.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:pd,oneof:"body"},{no:2,name:"event",kind:"message",T:ad,oneof:"body"}]));let yd=mi;const yi=class yi extends j{constructor(e){super();d(this,"clientIds",[]);v.util.initPartial(e,this)}static fromBinary(e,i){return new yi().fromBinary(e,i)}static fromJson(e,i){return new yi().fromJson(e,i)}static fromJsonString(e,i){return new yi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(yi,e,i)}};d(yi,"runtime",v),d(yi,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),d(yi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let pd=yi;const pi=class pi extends j{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new pi().fromBinary(e,i)}static fromJson(e,i){return new pi().fromJson(e,i)}static fromJsonString(e,i){return new pi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(pi,e,i)}};d(pi,"runtime",v),d(pi,"typeName","yorkie.v1.RemoveDocumentRequest"),d(pi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ii}]));let vd=pi;const vi=class vi extends j{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new vi().fromBinary(e,i)}static fromJson(e,i){return new vi().fromJson(e,i)}static fromJsonString(e,i){return new vi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(vi,e,i)}};d(vi,"runtime",v),d(vi,"typeName","yorkie.v1.RemoveDocumentResponse"),d(vi,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ii}]));let Sd=vi;const Si=class Si extends j{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"pushOnly",!1);v.util.initPartial(e,this)}static fromBinary(e,i){return new Si().fromBinary(e,i)}static fromJson(e,i){return new Si().fromJson(e,i)}static fromJsonString(e,i){return new Si().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Si,e,i)}};d(Si,"runtime",v),d(Si,"typeName","yorkie.v1.PushPullChangesRequest"),d(Si,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ii},{no:4,name:"push_only",kind:"scalar",T:8}]));let bd=Si;const bi=class bi extends j{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,i){return new bi().fromBinary(e,i)}static fromJson(e,i){return new bi().fromJson(e,i)}static fromJsonString(e,i){return new bi().fromJsonString(e,i)}static equals(e,i){return v.util.equals(bi,e,i)}};d(bi,"runtime",v),d(bi,"typeName","yorkie.v1.PushPullChangesResponse"),d(bi,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ii}]));let Td=bi;const Ti=class Ti extends j{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,i){return new Ti().fromBinary(e,i)}static fromJson(e,i){return new Ti().fromJson(e,i)}static fromJsonString(e,i){return new Ti().fromJsonString(e,i)}static equals(e,i){return v.util.equals(Ti,e,i)}};d(Ti,"runtime",v),d(Ti,"typeName","yorkie.v1.BroadcastRequest"),d(Ti,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let wd=Ti;const wi=class wi extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new wi().fromBinary(n,e)}static fromJson(n,e){return new wi().fromJson(n,e)}static fromJsonString(n,e){return new wi().fromJsonString(n,e)}static equals(n,e){return v.util.equals(wi,n,e)}};d(wi,"runtime",v),d(wi,"typeName","yorkie.v1.BroadcastResponse"),d(wi,"fields",v.util.newFieldList(()=>[]));let Ad=wi;const dw={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:od,O:ld,kind:Ne.Unary},deactivateClient:{name:"DeactivateClient",I:ud,O:cd,kind:Ne.Unary},attachDocument:{name:"AttachDocument",I:fd,O:hd,kind:Ne.Unary},detachDocument:{name:"DetachDocument",I:dd,O:gd,kind:Ne.Unary},removeDocument:{name:"RemoveDocument",I:vd,O:Sd,kind:Ne.Unary},pushPullChanges:{name:"PushPullChanges",I:bd,O:Td,kind:Ne.Unary},watchDocument:{name:"WatchDocument",I:md,O:yd,kind:Ne.ServerStreaming},broadcast:{name:"Broadcast",I:wd,O:Ad,kind:Ne.Unary}}},gw=v.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);v.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:xi}]);v.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:mw,repeated:!0}]);const mw=v.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});v.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:yw,repeated:!0}]);const yw=v.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});v.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:pw,repeated:!0}]);const pw=v.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:Sw}],{localName:"BadRequest_FieldViolation"});v.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:vw,repeated:!0}]);const vw=v.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),Sw=v.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var x=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(x||{});class D extends Error{constructor(e,i){super(i);d(this,"name","YorkieError");d(this,"stack");this.code=e,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var tr=(s=>(s.Put="put",s.Clear="clear",s))(tr||{});const Bd="000000000000000000000000",Qn=24;class bn{constructor(n,e,i){d(this,"lamport");d(this,"delimiter");d(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=i}static of(n,e,i){return new bn(n,e,i)}static fromStruct(n){return bn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new bn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const Ed=0n,D0=0,Vu=9223372036854775807n,Js=new bn(Ed,D0,Bd);function Zn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class cl{constructor(n){d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(n){this.createdAt=n}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.createdAt)&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Qn),this.getMovedAt()&&(n+=Qn),this.getRemovedAt()&&(n+=Qn),n}}class ua extends cl{constructor(n){super(n)}}class zd{constructor(n,e){d(this,"strKey");d(this,"value");this.strKey=n,this.value=e}static of(n,e){return new zd(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class il{constructor(){d(this,"nodeMapByKey");d(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new il}set(n,e,i){let l;const c=this.nodeMapByKey.get(n);c&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const h=zd.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),h),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,h),e.setMovedAt(i)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new D(x.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(e),i.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new D(x.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(e.getStrKey());e===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const i=this.nodeMapByKey.get(n);if(i&&i.remove(e))return i.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e?!e.isRemoved():!1}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class we extends ua{constructor(e,i){super(e);d(this,"memberNodes");this.memberNodes=i}static create(e,i){if(!i)return new we(e,il.create());const l=il.create();for(const[c,h]of Object.entries(i))l.set(c,h.deepcopy(),h.getCreatedAt());return new we(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,i,l){return this.memberNodes.set(e,i,l)}delete(e,i){return this.memberNodes.delete(e,i)}deleteByKey(e,i){return this.memberNodes.deleteByKey(e,i)}get(e){const i=this.memberNodes.get(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.memberNodes.getByID(e);return i==null?void 0:i.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[i,l]of this)e.push(`"${Zn(i)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[i,l]of this){const{createdAt:c,value:h,type:g}=l.toJSForTest();e[i]={key:i,createdAt:c,value:h,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[i]of this)e.push(i);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const i=[];for(const c of e.sort()){const h=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Zn(c)}":${h.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=we.create(this.getCreatedAt());for(const i of this.memberNodes)e.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const i of this.memberNodes){const l=i.getValue();if(e(l,this))return;l instanceof ua&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const i of this.memberNodes)e.has(i.getStrKey())||(e.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var qt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(qt||{});class Tn{constructor(n,e){d(this,"parentCreatedAt");d(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new D(x.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class O0{constructor(n){d(this,"value");d(this,"left");d(this,"right");d(this,"parent");d(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class al{constructor(n){d(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new D(x.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new al(n.getLeft());e.root&&e.root.setParent();const i=new al(n.getRight());if(i.root&&i.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(i.root),i.root&&i.root.setParent(e.root),this.root=e.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const i of e)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var vn=null;try{vn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ee(s){return(s&&s.__isLong__)===!0}function Uv(s){var n=Math.clz32(s&-s);return s?31-n:n}bt.isLong=Ee;var Lv={},qv={};function Va(s,n){var e,i,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(i=qv[s],i)?i:(e=Et(s,0,!0),l&&(qv[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(i=Lv[s],i)?i:(e=Et(s,s<0?-1:0,!1),l&&(Lv[s]=e),e))}bt.fromInt=Va;function Sn(s,n){if(isNaN(s))return n?Di:Cn;if(n){if(s<0)return Di;if(s>=C0)return I0}else{if(s<=-Pv)return ze;if(s+1>=Pv)return R0}return s<0?Sn(-s,n).neg():Et(s%Ps|0,s/Ps|0,n)}bt.fromNumber=Sn;function Et(s,n,e){return new bt(s,n,e)}bt.fromBits=Et;var dc=Math.pow;function Md(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?Di:Cn;if(e=e||10,e<2||36<e)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Md(s.substring(1),n,e).neg();for(var l=Sn(dc(e,8)),c=Cn,h=0;h<s.length;h+=8){var g=Math.min(8,s.length-h),y=parseInt(s.substring(h,h+g),e);if(g<8){var p=Sn(dc(e,g));c=c.mul(p).add(Sn(y))}else c=c.mul(l),c=c.add(Sn(y))}return c.unsigned=n,c}bt.fromString=Md;function wn(s,n){return typeof s=="number"?Sn(s,n):typeof s=="string"?Md(s,n):Et(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}bt.fromValue=wn;var Jv=65536,bw=1<<24,Ps=Jv*Jv,C0=Ps*Ps,Pv=C0/2,Vv=Va(bw),Cn=Va(0);bt.ZERO=Cn;var Di=Va(0,!0);bt.UZERO=Di;var ks=Va(1);bt.ONE=ks;var k0=Va(1,!0);bt.UONE=k0;var xd=Va(-1);bt.NEG_ONE=xd;var R0=Et(-1,2147483647,!1);bt.MAX_VALUE=R0;var I0=Et(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=I0;var ze=Et(0,-2147483648,!1);bt.MIN_VALUE=ze;var H=bt.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low};H.toNumber=function(){return this.unsigned?(this.high>>>0)*Ps+(this.low>>>0):this.high*Ps+(this.low>>>0)};H.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ze)){var e=Sn(n),i=this.div(e),l=i.mul(e).sub(this);return i.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=Sn(dc(n,6),this.unsigned),h=this,g="";;){var y=h.div(c),p=h.sub(y.mul(c)).toInt()>>>0,b=p.toString(n);if(h=y,h.isZero())return b+g;for(;b.length<6;)b="0"+b;g=""+b+g}};H.getHighBits=function(){return this.high};H.getHighBitsUnsigned=function(){return this.high>>>0};H.getLowBits=function(){return this.low};H.getLowBitsUnsigned=function(){return this.low>>>0};H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ze)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};H.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};H.isZero=function(){return this.high===0&&this.low===0};H.eqz=H.isZero;H.isNegative=function(){return!this.unsigned&&this.high<0};H.isPositive=function(){return this.unsigned||this.high>=0};H.isOdd=function(){return(this.low&1)===1};H.isEven=function(){return(this.low&1)===0};H.equals=function(n){return Ee(n)||(n=wn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};H.eq=H.equals;H.notEquals=function(n){return!this.eq(n)};H.neq=H.notEquals;H.ne=H.notEquals;H.lessThan=function(n){return this.comp(n)<0};H.lt=H.lessThan;H.lessThanOrEqual=function(n){return this.comp(n)<=0};H.lte=H.lessThanOrEqual;H.le=H.lessThanOrEqual;H.greaterThan=function(n){return this.comp(n)>0};H.gt=H.greaterThan;H.greaterThanOrEqual=function(n){return this.comp(n)>=0};H.gte=H.greaterThanOrEqual;H.ge=H.greaterThanOrEqual;H.compare=function(n){if(Ee(n)||(n=wn(n)),this.eq(n))return 0;var e=this.isNegative(),i=n.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};H.comp=H.compare;H.negate=function(){return!this.unsigned&&this.eq(ze)?ze:this.not().add(ks)};H.neg=H.negate;H.add=function(n){Ee(n)||(n=wn(n));var e=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,h=n.high>>>16,g=n.high&65535,y=n.low>>>16,p=n.low&65535,b=0,E=0,I=0,k=0;return k+=c+p,I+=k>>>16,k&=65535,I+=l+y,E+=I>>>16,I&=65535,E+=i+g,b+=E>>>16,E&=65535,b+=e+h,b&=65535,Et(I<<16|k,b<<16|E,this.unsigned)};H.subtract=function(n){return Ee(n)||(n=wn(n)),this.add(n.neg())};H.sub=H.subtract;H.multiply=function(n){if(this.isZero())return this;if(Ee(n)||(n=wn(n)),vn){var e=vn.mul(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Di:Cn;if(this.eq(ze))return n.isOdd()?ze:Cn;if(n.eq(ze))return this.isOdd()?ze:Cn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Vv)&&n.lt(Vv))return Sn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,h=this.low&65535,g=n.high>>>16,y=n.high&65535,p=n.low>>>16,b=n.low&65535,E=0,I=0,k=0,q=0;return q+=h*b,k+=q>>>16,q&=65535,k+=c*b,I+=k>>>16,k&=65535,k+=h*p,I+=k>>>16,k&=65535,I+=l*b,E+=I>>>16,I&=65535,I+=c*p,E+=I>>>16,I&=65535,I+=h*y,E+=I>>>16,I&=65535,E+=i*b+l*p+c*y+h*g,E&=65535,Et(k<<16|q,E<<16|I,this.unsigned)};H.mul=H.multiply;H.divide=function(n){if(Ee(n)||(n=wn(n)),n.isZero())throw Error("division by zero");if(vn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?vn.div_u:vn.div_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Di:Cn;var i,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Di;if(n.gt(this.shru(1)))return k0;c=Di}else{if(this.eq(ze)){if(n.eq(ks)||n.eq(xd))return ze;if(n.eq(ze))return ks;var h=this.shr(1);return i=h.div(n).shl(1),i.eq(Cn)?n.isNegative()?ks:xd:(l=this.sub(n.mul(i)),c=i.add(l.div(n)),c)}else if(n.eq(ze))return this.unsigned?Di:Cn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Cn}for(l=this;l.gte(n);){i=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(i)/Math.LN2),y=g<=48?1:dc(2,g-48),p=Sn(i),b=p.mul(n);b.isNegative()||b.gt(l);)i-=y,p=Sn(i,this.unsigned),b=p.mul(n);p.isZero()&&(p=ks),c=c.add(p),l=l.sub(b)}return c};H.div=H.divide;H.modulo=function(n){if(Ee(n)||(n=wn(n)),vn){var e=(this.unsigned?vn.rem_u:vn.rem_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};H.mod=H.modulo;H.rem=H.modulo;H.not=function(){return Et(~this.low,~this.high,this.unsigned)};H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};H.clz=H.countLeadingZeros;H.countTrailingZeros=function(){return this.low?Uv(this.low):Uv(this.high)+32};H.ctz=H.countTrailingZeros;H.and=function(n){return Ee(n)||(n=wn(n)),Et(this.low&n.low,this.high&n.high,this.unsigned)};H.or=function(n){return Ee(n)||(n=wn(n)),Et(this.low|n.low,this.high|n.high,this.unsigned)};H.xor=function(n){return Ee(n)||(n=wn(n)),Et(this.low^n.low,this.high^n.high,this.unsigned)};H.shiftLeft=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Et(0,this.low<<n-32,this.unsigned)};H.shl=H.shiftLeft;H.shiftRight=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Et(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};H.shr=H.shiftRight;H.shiftRightUnsigned=function(n){return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Et(this.high,0,this.unsigned):Et(this.high>>>n-32,0,this.unsigned)};H.shru=H.shiftRightUnsigned;H.shr_u=H.shiftRightUnsigned;H.rotateLeft=function(n){var e;return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,Et(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};H.rotl=H.rotateLeft;H.rotateRight=function(n){var e;return Ee(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,Et(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};H.rotr=H.rotateRight;H.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this};H.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)};H.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};H.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};H.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};bt.fromBytes=function(n,e,i){return i?bt.fromBytesLE(n,e):bt.fromBytesBE(n,e)};bt.fromBytesLE=function(n,e){return new bt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};bt.fromBytesBE=function(n,e){return new bt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(bt.fromBigInt=function(n,e){var i=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return Et(i,l,e)},bt.fromValue=function(n,e){return typeof n=="bigint"?bt.fromBigInt(n,e):wn(n,e)},H.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var Jt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(Jt||{});class Kt extends cl{constructor(e,i){super(i);d(this,"valueType");d(this,"value");this.valueType=Kt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,i){return new Kt(e,i)}static valueFromBytes(e,i){switch(e){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,h){l.setUint8(h,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return bt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(bt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new D(x.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Zn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Kt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof bt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Kt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const e=this.value,i=bt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class gc extends O0{constructor(e){super(e);d(this,"prev");d(this,"next");d(this,"movedFrom");this.value=e}static createAfter(e,i){const l=new gc(i),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class sl{constructor(){d(this,"dummyHead");d(this,"last");d(this,"nodeMapByIndex");d(this,"nodeMapByCreatedAt");const n=Kt.of(0,Js);n.setRemovedAt(Js),this.dummyHead=new gc(n),this.last=this.dummyHead,this.nodeMapByIndex=new al,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new sl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(e)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(e);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,i=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,i),c=gc.createAfter(l,e);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(n,e,i){let l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);let c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new D(x.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const h=c.getPrev();let g=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(h);g&&g.getPositionedAt().after(i);)l=c,c=g,g=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(h)}}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new D(x.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,i]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||i>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const i=this.nodeMapByCreatedAt.get(n.toIDString()),l=i.isRemoved();return i.remove(e)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(n,e,i){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);return this.insertAfter(l.getCreatedAt(),e,i),this.delete(n,i)}deleteByIndex(n,e){const i=this.getByIndex(n);if(i)return i.remove(e)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const i=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Ae extends ua{constructor(e,i){super(e);d(this,"elements");this.elements=i}static create(e,i){if(!i)return new Ae(e,sl.create());const l=sl.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Ae(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,i,l){this.elements.insertAfter(e,i,l)}moveAfter(e,i,l){this.elements.moveAfter(e,i,l)}get(e){const i=this.elements.getByIndex(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.elements.getByID(e);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,i){return this.elements.delete(e,i)}deleteByIndex(e,i){return this.elements.deleteByIndex(e,i)}set(e,i,l){return this.elements.set(e,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const i of this.elements){const l=i.getValue();if(e(l,this))return;l instanceof ua&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const i of this)e.push(i.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:h}=this.get(i).toJSForTest();e[i]={key:String(i),createdAt:l,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Ae.create(this.getCreatedAt());for(const i of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),i.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class ki extends Tn{constructor(e,i,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"value");this.prevCreatedAt=i,this.value=l}static create(e,i,l,c){return new ki(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return er.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class er extends Tn{constructor(e,i,l){super(e,l);d(this,"createdAt");this.createdAt=i}static create(e,i,l){return new er(e,i,l)}execute(e,i){var p;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof ua))throw new D(x.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===qt.UndoRedo){let b=l.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(p=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:p.parent}}const c=l.subPathOf(this.createdAt),h=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(g),{opInfos:l instanceof Ae?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:h}}toReverseOperation(e){if(e instanceof Ae){const i=e.getByID(this.createdAt);if(i!==void 0){const l=e.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(e instanceof we){const i=e.subPathOf(this.createdAt);if(i!==void 0){const l=e.get(i);if(l!==void 0)return Ja.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class Ja extends Tn{constructor(e,i,l,c){super(l,c);d(this,"key");d(this,"value");this.key=e,this.value=i}static create(e,i,l,c){return new Ja(e,i,l,c)}execute(e,i){var p;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof we))throw new D(x.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===qt.UndoRedo){let b=l;for(;b;){if(b.getRemovedAt())return;b=(p=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:p.parent}}const c=l.get(this.key),h=this.toReverseOperation(c),g=this.value.deepcopy(),y=l.set(this.key,g,this.getExecutedAt());return i===qt.UndoRedo&&e.findByCreatedAt(g.getCreatedAt())&&e.deregisterElement(g),e.registerElement(g,l),y&&e.registerRemovedElement(y),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:h}}toReverseOperation(e){let i=er.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(i=Ja.create(this.key,e.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class kn extends Tn{constructor(e,i,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(e,i,l,c){return new kn(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),h=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const g=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:g,previousIndex:h}],reverseOp:c}}toReverseOperation(e){const i=e.getPrevCreatedAt(this.createdAt);return kn.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class oa{constructor(n,e,i,l){d(this,"key");d(this,"value");d(this,"updatedAt");d(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=i,this._isRemoved=l}static of(n,e,i,l){return new oa(n,e,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Qn}}}class Ri{constructor(){d(this,"nodeMapByKey");d(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ri}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,i){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=oa.of(n,e,i,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,i,l){const c=oa.of(n,e,i,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const i=this.nodeMapByKey.get(n),l=[];if(i===void 0||e.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const g=oa.of(n,"",e,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const h=oa.of(n,i.getValue(),e,!0);return this.nodeMapByKey.set(n,h),l.push(h),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Ri;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Zn(e)}":"${Zn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,i]of this.nodeMapByKey)i.isRemoved()||(n[e]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function Dn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const B0=s=>s?Object.entries(s).length===0:!0,Vs=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.stringify(i);return n},Oi=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.parse(i);return n};function Tw(s){return s?Hv(s.live)+Hv(s.gc):0}function Hv(s){return s.data+s.meta}function ye(s,...n){for(const e of n)s.data+=e.data,s.meta+=e.meta}function Is(s,n){s.data-=n.data,s.meta-=n.meta}class ol{constructor(n){d(this,"attributes");d(this,"content");this.attributes=Ri.create(),this.content=n}static create(n){return new ol(n)}get length(){return this.content.length}substring(n,e){const i=new ol(this.content.substring(n,e));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,e,i){return this.attributes.set(n,e,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const i=e.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Zn(this.content),e=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(e)){const h=JSON.parse(c),g=typeof h=="string"?`"${Zn(l)}":"${Zn(h)}"`:`"${Zn(l)}":${String(h)}`;i.push(g)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof oa&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class Qe extends cl{constructor(e,i){super(i);d(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,i){return new Qe(e,i)}edit(e,i,l,c,h){const g=i?ol.create(i):void 0;if(g&&c)for(const[k,q]of Object.entries(c))g.setAttr(k,q,l);const[y,p,b,E]=this.rgaTreeSplit.edit(e,l,g,h);return[E.map(k=>({...k,value:k.value?{attributes:Oi(k.value.getAttributes()),content:k.value.getContent()}:{attributes:void 0,content:""},type:"content"})),p,b,[y,y]]}setStyle(e,i,l,c){const h={data:0,meta:0},[,g,y]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,p,b]=this.rgaTreeSplit.findNodeWithSplit(e[0],l);ye(h,g,p);const E=[],I=this.rgaTreeSplit.findBetween(b,y),k=[];for(const V of I){const Y=V.getCreatedAt().getActorID();let _=Vu;c!=null&&(_=c.get(Y)?c.get(Y):0n),V.canStyle(l,_)&&k.push(V)}const q=[];for(const V of k){if(V.isRemoved())continue;const[Y,_]=this.rgaTreeSplit.findIndexesFromRange(V.createPosRange());E.push({type:"style",actor:l.getActorID(),from:Y,to:_,value:{attributes:Oi(i)}});for(const[lt,ct]of Object.entries(i)){const[mt]=V.getValue().setAttr(lt,ct,l);mt!==void 0&&q.push({parent:V.getValue(),child:mt});const et=V.getValue().getAttrs().getNodeMapByKey().get(lt);et!==void 0&&ye(h,et.getDataSize())}}return[q,h,E]}indexRangeToPosRange(e,i){const l=this.rgaTreeSplit.indexToPos(e);return e===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const i of this.rgaTreeSplit)i.isRemoved()||e.push(i.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();e.push({attributes:Oi(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Qe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())e.push(l)}return e}}class fl extends Tn{constructor(e,i,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"content");d(this,"attributes");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=h}static create(e,i,l,c,h,g){return new fl(e,i,l,c,h,g)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[g,y,p]=h.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);e.acc(p);for(const b of y)e.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:I})=>({type:"edit",from:b,to:E,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class hl extends Tn{constructor(e,i,l,c,h){super(e,h);d(this,"fromPos");d(this,"toPos");d(this,"attributes");this.fromPos=i,this.toPos=l,this.attributes=c}static create(e,i,l,c,h){return new hl(e,i,l,c,h)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[g,y,p]=h.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);e.acc(y);for(const b of g)e.registerGCPair(b);return{opInfos:p.map(({from:b,to:E,value:I})=>({type:"style",from:b,to:E,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const ww=2,Aw="root",Fn="text";function Ko(s,n){let e=0;const i=s.children;for(let l=0;l<n;l++){const c=i[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class Ew{constructor(n,e=[]){d(this,"type");d(this,"parent");d(this,"_children");d(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new D(x.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const i=e.updateDescendantsSize();e.isRemoved||(n+=i)}return this.size+=n,this.paddedSize}get isText(){return this.type===Fn}get paddedSize(){return this.size+(this.isText?0:ww)}isAncestorOf(n){return xw(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){const i={data:0,meta:0};if(n===0||n===this.size)return[void 0,i];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,i];const h=this.getDataSize();this.value=l;const g=this.cloneText(n+e);return g.value=c,this.parent.insertAfterInternal(g,this),ye(i,this.getDataSize(),g.getDataSize()),Is(i,h),[g,i]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new D(x.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(e);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize();const h=this.children.slice(0,n),g=this.children.slice(n);this._children=h,c._children=g,this.size=this._children.reduce((y,p)=>y+p.paddedSize,0),c.size=c._children.reduce((y,p)=>y+p.paddedSize,0);for(const y of c._children)y.parent=c;return ye(i,this.getDataSize(),c.getDataSize()),Is(i,l),[c,i]}insertAfterInternal(n,e){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,e){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const i=this._children.indexOf(e);if(i!==-1)return i;e=e.parent}return-1}}function xw(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var Wt=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Wt||{});function z0(s,n,e,i){if(n>e)throw new D(x.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new D(x.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new D(x.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const h=c.isText?n-l:n-l-1,g=c.isText?e-l:e-l-1,y=!c.isText&&h<0,p=!c.isText&&g>c.size;(c.isText||y)&&i([c,c.isText?"Text":"Start"],p),z0(c,Math.max(0,h),Math.min(g,c.size),i),p&&i([c,"End"],p)}l+=c.paddedSize}}function M0(s,n,e=0){for(const i of s.children)M0(i,n,e+1);n(s,e)}function bc(s,n,e=0){for(const i of s._children)bc(i,n,e+1);n(s,e)}function Nd(s,n,e=!0){if(n>s.size)throw new D(x.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let i=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return Nd(c,n-l,e);if(n===l)return{node:s,offset:i};if(!e&&c.paddedSize===n-l)return{node:s,offset:i+1};if(c.paddedSize>n-l)return Nd(c,n-l-1,e);l+=c.paddedSize,i+=1}return{node:s,offset:i}}function U0(s){return s.isText||s.children.length===0?s:U0(s.children[0])}function Nw(s,n){if(s.size<n)throw new D(x.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const i=s.children[e];if(i.size<n)n-=i.size;else{s=i;break}}return{node:s,offset:n}}class Dw{constructor(n){d(this,"root");this.root=n}tokensBetween(n,e,i){z0(this.root,n,e,i)}traverse(n){M0(this.root,n,0)}traverseAll(n){bc(this.root,n,0)}findTreePos(n,e=!0){return Nd(this.root,n,e)}treePosToPath(n){const e=[];let i=n.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");const c=Ko(i.parent,l);e.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const l=Ko(i,n.offset);e.push(l)}else e.push(n.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");e.push(l),i=i.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new D(x.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let i=0;i<n.length-1;i++){const l=n[i];if(e=e.children[l],!e)throw new D(x.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return Nw(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new D(x.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:i}=n;if(e.isText){if(e.size===i){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===i?e:U0(e.children[i])}indexOf(n){let{node:e}=n;const{offset:i}=n;let l=0,c=1;if(e.isText){l+=i;const h=e.parent,g=h.findOffset(e);if(g===-1)throw new D(x.ErrInvalidArgument,"invalid pos");l+=Ko(h,g),e=e.parent}else l+=Ko(e,i);for(;e!=null&&e.parent;){const h=e.parent,g=h.findOffset(e);if(g===-1)throw new D(x.ErrInvalidArgument,"invalid pos");l+=Ko(h,g),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const Ow=(s,n)=>s===n?0:s<n?-1:1;class Cw{constructor(n,e,i){d(this,"key");d(this,"value");d(this,"parent");d(this,"left");d(this,"right");d(this,"isRed");this.key=n,this.value=e,this.isRed=i}}class kw{constructor(n){d(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class L0{constructor(n){d(this,"root");d(this,"comparator");d(this,"counter");this.comparator=typeof n<"u"?n:Ow,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new kw(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const i=this.comparator(n,e.key);if(i>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(i<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const i=this.comparator(n,e.key);if(i===0)return e;i<0?e=e.left:i>0&&(e=e.right)}}putInternal(n,e,i){if(!i)return this.counter+=1,new Cw(n,e,!0);const l=this.comparator(n,i.key);return l<0?i.left=this.putInternal(n,e,i.left):l>0?i.right=this.putInternal(n,e,i.right):i.value=e,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class Rn{constructor(n,e){d(this,"parentID");d(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new Rn(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:i}=n,l;return i.isText?(i.parent.children[0]===i&&e===0?l=i.parent:l=i,i=i.parent):e===0?l=i:l=i.children[e-1],Rn.of(i.id,pe.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return Rn.of(pe.of(bn.fromStruct(n.parentID.createdAt),n.parentID.offset),pe.of(bn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),i=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(i);if(!l||!c)throw new D(x.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${i.toTestString()})`);return!i.equals(e)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class pe{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new pe(n,e)}static fromStruct(n){return pe.of(bn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const i=n.getCreatedAt().compare(e.getCreatedAt());return i!==0?i:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ze extends Ew{constructor(e,i,l,c,h){super(i);d(this,"id");d(this,"removedAt");d(this,"attrs");d(this,"insPrevID");d(this,"insNextID");d(this,"_value","");this.id=e,this.removedAt=h,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,i,l,c){return new Ze(e,i,l,c)}deepcopy(){var i;const e=new Ze(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new D(x.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new D(x.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),i&&this.updateAncestorsSize()}cloneText(e){return new Ze(pe.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ze(pe.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,i,l){const[c,h]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=e.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return[c,h]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,i){this.attrs||(this.attrs=new Ri);const l=[];for(const[c,h]of Object.entries(e))l.push(this.attrs.set(c,h,i));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Qn),this.removedAt&&(e.meta+=Qn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const i of this.attrs)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}function Dd(s){var e;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(Dd)};return s.attrs&&(n.attributes=Oi((e=s.attrs)==null?void 0:e.toObject())),n}function Ud(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,i)=>e.getKey().localeCompare(i.getKey())).map(e=>{const i=JSON.parse(e.getValue());return typeof i=="string"?`${e.getKey()}="${i}"`:`${e.getKey()}="${Zn(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>Ud(e)).join("")}</${s.type}>`}function q0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(q0),size:s.size,isRemoved:s.isRemoved}}class Fe extends cl{constructor(e,i){super(i);d(this,"indexTree");d(this,"nodeMapByID");this.indexTree=new Dw(e),this.nodeMapByID=new L0(pe.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,i){return new Fe(e,i)}findFloorNode(e){const i=this.nodeMapByID.floorEntry(e);if(!(!i||!i.key.getCreatedAt().equals(e.getCreatedAt())))return i.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,i){let l={data:0,meta:0};const[c,h]=e.toTreeNodePair(this);let g=h;const y=c===g,p=g.parent&&!y?g.parent:c;if(g.isText){const[,b]=g.split(this,e.getLeftSiblingID().getOffset()-g.id.getOffset());l=b}if(i){const b=p.allChildren,E=y?0:b.indexOf(g)+1;for(let I=E;I<b.length;I++){const k=b[I];if(!k.id.getCreatedAt().after(i))break;g=k}}return[[p,g],l]}style(e,i,l,c){const h={data:0,meta:0},[[g,y],p]=this.findNodesAndSplitText(e[0],l),[[b,E],I]=this.findNodesAndSplitText(e[1],l);ye(h,I,p);const k=[],q=i?Oi(i):{},V=[];return this.traverseInPosRange(g,y,b,E,([Y,_])=>{var mt;const lt=Y.getCreatedAt().getActorID();let ct=Vu;if(c!=null&&(ct=c.get(lt)?c.get(lt):0n),Y.canStyle(l,ct)&&i){const et=Y.setAttrs(i,l),st=et.reduce((At,[,re])=>(re&&(At[re.getKey()]=q[re.getKey()]),At),{}),yt=Y.parent,wt=Y.prevSibling||Y.parent;Object.keys(st).length>0&&k.push({type:"style",from:this.toIndex(yt,wt),to:this.toIndex(Y,Y),fromPath:this.toPath(yt,wt),toPath:this.toPath(Y,Y),actor:l.getActorID(),value:st});for(const[At]of et)At&&V.push({parent:Y,child:At});for(const[At]of Object.entries(q)){const re=(mt=Y.attrs)==null?void 0:mt.getNodeMapByKey().get(At);re!==void 0&&_!==Wt.End&&ye(h,re.getDataSize())}}}),[V,k,h]}removeStyle(e,i,l,c){const h={data:0,meta:0},[[g,y],p]=this.findNodesAndSplitText(e[0],l),[[b,E],I]=this.findNodesAndSplitText(e[1],l);ye(h,I,p);const k=[],q=[];return this.traverseInPosRange(g,y,b,E,([V])=>{const Y=V.getCreatedAt().getActorID();let _=Vu;if(c!=null&&(_=c.get(Y)?c.get(Y):0n),V.canStyle(l,_)&&i){V.attrs||(V.attrs=new Ri);for(const mt of i){const et=V.attrs.remove(mt,l);for(const st of et)q.push({parent:V,child:st})}const lt=V.parent,ct=V.prevSibling||V.parent;k.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(lt,ct),to:this.toIndex(V,V),fromPath:this.toPath(lt,ct),toPath:this.toPath(V,V),value:i})}}),[q,k,h]}edit(e,i,l,c,h,g){const y={data:0,meta:0},[[p,b],E]=this.findNodesAndSplitText(e[0],c),[[I,k],q]=this.findNodesAndSplitText(e[1],c);ye(y,q,E);const V=this.toIndex(p,b),Y=this.toPath(p,b),_=[],lt=[],ct=[];this.traverseInPosRange(p,b,I,k,([st,yt],wt)=>{if(yt===Wt.Start&&!wt)for(const Le of st.children)ct.push(Le);const At=st.getCreatedAt().getActorID();let re=Vu;g!=null&&(re=g.get(At)?g.get(At):0n),(st.canDelete(c,re)||_.includes(st.parent))&&((yt===Wt.Text||yt===Wt.Start)&&_.push(st),lt.push([st,yt]))});const mt=this.makeDeletionChanges(lt,c),et=[];for(const st of _)st.remove(c),st.isRemoved&&et.push({parent:this,child:st});for(const st of ct)st.removedAt||p.append(st);if(l>0){let st=0,yt=p,wt=b;for(;st<l;)yt.split(this,yt.findOffset(wt)+1,h),wt=yt,yt=yt.parent,st++;mt.push({type:"content",from:V,to:V,fromPath:Y,toPath:Y,actor:c.getActorID()})}if(i!=null&&i.length){const st=[];let yt=b;for(const wt of i)yt===p?p.insertAt(wt,0):p.insertAfter(wt,yt),yt=wt,bc(wt,At=>{p.isRemoved?(At.remove(c),et.push({parent:this,child:At})):ye(y,At.getDataSize()),this.nodeMapByID.put(At.id,At)}),wt.isRemoved||st.push(wt);if(st.length){const wt=st.map(At=>Dd(At));mt.length&&mt[mt.length-1].from===V?mt[mt.length-1].value=wt:mt.push({type:"content",from:V,to:V,fromPath:Y,toPath:Y,actor:c.getActorID(),value:wt})}}return[mt,et,y]}editT(e,i,l,c,h){const g=this.findPos(e[0]),y=this.findPos(e[1]);this.edit([g,y],i,l,c,h)}move(e,i,l){throw new D(x.ErrUnimplemented,`not implemented: ${e}, ${i}, ${l}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,l=e.insNextID;if(i){const h=this.findFloorNode(i);h.insNextID=l}if(l){const h=this.findFloorNode(l);h.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&e.push({parent:this,child:i});for(const l of i.getGCPairs())e.push(l)}),e}findPos(e,i=!0){const l=this.indexTree.findTreePos(e,i);return Rn.fromTreePos(l)}pathToPosRange(e){const i=this.pathToIndex(e);return[this.findPos(i),this.findPos(i+1)]}pathToPos(e){const i=this.indexTree.pathToIndex(e);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Ud(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),i=(l,c=void 0,h=void 0,g=0)=>{var k,q,V,Y;let y,p,b;const E=l.isText?{node:l,offset:0}:c&&h?this.toTreePos(c,h):null;E&&(y=this.indexTree.indexOf(E),p=this.indexTree.treePosToPath(E),b=Rn.fromTreePos(E).toStruct());const I={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(k=l.removedAt)==null?void 0:k.toTestString(),insPrev:(q=l.insPrevID)==null?void 0:q.toTestString(),insNext:(V=l.insNextID)==null?void 0:V.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?Oi((Y=l.attrs)==null?void 0:Y.toObject()):void 0,index:y,path:p,pos:b};for(let _=0;_<l.allChildren.length;_++){const lt=_===0?l:l.allChildren[_-1];I.children.push(i(l.allChildren[_],l,lt,g+1))}return I};return i(e)}getRootTreeNode(){return Dd(this.indexTree.getRoot())}toTestTreeNode(){return q0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Fe(e.deepcopy(),this.getCreatedAt())}toPath(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const i=this.findPos(e[0]);return e[0]===e[1]?[i,i]:[i,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[i,l]=e,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[[i,l]]=this.findNodesAndSplitText(e[0]),[[c,h]]=this.findNodesAndSplitText(e[1]);return[this.toPath(i,l),this.toPath(c,h)]}posRangeToIndexRange(e){const[[i,l]]=this.findNodesAndSplitText(e[0]),[[c,h]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(i,l),this.toIndex(c,h)]}traverseInPosRange(e,i,l,c,h){const g=this.toIndex(e,i),y=this.toIndex(l,c);return this.indexTree.tokensBetween(g,y,h)}toTreePos(e,i){if(!e||!i)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c);return{node:e,offset:h}}if(e===i)return{node:e,offset:0};let l=e.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,i){const l=[],c=[];let h=null,g=null;for(let y=0;y<e.length;y++){const p=e[y],b=e[y+1];h||(h=p),g=p;const E=this.findRightToken(p);(!E||!b||E[0]!==b[0]||E[1]!==b[1])&&(c.push([h,g]),h=null,g=null)}for(const y of c){const[p,b]=y,[E,I]=this.findLeftToken(p),[k,q]=b,V=I===Wt.Start?E:E.parent,Y=q===Wt.Start?k:k.parent,_=this.toIndex(V,E),lt=this.toIndex(Y,k);_<lt&&(l.length>0&&_===l[l.length-1].to?(l[l.length-1].to=lt,l[l.length-1].toPath=this.toPath(Y,k)):l.push({type:"content",from:_,to:lt,fromPath:this.toPath(V,E),toPath:this.toPath(Y,k),actor:i.getActorID()}))}return l.reverse()}findRightToken([e,i]){if(i===Wt.Start){const y=e.allChildren;return y.length>0?[y[0],y[0].isText?Wt.Text:Wt.Start]:[e,Wt.End]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===c.length-1)return[l,Wt.End];const g=c[h+1];return[g,g.isText?Wt.Text:Wt.Start]}findLeftToken([e,i]){if(i===Wt.End){const y=e.allChildren;if(y.length>0){const p=y[y.length-1];return[p,p.isText?Wt.Text:Wt.End]}return[e,Wt.Start]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===0)return[l,Wt.Start];const g=c[h-1];return[g,g.isText?Wt.Text:Wt.End]}}class dl extends Tn{constructor(e,i,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"contents");d(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=h}static create(e,i,l,c,h,g){return new dl(e,i,l,c,h,g)}execute(e,i,l){var E;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=this.getExecutedAt(),g=c,[y,p,b]=g.edit([this.fromPos,this.toPos],(E=this.contents)==null?void 0:E.map(I=>I.deepcopy()),this.splitLevel,h,(()=>{let I=h.getDelimiter();return this.contents!==void 0&&(I+=this.contents.length),()=>bn.of(h.getLamport(),++I,h.getActorID())})(),l);e.acc(b);for(const I of p)e.registerGCPair(I);return{opInfos:y.map(({from:I,to:k,value:q,splitLevel:V,fromPath:Y,toPath:_})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:I,to:k,value:q,splitLevel:V,fromPath:Y,toPath:_}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${i},${l},${c.map(h=>Ud(h)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Bs{constructor(n){d(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}has(n){return this.vector.has(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[i,l]of n){const c=this.vector.get(i),h=c&&c>l?c:l;e.set(i,h)}for(const[i,l]of this){const c=n.get(i),h=c&&c>l?c:l;e.set(i,h)}return new Bs(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,i]of this.vector)n.set(e,i);return new Bs(n)}filter(n){const e=new Map;for(const[i]of n){const l=this.vector.get(i);l!==void 0&&e.set(i,l)}return new Bs(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const J0=new Bs(new Map);class On{constructor(n,e,i,l,c){d(this,"clientSeq");d(this,"serverSeq");d(this,"actor");d(this,"lamport");d(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Ed}static of(n,e,i,l,c){return new On(n,e,i,l,c)}next(n=!1){if(n)return new On(this.clientSeq+1,this.lamport,this.actor,J0,Ed);const e=this.versionVector.deepcopy();return e.set(this.actor,this.lamport+1n),new On(this.clientSeq+1,this.lamport+1n,this.actor,e)}syncClocks(n){if(!n.hasClocks())return this;const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,i=this.versionVector.max(n.versionVector),l=new On(this.clientSeq,e,this.actor,i);return l.versionVector.set(this.actor,e),l}setClocks(n,e){const i=n>this.lamport?n+1n:this.lamport+1n,l=this.versionVector.max(e);return l.set(this.actor,i),On.of(this.clientSeq,i,this.actor,l)}createTimeTicket(n){return bn.of(this.lamport,n,this.actor)}setActor(n){return new On(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new On(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new On(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Rw=new On(0,0n,Bd,J0);class Hs{constructor({id:n,operations:e,presenceChange:i,message:l}){d(this,"id");d(this,"operations");d(this,"presenceChange");d(this,"message");this.id=n,this.operations=e||[],this.presenceChange=i,this.message=l}static create({id:n,operations:e,presenceChange:i,message:l}){return new Hs({id:n,operations:e,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,i){const l=[],c=[];for(const h of this.operations){const g=h.execute(n,i,this.id.getVersionVector());if(!g)continue;const{opInfos:y,reverseOp:p}=g;l.push(...y),p&&c.unshift(p)}return this.presenceChange&&(this.presenceChange.type===tr.Put?e.set(this.id.getActorID(),Dn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Zt.bytesToHex(Zt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Zt.bytesToHex(Zt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:i,presenceChange:l,message:c}=n;return Hs.create({id:Zt.bytesToChangeID(Zt.hexToBytes(e)),operations:i==null?void 0:i.map(h=>Zt.bytesToOperation(Zt.hexToBytes(h))),presenceChange:l,message:c})}}class Tc{constructor(n,e,i,l,c,h){d(this,"documentKey");d(this,"checkpoint");d(this,"isRemoved");d(this,"changes");d(this,"snapshot");d(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=i,this.changes=l,this.snapshot=h,this.versionVector=c}static create(n,e,i,l,c,h){return new Tc(n,e,i,l,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class zs{constructor(n,e){d(this,"serverSeq");d(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new zs(n,e)}increaseClientSeq(n){return n===0?this:new zs(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return zs.of(e,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Iw=new zs(0n,0);class _n{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new _n(n,e)}static fromStruct(n){return _n.of(bn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new _n(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Bw=_n.of(Js,0);class In{constructor(n,e){d(this,"id");d(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new In(n,e)}static fromStruct(n){const e=_n.fromStruct(n.id);return In.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return _n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class ca extends O0{constructor(e,i,l){super(i);d(this,"id");d(this,"removedAt");d(this,"prev");d(this,"next");d(this,"insPrev");d(this,"insNext");this.id=e,this.removedAt=l}static create(e,i){return new ca(e,i)}static createComparator(){return(e,i)=>{const l=e.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new ca(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e){return e?!this.removedAt:!1}canStyle(e,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e,i){if(!this.removedAt){this.removedAt=e;return}!i&&e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[In.of(this.id,0),In.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Qn),this.removedAt&&(e.meta+=Qn),e}deepcopy(){return new ca(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const i=this.value;return this.value=i.substring(0,e),i.substring(e,i.length)}toIDString(){return this.id.toIDString()}}class js{constructor(){d(this,"head");d(this,"treeByIndex");d(this,"treeByID");this.head=ca.create(Bw),this.treeByIndex=new al,this.treeByID=new L0(ca.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new js}edit(n,e,i,l){const c={data:0,meta:0},[h,g,y]=this.findNodeWithSplit(n[1],e),[p,b,E]=this.findNodeWithSplit(n[0],e);ye(c,g,b);const I=this.findBetween(E,y),[k,q]=this.deleteNodes(I,e,l),V=y?y.getID():h.getID();let Y=In.of(V,0);if(i){const lt=this.posToIndex(p.createPosRange()[1],!0),ct=this.insertAfter(p,ca.create(_n.of(e,0),i));ye(c,ct.getDataSize()),k.length&&k[k.length-1].from===lt?k[k.length-1].value=i:k.push({actor:e.getActorID(),from:lt,to:lt,value:i}),Y=In.of(ct.getID(),ct.getContentLength())}const _=[];for(const[,lt]of q)_.push({parent:this,child:lt});return[Y,_,c,k]}indexToPos(n){const[e,i]=this.treeByIndex.find(n),l=e;return In.of(l.getID(),i)}findIndexesFromRange(n){const[e,i]=n;return[this.posToIndex(e,!1),this.posToIndex(i,!0)]}posToIndex(n,e){const i=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),h=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+h}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new js;let e=this.head.getNext(),i=n.head,l;for(;e;){if(l=n.insertAfter(i,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}i=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const i=n.getNext();return e.setPrev(n),i&&i.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const i=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,h]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,h,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const i=[];let l=n;for(;l&&l!==e;)i.push(l),l=l.getNext();return i}splitNode(n,e){const i={data:0,meta:0};if(e>n.getContentLength())throw new D(x.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return[n,i];if(e===n.getContentLength())return[n.getNext(),i];const l=n.getDataSize(),c=n.split(e);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const h=n.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(n),ye(i,n.getDataSize(),c.getDataSize()),Is(i,l),[c,i]}deleteNodes(n,e,i){if(!n.length)return[[],new Map];const l=i===void 0,c=[],h=[],[g,y]=this.findEdgesOfCandidates(n);h.push(g);for(const E of n)E.canRemove(l||i.afterOrEqual(E.getCreatedAt()))?c.push(E):h.push(E);h.push(y);const p=this.makeChanges(h,e),b=new Map;for(const E of c)b.set(E.getID().toIDString(),E),E.remove(e,E.isRemoved()&&(l||i.afterOrEqual(E.getRemovedAt())));return this.deleteIndexNodes(h),[p,b]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const i=[];let l,c;for(let h=0;h<n.length-1;h++){const g=n[h],y=n[h+1];g.getNext()!=y&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:e.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const i=n[e],l=n[e+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),i=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(i),i&&i.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const jv=s=>s<0?Math.ceil(s):Math.floor(s);var nr=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(nr||{});class Me extends cl{constructor(e,i,l){super(l);d(this,"valueType");d(this,"value");switch(this.valueType=e,e){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=bt.fromNumber(i).toInt():this.value=jv(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=bt.fromNumber(i):this.value=i;break;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,i,l){return new Me(e,i,l)}static valueFromBytes(e,i){switch(e){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return bt.fromBytesLE(Array.from(i));default:throw new D(x.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Me.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof bt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Me.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Jt.Long?this.value=this.value+e.getValue().toInt():this.value=bt.fromNumber(this.value+jv(e.getValue())).toInt(),this}}class Ys extends Tn{constructor(e,i,l){super(e,l);d(this,"value");this.value=i}static create(e,i,l){return new Ys(e,i,l)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Me))throw new D(x.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===Jt.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ys.create(this.getParentCreatedAt(),Kt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Ci extends Tn{constructor(e,i,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"attributes");d(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=h}static create(e,i,l,c,h){return new Ci(e,i,l,c,[],h)}static createTreeRemoveStyleOperation(e,i,l,c,h){return new Ci(e,i,l,new Map,c,h)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=c;let g,y,p={data:0,meta:0};if(this.attributes.size){const b={};[...this.attributes].forEach(([E,I])=>b[E]=I),[y,g,p]=h.style([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}else{const b=this.attributesToRemove;[y,g,p]=h.removeStyle([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}e.acc(p);for(const b of y)e.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:I,fromPath:k,toPath:q})=>({type:"tree-style",from:b,to:E,value:this.attributes.size?{attributes:I}:{attributesToRemove:I},fromPath:k,toPath:q,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,h])=>`${c}:"${h}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Wn extends Tn{constructor(e,i,l,c){super(e,c);d(this,"createdAt");d(this,"value");this.createdAt=i,this.value=l}static create(e,i,l,c){return new Wn(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ae))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute set");const l=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,l),h=this.value.deepcopy();return i.insertAfter(this.createdAt,h,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),e.registerElement(h),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(e,i){return Wn.create(this.getParentCreatedAt(),e.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function zw(s){const n=new Sc,e=n.data;for(const[i,l]of Object.entries(s))e[i]=JSON.stringify(l);return n}function Mw(s){if(s.type===tr.Put)return new rl({type:La.PUT,presence:zw(s.presence)});if(s.type===tr.Clear)return new rl({type:La.CLEAR});throw new D(x.ErrUnimplemented,"unimplemented type")}function Uw(s){return new N0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function P0(s){return new pc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Ac(s.getActorID()),versionVector:Ld(s.getVersionVector())})}function F(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Ac(s.getActorID())})}function Ld(s){if(!s)return;const n=new vc;for(const[e,i]of s){const l=vA(Ac(e));n.vector[l]=BigInt(i.toString())}return n}function V0(s){switch(s){case Jt.Null:return ft.NULL;case Jt.Boolean:return ft.BOOLEAN;case Jt.Integer:return ft.INTEGER;case Jt.Long:return ft.LONG;case Jt.Double:return ft.DOUBLE;case Jt.String:return ft.STRING;case Jt.Bytes:return ft.BYTES;case Jt.Date:return ft.DATE;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function H0(s){switch(s){case nr.Int:return ft.INTEGER_CNT;case nr.Long:return ft.LONG_CNT;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function ku(s){if(s instanceof we)return new ln({type:ft.JSON_OBJECT,createdAt:F(s.getCreatedAt()),value:eS(s)});if(s instanceof Ae)return new ln({type:ft.JSON_ARRAY,createdAt:F(s.getCreatedAt()),value:gA(s)});if(s instanceof Qe)return new ln({type:ft.TEXT,createdAt:F(s.getCreatedAt())});if(s instanceof Kt)return new ln({type:V0(s.getType()),createdAt:F(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Me)return new ln({type:H0(s.getType()),createdAt:F(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Fe)return new ln({type:ft.TREE,createdAt:F(s.getCreatedAt()),value:yA(s)});throw new D(x.ErrUnimplemented,"unimplemented element")}function Lw(s){return new el({createdAt:F(s.getCreatedAt()),offset:s.getOffset()})}function Ru(s){return new qa({createdAt:F(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Iu(s){return new Ua({parentId:Fo(s.getParentID()),leftSiblingId:Fo(s.getLeftSiblingID())})}function Fo(s){return new la({createdAt:F(s.getCreatedAt()),offset:s.getOffset()})}function j0(s){const n=new Id;if(s instanceof Ja){const e=s,i=new Ku;i.parentCreatedAt=F(e.getParentCreatedAt()),i.key=e.getKey(),i.value=ku(e.getValue()),i.executedAt=F(e.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof ki){const e=s,i=new $u;i.parentCreatedAt=F(e.getParentCreatedAt()),i.prevCreatedAt=F(e.getPrevCreatedAt()),i.value=ku(e.getValue()),i.executedAt=F(e.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof kn){const e=s,i=new Xu;i.parentCreatedAt=F(e.getParentCreatedAt()),i.prevCreatedAt=F(e.getPrevCreatedAt()),i.createdAt=F(e.getCreatedAt()),i.executedAt=F(e.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof er){const e=s,i=new Zu;i.parentCreatedAt=F(e.getParentCreatedAt()),i.createdAt=F(e.getCreatedAt()),i.executedAt=F(e.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof fl){const e=s,i=new Qu;i.parentCreatedAt=F(e.getParentCreatedAt()),i.from=Ru(e.getFromPos()),i.to=Ru(e.getToPos()),i.content=e.getContent();const l=i.attributes;for(const[c,h]of e.getAttributes())l[c]=h;i.executedAt=F(e.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof hl){const e=s,i=new Fu;i.parentCreatedAt=F(e.getParentCreatedAt()),i.from=Ru(e.getFromPos()),i.to=Ru(e.getToPos());const l=i.attributes;for(const[c,h]of e.getAttributes())l[c]=h;i.executedAt=F(e.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof Ys){const e=s,i=new _u;i.parentCreatedAt=F(e.getParentCreatedAt()),i.value=ku(e.getValue()),i.executedAt=F(e.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof dl){const e=s,i=new Wu;i.parentCreatedAt=F(e.getParentCreatedAt()),i.from=Iu(e.getFromPos()),i.to=Iu(e.getToPos()),i.contents=Yw(e.getContents()),i.splitLevel=e.getSplitLevel(),i.executedAt=F(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof Ci){const e=s,i=new tc;i.parentCreatedAt=F(e.getParentCreatedAt()),i.from=Iu(e.getFromPos()),i.to=Iu(e.getToPos());const l=e.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[h,g]of e.getAttributes())c[h]=g}i.executedAt=F(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else if(s instanceof Wn){const e=s,i=new ec;i.parentCreatedAt=F(e.getParentCreatedAt()),i.createdAt=F(e.getCreatedAt()),i.value=ku(e.getValue()),i.executedAt=F(e.getExecutedAt()),n.body.case="arraySet",n.body.value=i}else throw new D(x.ErrUnimplemented,"unimplemented operation");return n}function qw(s){const n=[];for(const e of s)n.push(j0(e));return n}function Jw(s){const n=new E0({id:P0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=qw(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=Mw(s.getPresenceChange())),n}function Pw(s){const n=[];for(const e of s)n.push(Jw(e));return n}function Vw(s){const n=[];for(const e of s)n.push(new x0({key:e.getStrKey(),element:Jd(e.getValue())}));return n}function Hw(s){const n=[];for(const e of s)n.push(new lc({element:Jd(e.getValue())}));return n}function jw(s){const n=[];for(const e of s){const i=new uc;i.id=Lw(e.getID()),i.value=e.getValue().getContent(),i.removedAt=F(e.getRemovedAt());const l=i.attributes,c=e.getValue().getAttrs();for(const h of c){const g=new qs;g.value=h.getValue(),g.updatedAt=F(h.getUpdatedAt()),l[h.getKey()]=g}n.push(i)}return n}function Yw(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new cc({content:qd(e)}));return n}function Gw(s){const n={};for(const e of s)n[e.getKey()]=new qs({value:e.getValue(),updatedAt:F(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function qd(s){if(!s)return[];const n=[];return bc(s,(e,i)=>{const l=new nl({id:Fo(e.id),type:e.type,removedAt:F(e.removedAt),depth:i});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=Fo(e.insPrevID)),e.insNextID&&(l.insNextId=Fo(e.insNextID)),e.attrs&&(l.attributes=Gw(e.attrs)),n.push(l)}),n}function Kw(s){const n=new Ue;return n.body.case="jsonObject",n.body.value=new nc({nodes:Vw(s.getRHT()),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function Y0(s){const n=new Ue;return n.body.case="jsonArray",n.body.value=new rc({nodes:Hw(s.getElements()),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function $w(s){const n=new Ue;return n.body.case="primitive",n.body.value=new ic({type:V0(s.getType()),value:s.toBytes(),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function Xw(s){const n=new Ue;return n.body.case="text",n.body.value=new ac({nodes:jw(s.getRGATreeSplit()),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function Zw(s){const n=new Ue;return n.body.case="counter",n.body.value=new sc({type:H0(s.getType()),value:s.toBytes(),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function G0(s){const n=new Ue;return n.body.case="tree",n.body.value=new oc({nodes:qd(s.getRoot()),createdAt:F(s.getCreatedAt()),movedAt:F(s.getMovedAt()),removedAt:F(s.getRemovedAt())}),n}function Jd(s){if(s instanceof we)return Kw(s);if(s instanceof Ae)return Y0(s);if(s instanceof Kt)return $w(s);if(s instanceof Qe)return Xw(s);if(s instanceof Me)return Zw(s);if(s instanceof Fe)return G0(s);throw new D(x.ErrUnimplemented,"unimplemented element")}function Qw(s){return new Ii({documentKey:s.getDocumentKey(),checkpoint:Uw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:Pw(s.getChanges()),snapshot:s.getSnapshot(),versionVector:Ld(s.getVersionVector())})}function Xo(s){if(!(s instanceof kt))return{};const n=s.findDetails(gw);for(const e of n)return e.metadata;return{}}function aa(s){return Xo(s).code??""}function K0(s){return On.of(s.clientSeq,BigInt(s.lamport),Yd(s.actorId),Pd(s.versionVector),BigInt(s.serverSeq))}function Pd(s){if(!s)return;const n=new Bs;return Object.entries(s.vector).forEach(([e,i])=>{const l=wc(pA(e));n.set(l,BigInt(i.toString()))}),n}function W(s){if(s)return bn.of(BigInt(s.lamport),s.delimiter,Yd(s.actorId))}function Vd(s){const n={};return Object.entries(s.data).forEach(([e,i])=>{n[e]=JSON.parse(i)}),n}function Fw(s){const n=s.type;if(n===La.PUT){const e=Vd(s.presence);return{type:tr.Put,presence:e}}if(n===La.CLEAR)return{type:tr.Clear};throw new D(x.ErrInvalidType,`unsupported type: ${n}`)}function _w(s){const n=new Map;return Object.entries(s).forEach(([e,i])=>{n.set(e,Vd(i))}),n}function $0(s){switch(s){case ft.NULL:return Jt.Null;case ft.BOOLEAN:return Jt.Boolean;case ft.INTEGER:return Jt.Integer;case ft.LONG:return Jt.Long;case ft.DOUBLE:return Jt.Double;case ft.STRING:return Jt.String;case ft.BYTES:return Jt.Bytes;case ft.DATE:return Jt.Date}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function mc(s){switch(s){case ft.INTEGER_CNT:return nr.Int;case ft.LONG_CNT:return nr.Long}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Bu(s){switch(s.type){case ft.JSON_OBJECT:return s.value?tS(s.value):we.create(W(s.createdAt));case ft.JSON_ARRAY:return s.value?dA(s.value):Ae.create(W(s.createdAt));case ft.TEXT:return Qe.create(js.create(),W(s.createdAt));case ft.TREE:return mA(s.value);case ft.NULL:case ft.BOOLEAN:case ft.INTEGER:case ft.LONG:case ft.DOUBLE:case ft.STRING:case ft.BYTES:case ft.DATE:return Kt.of(Kt.valueFromBytes($0(s.type),s.value),W(s.createdAt));case ft.INTEGER_CNT:case ft.LONG_CNT:return Me.create(mc(s.type),Me.valueFromBytes(mc(s.type),s.value),W(s.createdAt))}}function zu(s){return In.of(_n.of(W(s.createdAt),s.offset),s.relativeOffset)}function X0(s){return _n.of(W(s.createdAt),s.offset)}function Ww(s){const n=ol.create(s.value);Object.entries(s.attributes).forEach(([i,l])=>{n.setAttr(i,l.value,W(l.updatedAt))});const e=ca.create(X0(s.id),n);return e.setRemovedAt(W(s.removedAt)),e}function Os(s){return Rn.of(_o(s.parentId),_o(s.leftSiblingId))}function _o(s){return pe.of(W(s.createdAt),s.offset)}function tA(s){if(!s.length)return;const n=[];return s.forEach(e=>{const i=Hd(e.content);n.push(i)}),n}function Hd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(nA(l));const e=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)i.get(s[l].depth-1).prepend(n[l]),i.set(s[l].depth,n[l]);return e.updateDescendantsSize(),Fe.create(e,Js).getRoot()}function eA(s){const n=Ri.create();for(const[e,i]of Object.entries(s))n.setInternal(e,i.value,W(i.updatedAt),i.isRemoved);return n}function nA(s){const n=_o(s.id),e=Ze.create(n,s.type),i=Object.entries(s.attributes);return e.isText?e.value=s.value:i.length&&(e.attrs=eA(s.attributes)),s.insPrevId&&(e.insPrevID=_o(s.insPrevId)),s.insNextId&&(e.insNextID=_o(s.insNextId)),e.removedAt=W(s.removedAt),e}function Z0(s){if(s.body.case==="set"){const n=s.body.value;return Ja.create(n.key,Bu(n.value),W(n.parentCreatedAt),W(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return ki.create(W(n.parentCreatedAt),W(n.prevCreatedAt),Bu(n.value),W(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return kn.create(W(n.parentCreatedAt),W(n.prevCreatedAt),W(n.createdAt),W(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return er.create(W(n.parentCreatedAt),W(n.createdAt),W(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{e.set(i,l)}),fl.create(W(n.parentCreatedAt),zu(n.from),zu(n.to),n.content,e,W(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{e.set(i,l)}),hl.create(W(n.parentCreatedAt),zu(n.from),zu(n.to),e,W(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return Ys.create(W(n.parentCreatedAt),Bu(n.value),W(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return dl.create(W(n.parentCreatedAt),Os(n.from),Os(n.to),tA(n.contents),n.splitLevel,W(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,i=n.attributesToRemove;return(i==null?void 0:i.length)>0?Ci.createTreeRemoveStyleOperation(W(n.parentCreatedAt),Os(n.from),Os(n.to),i,W(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{e.set(l,c)}),Ci.create(W(n.parentCreatedAt),Os(n.from),Os(n.to),e,W(n.executedAt)))}else if(s.body.case==="arraySet"){const n=s.body.value;return Wn.create(W(n.parentCreatedAt),W(n.createdAt),Bu(n.value),W(n.executedAt))}else throw new D(x.ErrUnimplemented,"unimplemented operation")}function rA(s){const n=[];for(const e of s){const i=Z0(e);i&&n.push(i)}return n}function Q0(s){const n=[];for(const e of s)n.push(Hs.create({id:K0(e.id),operations:rA(e.operations),presenceChange:e.presenceChange?Fw(e.presenceChange):void 0,message:e.message}));return n}function iA(s){return zs.of(BigInt(s.serverSeq),s.clientSeq)}function aA(s){return Tc.create(s.documentKey,iA(s.checkpoint),s.isRemoved,Q0(s.changes),Pd(s.versionVector),s.snapshot)}function F0(s){const n=new il;for(const i of s.nodes){const l=jd(i.element);n.set(i.key,l,l.getPositionedAt())}const e=new we(W(s.createdAt),n);return e.setMovedAt(W(s.movedAt)),e.setRemovedAt(W(s.removedAt)),e}function _0(s){const n=new sl;for(const i of s.nodes)n.insert(jd(i.element));const e=new Ae(W(s.createdAt),n);return e.setMovedAt(W(s.movedAt)),e.setRemovedAt(W(s.removedAt)),e}function sA(s){const n=Kt.of(Kt.valueFromBytes($0(s.type),s.value),W(s.createdAt));return n.setMovedAt(W(s.movedAt)),n.setRemovedAt(W(s.removedAt)),n}function oA(s){const n=new js;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,Ww(l));l.insPrevId&&c.setInsPrev(n.findNode(X0(l.insPrevId))),e=c}const i=new Qe(n,W(s.createdAt));return i.setMovedAt(W(s.movedAt)),i.setRemovedAt(W(s.removedAt)),i}function lA(s){const n=Me.create(mc(s.type),Me.valueFromBytes(mc(s.type),s.value),W(s.createdAt));return n.setMovedAt(W(s.movedAt)),n.setRemovedAt(W(s.removedAt)),n}function W0(s){const n=Hd(s.nodes);return Fe.create(n,W(s.createdAt))}function jd(s){if(s.body.case==="jsonObject")return F0(s.body.value);if(s.body.case==="jsonArray")return _0(s.body.value);if(s.body.case==="primitive")return sA(s.body.value);if(s.body.case==="text")return oA(s.body.value);if(s.body.case==="counter")return lA(s.body.value);if(s.body.case==="tree")return W0(s.body.value);throw new D(x.ErrUnimplemented,"unimplemented element")}function uA(s){return s.map(n=>({path:n.path,type:n.type}))}function cA(s){if(!s)return{root:we.create(Js),presences:new Map};const n=td.fromBinary(s);return{root:jd(n.root),presences:_w(n.presences)}}function fA(s){const n=Ld(s);return wc(n.toBinary())}function hA(s){const n=Gd(s),e=vc.fromBinary(n);return Pd(e)}function tS(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return F0(n.body.value)}function eS(s){return Jd(s).toBinary()}function dA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return _0(n.body.value)}function gA(s){return Y0(s).toBinary()}function mA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return W0(n.body.value)}function yA(s){return G0(s).toBinary()}function wc(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Yd(s){return wc(s)}function Gd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function pA(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),e=n.length,i=new Uint8Array(e);for(let l=0;l<e;l++)i[l]=n.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function Ac(s){return Gd(s)}function vA(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let e=0;e<s.byteLength;e++)n+=String.fromCharCode(s[e]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function SA(s){const n=pc.fromBinary(s);return K0(n)}function bA(s){const n=Id.fromBinary(s);return Z0(n)}const Zt={fromPresence:Vd,toChangePack:Qw,fromChangePack:aA,fromChanges:Q0,toTreeNodes:qd,fromTreeNodes:Hd,objectToBytes:eS,bytesToObject:tS,bytesToSnapshot:cA,bytesToHex:wc,hexToBytes:Gd,toHexString:Yd,toUint8Array:Ac,toOperation:j0,toChangeID:P0,PbChangeID:pc,bytesToChangeID:SA,bytesToOperation:bA,versionVectorToHex:fA,hexToVersionVector:hA,fromSchemaRules:uA};var Ie=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Ie||{});let Ia=3;function TA(s){Ia=s}const tt={trivial:(...s)=>{Ia>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Ia>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Ia>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Ia>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Ia>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Ia<=s};function nS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class wA{constructor(n,e,i,l,c){d(this,"reconnectStreamDelay");d(this,"doc");d(this,"docID");d(this,"syncMode");d(this,"remoteChangeEventReceived");d(this,"cancelled");d(this,"watchStream");d(this,"watchLoopTimerID");d(this,"watchAbortController");d(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=i,this.syncMode=l,this.remoteChangeEventReceived=!1,this.cancelled=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===ju.RealtimeSyncOff?!1:this.syncMode===ju.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==ju.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay))})}catch{}};await e()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function AA(s,n){const e=[];for(const i of n){const l=EA(s,i.path),c=xA(l,i);if(!c.valid)for(const h of c.errors||[])e.push(h)}return{valid:e.length===0,errors:e}}function EA(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const e=n.split(".");let i=s;for(let l=1;l<e.length;l++){const c=e[l];if(!(i instanceof we))return;i=i.get(c)}return i}function xA(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return DA(s,n);case"object":if(!(s instanceof we))return{valid:!1,errors:[{path:n.path,message:`expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof Ae))return{valid:!1,errors:[{path:n.path,message:`expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Fe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Me))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function NA(s){switch(s){case"null":return Jt.Null;case"boolean":return Jt.Boolean;case"integer":return Jt.Integer;case"long":return Jt.Long;case"double":return Jt.Double;case"string":return Jt.String;case"bytes":return Jt.Bytes;case"date":return Jt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function DA(s,n){return s instanceof Kt&&s.getType()===NA(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`expected ${n.type} at path ${n.path}`}]}}const Qh=()=>{};class OA{constructor(n){d(this,"finalized",!1);d(this,"observers",[]);d(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,i){let l;if(!n)throw new D(x.ErrInvalidArgument,"missing observer");if(this.finalized)throw new D(x.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:i},l.next===void 0&&(l.next=Qh),l.error===void 0&&(l.error=Qh),l.complete===void 0&&(l.complete=Qh);const c=nS(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){tt.warn(g)}return h}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(i){tt.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function CA(s){const n=new OA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class Rs{constructor(n,e,i,l){d(this,"prevID");d(this,"nextID");d(this,"delimiter");d(this,"message");d(this,"root");d(this,"operations");d(this,"presenceChange");d(this,"previousPresence");d(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=D0,this.root=e,this.operations=[],this.previousPresence=Dn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,i,l){return new Rs(n,e,i,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Hs.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const i of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}class ll{constructor(n){d(this,"rootObject");d(this,"elementPairMapByCreatedAt");d(this,"gcElementSetByCreatedAt");d(this,"gcPairMap");d(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof Qe||e instanceof Fe)for(const i of e.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new ll(we.create(Js))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const i=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new D(x.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),ye(this.docSize.live,n.getDataSize()),n instanceof ua&&n.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),ye(this.docSize.live,i.getDataSize()),!1))}deregisterElement(n){let e=0;const i=l=>{const c=l.getCreatedAt().toIDString();Is(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return i(n),n instanceof ua&&n.getDescendants(l=>(i(l),!1)),e}registerRemovedElement(n){ye(this.docSize.gc,n.getDataSize()),Is(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Qn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const i=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ye(this.docSize.gc,i),Is(this.docSize.live,i),n.child instanceof oa||(this.docSize.live.meta+=Qn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const i=this.elementPairMapByCreatedAt.get(e);i.element instanceof ua&&i.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new ll(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ye(this.docSize.live,n)}}function rS(s,n){const e=new ul(s);return new Proxy(n,e.getHandlers())}class ul{constructor(n){d(this,"context");d(this,"handlers");this.context=n,this.handlers={set:(e,i,l)=>(tt.isEnabled(Ie.Trivial)&&tt.trivial(`obj[${i}]=${JSON.stringify(l)}`),ul.setInternal(n,e,i,l),!0),get:(e,i)=>(tt.isEnabled(Ie.Trivial)&&tt.trivial(`obj[${i}]`),i==="getID"?()=>e.getCreatedAt():i==="toJSON"||i==="toString"?()=>e.toJSON():i==="toJS"?()=>e.toJS():i==="toJSForTest"?()=>e.toJSForTest():Ba(n,e.get(i))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,i)=>(tt.isEnabled(Ie.Trivial)&&tt.trivial(`obj[${i}]`),ul.deleteInternal(n,e,i),!0)}}static setInternal(n,e,i,l){if(i.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),h=Wo(n,l,c),g=e.set(i,h,c);n.registerElement(h,e),g&&n.registerRemovedElement(g),n.push(Ja.create(i,h.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const i={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const h=n.issueTimeTicket(),g=Wo(n,c,h);i[l]=g}return i}static deleteInternal(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByKey(i,l);c&&(n.push(er.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function kA(s,n){const e=new Ct(s,n);return new Proxy(n,e.getHandlers())}function Yv(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function RA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ct{constructor(n,e){d(this,"context");d(this,"handlers");d(this,"array");this.context=n,this.array=e,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?h=>{const g=i.getByID(h);if(!(!g||g.isRemoved()))return Nn(n,g)}:l==="getElementByIndex"?h=>{const g=i.get(h);return Nn(n,g)}:l==="getLast"?()=>Nn(n,i.getLast()):l==="delete"?h=>{const g=Ct.deleteInternalByIndex(n,i,h);return Nn(n,g)}:l==="deleteByID"?h=>{const g=Ct.deleteInternalByID(n,i,h);return Nn(n,g)}:l==="insertAfter"?(h,g)=>{const y=Ct.insertAfterInternal(n,i,h,g);return Nn(n,y)}:l==="insertIntegerAfter"?(h,g)=>{const y=Ct.insertIntegerAfterInternal(n,i,h,g);return Nn(n,y)}:l==="insertBefore"?(h,g)=>{const y=Ct.insertBeforeInternal(n,i,h,g);return Nn(n,y)}:l==="setValue"?(h,g)=>{const y=Ct.setValueInternal(n,i,h,g);return Nn(n,y)}:l==="moveBefore"?(h,g)=>{Ct.moveBeforeInternal(n,i,h,g)}:l==="moveAfter"?(h,g)=>{Ct.moveAfterInternal(n,i,h,g)}:l==="moveAfterByIndex"?(h,g)=>{Ct.moveAfterByIndexInternal(n,i,h,g)}:l==="moveFront"?h=>{Ct.moveFrontInternal(n,i,h)}:l==="moveLast"?h=>{Ct.moveLastInternal(n,i,h)}:Yv(l)?Ba(n,i.get(Number(l))):l==="push"?h=>Ct.pushInternal(n,i,h):l==="splice"?(h,g,...y)=>Ct.splice(n,i,h,g,...y):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?Ct.iteratorInternal.bind(this,n,i):l==="includes"?(h,g)=>Ct.includes(n,i,h,g):l==="indexOf"?(h,g)=>Ct.indexOf(n,i,h,g):l==="lastIndexOf"?(h,g)=>Ct.lastIndexOf(n,i,h,g):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>Ct.toTestString(i):typeof l=="string"&&RA(l)?(...h)=>{const g=Array.from(i).map(y=>Ba(n,y));return Array.prototype[l].apply(g,h)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(Yv(l)){const h=Number(l);return Ct.setValueInternal(n,i,h,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(tt.isEnabled(Ie.Trivial)&&tt.trivial(`array[${l}]`),Ct.deleteInternalByIndex(n,i,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const i of e)yield Nn(n,i)}static buildArrayElements(n,e){const i=[];for(const l of e){const c=n.issueTimeTicket(),h=Wo(n,l,c);i.push(h)}return i}static pushInternal(n,e,i){return Ct.insertAfterInternal(n,e,e.getLastCreatedAt(),i),e.length}static moveBeforeInternal(n,e,i,l){const c=n.issueTimeTicket(),h=e.getPrevCreatedAt(i);e.moveAfter(h,l,c),n.push(kn.create(e.getCreatedAt(),h,l,c))}static moveAfterInternal(n,e,i,l){const c=n.issueTimeTicket();n.push(kn.create(e.getCreatedAt(),i,l,c)),e.moveAfter(i,l,c)}static moveAfterByIndexInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);const h=e.get(l);if(!h)throw new D(x.ErrInvalidArgument,`index out of bounds: ${l}`);Ct.moveAfterInternal(n,e,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),i,l),n.push(kn.create(e.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,i,l),n.push(kn.create(e.getCreatedAt(),c,i,l))}static insertAfterInternal(n,e,i,l){const c=n.issueTimeTicket(),h=Wo(n,l,c);return e.insertAfter(i,h),n.registerElement(h,e),n.push(ki.create(e.getCreatedAt(),i,h.deepcopy(),c)),h}static insertIntegerAfterInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.insertAfterInternal(n,e,c.getCreatedAt(),l),e}static insertBeforeInternal(n,e,i,l){return Ct.insertAfterInternal(n,e,e.getPrevCreatedAt(i),l)}static setValueInternal(n,e,i,l){const c=e.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.setByIndexInternal(n,e,c.getCreatedAt(),l),e}static setByIndexInternal(n,e,i,l){const c=n.issueTimeTicket(),h=Wo(n,l,c),g=h.deepcopy();return n.push(Wn.create(e.getCreatedAt(),i,g,c)),e.set(i,h,c),n.registerElement(h,e),h}static deleteInternalByIndex(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByIndex(i,l);if(c)return n.push(er.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,i){const l=n.issueTimeTicket(),c=e.delete(i,l);return n.push(er.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,i,l,...c){const h=e.length,g=i>=0?Math.min(i,h):Math.max(h+i,0),y=l===void 0?h:l<0?g:Math.min(g+l,h),p=[];for(let b=g;b<y;b++){const E=Ct.deleteInternalByIndex(n,e,g);if(E){const I=E.deepcopy();I.setRemovedAt(),p.push(Ba(n,I))}}if(c){let b=g===0?e.getHead().getID():e.get(g-1).getID();for(const E of c)b=Ct.insertAfterInternal(n,e,b,E).getID()}return p}static includes(n,e,i,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return!1;if(Kt.isSupport(i))return Array.from(e).map(p=>Ba(n,p)).includes(i,h);for(let y=h;y<c;y++)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return!0;return!1}static indexOf(n,e,i,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return-1;if(Kt.isSupport(i))return Array.from(e).map(p=>Ba(n,p)).indexOf(i,h);for(let y=h;y<c;y++)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static lastIndexOf(n,e,i,l){var g;const c=e.length,h=l===void 0||l>=c?c-1:l<0?l+c:l;if(h<0)return-1;if(Kt.isSupport(i))return Array.from(e).map(p=>Ba(n,p)).lastIndexOf(i,h);for(let y=h;y>0;y--)if(((g=e.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Kd{constructor(n,e){d(this,"context");d(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,i,l){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);tt.isEnabled(Ie.Debug)&&tt.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${i}`);const h=l?Vs(l):void 0,g=this.context.issueTimeTicket(),[,y,p,b]=this.text.edit(c,i,g,h);this.context.acc(p);for(const E of y)this.context.registerGCPair(E);return this.context.push(new fl(this.text.getCreatedAt(),c[0],c[1],i,h?new Map(Object.entries(h)):new Map,g)),this.text.findIndexesFromRange(b)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,i){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);tt.isEnabled(Ie.Debug)&&tt.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=Vs(i),h=this.context.issueTimeTicket(),[g,y]=this.text.setStyle(l,c,h);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);return this.context.push(new hl(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([In.fromStruct(n[0]),In.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let $d=class{constructor(n,e){d(this,"valueType");d(this,"value");d(this,"context");d(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),i=Kt.of(n,e);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(Ys.create(this.counter.getCreatedAt(),i,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Xd(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(e=>Xd(e))};return s.attrs&&(n.attributes=Oi(s.attrs.toObject())),n}function IA(s,n){const e={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Fn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(i=>Xd(i))};return s.attrs?e.attributes=Oi(s.attrs.toObject()):s.isText&&s.parent.attrs&&(e.attributes=Oi(s.parent.attrs.toObject())),e}function BA(s,n){const{node:e}=s,i=[...n].slice(0,-1),l=e.isText?e.parent.getChildrenText().length:e.children.length,c=[...i,l],h=[...i],g=[];h[h.length-1]+=1,n.every((p,b)=>p===c[b])||g.push({fromPath:[...n],toPath:c});const y=IA(e,n[n.length-1]);return y&&g.push({fromPath:h,toPath:h,content:y}),g}function zA(s,n){const{node:e,offset:i}=s,l=e.children[i],c=e.children[i-1],{children:h}=l,g=[...n].slice(0,-1),y=[{fromPath:[...n],toPath:[...g,i+1]}];if(!l.children.length)return y;const p=[...g,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=h.map(E=>Xd(E));return y.push({fromPath:p,toPath:p,content:b}),y}function Zd(s,n,e){const{type:i}=s,l=e.issueTimeTicket();if(i===Fn){iS(s);const{value:c}=s,h=Ze.create(pe.of(l,0),i,c);n.append(h)}else{const{children:c=[]}=s,{attributes:h}=s;let g;if(typeof h=="object"&&!B0(h)){const p=Vs(h);g=new Ri;for(const[b,E]of Object.entries(p))g.set(b,E,l)}const y=Ze.create(pe.of(l,0),i,void 0,g);n.append(y);for(const p of c)Zd(p,y,e)}}function MA(s,n){const{type:e}=n,i=s.issueTimeTicket();let l;if(n.type===Fn){const{value:c}=n;l=Ze.create(pe.of(i,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:h}=n;let g;if(typeof h=="object"&&!B0(h)){const y=Vs(h);g=new Ri;for(const[p,b]of Object.entries(y))g.set(p,b,i)}l=Ze.create(pe.of(s.issueTimeTicket(),0),e,void 0,g);for(const y of c)Zd(y,l,s)}return l}function iS(s){if(!s.value.length)throw new D(x.ErrInvalidArgument,"text node cannot have empty value");return!0}function Gv(s){if(!s.length)return!0;if(s[0].type===Fn)for(const e of s){const{type:i}=e;if(i!==Fn)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together");iS(e)}else for(const e of s){const{type:i}=e;if(i===Fn)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Qd{constructor(n){d(this,"initialRoot");d(this,"context");d(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ze.create(pe.of(n.issueTimeTicket(),0),Aw);const e=Ze.create(pe.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Zd(i,e,n);return e}getSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n),i=BA(e,n);for(const l of i){const{fromPath:c,toPath:h,content:g}=l,y=this.tree.pathToPos(c),p=this.tree.pathToPos(h);this.editInternal(y,p,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n);if(e.node.isText)throw new D(x.ErrInvalidArgument,"text node cannot be merged");const i=zA(e,n);for(const l of i){const{fromPath:c,toPath:h,content:g}=l,y=this.tree.pathToPos(c),p=this.tree.pathToPos(h);this.editInternal(y,p,g??[],0)}}styleByPath(n,e){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),h=e?Vs(e):void 0,[g,,y]=this.tree.style([i,l],h,c);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);this.context.push(Ci.create(this.tree.getCreatedAt(),i,l,h?new Map(Object.entries(h)):new Map,c))}style(n,e,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),g=i?Vs(i):void 0,[y,,p]=this.tree.style([l,c],g,h);this.context.acc(p);for(const b of y)this.context.registerGCPair(b);this.context.push(Ci.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,h))}removeStyle(n,e,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),[g,,y]=this.tree.removeStyle([l,c],i,h);this.context.acc(y);for(const p of g)this.context.registerGCPair(p);this.context.push(Ci.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,h))}editInternal(n,e,i,l=0){var p;if(i.length!==0&&i[0]&&(Gv(i),i[0].type!==Fn))for(const b of i){const{children:E=[]}=b;Gv(E)}const c=this.context.getLastTimeTicket();let h=new Array;if(((p=i[0])==null?void 0:p.type)===Fn){let b="";for(const E of i){const{value:I}=E;b+=I}h.push(Ze.create(pe.of(this.context.issueTimeTicket(),0),Fn,b))}else h=i.map(b=>b&&MA(this.context,b)).filter(b=>b);const[,g,y]=this.tree.edit([n,e],h.length?h.map(b=>b==null?void 0:b.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const b of g)this.context.registerGCPair(b);return this.context.push(dl.create(this.tree.getCreatedAt(),n,e,h.length?h:void 0,l,c)),!0}editByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,i?[i]:[],l)}editBulkByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,i,l)}edit(n,e,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,i?[i]:[],l)}editBulk(n,e,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,i,l)}toXML(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(e);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const e=[Rn.fromStruct(n[0]),Rn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const e=[Rn.fromStruct(n[0]),Rn.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function Kv(s,n){return rS(s,n)}function Nn(s,n){if(n){if(n instanceof Kt)return n;if(n instanceof we)return rS(s,n);if(n instanceof Ae)return kA(s,n);if(n instanceof Qe)return new Kd(s,n);if(n instanceof Me){const e=new $d(nr.Int,0);return e.initialize(s,n),e}else if(n instanceof Fe){const e=new Qd;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Ba(s,n){const e=Nn(s,n);return e instanceof Kt?e.getValue():e}function Wo(s,n,e){let i;if(Kt.isSupport(n))i=Kt.of(n,e);else if(Array.isArray(n))i=Ae.create(e,Ct.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Kd?(i=Qe.create(js.create(),e),n.initialize(s,i)):n instanceof $d?(i=Me.create(n.getValueType(),n.getValue(),e),n.initialize(s,i)):n instanceof Qd?(i=Fe.create(n.buildRoot(s),e),n.initialize(s,i)):i=we.create(e,ul.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}class Fh{constructor(n,e){d(this,"context");d(this,"presence");this.context=n,this.presence=e}set(n,e){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:tr.Put,presence:Dn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:tr.Clear})}}const $v=50;class UA{constructor(){d(this,"undoStack",[]);d(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=$v&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=$v&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(n,e){const i=l=>{for(const c of l)for(const h of c)(h instanceof Wn||h instanceof er||h instanceof kn)&&h.getCreatedAt()===n&&h.setCreatedAt(e),(h instanceof ki||h instanceof kn)&&h.getPrevCreatedAt()===n&&h.setPrevCreatedAt(e)};i(this.undoStack),i(this.redoStack)}}const LA="yorkie-devtools-panel",qA="yorkie-devtools-sdk";function JA(s){return[ge.StatusChanged,ge.Snapshot,ge.LocalChange,ge.RemoteChange,ge.Initialized,ge.Watched,ge.Unwatched,ge.PresenceChanged].includes(s.type)}function PA(s){return s.every(JA)}let Cs="disconnected";const Xv=new Map,Hu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Hu);function Mu(s,n){(n!=null&&n.force||Cs!=="disconnected")&&window.postMessage({source:qA,...s},"*")}function VA(s){if(!s.isEnableDevtools()||typeof window>"u"||Xv.has(s.getKey()))return;Hu.set(s.getKey(),[]);const n=s.subscribe("all",e=>{PA(e)&&(Hu.get(s.getKey()).push(e),Cs==="synced"&&Mu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Xv.set(s.getKey(),[n]),Mu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==LA)return;switch(e.data.msg){case"devtools::connect":if(Cs!=="disconnected")break;Cs="connected",Mu({msg:"doc::available",docKey:s.getKey()}),tt.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Cs="disconnected",tt.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Cs="synced",Mu({msg:"doc::sync::full",docKey:s.getKey(),events:Hu.get(s.getKey())}),tt.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var sa=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(sa||{}),ge=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ge||{}),Pa=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Pa||{}),Od=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(Od||{});class aS{constructor(n,e){d(this,"key");d(this,"status");d(this,"opts");d(this,"changeID");d(this,"checkpoint");d(this,"localChanges");d(this,"maxSizeLimit");d(this,"schemaRules");d(this,"root");d(this,"clone");d(this,"eventStream");d(this,"eventStreamObserver");d(this,"onlineClients");d(this,"presences");d(this,"history");d(this,"internalHistory");d(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=ll.create(),this.changeID=Rw,this.checkpoint=Iw,this.localChanges=[],this.maxSizeLimit=0,this.schemaRules=[],this.eventStream=CA(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new UA,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},VA(this)}update(n,e){var g,y,p;if(this.getStatus()==="removed")throw new D(x.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=Rs.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},e);try{const b=Kv(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(b,new Fh(l,this.clone.presences.get(i)))}catch(b){throw this.clone=void 0,b}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length>0){const b=AA((g=this.clone)==null?void 0:g.root.getObject(),c);if(!b.valid)throw this.clone=void 0,new D(x.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(y=b.errors)==null?void 0:y.map(E=>E.message).join(", ")}`)}const h=Tw((p=this.clone)==null?void 0:p.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new D(x.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(l.hasChange()){tt.isEnabled(Ie.Trivial)&&tt.trivial(`trying to update a local change: ${this.toJSON()}`);const b=l.toChange(),{opInfos:E,reverseOps:I}=b.execute(this.root,this.presences,qt.Local);for(const V of b.getOperations())V instanceof Wn&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const k=l.getReversePresence();k&&I.push({type:"presence",value:k}),this.localChanges.push(b),I.length>0&&this.internalHistory.pushUndo(I),E.length>0&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const q=[];E.length>0&&q.push({type:"local-change",source:qt.Local,value:{message:b.getMessage()||"",operations:E,actor:i,clientSeq:b.getID().getClientSeq(),serverSeq:b.getID().getServerSeq()},rawChange:this.isEnableDevtools()?b.toStruct():void 0}),b.hasPresenceChange()&&q.push({type:"presence-changed",source:qt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(q),tt.isEnabled(Ie.Trivial)&&tt.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,i,l){if(typeof n=="string"){if(typeof e!="function")throw new D(x.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="initialized"&&p.type!=="watched"&&p.type!=="unwatched"&&p.type!=="presence-changed"||g(p)},i,l)}if(n==="my-presence"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="initialized"&&p.type!=="presence-changed"||p.type==="presence-changed"&&p.value.clientID!==this.changeID.getActorID()||g(p)},i,l)}if(n==="others"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="watched"&&p.type!=="unwatched"&&p.type!=="presence-changed"||p.value.clientID!==this.changeID.getActorID()&&g(p)},i,l)}if(n==="connection"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="connection-changed"&&g(p)},i,l)}if(n==="status"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="status-changed"&&g(p)},i,l)}if(n==="sync"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="sync-status-changed"&&g(p)},i,l)}if(n==="local-broadcast"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="local-broadcast"&&g(p)},i)}if(n==="broadcast"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="broadcast"&&g(p)},i)}if(n==="auth-error"){const g=e;return this.eventStream.subscribe(y=>{for(const p of y)p.type==="auth-error"&&g(p)},i)}if(n==="all"){const g=e;return this.eventStream.subscribe(g,i,l)}const c=n,h=e;return this.eventStream.subscribe(g=>{for(const y of g){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const p=[];for(const b of y.value.operations)this.isSameElementOrChildOf(b.path,c)&&p.push(b);p.length&&h({...y,value:{...y.value,operations:p}})}},i,l)}if(typeof n=="function"){const c=n,h=e,g=i;return this.eventStream.subscribe(y=>{for(const p of y)p.type!=="snapshot"&&p.type!=="local-change"&&p.type!=="remote-change"||c(p)},h,g)}throw new D(x.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const i=n.split(".");return e.split(".").every((c,h)=>c===i[h])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),qt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),tt.isEnabled(Ie.Trivial)&&tt.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Dn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return Tc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=Rs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Kv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,i,l=-1){const{root:c,presences:h}=Zt.bytesToSnapshot(i);this.root=new ll(c),this.presences=h,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,qt.Local),this.publish([{type:"snapshot",source:qt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Zt.bytesToHex(i):void 0,snapshotVector:Zt.versionVectorToHex(e)}}])}applyChanges(n,e){tt.isEnabled(Ie.Debug)&&tt.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),tt.isEnabled(Ie.Trivial)&&tt.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,e);tt.isEnabled(Ie.Debug)&&tt.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const i=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const h=n.getPresenceChange();switch(h.type){case tr.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:h.presence}}:{type:"watched",source:qt.Remote,value:{clientID:l,presence:h.presence}});break;case tr.Clear:i.push({type:"unwatched",source:qt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const h=this.isEnableDevtools()?n.toStruct():void 0;i.push(e===qt.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h})}i.length>0&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,i=new Set;for(const l of e)l!==this.changeID.getActorID()&&i.add(l);this.setOnlineClients(i),this.publish([{type:"initialized",source:qt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:i}=n.body.value,l=[];if(e===Ma.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&l.push({type:"watched",source:qt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(e===Ma.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&l.push({type:"unwatched",source:qt.Remote,value:{clientID:i,presence:c}})}else if(e===Ma.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:h}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:i,topic:c,payload:JSON.parse(g.decode(h))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(Bd),this.publish([{source:n==="removed"?qt.Remote:qt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:i,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(i),Zt.hexToVersionVector(l),Zt.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Hs.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:i,presence:l}of n.value)e.add(i),this.presences.set(i,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:i}=n.value;this.addOnlineClient(e),this.presences.set(e,i);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:i}=n.value;this.presences.set(e,i)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new D(x.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let i=this.getRoot();for(const l of e)if(i=i[l],i===void 0)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?Dn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?Dn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?Dn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:Dn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:Dn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,i)=>e.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new D(x.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new D(x.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=Rs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of n){if(!(p instanceof Tn)){new Fh(e,Dn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();if(p.setExecutedAt(b),p instanceof Wn){const E=p.getCreatedAt();p.getValue().setCreatedAt(b),this.internalHistory.reconcileCreatedAt(E,b)}else if(p instanceof ki){const E=p.getValue().getCreatedAt();p.getValue().setCreatedAt(b),this.internalHistory.reconcileCreatedAt(E,b)}e.push(p)}const i=e.toChange();i.execute(this.clone.root,this.clone.presences,qt.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,qt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushRedo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=e.getNextID();const g=this.changeID.getActorID(),y=[];l.length>0&&y.push({type:"local-change",source:qt.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&y.push({type:"presence-changed",source:qt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(y)}redo(){if(this.isUpdating)throw new D(x.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new D(x.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=Rs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of n){if(!(p instanceof Tn)){new Fh(e,Dn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();if(p.setExecutedAt(b),p instanceof Wn){const E=p.getCreatedAt();p.getValue().setCreatedAt(b),this.internalHistory.reconcileCreatedAt(E,b)}else if(p instanceof ki){const E=p.getValue().getCreatedAt();p.getValue().setCreatedAt(b),this.internalHistory.reconcileCreatedAt(E,b)}e.push(p)}const i=e.toChange();i.execute(this.clone.root,this.clone.presences,qt.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,qt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushUndo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=e.getNextID();const g=this.changeID.getActorID(),y=[];l.length>0&&y.push({type:"local-change",source:qt.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&y.push({type:"presence-changed",source:qt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(y)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,i){const l={type:"local-broadcast",value:{topic:n,payload:e},options:i};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function HA(s,n){let e=n;return{authInterceptor:c=>async h=>(s&&h.header.set("x-api-key",s),e&&h.header.set("authorization",e),await c(h)),setToken:c=>{e=c}}}const jA="@yorkie-js/sdk",YA="0.6.26",Zv={name:jA,version:YA};function GA(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",Zv.name+"/"+Zv.version),await n(e))}const KA=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var ju=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(ju||{});const $o={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},_h={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class sS{constructor(n){d(this,"id");d(this,"key");d(this,"metadata");d(this,"status");d(this,"attachmentMap");d(this,"apiKey");d(this,"authTokenInjector");d(this,"conditions");d(this,"syncLoopDuration");d(this,"reconnectStreamDelay");d(this,"retrySyncLoopDelay");d(this,"rpcClient");d(this,"setAuthToken");d(this,"taskQueue");d(this,"processing",!1);d(this,"keepalive",!1);n=n||$o;const e=n.rpcAddr||$o.rpcAddr;this.key=n.key||nS(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??$o.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??$o.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??$o.retrySyncLoopDelay;const{authInterceptor:i,setToken:l}=HA(this.apiKey);this.setAuthToken=l,this.rpcClient=Y1(dw,hw({baseUrl:e,interceptors:[i,GA(n==null?void 0:n.userAgent)],fetch:(c,h)=>{const g={...h,keepalive:this.keepalive};return fetch(c,g)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),tt.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw tt.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),tt.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw tt.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=e();return this.keepalive=!1,i}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==sa.Detached)throw new D(x.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,h)=>h.set(e.initialPresence||{}));const i=n.subscribe("local-broadcast",async c=>{var b;const{topic:h,payload:g}=c.value,y=(b=c.options)==null?void 0:b.error,p=c.options;try{await this.broadcast(n.getKey(),h,g,p)}catch(E){E instanceof Error&&(y==null||y(E))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Zt.toChangePack(n.createChangePack()),schemaKey:e.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(c.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(c.maxSizePerDocument),c.schemaRules.length>0&&n.setSchemaRules(Zt.fromSchemaRules(c.schemaRules));const g=Zt.fromChangePack(c.changePack);if(n.applyChangePack(g),n.getStatus()===sa.Removed)return n;n.applyStatus(sa.Attached),this.attachmentMap.set(n.getKey(),new wA(this.reconnectStreamDelay,n,c.documentId,l,i)),l!=="manual"&&await this.runWatchLoop(n.getKey()),tt.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const y=n.getRootObject();if(e.initialRoot){const p=e.initialRoot;n.update(b=>{for(const[E,I]of Object.entries(p))if(!y.has(E)){const k=E;b[k]=I}})}return n}catch(c){throw tt.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,h)=>h.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Zt.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Zt.fromChangePack(c.changePack);return n.applyChangePack(h),n.getStatus()!==sa.Removed&&n.applyStatus(sa.Detached),this.detachInternal(n.getKey()),tt.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw tt.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=i.syncMode;return l===e?n:(i.changeSyncMode(e),e==="manual"?(i.cancelWatchStream(),n):(e==="realtime"&&(i.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async i=>{throw tt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const e=[];for(const[,i]of this.attachmentMap)e.push(this.syncInternal(i,i.syncMode));return Promise.all(e).catch(async i=>{throw tt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=Zt.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Zt.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),tt.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw tt.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,i,l){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new D(x.ErrDocumentNotAttached,`${n} is not attached`);if(!KA(i))throw new D(x.ErrInvalidArgument,"payload is not serializable");const h=(l==null?void 0:l.maxRetries)??_h.maxRetries,g=_h.maxBackoff;let y=0;const p=E=>Math.min(_h.initialRetryInterval*2**E,g),b=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),tt.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(E){if(tt.error(`[BC] c:"${this.getKey()}" err:`,E),await this.handleConnectError(E))if(E instanceof kt&&aa(E)===x.ErrUnauthenticated&&c.doc.publish([{type:ge.AuthError,value:{reason:Xo(E).reason,method:"Broadcast"}}]),y<h)y++,setTimeout(()=>b(),p(y-1)),tt.info(`[BC] c:"${this.getKey()}" retry attempt ${y}/${h}`);else throw tt.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),E;else throw E}});return b()}runSyncLoop(){const n=async()=>{if(!this.isActive()){tt.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const e=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,e.push(this.syncInternal(i,i.syncMode).catch(async l=>{throw l instanceof kt&&aa(l)===x.ErrUnauthenticated&&i.doc.publish([{type:ge.AuthError,value:{reason:Xo(l).reason,method:"PushPull"}}]),l})));await Promise.all(e),setTimeout(n,this.syncLoopDuration)})}catch(e){tt.error(`[SL] c:"${this.getKey()}" sync failed:`,e),await this.handleConnectError(e)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};tt.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new D(x.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(n))return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrDocumentNotAttached,`${n} is not attached`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:ge.ConnectionChanged,value:Pa.Connected}]),tt.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),e.remoteChangeEventReceived=!0,new Promise((h,g)=>{(async()=>{try{for await(const p of c)this.handleWatchDocumentsResponse(e,p),p.body.case==="initialization"&&h([c,l])}catch(p){e.doc.resetOnlineClients(),e.doc.publish([{type:ge.Initialized,source:qt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:ge.ConnectionChanged,value:Pa.Disconnected}]),tt.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(p)?(p instanceof kt&&aa(p)===x.ErrUnauthenticated&&e.doc.publish([{type:ge.AuthError,value:{reason:Xo(p).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,g(p)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Ma.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus(sa.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.doc.resetOnlineClients(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:i,docID:l}=n,c=i.createChangePack();try{const h=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Zt.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),g=Zt.fromChangePack(h.changePack);if(g.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return i;i.applyChangePack(g),n.doc.publish([{type:ge.SyncStatusChanged,value:Od.Synced}]),i.getStatus()===sa.Removed&&this.detachInternal(i.getKey());const y=i.getKey(),p=g.getChangeSize();return tt.info(`[PP] c:"${this.getKey()}" sync d:"${y}", push:${c.getChangeSize()} pull:${p} cp:${g.getCheckpoint().toTestString()}`),i}catch(h){throw i.publish([{type:ge.SyncStatusChanged,value:Od.SyncFailed}]),tt.error(`[PP] c:"${this.getKey()}" err :`,h),h}}async handleConnectError(n){if(!(n instanceof kt))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(aa(n)===x.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(Xo(n).reason);this.setAuthToken(e)}return!0}return aa(n)===x.ErrTooManySubscribers?(tt.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(aa(n)===x.ErrTooManyAttachments||(aa(n)===x.ErrClientNotActivated||aa(n)===x.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,i)=>{this.taskQueue.push(()=>n().then(e).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{tt.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}nr.Int,nr.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:sS,Document:aS,Primitive:Kt,Text:Kd,Counter:$d,Tree:Qd,LogLevel:Ie,setLogLevel:TA,IntType:nr.Int,LongType:nr.Long});const $A="@yorkie-js/react",XA="0.6.26",Qv={name:$A,version:XA},oS=Yt.createContext({client:void 0,loading:!0,error:void 0});function ZA(s){const[n,e]=Yt.useState(void 0),[i,l]=Yt.useState(!0),[c,h]=Yt.useState(void 0),[g,y]=Yt.useState(!1);return Yt.useEffect(()=>{y(!0)},[]),Yt.useEffect(()=>{l(!0),h(void 0);async function p(){if(g)try{const b=new sS(s);await b.activate(),e(b)}catch(b){h(b instanceof Error?b:new Error("Failed to activate client"))}finally{l(!1)}}return p(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:i,error:c}}const QA=({children:s,...n})=>{const e=Yt.useMemo(()=>({userAgent:Qv.name+"/"+Qv.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:l,error:c}=ZA(e);return Ot.jsx(oS.Provider,{value:{client:i,loading:l,error:c},children:s})},FA=()=>{const s=Yt.useContext(oS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function _A(s){const n=new Set;let e=s;const i=()=>{n.forEach(y=>y(e))};return{subscribe:y=>(n.add(y),()=>n.delete(y)),getSnapshot:()=>e,setState:y=>{const p=e;e=typeof y=="function"?y(p):y,p!==e&&i()},destroy:()=>{n.clear()}}}const WA=s=>_A(s);function Fd(s,n,e=Object.is){const i=Yt.useRef(n),l=Yt.useRef(e),c=Yt.useRef(void 0);i.current=n,l.current=e;const h=()=>{const g=s.getSnapshot(),y=i.current?i.current(g):g;return c.current!==void 0&&l.current(c.current,y)?c.current:(c.current=y,y)};return Yt.useSyncExternalStore(s.subscribe,h,h)}function Fv(s){return s!=null&&typeof s[Symbol.iterator]=="function"}function _v(s){return"entries"in s&&typeof s.entries=="function"}function tE(s,n){const e=s instanceof Map?s:new Map(s.entries()),i=n instanceof Map?n:new Map(n.entries());if(e.size!==i.size)return!1;for(const[l,c]of e)if(!i.has(l)||!Object.is(c,i.get(l)))return!1;return!0}function eE(s,n){const e=s[Symbol.iterator](),i=n[Symbol.iterator]();let l=e.next(),c=i.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=e.next(),c=i.next()}return l.done===c.done}function nE(s,n){const e=Object.keys(s),i=Object.keys(n);if(e.length!==i.length)return!1;for(const l of e)if(!Object.prototype.hasOwnProperty.call(n,l)||!Object.is(s[l],n[l]))return!1;return!0}function rE(s,n){if(Object.is(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null||Object.getPrototypeOf(s)!==Object.getPrototypeOf(n))return!1;const e=Fv(s),i=Fv(n);return e!==i?!1:e&&i?_v(s)&&_v(n)?tE(s,n):eE(s,n):nE(s,n)}function iE(s,n,e,i,l,c,h){const g=Yt.useRef(l),y=Yt.useRef(c),[p,b]=Yt.useState(!1);Yt.useEffect(()=>{b(!0)},[]),Yt.useEffect(()=>{if(e){h.setState(q=>({...q,loading:!1,error:e}));return}if(!s||n||!p){h.setState(q=>({...q,loading:!0}));return}h.setState(q=>({...q,loading:!0,error:void 0}));const E=new aS(i),I=[];I.push(E.subscribe(()=>{h.setState(q=>({...q,root:E.getRoot()}))})),I.push(E.subscribe("presence",()=>{h.setState(q=>({...q,presences:E.getPresences()}))})),I.push(E.subscribe("connection",q=>{h.setState(V=>({...V,connection:q.value}))}));async function k(){try{await(s==null?void 0:s.attach(E,{initialRoot:g.current,initialPresence:y.current}));const q=V=>{try{E.update(V)}catch(Y){h.setState(_=>({..._,error:Y instanceof Error?Y:new Error("Failed to update document")}))}};h.setState(V=>({...V,doc:E,root:E.getRoot(),presences:E.getPresences(),update:q}))}catch(q){h.setState(V=>({...V,error:q instanceof Error?q:new Error("Failed to attach document")}))}finally{h.setState(q=>({...q,loading:!1}))}}return k(),()=>{s&&s.hasDocument(i)&&s.detach(E);for(const q of I)q()}},[s,n,e,i,h,p])}const _d=Yt.createContext(void 0),aE=({docKey:s,initialRoot:n={},initialPresence:e={},children:i})=>{const{client:l,loading:c,error:h}=FA(),g=Yt.useRef(void 0);g.current||(g.current=WA({doc:void 0,root:n,presences:[],connection:Pa.Disconnected,update:()=>{},loading:!0,error:void 0}));const y=g.current;return iE(l,c,h,s,n,e,y),Ot.jsx(_d.Provider,{value:y,children:i})},sE=()=>(s,n=rE)=>{const e=Yt.useContext(_d);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return Fd(e,s,n)},oE=()=>{const s=uS("usePresences");return Fd(s,n=>n.presences)},lS=()=>{const s=uS("useConnection");return Fd(s,n=>n.connection)},uS=s=>{const n=Yt.useContext(_d);if(!n)throw new Error(`${s} must be used within a DocumentProvider`);return n};function lE(){const s=lS();return Ot.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",s===Pa.Connected?Ot.jsx("span",{className:"green",children:" "}):Ot.jsx("span",{className:"red",children:" "})]})}function uE(){const s=oE();return Ot.jsx("div",{id:"peers-container",children:Ot.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Ot.jsxs(qT.Fragment,{children:[Ot.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Ot.jsx("span",{children:", "})]},n.clientID))]})})}const Wd=sE();function cE(){const{counter:s}=Wd(({root:n})=>({counter:n.counter}));return Ot.jsx("div",{id:"counter-value",children:s})}function fE(){const{update:s,connection:n}=Wd(({update:e,connection:i})=>({update:e,connection:i}));return Ot.jsx("button",{id:"increment",disabled:n===Pa.Disconnected,onClick:()=>s(e=>e.counter+=1),children:"Increment"})}function hE(){const{loading:s,error:n}=Wd(({loading:i,error:l})=>({loading:i,error:l})),e=lS();return s?Ot.jsx("p",{children:"Loading..."}):n?Ot.jsxs("div",{id:"error",children:[Ot.jsxs("p",{children:["Error Name: ",n.name]}),Ot.jsxs("p",{children:["Error Message: ",n.message]})]}):Ot.jsxs("div",{className:"counter-side",children:[Ot.jsx(lE,{}),Ot.jsx(uE,{}),Ot.jsxs("div",{id:"counter-container",children:[Ot.jsx("h1",{id:"counter",children:"Counter"}),Ot.jsx(cE,{}),Ot.jsx(fE,{})]}),Ot.jsx("div",{id:"error",children:e===Pa.Disconnected&&Ot.jsx("p",{children:"Stream subscription is disconnected"})})]})}function dE(){return Ot.jsx(QA,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:Ot.jsx("div",{className:"page-container",children:Ot.jsx(aE,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ot.jsx(hE,{})})})})}GT.createRoot(document.getElementById("root")).render(Ot.jsx(Yt.StrictMode,{children:Ot.jsx(dE,{})}));
