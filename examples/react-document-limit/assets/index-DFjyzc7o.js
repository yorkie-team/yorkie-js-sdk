(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function VA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cf={exports:{}},As={};var Ly;function xA(){if(Ly)return As;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:c}}return As.Fragment=e,As.jsx=r,As.jsxs=r,As}var My;function BA(){return My||(My=1,cf.exports=xA()),cf.exports}var Ce=BA(),ff={exports:{}},ae={};var Zy;function UA(){if(Zy)return ae;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),V=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=V&&E[V]||E["@@iterator"],typeof E=="function"?E:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function q(E,Y,W){this.props=E,this.context=Y,this.refs=j,this.updater=W||B}q.prototype.isReactComponent={},q.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Ee(){}Ee.prototype=q.prototype;function te(E,Y,W){this.props=E,this.context=Y,this.refs=j,this.updater=W||B}var he=te.prototype=new Ee;he.constructor=te,z(he,q.prototype),he.isPureReactComponent=!0;var ie=Array.isArray;function Ae(){}var J={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Nt(E,Y,W){var k=W.ref;return{$$typeof:i,type:E,key:Y,ref:k!==void 0?k:null,props:W}}function mn(E,Y){return Nt(E.type,Y,E.props)}function Yt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function at(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return Y[W]})}var ji=/\/+/g;function zn(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?at(""+E.key):Y.toString(36)}function yn(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ae,Ae):(E.status="pending",E.then(function(Y){E.status==="pending"&&(E.status="fulfilled",E.value=Y)},function(Y){E.status==="pending"&&(E.status="rejected",E.reason=Y)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function L(E,Y,W,k,se){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case i:case e:we=!0;break;case v:return we=E._init,L(we(E._payload),Y,W,k,se)}}if(we)return se=se(E),we=k===""?"."+zn(E,0):k,ie(se)?(W="",we!=null&&(W=we.replace(ji,"$&/")+"/"),L(se,Y,W,"",function(wa){return wa})):se!=null&&(Yt(se)&&(se=mn(se,W+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ji,"$&/")+"/")+we)),Y.push(se)),1;we=0;var Tt=k===""?".":k+":";if(ie(E))for(var Qe=0;Qe<E.length;Qe++)k=E[Qe],de=Tt+zn(k,Qe),we+=L(k,Y,W,de,se);else if(Qe=I(E),typeof Qe=="function")for(E=Qe.call(E),Qe=0;!(k=E.next()).done;)k=k.value,de=Tt+zn(k,Qe++),we+=L(k,Y,W,de,se);else if(de==="object"){if(typeof E.then=="function")return L(yn(E),Y,W,k,se);throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(E,Y,W){if(E==null)return E;var k=[],se=0;return L(E,k,"","",function(de){return Y.call(W,de,se++)}),k}function ne(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var Be=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ze={map:K,forEach:function(E,Y,W){K(E,function(){Y.apply(this,arguments)},W)},count:function(E){var Y=0;return K(E,function(){Y++}),Y},toArray:function(E){return K(E,function(Y){return Y})||[]},only:function(E){if(!Yt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ae.Activity=T,ae.Children=Ze,ae.Component=q,ae.Fragment=r,ae.Profiler=o,ae.PureComponent=te,ae.StrictMode=a,ae.Suspense=m,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ae.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},ae.cache=function(E){return function(){return E.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(E,Y,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var k=z({},E.props),se=E.key;if(Y!=null)for(de in Y.key!==void 0&&(se=""+Y.key),Y)!ve.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(k[de]=Y[de]);var de=arguments.length-2;if(de===1)k.children=W;else if(1<de){for(var we=Array(de),Tt=0;Tt<de;Tt++)we[Tt]=arguments[Tt+2];k.children=we}return Nt(E.type,se,k)},ae.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ae.createElement=function(E,Y,W){var k,se={},de=null;if(Y!=null)for(k in Y.key!==void 0&&(de=""+Y.key),Y)ve.call(Y,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(se[k]=Y[k]);var we=arguments.length-2;if(we===1)se.children=W;else if(1<we){for(var Tt=Array(we),Qe=0;Qe<we;Qe++)Tt[Qe]=arguments[Qe+2];se.children=Tt}if(E&&E.defaultProps)for(k in we=E.defaultProps,we)se[k]===void 0&&(se[k]=we[k]);return Nt(E,de,se)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(E){return{$$typeof:d,render:E}},ae.isValidElement=Yt,ae.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ne}},ae.memo=function(E,Y){return{$$typeof:y,type:E,compare:Y===void 0?null:Y}},ae.startTransition=function(E){var Y=J.T,W={};J.T=W;try{var k=E(),se=J.S;se!==null&&se(W,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Ae,Be)}catch(de){Be(de)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),J.T=Y}},ae.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ae.use=function(E){return J.H.use(E)},ae.useActionState=function(E,Y,W){return J.H.useActionState(E,Y,W)},ae.useCallback=function(E,Y){return J.H.useCallback(E,Y)},ae.useContext=function(E){return J.H.useContext(E)},ae.useDebugValue=function(){},ae.useDeferredValue=function(E,Y){return J.H.useDeferredValue(E,Y)},ae.useEffect=function(E,Y){return J.H.useEffect(E,Y)},ae.useEffectEvent=function(E){return J.H.useEffectEvent(E)},ae.useId=function(){return J.H.useId()},ae.useImperativeHandle=function(E,Y,W){return J.H.useImperativeHandle(E,Y,W)},ae.useInsertionEffect=function(E,Y){return J.H.useInsertionEffect(E,Y)},ae.useLayoutEffect=function(E,Y){return J.H.useLayoutEffect(E,Y)},ae.useMemo=function(E,Y){return J.H.useMemo(E,Y)},ae.useOptimistic=function(E,Y){return J.H.useOptimistic(E,Y)},ae.useReducer=function(E,Y,W){return J.H.useReducer(E,Y,W)},ae.useRef=function(E){return J.H.useRef(E)},ae.useState=function(E){return J.H.useState(E)},ae.useSyncExternalStore=function(E,Y,W){return J.H.useSyncExternalStore(E,Y,W)},ae.useTransition=function(){return J.H.useTransition()},ae.version="19.2.1",ae}var Yy;function _f(){return Yy||(Yy=1,ff.exports=UA()),ff.exports}var We=_f();const LA=VA(We);var hf={exports:{}},Es={},df={exports:{}},gf={};var zy;function MA(){return zy||(zy=1,(function(i){function e(L,K){var ne=L.length;L.push(K);e:for(;0<ne;){var Be=ne-1>>>1,Ze=L[Be];if(0<o(Ze,K))L[Be]=K,L[ne]=Ze,ne=Be;else break e}}function r(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var K=L[0],ne=L.pop();if(ne!==K){L[0]=ne;e:for(var Be=0,Ze=L.length,E=Ze>>>1;Be<E;){var Y=2*(Be+1)-1,W=L[Y],k=Y+1,se=L[k];if(0>o(W,ne))k<Ze&&0>o(se,W)?(L[Be]=se,L[k]=ne,Be=k):(L[Be]=W,L[Y]=ne,Be=Y);else if(k<Ze&&0>o(se,ne))L[Be]=se,L[k]=ne,Be=k;else break e}}return K}function o(L,K){var ne=L.sortIndex-K.sortIndex;return ne!==0?ne:L.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],y=[],v=1,T=null,V=3,I=!1,B=!1,z=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(L){for(var K=r(y);K!==null;){if(K.callback===null)a(y);else if(K.startTime<=L)a(y),K.sortIndex=K.expirationTime,e(m,K);else break;K=r(y)}}function ie(L){if(z=!1,he(L),!B)if(r(m)!==null)B=!0,Ae||(Ae=!0,at());else{var K=r(y);K!==null&&yn(ie,K.startTime-L)}}var Ae=!1,J=-1,ve=5,Nt=-1;function mn(){return j?!0:!(i.unstable_now()-Nt<ve)}function Yt(){if(j=!1,Ae){var L=i.unstable_now();Nt=L;var K=!0;try{e:{B=!1,z&&(z=!1,Ee(J),J=-1),I=!0;var ne=V;try{t:{for(he(L),T=r(m);T!==null&&!(T.expirationTime>L&&mn());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,V=T.priorityLevel;var Ze=Be(T.expirationTime<=L);if(L=i.unstable_now(),typeof Ze=="function"){T.callback=Ze,he(L),K=!0;break t}T===r(m)&&a(m),he(L)}else a(m);T=r(m)}if(T!==null)K=!0;else{var E=r(y);E!==null&&yn(ie,E.startTime-L),K=!1}}break e}finally{T=null,V=ne,I=!1}K=void 0}}finally{K?at():Ae=!1}}}var at;if(typeof te=="function")at=function(){te(Yt)};else if(typeof MessageChannel<"u"){var ji=new MessageChannel,zn=ji.port2;ji.port1.onmessage=Yt,at=function(){zn.postMessage(null)}}else at=function(){q(Yt,0)};function yn(L,K){J=q(function(){L(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(L){switch(V){case 1:case 2:case 3:var K=3;break;default:K=V}var ne=V;V=K;try{return L()}finally{V=ne}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=V;V=L;try{return K()}finally{V=ne}},i.unstable_scheduleCallback=function(L,K,ne){var Be=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Be+ne:Be):ne=Be,L){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ne+Ze,L={id:v++,callback:K,priorityLevel:L,startTime:ne,expirationTime:Ze,sortIndex:-1},ne>Be?(L.sortIndex=ne,e(y,L),r(m)===null&&L===r(y)&&(z?(Ee(J),J=-1):z=!0,yn(ie,ne-Be))):(L.sortIndex=Ze,e(m,L),B||I||(B=!0,Ae||(Ae=!0,at()))),L},i.unstable_shouldYield=mn,i.unstable_wrapCallback=function(L){var K=V;return function(){var ne=V;V=K;try{return L.apply(this,arguments)}finally{V=ne}}}})(gf)),gf}var Gy;function ZA(){return Gy||(Gy=1,df.exports=MA()),df.exports}var mf={exports:{}},bt={};var _y;function YA(){if(_y)return bt;_y=1;var i=_f();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bt.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,v)},bt.flushSync=function(m){var y=h.T,v=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=y,a.p=v,a.d.f()}},bt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(m,y))},bt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},bt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,T=d(v,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?a.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:V,fetchPriority:I}):v==="script"&&a.d.X(m,{crossOrigin:T,integrity:V,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},bt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(m)},bt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=d(v,y.crossOrigin);a.d.L(m,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},bt.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=d(y.as,y.crossOrigin);a.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(m)},bt.requestFormReset=function(m){a.d.r(m)},bt.unstable_batchedUpdates=function(m,y){return m(y)},bt.useFormState=function(m,y,v){return h.H.useFormState(m,y,v)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var Ky;function zA(){if(Ky)return mf.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=YA(),mf.exports}var Wy;function GA(){if(Wy)return Es;Wy=1;var i=ZA(),e=_f(),r=zA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return m(u),t;if(f===l)return m(u),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=u,l=f;else{for(var g=!1,p=u.child;p;){if(p===s){g=!0,s=u,l=f;break}if(p===l){g=!0,l=u,s=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===s){g=!0,s=f,l=u;break}if(p===l){g=!0,l=f,s=u;break}p=p.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,V=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Nt=Symbol.for("react.activity"),mn=Symbol.for("react.memo_cache_sentinel"),Yt=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=Yt&&t[Yt]||t["@@iterator"],typeof t=="function"?t:null)}var ji=Symbol.for("react.client.reference");function zn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ji?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case q:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case Ae:return"SuspenseList";case Nt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case te:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:zn(t.type)||"Memo";case ve:n=t._payload,t=t._init;try{return zn(t(n))}catch{}}return null}var yn=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function E(t){return{current:t}}function Y(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function W(t,n){Ze++,Be[Ze]=t.current,t.current=n}var k=E(null),se=E(null),de=E(null),we=E(null);function Tt(t,n){switch(W(de,n),W(se,t),W(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ry(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(k),W(k,t)}function Qe(){Y(k),Y(se),Y(de)}function wa(t){t.memoizedState!==null&&W(we,t);var n=k.current,s=ay(n,t.type);n!==s&&(W(se,t),W(k,s))}function Qs(t){se.current===t&&(Y(k),Y(se)),we.current===t&&(Y(we),ps._currentValue=ne)}var Jo,Uh;function Fi(t){if(Jo===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jo=n&&n[1]||"",Uh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jo+t+Uh}var ko=!1;function jo(t,n){if(!t||ko)return"";ko=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(x){var O=x}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(x){O=x}t.call(Z.prototype)}}else{try{throw Error()}catch(x){O=x}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(x){if(x&&O&&typeof x.stack=="string")return[x.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var b=g.split(`
`),D=p.split(`
`);for(u=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;if(l===b.length||u===D.length)for(l=b.length-1,u=D.length-1;1<=l&&0<=u&&b[l]!==D[u];)u--;for(;1<=l&&0<=u;l--,u--)if(b[l]!==D[u]){if(l!==1||u!==1)do if(l--,u--,0>u||b[l]!==D[u]){var U=`
`+b[l].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=l&&0<=u);break}}}finally{ko=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fi(s):""}function o0(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return jo(t.type,!1);case 11:return jo(t.type.render,!1);case 1:return jo(t.type,!0);case 31:return Fi("Activity");default:return""}}function Lh(t){try{var n="",s=null;do n+=o0(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,Ho=i.unstable_scheduleCallback,Qo=i.unstable_cancelCallback,u0=i.unstable_shouldYield,c0=i.unstable_requestPaint,zt=i.unstable_now,f0=i.unstable_getCurrentPriorityLevel,Mh=i.unstable_ImmediatePriority,Zh=i.unstable_UserBlockingPriority,Ps=i.unstable_NormalPriority,h0=i.unstable_LowPriority,Yh=i.unstable_IdlePriority,d0=i.log,g0=i.unstable_setDisableYieldValue,Da=null,Gt=null;function hi(t){if(typeof d0=="function"&&g0(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Da,t)}catch{}}var _t=Math.clz32?Math.clz32:p0,m0=Math.log,y0=Math.LN2;function p0(t){return t>>>=0,t===0?32:31-(m0(t)/y0|0)|0}var $s=256,qs=262144,el=4194304;function Hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=Hi(l):(g&=p,g!==0?u=Hi(g):s||(s=p&~t,s!==0&&(u=Hi(s))))):(p=l&~f,p!==0?u=Hi(p):g!==0?u=Hi(g):s||(s=l&~t,s!==0&&(u=Hi(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function Oa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function b0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function Po(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Va(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function v0(t,n,s,l,u,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var p=t.entanglements,b=t.expirationTimes,D=t.hiddenUpdates;for(s=g&~s;0<s;){var U=31-_t(s),Z=1<<U;p[U]=0,b[U]=-1;var O=D[U];if(O!==null)for(D[U]=null,U=0;U<O.length;U++){var x=O[U];x!==null&&(x.lane&=-536870913)}s&=~Z}l!==0&&Gh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Gh(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function _h(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-_t(s),u=1<<l;u&n|t[l]&n&&(t[l]|=n),s&=~u}}function Kh(t,n){var s=n&-n;return s=(s&42)!==0?1:$o(s),(s&(t.suspendedLanes|n))!==0?0:s}function $o(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wh(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:wy(t.type))}function Xh(t,n){var s=K.p;try{return K.p=t,n()}finally{K.p=s}}var di=Math.random().toString(36).slice(2),ct="__reactFiber$"+di,It="__reactProps$"+di,Er="__reactContainer$"+di,eu="__reactEvents$"+di,S0="__reactListeners$"+di,A0="__reactHandles$"+di,Jh="__reactResources$"+di,xa="__reactMarker$"+di;function tu(t){delete t[ct],delete t[It],delete t[eu],delete t[S0],delete t[A0]}function Nr(t){var n=t[ct];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Er]||s[ct]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=hy(t);t!==null;){if(s=t[ct])return s;t=hy(t)}return n}t=s,s=t.parentNode}return null}function Tr(t){if(t=t[ct]||t[Er]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ba(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Rr(t){var n=t[Jh];return n||(n=t[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[xa]=!0}var kh=new Set,jh={};function Qi(t,n){Ir(t,n),Ir(t+"Capture",n)}function Ir(t,n){for(jh[t]=n,t=0;t<n.length;t++)kh.add(n[t])}var E0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},Hh={};function N0(t){return Fo.call(Hh,t)?!0:Fo.call(Fh,t)?!1:E0.test(t)?Hh[t]=!0:(Fh[t]=!0,!1)}function nl(t,n,s){if(N0(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function il(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Gn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function T0(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nu(t){if(!t._valueTracker){var n=Qh(t)?"checked":"value";t._valueTracker=T0(t,n,""+t[n])}}function Ph(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Qh(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var R0=/[\n"\\]/g;function $t(t){return t.replace(R0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(t,n,s,l,u,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ru(t,g,Pt(n)):s!=null?ru(t,g,Pt(s)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Pt(p):t.removeAttribute("name")}function $h(t,n,s,l,u,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nu(t);return}s=s!=null?""+Pt(s):"",n=n!=null?""+Pt(n):s,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nu(t)}function ru(t,n,s){n==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Cr(t,n,s,l){if(t=t.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=n.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Pt(s),n=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function qh(t,n,s){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Pt(s):""}function ed(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(yn(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Pt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),nu(t)}function wr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var I0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||I0.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function nd(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&td(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&td(t,f,n[f])}function au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return w0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _n(){}var su=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,Or=null;function id(t){var n=Tr(t);if(n&&(t=n.stateNode)){var s=t[It]||null;e:switch(t=n.stateNode,n.type){case"input":if(iu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var u=l[It]||null;if(!u)throw Error(a(90));iu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ph(l)}break e;case"textarea":qh(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cr(t,!!s.multiple,n,!1)}}}var ou=!1;function rd(t,n,s){if(ou)return t(n,s);ou=!0;try{var l=t(n);return l}finally{if(ou=!1,(Dr!==null||Or!==null)&&(kl(),Dr&&(n=Dr,t=Or,Or=Dr=null,id(n),t)))for(n=0;n<t.length;n++)id(t[n])}}function Ua(t,n){var s=t.stateNode;if(s===null)return null;var l=s[It]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Kn)try{var La={};Object.defineProperty(La,"passive",{get:function(){uu=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{uu=!1}var gi=null,cu=null,sl=null;function ad(){if(sl)return sl;var t,n=cu,s=n.length,l,u="value"in gi?gi.value:gi.textContent,f=u.length;for(t=0;t<s&&n[t]===u[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===u[f-l];l++);return sl=u.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function sd(){return!1}function Ct(t){function n(s,l,u,f,g){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(s=t[p],this[p]=s?s(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ol:sd,this.isPropagationStopped=sd,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ct(Pi),Ma=T({},Pi,{view:0,detail:0}),D0=Ct(Ma),fu,hu,Za,cl=T({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(fu=t.screenX-Za.screenX,hu=t.screenY-Za.screenY):hu=fu=0,Za=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),ld=Ct(cl),O0=T({},cl,{dataTransfer:0}),V0=Ct(O0),x0=T({},Ma,{relatedTarget:0}),du=Ct(x0),B0=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=Ct(B0),L0=T({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M0=Ct(L0),Z0=T({},Pi,{data:0}),od=Ct(Z0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=G0[t])?!!n[t]:!1}function gu(){return _0}var K0=T({},Ma,{key:function(t){if(t.key){var n=Y0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W0=Ct(K0),X0=T({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Ct(X0),J0=T({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),k0=Ct(J0),j0=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=Ct(j0),H0=T({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=Ct(H0),P0=T({},Pi,{newState:0,oldState:0}),$0=Ct(P0),q0=[9,13,27,32],mu=Kn&&"CompositionEvent"in window,Ya=null;Kn&&"documentMode"in document&&(Ya=document.documentMode);var eS=Kn&&"TextEvent"in window&&!Ya,cd=Kn&&(!mu||Ya&&8<Ya&&11>=Ya),fd=" ",hd=!1;function dd(t,n){switch(t){case"keyup":return q0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function tS(t,n){switch(t){case"compositionend":return gd(n);case"keypress":return n.which!==32?null:(hd=!0,fd);case"textInput":return t=n.data,t===fd&&hd?null:t;default:return null}}function nS(t,n){if(Vr)return t==="compositionend"||!mu&&dd(t,n)?(t=ad(),sl=cu=gi=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cd&&n.locale!=="ko"?null:n.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!iS[t.type]:n==="textarea"}function yd(t,n,s,l){Dr?Or?Or.push(l):Or=[l]:Dr=l,n=ql(n,"onChange"),0<n.length&&(s=new ul("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var za=null,Ga=null;function rS(t){$m(t,0)}function fl(t){var n=Ba(t);if(Ph(n))return t}function pd(t,n){if(t==="change")return n}var bd=!1;if(Kn){var yu;if(Kn){var pu="oninput"in document;if(!pu){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),pu=typeof vd.oninput=="function"}yu=pu}else yu=!1;bd=yu&&(!document.documentMode||9<document.documentMode)}function Sd(){za&&(za.detachEvent("onpropertychange",Ad),Ga=za=null)}function Ad(t){if(t.propertyName==="value"&&fl(Ga)){var n=[];yd(n,Ga,t,lu(t)),rd(rS,n)}}function aS(t,n,s){t==="focusin"?(Sd(),za=n,Ga=s,za.attachEvent("onpropertychange",Ad)):t==="focusout"&&Sd()}function sS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(Ga)}function lS(t,n){if(t==="click")return fl(n)}function oS(t,n){if(t==="input"||t==="change")return fl(n)}function uS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kt=typeof Object.is=="function"?Object.is:uS;function _a(t,n){if(Kt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Fo.call(n,u)||!Kt(t[u],n[u]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,n){var s=Ed(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ed(s)}}function Td(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Td(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=rl(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cS=Kn&&"documentMode"in document&&11>=document.documentMode,xr=null,vu=null,Ka=null,Su=!1;function Id(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||xr==null||xr!==rl(l)||(l=xr,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ka&&_a(Ka,l)||(Ka=l,l=ql(vu,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=xr)))}function $i(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Br={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Au={},Cd={};Kn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function qi(t){if(Au[t])return Au[t];if(!Br[t])return t;var n=Br[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cd)return Au[t]=n[s];return t}var wd=qi("animationend"),Dd=qi("animationiteration"),Od=qi("animationstart"),fS=qi("transitionrun"),hS=qi("transitionstart"),dS=qi("transitioncancel"),Vd=qi("transitionend"),xd=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function pn(t,n){xd.set(t,n),Qi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qt=[],Ur=0,Nu=0;function dl(){for(var t=Ur,n=Nu=Ur=0;n<t;){var s=qt[n];qt[n++]=null;var l=qt[n];qt[n++]=null;var u=qt[n];qt[n++]=null;var f=qt[n];if(qt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Bd(s,u,f)}}function gl(t,n,s,l){qt[Ur++]=t,qt[Ur++]=n,qt[Ur++]=s,qt[Ur++]=l,Nu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tu(t,n,s,l){return gl(t,n,s,l),ml(t)}function er(t,n){return gl(t,null,null,n),ml(t)}function Bd(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-_t(s),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function ml(t){if(50<cs)throw cs=0,Bc=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Lr={};function gS(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,n,s,l){return new gS(t,n,s,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wn(t,n){var s=t.alternate;return s===null?(s=Wt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ud(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,s,l,u,f){var g=0;if(l=t,typeof t=="function")Ru(t)&&(g=1);else if(typeof t=="string")g=vA(t,s,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Nt:return t=Wt(31,s,n,u),t.elementType=Nt,t.lanes=f,t;case z:return tr(s.children,u,f,n);case j:g=8,u|=24;break;case q:return t=Wt(12,s,n,u|2),t.elementType=q,t.lanes=f,t;case ie:return t=Wt(13,s,n,u),t.elementType=ie,t.lanes=f,t;case Ae:return t=Wt(19,s,n,u),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:g=10;break e;case Ee:g=9;break e;case he:g=11;break e;case J:g=14;break e;case ve:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Wt(g,s,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function tr(t,n,s,l){return t=Wt(7,t,l,n),t.lanes=s,t}function Iu(t,n,s){return t=Wt(6,t,null,n),t.lanes=s,t}function Ld(t){var n=Wt(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,s){return n=Wt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Md=new WeakMap;function en(t,n){if(typeof t=="object"&&t!==null){var s=Md.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Lh(n)},Md.set(t,n),n)}return{value:t,source:n,stack:Lh(n)}}var Mr=[],Zr=0,pl=null,Wa=0,tn=[],nn=0,mi=null,wn=1,Dn="";function Xn(t,n){Mr[Zr++]=Wa,Mr[Zr++]=pl,pl=t,Wa=n}function Zd(t,n,s){tn[nn++]=wn,tn[nn++]=Dn,tn[nn++]=mi,mi=t;var l=wn;t=Dn;var u=32-_t(l)-1;l&=~(1<<u),s+=1;var f=32-_t(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,wn=1<<32-_t(n)+u|s<<u|l,Dn=f+t}else wn=1<<f|s<<u|l,Dn=t}function wu(t){t.return!==null&&(Xn(t,1),Zd(t,1,0))}function Du(t){for(;t===pl;)pl=Mr[--Zr],Mr[Zr]=null,Wa=Mr[--Zr],Mr[Zr]=null;for(;t===mi;)mi=tn[--nn],tn[nn]=null,Dn=tn[--nn],tn[nn]=null,wn=tn[--nn],tn[nn]=null}function Yd(t,n){tn[nn++]=wn,tn[nn++]=Dn,tn[nn++]=mi,wn=n.id,Dn=n.overflow,mi=t}var ft=null,Ge=null,Se=!1,yi=null,rn=!1,Ou=Error(a(519));function pi(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xa(en(n,t)),Ou}function zd(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ct]=t,n[It]=l,s){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<hs.length;s++)me(hs[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),$h(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),ed(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ny(n.textContent,s)?(l.popover!=null&&(me("beforetoggle",n),me("toggle",n)),l.onScroll!=null&&me("scroll",n),l.onScrollEnd!=null&&me("scrollend",n),l.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||pi(t,!0)}function Gd(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:ft=ft.return}}function Yr(t){if(t!==ft)return!1;if(!Se)return Gd(t),Se=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Fc(t.type,t.memoizedProps)),s=!s),s&&Ge&&pi(t),Gd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ge=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ge=fy(t)}else n===27?(n=Ge,Vi(t.type)?(t=qc,qc=null,Ge=t):Ge=n):Ge=ft?sn(t.stateNode.nextSibling):null;return!0}function nr(){Ge=ft=null,Se=!1}function Vu(){var t=yi;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),yi=null),t}function Xa(t){yi===null?yi=[t]:yi.push(t)}var xu=E(null),ir=null,Jn=null;function bi(t,n,s){W(xu,n._currentValue),n._currentValue=s}function kn(t){t._currentValue=xu.current,Y(xu)}function Bu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Uu(t,n,s,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var b=0;b<n.length;b++)if(p.context===n[b]){f.lanes|=s,p=f.alternate,p!==null&&(p.lanes|=s),Bu(f.return,s,t),l||(g=null);break e}f=p.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bu(g,s,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function zr(t,n,s,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var p=u.type;Kt(u.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(u===we.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ps):t=[ps])}u=u.return}t!==null&&Uu(n,t,s,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ir=t,Jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return _d(ir,t)}function vl(t,n){return ir===null&&rr(t),_d(t,n)}function _d(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Jn===null){if(t===null)throw Error(a(308));Jn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jn=Jn.next=n;return s}var mS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},yS=i.unstable_scheduleCallback,pS=i.unstable_NormalPriority,tt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new mS,data:new Map,refCount:0}}function Ja(t){t.refCount--,t.refCount===0&&yS(pS,function(){t.controller.abort()})}var ka=null,Mu=0,Gr=0,_r=null;function bS(t,n){if(ka===null){var s=ka=[];Mu=0,Gr=zc(),_r={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mu++,n.then(Kd,Kd),n}function Kd(){if(--Mu===0&&ka!==null){_r!==null&&(_r.status="fulfilled");var t=ka;ka=null,Gr=0,_r=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vS(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var Wd=L.S;L.S=function(t,n){Im=zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bS(t,n),Wd!==null&&Wd(t,n)};var ar=E(null);function Zu(){var t=ar.current;return t!==null?t:Ye.pooledCache}function Sl(t,n){n===null?W(ar,ar.current):W(ar,n.pool)}function Xd(){var t=Zu();return t===null?null:{parent:tt._currentValue,pool:t}}var Kr=Error(a(460)),Yu=Error(a(474)),Al=Error(a(542)),El={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(_n,_n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(_n,_n);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw lr=n,Kr}}function sr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(lr=s,Kr):s}}var lr=null;function jd(){if(lr===null)throw Error(a(459));var t=lr;return lr=null,t}function Fd(t){if(t===Kr||t===Al)throw Error(a(483))}var Wr=null,ja=0;function Nl(t){var n=ja;return ja+=1,Wr===null&&(Wr=[]),kd(Wr,t,n)}function Fa(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hd(t){function n(R,S){if(t){var w=R.deletions;w===null?(R.deletions=[S],R.flags|=16):w.push(S)}}function s(R,S){if(!t)return null;for(;S!==null;)n(R,S),S=S.sibling;return null}function l(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function u(R,S){return R=Wn(R,S),R.index=0,R.sibling=null,R}function f(R,S,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<S?(R.flags|=67108866,S):w):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,S,w,M){return S===null||S.tag!==6?(S=Iu(w,R.mode,M),S.return=R,S):(S=u(S,w),S.return=R,S)}function b(R,S,w,M){var P=w.type;return P===z?U(R,S,w.props.children,M,w.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ve&&sr(P)===S.type)?(S=u(S,w.props),Fa(S,w),S.return=R,S):(S=yl(w.type,w.key,w.props,null,R.mode,M),Fa(S,w),S.return=R,S)}function D(R,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Cu(w,R.mode,M),S.return=R,S):(S=u(S,w.children||[]),S.return=R,S)}function U(R,S,w,M,P){return S===null||S.tag!==7?(S=tr(w,R.mode,M,P),S.return=R,S):(S=u(S,w),S.return=R,S)}function Z(R,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Iu(""+S,R.mode,w),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case I:return w=yl(S.type,S.key,S.props,null,R.mode,w),Fa(w,S),w.return=R,w;case B:return S=Cu(S,R.mode,w),S.return=R,S;case ve:return S=sr(S),Z(R,S,w)}if(yn(S)||at(S))return S=tr(S,R.mode,w,null),S.return=R,S;if(typeof S.then=="function")return Z(R,Nl(S),w);if(S.$$typeof===te)return Z(R,vl(R,S),w);Tl(R,S)}return null}function O(R,S,w,M){var P=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return P!==null?null:p(R,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case I:return w.key===P?b(R,S,w,M):null;case B:return w.key===P?D(R,S,w,M):null;case ve:return w=sr(w),O(R,S,w,M)}if(yn(w)||at(w))return P!==null?null:U(R,S,w,M,null);if(typeof w.then=="function")return O(R,S,Nl(w),M);if(w.$$typeof===te)return O(R,S,vl(R,w),M);Tl(R,w)}return null}function x(R,S,w,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return R=R.get(w)||null,p(S,R,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return R=R.get(M.key===null?w:M.key)||null,b(S,R,M,P);case B:return R=R.get(M.key===null?w:M.key)||null,D(S,R,M,P);case ve:return M=sr(M),x(R,S,w,M,P)}if(yn(M)||at(M))return R=R.get(w)||null,U(S,R,M,P,null);if(typeof M.then=="function")return x(R,S,w,Nl(M),P);if(M.$$typeof===te)return x(R,S,w,vl(S,M),P);Tl(S,M)}return null}function X(R,S,w,M){for(var P=null,Te=null,F=S,oe=S=0,be=null;F!==null&&oe<w.length;oe++){F.index>oe?(be=F,F=null):be=F.sibling;var Re=O(R,F,w[oe],M);if(Re===null){F===null&&(F=be);break}t&&F&&Re.alternate===null&&n(R,F),S=f(Re,S,oe),Te===null?P=Re:Te.sibling=Re,Te=Re,F=be}if(oe===w.length)return s(R,F),Se&&Xn(R,oe),P;if(F===null){for(;oe<w.length;oe++)F=Z(R,w[oe],M),F!==null&&(S=f(F,S,oe),Te===null?P=F:Te.sibling=F,Te=F);return Se&&Xn(R,oe),P}for(F=l(F);oe<w.length;oe++)be=x(F,R,oe,w[oe],M),be!==null&&(t&&be.alternate!==null&&F.delete(be.key===null?oe:be.key),S=f(be,S,oe),Te===null?P=be:Te.sibling=be,Te=be);return t&&F.forEach(function(Mi){return n(R,Mi)}),Se&&Xn(R,oe),P}function ee(R,S,w,M){if(w==null)throw Error(a(151));for(var P=null,Te=null,F=S,oe=S=0,be=null,Re=w.next();F!==null&&!Re.done;oe++,Re=w.next()){F.index>oe?(be=F,F=null):be=F.sibling;var Mi=O(R,F,Re.value,M);if(Mi===null){F===null&&(F=be);break}t&&F&&Mi.alternate===null&&n(R,F),S=f(Mi,S,oe),Te===null?P=Mi:Te.sibling=Mi,Te=Mi,F=be}if(Re.done)return s(R,F),Se&&Xn(R,oe),P;if(F===null){for(;!Re.done;oe++,Re=w.next())Re=Z(R,Re.value,M),Re!==null&&(S=f(Re,S,oe),Te===null?P=Re:Te.sibling=Re,Te=Re);return Se&&Xn(R,oe),P}for(F=l(F);!Re.done;oe++,Re=w.next())Re=x(F,R,oe,Re.value,M),Re!==null&&(t&&Re.alternate!==null&&F.delete(Re.key===null?oe:Re.key),S=f(Re,S,oe),Te===null?P=Re:Te.sibling=Re,Te=Re);return t&&F.forEach(function(OA){return n(R,OA)}),Se&&Xn(R,oe),P}function Me(R,S,w,M){if(typeof w=="object"&&w!==null&&w.type===z&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case I:e:{for(var P=w.key;S!==null;){if(S.key===P){if(P=w.type,P===z){if(S.tag===7){s(R,S.sibling),M=u(S,w.props.children),M.return=R,R=M;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ve&&sr(P)===S.type){s(R,S.sibling),M=u(S,w.props),Fa(M,w),M.return=R,R=M;break e}s(R,S);break}else n(R,S);S=S.sibling}w.type===z?(M=tr(w.props.children,R.mode,M,w.key),M.return=R,R=M):(M=yl(w.type,w.key,w.props,null,R.mode,M),Fa(M,w),M.return=R,R=M)}return g(R);case B:e:{for(P=w.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){s(R,S.sibling),M=u(S,w.children||[]),M.return=R,R=M;break e}else{s(R,S);break}else n(R,S);S=S.sibling}M=Cu(w,R.mode,M),M.return=R,R=M}return g(R);case ve:return w=sr(w),Me(R,S,w,M)}if(yn(w))return X(R,S,w,M);if(at(w)){if(P=at(w),typeof P!="function")throw Error(a(150));return w=P.call(w),ee(R,S,w,M)}if(typeof w.then=="function")return Me(R,S,Nl(w),M);if(w.$$typeof===te)return Me(R,S,vl(R,w),M);Tl(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(s(R,S.sibling),M=u(S,w),M.return=R,R=M):(s(R,S),M=Iu(w,R.mode,M),M.return=R,R=M),g(R)):s(R,S)}return function(R,S,w,M){try{ja=0;var P=Me(R,S,w,M);return Wr=null,P}catch(F){if(F===Kr||F===Al)throw F;var Te=Wt(29,F,null,R.mode);return Te.lanes=M,Te.return=R,Te}finally{}}}var or=Hd(!0),Qd=Hd(!1),vi=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ml(t),Bd(t,null,s),n}return gl(t,l,n,s),ml(t)}function Ha(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,_h(t,s)}}function _u(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Ku=!1;function Qa(){if(Ku){var t=_r;if(t!==null)throw t}}function Pa(t,n,s,l){Ku=!1;var u=t.updateQueue;vi=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,D=b.next;b.next=null,g===null?f=D:g.next=D,g=b;var U=t.alternate;U!==null&&(U=U.updateQueue,p=U.lastBaseUpdate,p!==g&&(p===null?U.firstBaseUpdate=D:p.next=D,U.lastBaseUpdate=b))}if(f!==null){var Z=u.baseState;g=0,U=D=b=null,p=f;do{var O=p.lane&-536870913,x=O!==p.lane;if(x?(pe&O)===O:(l&O)===O){O!==0&&O===Gr&&(Ku=!0),U!==null&&(U=U.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var X=t,ee=p;O=n;var Me=s;switch(ee.tag){case 1:if(X=ee.payload,typeof X=="function"){Z=X.call(Me,Z,O);break e}Z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,O=typeof X=="function"?X.call(Me,Z,O):X,O==null)break e;Z=T({},Z,O);break e;case 2:vi=!0}}O=p.callback,O!==null&&(t.flags|=64,x&&(t.flags|=8192),x=u.callbacks,x===null?u.callbacks=[O]:x.push(O))}else x={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},U===null?(D=U=x,b=Z):U=U.next=x,g|=O;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;x=p,p=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);U===null&&(b=Z),u.baseState=b,u.firstBaseUpdate=D,u.lastBaseUpdate=U,f===null&&(u.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=Z}}function Pd(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $d(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Pd(s[t],n)}var Xr=E(null),Rl=E(0);function qd(t,n){t=ti,W(Rl,t),W(Xr,n),ti=t|n.baseLanes}function Wu(){W(Rl,ti),W(Xr,Xr.current)}function Xu(){ti=Rl.current,Y(Xr),Y(Rl)}var Xt=E(null),an=null;function Ei(t){var n=t.alternate;W(Pe,Pe.current&1),W(Xt,t),an===null&&(n===null||Xr.current!==null||n.memoizedState!==null)&&(an=t)}function Ju(t){W(Pe,Pe.current),W(Xt,t),an===null&&(an=t)}function eg(t){t.tag===22?(W(Pe,Pe.current),W(Xt,t),an===null&&(an=t)):Ni()}function Ni(){W(Pe,Pe.current),W(Xt,Xt.current)}function Jt(t){Y(Xt),an===t&&(an=null),Y(Pe)}var Pe=E(0);function Il(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Pc(s)||$c(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jn=0,le=null,Ue=null,nt=null,Cl=!1,Jr=!1,ur=!1,wl=0,$a=0,kr=null,SS=0;function Fe(){throw Error(a(321))}function ku(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Kt(t[s],n[s]))return!1;return!0}function ju(t,n,s,l,u,f){return jn=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Zg:oc,ur=!1,f=s(l,u),ur=!1,Jr&&(f=ng(n,s,l,u)),tg(t),f}function tg(t){L.H=ts;var n=Ue!==null&&Ue.next!==null;if(jn=0,nt=Ue=le=null,Cl=!1,$a=0,kr=null,n)throw Error(a(300));t===null||it||(t=t.dependencies,t!==null&&bl(t)&&(it=!0))}function ng(t,n,s,l){le=t;var u=0;do{if(Jr&&(kr=null),$a=0,Jr=!1,25<=u)throw Error(a(301));if(u+=1,nt=Ue=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Yg,f=n(s,l)}while(Jr);return f}function AS(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?qa(n):n,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(le.flags|=1024),n}function Fu(){var t=wl!==0;return wl=0,t}function Hu(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Qu(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}jn=0,nt=Ue=le=null,Jr=!1,$a=wl=0,kr=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?le.memoizedState=nt=t:nt=nt.next=t,nt}function $e(){if(Ue===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var n=nt===null?le.memoizedState:nt.next;if(n!==null)nt=n,Ue=t;else{if(t===null)throw le.alternate===null?Error(a(467)):Error(a(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},nt===null?le.memoizedState=nt=t:nt=nt.next=t}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(t){var n=$a;return $a+=1,kr===null&&(kr=[]),t=kd(kr,t,n),n=le,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Zg:oc),t}function Ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qa(t);if(t.$$typeof===te)return ht(t)}throw Error(a(438,String(t)))}function Pu(t){var n=null,s=le.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dl(),le.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=mn;return n.index++,s}function Fn(t,n){return typeof n=="function"?n(t):n}function Vl(t){var n=$e();return $u(n,Ue,t)}function $u(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=g=null,b=null,D=n,U=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(pe&Z)===Z:(jn&Z)===Z){var O=D.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===Gr&&(U=!0);else if((jn&O)===O){D=D.next,O===Gr&&(U=!0);continue}else Z={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=Z,g=f):b=b.next=Z,le.lanes|=O,Ii|=O;Z=D.action,ur&&s(f,Z),f=D.hasEagerState?D.eagerState:s(f,Z)}else O={lane:Z,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=O,g=f):b=b.next=O,le.lanes|=Z,Ii|=Z;D=D.next}while(D!==null&&D!==n);if(b===null?g=f:b.next=p,!Kt(f,t.memoizedState)&&(it=!0,U&&(s=_r,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=b,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qu(t){var n=$e(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Kt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ig(t,n,s){var l=le,u=$e(),f=Se;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Kt((Ue||u).memoizedState,s);if(g&&(u.memoizedState=s,it=!0),u=u.queue,nc(sg.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,jr(9,{destroy:void 0},ag.bind(null,l,u,s,n),null),Ye===null)throw Error(a(349));f||(jn&127)!==0||rg(l,n,s)}return s}function rg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=le.updateQueue,n===null?(n=Dl(),le.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ag(t,n,s,l){n.value=s,n.getSnapshot=l,lg(n)&&og(t)}function sg(t,n,s){return s(function(){lg(n)&&og(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Kt(t,s)}catch{return!0}}function og(t){var n=er(t,2);n!==null&&xt(n,t,2)}function ec(t){var n=Rt();if(typeof t=="function"){var s=t;if(t=s(),ur){hi(!0);try{s()}finally{hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},n}function ug(t,n,s,l){return t.baseState=s,$u(t,Ue,typeof l=="function"?l:Fn)}function ES(t,n,s,l,u){if(Ul(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cg(t,n){var s=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var p=s(u,l),b=L.S;b!==null&&b(g,p),fg(t,n,p)}catch(D){tc(t,n,D)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=s(u,l),fg(t,n,f)}catch(D){tc(t,n,D)}}function fg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hg(t,n,l)},function(l){return tc(t,n,l)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,dg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,cg(t,s)))}function tc(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,dg(n),n=n.next;while(n!==l)}t.action=null}function dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function mg(t,n){if(Se){var s=Ye.formState;if(s!==null){e:{var l=le;if(Se){if(Ge){t:{for(var u=Ge,f=rn;u.nodeType!==8;){if(!f){u=null;break t}if(u=sn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ge=sn(u.nextSibling),l=u.data==="F!";break e}}pi(l)}l=!1}l&&(n=s[0])}}return s=Rt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=l,s=Ug.bind(null,le,l),l.dispatch=s,l=ec(!1),f=lc.bind(null,le,!1,l.queue),l=Rt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,s=ES.bind(null,le,u,f,s),u.dispatch=s,l.memoizedState=t,[n,s,!1]}function yg(t){var n=$e();return pg(n,Ue,t)}function pg(t,n,s){if(n=$u(t,n,gg)[0],t=Vl(Fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=qa(n)}catch(g){throw g===Kr?Al:g}else l=n;n=$e();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(le.flags|=2048,jr(9,{destroy:void 0},NS.bind(null,u,s),null)),[l,f,t]}function NS(t,n){t.action=n}function bg(t){var n=$e(),s=Ue;if(s!==null)return pg(n,s,t);$e(),n=n.memoizedState,s=$e();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function jr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Dl(),le.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function vg(){return $e().memoizedState}function xl(t,n,s,l){var u=Rt();le.flags|=t,u.memoizedState=jr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bl(t,n,s,l){var u=$e();l=l===void 0?null:l;var f=u.memoizedState.inst;Ue!==null&&l!==null&&ku(l,Ue.memoizedState.deps)?u.memoizedState=jr(n,f,s,l):(le.flags|=t,u.memoizedState=jr(1|n,f,s,l))}function Sg(t,n){xl(8390656,8,t,n)}function nc(t,n){Bl(2048,8,t,n)}function TS(t){le.flags|=4;var n=le.updateQueue;if(n===null)n=Dl(),le.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Ag(t){var n=$e().memoizedState;return TS({ref:n,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return Bl(4,2,t,n)}function Ng(t,n){return Bl(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,s){s=s!=null?s.concat([t]):null,Bl(4,4,Tg.bind(null,n,t),s)}function ic(){}function Ig(t,n){var s=$e();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Cg(t,n){var s=$e();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=t(),ur){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l}function rc(t,n,s){return s===void 0||(jn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=wm(),le.lanes|=t,Ii|=t,s)}function wg(t,n,s,l){return Kt(s,n)?s:Xr.current!==null?(t=rc(t,s,l),Kt(t,n)||(it=!0),t):(jn&42)===0||(jn&1073741824)!==0&&(pe&261930)===0?(it=!0,t.memoizedState=s):(t=wm(),le.lanes|=t,Ii|=t,n)}function Dg(t,n,s,l,u){var f=K.p;K.p=f!==0&&8>f?f:8;var g=L.T,p={};L.T=p,lc(t,!1,n,s);try{var b=u(),D=L.S;if(D!==null&&D(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=vS(b,l);es(t,n,U,Ft(t))}else es(t,n,l,Ft(t))}catch(Z){es(t,n,{then:function(){},status:"rejected",reason:Z},Ft())}finally{K.p=f,g!==null&&p.types!==null&&(g.types=p.types),L.T=g}}function RS(){}function ac(t,n,s,l){if(t.tag!==5)throw Error(a(476));var u=Og(t).queue;Dg(t,u,n,ne,s===null?RS:function(){return Vg(t),s(l)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ne},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),es(t,n.next.queue,{},Ft())}function sc(){return ht(ps)}function xg(){return $e().memoizedState}function Bg(){return $e().memoizedState}function IS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ft();t=Si(s);var l=Ai(n,t,s);l!==null&&(xt(l,n,s),Ha(l,n,s)),n={cache:Lu()},t.payload=n;return}n=n.return}}function CS(t,n,s){var l=Ft();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ul(t)?Lg(n,s):(s=Tu(t,n,s,l),s!==null&&(xt(s,t,l),Mg(s,n,l)))}function Ug(t,n,s){var l=Ft();es(t,n,s,l)}function es(t,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ul(t))Lg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,s);if(u.hasEagerState=!0,u.eagerState=p,Kt(p,g))return gl(t,n,u,0),Ye===null&&dl(),!1}catch{}finally{}if(s=Tu(t,n,u,l),s!==null)return xt(s,t,l),Mg(s,n,l),!0}return!1}function lc(t,n,s,l){if(l={lane:2,revertLane:zc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ul(t)){if(n)throw Error(a(479))}else n=Tu(t,s,l,2),n!==null&&xt(n,t,2)}function Ul(t){var n=t.alternate;return t===le||n!==null&&n===le}function Lg(t,n){Jr=Cl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Mg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,_h(t,s)}}var ts={readContext:ht,use:Ol,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};ts.useEffectEvent=Fe;var Zg={readContext:ht,use:Ol,useCallback:function(t,n){return Rt().memoizedState=[t,n===void 0?null:n],t},useContext:ht,useEffect:Sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,xl(4194308,4,Tg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return xl(4194308,4,t,n)},useInsertionEffect:function(t,n){xl(4,2,t,n)},useMemo:function(t,n){var s=Rt();n=n===void 0?null:n;var l=t();if(ur){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Rt();if(s!==void 0){var u=s(n);if(ur){hi(!0);try{s(n)}finally{hi(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=CS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Rt();return t={current:t},n.memoizedState=t},useState:function(t){t=ec(t);var n=t.queue,s=Ug.bind(null,le,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(t,n){var s=Rt();return rc(s,t,n)},useTransition:function(){var t=ec(!1);return t=Dg.bind(null,le,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=le,u=Rt();if(Se){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ye===null)throw Error(a(349));(pe&127)!==0||rg(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Sg(sg.bind(null,l,f,t),[t]),l.flags|=2048,jr(9,{destroy:void 0},ag.bind(null,l,f,s,n),null),s},useId:function(){var t=Rt(),n=Ye.identifierPrefix;if(Se){var s=Dn,l=wn;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=wl++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=SS++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sc,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Rt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lc.bind(null,le,!0,s),s.dispatch=n,[t,n]},useMemoCache:Pu,useCacheRefresh:function(){return Rt().memoizedState=IS.bind(null,le)},useEffectEvent:function(t){var n=Rt(),s={impl:t};return n.memoizedState=s,function(){if((Ie&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},oc={readContext:ht,use:Ol,useCallback:Ig,useContext:ht,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Cg,useReducer:Vl,useRef:vg,useState:function(){return Vl(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=$e();return wg(s,Ue.memoizedState,t,n)},useTransition:function(){var t=Vl(Fn)[0],n=$e().memoizedState;return[typeof t=="boolean"?t:qa(t),n]},useSyncExternalStore:ig,useId:xg,useHostTransitionStatus:sc,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=$e();return ug(s,Ue,t,n)},useMemoCache:Pu,useCacheRefresh:Bg};oc.useEffectEvent=Ag;var Yg={readContext:ht,use:Ol,useCallback:Ig,useContext:ht,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Cg,useReducer:qu,useRef:vg,useState:function(){return qu(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=$e();return Ue===null?rc(s,t,n):wg(s,Ue.memoizedState,t,n)},useTransition:function(){var t=qu(Fn)[0],n=$e().memoizedState;return[typeof t=="boolean"?t:qa(t),n]},useSyncExternalStore:ig,useId:xg,useHostTransitionStatus:sc,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var s=$e();return Ue!==null?ug(s,Ue,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:Bg};Yg.useEffectEvent=Ag;function uc(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cc={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Ft(),u=Si(l);u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(xt(n,t,l),Ha(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Ft(),u=Si(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(xt(n,t,l),Ha(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ft(),l=Si(s);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,s),n!==null&&(xt(n,t,s),Ha(n,t,s))}};function zg(t,n,s,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!_a(s,l)||!_a(u,f):!0}function Gg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&cc.enqueueReplaceState(n,n.state,null)}function cr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}function _g(t){hl(t)}function Kg(t){console.error(t)}function Wg(t){hl(t)}function Ll(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fc(t,n,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Ll(t,n)},s}function Jg(t){return t=Si(t),t.tag=3,t}function kg(t,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Xg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Xg(n,s,l),typeof u!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function wS(t,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&zr(n,s,u,!0),s=Xt.current,s!==null){switch(s.tag){case 31:case 13:return an===null?jl():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===El?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Mc(t,l,u)),!1;case 22:return s.flags|=65536,l===El?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Mc(t,l,u)),!1}throw Error(a(435,s.tag))}return Mc(t,l,u),jl(),!1}if(Se)return n=Xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ou&&(t=Error(a(422),{cause:l}),Xa(en(t,s)))):(l!==Ou&&(n=Error(a(423),{cause:l}),Xa(en(n,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=en(l,s),u=fc(t.stateNode,l,u),_u(t,u),He!==4&&(He=2)),!1;var f=Error(a(520),{cause:l});if(f=en(f,s),us===null?us=[f]:us.push(f),He!==4&&(He=2),n===null)return!0;l=en(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=fc(s.stateNode,l,t),_u(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Jg(u),kg(u,t,s,l),_u(s,u),!1}s=s.return}while(s!==null);return!1}var hc=Error(a(461)),it=!1;function dt(t,n,s,l){n.child=t===null?Qd(n,null,s,l):or(n,t.child,s,l)}function jg(t,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return rr(n),l=ju(t,n,s,g,f,u),p=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&p&&wu(n),n.flags|=1,dt(t,n,l,u),n.child)}function Fg(t,n,s,l,u){if(t===null){var f=s.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,u)):(t=yl(s.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sc(t,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:_a,s(g,l)&&t.ref===n.ref)return Hn(t,n,u)}return n.flags|=1,t=Wn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,s,l,u){if(t!==null){var f=t.memoizedProps;if(_a(f,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=f,Sc(t,u))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Hn(t,n,u)}return dc(t,n,s,l,u)}function Qg(t,n,s,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return Pg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sl(n,f!==null?f.cachePool:null),f!==null?qd(n,f):Wu(),eg(n);else return l=n.lanes=536870912,Pg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Sl(n,f.cachePool),qd(n,f),Ni(),n.memoizedState=null):(t!==null&&Sl(n,null),Wu(),Ni());return dt(t,n,u,s),n.child}function ns(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pg(t,n,s,l,u){var f=Zu();return f=f===null?null:{parent:tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Sl(n,null),Wu(),eg(n),t!==null&&zr(t,n,l,!0),n.childLanes=u,null}function Ml(t,n){return n=Yl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,s){return or(n,t.child,null,s),t=Ml(n,n.pendingProps),t.flags|=2,Jt(n),n.memoizedState=null,t}function DS(t,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,ns(null,t);if(Ju(n),(t=Ge)?(t=cy(t,rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},s=Ld(t),s.return=n,n.child=s,ft=n,Ge=null)):t=null,t===null)throw pi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Ju(n),u)if(n.flags&256)n.flags&=-257,n=$g(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(it||zr(t,n,s,!1),u=(s&t.childLanes)!==0,it||u){if(l=Ye,l!==null&&(g=Kh(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,er(t,g),xt(l,t,g),hc;jl(),n=$g(t,n,s)}else t=f.treeContext,Ge=sn(g.nextSibling),ft=n,Se=!0,yi=null,rn=!1,t!==null&&Yd(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Wn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zl(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function dc(t,n,s,l,u){return rr(n),s=ju(t,n,s,l,void 0,u),l=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&l&&wu(n),n.flags|=1,dt(t,n,s,u),n.child)}function qg(t,n,s,l,u,f){return rr(n),n.updateQueue=null,s=ng(n,l,s,u),tg(t),l=Fu(),t!==null&&!it?(Hu(t,n,f),Hn(t,n,f)):(Se&&l&&wu(n),n.flags|=1,dt(t,n,s,f),n.child)}function em(t,n,s,l,u){if(rr(n),n.stateNode===null){var f=Lr,g=s.contextType;typeof g=="object"&&g!==null&&(f=ht(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zu(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?ht(g):Lr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(uc(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&cc.enqueueReplaceState(f,f.state,null),Pa(n,l,f,u),Qa(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,b=cr(s,p);f.props=b;var D=f.context,U=s.contextType;g=Lr,typeof U=="object"&&U!==null&&(g=ht(U));var Z=s.getDerivedStateFromProps;U=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||D!==g)&&Gg(n,f,l,g),vi=!1;var O=n.memoizedState;f.state=O,Pa(n,l,f,u),Qa(),D=n.memoizedState,p||O!==D||vi?(typeof Z=="function"&&(uc(n,s,Z,l),D=n.memoizedState),(b=vi||zg(n,s,b,l,O,D,g))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=g,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Gu(t,n),g=n.memoizedProps,U=cr(s,g),f.props=U,Z=n.pendingProps,O=f.context,D=s.contextType,b=Lr,typeof D=="object"&&D!==null&&(b=ht(D)),p=s.getDerivedStateFromProps,(D=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||O!==b)&&Gg(n,f,l,b),vi=!1,O=n.memoizedState,f.state=O,Pa(n,l,f,u),Qa();var x=n.memoizedState;g!==Z||O!==x||vi||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(uc(n,s,p,l),x=n.memoizedState),(U=vi||zg(n,s,U,l,O,x,b)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=b,l=U):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,u),n.child=or(n,null,s,u)):dt(t,n,s,u),n.memoizedState=f.state,t=n.child):t=Hn(t,n,u),t}function tm(t,n,s,l){return nr(),n.flags|=256,dt(t,n,s,l),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:Xd()}}function yc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jt),t}function nm(t,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Pe.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Se){if(u?Ei(n):Ni(),(t=Ge)?(t=cy(t,rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},s=Ld(t),s.return=n,n.child=s,ft=n,Ge=null)):t=null,t===null)throw pi(n);return $c(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ni(),u=n.mode,p=Yl({mode:"hidden",children:p},u),l=tr(l,u,s,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,ns(null,l)):(Ei(n),pc(n,p))}var b=t.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=bc(t,n,s)):n.memoizedState!==null?(Ni(),n.child=t.child,n.flags|=128,n=null):(Ni(),p=l.fallback,u=n.mode,l=Yl({mode:"visible",children:l.children},u),p=tr(p,u,s,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,or(n,t.child,null,s),l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,n=ns(null,l));else if(Ei(n),$c(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(a(419)),l.stack="",l.digest=g,Xa({value:l,source:null,stack:null}),n=bc(t,n,s)}else if(it||zr(t,n,s,!1),g=(s&t.childLanes)!==0,it||g){if(g=Ye,g!==null&&(l=Kh(g,s),l!==0&&l!==b.retryLane))throw b.retryLane=l,er(t,l),xt(g,t,l),hc;Pc(p)||jl(),n=bc(t,n,s)}else Pc(p)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Ge=sn(p.nextSibling),ft=n,Se=!0,yi=null,rn=!1,t!==null&&Yd(n,t),n=pc(n,l.children),n.flags|=4096);return n}return u?(Ni(),p=l.fallback,u=n.mode,b=t.child,D=b.sibling,l=Wn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,D!==null?p=Wn(D,p):(p=tr(p,u,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,ns(null,l),l=n.child,p=t.child.memoizedState,p===null?p=mc(s):(u=p.cachePool,u!==null?(b=tt._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Xd(),p={baseLanes:p.baseLanes|s,cachePool:u}),l.memoizedState=p,l.childLanes=yc(t,g,s),n.memoizedState=gc,ns(t.child,l)):(Ei(n),s=t.child,t=s.sibling,s=Wn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function pc(t,n){return n=Yl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yl(t,n){return t=Wt(22,t,null,n),t.lanes=0,t}function bc(t,n,s){return or(n,t.child,null,s),t=pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function im(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bu(t.return,n,s)}function vc(t,n,s,l,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function rm(t,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var g=Pe.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,W(Pe,g),dt(t,n,l,s),l=Se?Wa:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,s,n);else if(t.tag===19)im(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)t=s.alternate,t!==null&&Il(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),vc(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Il(t)===null){n.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}vc(n,!0,s,null,f,l);break;case"together":vc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(zr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Wn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Wn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function OS(t,n,s){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),bi(n,tt,t.memoizedState.cache),nr();break;case 27:case 5:wa(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ju(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(s&n.child.childLanes)!==0?nm(t,n,s):(Ei(n),t=Hn(t,n,s),t!==null?t.sibling:null);Ei(n);break;case 19:var u=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(zr(t,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return rm(t,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),W(Pe,Pe.current),l)break;return null;case 22:return n.lanes=0,Qg(t,n,s,n.pendingProps);case 24:bi(n,tt,t.memoizedState.cache)}return Hn(t,n,s)}function am(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!Sc(t,s)&&(n.flags&128)===0)return it=!1,OS(t,n,s);it=(t.flags&131072)!==0}else it=!1,Se&&(n.flags&1048576)!==0&&Zd(n,Wa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")Ru(t)?(l=cr(t,l),n.tag=1,n=em(null,n,t,l,s)):(n.tag=0,n=dc(null,n,t,l,s));else{if(t!=null){var u=t.$$typeof;if(u===he){n.tag=11,n=jg(null,n,t,l,s);break e}else if(u===J){n.tag=14,n=Fg(null,n,t,l,s);break e}}throw n=zn(t)||t,Error(a(306,n,""))}}return n;case 0:return dc(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=cr(l,n.pendingProps),em(t,n,l,u,s);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Gu(t,n),Pa(n,l,null,s);var g=n.memoizedState;if(l=g.cache,bi(n,tt,l),l!==f.cache&&Uu(n,[tt],s,!0),Qa(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tm(t,n,l,s);break e}else if(l!==u){u=en(Error(a(424)),n),Xa(u),n=tm(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=sn(t.firstChild),ft=n,Se=!0,yi=null,rn=!0,s=Qd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(nr(),l===u){n=Hn(t,n,s);break e}dt(t,n,l,s)}n=n.child}return n;case 26:return Zl(t,n),t===null?(s=yy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Se||(s=n.type,t=n.pendingProps,l=eo(de.current).createElement(s),l[ct]=n,l[It]=t,gt(l,s,t),lt(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return wa(n),t===null&&Se&&(l=n.stateNode=dy(n.type,n.pendingProps,de.current),ft=n,rn=!0,u=Ge,Vi(n.type)?(qc=u,Ge=sn(l.firstChild)):Ge=u),dt(t,n,n.pendingProps.children,s),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Se&&((u=l=Ge)&&(l=sA(l,n.type,n.pendingProps,rn),l!==null?(n.stateNode=l,ft=n,Ge=sn(l.firstChild),rn=!1,u=!0):u=!1),u||pi(n)),wa(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:g!==null&&Fc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(t,n,AS,null,null,s),ps._currentValue=u),Zl(t,n),dt(t,n,l,s),n.child;case 6:return t===null&&Se&&((t=s=Ge)&&(s=lA(s,n.pendingProps,rn),s!==null?(n.stateNode=s,ft=n,Ge=null,t=!0):t=!1),t||pi(n)),null;case 13:return nm(t,n,s);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,s):dt(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return dt(t,n,n.pendingProps,s),n.child;case 8:return dt(t,n,n.pendingProps.children,s),n.child;case 12:return dt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),dt(t,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,rr(n),u=ht(u),l=l(u),n.flags|=1,dt(t,n,l,s),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,s);case 15:return Hg(t,n,n.type,n.pendingProps,s);case 19:return rm(t,n,s);case 31:return DS(t,n,s);case 22:return Qg(t,n,s,n.pendingProps);case 24:return rr(n),l=ht(tt),t===null?(u=Zu(),u===null&&(u=Ye,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},zu(n),bi(n,tt,u)):((t.lanes&s)!==0&&(Gu(t,n),Pa(n,null,null,s),Qa()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),bi(n,tt,l)):(l=f.cache,bi(n,tt,l),l!==u.cache&&Uu(n,[tt],s,!0))),dt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Qn(t){t.flags|=4}function Ac(t,n,s,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(xm())t.flags|=8192;else throw lr=El,Yu}else t.flags&=-16777217}function sm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ay(n))if(xm())t.flags|=8192;else throw lr=El,Yu}function zl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zh():536870912,t.lanes|=n,Pr|=n)}function is(t,n){if(!Se)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _e(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function VS(t,n,s){var l=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),kn(tt),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?Qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),_e(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(Qn(n),f!==null?(_e(n),sm(n,f)):(_e(n),Ac(n,u,null,l,s))):f?f!==t.memoizedState?(Qn(n),_e(n),sm(n,f)):(_e(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qn(n),_e(n),Ac(n,u,t,l,s)),null;case 27:if(Qs(n),s=de.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _e(n),null}t=k.current,Yr(n)?zd(n):(t=dy(u,l,s),n.stateNode=t,Qn(n))}return _e(n),null;case 5:if(Qs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return _e(n),null}if(f=k.current,Yr(n))zd(n);else{var g=eo(de.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}f[ct]=n,f[It]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(gt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qn(n)}}return _e(n),Ac(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=de.current,Yr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,u=ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ct]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,s)),t||pi(n,!0)}else t=eo(t).createTextNode(l),t[ct]=n,n.stateNode=t}return _e(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Yr(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ct]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),t=!1}else s=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Jt(n),n):(Jt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return _e(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[ct]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),u=!1}else u=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Jt(n),n):(Jt(n),null)}return Jt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),zl(n,n.updateQueue),_e(n),null);case 4:return Qe(),t===null&&Wc(n.stateNode.containerInfo),_e(n),null;case 10:return kn(n.type),_e(n),null;case 19:if(Y(Pe),l=n.memoizedState,l===null)return _e(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)is(l,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Il(t),f!==null){for(n.flags|=128,is(l,!1),t=f.updateQueue,n.updateQueue=t,zl(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ud(s,t),s=s.sibling;return W(Pe,Pe.current&1|2),Se&&Xn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&zt()>Xl&&(n.flags|=128,u=!0,is(l,!1),n.lanes=4194304)}else{if(!u)if(t=Il(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,zl(n,t),is(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Se)return _e(n),null}else 2*zt()-l.renderingStartTime>Xl&&s!==536870912&&(n.flags|=128,u=!0,is(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,s=Pe.current,W(Pe,u?s&1|2:s&1),Se&&Xn(n,l.treeForkCount),t):(_e(n),null);case 22:case 23:return Jt(n),Xu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),s=n.updateQueue,s!==null&&zl(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ar),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kn(tt),_e(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function xS(t,n){switch(Du(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(tt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(Jt(n),n.alternate===null)throw Error(a(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Jt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Pe),null;case 4:return Qe(),null;case 10:return kn(n.type),null;case 22:case 23:return Jt(n),Xu(),t!==null&&Y(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(tt),null;case 25:return null;default:return null}}function lm(t,n){switch(Du(n),n.tag){case 3:kn(tt),Qe();break;case 26:case 27:case 5:Qs(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Jt(n);break;case 13:Jt(n);break;case 19:Y(Pe);break;case 10:kn(n.type);break;case 22:case 23:Jt(n),Xu(),t!==null&&Y(ar);break;case 24:kn(tt)}}function rs(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==u)}}catch(p){Ve(n,n.return,p)}}function Ti(t,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,u=n;var b=s,D=p;try{D()}catch(U){Ve(u,b,U)}}}l=l.next}while(l!==f)}}catch(U){Ve(n,n.return,U)}}function om(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$d(n,s)}catch(l){Ve(t,t.return,l)}}}function um(t,n,s){s.props=cr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ve(t,n,l)}}function as(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(u){Ve(t,n,u)}}function On(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ve(t,n,u)}else s.current=null}function cm(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Ve(t,t.return,u)}}function Ec(t,n,s){try{var l=t.stateNode;eA(l,t.type,s,n),l[It]=n}catch(u){Ve(t,t.return,u)}}function fm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=_n));else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Tc(t,n,s),t=t.sibling;t!==null;)Tc(t,n,s),t=t.sibling}function Gl(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gl(t,n,s),t=t.sibling;t!==null;)Gl(t,n,s),t=t.sibling}function hm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);gt(n,l,s),n[ct]=t,n[It]=s}catch(f){Ve(t,t.return,f)}}var Pn=!1,rt=!1,Rc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,ot=null;function BS(t,n){if(t=t.containerInfo,kc=lo,t=Rd(t),bu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,p=-1,b=-1,D=0,U=0,Z=t,O=null;t:for(;;){for(var x;Z!==s||u!==0&&Z.nodeType!==3||(p=g+u),Z!==f||l!==0&&Z.nodeType!==3||(b=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(x=Z.firstChild)!==null;)O=Z,Z=x;for(;;){if(Z===t)break t;if(O===s&&++D===u&&(p=g),O===f&&++U===l&&(b=g),(x=Z.nextSibling)!==null)break;Z=O,O=Z.parentNode}Z=x}s=p===-1||b===-1?null:{start:p,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:t,selectionRange:s},lo=!1,ot=n;ot!==null;)if(n=ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ot=t;else for(;ot!==null;){switch(n=ot,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)u=t[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var X=cr(s.type,u);t=l.getSnapshotBeforeUpdate(X,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ve(s,s.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Qc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ot=t;break}ot=n.return}}function gm(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qn(t,s),l&4&&rs(5,s);break;case 1:if(qn(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(s,s.return,g)}else{var u=cr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(s,s.return,g)}}l&64&&om(s),l&512&&as(s,s.return);break;case 3:if(qn(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$d(t,n)}catch(g){Ve(s,s.return,g)}}break;case 27:n===null&&l&4&&hm(s);case 26:case 5:qn(t,s),n===null&&l&4&&cm(s),l&512&&as(s,s.return);break;case 12:qn(t,s);break;case 31:qn(t,s),l&4&&pm(t,s);break;case 13:qn(t,s),l&4&&bm(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=KS.bind(null,s),oA(t,s))));break;case 22:if(l=s.memoizedState!==null||Pn,!l){n=n!==null&&n.memoizedState!==null||rt,u=Pn;var f=rt;Pn=l,(rt=n)&&!f?ei(t,s,(s.subtreeFlags&8772)!==0):qn(t,s),Pn=u,rt=f}break;case 30:break;default:qn(t,s)}}function mm(t){var n=t.alternate;n!==null&&(t.alternate=null,mm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,wt=!1;function $n(t,n,s){for(s=s.child;s!==null;)ym(t,n,s),s=s.sibling}function ym(t,n,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Da,s)}catch{}switch(s.tag){case 26:rt||On(s,n),$n(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||On(s,n);var l=Xe,u=wt;Vi(s.type)&&(Xe=s.stateNode,wt=!1),$n(t,n,s),gs(s.stateNode),Xe=l,wt=u;break;case 5:rt||On(s,n);case 6:if(l=Xe,u=wt,Xe=null,$n(t,n,s),Xe=l,wt=u,Xe!==null)if(wt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(s.stateNode)}catch(f){Ve(s,n,f)}else try{Xe.removeChild(s.stateNode)}catch(f){Ve(s,n,f)}break;case 18:Xe!==null&&(wt?(t=Xe,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),aa(t)):oy(Xe,s.stateNode));break;case 4:l=Xe,u=wt,Xe=s.stateNode.containerInfo,wt=!0,$n(t,n,s),Xe=l,wt=u;break;case 0:case 11:case 14:case 15:Ti(2,s,n),rt||Ti(4,s,n),$n(t,n,s);break;case 1:rt||(On(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&um(s,n,l)),$n(t,n,s);break;case 21:$n(t,n,s);break;case 22:rt=(l=rt)||s.memoizedState!==null,$n(t,n,s),rt=l;break;default:$n(t,n,s)}}function pm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{aa(t)}catch(s){Ve(n,n.return,s)}}}function bm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{aa(t)}catch(s){Ve(n,n.return,s)}}function US(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dm),n;default:throw Error(a(435,t.tag))}}function _l(t,n){var s=US(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=WS.bind(null,t,l);l.then(u,u)}})}function Dt(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){Xe=p.stateNode,wt=!1;break e}break;case 5:Xe=p.stateNode,wt=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,wt=!0;break e}p=p.return}if(Xe===null)throw Error(a(160));ym(f,g,u),Xe=null,wt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vm(n,t),n=n.sibling}var bn=null;function vm(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dt(n,t),Ot(t),l&4&&(Ti(3,t,t.return),rs(3,t),Ti(5,t,t.return));break;case 1:Dt(n,t),Ot(t),l&512&&(rt||s===null||On(s,s.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=bn;if(Dt(n,t),Ot(t),l&512&&(rt||s===null||On(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[xa]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),gt(f,l,s),f[ct]=t,lt(f),l=f;break e;case"link":var g=vy("link","href",u).get(l+(s.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(p,1);break t}}f=u.createElement(l),gt(f,l,s),u.head.appendChild(f);break;case"meta":if(g=vy("meta","content",u).get(l+(s.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(p,1);break t}}f=u.createElement(l),gt(f,l,s),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[ct]=t,lt(f),l=f}t.stateNode=l}else Sy(u,t.type,t.stateNode);else t.stateNode=by(u,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Sy(u,t.type,t.stateNode):by(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ec(t,t.memoizedProps,s.memoizedProps)}break;case 27:Dt(n,t),Ot(t),l&512&&(rt||s===null||On(s,s.return)),s!==null&&l&4&&Ec(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Dt(n,t),Ot(t),l&512&&(rt||s===null||On(s,s.return)),t.flags&32){u=t.stateNode;try{wr(u,"")}catch(X){Ve(t,t.return,X)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Ec(t,u,s!==null?s.memoizedProps:u)),l&1024&&(Rc=!0);break;case 6:if(Dt(n,t),Ot(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(X){Ve(t,t.return,X)}}break;case 3:if(io=null,u=bn,bn=to(n.containerInfo),Dt(n,t),bn=u,Ot(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{aa(n.containerInfo)}catch(X){Ve(t,t.return,X)}Rc&&(Rc=!1,Sm(t));break;case 4:l=bn,bn=to(t.stateNode.containerInfo),Dt(n,t),Ot(t),bn=l;break;case 12:Dt(n,t),Ot(t);break;case 31:Dt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 13:Dt(n,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wl=zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 22:u=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,D=Pn,U=rt;if(Pn=D||u,rt=U||b,Dt(n,t),rt=U,Pn=D,Ot(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||b||Pn||rt||fr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=b.stateNode;var Z=b.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(X){Ve(b,b.return,X)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(X){Ve(b,b.return,X)}}}else if(n.tag===18){if(s===null){b=n;try{var x=b.stateNode;u?uy(x,!0):uy(b.stateNode,!1)}catch(X){Ve(b,b.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_l(t,s))));break;case 19:Dt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 30:break;case 21:break;default:Dt(n,t),Ot(t)}}function Ot(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fm(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var u=s.stateNode,f=Nc(t);Gl(t,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(wr(g,""),s.flags&=-33);var p=Nc(t);Gl(t,p,g);break;case 3:case 4:var b=s.stateNode.containerInfo,D=Nc(t);Tc(t,D,b);break;default:throw Error(a(161))}}catch(U){Ve(t,t.return,U)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gm(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),fr(n);break;case 1:On(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&um(n,n.return,s),fr(n);break;case 27:gs(n.stateNode);case 26:case 5:On(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function ei(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ei(u,f,s),rs(4,f);break;case 1:if(ei(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(D){Ve(l,l.return,D)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Pd(b[u],p)}catch(D){Ve(l,l.return,D)}}s&&g&64&&om(f),as(f,f.return);break;case 27:hm(f);case 26:case 5:ei(u,f,s),s&&l===null&&g&4&&cm(f),as(f,f.return);break;case 12:ei(u,f,s);break;case 31:ei(u,f,s),s&&g&4&&pm(u,f);break;case 13:ei(u,f,s),s&&g&4&&bm(u,f);break;case 22:f.memoizedState===null&&ei(u,f,s),as(f,f.return);break;case 30:break;default:ei(u,f,s)}n=n.sibling}}function Ic(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ja(s))}function Cc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ja(t))}function vn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Am(t,n,s,l),n=n.sibling}function Am(t,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n,s,l),u&2048&&rs(9,n);break;case 1:vn(t,n,s,l);break;case 3:vn(t,n,s,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ja(t)));break;case 12:if(u&2048){vn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ve(n,n.return,b)}}else vn(t,n,s,l);break;case 31:vn(t,n,s,l);break;case 13:vn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vn(t,n,s,l):ss(t,n):f._visibility&2?vn(t,n,s,l):(f._visibility|=2,Fr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ic(g,n);break;case 24:vn(t,n,s,l),u&2048&&Cc(n.alternate,n);break;default:vn(t,n,s,l)}}function Fr(t,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=s,b=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(f,g,p,b,u),rs(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&2?Fr(f,g,p,b,u):ss(f,g):(U._visibility|=2,Fr(f,g,p,b,u)),u&&D&2048&&Ic(g.alternate,g);break;case 24:Fr(f,g,p,b,u),u&&D&2048&&Cc(g.alternate,g);break;default:Fr(f,g,p,b,u)}n=n.sibling}}function ss(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,u=l.flags;switch(l.tag){case 22:ss(s,l),u&2048&&Ic(l.alternate,l);break;case 24:ss(s,l),u&2048&&Cc(l.alternate,l);break;default:ss(s,l)}n=n.sibling}}var ls=8192;function Hr(t,n,s){if(t.subtreeFlags&ls)for(t=t.child;t!==null;)Em(t,n,s),t=t.sibling}function Em(t,n,s){switch(t.tag){case 26:Hr(t,n,s),t.flags&ls&&t.memoizedState!==null&&SA(s,bn,t.memoizedState,t.memoizedProps);break;case 5:Hr(t,n,s);break;case 3:case 4:var l=bn;bn=to(t.stateNode.containerInfo),Hr(t,n,s),bn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ls,ls=16777216,Hr(t,n,s),ls=l):Hr(t,n,s));break;default:Hr(t,n,s)}}function Nm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function os(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Rm(l,t)}Nm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 0:case 11:case 15:os(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:os(t);break;case 12:os(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Kl(t)):os(t);break;default:os(t)}}function Kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Rm(l,t)}Nm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Kl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Kl(n));break;default:Kl(n)}t=t.sibling}}function Rm(t,n){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:Ti(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ja(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ot=l;else e:for(s=t;ot!==null;){l=ot;var u=l.sibling,f=l.return;if(mm(l),l===s){ot=null;break e}if(u!==null){u.return=f,ot=u;break e}ot=f}}}var LS={getCacheForType:function(t){var n=ht(tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ht(tt).controller.signal}},MS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ye=null,ge=null,pe=0,Oe=0,kt=null,Ri=!1,Qr=!1,wc=!1,ti=0,He=0,Ii=0,hr=0,Dc=0,jt=0,Pr=0,us=null,Vt=null,Oc=!1,Wl=0,Im=0,Xl=1/0,Jl=null,Ci=null,st=0,wi=null,$r=null,ni=0,Vc=0,xc=null,Cm=null,cs=0,Bc=null;function Ft(){return(Ie&2)!==0&&pe!==0?pe&-pe:L.T!==null?zc():Wh()}function wm(){if(jt===0)if((pe&536870912)===0||Se){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),jt=t}else jt=536870912;return t=Xt.current,t!==null&&(t.flags|=32),jt}function xt(t,n,s){(t===Ye&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(qr(t,0),Di(t,pe,jt,!1)),Va(t,s),((Ie&2)===0||t!==Ye)&&(t===Ye&&((Ie&2)===0&&(hr|=s),He===4&&Di(t,pe,jt,!1)),Vn(t))}function Dm(t,n,s){if((Ie&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Oa(t,n),u=l?zS(t,n):Lc(t,n,!0),f=l;do{if(u===0){Qr&&!l&&Di(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!ZS(s)){u=Lc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;u=us;var b=p.current.memoizedState.isDehydrated;if(b&&(qr(p,g).flags|=256),g=Lc(p,g,!1),g!==2){if(wc&&!b){p.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Vt,Vt=u,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){qr(t,0),Di(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,jt,!Ri);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Wl+300-zt(),10<u)){if(Di(l,n,jt,!Ri),tl(l,0,!0)!==0)break e;ni=n,l.timeoutHandle=sy(Om.bind(null,l,s,Vt,Jl,Oc,n,jt,hr,Pr,Ri,f,"Throttled",-0,0),u);break e}Om(l,s,Vt,Jl,Oc,n,jt,hr,Pr,Ri,f,null,-0,0)}}break}while(!0);Vn(t)}function Om(t,n,s,l,u,f,g,p,b,D,U,Z,O,x){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Em(n,f,Z);var X=(f&62914560)===f?Wl-zt():(f&4194048)===f?Im-zt():0;if(X=AA(Z,X),X!==null){ni=f,t.cancelPendingCommit=X(Ym.bind(null,t,n,f,s,l,u,g,p,b,U,Z,null,O,x)),Di(t,f,g,!D);return}}Ym(t,n,f,s,l,u,g,p,b)}function ZS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!Kt(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,s,l){n&=~Dc,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-_t(u),g=1<<f;l[f]=-1,u&=~g}s!==0&&Gh(t,s,n)}function kl(){return(Ie&6)===0?(fs(0),!1):!0}function Uc(){if(ge!==null){if(Oe===0)var t=ge.return;else t=ge,Jn=ir=null,Qu(t),Wr=null,ja=0,t=ge;for(;t!==null;)lm(t.alternate,t),t=t.return;ge=null}}function qr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,iA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ni=0,Uc(),Ye=t,ge=s=Wn(t.current,null),pe=n,Oe=0,kt=null,Ri=!1,Qr=Oa(t,n),wc=!1,Pr=jt=Dc=hr=Ii=He=0,Vt=us=null,Oc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-_t(l),f=1<<u;n|=t[u],l&=~f}return ti=n,dl(),s}function Vm(t,n){le=null,L.H=ts,n===Kr||n===Al?(n=jd(),Oe=3):n===Yu?(n=jd(),Oe=4):Oe=n===hc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kt=n,ge===null&&(He=1,Ll(t,en(n,t.current)))}function xm(){var t=Xt.current;return t===null?!0:(pe&4194048)===pe?an===null:(pe&62914560)===pe||(pe&536870912)!==0?t===an:!1}function Bm(){var t=L.H;return L.H=ts,t===null?ts:t}function Um(){var t=L.A;return L.A=LS,t}function jl(){He=4,Ri||(pe&4194048)!==pe&&Xt.current!==null||(Qr=!0),(Ii&134217727)===0&&(hr&134217727)===0||Ye===null||Di(Ye,pe,jt,!1)}function Lc(t,n,s){var l=Ie;Ie|=2;var u=Bm(),f=Um();(Ye!==t||pe!==n)&&(Jl=null,qr(t,n)),n=!1;var g=He;e:do try{if(Oe!==0&&ge!==null){var p=ge,b=kt;switch(Oe){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(n=!0);var D=Oe;if(Oe=0,kt=null,ea(t,p,b,D),s&&Qr){g=0;break e}break;default:D=Oe,Oe=0,kt=null,ea(t,p,b,D)}}YS(),g=He;break}catch(U){Vm(t,U)}while(!0);return n&&t.shellSuspendCounter++,Jn=ir=null,Ie=l,L.H=u,L.A=f,ge===null&&(Ye=null,pe=0,dl()),g}function YS(){for(;ge!==null;)Lm(ge)}function zS(t,n){var s=Ie;Ie|=2;var l=Bm(),u=Um();Ye!==t||pe!==n?(Jl=null,Xl=zt()+500,qr(t,n)):Qr=Oa(t,n);e:do try{if(Oe!==0&&ge!==null){n=ge;var f=kt;t:switch(Oe){case 1:Oe=0,kt=null,ea(t,n,f,1);break;case 2:case 9:if(Jd(f)){Oe=0,kt=null,Mm(n);break}n=function(){Oe!==2&&Oe!==9||Ye!==t||(Oe=7),Vn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Jd(f)?(Oe=0,kt=null,Mm(n)):(Oe=0,kt=null,ea(t,n,f,7));break;case 5:var g=null;switch(ge.tag){case 26:g=ge.memoizedState;case 5:case 27:var p=ge;if(g?Ay(g):p.stateNode.complete){Oe=0,kt=null;var b=p.sibling;if(b!==null)ge=b;else{var D=p.return;D!==null?(ge=D,Fl(D)):ge=null}break t}}Oe=0,kt=null,ea(t,n,f,5);break;case 6:Oe=0,kt=null,ea(t,n,f,6);break;case 8:Uc(),He=6;break e;default:throw Error(a(462))}}GS();break}catch(U){Vm(t,U)}while(!0);return Jn=ir=null,L.H=l,L.A=u,Ie=s,ge!==null?0:(Ye=null,pe=0,dl(),He)}function GS(){for(;ge!==null&&!u0();)Lm(ge)}function Lm(t){var n=am(t.alternate,t,ti);t.memoizedProps=t.pendingProps,n===null?Fl(t):ge=n}function Mm(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=qg(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=qg(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Qu(n);default:lm(s,n),n=ge=Ud(n,ti),n=am(s,n,ti)}t.memoizedProps=t.pendingProps,n===null?Fl(t):ge=n}function ea(t,n,s,l){Jn=ir=null,Qu(n),Wr=null,ja=0;var u=n.return;try{if(wS(t,u,n,s,pe)){He=1,Ll(t,en(s,t.current)),ge=null;return}}catch(f){if(u!==null)throw ge=u,f;He=1,Ll(t,en(s,t.current)),ge=null;return}n.flags&32768?(Se||l===1?t=!0:Qr||(pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zm(n,t)):Fl(n)}function Fl(t){var n=t;do{if((n.flags&32768)!==0){Zm(n,Ri);return}t=n.return;var s=VS(n.alternate,n,ti);if(s!==null){ge=s;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=t}while(n!==null);He===0&&(He=5)}function Zm(t,n){do{var s=xS(t.alternate,t);if(s!==null){s.flags&=32767,ge=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ge=t;return}ge=t=s}while(t!==null);He=6,ge=null}function Ym(t,n,s,l,u,f,g,p,b){t.cancelPendingCommit=null;do Hl();while(st!==0);if((Ie&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nu,v0(t,s,f,g,p,b),t===Ye&&(ge=Ye=null,pe=0),$r=n,wi=t,ni=s,Vc=f,xc=u,Cm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XS(Ps,function(){return Wm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,u=K.p,K.p=2,g=Ie,Ie|=4;try{BS(t,n,s)}finally{Ie=g,K.p=u,L.T=l}}st=1,zm(),Gm(),_m()}}function zm(){if(st===1){st=0;var t=wi,n=$r,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{vm(n,t);var f=jc,g=Rd(t.containerInfo),p=f.focusedElem,b=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Td(p.ownerDocument.documentElement,p)){if(b!==null&&bu(p)){var D=b.start,U=b.end;if(U===void 0&&(U=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(U,p.value.length);else{var Z=p.ownerDocument||document,O=Z&&Z.defaultView||window;if(O.getSelection){var x=O.getSelection(),X=p.textContent.length,ee=Math.min(b.start,X),Me=b.end===void 0?ee:Math.min(b.end,X);!x.extend&&ee>Me&&(g=Me,Me=ee,ee=g);var R=Nd(p,ee),S=Nd(p,Me);if(R&&S&&(x.rangeCount!==1||x.anchorNode!==R.node||x.anchorOffset!==R.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var w=Z.createRange();w.setStart(R.node,R.offset),x.removeAllRanges(),ee>Me?(x.addRange(w),x.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),x.addRange(w))}}}}for(Z=[],x=p;x=x.parentNode;)x.nodeType===1&&Z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var M=Z[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}lo=!!kc,jc=kc=null}finally{Ie=u,K.p=l,L.T=s}}t.current=n,st=2}}function Gm(){if(st===2){st=0;var t=wi,n=$r,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{gm(t,n.alternate,n)}finally{Ie=u,K.p=l,L.T=s}}st=3}}function _m(){if(st===4||st===3){st=0,c0();var t=wi,n=$r,s=ni,l=Cm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,$r=wi=null,Km(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ci=null),qo(s),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Da,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,u=K.p,K.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{L.T=n,K.p=u}}(ni&3)!==0&&Hl(),Vn(t),u=t.pendingLanes,(s&261930)!==0&&(u&42)!==0?t===Bc?cs++:(cs=0,Bc=t):cs=0,fs(0)}}function Km(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ja(n)))}function Hl(){return zm(),Gm(),_m(),Wm()}function Wm(){if(st!==5)return!1;var t=wi,n=Vc;Vc=0;var s=qo(ni),l=L.T,u=K.p;try{K.p=32>s?32:s,L.T=null,s=xc,xc=null;var f=wi,g=ni;if(st=0,$r=wi=null,ni=0,(Ie&6)!==0)throw Error(a(331));var p=Ie;if(Ie|=4,Tm(f.current),Am(f,f.current,g,s),Ie=p,fs(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Da,f)}catch{}return!0}finally{K.p=u,L.T=l,Km(t,n)}}function Xm(t,n,s){n=en(s,n),n=fc(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(Va(t,2),Vn(t))}function Ve(t,n,s){if(t.tag===3)Xm(t,t,s);else for(;n!==null;){if(n.tag===3){Xm(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=en(s,t),s=Jg(2),l=Ai(n,s,2),l!==null&&(kg(s,l,n,t),Va(l,2),Vn(l));break}}n=n.return}}function Mc(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new MS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(wc=!0,u.add(s),t=_S.bind(null,t,n,s),n.then(t,t))}function _S(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ye===t&&(pe&s)===s&&(He===4||He===3&&(pe&62914560)===pe&&300>zt()-Wl?(Ie&2)===0&&qr(t,0):Dc|=s,Pr===pe&&(Pr=0)),Vn(t)}function Jm(t,n){n===0&&(n=zh()),t=er(t,n),t!==null&&(Va(t,n),Vn(t))}function KS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Jm(t,s)}function WS(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Jm(t,s)}function XS(t,n){return Ho(t,n)}var Ql=null,ta=null,Zc=!1,Pl=!1,Yc=!1,Oi=0;function Vn(t){t!==ta&&t.next===null&&(ta===null?Ql=ta=t:ta=ta.next=t),Pl=!0,Zc||(Zc=!0,kS())}function fs(t,n){if(!Yc&&Pl){Yc=!0;do for(var s=!1,l=Ql;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=u&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hm(l,f))}else f=pe,f=tl(l,l===Ye?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Oa(l,f)||(s=!0,Hm(l,f));l=l.next}while(s);Yc=!1}}function JS(){km()}function km(){Pl=Zc=!1;var t=0;Oi!==0&&nA()&&(t=Oi);for(var n=zt(),s=null,l=Ql;l!==null;){var u=l.next,f=jm(l,n);f===0?(l.next=null,s===null?Ql=u:s.next=u,u===null&&(ta=s)):(s=l,(t!==0||(f&3)!==0)&&(Pl=!0)),l=u}st!==0&&st!==5||fs(t),Oi!==0&&(Oi=0)}function jm(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),p=1<<g,b=u[g];b===-1?((p&s)===0||(p&l)!==0)&&(u[g]=b0(p,n)):b<=n&&(t.expiredLanes|=p),f&=~p}if(n=Ye,s=pe,s=tl(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Oa(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Qo(l),qo(s)){case 2:case 8:s=Zh;break;case 32:s=Ps;break;case 268435456:s=Yh;break;default:s=Ps}return l=Fm.bind(null,t),s=Ho(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Qo(l),t.callbackPriority=2,t.callbackNode=null,2}function Fm(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hl()&&t.callbackNode!==s)return null;var l=pe;return l=tl(t,t===Ye?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dm(t,l,n),jm(t,zt()),t.callbackNode!=null&&t.callbackNode===s?Fm.bind(null,t):null)}function Hm(t,n){if(Hl())return null;Dm(t,n,!0)}function kS(){rA(function(){(Ie&6)!==0?Ho(Mh,JS):km()})}function zc(){if(Oi===0){var t=Gr;t===0&&(t=$s,$s<<=1,($s&261888)===0&&($s=256)),Oi=t}return Oi}function Qm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function Pm(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function jS(t,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=Qm((u[It]||null).action),g=l.submitter;g&&(n=(n=g[It]||null)?Qm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ul("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var b=g?Pm(u,g):new FormData(u);ac(s,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(p.preventDefault(),b=g?Pm(u,g):new FormData(u),ac(s,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Gc=0;Gc<Eu.length;Gc++){var _c=Eu[Gc],FS=_c.toLowerCase(),HS=_c[0].toUpperCase()+_c.slice(1);pn(FS,"on"+HS)}pn(wd,"onAnimationEnd"),pn(Dd,"onAnimationIteration"),pn(Od,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(fS,"onTransitionRun"),pn(hS,"onTransitionStart"),pn(dS,"onTransitionCancel"),pn(Vd,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function $m(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],b=p.instance,D=p.currentTarget;if(p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(U){hl(U)}u.currentTarget=null,f=b}else for(g=0;g<l.length;g++){if(p=l[g],b=p.instance,D=p.currentTarget,p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(U){hl(U)}u.currentTarget=null,f=b}}}}function me(t,n){var s=n[eu];s===void 0&&(s=n[eu]=new Set);var l=t+"__bubble";s.has(l)||(qm(n,t,2,!1),s.add(l))}function Kc(t,n,s){var l=0;n&&(l|=4),qm(s,t,l,n)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[$l]){t[$l]=!0,kh.forEach(function(s){s!=="selectionchange"&&(QS.has(s)||Kc(s,!1,t),Kc(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$l]||(n[$l]=!0,Kc("selectionchange",!1,n))}}function qm(t,n,s,l){switch(wy(n)){case 2:var u=TA;break;case 8:u=RA;break;default:u=af}s=u.bind(null,n,s,t),u=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,s,{capture:!0,passive:u}):t.addEventListener(n,s,!0):u!==void 0?t.addEventListener(n,s,{passive:u}):t.addEventListener(n,s,!1)}function Xc(t,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===u)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;p!==null;){if(g=Nr(p),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=f=g;continue e}p=p.parentNode}}l=l.return}rd(function(){var D=f,U=lu(s),Z=[];e:{var O=xd.get(t);if(O!==void 0){var x=ul,X=t;switch(t){case"keypress":if(ll(s)===0)break e;case"keydown":case"keyup":x=W0;break;case"focusin":X="focus",x=du;break;case"focusout":X="blur",x=du;break;case"beforeblur":case"afterblur":x=du;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=k0;break;case wd:case Dd:case Od:x=U0;break;case Vd:x=F0;break;case"scroll":case"scrollend":x=D0;break;case"wheel":x=Q0;break;case"copy":case"cut":case"paste":x=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ud;break;case"toggle":case"beforetoggle":x=$0}var ee=(n&4)!==0,Me=!ee&&(t==="scroll"||t==="scrollend"),R=ee?O!==null?O+"Capture":null:O;ee=[];for(var S=D,w;S!==null;){var M=S;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||R===null||(M=Ua(S,R),M!=null&&ee.push(ds(S,M,w))),Me)break;S=S.return}0<ee.length&&(O=new x(O,X,null,s,U),Z.push({event:O,listeners:ee}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",O&&s!==su&&(X=s.relatedTarget||s.fromElement)&&(Nr(X)||X[Er]))break e;if((x||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,x?(X=s.relatedTarget||s.toElement,x=D,X=X?Nr(X):null,X!==null&&(Me=c(X),ee=X.tag,X!==Me||ee!==5&&ee!==27&&ee!==6)&&(X=null)):(x=null,X=D),x!==X)){if(ee=ld,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(ee=ud,M="onPointerLeave",R="onPointerEnter",S="pointer"),Me=x==null?O:Ba(x),w=X==null?O:Ba(X),O=new ee(M,S+"leave",x,s,U),O.target=Me,O.relatedTarget=w,M=null,Nr(U)===D&&(ee=new ee(R,S+"enter",X,s,U),ee.target=w,ee.relatedTarget=Me,M=ee),Me=M,x&&X)t:{for(ee=PS,R=x,S=X,w=0,M=R;M;M=ee(M))w++;M=0;for(var P=S;P;P=ee(P))M++;for(;0<w-M;)R=ee(R),w--;for(;0<M-w;)S=ee(S),M--;for(;w--;){if(R===S||S!==null&&R===S.alternate){ee=R;break t}R=ee(R),S=ee(S)}ee=null}else ee=null;x!==null&&ey(Z,O,x,ee,!1),X!==null&&Me!==null&&ey(Z,Me,X,ee,!0)}}e:{if(O=D?Ba(D):window,x=O.nodeName&&O.nodeName.toLowerCase(),x==="select"||x==="input"&&O.type==="file")var Te=pd;else if(md(O))if(bd)Te=oS;else{Te=sS;var F=aS}else x=O.nodeName,!x||x.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&au(D.elementType)&&(Te=pd):Te=lS;if(Te&&(Te=Te(t,D))){yd(Z,Te,s,U);break e}F&&F(t,O,D),t==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&ru(O,"number",O.value)}switch(F=D?Ba(D):window,t){case"focusin":(md(F)||F.contentEditable==="true")&&(xr=F,vu=D,Ka=null);break;case"focusout":Ka=vu=xr=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Id(Z,s,U);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Id(Z,s,U)}var oe;if(mu)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Vr?dd(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(cd&&s.locale!=="ko"&&(Vr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Vr&&(oe=ad()):(gi=U,cu="value"in gi?gi.value:gi.textContent,Vr=!0)),F=ql(D,be),0<F.length&&(be=new od(be,t,null,s,U),Z.push({event:be,listeners:F}),oe?be.data=oe:(oe=gd(s),oe!==null&&(be.data=oe)))),(oe=eS?tS(t,s):nS(t,s))&&(be=ql(D,"onBeforeInput"),0<be.length&&(F=new od("onBeforeInput","beforeinput",null,s,U),Z.push({event:F,listeners:be}),F.data=oe)),jS(Z,t,D,s,U)}$m(Z,n)})}function ds(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ql(t,n){for(var s=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ua(t,s),u!=null&&l.unshift(ds(t,u,f)),u=Ua(t,n),u!=null&&l.push(ds(t,u,f))),t.tag===3)return l;t=t.return}return[]}function PS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,s,l,u){for(var f=n._reactName,g=[];s!==null&&s!==l;){var p=s,b=p.alternate,D=p.stateNode;if(p=p.tag,b!==null&&b===l)break;p!==5&&p!==26&&p!==27||D===null||(b=D,u?(D=Ua(s,f),D!=null&&g.unshift(ds(s,D,b))):u||(D=Ua(s,f),D!=null&&g.push(ds(s,D,b)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var $S=/\r\n?/g,qS=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace($S,`
`).replace(qS,"")}function ny(t,n){return n=ty(n),ty(t)===n}function Le(t,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wr(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wr(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,s,l);break;case"style":nd(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Le(t,n,"name",u.name,u,null),Le(t,n,"formEncType",u.formEncType,u,null),Le(t,n,"formMethod",u.formMethod,u,null),Le(t,n,"formTarget",u.formTarget,u,null)):(Le(t,n,"encType",u.encType,u,null),Le(t,n,"method",u.method,u,null),Le(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=_n);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":me("beforetoggle",t),me("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=C0.get(s)||s,nl(t,s,l))}}function Jc(t,n,s,l,u,f){switch(s){case"style":nd(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?wr(t,l):(typeof l=="number"||typeof l=="bigint")&&wr(t,""+l);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=t[It]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,u);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):nl(t,s,l)}}}function gt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(t,n,f,g,s,null)}}u&&Le(t,n,"srcSet",s.srcSet,s,null),l&&Le(t,n,"src",s.src,s,null);return;case"input":me("invalid",t);var p=f=g=u=null,b=null,D=null;for(l in s)if(s.hasOwnProperty(l)){var U=s[l];if(U!=null)switch(l){case"name":u=U;break;case"type":g=U;break;case"checked":b=U;break;case"defaultChecked":D=U;break;case"value":f=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Le(t,n,l,U,s,null)}}$h(t,f,p,b,D,g,u,!1);return;case"select":me("invalid",t),l=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(p=s[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Le(t,n,u,p,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Cr(t,!!l,n,!1):s!=null&&Cr(t,!!l,s,!0);return;case"textarea":me("invalid",t),f=u=l=null;for(g in s)if(s.hasOwnProperty(g)&&(p=s[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:Le(t,n,g,p,s,null)}ed(t,l,u,f);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(t,n,b,l,s,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(l=0;l<hs.length;l++)me(hs[l],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(t,n,D,l,s,null)}return;default:if(au(n)){for(U in s)s.hasOwnProperty(U)&&(l=s[U],l!==void 0&&Jc(t,n,U,l,s,void 0));return}}for(p in s)s.hasOwnProperty(p)&&(l=s[p],l!=null&&Le(t,n,p,l,s,null))}function eA(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,p=null,b=null,D=null,U=null;for(x in s){var Z=s[x];if(s.hasOwnProperty(x)&&Z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(x)||Le(t,n,x,null,l,Z)}}for(var O in l){var x=l[O];if(Z=s[O],l.hasOwnProperty(O)&&(x!=null||Z!=null))switch(O){case"type":f=x;break;case"name":u=x;break;case"checked":D=x;break;case"defaultChecked":U=x;break;case"value":g=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,n));break;default:x!==Z&&Le(t,n,O,x,l,Z)}}iu(t,g,p,b,D,U,f,u);return;case"select":x=g=p=O=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":x=b;default:l.hasOwnProperty(f)||Le(t,n,f,null,l,b)}for(u in l)if(f=l[u],b=s[u],l.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":O=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==b&&Le(t,n,u,f,l,b)}n=p,s=g,l=x,O!=null?Cr(t,!!s,O,!1):!!l!=!!s&&(n!=null?Cr(t,!!s,n,!0):Cr(t,!!s,s?[]:"",!1));return;case"textarea":x=O=null;for(p in s)if(u=s[p],s.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(t,n,p,null,l,u)}for(g in l)if(u=l[g],f=s[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":O=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Le(t,n,g,u,l,f)}qh(t,O,x);return;case"option":for(var X in s)if(O=s[X],s.hasOwnProperty(X)&&O!=null&&!l.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Le(t,n,X,null,l,O)}for(b in l)if(O=l[b],x=s[b],l.hasOwnProperty(b)&&O!==x&&(O!=null||x!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(t,n,b,O,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in s)O=s[ee],s.hasOwnProperty(ee)&&O!=null&&!l.hasOwnProperty(ee)&&Le(t,n,ee,null,l,O);for(D in l)if(O=l[D],x=s[D],l.hasOwnProperty(D)&&O!==x&&(O!=null||x!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Le(t,n,D,O,l,x)}return;default:if(au(n)){for(var Me in s)O=s[Me],s.hasOwnProperty(Me)&&O!==void 0&&!l.hasOwnProperty(Me)&&Jc(t,n,Me,void 0,l,O);for(U in l)O=l[U],x=s[U],!l.hasOwnProperty(U)||O===x||O===void 0&&x===void 0||Jc(t,n,U,O,l,x);return}}for(var R in s)O=s[R],s.hasOwnProperty(R)&&O!=null&&!l.hasOwnProperty(R)&&Le(t,n,R,null,l,O);for(Z in l)O=l[Z],x=s[Z],!l.hasOwnProperty(Z)||O===x||O==null&&x==null||Le(t,n,Z,O,l,x)}function iy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,g=u.initiatorType,p=u.duration;if(f&&p&&iy(g)){for(g=0,p=u.responseEnd,l+=1;l<s.length;l++){var b=s[l],D=b.startTime;if(D>p)break;var U=b.transferSize,Z=b.initiatorType;U&&iy(Z)&&(b=b.responseEnd,g+=U*(b<p?1:(p-D)/(b-D)))}if(--l,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kc=null,jc=null;function eo(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hc=null;function nA(){var t=window.event;return t&&t.type==="popstate"?t===Hc?!1:(Hc=t,!0):(Hc=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(aA)}:sy;function aA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function oy(t,n){var s=n,l=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(u),aa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")gs(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,gs(s);for(var f=s.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[xa]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gs(t.ownerDocument.body);s=u}while(s);aa(n)}function uy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Qc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qc(s),tu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sA(t,n,s,l){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function lA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=sn(t.nextSibling),t===null))return null;return t}function cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sn(t.nextSibling),t===null))return null;return t}function Pc(t){return t.data==="$?"||t.data==="$~"}function $c(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oA(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qc=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return sn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,s){switch(n=eo(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function gs(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tu(t)}var ln=new Map,gy=new Set;function to(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=K.d;K.d={f:uA,r:cA,D:fA,C:hA,L:dA,m:gA,X:yA,S:mA,M:pA};function uA(){var t=ii.f(),n=kl();return t||n}function cA(t){var n=Tr(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):ii.r(t)}var na=typeof document>"u"?null:document;function my(t,n,s){var l=na;if(l&&typeof n=="string"&&n){var u=$t(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),gy.has(u)||(gy.add(u),t={rel:t,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),gt(n,"link",t),lt(n),l.head.appendChild(n)))}}function fA(t){ii.D(t),my("dns-prefetch",t,null)}function hA(t,n){ii.C(t,n),my("preconnect",t,n)}function dA(t,n,s){ii.L(t,n,s);var l=na;if(l&&t&&n){var u='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+$t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+$t(s.imageSizes)+'"]')):u+='[href="'+$t(t)+'"]';var f=u;switch(n){case"style":f=ia(t);break;case"script":f=ra(t)}ln.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ln.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ms(f))||n==="script"&&l.querySelector(ys(f))||(n=l.createElement("link"),gt(n,"link",t),lt(n),l.head.appendChild(n)))}}function gA(t,n){ii.m(t,n);var s=na;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ra(t)}if(!ln.has(f)&&(t=T({rel:"modulepreload",href:t},n),ln.set(f,t),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ys(f)))return}l=s.createElement("link"),gt(l,"link",t),lt(l),s.head.appendChild(l)}}}function mA(t,n,s){ii.S(t,n,s);var l=na;if(l&&t){var u=Rr(l).hoistableStyles,f=ia(t);n=n||"default";var g=u.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(ms(f)))p.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ln.get(f))&&ef(t,s);var b=g=l.createElement("link");lt(b),gt(b,"link",t),b._p=new Promise(function(D,U){b.onload=D,b.onerror=U}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,no(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},u.set(f,g)}}}function yA(t,n){ii.X(t,n);var s=na;if(s&&t){var l=Rr(s).hoistableScripts,u=ra(t),f=l.get(u);f||(f=s.querySelector(ys(u)),f||(t=T({src:t,async:!0},n),(n=ln.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function pA(t,n){ii.M(t,n);var s=na;if(s&&t){var l=Rr(s).hoistableScripts,u=ra(t),f=l.get(u);f||(f=s.querySelector(ys(u)),f||(t=T({src:t,async:!0,type:"module"},n),(n=ln.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yy(t,n,s,l){var u=(u=de.current)?to(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ia(s.href),s=Rr(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ia(s.href);var f=Rr(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ms(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ln.set(t,s),f||bA(u,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ra(s),s=Rr(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ia(t){return'href="'+$t(t)+'"'}function ms(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function bA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),gt(n,"link",s),lt(n),t.head.appendChild(n))}function ra(t){return'[src="'+$t(t)+'"]'}function ys(t){return"script[async]"+t}function by(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$t(s.href)+'"]');if(l)return n.instance=l,lt(l),l;var u=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),gt(l,"style",u),no(l,s.precedence,t),n.instance=l;case"stylesheet":u=ia(s.href);var f=t.querySelector(ms(u));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=py(s),(u=ln.get(u))&&ef(l,u),f=(t.ownerDocument||t).createElement("link"),lt(f);var g=f;return g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),gt(f,"link",l),n.state.loading|=4,no(f,s.precedence,t),n.instance=f;case"script":return f=ra(s.src),(u=t.querySelector(ys(f)))?(n.instance=u,lt(u),u):(l=s,(u=ln.get(f))&&(l=T({},s),tf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),lt(u),gt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,s.precedence,t));return n.instance}function no(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var io=null;function vy(t,n,s){if(io===null){var l=new Map,u=io=new Map;u.set(s,l)}else u=io,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var f=s[u];if(!(f[xa]||f[ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function Sy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function vA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SA(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=ia(l.href),f=n.querySelector(ms(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ro.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,lt(f);return}f=n.ownerDocument||n,l=py(l),(u=ln.get(u))&&ef(l,u),f=f.createElement("link"),lt(f);var g=f;g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),gt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ro.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var nf=0;function AA(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*tA());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ao=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ao=new Map,n.forEach(EA,t),ao=null,ro.call(t))}function EA(t,n){if(!(n.state.loading&4)){var s=ao.get(t);if(s)var l=s.get(null);else{s=new Map,ao.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,u),s.set(g,u),this.count++,l=ro.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ps={$$typeof:te,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function NA(t,n,s,l,u,f,g,p,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.hiddenUpdates=Po(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ey(t,n,s,l,u,f,g,p,b,D,U,Z){return t=new NA(t,n,s,g,b,D,U,Z,p),n=1,f===!0&&(n|=24),f=Wt(3,null,null,n),t.current=f,f.stateNode=t,n=Lu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},zu(f),t}function Ny(t){return t?(t=Lr,t):Lr}function Ty(t,n,s,l,u,f){u=Ny(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ai(t,l,n),s!==null&&(xt(s,t,n),Ha(s,t,n))}function Ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function rf(t,n){Ry(t,n),(t=t.alternate)&&Ry(t,n)}function Iy(t){if(t.tag===13||t.tag===31){var n=er(t,67108864);n!==null&&xt(n,t,67108864),rf(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=Ft();n=$o(n);var s=er(t,n);s!==null&&xt(s,t,n),rf(t,n)}}var lo=!0;function TA(t,n,s,l){var u=L.T;L.T=null;var f=K.p;try{K.p=2,af(t,n,s,l)}finally{K.p=f,L.T=u}}function RA(t,n,s,l){var u=L.T;L.T=null;var f=K.p;try{K.p=8,af(t,n,s,l)}finally{K.p=f,L.T=u}}function af(t,n,s,l){if(lo){var u=sf(l);if(u===null)Xc(t,n,l,oo,s),Dy(t,l);else if(CA(u,t,n,s,l))l.stopPropagation();else if(Dy(t,l),n&4&&-1<IA.indexOf(t)){for(;u!==null;){var f=Tr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Hi(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var b=1<<31-_t(g);p.entanglements[1]|=b,g&=~b}Vn(f),(Ie&6)===0&&(Xl=zt()+500,fs(0))}}break;case 31:case 13:p=er(f,2),p!==null&&xt(p,f,2),kl(),rf(f,2)}if(f=sf(l),f===null&&Xc(t,n,l,oo,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else Xc(t,n,l,null,s)}}function sf(t){return t=lu(t),lf(t)}var oo=null;function lf(t){if(oo=null,t=Nr(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oo=t,null}function wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f0()){case Mh:return 2;case Zh:return 8;case Ps:case h0:return 32;case Yh:return 268435456;default:return 32}default:return 32}}var of=!1,xi=null,Bi=null,Ui=null,bs=new Map,vs=new Map,Li=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":bs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(n.pointerId)}}function Ss(t,n,s,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Tr(n),n!==null&&Iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function CA(t,n,s,l,u){switch(n){case"focusin":return xi=Ss(xi,t,n,s,l,u),!0;case"dragenter":return Bi=Ss(Bi,t,n,s,l,u),!0;case"mouseover":return Ui=Ss(Ui,t,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return bs.set(f,Ss(bs.get(f)||null,t,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,vs.set(f,Ss(vs.get(f)||null,t,n,s,l,u)),!0}return!1}function Oy(t){var n=Nr(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,Xh(t.priority,function(){Cy(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Xh(t.priority,function(){Cy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);su=l,s.target.dispatchEvent(l),su=null}else return n=Tr(s),n!==null&&Iy(n),t.blockedOn=s,!1;n.shift()}return!0}function Vy(t,n,s){uo(t)&&s.delete(n)}function wA(){of=!1,xi!==null&&uo(xi)&&(xi=null),Bi!==null&&uo(Bi)&&(Bi=null),Ui!==null&&uo(Ui)&&(Ui=null),bs.forEach(Vy),vs.forEach(Vy)}function co(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wA)))}var fo=null;function xy(t){fo!==t&&(fo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fo===t&&(fo=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(lf(l||s)===null)continue;break}var f=Tr(s);f!==null&&(t.splice(n,3),n-=3,ac(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function aa(t){function n(b){return co(b,t)}xi!==null&&co(xi,t),Bi!==null&&co(Bi,t),Ui!==null&&co(Ui,t),bs.forEach(n),vs.forEach(n);for(var s=0;s<Li.length;s++){var l=Li[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(s=Li[0],s.blockedOn===null);)Oy(s),s.blockedOn===null&&Li.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],g=u[It]||null;if(typeof f=="function")g||xy(s);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[It]||null)p=g.formAction;else if(lf(u)!==null)continue}else p=g.action;typeof p=="function"?s[l+1]=p:(s.splice(l,3),l-=3),xy(s)}}}function By(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}ho.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Ft();Ty(s,l,t,n,null,null)},ho.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ty(t.current,2,null,t,null,null),kl(),n[Er]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wh();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Li.length&&n!==0&&n<Li[s].priority;s++);Li.splice(s,0,t),s===0&&Oy(t)}};var Uy=e.version;if(Uy!=="19.2.1")throw Error(a(527,Uy,"19.2.1"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var DA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Da=go.inject(DA),Gt=go}catch{}}return Es.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",u=_g,f=Kg,g=Wg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Ey(t,1,!1,null,null,s,l,null,u,f,g,By),t[Er]=n.current,Wc(t),new uf(n)},Es.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,u="",f=_g,g=Kg,p=Wg,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.formState!==void 0&&(b=s.formState)),n=Ey(t,1,!0,n,s??null,l,u,b,f,g,p,By),n.context=Ny(null),s=n.current,l=Ft(),l=$o(l),u=Si(l),u.callback=null,Ai(s,u,l),s=l,n.current.lanes=s,Va(n,s),Vn(n),t[Er]=n.current,Wc(t),new ho(n)},Es.version="19.2.1",Es}var Xy;function _A(){if(Xy)return hf.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=GA(),hf.exports}var KA=_A(),fe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(fe||(fe={}));function Kf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var C;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(C||(C={}));function WA(){let i=0,e=0;for(let a=0;a<28;a+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[i,e]}let r=this.buf[this.pos++];if(i|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[i,e];for(let a=3;a<=31;a+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function yf(i,e,r){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),m=(d?h|128:h)&255;if(r.push(m),!d)return}const a=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(r.push((o?a|128:a)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),m=(d?h|128:h)&255;if(r.push(m),!d)return}r.push(e>>>31&1)}}const No=4294967296;function Jy(i){const e=i[0]==="-";e&&(i=i.slice(1));const r=1e6;let a=0,o=0;function c(h,d){const m=Number(i.slice(h,d));o*=r,a=a*r+m,a>=No&&(o=o+(a/No|0),a=a%No)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?vb(a,o):Wf(a,o)}function XA(i,e){let r=Wf(i,e);const a=r.hi&2147483648;a&&(r=vb(r.lo,r.hi));const o=bb(r.lo,r.hi);return a?"-"+o:o}function bb(i,e){if({lo:i,hi:e}=JA(i,e),e<=2097151)return String(No*e+i);const r=i&16777215,a=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=r+a*6777216+o*6710656,h=a+o*8147497,d=o*2;const m=1e7;return c>=m&&(h+=Math.floor(c/m),c%=m),h>=m&&(d+=Math.floor(h/m),h%=m),d.toString()+ky(h)+ky(c)}function JA(i,e){return{lo:i>>>0,hi:e>>>0}}function Wf(i,e){return{lo:i|0,hi:e|0}}function vb(i,e){return e=~e,i?i=~i+1:e+=1,Wf(i,e)}const ky=i=>{const e=String(i);return"0000000".slice(e.length)+e};function Cf(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let r=0;r<9;r++)e.push(i&127|128),i=i>>7;e.push(1)}}function kA(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let r=5;(i&128)!==0&&r<10;r++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var jy={};const Je=jA();function jA(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof jy!="object"||jy.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>a||d<r)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<o)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),Fy(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),Hy(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),Fy(r),Jy(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),Hy(r),Jy(r)},dec(r,a){return XA(r,a)},uDec(r,a){return bb(r,a)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function Hy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function br(i,e){switch(i){case C.STRING:return"";case C.BOOL:return!1;case C.DOUBLE:case C.FLOAT:return 0;case C.INT64:case C.UINT64:case C.SFIXED64:case C.FIXED64:case C.SINT64:return e?"0":Je.zero;case C.BYTES:return new Uint8Array(0);default:return 0}}function FA(i,e){switch(i){case C.BOOL:return e===!1;case C.STRING:return e==="";case C.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const Sb=2,ai=Symbol.for("reflect unsafe local");function Ab(i,e){const r=i[e.localName].case;return r===void 0?r:e.fields.find(a=>a.localName===r)}function HA(i,e){const r=e.localName;if(e.oneof)return i[e.oneof.localName].case===r;if(e.presence!=Sb)return i[r]!==void 0&&Object.prototype.hasOwnProperty.call(i,r);switch(e.fieldKind){case"list":return i[r].length>0;case"map":return Object.keys(i[r]).length>0;case"scalar":return!FA(e.scalar,i[r]);case"enum":return i[r]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Us(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function Eb(i,e){if(e.oneof){const r=i[e.oneof.localName];return r.case===e.localName?r.value:void 0}return i[e.localName]}function Nb(i,e,r){e.oneof?i[e.oneof.localName]={case:e.localName,value:r}:i[e.localName]=r}function QA(i,e){const r=e.localName;if(e.oneof){const a=e.oneof.localName;i[a].case===r&&(i[a]={case:void 0})}else if(e.presence!=Sb)delete i[r];else switch(e.fieldKind){case"map":i[r]={};break;case"list":i[r]=[];break;case"enum":i[r]=e.enum.values[0].number;break;case"scalar":i[r]=br(e.scalar,e.longAsString);break}}function Wi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function Xf(i,e){var r,a,o,c;if(Wi(i)&&ai in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Jf(i,e){var r,a,o,c;if(Wi(i)&&ai in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function kf(i,e){return Wi(i)&&ai in i&&"desc"in i&&Wi(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function PA(i){return Tb(i.$typeName)}function Js(i){const e=i.fields[0];return Tb(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Tb(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const $A=999,qA=998,To=2;function H(i,e){if(Kf(e,i))return e;const r=rE(i);return e!==void 0&&eE(i,r,e),r}function eE(i,e,r){for(const a of i.members){let o=r[a.localName];if(o==null)continue;let c;if(a.kind=="oneof"){const h=Ab(r,a);if(!h)continue;c=h,o=Eb(r,h)}else c=a;switch(c.fieldKind){case"message":o=jf(c,o);break;case"scalar":o=Rb(c,o);break;case"list":o=nE(c,o);break;case"map":o=tE(c,o);break}Nb(e,c,o)}return e}function Rb(i,e){return i.scalar==C.BYTES?Ff(e):e}function tE(i,e){if(Wi(e)){if(i.scalar==C.BYTES)return Qy(e,Ff);if(i.mapKind=="message")return Qy(e,r=>jf(i,r))}return e}function nE(i,e){if(Array.isArray(e)){if(i.scalar==C.BYTES)return e.map(Ff);if(i.listKind=="message")return e.map(r=>jf(i,r))}return e}function jf(i,e){if(i.fieldKind=="message"&&!i.oneof&&Js(i.message))return Rb(i.message.fields[0],e);if(Wi(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Kf(e,i.message))return H(i.message,e)}return e}function Ff(i){return Array.isArray(i)?new Uint8Array(i):i}function Qy(i,e){const r={};for(const a of Object.entries(i))r[a[0]]=e(a[1]);return r}const iE=Symbol(),Py=new WeakMap;function rE(i){let e;if(aE(i)){const r=Py.get(i);let a,o;if(r)({prototype:a,members:o}=r);else{a={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=To&&(o.add(c),a[c.localName]=pf(c)));Py.set(i,{prototype:a,members:o})}e=Object.create(a),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=To)||(e[c.localName]=pf(c))}else{e={$typeName:i.typeName};for(const r of i.members)(r.kind=="oneof"||r.presence==To)&&(e[r.localName]=pf(r))}return e}function aE(i){switch(i.file.edition){case $A:return!1;case qA:return!0;default:return i.fields.some(e=>e.presence!=To&&e.fieldKind!="message"&&!e.oneof)}}function pf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return iE;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?br(i.scalar,i.longAsString):i.enum.values[0].number}const sE=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Lt extends Error{constructor(e,r,a="FieldValueInvalidError"){super(r),this.name=a,this.field=()=>e}}function lE(i){return i instanceof Error&&sE.includes(i.name)&&"field"in i&&typeof i.field=="function"}const bf=Symbol.for("@bufbuild/protobuf/text-encoding");function Hf(){if(globalThis[bf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[bf]={encodeUtf8(r){return i.encode(r)},decodeUtf8(r){return e.decode(r)},checkUtf8(r){try{return encodeURIComponent(r),!0}catch{return!1}}}}return globalThis[bf]}var et;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(et||(et={}));const Ib=34028234663852886e22,Cb=-34028234663852886e22,wb=4294967295,Db=2147483647,Ob=-2147483648;class Vb{constructor(e=Hf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let r=new Uint8Array(e),a=0;for(let o=0;o<this.chunks.length;o++)r.set(this.chunks[o],a),a+=this.chunks[o].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for($y(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return vf(e),Cf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.encodeUtf8(e);return this.uint32(r.byteLength),this.raw(r)}float(e){oE(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){$y(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){vf(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return vf(e),e=(e<<1^e>>31)>>>0,Cf(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=Je.enc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=Je.uEnc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}int64(e){let r=Je.enc(e);return yf(r.lo,r.hi,this.buf),this}sint64(e){const r=Je.enc(e),a=r.hi>>31,o=r.lo<<1^a,c=(r.hi<<1|r.lo>>>31)^a;return yf(o,c,this.buf),this}uint64(e){const r=Je.uEnc(e);return yf(r.lo,r.hi,this.buf),this}}class Qf{constructor(e,r=Hf().decodeUtf8){this.decodeUtf8=r,this.varint64=WA,this.uint32=kA,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),r=e>>>3,a=e&7;if(r<=0||a<0||a>5)throw new Error("illegal tag: field no "+r+" wire type "+a);return[r,a]}skip(e,r){let a=this.pos;switch(e){case et.Varint:for(;this.buf[this.pos++]&128;);break;case et.Bit64:this.pos+=4;case et.Bit32:this.pos+=4;break;case et.LengthDelimited:let o=this.uint32();this.pos+=o;break;case et.StartGroup:for(;;){const[c,h]=this.tag();if(h===et.EndGroup){if(r!==void 0&&c!==r)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Je.dec(...this.varint64())}uint64(){return Je.uDec(...this.varint64())}sint64(){let[e,r]=this.varint64(),a=-(e&1);return e=(e>>>1|(r&1)<<31)^a,r=r>>>1^a,Je.dec(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Je.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Je.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.decodeUtf8(this.bytes())}}function vf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>Db||i<Ob)throw new Error("invalid int32: "+i)}function $y(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>wb||i<0)throw new Error("invalid uint32: "+i)}function oE(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>Ib||i<Cb))throw new Error("invalid float32: "+i)}function dr(i,e){const r=i.fieldKind=="list"?Xf(e,i):i.fieldKind=="map"?Jf(e,i):Pf(i,e);if(r===!0)return;let a;switch(i.fieldKind){case"list":a=`expected ${Ub(i)}, got ${ut(e)}`;break;case"map":a=`expected ${Lb(i)}, got ${ut(e)}`;break;default:a=Co(i,e,r)}return new Lt(i,a)}function qy(i,e,r){const a=Pf(i,r);if(a!==!0)return new Lt(i,`list item #${e+1}: ${Co(i,r,a)}`)}function uE(i,e,r){const a=xb(e,i.mapKey);if(a!==!0)return new Lt(i,`invalid map key: ${Co({scalar:i.mapKey},e,a)}`);const o=Pf(i,r);if(o!==!0)return new Lt(i,`map entry ${ut(e)}: ${Co(i,r,o)}`)}function Pf(i,e){return i.scalar!==void 0?xb(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(r=>r.number===e):kf(e,i.message)}function xb(i,e){switch(e){case C.DOUBLE:return typeof i=="number";case C.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>Ib||i<Cb?`${i.toFixed()} out of range`:!0;case C.INT32:case C.SFIXED32:case C.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Db||i<Ob?`${i.toFixed()} out of range`:!0;case C.FIXED32:case C.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>wb||i<0?`${i.toFixed()} out of range`:!0;case C.BOOL:return typeof i=="boolean";case C.STRING:return typeof i!="string"?!1:Hf().checkUtf8(i)||"invalid UTF8";case C.BYTES:return i instanceof Uint8Array;case C.INT64:case C.SFIXED64:case C.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return Je.parse(i),!0}catch{return`${i} out of range`}return!1;case C.FIXED64:case C.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return Je.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Co(i,e,r){return r=typeof r=="string"?`: ${r}`:`, got ${ut(e)}`,i.scalar!==void 0?`expected ${cE(i.scalar)}`+r:i.enum!==void 0?`expected ${i.enum.toString()}`+r:`expected ${Bb(i.message)}`+r}function ut(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:Xf(i)?Ub(i.field()):Jf(i)?Lb(i.field()):kf(i)?Bb(i.desc):Kf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function Bb(i){return`ReflectMessage (${i.typeName})`}function Ub(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${C[i.scalar]})`}}function Lb(i){switch(i.mapKind){case"message":return`ReflectMap (${C[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${C[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${C[i.mapKey]}, ${C[i.scalar]})`}}function cE(i){switch(i){case C.STRING:return"string";case C.BOOL:return"boolean";case C.INT64:case C.SINT64:case C.SFIXED64:return"bigint (int64)";case C.UINT64:case C.FIXED64:return"bigint (uint64)";case C.BYTES:return"Uint8Array";case C.DOUBLE:return"number (float64)";case C.FLOAT:return"number (float32)";case C.FIXED32:case C.UINT32:return"number (uint32)";case C.INT32:case C.SFIXED32:case C.SINT32:return"number (int32)"}}function fn(i,e,r=!0){return new Mb(i,e,r)}const ep=new WeakMap;class Mb{get sortedFields(){const e=ep.get(this.desc);if(e)return e;const r=this.desc.fields.concat().sort((a,o)=>a.number-o.number);return ep.set(this.desc,r),r}constructor(e,r,a=!0){this.lists=new Map,this.maps=new Map,this.check=a,this.desc=e,this.message=this[ai]=r??H(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(r=>[r.number,r]))),this._fieldsByNumber.get(e)}oneofCase(e){return Ns(this.message,e),Ab(this.message,e)}isSet(e){return Ns(this.message,e),HA(this.message,e)}clear(e){Ns(this.message,e),QA(this.message,e)}get(e){Ns(this.message,e);const r=Eb(this.message,e);switch(e.fieldKind){case"list":let a=this.lists.get(e);return(!a||a[ai]!==r)&&this.lists.set(e,a=new fE(e,r,this.check)),a;case"map":let o=this.maps.get(e);return(!o||o[ai]!==r)&&this.maps.set(e,o=new hE(e,r,this.check)),o;case"message":return qf(e,r,this.check);case"scalar":return r===void 0?br(e.scalar,!1):eh(e,r);case"enum":return r??e.enum.values[0].number}}set(e,r){if(Ns(this.message,e),this.check){const o=dr(e,r);if(o)throw o}let a;e.fieldKind=="message"?a=$f(e,r):Jf(r)||Xf(r)?a=r[ai]:a=th(e,r),Nb(this.message,e,a)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Ns(i,e){if(e.parent.typeName!==i.$typeName)throw new Lt(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class fE{field(){return this._field}get size(){return this._arr.length}constructor(e,r,a){this._field=e,this._arr=this[ai]=r,this.check=a}get(e){const r=this._arr[e];return r===void 0?void 0:Sf(this._field,r,this.check)}set(e,r){if(e<0||e>=this._arr.length)throw new Lt(this._field,`list item #${e+1}: out of range`);if(this.check){const a=qy(this._field,e,r);if(a)throw a}this._arr[e]=tp(this._field,r)}add(e){if(this.check){const r=qy(this._field,this._arr.length,e);if(r)throw r}this._arr.push(tp(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Sf(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Sf(this._field,this._arr[e],this.check)]}}class hE{constructor(e,r,a=!0){this.obj=this[ai]=r??{},this.check=a,this._field=e}field(){return this._field}set(e,r){if(this.check){const a=uE(this._field,e,r);if(a)throw a}return this.obj[mo(e)]=dE(this._field,r),this}delete(e){const r=mo(e),a=Object.prototype.hasOwnProperty.call(this.obj,r);return a&&delete this.obj[r],a}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let r=this.obj[mo(e)];return r!==void 0&&(r=Af(this._field,r,this.check)),r}has(e){return Object.prototype.hasOwnProperty.call(this.obj,mo(e))}*keys(){for(const e of Object.keys(this.obj))yield np(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[np(e[0],this._field.mapKey),Af(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Af(this._field,e,this.check)}forEach(e,r){for(const a of this.entries())e.call(r,a[1],a[0],this)}}function $f(i,e){return kf(e)?PA(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?Yb(e.message):e.message:e}function qf(i,e,r){return e!==void 0&&(Js(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:eh(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Wi(e)&&(e=Zb(e))),new Mb(i.message,e,r)}function tp(i,e){return i.listKind=="message"?$f(i,e):th(i,e)}function Sf(i,e,r){return i.listKind=="message"?qf(i,e,r):eh(i,e)}function dE(i,e){return i.mapKind=="message"?$f(i,e):th(i,e)}function Af(i,e,r){return i.mapKind=="message"?qf(i,e,r):e}function mo(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function np(i,e){switch(e){case C.STRING:return i;case C.INT32:case C.FIXED32:case C.UINT32:case C.SFIXED32:case C.SINT32:{const r=Number.parseInt(i);if(Number.isFinite(r))return r;break}case C.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case C.UINT64:case C.FIXED64:try{return Je.uParse(i)}catch{}break;default:try{return Je.parse(i)}catch{}break}return i}function eh(i,e){switch(i.scalar){case C.INT64:case C.SFIXED64:case C.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=Je.parse(e));break;case C.FIXED64:case C.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=Je.uParse(e));break}return e}function th(i,e){switch(i.scalar){case C.INT64:case C.SFIXED64:case C.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=Je.parse(e));break;case C.FIXED64:case C.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=Je.uParse(e));break}return e}function Zb(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Wi(i))for(const[r,a]of Object.entries(i))e.fields[r]=Gb(a);return e}function Yb(i){const e={};for(const[r,a]of Object.entries(i.fields))e[r]=zb(a);return e}function zb(i){switch(i.kind.case){case"structValue":return Yb(i.kind.value);case"listValue":return i.kind.value.values.map(zb);case"nullValue":case void 0:return null;default:return i.kind.value}}function Gb(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const r={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const a of i)r.values.push(Gb(a));e.kind={case:"listValue",value:r}}else e.kind={case:"structValue",value:Zb(i)};break}return e}function nh(i){const e=mE();let r=i.length*3/4;i[i.length-2]=="="?r-=2:i[i.length-1]=="="&&(r-=1);let a=new Uint8Array(r),o=0,c=0,h,d=0;for(let m=0;m<i.length;m++){if(h=e[i.charCodeAt(m)],h===void 0)switch(i[m]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:a[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:a[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:a[o++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return a.subarray(0,o)}function gE(i,e="std"){const r=_b(e),a=e=="std";let o="",c=0,h,d=0;for(let m=0;m<i.length;m++)switch(h=i[m],c){case 0:o+=r[h>>2],d=(h&3)<<4,c=1;break;case 1:o+=r[d|h>>4],d=(h&15)<<2,c=2;break;case 2:o+=r[d|h>>6],o+=r[h&63],c=0;break}return c&&(o+=r[d],a&&(o+="=",c==1&&(o+="="))),o}let yo,ip,sa;function _b(i){return yo||(yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ip=yo.slice(0,-2).concat("-","_")),i=="url"?ip:yo}function mE(){if(!sa){sa=[];const i=_b("std");for(let e=0;e<i.length;e++)sa[i[e].charCodeAt(0)]=e;sa[45]=i.indexOf("+"),sa[95]=i.indexOf("/")}return sa}function Ls(i){let e=!1;const r=[];for(let a=0;a<i.length;a++){let o=i.charAt(a);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),r.push(o);break}}return r.join("")}const yE=new Set(["constructor","toString","toJSON","valueOf"]);function Ms(i){return yE.has(i)?i+"$":i}function ih(i){for(const e of i.field)Us(e,"jsonName")||(e.jsonName=Ls(e.name));i.nestedType.forEach(ih)}function pE(i,e){const r=i.values.find(a=>a.name===e);if(!r)throw new Error(`cannot parse ${i} default value: ${e}`);return r.number}function bE(i,e){switch(i){case C.STRING:return e;case C.BYTES:{const r=vE(e);if(r===!1)throw new Error(`cannot parse ${C[i]} default value: ${e}`);return r}case C.INT64:case C.SFIXED64:case C.SINT64:return Je.parse(e);case C.UINT64:case C.FIXED64:return Je.uParse(e);case C.DOUBLE:case C.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case C.BOOL:return e==="true";case C.INT32:case C.UINT32:case C.SINT32:case C.FIXED32:case C.SFIXED32:return parseInt(e,10)}}function vE(i){const e=[],r={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(a){if(this.tail.length>=a){const o=this.tail.substring(0,a);return this.tail=this.tail.substring(a),o}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":e.push(r.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const a=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(a+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const a=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(a+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const a=r.c,o=r.take(4);if(o===!1)return!1;const c=parseInt(a+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const a=r.c,o=r.take(8);if(o===!1)return!1;const c=Je.uEnc(a+o),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(r.c.charCodeAt(0))}return new Uint8Array(e)}function*wf(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*wf(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*wf(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function Kb(...i){const e=SE();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const a of i[0].file)lp(a,e);return e}if("$typeName"in i[0]){let h=function(d){const m=[];for(const y of d.dependency){if(e.getFile(y)!=null||c.has(y))continue;const v=o(y);if(!v)throw new Error(`Unable to resolve ${y}, imported by ${d.name}`);"kind"in v?e.addFile(v,!1,!0):(c.add(v.name),m.push(v))}return m.concat(...m.map(h))};var r=h;const a=i[0],o=i[1],c=new Set;for(const d of[a,...h(a)].reverse())lp(d,e)}else for(const a of i)for(const o of a.files)e.addFile(o);return e}function SE(){const i=new Map,e=new Map,r=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return r.values()},addFile(a,o,c){if(r.set(a.proto.name,a),!o)for(const h of wf(a))this.add(h);if(c)for(const h of a.dependencies)this.addFile(h,o,c)},add(a){if(a.kind=="extension"){let o=e.get(a.extendee.typeName);o||e.set(a.extendee.typeName,o=new Map),o.set(a.number,a)}i.set(a.typeName,a)},get(a){return i.get(a)},getFile(a){return r.get(a)},getMessage(a){const o=i.get(a);return o?.kind=="message"?o:void 0},getEnum(a){const o=i.get(a);return o?.kind=="enum"?o:void 0},getExtension(a){const o=i.get(a);return o?.kind=="extension"?o:void 0},getExtensionFor(a,o){var c;return(c=e.get(a.typeName))===null||c===void 0?void 0:c.get(o)},getService(a){const o=i.get(a);return o?.kind=="service"?o:void 0}}}const AE=998,EE=999,NE=9,Zs=10,Ds=11,TE=12,rp=14,rh=3,RE=2,ap=1,IE=0,Ef=1,sp=2,CE=3,wE=1,DE=2,OE=1,Wb={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lp(i,e){var r,a;const o={kind:"file",proto:i,deprecated:(a=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,edition:UE(i),name:i.name.replace(/\.proto$/,""),dependencies:LE(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var m;Nn(((m=d.proto.options)===null||m===void 0?void 0:m.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)Xb(d,o,void 0,e);for(const d of i.messageType)Jb(d,o,void 0,e,h);for(const d of i.service)VE(d,o,e);Df(o,e);for(const d of c.values())Of(d,e,h);for(const d of o.messages)Of(d,e,h),Df(d,e);e.addFile(o,!0)}function Df(i,e){switch(i.kind){case"file":for(const r of i.proto.extension){const a=Vf(r,i,e);i.extensions.push(a),e.add(a)}break;case"message":for(const r of i.proto.extension){const a=Vf(r,i,e);i.nestedExtensions.push(a),e.add(a)}for(const r of i.nestedMessages)Df(r,e);break}}function Of(i,e,r){const a=i.proto.oneofDecl.map(c=>BE(c,i)),o=new Set;for(const c of i.proto.field){const h=YE(c,a),d=Vf(c,i,e,h,r);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of a.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Of(c,e,r)}function Xb(i,e,r,a){var o,c,h,d,m;const y=ME(i.name,i.value),v={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:r,open:!0,name:i.name,typeName:Lo(i,r,e),value:{},values:[],sharedPrefix:y,toString(){return`enum ${this.typeName}`}};v.open=KE(v),a.add(v);for(const T of i.value){const V=T.name;v.values.push(v.value[T.number]={kind:"enum_value",proto:T,deprecated:(d=(h=T.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:v,name:V,localName:Ms(y==null?V:V.substring(y.length)),number:T.number,toString(){return`enum value ${v.typeName}.${V}`}})}((m=r?.nestedEnums)!==null&&m!==void 0?m:e.enums).push(v)}function Jb(i,e,r,a,o){var c,h,d,m;const y={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:r,name:i.name,typeName:Lo(i,r,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(y):(((m=r?.nestedMessages)!==null&&m!==void 0?m:e.messages).push(y),a.add(y));for(const v of i.enumType)Xb(v,e,y,a);for(const v of i.nestedType)Jb(v,e,y,a,o)}function VE(i,e,r){var a,o;const c={kind:"service",proto:i,deprecated:(o=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Lo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),r.add(c);for(const h of i.method){const d=xE(h,c,r);c.methods.push(d),c.method[d.localName]=d}}function xE(i,e,r){var a,o,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const m=r.getMessage(ri(i.inputType)),y=r.getMessage(ri(i.outputType));Nn(m,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),Nn(y,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const v=i.name;return{kind:"rpc",proto:i,deprecated:(o=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:v,localName:Ms(v.length?Ms(v[0].toLowerCase()+v.substring(1)):v),methodKind:d,input:m,output:y,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:IE,toString(){return`rpc ${e.typeName}.${v}`}}}function BE(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ms(Ls(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Vf(i,e,r,a,o){var c,h,d;const m=o===void 0,y={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:zE(i,a,m,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(m){const I=e.kind=="file"?e:e.file,B=e.kind=="file"?void 0:e,z=Lo(i,B,I);y.kind="extension",y.file=I,y.parent=B,y.oneof=void 0,y.typeName=z,y.jsonName=`[${z}]`,y.toString=()=>`extension ${z}`;const j=r.getMessage(ri(i.extendee));Nn(j,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),y.extendee=j}else{const I=e;Nn(I.kind=="message"),y.parent=I,y.oneof=a,y.localName=a?Ls(i.name):Ms(Ls(i.name)),y.jsonName=i.jsonName,y.toString=()=>`field ${I.typeName}.${i.name}`}const v=i.label,T=i.type,V=(d=i.options)===null||d===void 0?void 0:d.jstype;if(v===rh){const I=T==Ds?o?.get(ri(i.typeName)):void 0;if(I){y.fieldKind="map";const{key:B,value:z}=_E(I);return y.mapKey=B.scalar,y.mapKind=z.fieldKind,y.message=z.message,y.delimitedEncoding=!1,y.enum=z.enum,y.scalar=z.scalar,y}switch(y.fieldKind="list",T){case Ds:case Zs:y.listKind="message",y.message=r.getMessage(ri(i.typeName)),Nn(y.message),y.delimitedEncoding=op(i,e);break;case rp:y.listKind="enum",y.enum=r.getEnum(ri(i.typeName)),Nn(y.enum);break;default:y.listKind="scalar",y.scalar=T,y.longAsString=V==ap;break}return y.packed=GE(i,e),y}switch(T){case Ds:case Zs:y.fieldKind="message",y.message=r.getMessage(ri(i.typeName)),Nn(y.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),y.delimitedEncoding=op(i,e),y.getDefaultValue=()=>{};break;case rp:{const I=r.getEnum(ri(i.typeName));Nn(I!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),y.fieldKind="enum",y.enum=r.getEnum(ri(i.typeName)),y.getDefaultValue=()=>Us(i,"defaultValue")?pE(I,i.defaultValue):void 0;break}default:{y.fieldKind="scalar",y.scalar=T,y.longAsString=V==ap,y.getDefaultValue=()=>Us(i,"defaultValue")?bE(T,i.defaultValue):void 0;break}}return y}function UE(i){switch(i.syntax){case"":case"proto2":return AE;case"proto3":return EE;case"editions":if(i.edition in Wb)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function LE(i,e){return i.dependency.map(r=>{const a=e.getFile(r);if(!a)throw new Error(`Cannot find ${r}, imported by ${i.name}`);return a})}function ME(i,e){const r=ZE(i)+"_";for(const a of e){if(!a.name.toLowerCase().startsWith(r))return;const o=a.name.substring(r.length);if(o.length==0||/^\d/.test(o))return}return r}function ZE(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Lo(i,e,r){let a;return e?a=`${e.typeName}.${i.name}`:r.proto.package.length>0?a=`${r.proto.package}.${i.name}`:a=`${i.name}`,a}function ri(i){return i.startsWith(".")?i.substring(1):i}function YE(i,e){if(!Us(i,"oneofIndex")||i.proto3Optional)return;const r=e[i.oneofIndex];return Nn(r,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),r}function zE(i,e,r,a){if(i.label==RE)return CE;if(i.label==rh)return sp;if(e||i.proto3Optional||r)return Ef;const o=ya("fieldPresence",{proto:i,parent:a});return o==sp&&(i.type==Ds||i.type==Zs)?Ef:o}function GE(i,e){if(i.label!=rh)return!1;switch(i.type){case NE:case TE:case Zs:case Ds:return!1}const r=i.options;return r&&Us(r,"packed")?r.packed:wE==ya("repeatedFieldEncoding",{proto:i,parent:e})}function _E(i){const e=i.fields.find(a=>a.number===1),r=i.fields.find(a=>a.number===2);return Nn(e&&e.fieldKind=="scalar"&&e.scalar!=C.BYTES&&e.scalar!=C.FLOAT&&e.scalar!=C.DOUBLE&&r&&r.fieldKind!="list"&&r.fieldKind!="map"),{key:e,value:r}}function KE(i){var e;return OE==ya("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function op(i,e){return i.type==Zs?!0:DE==ya("messageEncoding",{proto:i,parent:e})}function ya(i,e){var r,a;const o=(r=e.proto.options)===null||r===void 0?void 0:r.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return ya(i,(a=e.parent)!==null&&a!==void 0?a:e.file);const c=Wb[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return ya(i,e.parent)}function Nn(i,e){if(!i)throw new Error(e)}function WE(i){const e=XE(i);return e.messageType.forEach(ih),Kb(e,()=>{}).getFile(e.name)}function XE(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(kb),enumType:i.enumType.map(jb)}))}function kb(i){var e,r,a,o,c,h,d,m;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(r=(e=i.field)===null||e===void 0?void 0:e.map(JE))!==null&&r!==void 0?r:[],extension:[],nestedType:(o=(a=i.nestedType)===null||a===void 0?void 0:a.map(kb))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(jb))!==null&&h!==void 0?h:[],extensionRange:(m=(d=i.extensionRange)===null||d===void 0?void 0:d.map(v=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},v)))!==null&&m!==void 0?m:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function JE(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?kE(i.options):void 0}))}function kE(i){var e,r,a;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(a=(r=i.editionDefaults)===null||r===void 0?void 0:r.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&a!==void 0?a:[],uninterpretedOption:[]}))}function jb(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(r=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},r))})}function re(i,e,...r){return r.reduce((a,o)=>a.nestedMessages[o],i.messages[e])}const jE=WE({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),FE=re(jE,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var cp;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(cp||(cp={}));var fp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(fp||(fp={}));var hp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(hp||(hp={}));var dp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(dp||(dp={}));var gp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(gp||(gp={}));var mp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mp||(mp={}));var yp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yp||(yp={}));var pp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(pp||(pp={}));var bp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(bp||(bp={}));var vp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(vp||(vp={}));var Sp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(Sp||(Sp={}));var Ap;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Ap||(Ap={}));var Ep;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ep||(Ep={}));var Np;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Np||(Np={}));var Tp;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tp||(Tp={}));var Rp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Rp||(Rp={}));var Ip;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Ip||(Ip={}));var Cp;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Cp||(Cp={}));var wp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(wp||(wp={}));const Dp={readUnknownFields:!0};function HE(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function hn(i,e,r){const a=fn(i,void 0,!1);return Fb(a,new Qf(e),HE(r),!1,e.byteLength),a.message}function Fb(i,e,r,a,o){var c;const h=a?e.len:e.pos+o;let d,m;const y=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,m]=e.tag(),!(a&&m==et.EndGroup));){const v=i.findNumber(d);if(!v){const T=e.skip(m,d);r.readUnknownFields&&y.push({no:d,wireType:m,data:T});continue}Hb(i,e,v,m,r)}if(a&&(m!=et.EndGroup||d!==o))throw new Error("invalid end group tag");y.length>0&&i.setUnknown(y)}function Hb(i,e,r,a,o){var c;switch(r.fieldKind){case"scalar":i.set(r,pa(e,r.scalar));break;case"enum":const h=pa(e,C.INT32);if(r.enum.open)i.set(r,h);else if(r.enum.values.some(m=>m.number===h))i.set(r,h);else if(o.readUnknownFields){const m=[];Cf(h,m);const y=(c=i.getUnknown())!==null&&c!==void 0?c:[];y.push({no:r.number,wireType:a,data:new Uint8Array(m)}),i.setUnknown(y)}break;case"message":i.set(r,ah(e,o,r,i.get(r)));break;case"list":PE(e,a,i.get(r),o);break;case"map":QE(e,i.get(r),o);break}}function QE(i,e,r){const a=e.field();let o,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[m]=i.tag();switch(m){case 1:o=pa(i,a.mapKey);break;case 2:switch(a.mapKind){case"scalar":c=pa(i,a.scalar);break;case"enum":c=i.int32();break;case"message":c=ah(i,r,a);break}break}}if(o===void 0&&(o=br(a.mapKey,!1)),c===void 0)switch(a.mapKind){case"scalar":c=br(a.scalar,!1);break;case"enum":c=a.enum.values[0].number;break;case"message":c=fn(a.message,void 0,!1);break}e.set(o,c)}function PE(i,e,r,a){var o;const c=r.field();if(c.listKind==="message"){r.add(ah(i,a,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:C.INT32;if(!(e==et.LengthDelimited&&h!=C.STRING&&h!=C.BYTES)){r.add(pa(i,h));return}const m=i.uint32()+i.pos;for(;i.pos<m;)r.add(pa(i,h))}function ah(i,e,r,a){const o=r.delimitedEncoding,c=a??fn(r.message,void 0,!1);return Fb(c,i,e,o,o?r.number:i.uint32()),c}function pa(i,e){switch(e){case C.STRING:return i.string();case C.BOOL:return i.bool();case C.DOUBLE:return i.double();case C.FLOAT:return i.float();case C.INT32:return i.int32();case C.INT64:return i.int64();case C.UINT64:return i.uint64();case C.FIXED64:return i.fixed64();case C.BYTES:return i.bytes();case C.FIXED32:return i.fixed32();case C.SFIXED32:return i.sfixed32();case C.SFIXED64:return i.sfixed64();case C.SINT64:return i.sint64();case C.UINT32:return i.uint32();case C.SINT32:return i.sint32()}}function fi(i,e){var r;const a=hn(FE,nh(i));return a.messageType.forEach(ih),a.dependency=(r=e?.map(c=>c.proto.name))!==null&&r!==void 0?r:[],Kb(a,c=>e?.find(h=>h.proto.name===c)).getFile(a.name)}const $E=fi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function qE(i){return new Date(e1(i))}function e1(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const t1=fi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Qb=fi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),n1=re(Qb,0),i1=3,Op={writeUnknownFields:!0};function r1(i){return i?Object.assign(Object.assign({},Op),i):Op}function Xi(i,e,r){return wo(new Vb,r1(r),fn(i,e)).finish()}function wo(i,e,r){var a;for(const o of r.sortedFields){if(!r.isSet(o)){if(o.presence==i1)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}Pb(i,e,r,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(a=r.getUnknown())!==null&&a!==void 0?a:[])i.tag(o,c).raw(h);return i}function Pb(i,e,r,a){var o;switch(a.fieldKind){case"scalar":case"enum":Do(i,r.desc.typeName,a.name,(o=a.scalar)!==null&&o!==void 0?o:C.INT32,a.number,r.get(a));break;case"list":a1(i,e,a,r.get(a));break;case"message":$b(i,e,a,r.get(a));break;case"map":for(const[c,h]of r.get(a))s1(i,e,a,c,h);break}}function Do(i,e,r,a,o,c){qb(i.tag(o,l1(a)),e,r,a,c)}function $b(i,e,r,a){r.delimitedEncoding?wo(i.tag(r.number,et.StartGroup),e,a).tag(r.number,et.EndGroup):wo(i.tag(r.number,et.LengthDelimited).fork(),e,a).join()}function a1(i,e,r,a){var o;if(r.listKind=="message"){for(const h of a)$b(i,e,r,h);return}const c=(o=r.scalar)!==null&&o!==void 0?o:C.INT32;if(r.packed){if(!a.size)return;i.tag(r.number,et.LengthDelimited).fork();for(const h of a)qb(i,r.parent.typeName,r.name,c,h);i.join();return}for(const h of a)Do(i,r.parent.typeName,r.name,c,r.number,h)}function s1(i,e,r,a,o){var c;switch(i.tag(r.number,et.LengthDelimited).fork(),Do(i,r.parent.typeName,r.name,r.mapKey,1,a),r.mapKind){case"scalar":case"enum":Do(i,r.parent.typeName,r.name,(c=r.scalar)!==null&&c!==void 0?c:C.INT32,2,o);break;case"message":wo(i.tag(2,et.LengthDelimited).fork(),e,o).join();break}i.join()}function qb(i,e,r,a,o){try{switch(a){case C.STRING:i.string(o);break;case C.BOOL:i.bool(o);break;case C.DOUBLE:i.double(o);break;case C.FLOAT:i.float(o);break;case C.INT32:i.int32(o);break;case C.INT64:i.int64(o);break;case C.UINT64:i.uint64(o);break;case C.FIXED64:i.fixed64(o);break;case C.BYTES:i.bytes(o);break;case C.FIXED32:i.fixed32(o);break;case C.SFIXED32:i.sfixed32(o);break;case C.SFIXED64:i.sfixed64(o);break;case C.SINT64:i.sint64(o);break;case C.UINT32:i.uint32(o);break;case C.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${r} to binary: ${c.message}`):c}}function l1(i){switch(i){case C.BYTES:case C.STRING:return et.LengthDelimited;case C.DOUBLE:case C.FIXED64:case C.SFIXED64:return et.Bit64;case C.FIXED32:case C.SFIXED32:case C.FLOAT:return et.Bit32;default:return et.Varint}}function o1(i,e,r){let a=!1;return r||(r=H(n1),a=!0),r.value=Xi(i,e),r.typeUrl=f1(e.$typeName),a?r:void 0}function u1(i,e){if(i.typeUrl==="")return!1;const r=typeof e=="string"?e:e.typeName,a=ev(i.typeUrl);return r===a}function c1(i,e){if(i.typeUrl==="")return;const r=e.kind=="message"?e:e.getMessage(ev(i.typeUrl));if(!(!r||!u1(i,r)))return hn(r,i.value)}function f1(i){return`type.googleapis.com/${i}`}function ev(i){const e=i.lastIndexOf("/"),r=e>=0?i.substring(e+1):i;if(!r.length)throw new Error(`invalid type url: ${i}`);return r}const sh=fi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),h1=re(sh,0),tv=re(sh,1),d1=re(sh,2);var xf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(xf||(xf={}));const g1=fi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function m1(i,e){nv(e,i);const r=p1(i.$unknown,e),[a,o,c]=Mo(e);for(const h of r)Hb(a,new Qf(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function y1(i,e,r){var a;nv(e,i);const o=((a=i.$unknown)!==null&&a!==void 0?a:[]).filter(y=>y.no!==e.number),[c,h]=Mo(e,r),d=new Vb;Pb(d,{writeUnknownFields:!0},c,h);const m=new Qf(d.finish());for(;m.pos<m.len;){const[y,v]=m.tag(),T=m.skip(v,y);o.push({no:y,wireType:v,data:T})}i.$unknown=o}function p1(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let r=i.length-1;r>=0;--r)if(i[r].no==e.number)return[i[r]];return[]}return i.filter(r=>r.no===e.number)}function Mo(i,e){const r=i.typeName,a=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:r}),o=Object.assign(Object.assign({},i.extendee),{fields:[a],members:[a],oneofs:[]}),c=H(o,e!==void 0?{[r]:e}:void 0);return[fn(o,c),a,()=>{const h=c[r];if(h===void 0){const d=i.message;return Js(d)?br(d.fields[0].scalar,d.fields[0].longAsString):H(d)}return h}]}function nv(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const b1=3,v1=2,Vp={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function S1(i){return i?Object.assign(Object.assign({},Vp),i):Vp}function A1(i,e,r){return ks(fn(i,e),S1(r))}function E1(i,e,r){var a;const o=A1(i,e,r);return JSON.stringify(o,null,(a=r?.prettySpaces)!==null&&a!==void 0?a:0)}function ks(i,e){var r;const a=I1(i,e);if(a!==void 0)return a;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==b1)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==v1)continue}const h=xp(c,i.get(c),e);h!==void 0&&(o[R1(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(r=i.getUnknown())!==null&&r!==void 0?r:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const m=m1(i.message,d),[y,v]=Mo(d,m),T=xp(v,y.get(v),e);T!==void 0&&(o[d.jsonName]=T)}}return o}function xp(i,e,r){switch(i.fieldKind){case"scalar":return Zo(i,e);case"message":return ks(e,r);case"enum":return lh(i.enum,e,r.enumAsInteger);case"list":return T1(e,r);case"map":return N1(e,r)}}function N1(i,e){const r=i.field(),a={};switch(r.mapKind){case"scalar":for(const[o,c]of i)a[o]=Zo(r,c);break;case"message":for(const[o,c]of i)a[o]=ks(c,e);break;case"enum":for(const[o,c]of i)a[o]=lh(r.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?a:void 0}function T1(i,e){const r=i.field(),a=[];switch(r.listKind){case"scalar":for(const o of i)a.push(Zo(r,o));break;case"enum":for(const o of i)a.push(lh(r.enum,o,e.enumAsInteger));break;case"message":for(const o of i)a.push(ks(o,e));break}return e.alwaysEmitImplicit||a.length>0?a:void 0}function lh(i,e,r){var a;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ut(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(r)return e;const o=i.value[e];return(a=o?.name)!==null&&a!==void 0?a:e}function Zo(i,e){var r,a,o,c,h,d;switch(i.scalar){case C.INT32:case C.SFIXED32:case C.SINT32:case C.FIXED32:case C.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(r=dr(i,e))===null||r===void 0?void 0:r.message}`);return e;case C.FLOAT:case C.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=dr(i,e))===null||a===void 0?void 0:a.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case C.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=dr(i,e))===null||o===void 0?void 0:o.message}`);return e;case C.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=dr(i,e))===null||c===void 0?void 0:c.message}`);return e;case C.UINT64:case C.FIXED64:case C.INT64:case C.SFIXED64:case C.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=dr(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case C.BYTES:if(e instanceof Uint8Array)return gE(e);throw new Error(`cannot encode ${i} to JSON: ${(d=dr(i,e))===null||d===void 0?void 0:d.message}`)}}function R1(i,e){return e.useProtoFieldName?i.name:i.jsonName}function I1(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return C1(i.message,e);case"google.protobuf.Timestamp":return O1(i.message);case"google.protobuf.Duration":return w1(i.message);case"google.protobuf.FieldMask":return D1(i.message);case"google.protobuf.Struct":return iv(i.message);case"google.protobuf.Value":return oh(i.message);case"google.protobuf.ListValue":return rv(i.message);default:if(Js(i.desc)){const r=i.desc.fields[0];return Zo(r,i.get(r))}return}}function C1(i,e){if(i.typeUrl==="")return{};const{registry:r}=e;let a,o;if(r&&(a=c1(i,r),a&&(o=r.getMessage(a.$typeName))),!o||!a)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=ks(fn(o,a),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function w1(i){const e=Number(i.seconds),r=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&r<0||e<0&&r>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let a=i.seconds.toString();if(r!==0){let o=Math.abs(r).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),a+="."+o,r<0&&e==0&&(a="-"+a)}return a+"s"}function D1(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Ls(e)}).join(",")}function iv(i){const e={};for(const[r,a]of Object.entries(i.fields))e[r]=oh(a);return e}function oh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return iv(i.kind.value);case"listValue":return rv(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function rv(i){return i.values.map(oh)}function O1(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let r="Z";if(i.nanos>0){const a=(i.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?r="."+a.substring(0,3)+"Z":a.substring(6)==="000"?r="."+a.substring(0,6)+"Z":r="."+a+"Z"}return new Date(e).toISOString().replace(".000Z",r)}const Bp={ignoreUnknownFields:!1};function V1(i){return i?Object.assign(Object.assign({},Bp),i):Bp}function x1(i,e,r){return B1(i,G1(e,i.typeName),r)}function B1(i,e,r){const a=fn(i);try{ba(a,e,V1(r))}catch(o){throw lE(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return a.message}function ba(i,e,r){var a;if(_1(i,e,r))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ut(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const m=c.get(h);if(m){if(m.oneof){if(d===null&&m.fieldKind=="scalar")continue;const y=o.get(m.oneof);if(y!==void 0)throw new Lt(m.oneof,`oneof set multiple times by ${y.name} and ${m.name}`);o.set(m.oneof,m)}Up(i,m,d,r)}else{let y;if(h.startsWith("[")&&h.endsWith("]")&&(y=(a=r.registry)===null||a===void 0?void 0:a.getExtension(h.substring(1,h.length-1)))&&y.extendee.typeName===i.desc.typeName){const[v,T,V]=Mo(y);Up(v,T,d,r),y1(i.message,y,V())}if(!y&&!r.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,r,a){switch(e.fieldKind){case"scalar":Y1(i,e,r);break;case"enum":Z1(i,e,r,a);break;case"message":M1(i,e,r,a);break;case"list":L1(i.get(e),r,a);break;case"map":U1(i.get(e),r,a);break}}function U1(i,e,r){if(e===null)return;const a=i.field();if(typeof e!="object"||Array.isArray(e))throw new Lt(a,"expected object, got "+ut(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Lt(a,"map value must not be null");let h;switch(a.mapKind){case"message":const m=fn(a.message);ba(m,c,r),h=m;break;case"enum":if(h=uh(a.enum,c,r.ignoreUnknownFields,!0),h===Yo)return;break;case"scalar":h=Go(a,c,!0);break}const d=z1(a.mapKey,o);i.set(d,h)}}function L1(i,e,r){if(e===null)return;const a=i.field();if(!Array.isArray(e))throw new Lt(a,"expected Array, got "+ut(e));for(const o of e){if(o===null)throw new Lt(a,"list item must not be null");switch(a.listKind){case"message":const c=fn(a.message);ba(c,o,r),i.add(c);break;case"enum":const h=uh(a.enum,o,r.ignoreUnknownFields,!0);h!==Yo&&i.add(h);break;case"scalar":i.add(Go(a,o,!0));break}}}function M1(i,e,r,a){if(r===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):fn(e.message);ba(o,r,a),i.set(e,o)}function Z1(i,e,r,a){const o=uh(e.enum,r,a.ignoreUnknownFields,!1);o===zo?i.clear(e):o!==Yo&&i.set(e,o)}function Y1(i,e,r){const a=Go(e,r,!1);a===zo?i.clear(e):i.set(e,a)}const Yo=Symbol();function uh(i,e,r,a){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:a?i.values[0].number:zo;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(r)return Yo;break}throw new Error(`cannot decode ${i} from JSON: ${ut(e)}`)}const zo=Symbol();function Go(i,e,r){if(e===null)return r?br(i.scalar,!1):zo;switch(i.scalar){case C.DOUBLE:case C.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Lt(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Lt(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const a=Number(e);if(!Number.isFinite(a))break;return a}break;case C.INT32:case C.FIXED32:case C.SFIXED32:case C.SINT32:case C.UINT32:return av(e);case C.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return nh(e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Lt(i,o)}}break}return e}function z1(i,e){switch(i){case C.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case C.INT32:case C.FIXED32:case C.UINT32:case C.SFIXED32:case C.SINT32:return av(e);default:return e}}function av(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function G1(i,e){try{return JSON.parse(i)}catch(r){const a=r instanceof Error?r.message:String(r);throw new Error(`cannot decode message ${e} from JSON: ${a}`,{cause:r})}}function _1(i,e,r){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return K1(i.message,e,r),!0;case"google.protobuf.Timestamp":return W1(i.message,e),!0;case"google.protobuf.Duration":return X1(i.message,e),!0;case"google.protobuf.FieldMask":return J1(i.message,e),!0;case"google.protobuf.Struct":return sv(i.message,e),!0;case"google.protobuf.Value":return ch(i.message,e),!0;case"google.protobuf.ListValue":return lv(i.message,e),!0;default:if(Js(i.desc)){const a=i.desc.fields[0];return e===null?i.clear(a):i.set(a,Go(a,e,!0)),!0}return!1}}function K1(i,e,r){var a;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ut(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(a=r.registry)===null||a===void 0?void 0:a.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const d=fn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const m=e.value;ba(d,m,r)}else{const m=Object.assign({},e);delete m["@type"],ba(d,m,r)}o1(d.desc,d.message,i)}function W1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const a=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(a))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=Je.parse(a/1e3),i.nanos=0,r[7]&&(i.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9)}function X1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const r=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const a=Number(r[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);if(i.seconds=Je.parse(a),typeof r[2]!="string")return;const o=r[2]+"0".repeat(9-r[2].length);i.nanos=parseInt(o),(a<0||Object.is(a,-0))&&(i.nanos=-i.nanos)}function J1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);if(e==="")return;function r(a){if(a.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=a.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(r)}function sv(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`);for(const[r,a]of Object.entries(e)){const o=H(tv);ch(o,a),i.fields[r]=o}}function ch(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:xf.NULL_VALUE};else if(Array.isArray(e)){const r=H(d1);lv(r,e),i.kind={case:"listValue",value:r}}else{const r=H(h1);sv(r,e),i.kind={case:"structValue",value:r}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`)}return i}function lv(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`);for(const r of e){const a=H(tv);ch(a,r),i.values.push(a)}}function Lp(i){const e=fe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class xe extends Error{constructor(e,r=fe.Unknown,a,o,c){super(k1(e,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=r,this.metadata=new Headers(a??{}),this.details=o??[],this.cause=c}static from(e,r=fe.Unknown){return e instanceof xe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new xe(e.message,fe.Canceled):new xe(e.message,r,void 0,void 0,e):new xe(String(e),r,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const r=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,a=[];for(const o of this.details){if("desc"in o){r.getMessage(o.desc.typeName)&&a.push(H(o.desc,o.value));continue}const c=r.getMessage(o.type);if(c)try{a.push(hn(c,o.value))}catch{}}return a}}function k1(i,e){return i.length?`[${Lp(e)}] ${i}`:`[${Lp(e)}]`}function j1(i,e,r){try{const a=nh(i);return e?hn(e,a,r):a}catch(a){throw xe.from(a,fe.DataLoss)}}function F1(i,e){const r={};for(const a of i.methods){const o=e(a);o!=null&&(r[a.localName]=o)}return r}const Mp=1;function H1(i,e,r=!1){if(e>i){let a=`message size is larger than configured readMaxBytes ${i}`;throw r&&(a=`message size ${e} is larger than configured readMaxBytes ${i}`),new xe(a,fe.ResourceExhausted)}}function Q1(i){return new P1(i)}class P1{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,r)=>e+r.byteLength,0)}decode(e){this.buf.push(e);const r=[];for(;;){let a=this.pop();if(!a)break;r.push(a)}return r}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),r=this.headerView.getUint32(1);return H1(this.readMaxBytes,r,!0),{flags:e,data:new Uint8Array(r)}}cons(e){const r=e.byteLength;if(this.byteLength<r)return!1;let a=0;for(;a<r;){const o=this.buf.shift();o.byteLength>r-a?(e.set(o.subarray(0,r-a),a),this.buf.unshift(o.subarray(r-a)),a+=r-a):(e.set(o,a),a+=o.byteLength)}return!0}}function Zp(i){let e;const r=Q1(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(a){let o=!1;for(;!o;){const c=await e.read();if(c.done)r.byteLength>0&&a.error(new xe("protocol error: incomplete envelope",fe.InvalidArgument)),a.close();else for(const h of r.decode(c.value))a.enqueue(h),o=!0}}})}function Yp(i,e){const r=new Uint8Array(e.length+5);r.set(e,5);const a=new DataView(r.buffer,r.byteOffset,r.byteLength);return a.setUint8(0,i),a.setUint32(1,e.length),r}var $1=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(c){r[c]=i[c]&&function(h){return new Promise(function(d,m){h=i[c](h),o(d,m,h.done,h.value)})}}function o(c,h,d,m){Promise.resolve(m).then(function(y){c({value:y,done:d})},h)}},Ys=function(i){return this instanceof Ys?(this.v=i,this):new Ys(i)},q1=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){a[I]&&(o[I]=function(z){return new Promise(function(j,q){c.push([I,z,j,q])>1||m(I,z)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(a[I](B))}catch(z){V(c[0][3],z)}}function y(I){I.value instanceof Ys?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}},eN=function(i){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:Ys(i[o](h)),done:!1}:c?c(h):h}:c}};function tN(i){return q1(this,arguments,function*(){yield Ys(yield*eN($1(i)))})}var ov=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(c){r[c]=i[c]&&function(h){return new Promise(function(d,m){h=i[c](h),o(d,m,h.done,h.value)})}}function o(c,h,d,m){Promise.resolve(m).then(function(y){c({value:y,done:d})},h)}},va=function(i){return this instanceof va?(this.v=i,this):new va(i)},nN=function(i){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:va(i[o](h)),done:!1}:c?c(h):h}:c}},iN=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){a[I]&&(o[I]=function(z){return new Promise(function(j,q){c.push([I,z,j,q])>1||m(I,z)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(a[I](B))}catch(z){V(c[0][3],z)}}function y(I){I.value instanceof va?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}};function rN(i,e){return F1(i,r=>{switch(r.methodKind){case"unary":return aN(e,r);case"server_streaming":return sN(e,r);case"client_streaming":return lN(e,r);case"bidi_streaming":return oN(e,r);default:return null}})}function aN(i,e){return async(r,a)=>{var o,c;const h=await i.unary(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);return(o=a?.onHeader)===null||o===void 0||o.call(a,h.header),(c=a?.onTrailer)===null||c===void 0||c.call(a,h.trailer),h.message}}function sN(i,e){return(r,a)=>uv(i.stream(e,a?.signal,a?.timeoutMs,a?.headers,tN([r]),a?.contextValues),a)}function lN(i,e){return async(r,a)=>{var o,c,h,d,m,y;const v=await i.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);(m=a?.onHeader)===null||m===void 0||m.call(a,v.header);let T,V=0;try{for(var I=!0,B=ov(v.message),z;z=await B.next(),o=z.done,!o;I=!0)d=z.value,I=!1,T=d,V++}catch(j){c={error:j}}finally{try{!I&&!o&&(h=B.return)&&await h.call(B)}finally{if(c)throw c.error}}if(!T)throw new xe("protocol error: missing response message",fe.Unimplemented);if(V>1)throw new xe("protocol error: received extra messages for client streaming method",fe.Unimplemented);return(y=a?.onTrailer)===null||y===void 0||y.call(a,v.trailer),T}}function oN(i,e){return(r,a)=>uv(i.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues),a)}function uv(i,e){const r=(function(){return iN(this,arguments,function*(){var a,o;const c=yield va(i);(a=e?.onHeader)===null||a===void 0||a.call(e,c.header),yield va(yield*nN(ov(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function uN(...i){const e=new AbortController,r=i.filter(o=>o!==void 0).concat(e.signal);for(const o of r){if(o.aborted){a.apply(o);break}o.addEventListener("abort",a)}function a(){e.signal.aborted||e.abort(cv(this));for(const o of r)o.removeEventListener("abort",a)}return e}function cN(i){const e=new AbortController,r=()=>{e.abort(new xe("the operation timed out",fe.DeadlineExceeded))};let a;return i!==void 0&&(i<=0?r():a=setTimeout(r,i)),{signal:e.signal,cleanup:()=>clearTimeout(a)}}function cv(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function zp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Nf=128;function Gp(i){const e=new Headers,r=new TextDecoder().decode(i).split(`\r
`);for(const a of r){if(a==="")continue;const o=a.indexOf(":");if(o>0){const c=a.substring(0,o).trim(),h=a.substring(o+1).trim();e.append(c,h)}}return e}const fN="Content-Type",hN="Grpc-Timeout",Sa="Grpc-Status",fv="Grpc-Message",dN="Grpc-Status-Details-Bin",gN="User-Agent",_p="X-User-Agent",mN="X-Grpc-Web",yN="application/grpc-web+proto",pN="application/grpc-web+json";function bN(i,e,...r){if(r.length>0)throw new Error;return i.services[e]}const vN=fi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Qb]),SN=re(vN,0),AN="0";function hv(i){var e;const r=i.get(dN);if(r!=null){const o=j1(r,SN);if(o.code==0)return;const c=new xe(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const a=i.get(Sa);if(a!=null){if(a===AN)return;const o=parseInt(a,10);return o in fe?new xe(decodeURIComponent((e=i.get(fv))!==null&&e!==void 0?e:""),o,i):new xe(`invalid grpc-status: ${a}`,fe.Internal,i)}}function Kp(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function dv(i,e){return H(i,e)}function EN(i,e){function r(a){return a.done===!0?a:{done:a.done,value:dv(i,a.value)}}return{[Symbol.asyncIterator](){const a=e[Symbol.asyncIterator](),o={next:()=>a.next().then(r)};return a.throw!==void 0&&(o.throw=c=>a.throw(c).then(r)),a.return!==void 0&&(o.return=c=>a.return(c).then(r)),o}}}function gv(i,e){if(!e)return i;for(const r of e.concat().reverse())i=r(i);return i}function NN(i){var e;const r=Object.assign({},i);return(e=r.ignoreUnknownFields)!==null&&e!==void 0||(r.ignoreUnknownFields=!0),r}function Wp(i,e,r,a){const o=e?Xp(i.input,a):Jp(i.input,r);return{parse:(e?Xp(i.output,a):Jp(i.output,r)).parse,serialize:o.serialize}}function Xp(i,e){return{parse(r){try{return hn(i,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new xe(`parse binary: ${o}`,fe.Internal)}},serialize(r){try{return Xi(i,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new xe(`serialize binary: ${o}`,fe.Internal)}}}}function Jp(i,e){var r,a;const o=(r=e?.textEncoder)!==null&&r!==void 0?r:new TextEncoder,c=(a=e?.textDecoder)!==null&&a!==void 0?a:new TextDecoder,h=NN(e);return{parse(d){try{const m=c.decode(d);return x1(i,m,h)}catch(m){throw xe.from(m,fe.InvalidArgument)}},serialize(d){try{const m=E1(i,d,h);return o.encode(m)}catch(m){throw xe.from(m,fe.Internal)}}}}function TN(i){const e=gv(i.next,i.interceptors),[r,a,o]=mv(i),c=Object.assign(Object.assign({},i.req),{message:dv(i.req.method.input,i.req.message),signal:r});return e(c).then(h=>(o(),h),a)}function RN(i){const e=gv(i.next,i.interceptors),[r,a,o]=mv(i),c=Object.assign(Object.assign({},i.req),{message:EN(i.req.method.input,i.req.message),signal:r});let h=!1;return r.addEventListener("abort",function(){var d,m;const y=i.req.message[Symbol.asyncIterator]();h||(d=y.throw)===null||d===void 0||d.call(y,this.reason).catch(()=>{}),(m=y.return)===null||m===void 0||m.call(y).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const m=d.message[Symbol.asyncIterator]();return{next(){return m.next().then(y=>(y.done==!0&&(h=!0,o()),y),a)}}}}}),a)}function mv(i){const{signal:e,cleanup:r}=cN(i.timeoutMs),a=uN(i.signal,e);return[a.signal,function(c){const h=xe.from(e.aborted?cv(e):c);return a.abort(h),r(),Promise.reject(h)},function(){r(),a.abort()}]}function IN(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function kp(i,e){const r=hv(i);if(r)throw e.forEach((a,o)=>{r.metadata.append(o,a)}),r;if(!e.has(Sa)&&!i.has(Sa))throw new xe("protocol error: missing status",fe.Internal)}function jp(i,e,r,a){var o,c;const h=new Headers(r??{});h.set(fN,i?yN:pN),h.set(mN,"1");const d=(c=(o=h.get(gN))!==null&&o!==void 0?o:h.get(_p))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(_p,d),e!==void 0&&h.set(hN,`${e}m`),h}function CN(i){switch(i){case 400:return fe.Internal;case 401:return fe.Unauthenticated;case 403:return fe.PermissionDenied;case 404:return fe.Unimplemented;case 429:return fe.Unavailable;case 502:return fe.Unavailable;case 503:return fe.Unavailable;case 504:return fe.Unavailable;default:return fe.Unknown}}function Fp(i,e){var r;if(i>=200&&i<300)return{foundStatus:e.has(Sa),headerError:hv(e)};throw new xe(decodeURIComponent((r=e.get(fv))!==null&&r!==void 0?r:`HTTP ${i}`),CN(i),e)}var yr=function(i){return this instanceof yr?(this.v=i,this):new yr(i)},wN=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){a[I]&&(o[I]=function(z){return new Promise(function(j,q){c.push([I,z,j,q])>1||m(I,z)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(a[I](B))}catch(z){V(c[0][3],z)}}function y(I){I.value instanceof yr?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}};const Hp={redirect:"error"};function DN(i){var e;IN();const r=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(a,o,c,h,d,m){const{serialize:y,parse:v}=Wp(a,r,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await TN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:a.parent,method:a,requestMethod:"POST",url:Kp(i.baseUrl,a),header:jp(r,c,h),contextValues:m??zp(),message:d},next:async T=>{var V;const B=await((V=i.fetch)!==null&&V!==void 0?V:globalThis.fetch)(T.url,Object.assign(Object.assign({},Hp),{method:T.requestMethod,headers:T.header,signal:T.signal,body:Yp(0,y(T.message))})),{headerError:z}=Fp(B.status,B.headers);if(!B.body)throw z!==void 0?z:"missing response body";const j=Zp(B.body).getReader();let q,Ee;for(;;){const te=await j.read();if(te.done)break;const{flags:he,data:ie}=te.value;if((he&Mp)===Mp)throw new xe("protocol error: received unsupported compressed output",fe.Internal);if(he===Nf){if(q!==void 0)throw"extra trailer";q=Gp(ie);continue}if(Ee!==void 0)throw new xe("extra message",fe.Unimplemented);Ee=v(ie)}if(q===void 0)throw z!==void 0?z:new xe("missing trailer",B.headers.has(Sa)?fe.Unimplemented:fe.Unknown);if(kp(q,B.headers),Ee===void 0)throw new xe("missing message",q.has(Sa)?fe.Unimplemented:fe.Unknown);return{stream:!1,service:a.parent,method:a,header:B.headers,message:Ee,trailer:q}}})},async stream(a,o,c,h,d,m){const{serialize:y,parse:v}=Wp(a,r,i.jsonOptions,i.binaryOptions);function T(I,B,z,j,q){return wN(this,arguments,function*(){const te=Zp(I).getReader();if(B){if(!(yield yr(te.read())).done)throw"extra data for trailers-only";return yield yr(void 0)}let he=!1;for(;;){const ie=yield yr(te.read());if(ie.done)break;const{flags:Ae,data:J}=ie.value;if((Ae&Nf)===Nf){if(he)throw"extra trailer";he=!0;const ve=Gp(J);kp(ve,j),ve.forEach((Nt,mn)=>z.set(mn,Nt));continue}if(he)throw"extra message";yield yield yr(v(J))}if("throwIfAborted"in q&&q.throwIfAborted(),!he)throw"missing trailer"})}async function V(I){if(a.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const B=await I[Symbol.asyncIterator]().next();if(B.done==!0)throw"missing request message";return Yp(0,y(B.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,RN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:a.parent,method:a,requestMethod:"POST",url:Kp(i.baseUrl,a),header:jp(r,c,h),contextValues:m??zp(),message:d},next:async I=>{var B;const j=await((B=i.fetch)!==null&&B!==void 0?B:globalThis.fetch)(I.url,Object.assign(Object.assign({},Hp),{method:I.requestMethod,headers:I.header,signal:I.signal,body:await V(I.message)})),{foundStatus:q,headerError:Ee}=Fp(j.status,j.headers);if(Ee!=null)throw Ee;if(!j.body)throw"missing response body";const te=new Headers;return Object.assign(Object.assign({},I),{header:j.headers,trailer:te,message:T(j.body,q,te,j.headers,I.signal)})}})}}}const ce=fi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[$E,g1]),ON=re(ce,0),VN=re(ce,1),xN=re(ce,2),fh=re(ce,3),hh=re(ce,4),dh=re(ce,5),BN=re(ce,5,0),UN=re(ce,5,1),LN=re(ce,5,2),MN=re(ce,5,3),ZN=re(ce,5,4),YN=re(ce,5,5),zN=re(ce,5,6),GN=re(ce,5,7),_N=re(ce,5,8),KN=re(ce,5,9),la=re(ce,6),dn=re(ce,7),WN=re(ce,7,0),XN=re(ce,7,1),JN=re(ce,7,2),kN=re(ce,7,3),jN=re(ce,7,4),FN=re(ce,7,5),HN=re(ce,8),QN=re(ce,9),yv=re(ce,10),PN=re(ce,11),$N=re(ce,12),qN=re(ce,13),e2=re(ce,14),t2=re(ce,15),n2=re(ce,16),Qp=re(ce,23);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const i2=re(ce,24),r2=re(ce,26),a2=re(ce,27),s2=re(ce,28);var pv=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(pv||{}),ue=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(ue||{}),Oo=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(Oo||{});const l2=fi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[ce]),o2=bN(l2,0),u2=fi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[t1]),c2=re(u2,0);var A=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(A||{});class N extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Mn=(i=>(i.Put="put",i.Clear="clear",i))(Mn||{});const gh="000000000000000000000000",Bn=24;class cn{lamport;delimiter;actorID;constructor(e,r,a){this.lamport=e,this.delimiter=r,this.actorID=a}static of(e,r,a){return new cn(e,r,a)}static fromStruct(e){return cn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new cn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const r=this.actorID.localeCompare(e.actorID);return r!==0?r:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Bf=0n,bv=0,Uf=9223372036854775807n,Aa=new cn(Bf,bv,gh);function xn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class js{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Bn),this.getMovedAt()&&(e+=Bn),this.getRemovedAt()&&(e+=Bn),e}}class _i extends js{constructor(e){super(e)}}class Vo{strKey;value;constructor(e,r){this.strKey=e,this.value=r}static of(e,r){return new Vo(e,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ea{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ea}set(e,r,a){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(a)&&(o=c.getValue());const h=Vo.of(e,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),h),(!c||a.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),r.setMovedAt(a)),o}delete(e,r){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new N(A.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const a=this.nodeMapByCreatedAt.get(e.toIDString());return a.remove(r),a.getValue()}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return r.getStrKey()}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const a=this.nodeMapByKey.get(r.getStrKey());r===a&&this.nodeMapByKey.delete(a.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(e,r){const a=this.nodeMapByKey.get(e);if(a&&a.remove(r))return a.getValue()}has(e){const r=this.nodeMapByKey.get(e);return r?!r.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const r=this.nodeMapByKey.get(e);if(!(!r||r.isRemoved()))return r}deepcopy(){const e=Ea.create();for(const[,r]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(r.getValue().getCreatedAt().toIDString(),Vo.of(r.getStrKey(),r.getValue().deepcopy()));for(const[r,a]of this.nodeMapByKey)e.nodeMapByKey.set(r,e.nodeMapByCreatedAt.get(a.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class St extends _i{memberNodes;constructor(e,r){super(e),this.memberNodes=r}static create(e,r){if(!r)return new St(e,Ea.create());const a=Ea.create();for(const[o,c]of Object.entries(r))a.set(o,c.deepcopy(),c.getCreatedAt());return new St(e,a)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,a){return this.memberNodes.set(e,r,a)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,a]of this)e.push(`"${xn(r)}":${a.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,a]of this){const{createdAt:o,value:c,type:h}=a.toJSForTest();e[r]={key:r,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){const e=new Set;for(const[a]of this)e.add(a);const r=[];for(const a of Array.from(e).sort()){const o=this.memberNodes.get(a)?.getValue();r.push(`"${xn(a)}":${o.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=St.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const a=r.getValue();if(e(a,this))return;a instanceof _i&&a.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var ke=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(ke||{});class Cn{parentCreatedAt;executedAt;constructor(e,r){this.parentCreatedAt=e,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new N(A.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class vv{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Gs{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}findForText(e){if(!this.root||e<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&e<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<e)e-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{e-=r.getLeftWeight();break}if(e>r.getLength())throw new N(A.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${r.getLength()}`);return this.splayNode(r),[r,e]}findForArray(e){if(!this.root)return;if(e<0||e>=this.length)throw new N(A.ErrInvalidArgument,`out of index range: idx: ${e}, length: ${this.length}`);let r=this.root;for(;;)if(r.hasLeft()&&e<r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<=e)e-=r.getLeftWeight()+r.getLength(),r=r.getRight();else break;return this.splayNode(r),r}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,r){return e?(this.splayNode(e),this.root=r,r.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(r),r.setLeft(e),e.setParent(r),e.setRight(),this.updateWeight(e),this.updateWeight(r),r):(this.root=r,r)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const r=new Gs(e.getLeft());r.root&&r.root.setParent();const a=new Gs(e.getRight());if(a.root&&a.root.setParent(),r.root){const o=r.getRightmost();r.splayNode(o),r.root.setRight(a.root),a.root&&a.root.setParent(r.root),this.root=r.root}else this.root=a.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,r){if(!r){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(r),r.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const r=[];this.traversePostorder(e.getRight(),r);for(const a of r)a.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const r of e)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,r){e&&(this.traverseInorder(e.getLeft(),r),r.push(e),this.traverseInorder(e.getRight(),r))}traversePostorder(e,r){e&&(this.traversePostorder(e.getLeft(),r),this.traversePostorder(e.getRight(),r),r.push(e))}rotateLeft(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setRight(e.getLeft()),r.hasRight()&&r.getRight().setParent(r),e.setLeft(r),e.getLeft().setParent(e),this.updateWeight(r),this.updateWeight(e)}rotateRight(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setLeft(e.getRight()),r.hasLeft()&&r.getLeft().setParent(r),e.setRight(r),e.getRight().setParent(e),this.updateWeight(r),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var on=null;try{on=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ye(i,e,r){this.low=i|0,this.high=e|0,this.unsigned=!!r}ye.prototype.__isLong__;Object.defineProperty(ye.prototype,"__isLong__",{value:!0});function Et(i){return(i&&i.__isLong__)===!0}function Pp(i){var e=Math.clz32(i&-i);return i?31-e:e}ye.isLong=Et;var $p={},qp={};function Ar(i,e){var r,a,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(a=qp[i],a)?a:(r=Ne(i,0,!0),o&&(qp[i]=r),r)):(i|=0,(o=-128<=i&&i<128)&&(a=$p[i],a)?a:(r=Ne(i,i<0?-1:0,!1),o&&($p[i]=r),r))}ye.fromInt=Ar;function un(i,e){if(isNaN(i))return e?si:Tn;if(e){if(i<0)return si;if(i>=Sv)return Nv}else{if(i<=-tb)return Ut;if(i+1>=tb)return Ev}return i<0?un(-i,e).neg():Ne(i%Na|0,i/Na|0,e)}ye.fromNumber=un;function Ne(i,e,r){return new ye(i,e,r)}ye.fromBits=Ne;var xo=Math.pow;function mh(i,e,r){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(r=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?si:Tn;if(r=r||10,r<2||36<r)throw RangeError("radix");var a;if((a=i.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return mh(i.substring(1),e,r).neg();for(var o=un(xo(r,8)),c=Tn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),m=parseInt(i.substring(h,h+d),r);if(d<8){var y=un(xo(r,d));c=c.mul(y).add(un(m))}else c=c.mul(o),c=c.add(un(m))}return c.unsigned=e,c}ye.fromString=mh;function gn(i,e){return typeof i=="number"?un(i,e):typeof i=="string"?mh(i,e):Ne(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}ye.fromValue=gn;var eb=65536,f2=1<<24,Na=eb*eb,Sv=Na*Na,tb=Sv/2,nb=Ar(f2),Tn=Ar(0);ye.ZERO=Tn;var si=Ar(0,!0);ye.UZERO=si;var ha=Ar(1);ye.ONE=ha;var Av=Ar(1,!0);ye.UONE=Av;var Lf=Ar(-1);ye.NEG_ONE=Lf;var Ev=Ne(-1,2147483647,!1);ye.MAX_VALUE=Ev;var Nv=Ne(-1,-1,!0);ye.MAX_UNSIGNED_VALUE=Nv;var Ut=Ne(0,-2147483648,!1);ye.MIN_VALUE=Ut;var G=ye.prototype;G.toInt=function(){return this.unsigned?this.low>>>0:this.low};G.toNumber=function(){return this.unsigned?(this.high>>>0)*Na+(this.low>>>0):this.high*Na+(this.low>>>0)};G.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ut)){var r=un(e),a=this.div(r),o=a.mul(r).sub(this);return a.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=un(xo(e,6),this.unsigned),h=this,d="";;){var m=h.div(c),y=h.sub(m.mul(c)).toInt()>>>0,v=y.toString(e);if(h=m,h.isZero())return v+d;for(;v.length<6;)v="0"+v;d=""+v+d}};G.getHighBits=function(){return this.high};G.getHighBitsUnsigned=function(){return this.high>>>0};G.getLowBits=function(){return this.low};G.getLowBitsUnsigned=function(){return this.low>>>0};G.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ut)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};G.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};G.isZero=function(){return this.high===0&&this.low===0};G.eqz=G.isZero;G.isNegative=function(){return!this.unsigned&&this.high<0};G.isPositive=function(){return this.unsigned||this.high>=0};G.isOdd=function(){return(this.low&1)===1};G.isEven=function(){return(this.low&1)===0};G.equals=function(e){return Et(e)||(e=gn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};G.eq=G.equals;G.notEquals=function(e){return!this.eq(e)};G.neq=G.notEquals;G.ne=G.notEquals;G.lessThan=function(e){return this.comp(e)<0};G.lt=G.lessThan;G.lessThanOrEqual=function(e){return this.comp(e)<=0};G.lte=G.lessThanOrEqual;G.le=G.lessThanOrEqual;G.greaterThan=function(e){return this.comp(e)>0};G.gt=G.greaterThan;G.greaterThanOrEqual=function(e){return this.comp(e)>=0};G.gte=G.greaterThanOrEqual;G.ge=G.greaterThanOrEqual;G.compare=function(e){if(Et(e)||(e=gn(e)),this.eq(e))return 0;var r=this.isNegative(),a=e.isNegative();return r&&!a?-1:!r&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};G.comp=G.compare;G.negate=function(){return!this.unsigned&&this.eq(Ut)?Ut:this.not().add(ha)};G.neg=G.negate;G.add=function(e){Et(e)||(e=gn(e));var r=this.high>>>16,a=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,m=e.low>>>16,y=e.low&65535,v=0,T=0,V=0,I=0;return I+=c+y,V+=I>>>16,I&=65535,V+=o+m,T+=V>>>16,V&=65535,T+=a+d,v+=T>>>16,T&=65535,v+=r+h,v&=65535,Ne(V<<16|I,v<<16|T,this.unsigned)};G.subtract=function(e){return Et(e)||(e=gn(e)),this.add(e.neg())};G.sub=G.subtract;G.multiply=function(e){if(this.isZero())return this;if(Et(e)||(e=gn(e)),on){var r=on.mul(this.low,this.high,e.low,e.high);return Ne(r,on.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?si:Tn;if(this.eq(Ut))return e.isOdd()?Ut:Tn;if(e.eq(Ut))return this.isOdd()?Ut:Tn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nb)&&e.lt(nb))return un(this.toNumber()*e.toNumber(),this.unsigned);var a=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,m=e.high&65535,y=e.low>>>16,v=e.low&65535,T=0,V=0,I=0,B=0;return B+=h*v,I+=B>>>16,B&=65535,I+=c*v,V+=I>>>16,I&=65535,I+=h*y,V+=I>>>16,I&=65535,V+=o*v,T+=V>>>16,V&=65535,V+=c*y,T+=V>>>16,V&=65535,V+=h*m,T+=V>>>16,V&=65535,T+=a*v+o*y+c*m+h*d,T&=65535,Ne(I<<16|B,T<<16|V,this.unsigned)};G.mul=G.multiply;G.divide=function(e){if(Et(e)||(e=gn(e)),e.isZero())throw Error("division by zero");if(on){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?on.div_u:on.div_s)(this.low,this.high,e.low,e.high);return Ne(r,on.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?si:Tn;var a,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return si;if(e.gt(this.shru(1)))return Av;c=si}else{if(this.eq(Ut)){if(e.eq(ha)||e.eq(Lf))return Ut;if(e.eq(Ut))return ha;var h=this.shr(1);return a=h.div(e).shl(1),a.eq(Tn)?e.isNegative()?ha:Lf:(o=this.sub(e.mul(a)),c=a.add(o.div(e)),c)}else if(e.eq(Ut))return this.unsigned?si:Tn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Tn}for(o=this;o.gte(e);){a=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(a)/Math.LN2),m=d<=48?1:xo(2,d-48),y=un(a),v=y.mul(e);v.isNegative()||v.gt(o);)a-=m,y=un(a,this.unsigned),v=y.mul(e);y.isZero()&&(y=ha),c=c.add(y),o=o.sub(v)}return c};G.div=G.divide;G.modulo=function(e){if(Et(e)||(e=gn(e)),on){var r=(this.unsigned?on.rem_u:on.rem_s)(this.low,this.high,e.low,e.high);return Ne(r,on.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};G.mod=G.modulo;G.rem=G.modulo;G.not=function(){return Ne(~this.low,~this.high,this.unsigned)};G.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};G.clz=G.countLeadingZeros;G.countTrailingZeros=function(){return this.low?Pp(this.low):Pp(this.high)+32};G.ctz=G.countTrailingZeros;G.and=function(e){return Et(e)||(e=gn(e)),Ne(this.low&e.low,this.high&e.high,this.unsigned)};G.or=function(e){return Et(e)||(e=gn(e)),Ne(this.low|e.low,this.high|e.high,this.unsigned)};G.xor=function(e){return Et(e)||(e=gn(e)),Ne(this.low^e.low,this.high^e.high,this.unsigned)};G.shiftLeft=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ne(0,this.low<<e-32,this.unsigned)};G.shl=G.shiftLeft;G.shiftRight=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ne(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};G.shr=G.shiftRight;G.shiftRightUnsigned=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ne(this.high,0,this.unsigned):Ne(this.high>>>e-32,0,this.unsigned)};G.shru=G.shiftRightUnsigned;G.shr_u=G.shiftRightUnsigned;G.rotateLeft=function(e){var r;return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(r=32-e,Ne(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,Ne(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};G.rotl=G.rotateLeft;G.rotateRight=function(e){var r;return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(r=32-e,Ne(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,Ne(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};G.rotr=G.rotateRight;G.toSigned=function(){return this.unsigned?Ne(this.low,this.high,!1):this};G.toUnsigned=function(){return this.unsigned?this:Ne(this.low,this.high,!0)};G.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};G.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};G.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};ye.fromBytes=function(e,r,a){return a?ye.fromBytesLE(e,r):ye.fromBytesBE(e,r)};ye.fromBytesLE=function(e,r){return new ye(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};ye.fromBytesBE=function(e,r){return new ye(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};typeof BigInt=="function"&&(ye.fromBigInt=function(e,r){var a=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Ne(a,o,r)},ye.fromValue=function(e,r){return typeof e=="bigint"?ye.fromBigInt(e,r):gn(e,r)},G.toBigInt=function(){var e=BigInt(this.low>>>0),r=BigInt(this.unsigned?this.high>>>0:this.high);return r<<BigInt(32)|e});var ze=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(ze||{});class je extends js{valueType;value;constructor(e,r){super(r),this.valueType=je.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new je(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const a=new DataView(r.buffer);return r.forEach(function(o,c){a.setUint8(c,o)}),a.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return ye.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(ye.fromBytesLE(Array.from(r),!0).toNumber());default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=je.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof ye)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return je.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=ye.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Bo extends vv{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,r){const a=new Bo(r),o=e.next;return e.next=a,a.prev=e,a.next=o,o&&(o.prev=a),a}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class _s{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=je.of(0,Aa);e.setRemovedAt(Aa),this.dummyHead=new Bo(e),this.last=this.dummyHead,this.nodeMapByIndex=new Gs,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new _s}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,r){let a=this.nodeMapByCreatedAt.get(e.toIDString());if(!a)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;a.getValue().getMovedAt()&&a.getValue().getMovedAt().after(r)&&a.getMovedFrom();)a=a.getMovedFrom();for(;a.getNext()&&a.getNext().getPositionedAt().after(r);)a=a.getNext();return a}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,r,a=r.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,a),c=Bo.createAfter(o,r);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,r,a){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(r.toIDString());if(!c)throw new N(A.ErrInvalidArgument,`cant find the given node: ${r.toIDString()}`);if(o!==c&&a.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),a),c.getValue().setMovedAt(a),c.setMovedFrom(h);d&&d.getPositionedAt().after(a);)o=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),a),c.getValue().setMovedAt(a),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new N(A.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(r)}getByIndex(e){return e>=this.length?void 0:this.nodeMapByIndex.findForArray(e)}getPrevCreatedAt(e){let r=this.nodeMapByCreatedAt.get(e.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(e,r){const a=this.nodeMapByCreatedAt.get(e.toIDString()),o=a.isRemoved();return a.remove(r)&&!o&&this.nodeMapByIndex.splayNode(a),a.getValue()}set(e,r,a){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),r,a),this.delete(e,a)}deleteByIndex(e,r){const a=this.getByIndex(e);if(a)return a.remove(r)&&this.nodeMapByIndex.splayNode(a),a.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const r of this){const a=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?e.push(`{${a}}`):e.push(`[${a}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class At extends _i{elements;constructor(e,r){super(e),this.elements=r}static create(e,r){if(!r)return new At(e,_s.create());const a=_s.create();for(const o of r)a.insertAfter(a.getLastCreatedAt(),o.deepcopy());return new At(e,a)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,a){this.elements.insertAfter(e,r,a)}moveAfter(e,r,a){this.elements.moveAfter(e,r,a)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}set(e,r,a){return this.elements.set(e,r,a)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const a=r.getValue();if(e(a,this))return;a instanceof _i&&a.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:a,value:o,type:c}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:a,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=At.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class ki extends Cn{prevCreatedAt;value;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.value=a}static create(e,r,a,o){return new ki(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute add");const a=r,o=this.value.deepcopy();return a.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,a),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(a.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Zn extends Cn{createdAt;constructor(e,r,a){super(e,a),this.createdAt=r}static create(e,r,a){return new Zn(e,r,a)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof _i))throw new N(A.ErrInvalidArgument,`only object and array can execute remove: ${a}`);if(r===ke.UndoRedo){let m=a.getByID(this.createdAt);for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.subPathOf(this.createdAt),c=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof At?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof At){const r=e.getByID(this.createdAt);if(r!==void 0){const a=e.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),a,r.deepcopy())}}if(e instanceof St){const r=e.subPathOf(this.createdAt);if(r!==void 0){const a=e.get(r);if(a!==void 0)return vr.create(r,a.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class vr extends Cn{key;value;constructor(e,r,a,o){super(a,o),this.key=e,this.value=r}static create(e,r,a,o){return new vr(e,r,a,o)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===ke.UndoRedo){let m=a;for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),d=a.set(this.key,h,this.getExecutedAt());return r===ke.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let r=Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=vr.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Rn extends Cn{prevCreatedAt;createdAt;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.createdAt=a}static create(e,r,a,o){return new Rn(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute move");const a=r,o=this.toReverseOperation(a),c=Number(a.subPathOf(this.createdAt));a.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(a.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return Rn.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}const h2=(i,e)=>i===e?0:i<e?-1:1;class d2{key;value;left;right;isRed;constructor(e,r,a){this.key=e,this.value=r,this.isRed=a}}class g2{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Tv{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:h2,this.counter=0}put(e,r){return this.root=this.putInternal(e,r,this.root),this.root.isRed=!1,r}get(e){const r=this.getInternal(e,this.root);return r?r.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new g2(this.root)}values(){const e=[];for(const r of this.getIterator().stack)e.push(r.value);return e}floorEntry(e){let r=this.root,a;for(;r;){const o=this.comparator(e,r.key);if(o===0)return r;o<0?r=r.left:(a=r,r=r.right)}return a}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,r){for(;r;){const a=this.comparator(e,r.key);if(a===0)return r;a<0?r=r.left:a>0&&(r=r.right)}}putInternal(e,r,a){if(!a)return this.counter+=1,new d2(e,r,!0);const o=this.comparator(e,a.key);return o<0?a.left=this.putInternal(e,r,a.left):o>0?a.right=this.putInternal(e,r,a.right):a.value=r,this.isRed(a.right)&&!this.isRed(a.left)&&(a=this.rotateLeft(a)),this.isRed(a.left)&&this.isRed(a.left.left)&&(a=this.rotateRight(a)),this.isRed(a.left)&&this.isRed(a.right)&&this.flipColors(a),a}removeInternal(e,r){if(this.comparator(r,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,r);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(r,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(r,e.key)===0){this.counter-=1;const a=this.min(e.right);e.value=a.value,e.key=a.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,r)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const r=e.right;return e.right=r.left,r.left=e,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(e){const r=e.left;return e.left=r.right,r.right=e,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}function m2(i){return i?ib(i.live)+ib(i.gc):0}function ib(i){return i.data+i.meta}function yt(i,...e){for(const r of e)i.data+=r.data,i.meta+=r.meta}function pr(i,e){i.data-=e.data,i.meta-=e.meta}class Un{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new Un(e,r)}static fromStruct(e){return Un.of(cn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Un(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const y2=Un.of(Aa,0);class mt{id;relativeOffset;constructor(e,r){this.id=e,this.relativeOffset=r}static of(e,r){return new mt(e,r)}static fromStruct(e){const r=Un.fromStruct(e.id);return mt.of(r,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Un.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Ki extends vv{id;removedAt;prev;next;insPrev;insNext;constructor(e,r,a){super(r),this.id=e,this.removedAt=a}static create(e,r){return new Ki(e,r)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[mt.of(this.id,0),mt.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Ta{head;treeByIndex;treeByID;constructor(){this.head=Ki.create(y2),this.treeByIndex=new Gs,this.treeByID=new Tv(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ta}edit(e,r,a,o){const c={data:0,meta:0},[h,d,m]=this.findNodeWithSplit(e[1],r),[y,v,T]=this.findNodeWithSplit(e[0],r);yt(c,d,v);const V=this.findBetween(T,m),[I,B]=this.deleteNodes(V,r,o),z=m?m.getID():h.getID();let j=mt.of(z,0);if(a){const te=this.posToIndex(y.createPosRange()[1],!0),he=this.insertAfter(y,Ki.create(Un.of(r,0),a));yt(c,he.getDataSize()),I.length&&I[I.length-1].from===te?I[I.length-1].value=a:I.push({actor:r.getActorID(),from:te,to:te,value:a}),j=mt.of(he.getID(),he.getContentLength())}const q=[],Ee=[];for(const[,te]of B)q.push({parent:this,child:te}),Ee.push(te.getValue());return[j,q,c,I,Ee]}indexToPos(e){const[r,a]=this.treeByIndex.findForText(e),o=r;return mt.of(o.getID(),a)}findIndexesFromRange(e){const[r,a]=e;return[this.posToIndex(r,!1),this.posToIndex(a,!0)]}posToIndex(e,r){const a=e.getAbsoluteID(),o=r?this.findFloorNodePreferToLeft(a):this.findFloorNode(a);if(!o)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${a.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:a.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const r of this)r.isRemoved()||e.push(r.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Ta;let r=this.head.getNext(),a=e.head,o;for(;r;){if(o=e.insertAfter(a,r.deepcopy()),r.hasInsPrev()){const c=e.findNode(r.getInsPrevID());o.setInsPrev(c)}a=o,r=r.getNext()}return e}normalizePos(e){const r=this.findFloorNode(e.getID());if(!r)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let a=e.getRelativeOffset(),o=r,c=r.getPrev();for(;c;)a+=c.getLength(),o=c,c=c.getPrev();return mt.of(o.getID(),a)}refinePos(e){let r=this.findFloorNode(e.getID());if(!r)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let a=e.getRelativeOffset(),o=r.getContentLength();for(;a>o;){a-=o;const c=r.getNext();if(!c)return mt.of(r.getID(),o);r=c,o=r.getLength()}return mt.of(r.getID(),a)}toTestString(){const e=[];let r=this.head;for(;r;)r.isRemoved()?e.push(`{${r.toTestString()}}`):e.push(`[${r.toTestString()}]`),r=r.getNext();return e.join("")}insertAfter(e,r){const a=e.getNext();return r.setPrev(e),a&&a.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(e,r),r}findNodeWithSplit(e,r){const a=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(a);const c=a.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(r);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let r=this.findFloorNode(e);if(!r)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&r.getID().getOffset()==e.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(e){const r=this.treeByID.floorEntry(e);if(r&&!(!r.key.equals(e)&&!r.key.hasSameCreatedAt(e)))return r.value}findBetween(e,r){const a=[];let o=e;for(;o&&o!==r;)a.push(o),o=o.getNext();return a}splitNode(e,r){const a={data:0,meta:0};if(r>e.getContentLength())throw new N(A.ErrInvalidArgument,"offset should be less than or equal to length");if(r===0)return[e,a];if(r===e.getContentLength())return[e.getNext(),a];const o=e.getDataSize(),c=e.split(r);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),yt(a,e.getDataSize(),c.getDataSize()),pr(a,o),[c,a]}deleteNodes(e,r,a){if(!e.length)return[[],new Map];const o=a===void 0||a.size()===0,c=[],h=[],[d,m]=this.findEdgesOfCandidates(e);h.push(d);for(const T of e){let V=!1;if(o)V=!0;else{const B=a?.get(T.getCreatedAt().getActorID());B&&B>=T.getCreatedAt().getLamport()&&(V=!0)}let I=!1;if(T.getRemovedAt()){const B=a?.get(T.getRemovedAt().getActorID());(o||B&&B>=T.getRemovedAt().getLamport())&&(I=!0)}T.canRemove(r,V,I)?c.push(T):h.push(T)}h.push(m);const y=this.makeChanges(h,r),v=new Map;for(const T of c)v.set(T.getID().toIDString(),T),T.remove(r);return this.deleteIndexNodes(h),[y,v]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,r){const a=[];let o,c;for(let h=0;h<e.length-1;h++){const d=e[h],m=e[h+1];d.getNext()!=m&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),m?[,c]=this.findIndexesFromRange(m.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&a.push({actor:r.getActorID(),from:o,to:c}))}return a.reverse()}deleteIndexNodes(e){for(let r=0;r<e.length-1;r++){const a=e[r],o=e[r+1];a.getNext()!=o&&this.treeByIndex.deleteRange(a,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const r=e.getPrev(),a=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();r&&r.setNext(a),a&&a.setPrev(r),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}class Gi{key;value;updatedAt;_isRemoved;constructor(e,r,a,o){this.key=e,this.value=r,this.updatedAt=a,this._isRemoved=o}static of(e,r,a,o){return new Gi(e,r,a,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Bn}}}class ui{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ui}getNodeMapByKey(){return this.nodeMapByKey}set(e,r,a){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&a.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||a.after(o.getUpdatedAt())){const c=Gi.of(e,r,a,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,r,a,o){const c=Gi.of(e,r,a,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,r){const a=this.nodeMapByKey.get(e),o=[];if(a===void 0||r.after(a.getUpdatedAt())){if(a===void 0){this.numberOfRemovedElement+=1;const d=Gi.of(e,"",r,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const c=a.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(a);const h=Gi.of(e,a.getValue(),r,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const r=this.nodeMapByKey.get(e);return r!==void 0&&!r.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ui;for(const[,r]of this.nodeMapByKey)e.setInternal(r.getKey(),r.getValue(),r.getUpdatedAt(),r.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[r,a]of this.nodeMapByKey)a.isRemoved()||e.push(`"${xn(r)}":"${xn(a.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[r,a]of this.nodeMapByKey)a.isRemoved()||(e[r]=a.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const r=this.nodeMapByKey.get(e.getKey());r==null||r.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function An(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Rv=i=>i?Object.entries(i).length===0:!0,Ra=i=>{const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.stringify(a);return e},li=i=>{const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.parse(a);return e};class Ks{attributes;content;constructor(e){this.attributes=ui.create(),this.content=e}static create(e){return new Ks(e)}get length(){return this.content.length}substring(e,r){const a=new Ks(this.content.substring(e,r));return a.attributes=this.attributes.deepcopy(),a}setAttr(e,r,a){return this.attributes.set(e,r,a)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const r of this.attributes){const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}toJSON(){const e=xn(this.content),r=this.attributes.toObject(),a=[];for(const[o,c]of Object.entries(r)){const h=JSON.parse(c),d=typeof h=="string"?`"${xn(o)}":"${xn(h)}"`:`"${xn(o)}":${String(h)}`;a.push(d)}return a.sort(),a.length===0?`{"val":"${e}"}`:`{"attrs":{${a.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Gi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const r of this.attributes)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}class Zt extends js{rgaTreeSplit;constructor(e,r){super(r),this.rgaTreeSplit=e}static create(e,r){return new Zt(e,r)}edit(e,r,a,o,c){const h=r?Ks.create(r):void 0;if(h&&o)for(const[I,B]of Object.entries(o))h.setAttr(I,B,a);const[d,m,y,v,T]=this.rgaTreeSplit.edit(e,a,h,c);return[v.map(I=>({...I,value:I.value?{attributes:li(I.value.getAttributes()),content:I.value.getContent()}:{attributes:void 0,content:""},type:"content"})),m,y,[d,d],T]}setStyle(e,r,a,o){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],a),[,m,y]=this.rgaTreeSplit.findNodeWithSplit(e[0],a);yt(c,h,m);const v=[],T=this.rgaTreeSplit.findBetween(y,d),V=[];for(const B of T){const z=B.getCreatedAt().getActorID();let j=Uf;o!=null&&(j=o.get(z)?o.get(z):0n),B.canStyle(a,j)&&V.push(B)}const I=[];for(const B of V){if(B.isRemoved())continue;const[z,j]=this.rgaTreeSplit.findIndexesFromRange(B.createPosRange());v.push({type:"style",actor:a.getActorID(),from:z,to:j,value:{attributes:li(r)}});for(const[q,Ee]of Object.entries(r)){const[te]=B.getValue().setAttr(q,Ee,a);te!==void 0&&I.push({parent:B.getValue(),child:te});const he=B.getValue().getAttrs().getNodeMapByKey().get(q);he!==void 0&&yt(c,he.getDataSize())}}return[I,c,v]}indexRangeToPosRange(e,r){const a=this.rgaTreeSplit.indexToPos(e);return e===r?[a,a]:[a,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(e){return this.rgaTreeSplit.refinePos(e)}normalizePos(e){return this.rgaTreeSplit.normalizePos(e)}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const a=r.getValue();e.push({attributes:li(a.getAttributes()),content:a.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Zt(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}posToIndex(e,r=!1){return this.rgaTreeSplit.posToIndex(e,r)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const a of r.getValue().getGCPairs())e.push(a)}return e}}class Ji extends Cn{fromPos;toPos;content;attributes;isUndoOp;constructor(e,r,a,o,c,h,d){super(e,h),this.fromPos=r,this.toPos=a,this.content=o,this.attributes=c,this.isUndoOp=d}static create(e,r,a,o,c,h,d){return new Ji(e,r,a,o,c,h,d)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Zt))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o;this.isUndoOp&&(this.fromPos=c.refinePos(this.fromPos),this.toPos=c.refinePos(this.toPos));const[h,d,m,,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),a),v=this.toReverseOperation(y,c.normalizePos(this.fromPos));e.acc(m);for(const T of d)e.registerGCPair(T);return{opInfos:h.map(({from:T,to:V,value:I})=>({type:"edit",from:T,to:V,value:I,path:e.createPath(this.getParentCreatedAt())})),reverseOp:v}}toReverseOperation(e,r){const a=e?.length?e.map(c=>c.getContent()).join(""):"";let o;if(e.length===1){const c=e[0].getAttributes();c&&(o=Array.from(Object.entries(c)))}return Ji.create(this.getParentCreatedAt(),r,mt.of(r.getID(),r.getRelativeOffset()+(this.content?.length??0)),a,o?new Map(o):new Map,void 0,!0)}normalizePos(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Zt))throw new N(A.ErrInvalidArgument,"only Text can normalize edit");const a=r,o=a.normalizePos(this.fromPos).getRelativeOffset(),c=a.normalizePos(this.toPos).getRelativeOffset();return[o,c]}reconcileOperation(e,r,a){if(!this.isUndoOp||e>r)return;const o=r-e,c=this.fromPos.getRelativeOffset(),h=this.toPos.getRelativeOffset(),d=(m,y)=>{this.fromPos=mt.of(this.fromPos.getID(),Math.max(0,m)),this.toPos=mt.of(this.toPos.getID(),Math.max(0,y))};if(r<=c){d(c-o+a,h-o+a);return}if(!(h<=e)){if(e<=c&&h<=r&&e!==r){d(e,e);return}if(c<=e&&r<=h&&c!==h){d(c,h-o+a);return}if(e<c&&c<r&&r<h){d(e,e+(h-r));return}if(c<e&&e<h&&h<r){d(c,e);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${r},${a},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Fs extends Cn{fromPos;toPos;attributes;constructor(e,r,a,o,c){super(e,c),this.fromPos=r,this.toPos=a,this.attributes=o}static create(e,r,a,o,c){return new Fs(e,r,a,o,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Zt))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,m]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),a);e.acc(d);for(const y of h)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:v,value:T})=>({type:"style",from:y,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${r},${a},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const p2=2,b2="root",Ln="text";function Ts(i,e,r=!1){let a=0;const o=r?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!r&&h.isRemoved||(a+=h.paddedSize(r))}return a}class v2{type;parent;_children;visibleSize;totalSize;constructor(e,r=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=r,this.isText&&this._children.length>0)throw new N(A.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,r=!1){let a=this.parent;for(;a;){if(r)a.totalSize+=e;else if(a.visibleSize+=e,a.isRemoved)break;a=a.parent}}updateDescendantsSize(e=!1){let r=0;for(const a of this._children){const o=a.updateDescendantsSize(e);!e&&a.isRemoved||(r+=o)}return e?this.totalSize+=r:this.visibleSize+=r,this.paddedSize(e)}get isText(){return this.type===Ln}paddedSize(e=!1){let r=this.visibleSize;return e&&(r=this.totalSize),this.isText||(r+=p2),r}isAncestorOf(e){return S2(this,e)}get nextSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e+1];if(r)return r}get prevSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e-1];if(r)return r}splitText(e,r){const a={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,a];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,a];const h=this.getDataSize();this.value=o;const d=this.cloneText(e+r);return d.value=c,this.parent.insertAfterInternal(d,this),yt(a,this.getDataSize(),d.getDataSize()),pr(a,h),[d,a]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const r of e)r.parent=this,r.updateAncestorsSize(r.paddedSize()),r.updateAncestorsSize(r.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const r of e)r.parent=this}insertBefore(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this._children.splice(r,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,r){const a={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(r);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((m,y)=>m+y.paddedSize(),0),this.totalSize=this._children.reduce((m,y)=>m+y.paddedSize(!0),0),c.visibleSize=c._children.reduce((m,y)=>m+y.paddedSize(!0),0),c.totalSize=c._children.reduce((m,y)=>m+y.paddedSize(!0),0);for(const m of c._children)m.parent=c;return yt(a,this.getDataSize(),c.getDataSize()),pr(a,o),[c,a]}insertAfterInternal(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1)}insertAtInternal(e,r){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.splice(r,0,e),e.parent=this}findOffset(e,r=!1){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");if(r)return this._children.indexOf(e);if(e.isRemoved){const a=this._children.indexOf(e);return this.allChildren.splice(0,a).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");let r=e;for(;r;){const a=this._children.indexOf(r);if(a!==-1)return a;r=r.parent}return-1}}function S2(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var qe=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(qe||{});function Iv(i,e,r,a,o=!1){if(e>r)throw new N(A.ErrInvalidArgument,`from is greater than to: ${e} > ${r}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new N(A.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(r>c)throw new N(A.ErrInvalidArgument,`to is out of range: ${r} > ${c}`);if(e===r)return;let h=0;const d=o?i._children:i.children;for(const m of d){if(e-m.paddedSize(o)<h&&h<r){const y=m.isText?e-h:e-h-1,v=m.isText?r-h:r-h-1,T=o?m.totalSize:m.visibleSize,V=!m.isText&&y<0,I=!m.isText&&v>T;(m.isText||V)&&a([m,m.isText?"Text":"Start"],I),Iv(m,Math.max(0,y),Math.min(v,T),a,o),I&&a([m,"End"],I)}h+=m.paddedSize(o)}}function Cv(i,e,r=0){for(const a of i.children)Cv(a,e,r+1);e(i,r)}function _o(i,e,r=0){for(const a of i._children)_o(a,e,r+1);e(i,r)}function Mf(i,e,r=!0){if(e>i.visibleSize)throw new N(A.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let a=0,o=0;for(const c of i.children){if(r&&c.isText&&c.visibleSize>=e-o)return Mf(c,e-o,r);if(e===o)return{node:i,offset:a};if(!r&&c.paddedSize()===e-o)return{node:i,offset:a+1};if(c.paddedSize()>e-o)return Mf(c,e-o-1,r);o+=c.paddedSize(),a+=1}return{node:i,offset:a}}function wv(i){return i.isText||i.children.length===0?i:wv(i.children[0])}function A2(i,e){if(i.visibleSize<e)throw new N(A.ErrInvalidArgument,"unacceptable path");for(let r=0;r<i.children.length;r++){const a=i.children[r];if(a.visibleSize<e)e-=a.visibleSize;else{i=a;break}}return{node:i,offset:e}}class E2{root;constructor(e){this.root=e}tokensBetween(e,r,a,o=!1){Iv(this.root,e,r,a,o)}traverse(e){Cv(this.root,e,0)}traverseAll(e){_o(this.root,e,0)}findTreePos(e,r=!0){return Mf(this.root,e,r)}treePosToPath(e){const r=[];let a=e.node;if(a.isText){const o=a.parent.findOffset(a);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");const c=Ts(a.parent,o);r.push(c+e.offset),a=a.parent}else if(a.hasTextChild()){const o=Ts(a,e.offset);r.push(o)}else r.push(e.offset);for(;a.parent;){const o=a.parent.findOffset(a);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");r.push(o),a=a.parent}return r.reverse()}pathToIndex(e){const r=this.pathToTreePos(e);return this.indexOf(r)}pathToTreePos(e){if(!e.length)throw new N(A.ErrInvalidArgument,"unacceptable path");let r=this.root;for(let a=0;a<e.length-1;a++){const o=e[a];if(r=r.children[o],!r)throw new N(A.ErrInvalidArgument,"unacceptable path")}if(r.hasTextChild())return A2(r,e[e.length-1]);if(r.children.length<e[e.length-1])throw new N(A.ErrInvalidArgument,"unacceptable path");return{node:r,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:r,offset:a}=e;if(r.isText){if(r.visibleSize===a){const o=r.nextSibling;return o||r.parent}return r}return r.children.length===a?r:wv(r.children[a])}indexOf(e,r=!1){let{node:a}=e;const{offset:o}=e;let c=0,h=1;if(a.isText){c+=o;const d=a.parent,m=d.findOffset(a,r);if(m===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ts(d,m,r),a=a.parent}else c+=Ts(a,o,r);for(;a?.parent;){const d=a.parent,m=d.findOffset(a,r);if(m===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ts(d,m,r),h++,a=a.parent}return c+h-1}indexToPath(e){const r=this.findTreePos(e);return this.treePosToPath(r)}}class In{parentID;leftSiblingID;constructor(e,r){this.parentID=e,this.leftSiblingID=r}static of(e,r){return new In(e,r)}static fromTreePos(e){const{offset:r}=e;let{node:a}=e,o;return a.isText?(a.parent.children[0]===a&&r===0?o=a.parent:o=a,a=a.parent):r===0?o=a:o=a.children[r-1],In.of(a.id,pt.of(o.getCreatedAt(),o.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(e){return In.of(pt.of(cn.fromStruct(e.parentID.createdAt),e.parentID.offset),pt.of(cn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const r=this.getParentID(),a=this.getLeftSiblingID(),o=e.findFloorNode(r);let c=e.findFloorNode(a);if(!o||!c)throw new N(A.ErrRefused,`cannot find node of CRDTTreePos(${r.toTestString()}, ${a.toTestString()})`);return!a.equals(r)&&a.getOffset()>0&&a.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class pt{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new pt(e,r)}static fromStruct(e){return pt.of(cn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ht extends v2{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,r,a,o,c){super(r),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof a=="string"?this.value=a:Array.isArray(a)&&(this._children=a)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,a,o){return new Ht(e,r,a,o)}deepcopy(){const e=new Ht(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=e,a}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new N(A.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new N(A.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new Ht(pt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ht(pt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,a){const[o,c]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,a);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new ui);const a=[];for(const[o,c]of Object.entries(e))a.push(this.attrs.set(o,c,r));return a}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Zf(i){if(i.isText){const r=i;return{type:r.type,value:r.value}}const e={type:i.type,children:i.children.map(Zf)};return i.attrs&&(e.attributes=li(i.attrs?.toObject())),e}function yh(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(r=>!r.isRemoved()).sort((r,a)=>r.getKey().localeCompare(a.getKey())).map(r=>{const a=JSON.parse(r.getValue());return typeof a=="string"?`${r.getKey()}="${a}"`:`${r.getKey()}="${xn(r.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(r=>yh(r)).join("")}</${i.type}>`}function Dv(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Dv),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Qt extends js{indexTree;nodeMapByID;constructor(e,r){super(r),this.indexTree=new E2(e),this.nodeMapByID=new Tv(pt.createComparator()),this.indexTree.traverseAll(a=>{this.nodeMapByID.put(a.id,a)})}static create(e,r){return new Qt(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let a={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const d=o===h,m=h.parent&&!d?h.parent:o;if(h.isText){const[,y]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());a=y}if(r){const y=m.allChildren,v=d?0:y.indexOf(h)+1;for(let T=v;T<y.length;T++){const V=y[T];if(!V.id.getCreatedAt().after(r))break;h=V}}return[[m,h],a]}style(e,r,a,o){const c={data:0,meta:0},[[h,d],m]=this.findNodesAndSplitText(e[0],a),[[y,v],T]=this.findNodesAndSplitText(e[1],a);yt(c,T,m);const V=[],I=r?li(r):{},B=[];return this.traverseInPosRange(h,d,y,v,([z,j])=>{const q=z.getCreatedAt().getActorID();let Ee=Uf;if(o!=null&&(Ee=o.get(q)?o.get(q):0n),z.canStyle(a,Ee)&&r){const te=z.setAttrs(r,a),he=te.reduce((J,[,ve])=>(ve&&(J[ve.getKey()]=I[ve.getKey()]),J),{}),ie=z.parent,Ae=z.prevSibling||z.parent;Object.keys(he).length>0&&V.push({type:"style",from:this.toIndex(ie,Ae),to:this.toIndex(z,z),fromPath:this.toPath(ie,Ae),toPath:this.toPath(z,z),actor:a.getActorID(),value:he});for(const[J]of te)J&&B.push({parent:z,child:J});for(const[J]of Object.entries(I)){const ve=z.attrs?.getNodeMapByKey().get(J);ve!==void 0&&j!==qe.End&&yt(c,ve.getDataSize())}}}),[B,V,c]}removeStyle(e,r,a,o){const c={data:0,meta:0},[[h,d],m]=this.findNodesAndSplitText(e[0],a),[[y,v],T]=this.findNodesAndSplitText(e[1],a);yt(c,T,m);const V=[],I=[];return this.traverseInPosRange(h,d,y,v,([B])=>{const z=B.getCreatedAt().getActorID();let j=Uf;if(o!=null&&(j=o.get(z)?o.get(z):0n),B.canStyle(a,j)&&r){B.attrs||(B.attrs=new ui);for(const te of r){const he=B.attrs.remove(te,a);for(const ie of he)I.push({parent:B,child:ie})}const q=B.parent,Ee=B.prevSibling||B.parent;V.push({actor:a.getActorID(),type:"removeStyle",from:this.toIndex(q,Ee),to:this.toIndex(B,B),fromPath:this.toPath(q,Ee),toPath:this.toPath(B,B),value:r})}}),[I,V,c]}edit(e,r,a,o,c,h){const d={data:0,meta:0},[[m,y],v]=this.findNodesAndSplitText(e[0],o),[[T,V],I]=this.findNodesAndSplitText(e[1],o);yt(d,I,v);const B=this.toIndex(m,y),z=this.toPath(m,y),j=[],q=[],Ee=[];this.traverseInPosRange(m,y,T,V,([ie,Ae],J)=>{if(Ae===qe.Start&&!J)for(const at of ie.children)Ee.push(at);const ve=h===void 0;let Nt=!1;const mn=h?.get(ie.id.getCreatedAt().getActorID());Nt=ve||mn!==void 0&&mn>=ie.id.getCreatedAt().getLamport();let Yt=!1;if(ie.removedAt){const at=h?.get(ie.removedAt.getActorID());Yt=ve||at!==void 0&&at>=ie.removedAt.getLamport()}(ie.canDelete(o,Nt,Yt)||j.includes(ie.parent))&&((Ae===qe.Text||Ae===qe.Start)&&j.push(ie),q.push([ie,Ae]))},!0);const te=this.makeDeletionChanges(q,o),he=[];for(const ie of j)ie.remove(o),ie.isRemoved&&he.push({parent:this,child:ie});for(const ie of Ee)ie.removedAt||m.append(ie);if(a>0){let ie=0,Ae=m,J=y;for(;ie<a;)Ae.split(this,Ae.findOffset(J)+1,c),J=Ae,Ae=Ae.parent,ie++;te.push({type:"content",from:B,to:B,fromPath:z,toPath:z,actor:o.getActorID()})}if(r?.length){const ie=[];let Ae=y;for(const J of r)Ae===m?m.insertAt(J,0):m.insertAfter(J,Ae),Ae=J,_o(J,ve=>{m.isRemoved?(ve.remove(o),he.push({parent:this,child:ve})):yt(d,ve.getDataSize()),this.nodeMapByID.put(ve.id,ve)}),J.isRemoved||ie.push(J);if(ie.length){const J=ie.map(ve=>Zf(ve));te.length&&te[te.length-1].from===B?te[te.length-1].value=J:te.push({type:"content",from:B,to:B,fromPath:z,toPath:z,actor:o.getActorID(),value:J})}}return[te,he,d]}editT(e,r,a,o,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],r,a,o,c)}move(e,r,a){throw new N(A.ErrUnimplemented,`not implemented: ${e}, ${r}, ${a}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,a=e.insNextID;if(r){const o=this.findFloorNode(r);o.insNextID=a}if(a){const o=this.findFloorNode(a);o.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const a of r.getGCPairs())e.push(a)}),e}findPos(e,r=!0){const a=this.indexTree.findTreePos(e,r);return In.fromTreePos(a)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return yh(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(a,o=void 0,c=void 0,h=0)=>{let d,m,y;const v=a.isText?{node:a,offset:0}:o&&c?this.toTreePos(o,c):null;v&&(d=this.indexTree.indexOf(v),m=this.indexTree.treePosToPath(v),y=In.fromTreePos(v).toStruct());const T={type:a.type,parent:o?.id.toTestString(),size:a.visibleSize,id:a.id.toTestString(),removedAt:a.removedAt?.toTestString(),insPrev:a.insPrevID?.toTestString(),insNext:a.insNextID?.toTestString(),value:a.isText?a.value:void 0,isRemoved:a.isRemoved,children:[],depth:h,attributes:a.attrs?li(a.attrs?.toObject()):void 0,index:d,path:m,pos:y};for(let V=0;V<a.allChildren.length;V++){const I=V===0?a:a.allChildren[V-1];T.children.push(r(a.allChildren[V],a,I,h+1))}return T};return r(e)}getRootTreeNode(){return Zf(this.indexTree.getRoot())}toTestTreeNode(){return Dv(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),r=new Qt(e.deepcopy(),this.getCreatedAt());return r.setRemovedAt(this.getRemovedAt()),r.setMovedAt(this.getMovedAt()),r}toPath(e,r){const a=this.toTreePos(e,r);return a?this.indexTree.treePosToPath(a):[]}toIndex(e,r,a=!1){const o=this.toTreePos(e,r,a);return o?this.indexTree.indexOf(o,a):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,a]=e,o=this.findPos(r);return r===a?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(a).toStruct()]}posRangeToPathRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,a),this.toPath(o,c)]}posRangeToIndexRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,a),this.toIndex(o,c)]}traverseInPosRange(e,r,a,o,c,h=!1){const d=this.toIndex(e,r,h),m=this.toIndex(a,o,h);this.indexTree.tokensBetween(d,m,c,h)}toTreePos(e,r,a=!1){if(!e||!r)return;if(!a&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,a);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let o=e.findOffset(r,a);if(a||!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize(a)};o++}return{node:e,offset:o}}makeDeletionChanges(e,r){const a=[],o=[];let c=null,h=null;for(let d=0;d<e.length;d++){const m=e[d],y=e[d+1];c||(c=m),h=m;const v=this.findRightToken(m);(!v||!y||v[0]!==y[0]||v[1]!==y[1])&&(o.push([c,h]),c=null,h=null)}for(const d of o){const[m,y]=d,[v,T]=this.findLeftToken(m),[V,I]=y,B=T===qe.Start?v:v.parent,z=I===qe.Start?V:V.parent,j=this.toIndex(B,v),q=this.toIndex(z,V);j<q&&(a.length>0&&j===a[a.length-1].to?(a[a.length-1].to=q,a[a.length-1].toPath=this.toPath(z,V)):a.push({type:"content",from:j,to:q,fromPath:this.toPath(B,v),toPath:this.toPath(z,V),actor:r.getActorID()}))}return a.reverse()}findRightToken([e,r]){if(r===qe.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?qe.Text:qe.Start]:[e,qe.End]}const a=e.parent,o=a.allChildren,c=o.indexOf(e);if(a&&c===o.length-1)return[a,qe.End];const h=o[c+1];return[h,h.isText?qe.Text:qe.Start]}findLeftToken([e,r]){if(r===qe.End){const d=e.allChildren;if(d.length>0){const m=d[d.length-1];return[m,m.isText?qe.Text:qe.End]}return[e,qe.Start]}const a=e.parent,o=a.allChildren,c=o.indexOf(e);if(a&&c===0)return[a,qe.Start];const h=o[c-1];return[h,h.isText?qe.Text:qe.End]}}class Hs extends Cn{fromPos;toPos;contents;splitLevel;constructor(e,r,a,o,c,h){super(e,h),this.fromPos=r,this.toPos=a,this.contents=o,this.splitLevel=c}static create(e,r,a,o,c,h){return new Hs(e,r,a,o,c,h)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Qt))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[d,m,y]=h.edit([this.fromPos,this.toPos],this.contents?.map(v=>v.deepcopy()),this.splitLevel,c,(()=>{let v=c.getDelimiter();return this.contents!==void 0&&(v+=this.contents.length),()=>cn.of(c.getLamport(),++v,c.getActorID())})(),a);e.acc(y);for(const v of m)e.registerGCPair(v);return{opInfos:d.map(({from:v,to:T,value:V,splitLevel:I,fromPath:B,toPath:z})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:v,to:T,value:V,splitLevel:I,fromPath:B,toPath:z}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${r},${a},${o.map(c=>yh(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class ga{vector;constructor(e){this.vector=e||new Map}set(e,r){this.vector.set(e,r)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,r]of this)r>e&&(e=r);return e}max(e){const r=new Map;for(const[a,o]of e){const c=this.vector.get(a),h=c&&c>o?c:o;r.set(a,h)}for(const[a,o]of this){const c=e.get(a),h=c&&c>o?c:o;r.set(a,h)}return new ga(r)}afterOrEqual(e){const r=this.vector.get(e.getActorID());return r===void 0?!1:r>=e.getLamport()}deepcopy(){const e=new Map;for(const[r,a]of this.vector)e.set(r,a);return new ga(e)}filter(e){const r=new Map;for(const[a]of e){const o=this.vector.get(a);o!==void 0&&r.set(a,o)}return new ga(r)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,r]of this.vector)yield[e,r]}}const Ov=new ga(new Map);class En{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,r,a,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=r,this.versionVector=o,this.actor=a}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Bf}static of(e,r,a,o,c){return new En(e,r,a,o,c)}next(e=!1){if(e)return new En(this.clientSeq+1,this.lamport,this.actor,Ov,Bf);const r=this.versionVector.deepcopy();return r.set(this.actor,this.lamport+1n),new En(this.clientSeq+1,this.lamport+1n,this.actor,r)}syncClocks(e){if(!e.hasClocks())return this;const r=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,a=this.versionVector.max(e.versionVector),o=new En(this.clientSeq,r,this.actor,a);return o.versionVector.set(this.actor,r),o}setClocks(e,r){const a=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(r);return o.set(this.actor,a),En.of(this.clientSeq,a,this.actor,o)}createTimeTicket(e){return cn.of(this.lamport,e,this.actor)}setActor(e){return new En(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new En(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new En(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const N2=new En(0,0n,gh,Ov);class Ia{id;operations;presenceChange;message;constructor({id:e,operations:r,presenceChange:a,message:o}){this.id=e,this.operations=r||[],this.presenceChange=a,this.message=o}static create({id:e,operations:r,presenceChange:a,message:o}){return new Ia({id:e,operations:r,presenceChange:a,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const r of this.operations)r.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,r,a){const o=[],c=[],h=[];for(const d of this.operations){const m=d.execute(e,a,this.id.getVersionVector());if(!m)continue;const{opInfos:y,reverseOp:v}=m;o.push(...y),c.push(d),v&&h.unshift(v)}return this.presenceChange&&(this.presenceChange.type===Mn.Put?r.set(this.id.getActorID(),An(this.presenceChange.presence)):r.delete(this.id.getActorID())),{operations:c,opInfos:o,reverseOps:h}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Ke.bytesToHex(Ke.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>Ke.bytesToHex(Ke.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:r,operations:a,presenceChange:o,message:c}=e;return Ia.create({id:Ke.bytesToChangeID(Ke.hexToBytes(r)),operations:a?.map(h=>Ke.bytesToOperation(Ke.hexToBytes(h))),presenceChange:o,message:c})}}class Ko{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,r,a,o,c,h){this.documentKey=e,this.checkpoint=r,this.isRemoved=a,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,r,a,o,c,h){return new Ko(e,r,a,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ma{serverSeq;clientSeq;constructor(e,r){this.serverSeq=e,this.clientSeq=r}static of(e,r){return new ma(e,r)}increaseClientSeq(e){return e===0?this:new ma(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const r=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,a=Math.max(this.clientSeq,e.clientSeq);return ma.of(r,a)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const T2=new ma(0n,0),rb=i=>i<0?Math.ceil(i):Math.floor(i);var Yn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(Yn||{});class Mt extends js{valueType;value;constructor(e,r,a){switch(super(a),this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=ye.fromNumber(r).toInt():this.value=rb(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=ye.fromNumber(r):this.value=r;break;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,a){return new Mt(e,r,a)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return ye.fromBytesLE(Array.from(r));default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Mt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof ye?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Mt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(a){if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===ze.Long?this.value=this.value+e.getValue().toInt():this.value=ye.fromNumber(this.value+rb(e.getValue())).toInt(),this}}class Ca extends Cn{value;constructor(e,r,a){super(e,a),this.value=r}static create(e,r,a){return new Ca(e,r,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Mt))throw new N(A.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const a=r,o=this.value.deepcopy();return a.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),a=e.getType()===ze.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ca.create(this.getParentCreatedAt(),je.of(a,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class oi extends Cn{fromPos;toPos;attributes;attributesToRemove;constructor(e,r,a,o,c,h){super(e,h),this.fromPos=r,this.toPos=a,this.attributes=o,this.attributesToRemove=c}static create(e,r,a,o,c){return new oi(e,r,a,o,[],c)}static createTreeRemoveStyleOperation(e,r,a,o,c){return new oi(e,r,a,new Map,o,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Qt))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,d,m={data:0,meta:0};if(this.attributes.size){const y={};[...this.attributes].forEach(([v,T])=>y[v]=T),[d,h,m]=c.style([this.fromPos,this.toPos],y,this.getExecutedAt(),a)}else{const y=this.attributesToRemove;[d,h,m]=c.removeStyle([this.fromPos,this.toPos],y,this.getExecutedAt(),a)}e.acc(m);for(const y of d)e.registerGCPair(y);return{opInfos:h.map(({from:y,to:v,value:T,fromPath:V,toPath:I})=>({type:"tree-style",from:y,to:v,value:this.attributes.size?{attributes:T}:{attributesToRemove:T},fromPath:V,toPath:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${a},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ci extends Cn{createdAt;value;constructor(e,r,a,o){super(e,o),this.createdAt=r,this.value=a}static create(e,r,a,o){return new ci(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute set");const a=r.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,a),c=this.value.deepcopy();return r.insertAfter(this.createdAt,c,this.getExecutedAt()),r.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,r){return ci.create(this.getParentCreatedAt(),e.getCreatedAt(),r)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function R2(i){const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.stringify(a);return H(i2,{data:e})}function I2(i){if(i.type===Mn.Put)return H(Qp,{type:zs.PUT,presence:R2(i.presence)});if(i.type===Mn.Clear)return H(Qp,{type:zs.CLEAR});throw new N(A.ErrUnimplemented,"unimplemented type")}function C2(i){return H(r2,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function Yf(i){return H(fh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Xo(i.getActorID()),versionVector:ph(i.getVersionVector())})}function Q(i){if(i)return H(s2,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Xo(i.getActorID())})}function ph(i){if(!i)return;const e=H(hh);for(const[r,a]of i){const o=cT(Xo(r));e.vector[o]=BigInt(a.toString())}return e}function Vv(i){switch(i){case ze.Null:return ue.NULL;case ze.Boolean:return ue.BOOLEAN;case ze.Integer:return ue.INTEGER;case ze.Long:return ue.LONG;case ze.Double:return ue.DOUBLE;case ze.String:return ue.STRING;case ze.Bytes:return ue.BYTES;case ze.Date:return ue.DATE;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function xv(i){switch(i){case Yn.Int:return ue.INTEGER_CNT;case Yn.Long:return ue.LONG_CNT;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function po(i){if(i instanceof St)return H(la,{type:ue.JSON_OBJECT,createdAt:Q(i.getCreatedAt()),value:Xv(i)});if(i instanceof At)return H(la,{type:ue.JSON_ARRAY,createdAt:Q(i.getCreatedAt()),value:sT(i)});if(i instanceof Zt)return H(la,{type:ue.TEXT,createdAt:Q(i.getCreatedAt())});if(i instanceof je)return H(la,{type:Vv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Mt)return H(la,{type:xv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Qt)return H(la,{type:ue.TREE,createdAt:Q(i.getCreatedAt()),value:oT(i)});throw new N(A.ErrUnimplemented,"unimplemented element")}function w2(i){return H($N,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function bo(i){return H(a2,{createdAt:Q(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function vo(i){return H(n2,{parentId:Os(i.getParentID()),leftSiblingId:Os(i.getLeftSiblingID())})}function Os(i){return H(t2,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function zf(i){const e=H(dh);if(i instanceof vr){const r=i,a=H(BN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.key=r.getKey(),a.value=po(r.getValue()),a.executedAt=Q(r.getExecutedAt()),e.body.case="set",e.body.value=a}else if(i instanceof ki){const r=i,a=H(UN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.prevCreatedAt=Q(r.getPrevCreatedAt()),a.value=po(r.getValue()),a.executedAt=Q(r.getExecutedAt()),e.body.case="add",e.body.value=a}else if(i instanceof Rn){const r=i,a=H(LN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.prevCreatedAt=Q(r.getPrevCreatedAt()),a.createdAt=Q(r.getCreatedAt()),a.executedAt=Q(r.getExecutedAt()),e.body.case="move",e.body.value=a}else if(i instanceof Zn){const r=i,a=H(MN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.createdAt=Q(r.getCreatedAt()),a.executedAt=Q(r.getExecutedAt()),e.body.case="remove",e.body.value=a}else if(i instanceof Ji){const r=i,a=H(ZN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.from=bo(r.getFromPos()),a.to=bo(r.getToPos()),a.content=r.getContent();const o=a.attributes;for(const[c,h]of r.getAttributes())o[c]=h;a.executedAt=Q(r.getExecutedAt()),e.body.case="edit",e.body.value=a}else if(i instanceof Fs){const r=i,a=H(YN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.from=bo(r.getFromPos()),a.to=bo(r.getToPos());const o=a.attributes;for(const[c,h]of r.getAttributes())o[c]=h;a.executedAt=Q(r.getExecutedAt()),e.body.case="style",e.body.value=a}else if(i instanceof Ca){const r=i,a=H(zN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.value=po(r.getValue()),a.executedAt=Q(r.getExecutedAt()),e.body.case="increase",e.body.value=a}else if(i instanceof Hs){const r=i,a=H(GN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.from=vo(r.getFromPos()),a.to=vo(r.getToPos()),a.contents=L2(r.getContents()),a.splitLevel=r.getSplitLevel(),a.executedAt=Q(r.getExecutedAt()),e.body.case="treeEdit",e.body.value=a}else if(i instanceof oi){const r=i,a=H(_N);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.from=vo(r.getFromPos()),a.to=vo(r.getToPos());const o=r.getAttributesToRemove();if(o.length>0)a.attributesToRemove=o;else{const c=a.attributes;for(const[h,d]of r.getAttributes())c[h]=d}a.executedAt=Q(r.getExecutedAt()),e.body.case="treeStyle",e.body.value=a}else if(i instanceof ci){const r=i,a=H(KN);a.parentCreatedAt=Q(r.getParentCreatedAt()),a.createdAt=Q(r.getCreatedAt()),a.value=po(r.getValue()),a.executedAt=Q(r.getExecutedAt()),e.body.case="arraySet",e.body.value=a}else throw new N(A.ErrUnimplemented,"unimplemented operation");return e}function D2(i){const e=[];for(const r of i)e.push(zf(r));return e}function O2(i){const e=H(xN,{id:Yf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=D2(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=I2(i.getPresenceChange())),e}function V2(i){const e=[];for(const r of i)e.push(O2(r));return e}function x2(i){const e=[];for(const r of i)e.push(H(HN,{key:r.getStrKey(),element:vh(r.getValue())}));return e}function B2(i){const e=[];for(const r of i)e.push(H(QN,{element:vh(r.getValue())}));return e}function U2(i){const e=[];for(const r of i){const a=H(PN);a.id=w2(r.getID()),a.value=r.getValue().getContent(),a.removedAt=Q(r.getRemovedAt());const o=a.attributes,c=r.getValue().getAttrs();for(const h of c){const d=H(yv);d.value=h.getValue(),d.updatedAt=Q(h.getUpdatedAt()),o[h.getKey()]=d}e.push(a)}return e}function L2(i){const e=[];if(!i||!i.length)return e;for(const r of i)e.push(H(e2,{content:bh(r)}));return e}function M2(i){const e={};for(const r of i)e[r.getKey()]=H(yv,{value:r.getValue(),updatedAt:Q(r.getUpdatedAt()),isRemoved:r.isRemoved()});return e}function bh(i){if(!i)return[];const e=[];return _o(i,(r,a)=>{const o=H(qN,{id:Os(r.id),type:r.type,removedAt:Q(r.removedAt),depth:a});r.isText&&(o.value=r.value),r.insPrevID&&(o.insPrevId=Os(r.insPrevID)),r.insNextID&&(o.insNextId=Os(r.insNextID)),r.attrs&&(o.attributes=M2(r.attrs)),e.push(o)}),e}function Z2(i){return H(dn,{body:{case:"jsonObject",value:H(WN,{nodes:x2(i.getRHT()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Bv(i){return H(dn,{body:{case:"jsonArray",value:H(XN,{nodes:B2(i.getElements()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Y2(i){return H(dn,{body:{case:"primitive",value:H(JN,{type:Vv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function z2(i){return H(dn,{body:{case:"text",value:H(kN,{nodes:U2(i.getRGATreeSplit()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function G2(i){return H(dn,{body:{case:"counter",value:H(jN,{type:xv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Uv(i){return H(dn,{body:{case:"tree",value:H(FN,{nodes:bh(i.getRoot()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function vh(i){if(i instanceof St)return Z2(i);if(i instanceof At)return Bv(i);if(i instanceof je)return Y2(i);if(i instanceof Zt)return z2(i);if(i instanceof Mt)return G2(i);if(i instanceof Qt)return Uv(i);throw new N(A.ErrUnimplemented,"unimplemented element")}function _2(i){return H(VN,{documentKey:i.getDocumentKey(),checkpoint:C2(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:V2(i.getChanges()),snapshot:i.getSnapshot(),versionVector:ph(i.getVersionVector())})}function K2(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?qE(i.createdAt):new Date}}function Is(i){if(!(i instanceof xe))return{};const e=i.findDetails(c2);for(const r of e)return r.metadata;return{}}function ca(i){return Is(i).code??""}function Tf(i,e){return i instanceof xe&&ca(i)===e}function Lv(i){return En.of(i.clientSeq,BigInt(i.lamport),Th(i.actorId),Sh(i.versionVector),BigInt(i.serverSeq))}function Sh(i){if(!i)return;const e=new ga;return Object.entries(i.vector).forEach(([r,a])=>{const o=Wo(uT(r));e.set(o,BigInt(a.toString()))}),e}function $(i){if(i)return cn.of(BigInt(i.lamport),i.delimiter,Th(i.actorId))}function Ah(i){const e={};return Object.entries(i.data).forEach(([r,a])=>{e[r]=JSON.parse(a)}),e}function W2(i){const e=i.type;if(e===zs.PUT){const r=Ah(i.presence);return{type:Mn.Put,presence:r}}if(e===zs.CLEAR)return{type:Mn.Clear};throw new N(A.ErrInvalidType,`unsupported type: ${e}`)}function X2(i){const e=new Map;return Object.entries(i).forEach(([r,a])=>{e.set(r,Ah(a))}),e}function Mv(i){switch(i){case ue.NULL:return ze.Null;case ue.BOOLEAN:return ze.Boolean;case ue.INTEGER:return ze.Integer;case ue.LONG:return ze.Long;case ue.DOUBLE:return ze.Double;case ue.STRING:return ze.String;case ue.BYTES:return ze.Bytes;case ue.DATE:return ze.Date}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function Uo(i){switch(i){case ue.INTEGER_CNT:return Yn.Int;case ue.LONG_CNT:return Yn.Long}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function So(i){switch(i.type){case ue.JSON_OBJECT:return i.value?Wv(i.value):St.create($(i.createdAt));case ue.JSON_ARRAY:return i.value?aT(i.value):At.create($(i.createdAt));case ue.TEXT:return Zt.create(Ta.create(),$(i.createdAt));case ue.TREE:return lT(i.value);case ue.NULL:case ue.BOOLEAN:case ue.INTEGER:case ue.LONG:case ue.DOUBLE:case ue.STRING:case ue.BYTES:case ue.DATE:return je.of(je.valueFromBytes(Mv(i.type),i.value),$(i.createdAt));case ue.INTEGER_CNT:case ue.LONG_CNT:return Mt.create(Uo(i.type),Mt.valueFromBytes(Uo(i.type),i.value),$(i.createdAt))}}function Ao(i){return mt.of(Un.of($(i.createdAt),i.offset),i.relativeOffset)}function Zv(i){return Un.of($(i.createdAt),i.offset)}function J2(i){const e=Ks.create(i.value);Object.entries(i.attributes).forEach(([a,o])=>{e.setAttr(a,o.value,$(o.updatedAt))});const r=Ki.create(Zv(i.id),e);return r.setRemovedAt($(i.removedAt)),r}function oa(i){return In.of(Vs(i.parentId),Vs(i.leftSiblingId))}function Vs(i){return pt.of($(i.createdAt),i.offset)}function k2(i){if(!i.length)return;const e=[];return i.forEach(r=>{const a=Eh(r.content);e.push(a)}),e}function Eh(i){if(i.length===0)return;const e=[];for(const o of i)e.push(F2(o));const r=e[e.length-1],a=new Map;a.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)a.get(i[o].depth-1).prepend(e[o]),a.set(i[o].depth,e[o]);return r.updateDescendantsSize(),r.updateDescendantsSize(!0),Qt.create(r,Aa).getRoot()}function j2(i){const e=ui.create();for(const[r,a]of Object.entries(i))e.setInternal(r,a.value,$(a.updatedAt),a.isRemoved);return e}function F2(i){const e=Vs(i.id),r=Ht.create(e,i.type),a=Object.entries(i.attributes);return r.isText?r.value=i.value:a.length&&(r.attrs=j2(i.attributes)),i.insPrevId&&(r.insPrevID=Vs(i.insPrevId)),i.insNextId&&(r.insNextID=Vs(i.insNextId)),r.removedAt=$(i.removedAt),r}function Yv(i){if(i.body.case==="set"){const e=i.body.value;return vr.create(e.key,So(e.value),$(e.parentCreatedAt),$(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return ki.create($(e.parentCreatedAt),$(e.prevCreatedAt),So(e.value),$(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Rn.create($(e.parentCreatedAt),$(e.prevCreatedAt),$(e.createdAt),$(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Zn.create($(e.parentCreatedAt),$(e.createdAt),$(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),Ji.create($(e.parentCreatedAt),Ao(e.from),Ao(e.to),e.content,r,$(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),Fs.create($(e.parentCreatedAt),Ao(e.from),Ao(e.to),r,$(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Ca.create($(e.parentCreatedAt),So(e.value),$(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create($(e.parentCreatedAt),oa(e.from),oa(e.to),k2(e.contents),e.splitLevel,$(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,r=new Map,a=e.attributesToRemove;return a?.length>0?oi.createTreeRemoveStyleOperation($(e.parentCreatedAt),oa(e.from),oa(e.to),a,$(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{r.set(o,c)}),oi.create($(e.parentCreatedAt),oa(e.from),oa(e.to),r,$(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return ci.create($(e.parentCreatedAt),$(e.createdAt),So(e.value),$(e.executedAt))}else throw new N(A.ErrUnimplemented,"unimplemented operation")}function H2(i){const e=[];for(const r of i){const a=Yv(r);a&&e.push(a)}return e}function zv(i){const e=[];for(const r of i)e.push(Ia.create({id:Lv(r.id),operations:H2(r.operations),presenceChange:r.presenceChange?W2(r.presenceChange):void 0,message:r.message}));return e}function Q2(i){return ma.of(BigInt(i.serverSeq),i.clientSeq)}function P2(i){return Ko.create(i.documentKey,Q2(i.checkpoint),i.isRemoved,zv(i.changes),Sh(i.versionVector),i.snapshot)}function Gv(i){const e=new Ea;for(const a of i.nodes){const o=Nh(a.element);e.set(a.key,o,o.getPositionedAt())}const r=new St($(i.createdAt),e);return r.setMovedAt($(i.movedAt)),r.setRemovedAt($(i.removedAt)),r}function _v(i){const e=new _s;for(const a of i.nodes)e.insert(Nh(a.element));const r=new At($(i.createdAt),e);return r.setMovedAt($(i.movedAt)),r.setRemovedAt($(i.removedAt)),r}function $2(i){const e=je.of(je.valueFromBytes(Mv(i.type),i.value),$(i.createdAt));return e.setMovedAt($(i.movedAt)),e.setRemovedAt($(i.removedAt)),e}function q2(i){const e=new Ta;let r=e.getHead();for(const o of i.nodes){const c=e.insertAfter(r,J2(o));o.insPrevId&&c.setInsPrev(e.findNode(Zv(o.insPrevId))),r=c}const a=new Zt(e,$(i.createdAt));return a.setMovedAt($(i.movedAt)),a.setRemovedAt($(i.removedAt)),a}function eT(i){const e=Mt.create(Uo(i.type),Mt.valueFromBytes(Uo(i.type),i.value),$(i.createdAt));return e.setMovedAt($(i.movedAt)),e.setRemovedAt($(i.removedAt)),e}function Kv(i){const e=Eh(i.nodes);return Qt.create(e,$(i.createdAt))}function Nh(i){if(i.body.case==="jsonObject")return Gv(i.body.value);if(i.body.case==="jsonArray")return _v(i.body.value);if(i.body.case==="primitive")return $2(i.body.value);if(i.body.case==="text")return q2(i.body.value);if(i.body.case==="counter")return eT(i.body.value);if(i.body.case==="tree")return Kv(i.body.value);throw new N(A.ErrUnimplemented,"unimplemented element")}function tT(i){return i.map(e=>({path:e.path,type:e.type}))}function nT(i){if(!i)return{root:St.create(Aa),presences:new Map};const e=hn(ON,i);return{root:Nh(e.root),presences:X2(e.presences)}}function iT(i){const e=ph(i);return Wo(Xi(hh,e))}function rT(i){const e=Rh(i),r=hn(hh,e);return Sh(r)}function Wv(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return Gv(e.body.value)}function Xv(i){return Xi(dn,vh(i))}function aT(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return _v(e.body.value)}function sT(i){return Xi(dn,Bv(i))}function lT(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return Kv(e.body.value)}function oT(i){return Xi(dn,Uv(i))}function Wo(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Th(i){return Wo(i)}function Rh(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function uT(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),r=e.length,a=new Uint8Array(r);for(let o=0;o<r;o++)a[o]=e.charCodeAt(o);return a}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Xo(i){return Rh(i)}function cT(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let r=0;r<i.byteLength;r++)e+=String.fromCharCode(i[r]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function fT(i){const e=hn(fh,i);return Lv(e)}function hT(i){const e=hn(dh,i);return Yv(e)}const Ke={fromPresence:Ah,toChangePack:_2,fromChangePack:P2,fromChanges:zv,toTreeNodes:bh,fromTreeNodes:Eh,objectToBytes:Xv,bytesToObject:Wv,bytesToSnapshot:nT,bytesToHex:Wo,hexToBytes:Rh,toHexString:Th,toUint8Array:Xo,toOperation:zf,toChangeID:Yf,bytesToChangeID:fT,bytesToOperation:hT,versionVectorToHex:iT,hexToVersionVector:rT,fromSchemaRules:tT,toRevisionSummary:K2,changeIDToBinary:i=>Xi(fh,Yf(i)),operationToBinary:i=>Xi(dh,zf(i))};var Bt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(Bt||{});let gr=3;function dT(i){gr=i}const _={trivial:(...i)=>{gr>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{gr>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{gr>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{gr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{gr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>gr<=i};function Jv(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const Rf=()=>{};class gT{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(r){this.error(r)}}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let o;if(!e)throw new N(A.ErrInvalidArgument,"missing observer");if(this.finalized)throw new N(A.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:r,complete:a},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const c=Jv(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){_.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(r=>r.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e].observer)}catch(a){_.error(a)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function kv(i){const e=new gT(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class xs{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,r,a,o){this.prevID=e,this.nextID=e.next(),this.delimiter=bv,this.root=r,this.operations=[],this.previousPresence=An(a),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,r,a,o){return new xs(e,r,a,o)}push(e){this.operations.push(e)}registerElement(e,r){this.root.registerElement(e,r)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ia.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,r){for(const a of Object.keys(e))r?.addToHistory?this.reversePresenceKeys.add(a):this.reversePresenceKeys.delete(a)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const r of this.reversePresenceKeys)e[r]=this.previousPresence[r];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function jv(i,e){const r=new Ws(i);return new Proxy(e,r.getHandlers())}class Ws{context;handlers;constructor(e){this.context=e,this.handlers={set:(r,a,o)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${a}]=${JSON.stringify(o)}`),Ws.setInternal(e,r,a,o),!0),get:(r,a)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${a}]`),a==="getID"?()=>r.getCreatedAt():a==="toJSON"||a==="toString"?()=>r.toJSON():a==="toJS"?()=>r.toJS():a==="toJSForTest"?()=>r.toJSForTest():mr(e,r.get(a))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,a)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${a}]`),Ws.deleteInternal(e,r,a),!0)}}static setInternal(e,r,a,o){if(a.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=Bs(e,o,c),d=r.set(a,h,c);e.registerElement(h,r),d&&e.registerRemovedElement(d),e.push(vr.create(a,h.deepcopy(),r.getCreatedAt(),c))}static buildObjectMembers(e,r){const a={};for(const[o,c]of Object.entries(r)){if(o.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=Bs(e,c,h);a[o]=d}return a}static deleteInternal(e,r,a){const o=e.issueTimeTicket(),c=r.deleteByKey(a,o);c&&(e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function mT(i,e){const r=new De(i,e);return new Proxy(e,r.getHandlers())}function ab(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function yT(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class De{context;handlers;array;constructor(e,r){this.context=e,this.array=r,this.handlers={get:(a,o,c)=>o==="getID"?()=>a.getCreatedAt():o==="getElementByID"?h=>{const d=a.getByID(h);if(!(!d||d.isRemoved()))return Sn(e,d)}:o==="getElementByIndex"?h=>{const d=a.get(h);return Sn(e,d)}:o==="getLast"?()=>Sn(e,a.getLast()):o==="delete"?h=>{const d=De.deleteInternalByIndex(e,a,h);return Sn(e,d)}:o==="deleteByID"?h=>{const d=De.deleteInternalByID(e,a,h);return Sn(e,d)}:o==="insertAfter"?(h,d)=>{const m=De.insertAfterInternal(e,a,h,d);return Sn(e,m)}:o==="insertIntegerAfter"?(h,d)=>{const m=De.insertIntegerAfterInternal(e,a,h,d);return Sn(e,m)}:o==="insertBefore"?(h,d)=>{const m=De.insertBeforeInternal(e,a,h,d);return Sn(e,m)}:o==="setValue"?(h,d)=>{const m=De.setValueInternal(e,a,h,d);return Sn(e,m)}:o==="moveBefore"?(h,d)=>{De.moveBeforeInternal(e,a,h,d)}:o==="moveAfter"?(h,d)=>{De.moveAfterInternal(e,a,h,d)}:o==="moveAfterByIndex"?(h,d)=>{De.moveAfterByIndexInternal(e,a,h,d)}:o==="moveFront"?h=>{De.moveFrontInternal(e,a,h)}:o==="moveLast"?h=>{De.moveLastInternal(e,a,h)}:ab(o)?mr(e,a.get(Number(o))):o==="push"?h=>De.pushInternal(e,a,h):o==="splice"?(h,d,...m)=>De.splice(e,a,h,d,...m):o==="length"?a.length:typeof o=="symbol"&&o===Symbol.iterator?De.iteratorInternal.bind(this,e,a):o==="includes"?(h,d)=>De.includes(e,a,h,d):o==="indexOf"?(h,d)=>De.indexOf(e,a,h,d):o==="lastIndexOf"?(h,d)=>De.lastIndexOf(e,a,h,d):o==="toJSForTest"?()=>a.toJSForTest():o==="toTestString"?()=>De.toTestString(a):typeof o=="string"&&yT(o)?(...h)=>{const d=Array.from(a).map(m=>mr(e,m));return Array.prototype[o].apply(d,h)}:Reflect.get(a,o,c),set:(a,o,c)=>{if(ab(o)){const h=Number(o);return De.setValueInternal(e,a,h,c),!0}return Reflect.set(a,o,c)},deleteProperty:(a,o)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`array[${o}]`),De.deleteInternalByIndex(e,a,Number.parseInt(o)),!0)}}static*iteratorInternal(e,r){for(const a of r)yield Sn(e,a)}static buildArrayElements(e,r){const a=[];for(const o of r){const c=e.issueTimeTicket(),h=Bs(e,o,c);a.push(h)}return a}static pushInternal(e,r,a){return De.insertAfterInternal(e,r,r.getLastCreatedAt(),a),r.length}static moveBeforeInternal(e,r,a,o){const c=e.issueTimeTicket(),h=r.getPrevCreatedAt(a);r.moveAfter(h,o,c),e.push(Rn.create(r.getCreatedAt(),h,o,c))}static moveAfterInternal(e,r,a,o){const c=e.issueTimeTicket();e.push(Rn.create(r.getCreatedAt(),a,o,c)),r.moveAfter(a,o,c)}static moveAfterByIndexInternal(e,r,a,o){const c=r.get(a);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${a}`);const h=r.get(o);if(!h)throw new N(A.ErrInvalidArgument,`index out of bounds: ${o}`);De.moveAfterInternal(e,r,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,r,a){const o=e.issueTimeTicket(),c=r.getHead();r.moveAfter(c.getCreatedAt(),a,o),e.push(Rn.create(r.getCreatedAt(),c.getCreatedAt(),a,o))}static moveLastInternal(e,r,a){const o=e.issueTimeTicket(),c=r.getLastCreatedAt();r.moveAfter(c,a,o),e.push(Rn.create(r.getCreatedAt(),c,a,o))}static insertAfterInternal(e,r,a,o){const c=e.issueTimeTicket(),h=Bs(e,o,c);return r.insertAfter(a,h),e.registerElement(h,r),e.push(ki.create(r.getCreatedAt(),a,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,r,a,o){const c=r.get(a);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${a}`);return De.insertAfterInternal(e,r,c.getCreatedAt(),o),r}static insertBeforeInternal(e,r,a,o){return De.insertAfterInternal(e,r,r.getPrevCreatedAt(a),o)}static setValueInternal(e,r,a,o){const c=r.get(a);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${a}`);return De.setByIndexInternal(e,r,c.getCreatedAt(),o),r}static setByIndexInternal(e,r,a,o){const c=e.issueTimeTicket(),h=Bs(e,o,c),d=h.deepcopy();return e.push(ci.create(r.getCreatedAt(),a,d,c)),r.set(a,h,c),e.registerElement(h,r),h}static deleteInternalByIndex(e,r,a){const o=e.issueTimeTicket(),c=r.deleteByIndex(a,o);if(c)return e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,r,a){const o=e.issueTimeTicket(),c=r.delete(a,o);return e.push(Zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,r,a,o,...c){const h=r.length,d=a>=0?Math.min(a,h):Math.max(h+a,0),m=o===void 0?h:o<0?d:Math.min(d+o,h),y=[];for(let v=d;v<m;v++){const T=De.deleteInternalByIndex(e,r,d);if(T){const V=T.deepcopy();V.setRemovedAt(),y.push(mr(e,V))}}if(c){let v=d===0?r.getHead().getID():r.get(d-1).getID();for(const T of c)v=De.insertAfterInternal(e,r,v,T).getID()}return y}static includes(e,r,a,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(je.isSupport(a))return Array.from(r).map(m=>mr(e,m)).includes(a,h);for(let d=h;d<c;d++)if(r.get(d)?.getID()===a.getID())return!0;return!1}static indexOf(e,r,a,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(je.isSupport(a))return Array.from(r).map(m=>mr(e,m)).indexOf(a,h);for(let d=h;d<c;d++)if(r.get(d)?.getID()===a.getID())return d;return-1}static lastIndexOf(e,r,a,o){const c=r.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(je.isSupport(a))return Array.from(r).map(m=>mr(e,m)).lastIndexOf(a,h);for(let d=h;d>0;d--)if(r.get(d)?.getID()===a.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Ih{context;text;constructor(e,r){this.context=e,this.text=r}initialize(e,r){this.context=e,this.text=r}getID(){return this.text.getID()}edit(e,r,a,o){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,r);_.isEnabled(Bt.Debug)&&_.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${r}->${c[1].toTestString()} c:${a}`);const h=o?Ra(o):void 0,d=this.context.issueTimeTicket(),[,m,y,v]=this.text.edit(c,a,d,h);this.context.acc(y);for(const T of m)this.context.registerGCPair(T);return this.context.push(new Ji(this.text.getCreatedAt(),c[0],c[1],a,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(v)}delete(e,r){return this.edit(e,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,r,a){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,r);_.isEnabled(Bt.Debug)&&_.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${r}->${o[1].toTestString()} a:${JSON.stringify(a)}`);const c=Ra(a),h=this.context.issueTimeTicket(),[d,m]=this.text.setStyle(o,c,h);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);return this.context.push(new Fs(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const r=this.text.indexRangeToPosRange(e[0],e[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const r=this.text.findIndexesFromRange([mt.fromStruct(e[0]),mt.fromStruct(e[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,r){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,r)}}let Ch=class{valueType;value;context;counter;constructor(e,r){this.valueType=e,this.value=r}initialize(e,r){this.valueType=r.getValueType(),this.context=e,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");const r=this.context.issueTimeTicket(),a=je.of(e,r);if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`);return this.counter.increase(a),this.context.push(Ca.create(this.counter.getCreatedAt(),a,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function wh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(r=>wh(r))};return i.attrs&&(e.attributes=li(i.attrs.toObject())),e}function pT(i,e){const r={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Ln,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(a=>wh(a))};return i.attrs?r.attributes=li(i.attrs.toObject()):i.isText&&i.parent.attrs&&(r.attributes=li(i.parent.attrs.toObject())),r}function bT(i,e){const{node:r}=i,a=[...e].slice(0,-1),o=r.isText?r.parent.getChildrenText().length:r.children.length,c=[...a,o],h=[...a],d=[];h[h.length-1]+=1,e.every((y,v)=>y===c[v])||d.push({fromPath:[...e],toPath:c});const m=pT(r,e[e.length-1]);return m&&d.push({fromPath:h,toPath:h,content:m}),d}function vT(i,e){const{node:r,offset:a}=i,o=r.children[a],c=r.children[a-1],{children:h}=o,d=[...e].slice(0,-1),m=[{fromPath:[...e],toPath:[...d,a+1]}];if(!o.children.length)return m;const y=[...d,a-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],v=h.map(T=>wh(T));return m.push({fromPath:y,toPath:y,content:v}),m}function Dh(i,e,r){const{type:a}=i,o=r.issueTimeTicket();if(a===Ln){Fv(i);const{value:c}=i,h=Ht.create(pt.of(o,0),a,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Rv(h)){const y=Ra(h);d=new ui;for(const[v,T]of Object.entries(y))d.set(v,T,o)}const m=Ht.create(pt.of(o,0),a,void 0,d);e.append(m);for(const y of c)Dh(y,m,r)}}function ST(i,e){const{type:r}=e,a=i.issueTimeTicket();let o;if(e.type===Ln){const{value:c}=e;o=Ht.create(pt.of(a,0),r,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Rv(h)){const m=Ra(h);d=new ui;for(const[y,v]of Object.entries(m))d.set(y,v,a)}o=Ht.create(pt.of(i.issueTimeTicket(),0),r,void 0,d);for(const m of c)Dh(m,o,i)}return o}function Fv(i){if(!i.value.length)throw new N(A.ErrInvalidArgument,"text node cannot have empty value");return!0}function sb(i){if(!i.length)return!0;if(i[0].type===Ln)for(const r of i){const{type:a}=r;if(a!==Ln)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together");Fv(r)}else for(const r of i){const{type:a}=r;if(a===Ln)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Oh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,r){this.context=e,this.tree=r}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Ht.create(pt.of(e.issueTimeTicket(),0),b2);const r=Ht.create(pt.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const a of this.initialRoot.children)Dh(a,r,e);return r}getSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e),a=bT(r,e);for(const o of a){const{fromPath:c,toPath:h,content:d}=o,m=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(m,y,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e);if(r.node.isText)throw new N(A.ErrInvalidArgument,"text node cannot be merged");const a=vT(r,e);for(const o of a){const{fromPath:c,toPath:h,content:d}=o,m=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(m,y,d??[],0)}}styleByPath(e,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const[a,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=r?Ra(r):void 0,[d,,m]=this.tree.style([a,o],h,c);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);this.context.push(oi.create(this.tree.getCreatedAt(),a,o,h?new Map(Object.entries(h)):new Map,c))}style(e,r,a){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),d=a?Ra(a):void 0,[m,,y]=this.tree.style([o,c],d,h);this.context.acc(y);for(const v of m)this.context.registerGCPair(v);this.context.push(oi.create(this.tree.getCreatedAt(),o,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,r,a){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),[d,,m]=this.tree.removeStyle([o,c],a,h);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);this.context.push(oi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,a,h))}editInternal(e,r,a,o=0){if(a.length!==0&&a[0]&&(sb(a),a[0].type!==Ln))for(const y of a){const{children:v=[]}=y;sb(v)}const c=this.context.getLastTimeTicket();let h=new Array;if(a[0]?.type===Ln){let y="";for(const v of a){const{value:T}=v;y+=T}h.push(Ht.create(pt.of(this.context.issueTimeTicket(),0),Ln,y))}else h=a.map(y=>y&&ST(this.context,y)).filter(y=>y);const[,d,m]=this.tree.edit([e,r],h.length?h.map(y=>y?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(m);for(const y of d)this.context.registerGCPair(y);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,r,h.length?h:void 0,o,c)),!0}editByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,a?[a]:[],o)}editBulkByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,a,o)}edit(e,r,a,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,a?[a]:[],o)}editBulk(e,r,a,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,a,o)}toXML(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],a=this.tree.indexRangeToPosRange(r);return[a[0].toStruct(),a[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const r=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToPathRange(r)}}function lb(i,e){return jv(i,e)}function Sn(i,e){if(e){if(e instanceof je)return e;if(e instanceof St)return jv(i,e);if(e instanceof At)return mT(i,e);if(e instanceof Zt)return new Ih(i,e);if(e instanceof Mt){const r=new Ch(Yn.Int,0);return r.initialize(i,e),r}else if(e instanceof Qt){const r=new Oh;return r.initialize(i,e),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function mr(i,e){const r=Sn(i,e);return r instanceof je?r.getValue():r}function Bs(i,e,r){let a;if(je.isSupport(e))a=je.of(e,r);else if(Array.isArray(e))a=At.create(r,De.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Ih?(a=Zt.create(Ta.create(),r),e.initialize(i,a)):e instanceof Ch?(a=Mt.create(e.getValueType(),e.getValue(),r),e.initialize(i,a)):e instanceof Oh?(a=Qt.create(e.buildRoot(i),r),e.initialize(i,a)):a=St.create(r,Ws.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return a}class Xs{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(r=>{if(r.getRemovedAt()&&this.registerRemovedElement(r),r instanceof Zt||r instanceof Qt)for(const a of r.getGCPairs())this.registerGCPair(a);return!1})}static create(){return new Xs(St.create(Aa))}findByCreatedAt(e){const r=this.elementPairMapByCreatedAt.get(e.toIDString());if(r)return r.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let r=this.elementPairMapByCreatedAt.get(e.toIDString());if(!r)return[];const a=[];for(;r.parent;){const o=r.element.getCreatedAt(),c=r.parent.subPathOf(o);if(c===void 0)throw new N(A.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);a.unshift(c),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return a.unshift("$"),a}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,r){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:r,element:e}),yt(this.docSize.live,e.getDataSize()),e instanceof _i&&e.getDescendants((a,o)=>(this.elementPairMapByCreatedAt.set(a.getCreatedAt().toIDString(),{parent:o,element:a}),yt(this.docSize.live,a.getDataSize()),!1))}deregisterElement(e){let r=0;const a=o=>{const c=o.getCreatedAt().toIDString();pr(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),r++};return a(e),e instanceof _i&&e.getDescendants(o=>(a(o),!1)),r}registerRemovedElement(e){yt(this.docSize.gc,e.getDataSize()),pr(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Bn,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const a=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();yt(this.docSize.gc,a),pr(this.docSize.live,a),e.child instanceof Gi||(this.docSize.live.meta+=Bn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const r of this.gcElementSetByCreatedAt){e.add(r);const a=this.elementPairMapByCreatedAt.get(r);a.element instanceof _i&&a.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Xs(this.rootObject.deepcopy())}garbageCollect(e){let r=0;for(const a of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(a),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),r+=this.deregisterElement(o.element))}for(const[,a]of this.gcPairMap){const o=a.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(a.parent.purge(a.child),pr(this.docSize.gc,a.child.getDataSize()),this.gcPairMap.delete(a.child.toIDString()),r+=1)}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){yt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(e);r&&(yield r)}}}let ob=class{context;presence;constructor(e,r){this.context=e,this.presence=r}set(e,r){for(const a of Object.keys(e))this.presence[a]=e[a];this.context.setPresenceChange({type:Mn.Put,presence:An(this.presence)}),this.context.setReversePresence(e,r)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Mn.Clear})}};const ub=50;class AT{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=ub&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=ub&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,r){const a=o=>{for(const c of o)for(const h of c)(h instanceof ci||h instanceof Zn||h instanceof Rn)&&h.getCreatedAt()===e&&h.setCreatedAt(r),(h instanceof ki||h instanceof Rn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(r)};a(this.undoStack),a(this.redoStack)}reconcileTextEdit(e,r,a,o){const c=h=>{for(const d of h)for(const m of d)m instanceof Ji&&m.getParentCreatedAt().compare(e)===0&&m.reconcileOperation(r,a,o)};c(this.undoStack),c(this.redoStack)}}function ET(i,e){const r=[];for(const a of e){const o=NT(i,a.path),c=TT(o,a);if(!c.valid)for(const h of c.errors||[])r.push(h)}return{valid:r.length===0,errors:r}}function NT(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const r=e.split(".");let a=i;for(let o=1;o<r.length;o++){const c=r[o];if(!(a instanceof St))return;a=a.get(c)}return a}function TT(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return IT(i,e);case"object":if(!(i instanceof St))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof At))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof Zt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Qt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof Mt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function RT(i){switch(i){case"null":return ze.Null;case"boolean":return ze.Boolean;case"integer":return ze.Integer;case"long":return ze.Long;case"double":return ze.Double;case"string":return ze.String;case"bytes":return ze.Bytes;case"date":return ze.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function IT(i,e){return i instanceof je&&i.getType()===RT(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const CT="yorkie-devtools-panel",wT="yorkie-devtools-sdk";function DT(i){return[vt.StatusChanged,vt.Snapshot,vt.LocalChange,vt.RemoteChange,vt.Initialized,vt.Watched,vt.Unwatched,vt.PresenceChanged].includes(i.type)}function OT(i){return i.every(DT)}let fa="disconnected";const cb=new Map,Ro=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ro);function Eo(i,e){(e?.force||fa!=="disconnected")&&window.postMessage({source:wT,...i},"*")}function VT(i){if(!i.isEnableDevtools()||typeof window>"u"||cb.has(i.getKey()))return;Ro.set(i.getKey(),[]);const e=i.subscribe("all",r=>{OT(r)&&(Ro.get(i.getKey()).push(r),fa==="synced"&&Eo({msg:"doc::sync::partial",docKey:i.getKey(),event:r}))});cb.set(i.getKey(),[e]),Eo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{if(r.data?.source!==CT)return;switch(r.data.msg){case"devtools::connect":if(fa!=="disconnected")break;fa="connected",Eo({msg:"doc::available",docKey:i.getKey()}),_.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":fa="disconnected",_.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":fa="synced",Eo({msg:"doc::sync::full",docKey:i.getKey(),events:Ro.get(i.getKey())}),_.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),vt=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(vt||{}),Sr=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(Sr||{}),Gf=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(Gf||{});class zi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,r){this.key=e,this.status="detached",this.opts=r||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=N2,this.checkpoint=T2,this.localChanges=[],this.root=Xs.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new AT,this.isUpdating=!1,this.eventStream=kv(a=>this.eventStreamObserver=a),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},VT(this)}update(e,r){if(this.getStatus()==="removed")throw new N(A.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const a=this.changeID.getActorID(),o=xs.create(this.changeID,this.clone.root,this.clone.presences.get(a)||{},r);try{const d=lb(o,this.clone.root.getObject());this.presences.has(a)||this.clone.presences.set(a,{}),this.isUpdating=!0,e(d,new ob(o,this.clone.presences.get(a)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const d=ET(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new N(A.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(m=>m.message).join(", ")}`)}const h=m2(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new N(A.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){_.isEnabled(Bt.Trivial)&&_.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:m,reverseOps:y}=d.execute(this.root,this.presences,ke.Local);for(const V of d.getOperations())V instanceof ci&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const v=o.getReversePresence();v&&y.push({type:"presence",value:v}),this.localChanges.push(d),y.length&&this.internalHistory.pushUndo(y),m.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const T=[];m.length&&T.push({type:"local-change",source:ke.Local,value:{message:d.getMessage()||"",operations:m,actor:a,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&T.push({type:"presence-changed",source:ke.Local,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(T),_.isEnabled(Bt.Trivial)&&_.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,r,a,o){if(typeof e=="string"){if(typeof r!="function")throw new N(A.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||d(y)},a,o)}if(e==="my-presence"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||d(y)},a,o)}if(e==="others"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&d(y)},a,o)}if(e==="connection"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="connection-changed"&&d(y)},a,o)}if(e==="status"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="status-changed"&&d(y)},a,o)}if(e==="sync"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="sync-status-changed"&&d(y)},a,o)}if(e==="auth-error"){const d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="auth-error"&&d(y)},a)}if(e==="all"){const d=r;return this.eventStream.subscribe(d,a,o)}const c=e,h=r;return this.eventStream.subscribe(d=>{for(const m of d){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const y=[];for(const v of m.value.operations)this.isSameElementOrChildOf(v.path,c)&&y.push(v);y.length&&h({...m,value:{...m.value,operations:y}})}},a,o)}if(typeof e=="function"){const c=e,h=r,d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,d)}throw new N(A.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),ke.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),_.isEnabled(Bt.Trivial)&&_.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:An(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(e.length);return Ko.create(this.key,r,!1,e,this.getVersionVector())}setActor(e){for(const r of this.localChanges)r.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=xs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return lb(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,r,a,o=-1){const{root:c,presences:h}=Ke.bytesToSnapshot(a);this.root=new Xs(c),this.presences=h,this.changeID=this.changeID.setClocks(r.maxLamport(),r),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,ke.Local),this.clearHistory(),this.publish([{type:"snapshot",source:ke.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?Ke.bytesToHex(a):void 0,snapshotVector:Ke.versionVectorToHex(r)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(e,r){_.isEnabled(Bt.Debug)&&_.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),_.isEnabled(Bt.Trivial)&&_.trivial(e.map(a=>`${a.getID().toTestString()}	${a.toTestString()}`).join(`
`));for(const a of e)this.applyChange(a,r);_.isEnabled(Bt.Debug)&&_.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,r){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,r);const a=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const d=e.getPresenceChange();switch(d.type){case Mn.Put:a.push(this.presences.has(o)?{type:"presence-changed",source:r,value:{clientID:o,presence:d.presence}}:{type:"watched",source:ke.Remote,value:{clientID:o,presence:d.presence}});break;case Mn.Clear:a.push({type:"unwatched",source:ke.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c,operations:h}=e.execute(this.root,this.presences,r);for(const d of h)if(d instanceof Ji){const[m,y]=d.normalizePos(this.root);this.internalHistory.reconcileTextEdit(d.getParentCreatedAt(),m,y,d.getContent()?.length??0)}if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const d=this.isEnableDevtools()?e.toStruct():void 0;a.push(r===ke.Remote?{type:"remote-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d})}a.length&&this.publish(a)}applyWatchInit(e){const r=new Set;for(const a of e)a!==this.changeID.getActorID()&&r.add(a);this.setOnlineClients(r);for(const a of Array.from(this.presences.keys()))a!==this.changeID.getActorID()&&!r.has(a)&&this.presences.delete(a);this.publish([{type:"initialized",source:ke.Local,value:this.getPresences()}])}applyDocEvent(e,r){const a=[];if(e===Oo.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&a.push({type:"watched",source:ke.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===Oo.DOCUMENT_UNWATCHED){const o=this.getPresence(r);this.removeOnlineClient(r),this.presences.delete(r),o&&a.push({type:"unwatched",source:ke.Remote,value:{clientID:r,presence:o}})}a.length&&this.publish(a)}applyStatus(e){this.status=e,e==="detached"&&this.setActor(gh),this.publish([{source:e==="removed"?ke.Remote:ke.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const r of e){if(r.type==="status-changed"){this.applyStatus(r.value.status),r.value.status==="attached"&&this.setActor(r.value.actorID);continue}if(r.type==="snapshot"){const{snapshot:a,serverSeq:o,snapshotVector:c}=r.value;if(!a)continue;this.applySnapshot(BigInt(o),Ke.hexToVersionVector(c),Ke.hexToBytes(a));continue}if(r.type==="local-change"||r.type==="remote-change"){if(!r.rawChange)continue;const a=Ia.fromStruct(r.rawChange);this.applyChange(a,r.source)}if(r.type==="initialized"){const a=new Set;for(const{clientID:o,presence:c}of r.value)a.add(o),this.presences.set(o,c);this.setOnlineClients(a)}else if(r.type==="watched"){const{clientID:a,presence:o}=r.value;this.addOnlineClient(a),this.presences.set(a,o)}else if(r.type==="unwatched"){const{clientID:a}=r.value;this.removeOnlineClient(a),this.presences.delete(a)}else if(r.type==="presence-changed"){const{clientID:a,presence:o}=r.value;this.presences.set(a,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new N(A.ErrInvalidArgument,'path must start with "$"');const r=e.split(".");r.shift();let a=this.getRoot();for(const o of r)if(a=a[o],!a)return;return a}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?An(e):{}}getOthersPresences(){const e=[],r=this.changeID.getActorID();for(const a of this.onlineClients)a!==r&&this.presences.has(a)&&e.push({clientID:a,presence:An(this.presences.get(a))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const r=this.presences.get(e);return r?An(r):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:An(this.getMyPresence())});for(const r of this.onlineClients)this.presences.has(r)&&e.push({clientID:r,presence:An(this.presences.get(r))});return e}getPresenceForTest(e){const r=this.presences.get(e);return r?An(r):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==e).sort((r,a)=>r.clientID>a.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,r){if(r===e)return!0;const a=e.split(".");return r.split(".").every((o,c)=>o===a[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new N(A.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const r=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!r)throw new N(A.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const a=xs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const v of r){if(!(v instanceof Cn)){new ob(a,An(this.clone.presences.get(this.changeID.getActorID()))).set(v.value,{addToHistory:!0});continue}const T=a.issueTimeTicket();if(v.setExecutedAt(T),v instanceof ci){const V=v.getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}else if(v instanceof ki){const V=v.getValue().getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}a.push(v)}const o=a.toChange();o.execute(this.clone.root,this.clone.presences,ke.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,ke.UndoRedo),d=a.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=a.getNextID();const m=this.changeID.getActorID(),y=[];c.length&&y.push({type:"local-change",source:ke.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:m,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&y.push({type:"presence-changed",source:ke.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(y)}}class fb{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,r,a,o){this.reconnectStreamDelay=e,this.resource=r,this.resourceID=a,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===ws.RealtimeSyncOff?!1:this.syncMode===ws.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==ws.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof zi?this.needRealtimeSync():this.syncMode===ws.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay))})}catch{}};await r()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function xT(i,e){let r=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),r&&h.header.set("authorization",r),await c(h)),setToken:c=>{r=c}}}const BT="@yorkie-js/sdk",UT="0.6.48",hb={name:BT,version:UT};function LT(i){return e=>async r=>(i?r.header.set("x-yorkie-user-agent",i):r.header.set("x-yorkie-user-agent",hb.name+"/"+hb.version),await e(r))}const MT=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Cs=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Cs||{}),da=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(da||{});const Rs=".";class Yi{key;status;actorID;sessionID;sessionCount;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=kv(r=>this.eventStreamObserver=r)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Rs)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getSessionCount(){return this.sessionCount}updateSessionCount(e,r){return r===0||r>this.seq?(this.sessionCount=e,this.seq=r,!0):!1}hasLocalChanges(){return!1}subscribe(e,r){if(typeof e=="function")return this.eventStream.subscribe(e);const a=e,o=r;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(a==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(a==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(a==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(a==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(a==="all")return this.eventStream.subscribe(o);const c=a;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,r,a){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:r,options:a})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Rs))throw new Error("channel key must not start with a period");if(e.endsWith(Rs))throw new Error("channel key must not end with a period");if(e.includes(`${Rs}${Rs}`))throw new Error("channel key path must not empty")}}function db(i,e,r){const{stream:a,ac:o,isInit:c,onResponse:h,onStreamEnd:d,onError:m,onDisconnect:y,shouldIgnoreError:v}=i;return new Promise((T,V)=>{(async()=>{try{let B=!1;for await(const z of a)h(z),!B&&c(z)&&(B=!0,T([a,o]));d(),y()}catch(B){if(v&&v(B))return;m(B),await e(B)?y():r(),V(B)}})()})}var ws=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(ws||{});const ua={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},If={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Hv{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||ua;const r=e.rpcAddr||ua.rpcAddr;this.key=e.key||Jv(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??ua.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??ua.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??ua.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??ua.channelHeartbeatInterval;const{authInterceptor:a,setToken:o}=xT(this.apiKey);this.setAuthToken=o,this.rpcClient=rN(o2,DN({baseUrl:r,interceptors:[a,LT(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),_.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw _.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const r=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),_.info(`[DC] c"${this.getKey()}" deactivated`)}catch(a){throw _.error(`[DC] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(e.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}has(e){return this.attachmentMap.has(e)}attach(e,r){return e instanceof Yi?this.attachChannel(e,r):this.attachDocument(e,r)}attachDocument(e,r={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(r.initialPresence||{}));const a=r.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ke.toChangePack(e.createChangePack()),schemaKey:r.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(Ke.fromSchemaRules(o.schemaRules));const h=Ke.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new fb(this.reconnectStreamDelay,e,o.documentId,a)),a!=="manual"&&await this.runWatchLoop(e.getKey()),_.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(r.initialRoot){const m=r.initialRoot;e.update(y=>{for(const[v,T]of Object.entries(m))if(!d.has(v)){const V=v;y[V]=T}})}return e}catch(o){throw _.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,r){return e instanceof Yi?this.detachChannel(e):this.detachDocument(e,r)}detachDocument(e,r={keepalive:!1}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:a.resourceID,changePack:Ke.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=Ke.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),_.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw _.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(r.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,r={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Cs.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const a=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateSessionCount(Number(o.sessionCount),0),e.applyStatus(Cs.Attached);const c=r.isRealtime!==!1?"realtime":"manual",h=new fb(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:m,payload:y,options:v}=d;this.broadcast(e.getKey(),m,y,v).catch(T=>{v?.error&&v.error(T),_.error(`[BC] c:"${this.getKey()}" failed: ${T}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),_.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getSessionCount()}`),e}catch(o){throw _.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(a)}async detachChannel(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const r=async()=>{try{const a=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateSessionCount(Number(a.sessionCount),0),e.applyStatus(Cs.Detached),this.detachInternal(e.getKey()),_.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getSessionCount()}`),e}catch(a){throw _.error(`[DP] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};return this.enqueueTask(r)}async changeSyncMode(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=a.syncMode;return o===r?e:(a.changeSyncMode(r),r==="manual"?(a.cancelWatchStream(),e):(r==="realtime"&&(a.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof Yi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r).catch(async a=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}if(e instanceof zi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r,"realtime").catch(async a=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}return this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.syncMode!==void 0&&a.resource instanceof zi&&r.push(this.syncInternal(a,a.syncMode));return Promise.all(r).catch(async a=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a})})}remove(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const a=Ke.toChangePack(e.createChangePack());return a.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:r.resourceID,changePack:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=Ke.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),_.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw _.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,r,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:r,description:a||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return _.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${r}"`),Ke.toRevisionSummary(h.revision)}catch(h){throw _.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:a.resourceID,pageSize:r?.pageSize||10,offset:r?.offset||0,isForward:r?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return _.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(Ke.toRevisionSummary)}catch(c){throw _.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return _.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${r}"`),Ke.toRevisionSummary(c.revision)}catch(c){throw _.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),_.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${r}"`)}catch(c){throw _.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,r,a,o){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new N(A.ErrNotAttached,`${e} is not attached`);if(!MT(a))throw new N(A.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=o?.maxRetries??If.maxRetries,m=If.maxBackoff;let y=0;const v=V=>Math.min(If.initialRetryInterval*2**V,m),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:r,payload:new TextEncoder().encode(JSON.stringify(a))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),_.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${r}"`)}catch(V){if(_.error(`[BC] c:"${this.getKey()}" err:`,V),await this.handleConnectError(V))if(Tf(V,A.ErrUnauthenticated)&&c.resource instanceof Yi&&c.resource.publish({type:da.AuthError,reason:Is(V).reason||"unauthenticated",method:"Broadcast"}),y<d)y++,setTimeout(()=>T(),v(y-1)),_.info(`[BC] c:"${this.getKey()}" retry attempt ${y}/${d}`);else throw _.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),V}});return T()}runSyncLoop(){const e=async()=>{if(!this.isActive()){_.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.needSync(this.channelHeartbeatInterval)&&(a.changeEventReceived!==void 0&&(a.changeEventReceived=!1),r.push(this.syncInternal(a,a.syncMode).catch(o=>{throw Tf(o,A.ErrUnauthenticated)&&a.resource.publish([{type:vt.AuthError,value:{reason:Is(o).reason,method:"PushPull"}}]),o})));await Promise.all(r),setTimeout(e,this.syncLoopDuration)})}catch(r){_.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};_.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const r=this.attachmentMap.get(e);if(!r)throw new N(A.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,r.runWatchLoop(a=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return r.resource instanceof zi?this.createDocumentWatchStream(r,e,o,a):r.resource instanceof Yi?this.createChannelWatchStream(r,e,o,a):Promise.reject(new N(A.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,r,a,o){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:e.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${r}`},signal:a.signal});e.resource.publish([{type:vt.ConnectionChanged,value:Sr.Connected}]),_.info(`[WD] c:"${this.getKey()}" watches d:"${r}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);const h=()=>{e.resource.resetOnlineClients(),e.resource.publish([{type:vt.Initialized,source:ke.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:vt.ConnectionChanged,value:Sr.Disconnected}])};return db({stream:c,ac:a,isInit:d=>d.body.case==="initialization",onResponse:d=>this.handleWatchDocumentResponse(e,d),onStreamEnd:()=>{h(),_.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:d=>{h(),_.debug(`[WD] c:"${this.getKey()}" unwatches`),Tf(d,A.ErrUnauthenticated)&&e.resource.publish([{type:vt.AuthError,value:{reason:Is(d).reason,method:"Watch"}}])},onDisconnect:o},d=>this.handleConnectError(d),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(e,r,a,o){const c=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:r}}}]},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:a.signal});return _.info(`[WP] c:"${this.getKey()}" watches p:"${r}"`),db({stream:c,ac:a,isInit:h=>h.body.case==="initialization",onResponse:h=>this.handleWatchChannelResponse(e,h),onStreamEnd:()=>{_.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream ended`)},onError:h=>{_.debug(`[WP] c:"${this.getKey()}" p:"${r}" err:`,h)},onDisconnect:o,shouldIgnoreError:h=>h instanceof Error&&h.name==="AbortError"?(_.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream aborted`),!0):!1},h=>this.handleConnectError(h),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(e,r){const a=e.resource;if(r.body.case==="initialization"){for(const o of r.body.value.resourceInits)if(o.init.case==="channelInit"){const{sessionCount:c,seq:h}=o.init.value;a.updateSessionCount(Number(c),Number(h))&&a.publish({type:da.Initialized,count:Number(c)})}return}if(r.body.case==="event"){const o=r.body.value;if(o.event.case==="channelEvent"){const c=o.event.value.event;if(!c)return;if(c.type===pv.BROADCAST){const h=new TextDecoder;try{const d=JSON.parse(h.decode(c.payload));a.publish({type:da.Broadcast,clientID:c.publisher,topic:c.topic,payload:d})}catch(d){_.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,d)}return}a.updateSessionCount(Number(c.sessionCount),Number(c.seq))&&a.publish({type:da.PresenceChanged,count:Number(c.sessionCount)})}}}handleWatchDocumentResponse(e,r){if(r.body.case==="initialization"){for(const a of r.body.value.resourceInits)a.init.case==="documentInit"&&e.resource.applyWatchInit(a.init.value.clientIds);return}if(r.body.case==="event"){const a=r.body.value;if(a.event.case==="docEvent"){const o=a.event.value;if(o.event?.type===Oo.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}o.event&&e.resource.applyDocEvent(o.event.type,o.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[e,r]of this.attachmentMap)this.detachInternal(e),r.resource instanceof zi?r.resource.applyStatus(Zi.Detached):r.resource instanceof Yi&&r.resource.applyStatus(Cs.Detached)}detachInternal(e){const r=this.attachmentMap.get(e);r&&(r.cancelWatchStream(),r.resource instanceof zi&&r.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,r){const{resource:a}=e;if(a instanceof Yi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:a.getKey(),sessionId:a.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${a.getFirstKeyPath()}`}});a.updateSessionCount(Number(d.sessionCount),0),e.updateHeartbeatTime(),_.debug(`[RP] c:"${this.getKey()}" refreshes p:"${a.getKey()}" mode:${e.syncMode}`)}catch(d){throw _.error(`[RP] c:"${this.getKey()}" err :`,d),d}return a}const o=a,{resourceID:c}=e,h=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Ke.toChangePack(h),pushOnly:r==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),m=Ke.fromChangePack(d.changePack);if(m.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(m),e.resource.publish([{type:vt.SyncStatusChanged,value:Gf.Synced}]),o.getStatus()===Zi.Removed&&this.detachInternal(o.getKey());const y=o.getKey(),v=m.getChangeSize();return _.info(`[PP] c:"${this.getKey()}" sync d:"${y}", push:${h.getChangeSize()} pull:${v} cp:${m.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:vt.SyncStatusChanged,value:Gf.SyncFailed}]),_.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof xe))return!1;if(e.code===fe.Canceled||e.code===fe.Unknown||e.code===fe.ResourceExhausted||e.code===fe.Unavailable)return!0;if(ca(e)===A.ErrUnauthenticated){if(this.authTokenInjector){const r=await this.authTokenInjector(Is(e).reason);this.setAuthToken(r)}return!0}return ca(e)===A.ErrTooManySubscribers?(_.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ca(e)===A.ErrTooManyAttachments||(ca(e)===A.ErrClientNotActivated||ca(e)===A.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((r,a)=>{this.taskQueue.push(()=>e().then(r).catch(a)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{_.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Qv(i){return typeof i=="object"&&i!==null&&i.type==="Text"&&Array.isArray(i.nodes)}function Pv(i){return typeof i=="object"&&i!==null&&i.type==="Tree"&&typeof i.root=="object"}function $v(i){return typeof i=="object"&&i!==null&&i.type==="Int"&&typeof i.value=="number"}function qv(i){return typeof i=="object"&&i!==null&&i.type==="Long"&&typeof i.value=="number"}function e0(i){return typeof i=="object"&&i!==null&&i.type==="Date"&&typeof i.value=="string"}function t0(i){return typeof i=="object"&&i!==null&&i.type==="BinData"&&typeof i.value=="string"}function n0(i){return typeof i=="object"&&i!==null&&i.type==="Counter"&&typeof i.value=="object"}function ZT(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!Qv(i)&&!Pv(i)&&!$v(i)&&!qv(i)&&!e0(i)&&!t0(i)&&!n0(i)}function YT(i){try{const e=zT(i),r=JSON.parse(e);return Io(r)}catch(e){throw new N(A.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function zT(i){let e=i;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(r,a,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${a}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Int","__yson_data":${a}}`),e=e.replace(/Long\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Long","__yson_data":${a}}`),e=e.replace(/Date\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"Date","__yson_data":"${a}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"BinData","__yson_data":"${a}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(r,a)=>`{"__yson_type":"Text","__yson_data":${a}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(r,a)=>`{"__yson_type":"Tree","__yson_data":${a}}`),e}function Io(i){if(i===null||typeof i!="object")return i;if(i.__yson_type==="Int"&&typeof i.__yson_data=="number")return{type:"Int",value:i.__yson_data};if(i.__yson_type==="Long"&&typeof i.__yson_data=="number")return{type:"Long",value:i.__yson_data};if(i.__yson_type==="Date"&&typeof i.__yson_data=="string")return{type:"Date",value:i.__yson_data};if(i.__yson_type==="BinData"&&typeof i.__yson_data=="string")return{type:"BinData",value:i.__yson_data};if(i.__yson_type==="Counter"&&typeof i.__yson_data=="object"){const r=Io(i.__yson_data);if(typeof r=="object"&&r!==null&&"type"in r&&(r.type==="Int"||r.type==="Long"))return{type:"Counter",value:r};throw new N(A.ErrInvalidArgument,"Counter must contain Int or Long")}if(i.__yson_type==="Text"&&Array.isArray(i.__yson_data))return{type:"Text",nodes:i.__yson_data.map(r=>GT(r))};if(i.__yson_type==="Tree"&&typeof i.__yson_data=="object")return{type:"Tree",root:i0(i.__yson_data)};if(Array.isArray(i))return i.map(r=>Io(r));const e={};for(const[r,a]of Object.entries(i))e[r]=Io(a);return e}function GT(i){if(typeof i!="object"||i===null||typeof i.val!="string")throw new N(A.ErrInvalidArgument,"invalid text node format");const e={val:i.val};return i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),e}function i0(i){if(typeof i!="object"||i===null||typeof i.type!="string")throw new N(A.ErrInvalidArgument,"invalid tree node format");const e={type:i.type};return i.type==="text"&&typeof i.value=="string"?(e.value=i.value,e):(i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),Array.isArray(i.children)&&(e.children=i.children.map(r=>i0(r))),e)}function _T(i){return i.nodes.map(e=>e.val).join("")}function KT(i){return r0(i.root)}function r0(i){const e=i.attrs?Object.entries(i.attrs).map(([a,o])=>` ${a}="${gb(o)}"`).join(""):"";if(i.type==="text"&&i.value!==void 0)return`<${i.type}${e}>${gb(i.value)}</${i.type}>`;if(!i.children||i.children.length===0)return`<${i.type}${e} />`;const r=i.children.map(a=>r0(a)).join("");return`<${i.type}${e}>${r}</${i.type}>`}function gb(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const WT=Object.freeze(Object.defineProperty({__proto__:null,isBinData:t0,isCounter:n0,isDate:e0,isInt:$v,isLong:qv,isObject:ZT,isText:Qv,isTree:Pv,parse:YT,textToString:_T,treeToXML:KT},Symbol.toStringTag,{value:"Module"}));Yn.Int,Yn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Hv,Document:zi,Primitive:je,Text:Ih,Counter:Ch,Tree:Oh,Channel:Yi,ChannelEventType:da,YSON:WT,LogLevel:Bt,setLogLevel:dT,IntType:Yn.Int,LongType:Yn.Long});const XT="@yorkie-js/react",JT="0.6.48",mb={name:XT,version:JT},a0=We.createContext({client:void 0,loading:!0,error:void 0});function kT(i){const[e,r]=We.useState(void 0),[a,o]=We.useState(!0),[c,h]=We.useState(void 0),[d,m]=We.useState(!1);return We.useEffect(()=>{m(!0)},[]),We.useEffect(()=>{o(!0),h(void 0);async function y(){if(d)try{const v=new Hv(i);await v.activate(),r(v)}catch(v){h(v instanceof Error?v:new Error("Failed to activate client"))}finally{o(!1)}}return y(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:a,error:c}}const jT=({children:i,...e})=>{const r=We.useMemo(()=>({userAgent:mb.name+"/"+mb.version,...e}),[e.apiKey,e.rpcAddr]),{client:a,loading:o,error:c}=kT(r);return Ce.jsx(a0.Provider,{value:{client:a,loading:o,error:c},children:i})},FT=()=>{const i=We.useContext(a0);if(!i)throw new Error("useYorkie must be used under YorkieProvider");return{client:i.client,loading:i.loading,error:i.error}};function HT(i){const e=new Set;let r=i;const a=()=>{e.forEach(m=>m(r))};return{subscribe:m=>(e.add(m),()=>e.delete(m)),getSnapshot:()=>r,setState:m=>{const y=r;r=typeof m=="function"?m(y):m,y!==r&&a()},destroy:()=>{e.clear()}}}const QT=i=>HT(i);function Vh(i,e,r=Object.is){const a=We.useRef(e),o=We.useRef(r),c=We.useRef(void 0);a.current=e,o.current=r;const h=()=>{const d=i.getSnapshot(),m=a.current?a.current(d):d;return c.current!==void 0&&o.current(c.current,m)?c.current:(c.current=m,m)};return We.useSyncExternalStore(i.subscribe,h,h)}function yb(i){return i!=null&&typeof i[Symbol.iterator]=="function"}function pb(i){return"entries"in i&&typeof i.entries=="function"}function PT(i,e){const r=i instanceof Map?i:new Map(i.entries()),a=e instanceof Map?e:new Map(e.entries());if(r.size!==a.size)return!1;for(const[o,c]of r)if(!a.has(o)||!Object.is(c,a.get(o)))return!1;return!0}function $T(i,e){const r=i[Symbol.iterator](),a=e[Symbol.iterator]();let o=r.next(),c=a.next();for(;!o.done&&!c.done;){if(!Object.is(o.value,c.value))return!1;o=r.next(),c=a.next()}return o.done===c.done}function qT(i,e){const r=Object.keys(i),a=Object.keys(e);if(r.length!==a.length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(e,o)||!Object.is(i[o],e[o]))return!1;return!0}function eR(i,e){if(Object.is(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null||Object.getPrototypeOf(i)!==Object.getPrototypeOf(e))return!1;const r=yb(i),a=yb(e);return r!==a?!1:r&&a?pb(i)&&pb(e)?PT(i,e):$T(i,e):qT(i,e)}function tR(i,e,r,a,o,c,h,d){const m=We.useRef(o),y=We.useRef(c),[v,T]=We.useState(!1);We.useEffect(()=>{T(!0)},[]),We.useEffect(()=>{if(r){d.setState(z=>({...z,loading:!1,error:r}));return}if(!i||e||!v){d.setState(z=>({...z,loading:!0}));return}d.setState(z=>({...z,loading:!0,error:void 0}));const V=new zi(a,{enableDevtools:h}),I=[];I.push(V.subscribe(()=>{d.setState(z=>({...z,root:V.getRoot()}))})),I.push(V.subscribe("presence",()=>{d.setState(z=>({...z,presences:V.getPresences()}))})),I.push(V.subscribe("connection",z=>{d.setState(j=>({...j,connection:z.value}))}));async function B(){try{await i?.attach(V,{initialRoot:m.current,initialPresence:y.current});const z=j=>{try{V.update(j)}catch(q){d.setState(Ee=>({...Ee,error:q instanceof Error?q:new Error("Failed to update document")}))}};d.setState(j=>({...j,doc:V,root:V.getRoot(),presences:V.getPresences(),update:z}))}catch(z){d.setState(j=>({...j,error:z instanceof Error?z:new Error("Failed to attach document")}))}finally{d.setState(z=>({...z,loading:!1}))}}return B(),()=>{i&&i.has(a)&&i.detach(V);for(const z of I)z()}},[i,e,r,a,d,v])}const xh=We.createContext(void 0),nR=({docKey:i,initialRoot:e={},initialPresence:r={},enableDevtools:a=!1,children:o})=>{const{client:c,loading:h,error:d}=FT(),m=We.useRef(void 0);m.current||(m.current=QT({doc:void 0,root:e,presences:[],connection:Sr.Disconnected,update:()=>{},loading:!0,error:void 0}));const y=m.current;return tR(c,h,d,i,e,r,a,y),Ce.jsx(xh.Provider,{value:y,children:o})},iR=()=>(i,e=eR)=>{const r=We.useContext(xh);if(!r)throw new Error("useDocument must be used within a DocumentProvider");return Vh(r,i,e)},rR=()=>{const i=l0("usePresences");return Vh(i,e=>e.presences)},s0=()=>{const i=l0("useConnection");return Vh(i,e=>e.connection)},l0=i=>{const e=We.useContext(xh);if(!e)throw new Error(`${i} must be used within a DocumentProvider`);return e};We.createContext(void 0);function aR(){const i=s0();return Ce.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",i===Sr.Connected?Ce.jsx("span",{className:"green",children:" "}):Ce.jsx("span",{className:"red",children:" "})]})}function sR(){const i=rR();return Ce.jsx("div",{id:"peers-container",children:Ce.jsxs("p",{children:["Peers:"," ",i.map((e,r)=>Ce.jsxs(LA.Fragment,{children:[Ce.jsx("span",{children:e.clientID.slice(-2)}),r<i.length-1&&Ce.jsx("span",{children:", "})]},e.clientID))]})})}const Bh=iR();function lR(){const{counter:i}=Bh(({root:e})=>({counter:e.counter}));return Ce.jsx("div",{id:"counter-value",children:i})}function oR(){const{update:i,connection:e}=Bh(({update:r,connection:a})=>({update:r,connection:a}));return Ce.jsx("button",{id:"increment",disabled:e===Sr.Disconnected,onClick:()=>i(r=>r.counter+=1),children:"Increment"})}function uR(){const{loading:i,error:e}=Bh(({loading:a,error:o})=>({loading:a,error:o})),r=s0();return i?Ce.jsx("p",{children:"Loading..."}):e?Ce.jsxs("div",{id:"error",children:[Ce.jsxs("p",{children:["Error Name: ",e.name]}),Ce.jsxs("p",{children:["Error Message: ",e.message]})]}):Ce.jsxs("div",{className:"counter-side",children:[Ce.jsx(aR,{}),Ce.jsx(sR,{}),Ce.jsxs("div",{id:"counter-container",children:[Ce.jsx("h1",{id:"counter",children:"Counter"}),Ce.jsx(lR,{}),Ce.jsx(oR,{})]}),Ce.jsx("div",{id:"error",children:r===Sr.Disconnected&&Ce.jsx("p",{children:"Stream subscription is disconnected"})})]})}function cR(){return Ce.jsx(jT,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:Ce.jsx("div",{className:"page-container",children:Ce.jsx(nR,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ce.jsx(uR,{})})})})}KA.createRoot(document.getElementById("root")).render(Ce.jsx(We.StrictMode,{children:Ce.jsx(cR,{})}));
