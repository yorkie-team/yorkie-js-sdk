var Eb=Object.defineProperty;var xb=(s,n,e)=>n in s?Eb(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var h=(s,n,e)=>xb(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function Nb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qh={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Db(){if(jp)return Ho;jp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=n,Ho.jsx=e,Ho.jsxs=e,Ho}var Yp;function Ob(){return Yp||(Yp=1,qh.exports=Db()),qh.exports}var Rt=Ob(),Jh={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Cb(){if(Gp)return dt;Gp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function Y(w,J,$){this.props=w,this.context=J,this.refs=H,this.updater=$||O}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,J){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,J,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function _(){}_.prototype=Y.prototype;function ut(w,J,$){this.props=w,this.context=J,this.refs=H,this.updater=$||O}var F=ut.prototype=new _;F.constructor=ut,P(F,Y.prototype),F.isPureReactComponent=!0;var ct=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function yt(w,J,$,G,rt,xt){return $=xt.ref,{$$typeof:s,type:w,key:J,ref:$!==void 0?$:null,props:xt}}function wt(w,J){return yt(w.type,J,void 0,void 0,void 0,w.props)}function At(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function ie(w){var J={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return J[$]})}var Le=/\/+/g;function se(w,J){return typeof w=="object"&&w!==null&&w.key!=null?ie(""+w.key):J.toString(36)}function ua(){}function ca(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ua,ua):(w.status="pending",w.then(function(J){w.status==="pending"&&(w.status="fulfilled",w.value=J)},function(J){w.status==="pending"&&(w.status="rejected",w.reason=J)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ve(w,J,$,G,rt){var xt=typeof w;(xt==="undefined"||xt==="boolean")&&(w=null);var ft=!1;if(w===null)ft=!0;else switch(xt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(w.$$typeof){case s:case n:ft=!0;break;case T:return ft=w._init,ve(ft(w._payload),J,$,G,rt)}}if(ft)return rt=rt(w),ft=G===""?"."+se(w,0):G,ct(rt)?($="",ft!=null&&($=ft.replace(Le,"$&/")+"/"),ve(rt,J,$,"",function(Cr){return Cr})):rt!=null&&(At(rt)&&(rt=wt(rt,$+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(Le,"$&/")+"/")+ft)),J.push(rt)),1;ft=0;var qe=G===""?".":G+":";if(ct(w))for(var Vt=0;Vt<w.length;Vt++)G=w[Vt],xt=qe+se(G,Vt),ft+=ve(G,J,$,xt,rt);else if(Vt=I(w),typeof Vt=="function")for(w=Vt.call(w),Vt=0;!(G=w.next()).done;)G=G.value,xt=qe+se(G,Vt++),ft+=ve(G,J,$,xt,rt);else if(xt==="object"){if(typeof w.then=="function")return ve(ca(w),J,$,G,rt);throw J=String(w),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ft}function U(w,J,$){if(w==null)return w;var G=[],rt=0;return ve(w,G,"","",function(xt){return J.call($,xt,rt++)}),G}function K(w){if(w._status===-1){var J=w._result;J=J(),J.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=J)}if(w._status===1)return w._result.default;throw w._result}var ot=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Mt(){}return dt.Children={map:U,forEach:function(w,J,$){U(w,function(){J.apply(this,arguments)},$)},count:function(w){var J=0;return U(w,function(){J++}),J},toArray:function(w){return U(w,function(J){return J})||[]},only:function(w){if(!At(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=Y,dt.Fragment=e,dt.Profiler=l,dt.PureComponent=ut,dt.StrictMode=r,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return W.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,J,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=P({},w.props),rt=w.key,xt=void 0;if(J!=null)for(ft in J.ref!==void 0&&(xt=void 0),J.key!==void 0&&(rt=""+J.key),J)!tt.call(J,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&J.ref===void 0||(G[ft]=J[ft]);var ft=arguments.length-2;if(ft===1)G.children=$;else if(1<ft){for(var qe=Array(ft),Vt=0;Vt<ft;Vt++)qe[Vt]=arguments[Vt+2];G.children=qe}return yt(w.type,rt,void 0,void 0,xt,G)},dt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},dt.createElement=function(w,J,$){var G,rt={},xt=null;if(J!=null)for(G in J.key!==void 0&&(xt=""+J.key),J)tt.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(rt[G]=J[G]);var ft=arguments.length-2;if(ft===1)rt.children=$;else if(1<ft){for(var qe=Array(ft),Vt=0;Vt<ft;Vt++)qe[Vt]=arguments[Vt+2];rt.children=qe}if(w&&w.defaultProps)for(G in ft=w.defaultProps,ft)rt[G]===void 0&&(rt[G]=ft[G]);return yt(w,xt,void 0,void 0,null,rt)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:g,render:w}},dt.isValidElement=At,dt.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:K}},dt.memo=function(w,J){return{$$typeof:y,type:w,compare:J===void 0?null:J}},dt.startTransition=function(w){var J=W.T,$={};W.T=$;try{var G=w(),rt=W.S;rt!==null&&rt($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Mt,ot)}catch(xt){ot(xt)}finally{W.T=J}},dt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},dt.use=function(w){return W.H.use(w)},dt.useActionState=function(w,J,$){return W.H.useActionState(w,J,$)},dt.useCallback=function(w,J){return W.H.useCallback(w,J)},dt.useContext=function(w){return W.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,J){return W.H.useDeferredValue(w,J)},dt.useEffect=function(w,J,$){var G=W.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,J)},dt.useId=function(){return W.H.useId()},dt.useImperativeHandle=function(w,J,$){return W.H.useImperativeHandle(w,J,$)},dt.useInsertionEffect=function(w,J){return W.H.useInsertionEffect(w,J)},dt.useLayoutEffect=function(w,J){return W.H.useLayoutEffect(w,J)},dt.useMemo=function(w,J){return W.H.useMemo(w,J)},dt.useOptimistic=function(w,J){return W.H.useOptimistic(w,J)},dt.useReducer=function(w,J,$){return W.H.useReducer(w,J,$)},dt.useRef=function(w){return W.H.useRef(w)},dt.useState=function(w){return W.H.useState(w)},dt.useSyncExternalStore=function(w,J,$){return W.H.useSyncExternalStore(w,J,$)},dt.useTransition=function(){return W.H.useTransition()},dt.version="19.1.0",dt}var Kp;function kd(){return Kp||(Kp=1,Jh.exports=Cb()),Jh.exports}var Yt=kd();const kb=Nb(Yt);var Ph={exports:{}},jo={},Vh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Rb(){return $p||($p=1,function(s){function n(U,K){var ot=U.length;U.push(K);t:for(;0<ot;){var Mt=ot-1>>>1,w=U[Mt];if(0<l(w,K))U[Mt]=K,U[ot]=w,ot=Mt;else break t}}function e(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],ot=U.pop();if(ot!==K){U[0]=ot;t:for(var Mt=0,w=U.length,J=w>>>1;Mt<J;){var $=2*(Mt+1)-1,G=U[$],rt=$+1,xt=U[rt];if(0>l(G,ot))rt<w&&0>l(xt,G)?(U[Mt]=xt,U[rt]=ot,Mt=rt):(U[Mt]=G,U[$]=ot,Mt=$);else if(rt<w&&0>l(xt,ot))U[Mt]=xt,U[rt]=ot,Mt=rt;else break t}}return K}function l(U,K){var ot=U.sortIndex-K.sortIndex;return ot!==0?ot:U.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,x=null,I=3,O=!1,P=!1,H=!1,Y=!1,_=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ct(U){for(var K=e(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=U)r(y),K.sortIndex=K.expirationTime,n(p,K);else break;K=e(y)}}function W(U){if(H=!1,ct(U),!P)if(e(p)!==null)P=!0,tt||(tt=!0,se());else{var K=e(y);K!==null&&ve(W,K.startTime-U)}}var tt=!1,yt=-1,wt=5,At=-1;function ie(){return Y?!0:!(s.unstable_now()-At<wt)}function Le(){if(Y=!1,tt){var U=s.unstable_now();At=U;var K=!0;try{t:{P=!1,H&&(H=!1,ut(yt),yt=-1),O=!0;var ot=I;try{e:{for(ct(U),x=e(p);x!==null&&!(x.expirationTime>U&&ie());){var Mt=x.callback;if(typeof Mt=="function"){x.callback=null,I=x.priorityLevel;var w=Mt(x.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){x.callback=w,ct(U),K=!0;break e}x===e(p)&&r(p),ct(U)}else r(p);x=e(p)}if(x!==null)K=!0;else{var J=e(y);J!==null&&ve(W,J.startTime-U),K=!1}}break t}finally{x=null,I=ot,O=!1}K=void 0}}finally{K?se():tt=!1}}}var se;if(typeof F=="function")se=function(){F(Le)};else if(typeof MessageChannel<"u"){var ua=new MessageChannel,ca=ua.port2;ua.port1.onmessage=Le,se=function(){ca.postMessage(null)}}else se=function(){_(Le,0)};function ve(U,K){yt=_(function(){U(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var K=3;break;default:K=I}var ot=I;I=K;try{return U()}finally{I=ot}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ot=I;I=U;try{return K()}finally{I=ot}},s.unstable_scheduleCallback=function(U,K,ot){var Mt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Mt+ot:Mt):ot=Mt,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ot+w,U={id:T++,callback:K,priorityLevel:U,startTime:ot,expirationTime:w,sortIndex:-1},ot>Mt?(U.sortIndex=ot,n(y,U),e(p)===null&&U===e(y)&&(H?(ut(yt),yt=-1):H=!0,ve(W,ot-Mt))):(U.sortIndex=w,n(p,U),P||O||(P=!0,tt||(tt=!0,se()))),U},s.unstable_shouldYield=ie,s.unstable_wrapCallback=function(U){var K=I;return function(){var ot=I;I=K;try{return U.apply(this,arguments)}finally{I=ot}}}}(Hh)),Hh}var Xp;function Bb(){return Xp||(Xp=1,Vh.exports=Rb()),Vh.exports}var jh={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Ib(){if(Zp)return be;Zp=1;var s=kd();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:p,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,be.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,T)},be.flushSync=function(p){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=y,r.p=T,r.d.f()}},be.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},be.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},be.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:I,fetchPriority:O}):T==="script"&&r.d.X(p,{crossOrigin:x,integrity:I,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},be.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},be.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},be.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},be.requestFormReset=function(p){r.d.r(p)},be.unstable_batchedUpdates=function(p,y){return p(y)},be.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},be.useFormStatus=function(){return d.H.useHostTransitionStatus()},be.version="19.1.0",be}var Qp;function zb(){if(Qp)return jh.exports;Qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),jh.exports=Ib(),jh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Mb(){if(Fp)return jo;Fp=1;var s=Bb(),n=kd(),e=zb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),t;if(f===o)return g(u),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=Le&&t[Le]||t["@@iterator"],typeof t=="function"?t:null)}var ua=Symbol.for("react.client.reference");function ca(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ua?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case Y:return"Profiler";case H:return"StrictMode";case W:return"Suspense";case tt:return"SuspenseList";case At:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case F:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case ct:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return i=t.displayName||null,i!==null?i:ca(t.type)||"Memo";case wt:i=t._payload,t=t._init;try{return ca(t(i))}catch{}}return null}var ve=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Mt=[],w=-1;function J(t){return{current:t}}function $(t){0>w||(t.current=Mt[w],Mt[w]=null,w--)}function G(t,i){w++,Mt[w]=t.current,t.current=i}var rt=J(null),xt=J(null),ft=J(null),qe=J(null);function Vt(t,i){switch(G(ft,i),G(xt,t),G(rt,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pp(i),t=vp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(rt),G(rt,t)}function Cr(){$(rt),$(xt),$(ft)}function wc(t){t.memoizedState!==null&&G(qe,t);var i=rt.current,a=vp(i,t.type);i!==a&&(G(xt,t),G(rt,a))}function dl(t){xt.current===t&&($(rt),$(xt)),qe.current===t&&($(qe),Lo._currentValue=ot)}var Ac=Object.prototype.hasOwnProperty,Ec=s.unstable_scheduleCallback,xc=s.unstable_cancelCallback,nS=s.unstable_shouldYield,iS=s.unstable_requestPaint,Rn=s.unstable_now,rS=s.unstable_getCurrentPriorityLevel,Fd=s.unstable_ImmediatePriority,_d=s.unstable_UserBlockingPriority,gl=s.unstable_NormalPriority,aS=s.unstable_LowPriority,Wd=s.unstable_IdlePriority,sS=s.log,oS=s.unstable_setDisableYieldValue,Ys=null,Je=null;function kr(t){if(typeof sS=="function"&&oS(t),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Ys,t)}catch{}}var Pe=Math.clz32?Math.clz32:cS,lS=Math.log,uS=Math.LN2;function cS(t){return t>>>=0,t===0?32:31-(lS(t)/uS|0)|0}var ml=256,yl=4194304;function fa(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pl(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=fa(o):(m&=S,m!==0?u=fa(m):a||(a=S&~t,a!==0&&(u=fa(a))))):(S=o&~f,S!==0?u=fa(S):m!==0?u=fa(m):a||(a=o&~t,a!==0&&(u=fa(a)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:u}function Gs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fS(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(){var t=ml;return ml<<=1,(ml&4194048)===0&&(ml=256),t}function eg(){var t=yl;return yl<<=1,(yl&62914560)===0&&(yl=4194304),t}function Nc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ks(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hS(t,i,a,o,u,f){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,b=t.expirationTimes,k=t.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Pe(a),q=1<<M;S[M]=0,b[M]=-1;var R=k[M];if(R!==null)for(k[M]=null,M=0;M<R.length;M++){var B=R[M];B!==null&&(B.lane&=-536870913)}a&=~q}o!==0&&ng(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~i))}function ng(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Pe(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function ig(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Pe(a),u=1<<o;u&i|t[o]&i&&(t[o]|=i),a&=~u}}function Dc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rg(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function dS(t,i){var a=K.p;try{return K.p=t,i()}finally{K.p=a}}var Rr=Math.random().toString(36).slice(2),Se="__reactFiber$"+Rr,De="__reactProps$"+Rr,Pa="__reactContainer$"+Rr,Cc="__reactEvents$"+Rr,gS="__reactListeners$"+Rr,mS="__reactHandles$"+Rr,ag="__reactResources$"+Rr,$s="__reactMarker$"+Rr;function kc(t){delete t[Se],delete t[De],delete t[Cc],delete t[gS],delete t[mS]}function Va(t){var i=t[Se];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Pa]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=wp(t);t!==null;){if(a=t[Se])return a;t=wp(t)}return i}t=a,a=t.parentNode}return null}function Ha(t){if(t=t[Se]||t[Pa]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Xs(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ja(t){var i=t[ag];return i||(i=t[ag]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function oe(t){t[$s]=!0}var sg=new Set,og={};function ha(t,i){Ya(t,i),Ya(t+"Capture",i)}function Ya(t,i){for(og[t]=i,t=0;t<i.length;t++)sg.add(i[t])}var yS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lg={},ug={};function pS(t){return Ac.call(ug,t)?!0:Ac.call(lg,t)?!1:yS.test(t)?ug[t]=!0:(lg[t]=!0,!1)}function vl(t,i,a){if(pS(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Wn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var Rc,cg;function Ga(t){if(Rc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rc=i&&i[1]||"",cg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rc+t+cg}var Bc=!1;function Ic(t,i){if(!t||Bc)return"";Bc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var R=B}Reflect.construct(t,[],q)}else{try{q.call()}catch(B){R=B}t.call(q.prototype)}}else{try{throw Error()}catch(B){R=B}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var b=m.split(`
`),k=S.split(`
`);for(u=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(o===b.length||u===k.length)for(o=b.length-1,u=k.length-1;1<=o&&0<=u&&b[o]!==k[u];)u--;for(;1<=o&&0<=u;o--,u--)if(b[o]!==k[u]){if(o!==1||u!==1)do if(o--,u--,0>u||b[o]!==k[u]){var M=`
`+b[o].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=o&&0<=u);break}}}finally{Bc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ga(a):""}function vS(t){switch(t.tag){case 26:case 27:case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return Ic(t.type,!1);case 11:return Ic(t.type.render,!1);case 1:return Ic(t.type,!0);case 31:return Ga("Activity");default:return""}}function fg(t){try{var i="";do i+=vS(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hg(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function SS(t){var i=hg(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Tl(t){t._valueTracker||(t._valueTracker=SS(t))}function dg(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=hg(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var TS=/[\n"\\]/g;function We(t){return t.replace(TS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zc(t,i,a,o,u,f,m,S){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),i!=null?m==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_e(i)):t.value!==""+_e(i)&&(t.value=""+_e(i)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),i!=null?Mc(t,m,_e(i)):a!=null?Mc(t,m,_e(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+_e(S):t.removeAttribute("name")}function gg(t,i,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+_e(a):"",i=i!=null?""+_e(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Mc(t,i,a){i==="number"&&bl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ka(t,i,a,o){if(t=t.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=i.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),i=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}i!==null||t[u].disabled||(i=t[u])}i!==null&&(i.selected=!0)}}function mg(t,i,a){if(i!=null&&(i=""+_e(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+_e(a):""}function yg(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ve(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=_e(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function $a(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pg(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||bS.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function vg(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in i)o=i[u],i.hasOwnProperty(u)&&a[u]!==o&&pg(t,u,o)}else for(var f in i)i.hasOwnProperty(f)&&pg(t,f,i[f])}function Uc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(t){return AS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Lc=null;function qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xa=null,Za=null;function Sg(t){var i=Ha(t);if(i&&(t=i.stateNode)){var a=t[De]||null;t:switch(t=i.stateNode,i.type){case"input":if(zc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var u=o[De]||null;if(!u)throw Error(r(90));zc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&dg(o)}break t;case"textarea":mg(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ka(t,!!a.multiple,i,!1)}}}var Jc=!1;function Tg(t,i,a){if(Jc)return t(i,a);Jc=!0;try{var o=t(i);return o}finally{if(Jc=!1,(Xa!==null||Za!==null)&&(ou(),Xa&&(i=Xa,t=Za,Za=Xa=null,Sg(i),t)))for(i=0;i<t.length;i++)Sg(t[i])}}function Zs(t,i){var a=t.stateNode;if(a===null)return null;var o=a[De]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(ti)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Pc=!1}var Br=null,Vc=null,Al=null;function bg(){if(Al)return Al;var t,i=Vc,a=i.length,o,u="value"in Br?Br.value:Br.textContent,f=u.length;for(t=0;t<a&&i[t]===u[t];t++);var m=a-t;for(o=1;o<=m&&i[a-o]===u[f-o];o++);return Al=u.slice(t,1<o?1-o:void 0)}function El(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function wg(){return!1}function Oe(t){function i(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xl:wg,this.isPropagationStopped=wg,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),i}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Oe(da),Fs=T({},da,{view:0,detail:0}),ES=Oe(Fs),Hc,jc,_s,Dl=T({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Hc=t.screenX-_s.screenX,jc=t.screenY-_s.screenY):jc=Hc=0,_s=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:jc}}),Ag=Oe(Dl),xS=T({},Dl,{dataTransfer:0}),NS=Oe(xS),DS=T({},Fs,{relatedTarget:0}),Yc=Oe(DS),OS=T({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),CS=Oe(OS),kS=T({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RS=Oe(kS),BS=T({},da,{data:0}),Eg=Oe(BS),IS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function US(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=MS[t])?!!i[t]:!1}function Gc(){return US}var LS=T({},Fs,{key:function(t){if(t.key){var i=IS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qS=Oe(LS),JS=T({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Oe(JS),PS=T({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),VS=Oe(PS),HS=T({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=Oe(HS),YS=T({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=Oe(YS),KS=T({},da,{newState:0,oldState:0}),$S=Oe(KS),XS=[9,13,27,32],Kc=ti&&"CompositionEvent"in window,Ws=null;ti&&"documentMode"in document&&(Ws=document.documentMode);var ZS=ti&&"TextEvent"in window&&!Ws,Ng=ti&&(!Kc||Ws&&8<Ws&&11>=Ws),Dg=" ",Og=!1;function Cg(t,i){switch(t){case"keyup":return XS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function QS(t,i){switch(t){case"compositionend":return kg(i);case"keypress":return i.which!==32?null:(Og=!0,Dg);case"textInput":return t=i.data,t===Dg&&Og?null:t;default:return null}}function FS(t,i){if(Qa)return t==="compositionend"||!Kc&&Cg(t,i)?(t=bg(),Al=Vc=Br=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ng&&i.locale!=="ko"?null:i.data;default:return null}}var _S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!_S[t.type]:i==="textarea"}function Bg(t,i,a,o){Xa?Za?Za.push(o):Za=[o]:Xa=o,i=du(i,"onChange"),0<i.length&&(a=new Nl("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var to=null,eo=null;function WS(t){hp(t,0)}function Ol(t){var i=Xs(t);if(dg(i))return t}function Ig(t,i){if(t==="change")return i}var zg=!1;if(ti){var $c;if(ti){var Xc="oninput"in document;if(!Xc){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Xc=typeof Mg.oninput=="function"}$c=Xc}else $c=!1;zg=$c&&(!document.documentMode||9<document.documentMode)}function Ug(){to&&(to.detachEvent("onpropertychange",Lg),eo=to=null)}function Lg(t){if(t.propertyName==="value"&&Ol(eo)){var i=[];Bg(i,eo,t,qc(t)),Tg(WS,i)}}function tT(t,i,a){t==="focusin"?(Ug(),to=i,eo=a,to.attachEvent("onpropertychange",Lg)):t==="focusout"&&Ug()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(eo)}function nT(t,i){if(t==="click")return Ol(i)}function iT(t,i){if(t==="input"||t==="change")return Ol(i)}function rT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ve=typeof Object.is=="function"?Object.is:rT;function no(t,i){if(Ve(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!Ac.call(i,u)||!Ve(t[u],i[u]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,i){var a=qg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qg(a)}}function Pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bl(t.document)}return i}function Zc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var aT=ti&&"documentMode"in document&&11>=document.documentMode,Fa=null,Qc=null,io=null,Fc=!1;function Hg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||Fa==null||Fa!==bl(o)||(o=Fa,"selectionStart"in o&&Zc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&no(io,o)||(io=o,o=du(Qc,"onSelect"),0<o.length&&(i=new Nl("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Fa)))}function ga(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},_c={},jg={};ti&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function ma(t){if(_c[t])return _c[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return _c[t]=i[a];return t}var Yg=ma("animationend"),Gg=ma("animationiteration"),Kg=ma("animationstart"),sT=ma("transitionrun"),oT=ma("transitionstart"),lT=ma("transitioncancel"),$g=ma("transitionend"),Xg=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function wn(t,i){Xg.set(t,i),ha(i,[t])}var Zg=new WeakMap;function tn(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:fg(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:fg(i)}}var en=[],Wa=0,tf=0;function Cl(){for(var t=Wa,i=tf=Wa=0;i<t;){var a=en[i];en[i++]=null;var o=en[i];en[i++]=null;var u=en[i];en[i++]=null;var f=en[i];if(en[i++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Qg(a,u,f)}}function kl(t,i,a,o){en[Wa++]=t,en[Wa++]=i,en[Wa++]=a,en[Wa++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ef(t,i,a,o){return kl(t,i,a,o),Rl(t)}function ts(t,i){return kl(t,null,null,i),Rl(t)}function Qg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&i!==null&&(u=31-Pe(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[i]:o.push(i),i.lane=a|536870912),f):null}function Rl(t){if(50<Co)throw Co=0,lh=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var es={};function uT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,i,a,o){return new uT(t,i,a,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,i){var a=t.alternate;return a===null?(a=He(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bl(t,i,a,o,u,f){var m=0;if(o=t,typeof t=="function")nf(t)&&(m=1);else if(typeof t=="string")m=fb(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case At:return t=He(31,a,i,u),t.elementType=At,t.lanes=f,t;case P:return ya(a.children,u,f,i);case H:m=8,u|=24;break;case Y:return t=He(12,a,i,u|2),t.elementType=Y,t.lanes=f,t;case W:return t=He(13,a,i,u),t.elementType=W,t.lanes=f,t;case tt:return t=He(19,a,i,u),t.elementType=tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case F:m=10;break t;case ut:m=9;break t;case ct:m=11;break t;case yt:m=14;break t;case wt:m=16,o=null;break t}m=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=He(m,a,i,u),i.elementType=t,i.type=o,i.lanes=f,i}function ya(t,i,a,o){return t=He(7,t,o,i),t.lanes=a,t}function rf(t,i,a){return t=He(6,t,null,i),t.lanes=a,t}function af(t,i,a){return i=He(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ns=[],is=0,Il=null,zl=0,nn=[],rn=0,pa=null,ni=1,ii="";function va(t,i){ns[is++]=zl,ns[is++]=Il,Il=t,zl=i}function _g(t,i,a){nn[rn++]=ni,nn[rn++]=ii,nn[rn++]=pa,pa=t;var o=ni;t=ii;var u=32-Pe(o)-1;o&=~(1<<u),a+=1;var f=32-Pe(i)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,ni=1<<32-Pe(i)+u|a<<u|o,ii=f+t}else ni=1<<f|a<<u|o,ii=t}function sf(t){t.return!==null&&(va(t,1),_g(t,1,0))}function of(t){for(;t===Il;)Il=ns[--is],ns[is]=null,zl=ns[--is],ns[is]=null;for(;t===pa;)pa=nn[--rn],nn[rn]=null,ii=nn[--rn],nn[rn]=null,ni=nn[--rn],nn[rn]=null}var Ee=null,Kt=null,Dt=!1,Sa=null,Bn=!1,lf=Error(r(519));function Ta(t){var i=Error(r(418,""));throw so(tn(i,t)),lf}function Wg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Se]=t,i[De]=o,a){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(a=0;a<Ro.length;a++)vt(Ro[a],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":vt("invalid",i),gg(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Tl(i);break;case"select":vt("invalid",i);break;case"textarea":vt("invalid",i),yg(i,o.value,o.defaultValue,o.children),Tl(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||yp(i.textContent,a)?(o.popover!=null&&(vt("beforetoggle",i),vt("toggle",i)),o.onScroll!=null&&vt("scroll",i),o.onScrollEnd!=null&&vt("scrollend",i),o.onClick!=null&&(i.onclick=gu),i=!0):i=!1,i||Ta(t)}function tm(t){for(Ee=t.return;Ee;)switch(Ee.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ee=Ee.return}}function ro(t){if(t!==Ee)return!1;if(!Dt)return tm(t),Dt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Eh(t.type,t.memoizedProps)),a=!a),a&&Kt&&Ta(t),tm(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Kt=En(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Kt=null}}else i===27?(i=Kt,Xr(t.type)?(t=Oh,Oh=null,Kt=t):Kt=i):Kt=Ee?En(t.stateNode.nextSibling):null;return!0}function ao(){Kt=Ee=null,Dt=!1}function em(){var t=Sa;return t!==null&&(Re===null?Re=t:Re.push.apply(Re,t),Sa=null),t}function so(t){Sa===null?Sa=[t]:Sa.push(t)}var uf=J(null),ba=null,ri=null;function Ir(t,i,a){G(uf,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=uf.current,$(uf)}function cf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var b=0;b<i.length;b++)if(S.context===i[b]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),cf(f.return,a,t),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),cf(m,a,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function oo(t,i,a,o){t=null;for(var u=i,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var S=u.type;Ve(u.pendingProps.value,m.value)||(t!==null?t.push(S):t=[S])}}else if(u===qe.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}u=u.return}t!==null&&ff(i,t,a,o),i.flags|=262144}function Ml(t){for(t=t.firstContext;t!==null;){if(!Ve(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){ba=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Te(t){return nm(ba,t)}function Ul(t,i){return ba===null&&wa(t),nm(t,i)}function nm(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ri===null){if(t===null)throw Error(r(308));ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ri=ri.next=i;return a}var cT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},fT=s.unstable_scheduleCallback,hT=s.unstable_NormalPriority,re={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new cT,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&fT(hT,function(){t.controller.abort()})}var uo=null,df=0,rs=0,as=null;function dT(t,i){if(uo===null){var a=uo=[];df=0,rs=mh(),as={status:"pending",value:void 0,then:function(o){a.push(o)}}}return df++,i.then(im,im),i}function im(){if(--df===0&&uo!==null){as!==null&&(as.status="fulfilled");var t=uo;uo=null,rs=0,as=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function gT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var u=0;u<a.length;u++)(0,a[u])(i)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var rm=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dT(t,i),rm!==null&&rm(t,i)};var Aa=J(null);function gf(){var t=Aa.current;return t!==null?t:Jt.pooledCache}function Ll(t,i){i===null?G(Aa,Aa.current):G(Aa,i.pool)}function am(){var t=gf();return t===null?null:{parent:re._currentValue,pool:t}}var co=Error(r(460)),sm=Error(r(474)),ql=Error(r(542)),mf={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jl(){}function lm(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jl,Jl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cm(t),t;default:if(typeof i.status=="string")i.then(Jl,Jl);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=o}},function(o){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cm(t),t}throw fo=i,co}}var fo=null;function um(){if(fo===null)throw Error(r(459));var t=fo;return fo=null,t}function cm(t){if(t===co||t===ql)throw Error(r(483))}var zr=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ct&2)!==0){var u=o.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i,i=Rl(t),Qg(t,null,a),i}return kl(t,o,i,a),Rl(t)}function ho(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ig(t,a)}}function vf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Sf=!1;function go(){if(Sf){var t=as;if(t!==null)throw t}}function mo(t,i,a,o){Sf=!1;var u=t.updateQueue;zr=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var b=S,k=b.next;b.next=null,m===null?f=k:m.next=k,m=b;var M=t.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=k:S.next=k,M.lastBaseUpdate=b))}if(f!==null){var q=u.baseState;m=0,M=k=b=null,S=f;do{var R=S.lane&-536870913,B=R!==S.lane;if(B?(bt&R)===R:(o&R)===R){R!==0&&R===rs&&(Sf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var lt=t,at=S;R=i;var zt=a;switch(at.tag){case 1:if(lt=at.payload,typeof lt=="function"){q=lt.call(zt,q,R);break t}q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=at.payload,R=typeof lt=="function"?lt.call(zt,q,R):lt,R==null)break t;q=T({},q,R);break t;case 2:zr=!0}}R=S.callback,R!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[R]:B.push(R))}else B={lane:R,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(k=M=B,b=q):M=M.next=B,m|=R;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(b=q),u.baseState=b,u.firstBaseUpdate=k,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),Yr|=m,t.lanes=m,t.memoizedState=q}}function fm(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function hm(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fm(a[t],i)}var ss=J(null),Pl=J(0);function dm(t,i){t=hi,G(Pl,t),G(ss,i),hi=t|i.baseLanes}function Tf(){G(Pl,hi),G(ss,ss.current)}function bf(){hi=Pl.current,$(ss),$(Pl)}var Lr=0,gt=null,Bt=null,ee=null,Vl=!1,os=!1,Ea=!1,Hl=0,yo=0,ls=null,mT=0;function Ft(){throw Error(r(321))}function wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ve(t[a],i[a]))return!1;return!0}function Af(t,i,a,o,u,f){return Lr=f,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?Qm:Fm,Ea=!1,f=a(o,u),Ea=!1,os&&(f=mm(i,a,o,u)),gm(t),f}function gm(t){U.H=Xl;var i=Bt!==null&&Bt.next!==null;if(Lr=0,ee=Bt=gt=null,Vl=!1,yo=0,ls=null,i)throw Error(r(300));t===null||le||(t=t.dependencies,t!==null&&Ml(t)&&(le=!0))}function mm(t,i,a,o){gt=t;var u=0;do{if(os&&(ls=null),yo=0,os=!1,25<=u)throw Error(r(301));if(u+=1,ee=Bt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=wT,f=i(a,o)}while(os);return f}function yT(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?po(i):i,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(gt.flags|=1024),i}function Ef(){var t=Hl!==0;return Hl=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Vl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vl=!1}Lr=0,ee=Bt=gt=null,os=!1,yo=Hl=0,ls=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?gt.memoizedState=ee=t:ee=ee.next=t,ee}function ne(){if(Bt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var i=ee===null?gt.memoizedState:ee.next;if(i!==null)ee=i,Bt=t;else{if(t===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ee===null?gt.memoizedState=ee=t:ee=ee.next=t}return ee}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var i=yo;return yo+=1,ls===null&&(ls=[]),t=lm(ls,t,i),i=gt,(ee===null?i.memoizedState:ee.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Qm:Fm),t}function jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===F)return Te(t)}throw Error(r(438,String(t)))}function Of(t){var i=null,a=gt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Df(),gt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=ie;return i.index++,a}function si(t,i){return typeof i=="function"?i(t):i}function Yl(t){var i=ne();return Cf(i,Bt,t)}function Cf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}i.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{i=u.next;var S=m=null,b=null,k=i,M=!1;do{var q=k.lane&-536870913;if(q!==k.lane?(bt&q)===q:(Lr&q)===q){var R=k.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),q===rs&&(M=!0);else if((Lr&R)===R){k=k.next,R===rs&&(M=!0);continue}else q={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(S=b=q,m=f):b=b.next=q,gt.lanes|=R,Yr|=R;q=k.action,Ea&&a(f,q),f=k.hasEagerState?k.eagerState:a(f,q)}else R={lane:q,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(S=b=R,m=f):b=b.next=R,gt.lanes|=q,Yr|=q;k=k.next}while(k!==null&&k!==i);if(b===null?m=f:b.next=S,!Ve(f,t.memoizedState)&&(le=!0,M&&(a=as,a!==null)))throw a;t.memoizedState=f,t.baseState=m,t.baseQueue=b,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var i=ne(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=t(f,m.action),m=m.next;while(m!==u);Ve(f,i.memoizedState)||(le=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function ym(t,i,a){var o=gt,u=ne(),f=Dt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var m=!Ve((Bt||u).memoizedState,a);m&&(u.memoizedState=a,le=!0),u=u.queue;var S=Sm.bind(null,o,u,t);if(vo(2048,8,S,[t]),u.getSnapshot!==i||m||ee!==null&&ee.memoizedState.tag&1){if(o.flags|=2048,us(9,Gl(),vm.bind(null,o,u,a,i),null),Jt===null)throw Error(r(349));f||(Lr&124)!==0||pm(o,i,a)}return a}function pm(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=gt.updateQueue,i===null?(i=Df(),gt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function vm(t,i,a,o){i.value=a,i.getSnapshot=o,Tm(i)&&bm(t)}function Sm(t,i,a){return a(function(){Tm(i)&&bm(t)})}function Tm(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ve(t,a)}catch{return!0}}function bm(t){var i=ts(t,2);i!==null&&$e(i,t,2)}function Rf(t){var i=Ce();if(typeof t=="function"){var a=t;if(t=a(),Ea){kr(!0);try{a()}finally{kr(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},i}function wm(t,i,a,o){return t.baseState=a,Cf(t,Bt,typeof o=="function"?o:si)}function pT(t,i,a,o,u){if($l(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Am(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Am(t,i){var a=i.action,o=i.payload,u=t.state;if(i.isTransition){var f=U.T,m={};U.T=m;try{var S=a(u,o),b=U.S;b!==null&&b(m,S),Em(t,i,S)}catch(k){Bf(t,i,k)}finally{U.T=f}}else try{f=a(u,o),Em(t,i,f)}catch(k){Bf(t,i,k)}}function Em(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xm(t,i,o)},function(o){return Bf(t,i,o)}):xm(t,i,a)}function xm(t,i,a){i.status="fulfilled",i.value=a,Nm(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Am(t,a)))}function Bf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Nm(i),i=i.next;while(i!==o)}t.action=null}function Nm(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dm(t,i){return i}function Om(t,i){if(Dt){var a=Jt.formState;if(a!==null){t:{var o=gt;if(Dt){if(Kt){e:{for(var u=Kt,f=Bn;u.nodeType!==8;){if(!f){u=null;break e}if(u=En(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Kt=En(u.nextSibling),o=u.data==="F!";break t}}Ta(o)}o=!1}o&&(i=a[0])}}return a=Ce(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:i},a.queue=o,a=$m.bind(null,gt,o),o.dispatch=a,o=Rf(!1),f=Lf.bind(null,gt,!1,o.queue),o=Ce(),u={state:i,dispatch:null,action:t,pending:null},o.queue=u,a=pT.bind(null,gt,u,f,a),u.dispatch=a,o.memoizedState=t,[i,a,!1]}function Cm(t){var i=ne();return km(i,Bt,t)}function km(t,i,a){if(i=Cf(t,i,Dm)[0],t=Yl(si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=po(i)}catch(m){throw m===co?ql:m}else o=i;i=ne();var u=i.queue,f=u.dispatch;return a!==i.memoizedState&&(gt.flags|=2048,us(9,Gl(),vT.bind(null,u,a),null)),[o,f,t]}function vT(t,i){t.action=i}function Rm(t){var i=ne(),a=Bt;if(a!==null)return km(i,a,t);ne(),i=i.memoizedState,a=ne();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function us(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=gt.updateQueue,i===null&&(i=Df(),gt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Gl(){return{destroy:void 0,resource:void 0}}function Bm(){return ne().memoizedState}function Kl(t,i,a,o){var u=Ce();o=o===void 0?null:o,gt.flags|=t,u.memoizedState=us(1|i,Gl(),a,o)}function vo(t,i,a,o){var u=ne();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&wf(o,Bt.memoizedState.deps)?u.memoizedState=us(i,f,a,o):(gt.flags|=t,u.memoizedState=us(1|i,f,a,o))}function Im(t,i){Kl(8390656,8,t,i)}function zm(t,i){vo(2048,8,t,i)}function Mm(t,i){return vo(4,2,t,i)}function Um(t,i){return vo(4,4,t,i)}function Lm(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qm(t,i,a){a=a!=null?a.concat([t]):null,vo(4,4,Lm.bind(null,i,t),a)}function If(){}function Jm(t,i){var a=ne();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&wf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Pm(t,i){var a=ne();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&wf(i,o[1]))return o[0];if(o=t(),Ea){kr(!0);try{t()}finally{kr(!1)}}return a.memoizedState=[o,i],o}function zf(t,i,a){return a===void 0||(Lr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=jy(),gt.lanes|=t,Yr|=t,a)}function Vm(t,i,a,o){return Ve(a,i)?a:ss.current!==null?(t=zf(t,a,o),Ve(t,i)||(le=!0),t):(Lr&42)===0?(le=!0,t.memoizedState=a):(t=jy(),gt.lanes|=t,Yr|=t,i)}function Hm(t,i,a,o,u){var f=K.p;K.p=f!==0&&8>f?f:8;var m=U.T,S={};U.T=S,Lf(t,!1,i,a);try{var b=u(),k=U.S;if(k!==null&&k(S,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=gT(b,o);So(t,i,M,Ke(t))}else So(t,i,o,Ke(t))}catch(q){So(t,i,{then:function(){},status:"rejected",reason:q},Ke())}finally{K.p=f,U.T=m}}function ST(){}function Mf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var u=jm(t).queue;Hm(t,u,i,ot,a===null?ST:function(){return Ym(t),a(o)})}function jm(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ym(t){var i=jm(t).next.queue;So(t,i,{},Ke())}function Uf(){return Te(Lo)}function Gm(){return ne().memoizedState}function Km(){return ne().memoizedState}function TT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ke();t=Mr(a);var o=Ur(i,t,a);o!==null&&($e(o,i,a),ho(o,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function bT(t,i,a){var o=Ke();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$l(t)?Xm(i,a):(a=ef(t,i,a,o),a!==null&&($e(a,t,o),Zm(a,i,o)))}function $m(t,i,a){var o=Ke();So(t,i,a,o)}function So(t,i,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($l(t))Xm(i,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var m=i.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Ve(S,m))return kl(t,i,u,0),Jt===null&&Cl(),!1}catch{}finally{}if(a=ef(t,i,u,o),a!==null)return $e(a,t,o),Zm(a,i,o),!0}return!1}function Lf(t,i,a,o){if(o={lane:2,revertLane:mh(),action:o,hasEagerState:!1,eagerState:null,next:null},$l(t)){if(i)throw Error(r(479))}else i=ef(t,a,o,2),i!==null&&$e(i,t,2)}function $l(t){var i=t.alternate;return t===gt||i!==null&&i===gt}function Xm(t,i){os=Vl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zm(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ig(t,a)}}var Xl={readContext:Te,use:jl,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},Qm={readContext:Te,use:jl,useCallback:function(t,i){return Ce().memoizedState=[t,i===void 0?null:i],t},useContext:Te,useEffect:Im,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Kl(4194308,4,Lm.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Kl(4194308,4,t,i)},useInsertionEffect:function(t,i){Kl(4,2,t,i)},useMemo:function(t,i){var a=Ce();i=i===void 0?null:i;var o=t();if(Ea){kr(!0);try{t()}finally{kr(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=Ce();if(a!==void 0){var u=a(i);if(Ea){kr(!0);try{a(i)}finally{kr(!1)}}}else u=i;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=bT.bind(null,gt,t),[o.memoizedState,t]},useRef:function(t){var i=Ce();return t={current:t},i.memoizedState=t},useState:function(t){t=Rf(t);var i=t.queue,a=$m.bind(null,gt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:If,useDeferredValue:function(t,i){var a=Ce();return zf(a,t,i)},useTransition:function(){var t=Rf(!1);return t=Hm.bind(null,gt,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=gt,u=Ce();if(Dt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Jt===null)throw Error(r(349));(bt&124)!==0||pm(o,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,Im(Sm.bind(null,o,f,t),[t]),o.flags|=2048,us(9,Gl(),vm.bind(null,o,f,a,i),null),a},useId:function(){var t=Ce(),i=Jt.identifierPrefix;if(Dt){var a=ii,o=ni;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Hl++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=mT++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:Om,useActionState:Om,useOptimistic:function(t){var i=Ce();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lf.bind(null,gt,!0,a),a.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return Ce().memoizedState=TT.bind(null,gt)}},Fm={readContext:Te,use:jl,useCallback:Jm,useContext:Te,useEffect:zm,useImperativeHandle:qm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Pm,useReducer:Yl,useRef:Bm,useState:function(){return Yl(si)},useDebugValue:If,useDeferredValue:function(t,i){var a=ne();return Vm(a,Bt.memoizedState,t,i)},useTransition:function(){var t=Yl(si)[0],i=ne().memoizedState;return[typeof t=="boolean"?t:po(t),i]},useSyncExternalStore:ym,useId:Gm,useHostTransitionStatus:Uf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,i){var a=ne();return wm(a,Bt,t,i)},useMemoCache:Of,useCacheRefresh:Km},wT={readContext:Te,use:jl,useCallback:Jm,useContext:Te,useEffect:zm,useImperativeHandle:qm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Pm,useReducer:kf,useRef:Bm,useState:function(){return kf(si)},useDebugValue:If,useDeferredValue:function(t,i){var a=ne();return Bt===null?zf(a,t,i):Vm(a,Bt.memoizedState,t,i)},useTransition:function(){var t=kf(si)[0],i=ne().memoizedState;return[typeof t=="boolean"?t:po(t),i]},useSyncExternalStore:ym,useId:Gm,useHostTransitionStatus:Uf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,i){var a=ne();return Bt!==null?wm(a,Bt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Km},cs=null,To=0;function Zl(t){var i=To;return To+=1,cs===null&&(cs=[]),lm(cs,t,i)}function bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ql(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _m(t){var i=t._init;return i(t._payload)}function Wm(t){function i(E,A){if(t){var D=E.deletions;D===null?(E.deletions=[A],E.flags|=16):D.push(A)}}function a(E,A){if(!t)return null;for(;A!==null;)i(E,A),A=A.sibling;return null}function o(E){for(var A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function u(E,A){return E=ei(E,A),E.index=0,E.sibling=null,E}function f(E,A,D){return E.index=D,t?(D=E.alternate,D!==null?(D=D.index,D<A?(E.flags|=67108866,A):D):(E.flags|=67108866,A)):(E.flags|=1048576,A)}function m(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function S(E,A,D,L){return A===null||A.tag!==6?(A=rf(D,E.mode,L),A.return=E,A):(A=u(A,D),A.return=E,A)}function b(E,A,D,L){var X=D.type;return X===P?M(E,A,D.props.children,L,D.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&_m(X)===A.type)?(A=u(A,D.props),bo(A,D),A.return=E,A):(A=Bl(D.type,D.key,D.props,null,E.mode,L),bo(A,D),A.return=E,A)}function k(E,A,D,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=af(D,E.mode,L),A.return=E,A):(A=u(A,D.children||[]),A.return=E,A)}function M(E,A,D,L,X){return A===null||A.tag!==7?(A=ya(D,E.mode,L,X),A.return=E,A):(A=u(A,D),A.return=E,A)}function q(E,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=rf(""+A,E.mode,D),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return D=Bl(A.type,A.key,A.props,null,E.mode,D),bo(D,A),D.return=E,D;case O:return A=af(A,E.mode,D),A.return=E,A;case wt:var L=A._init;return A=L(A._payload),q(E,A,D)}if(ve(A)||se(A))return A=ya(A,E.mode,D,null),A.return=E,A;if(typeof A.then=="function")return q(E,Zl(A),D);if(A.$$typeof===F)return q(E,Ul(E,A),D);Ql(E,A)}return null}function R(E,A,D,L){var X=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return X!==null?null:S(E,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return D.key===X?b(E,A,D,L):null;case O:return D.key===X?k(E,A,D,L):null;case wt:return X=D._init,D=X(D._payload),R(E,A,D,L)}if(ve(D)||se(D))return X!==null?null:M(E,A,D,L,null);if(typeof D.then=="function")return R(E,A,Zl(D),L);if(D.$$typeof===F)return R(E,A,Ul(E,D),L);Ql(E,D)}return null}function B(E,A,D,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(D)||null,S(A,E,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return E=E.get(L.key===null?D:L.key)||null,b(A,E,L,X);case O:return E=E.get(L.key===null?D:L.key)||null,k(A,E,L,X);case wt:var mt=L._init;return L=mt(L._payload),B(E,A,D,L,X)}if(ve(L)||se(L))return E=E.get(D)||null,M(A,E,L,X,null);if(typeof L.then=="function")return B(E,A,D,Zl(L),X);if(L.$$typeof===F)return B(E,A,D,Ul(A,L),X);Ql(A,L)}return null}function lt(E,A,D,L){for(var X=null,mt=null,Q=A,st=A=0,ce=null;Q!==null&&st<D.length;st++){Q.index>st?(ce=Q,Q=null):ce=Q.sibling;var Nt=R(E,Q,D[st],L);if(Nt===null){Q===null&&(Q=ce);break}t&&Q&&Nt.alternate===null&&i(E,Q),A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt,Q=ce}if(st===D.length)return a(E,Q),Dt&&va(E,st),X;if(Q===null){for(;st<D.length;st++)Q=q(E,D[st],L),Q!==null&&(A=f(Q,A,st),mt===null?X=Q:mt.sibling=Q,mt=Q);return Dt&&va(E,st),X}for(Q=o(Q);st<D.length;st++)ce=B(Q,E,st,D[st],L),ce!==null&&(t&&ce.alternate!==null&&Q.delete(ce.key===null?st:ce.key),A=f(ce,A,st),mt===null?X=ce:mt.sibling=ce,mt=ce);return t&&Q.forEach(function(Wr){return i(E,Wr)}),Dt&&va(E,st),X}function at(E,A,D,L){if(D==null)throw Error(r(151));for(var X=null,mt=null,Q=A,st=A=0,ce=null,Nt=D.next();Q!==null&&!Nt.done;st++,Nt=D.next()){Q.index>st?(ce=Q,Q=null):ce=Q.sibling;var Wr=R(E,Q,Nt.value,L);if(Wr===null){Q===null&&(Q=ce);break}t&&Q&&Wr.alternate===null&&i(E,Q),A=f(Wr,A,st),mt===null?X=Wr:mt.sibling=Wr,mt=Wr,Q=ce}if(Nt.done)return a(E,Q),Dt&&va(E,st),X;if(Q===null){for(;!Nt.done;st++,Nt=D.next())Nt=q(E,Nt.value,L),Nt!==null&&(A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt);return Dt&&va(E,st),X}for(Q=o(Q);!Nt.done;st++,Nt=D.next())Nt=B(Q,E,st,Nt.value,L),Nt!==null&&(t&&Nt.alternate!==null&&Q.delete(Nt.key===null?st:Nt.key),A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt);return t&&Q.forEach(function(Ab){return i(E,Ab)}),Dt&&va(E,st),X}function zt(E,A,D,L){if(typeof D=="object"&&D!==null&&D.type===P&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case I:t:{for(var X=D.key;A!==null;){if(A.key===X){if(X=D.type,X===P){if(A.tag===7){a(E,A.sibling),L=u(A,D.props.children),L.return=E,E=L;break t}}else if(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&_m(X)===A.type){a(E,A.sibling),L=u(A,D.props),bo(L,D),L.return=E,E=L;break t}a(E,A);break}else i(E,A);A=A.sibling}D.type===P?(L=ya(D.props.children,E.mode,L,D.key),L.return=E,E=L):(L=Bl(D.type,D.key,D.props,null,E.mode,L),bo(L,D),L.return=E,E=L)}return m(E);case O:t:{for(X=D.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(E,A.sibling),L=u(A,D.children||[]),L.return=E,E=L;break t}else{a(E,A);break}else i(E,A);A=A.sibling}L=af(D,E.mode,L),L.return=E,E=L}return m(E);case wt:return X=D._init,D=X(D._payload),zt(E,A,D,L)}if(ve(D))return lt(E,A,D,L);if(se(D)){if(X=se(D),typeof X!="function")throw Error(r(150));return D=X.call(D),at(E,A,D,L)}if(typeof D.then=="function")return zt(E,A,Zl(D),L);if(D.$$typeof===F)return zt(E,A,Ul(E,D),L);Ql(E,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(E,A.sibling),L=u(A,D),L.return=E,E=L):(a(E,A),L=rf(D,E.mode,L),L.return=E,E=L),m(E)):a(E,A)}return function(E,A,D,L){try{To=0;var X=zt(E,A,D,L);return cs=null,X}catch(Q){if(Q===co||Q===ql)throw Q;var mt=He(29,Q,null,E.mode);return mt.lanes=L,mt.return=E,mt}finally{}}}var fs=Wm(!0),ty=Wm(!1),an=J(null),In=null;function qr(t){var i=t.alternate;G(ae,ae.current&1),G(an,t),In===null&&(i===null||ss.current!==null||i.memoizedState!==null)&&(In=t)}function ey(t){if(t.tag===22){if(G(ae,ae.current),G(an,t),In===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(In=t)}}else Jr()}function Jr(){G(ae,ae.current),G(an,an.current)}function oi(t){$(an),In===t&&(In=null),$(ae)}var ae=J(0);function Fl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dh(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Ke(),u=Mr(o);u.payload=i,a!=null&&(u.callback=a),i=Ur(t,u,o),i!==null&&($e(i,t,o),ho(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Ke(),u=Mr(o);u.tag=1,u.payload=i,a!=null&&(u.callback=a),i=Ur(t,u,o),i!==null&&($e(i,t,o),ho(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ke(),o=Mr(a);o.tag=2,i!=null&&(o.callback=i),i=Ur(t,o,a),i!==null&&($e(i,t,a),ho(i,t,a))}};function ny(t,i,a,o,u,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,m):i.prototype&&i.prototype.isPureReactComponent?!no(a,o)||!no(u,f):!0}function iy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function xa(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var _l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ry(t){_l(t)}function ay(t){console.error(t)}function sy(t){_l(t)}function Wl(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function oy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Pf(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wl(t,i)},a}function ly(t){return t=Mr(t),t.tag=3,t}function uy(t,i,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){oy(i,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){oy(i,a,o),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function AT(t,i,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&oo(i,a,u,!0),a=an.current,a!==null){switch(a.tag){case 13:return In===null?ch():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),hh(t,o,u)),!1;case 22:return a.flags|=65536,o===mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),hh(t,o,u)),!1}throw Error(r(435,a.tag))}return hh(t,o,u),ch(),!1}if(Dt)return i=an.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,o!==lf&&(t=Error(r(422),{cause:o}),so(tn(t,a)))):(o!==lf&&(i=Error(r(423),{cause:o}),so(tn(i,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=tn(o,a),u=Pf(t.stateNode,o,u),vf(t,u),$t!==4&&($t=2)),!1;var f=Error(r(520),{cause:o});if(f=tn(f,a),Oo===null?Oo=[f]:Oo.push(f),$t!==4&&($t=2),i===null)return!0;o=tn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Pf(a.stateNode,o,t),vf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gr===null||!Gr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ly(u),uy(u,t,a,o),vf(a,u),!1}a=a.return}while(a!==null);return!1}var cy=Error(r(461)),le=!1;function fe(t,i,a,o){i.child=t===null?ty(i,null,a,o):fs(i,t.child,a,o)}function fy(t,i,a,o,u){a=a.render;var f=i.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return wa(i),o=Af(t,i,a,m,f,u),S=Ef(),t!==null&&!le?(xf(t,i,u),li(t,i,u)):(Dt&&S&&sf(i),i.flags|=1,fe(t,i,o,u),i.child)}function hy(t,i,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,dy(t,i,f,o,u)):(t=Bl(a.type,null,o,i,i.mode,u),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Xf(t,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(m,o)&&t.ref===i.ref)return li(t,i,u)}return i.flags|=1,t=ei(f,o),t.ref=i.ref,t.return=i,i.child=t}function dy(t,i,a,o,u){if(t!==null){var f=t.memoizedProps;if(no(f,o)&&t.ref===i.ref)if(le=!1,i.pendingProps=o=f,Xf(t,u))(t.flags&131072)!==0&&(le=!0);else return i.lanes=t.lanes,li(t,i,u)}return Vf(t,i,a,o,u)}function gy(t,i,a){var o=i.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=i.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return my(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ll(i,f!==null?f.cachePool:null),f!==null?dm(i,f):Tf(),ey(i);else return i.lanes=i.childLanes=536870912,my(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ll(i,f.cachePool),dm(i,f),Jr(),i.memoizedState=null):(t!==null&&Ll(i,null),Tf(),Jr());return fe(t,i,u,a),i.child}function my(t,i,a,o){var u=gf();return u=u===null?null:{parent:re._currentValue,pool:u},i.memoizedState={baseLanes:a,cachePool:u},t!==null&&Ll(i,null),Tf(),ey(i),t!==null&&oo(t,i,o,!0),null}function tu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Vf(t,i,a,o,u){return wa(i),a=Af(t,i,a,o,void 0,u),o=Ef(),t!==null&&!le?(xf(t,i,u),li(t,i,u)):(Dt&&o&&sf(i),i.flags|=1,fe(t,i,a,u),i.child)}function yy(t,i,a,o,u,f){return wa(i),i.updateQueue=null,a=mm(i,o,a,u),gm(t),o=Ef(),t!==null&&!le?(xf(t,i,f),li(t,i,f)):(Dt&&o&&sf(i),i.flags|=1,fe(t,i,a,f),i.child)}function py(t,i,a,o,u){if(wa(i),i.stateNode===null){var f=es,m=a.contextType;typeof m=="object"&&m!==null&&(f=Te(m)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},yf(i),m=a.contextType,f.context=typeof m=="object"&&m!==null?Te(m):es,f.state=i.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(qf(i,a,m,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Jf.enqueueReplaceState(f,f.state,null),mo(i,o,f,u),go(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,b=xa(a,S);f.props=b;var k=f.context,M=a.contextType;m=es,typeof M=="object"&&M!==null&&(m=Te(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||k!==m)&&iy(i,f,o,m),zr=!1;var R=i.memoizedState;f.state=R,mo(i,o,f,u),go(),k=i.memoizedState,S||R!==k||zr?(typeof q=="function"&&(qf(i,a,q,o),k=i.memoizedState),(b=zr||ny(i,a,b,o,R,k,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=k),f.props=o,f.state=k,f.context=m,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,pf(t,i),m=i.memoizedProps,M=xa(a,m),f.props=M,q=i.pendingProps,R=f.context,k=a.contextType,b=es,typeof k=="object"&&k!==null&&(b=Te(k)),S=a.getDerivedStateFromProps,(k=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==q||R!==b)&&iy(i,f,o,b),zr=!1,R=i.memoizedState,f.state=R,mo(i,o,f,u),go();var B=i.memoizedState;m!==q||R!==B||zr||t!==null&&t.dependencies!==null&&Ml(t.dependencies)?(typeof S=="function"&&(qf(i,a,S,o),B=i.memoizedState),(M=zr||ny(i,a,M,o,R,B,b)||t!==null&&t.dependencies!==null&&Ml(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=M):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,tu(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=fs(i,t.child,null,u),i.child=fs(i,null,a,u)):fe(t,i,a,u),i.memoizedState=f.state,t=i.child):t=li(t,i,u),t}function vy(t,i,a,o){return ao(),i.flags|=256,fe(t,i,a,o),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:am()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=sn),t}function Sy(t,i,a){var o=i.pendingProps,u=!1,f=(i.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(ae.current&2)!==0),m&&(u=!0,i.flags&=-129),m=(i.flags&32)!==0,i.flags&=-33,t===null){if(Dt){if(u?qr(i):Jr(),Dt){var S=Kt,b;if(b=S){t:{for(b=S,S=Bn;b.nodeType!==8;){if(!S){S=null;break t}if(b=En(b.nextSibling),b===null){S=null;break t}}S=b}S!==null?(i.memoizedState={dehydrated:S,treeContext:pa!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},b=He(18,null,null,0),b.stateNode=S,b.return=i,i.child=b,Ee=i,Kt=null,b=!0):b=!1}b||Ta(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Dh(S)?i.lanes=32:i.lanes=536870912,null;oi(i)}return S=o.children,o=o.fallback,u?(Jr(),u=i.mode,S=eu({mode:"hidden",children:S},u),o=ya(o,u,a,null),S.return=i,o.return=i,S.sibling=o,i.child=S,u=i.child,u.memoizedState=jf(a),u.childLanes=Yf(t,m,a),i.memoizedState=Hf,o):(qr(i),Gf(i,S))}if(b=t.memoizedState,b!==null&&(S=b.dehydrated,S!==null)){if(f)i.flags&256?(qr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(Jr(),i.child=t.child,i.flags|=128,i=null):(Jr(),u=o.fallback,S=i.mode,o=eu({mode:"visible",children:o.children},S),u=ya(u,S,a,null),u.flags|=2,o.return=i,u.return=i,o.sibling=u,i.child=o,fs(i,t.child,null,a),o=i.child,o.memoizedState=jf(a),o.childLanes=Yf(t,m,a),i.memoizedState=Hf,i=u);else if(qr(i),Dh(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var k=m.dgst;m=k,o=Error(r(419)),o.stack="",o.digest=m,so({value:o,source:null,stack:null}),i=Kf(t,i,a)}else if(le||oo(t,i,a,!1),m=(a&t.childLanes)!==0,le||m){if(m=Jt,m!==null&&(o=a&-a,o=(o&42)!==0?1:Dc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ts(t,o),$e(m,t,o),cy;S.data==="$?"||ch(),i=Kf(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,Kt=En(S.nextSibling),Ee=i,Dt=!0,Sa=null,Bn=!1,t!==null&&(nn[rn++]=ni,nn[rn++]=ii,nn[rn++]=pa,ni=t.id,ii=t.overflow,pa=i),i=Gf(i,o.children),i.flags|=4096);return i}return u?(Jr(),u=o.fallback,S=i.mode,b=t.child,k=b.sibling,o=ei(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,k!==null?u=ei(k,u):(u=ya(u,S,a,null),u.flags|=2),u.return=i,o.return=i,o.sibling=u,i.child=o,o=u,u=i.child,S=t.child.memoizedState,S===null?S=jf(a):(b=S.cachePool,b!==null?(k=re._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=am(),S={baseLanes:S.baseLanes|a,cachePool:b}),u.memoizedState=S,u.childLanes=Yf(t,m,a),i.memoizedState=Hf,o):(qr(i),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(m=i.deletions,m===null?(i.deletions=[t],i.flags|=16):m.push(t)),i.child=a,i.memoizedState=null,a)}function Gf(t,i){return i=eu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function eu(t,i){return t=He(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kf(t,i,a){return fs(i,t.child,null,a),t=Gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),cf(t.return,i,a)}function $f(t,i,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function by(t,i,a){var o=i.pendingProps,u=o.revealOrder,f=o.tail;if(fe(t,i,o.children,a),o=ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(ae,o),u){case"forwards":for(a=i.child,u=null;a!==null;)t=a.alternate,t!==null&&Fl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),$f(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(t=u.alternate,t!==null&&Fl(t)===null){i.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}$f(i,!0,a,null,f);break;case"together":$f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Yr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(oo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ei(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ml(t)))}function ET(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Ir(i,re,t.memoizedState.cache),ao();break;case 27:case 5:wc(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sy(t,i,a):(qr(i),t=li(t,i,a),t!==null?t.sibling:null);qr(i);break;case 19:var u=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(oo(t,i,a,!1),o=(a&i.childLanes)!==0),u){if(o)return by(t,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(ae,ae.current),o)break;return null;case 22:case 23:return i.lanes=0,gy(t,i,a);case 24:Ir(i,re,t.memoizedState.cache)}return li(t,i,a)}function wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)le=!0;else{if(!Xf(t,a)&&(i.flags&128)===0)return le=!1,ET(t,i,a);le=(t.flags&131072)!==0}else le=!1,Dt&&(i.flags&1048576)!==0&&_g(i,zl,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var o=i.elementType,u=o._init;if(o=u(o._payload),i.type=o,typeof o=="function")nf(o)?(t=xa(o,t),i.tag=1,i=py(null,i,o,t,a)):(i.tag=0,i=Vf(null,i,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===ct){i.tag=11,i=fy(null,i,o,t,a);break t}else if(u===yt){i.tag=14,i=hy(null,i,o,t,a);break t}}throw i=ca(o)||o,Error(r(306,i,""))}}return i;case 0:return Vf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,u=xa(o,i.pendingProps),py(t,i,o,u,a);case 3:t:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;u=f.element,pf(t,i),mo(i,o,null,a);var m=i.memoizedState;if(o=m.cache,Ir(i,re,o),o!==f.cache&&ff(i,[re],a,!0),go(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=vy(t,i,o,a);break t}else if(o!==u){u=tn(Error(r(424)),i),so(u),i=vy(t,i,o,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Kt=En(t.firstChild),Ee=i,Dt=!0,Sa=null,Bn=!0,a=ty(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ao(),o===u){i=li(t,i,a);break t}fe(t,i,o,a)}i=i.child}return i;case 26:return tu(t,i),t===null?(a=Np(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,t=i.pendingProps,o=mu(ft.current).createElement(a),o[Se]=i,o[De]=t,de(o,a,t),oe(o),i.stateNode=o):i.memoizedState=Np(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return wc(i),t===null&&Dt&&(o=i.stateNode=Ap(i.type,i.pendingProps,ft.current),Ee=i,Bn=!0,u=Kt,Xr(i.type)?(Oh=u,Kt=En(o.firstChild)):Kt=u),fe(t,i,i.pendingProps.children,a),tu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Dt&&((u=o=Kt)&&(o=_T(o,i.type,i.pendingProps,Bn),o!==null?(i.stateNode=o,Ee=i,Kt=En(o.firstChild),Bn=!1,u=!0):u=!1),u||Ta(i)),wc(i),u=i.type,f=i.pendingProps,m=t!==null?t.memoizedProps:null,o=f.children,Eh(u,f)?o=null:m!==null&&Eh(u,m)&&(i.flags|=32),i.memoizedState!==null&&(u=Af(t,i,yT,null,null,a),Lo._currentValue=u),tu(t,i),fe(t,i,o,a),i.child;case 6:return t===null&&Dt&&((t=a=Kt)&&(a=WT(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ee=i,Kt=null,t=!0):t=!1),t||Ta(i)),null;case 13:return Sy(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=fs(i,null,o,a):fe(t,i,o,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return fe(t,i,i.pendingProps,a),i.child;case 8:return fe(t,i,i.pendingProps.children,a),i.child;case 12:return fe(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ir(i,i.type,o.value),fe(t,i,o.children,a),i.child;case 9:return u=i.type._context,o=i.pendingProps.children,wa(i),u=Te(u),o=o(u),i.flags|=1,fe(t,i,o,a),i.child;case 14:return hy(t,i,i.type,i.pendingProps,a);case 15:return dy(t,i,i.type,i.pendingProps,a);case 19:return by(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=eu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ei(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return gy(t,i,a);case 24:return wa(i),o=Te(re),t===null?(u=gf(),u===null&&(u=Jt,f=hf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),i.memoizedState={parent:o,cache:u},yf(i),Ir(i,re,u)):((t.lanes&a)!==0&&(pf(t,i),mo(i,null,null,a),go()),u=t.memoizedState,f=i.memoizedState,u.parent!==o?(u={parent:o,cache:o},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Ir(i,re,o)):(o=f.cache,Ir(i,re,o),o!==u.cache&&ff(i,[re],a,!0))),fe(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ui(t){t.flags|=4}function Ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rp(i)){if(i=an.current,i!==null&&((bt&4194048)===bt?In!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==In))throw fo=mf,sm;t.flags|=8192}}function nu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?eg():536870912,t.lanes|=i,ms|=i)}function wo(t,i){if(!Dt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function xT(t,i,a){var o=i.pendingProps;switch(of(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ai(re),Cr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(i)?ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,em())),jt(i),null;case 26:return a=i.memoizedState,t===null?(ui(i),a!==null?(jt(i),Ay(i,a)):(jt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ui(i),jt(i),Ay(i,a)):(jt(i),i.flags&=-16777217):(t.memoizedProps!==o&&ui(i),jt(i),i.flags&=-16777217),null;case 27:dl(i),a=ft.current;var u=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return jt(i),null}t=rt.current,ro(i)?Wg(i):(t=Ap(u,o,a),i.stateNode=t,ui(i))}return jt(i),null;case 5:if(dl(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return jt(i),null}if(t=rt.current,ro(i))Wg(i);else{switch(u=mu(ft.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[Se]=i,t[De]=o;t:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break t;for(;u.sibling===null;){if(u.return===null||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=t;t:switch(de(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ui(i)}}return jt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ft.current,ro(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,u=Ee,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[Se]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||yp(t.nodeValue,a)),t||Ta(i)}else t=mu(t).createTextNode(o),t[Se]=i,i.stateNode=t}return jt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=ro(i),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Se]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),u=!1}else u=em(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(oi(i),i):(oi(i),null)}if(oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),nu(i,i.updateQueue),jt(i),null;case 4:return Cr(),t===null&&Sh(i.stateNode.containerInfo),jt(i),null;case 10:return ai(i.type),jt(i),null;case 19:if($(ae),u=i.memoizedState,u===null)return jt(i),null;if(o=(i.flags&128)!==0,f=u.rendering,f===null)if(o)wo(u,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Fl(t),f!==null){for(i.flags|=128,wo(u,!1),t=f.updateQueue,i.updateQueue=t,nu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fg(a,t),a=a.sibling;return G(ae,ae.current&1|2),i.child}t=t.sibling}u.tail!==null&&Rn()>au&&(i.flags|=128,o=!0,wo(u,!1),i.lanes=4194304)}else{if(!o)if(t=Fl(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,nu(i,t),wo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Dt)return jt(i),null}else 2*Rn()-u.renderingStartTime>au&&a!==536870912&&(i.flags|=128,o=!0,wo(u,!1),i.lanes=4194304);u.isBackwards?(f.sibling=i.child,i.child=f):(t=u.last,t!==null?t.sibling=f:i.child=f,u.last=f)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Rn(),i.sibling=null,t=ae.current,G(ae,o?t&1|2:t&1),i):(jt(i),null);case 22:case 23:return oi(i),bf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),a=i.updateQueue,a!==null&&nu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&$(Aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(re),jt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function NT(t,i){switch(of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(re),Cr(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return dl(i),null;case 13:if(oi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(ae),null;case 4:return Cr(),null;case 10:return ai(i.type),null;case 22:case 23:return oi(i),bf(),t!==null&&$(Aa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(re),null;case 25:return null;default:return null}}function Ey(t,i){switch(of(i),i.tag){case 3:ai(re),Cr();break;case 26:case 27:case 5:dl(i);break;case 4:Cr();break;case 13:oi(i);break;case 19:$(ae);break;case 10:ai(i.type);break;case 22:case 23:oi(i),bf(),t!==null&&$(Aa);break;case 24:ai(re)}}function Ao(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Ut(i,i.return,S)}}function Pr(t,i,a){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=i;var b=a,k=S;try{k()}catch(M){Ut(u,b,M)}}}o=o.next}while(o!==f)}}catch(M){Ut(i,i.return,M)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hm(i,a)}catch(o){Ut(t,t.return,o)}}}function Ny(t,i,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ut(t,i,o)}}function Eo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){Ut(t,i,u)}}function zn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Ut(t,i,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ut(t,i,u)}else a.current=null}function Dy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Ut(t,t.return,u)}}function Zf(t,i,a){try{var o=t.stateNode;$T(o,t.type,a,i),o[De]=i}catch(u){Ut(t,t.return,u)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Qf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gu));else if(o!==4&&(o===27&&Xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ff(t,i,a),t=t.sibling;t!==null;)Ff(t,i,a),t=t.sibling}function iu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(iu(t,i,a),t=t.sibling;t!==null;)iu(t,i,a),t=t.sibling}function Cy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);de(i,o,a),i[Se]=t,i[De]=a}catch(f){Ut(t,t.return,f)}}var ci=!1,_t=!1,_f=!1,ky=typeof WeakSet=="function"?WeakSet:Set,ue=null;function DT(t,i){if(t=t.containerInfo,wh=bu,t=Vg(t),Zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,b=-1,k=0,M=0,q=t,R=null;e:for(;;){for(var B;q!==a||u!==0&&q.nodeType!==3||(S=m+u),q!==f||o!==0&&q.nodeType!==3||(b=m+o),q.nodeType===3&&(m+=q.nodeValue.length),(B=q.firstChild)!==null;)R=q,q=B;for(;;){if(q===t)break e;if(R===a&&++k===u&&(S=m),R===f&&++M===o&&(b=m),(B=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=B}a=S===-1||b===-1?null:{start:S,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ah={focusedElem:t,selectionRange:a},bu=!1,ue=i;ue!==null;)if(i=ue,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ue=t;else for(;ue!==null;){switch(i=ue,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=xa(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(at){Ut(a,a.return,at)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,ue=t;break}ue=i.return}}function Ry(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(t,a),o&4&&Ao(5,a);break;case 1:if(Vr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(m){Ut(a,a.return,m)}else{var u=xa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(u,i,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Ut(a,a.return,m)}}o&64&&xy(a),o&512&&Eo(a,a.return);break;case 3:if(Vr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hm(t,i)}catch(m){Ut(a,a.return,m)}}break;case 27:i===null&&o&4&&Cy(a);case 26:case 5:Vr(t,a),i===null&&o&4&&Dy(a),o&512&&Eo(a,a.return);break;case 12:Vr(t,a);break;case 13:Vr(t,a),o&4&&zy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=UT.bind(null,a),tb(t,a))));break;case 22:if(o=a.memoizedState!==null||ci,!o){i=i!==null&&i.memoizedState!==null||_t,u=ci;var f=_t;ci=o,(_t=i)&&!f?Hr(t,a,(a.subtreeFlags&8772)!==0):Vr(t,a),ci=u,_t=f}break;case 30:break;default:Vr(t,a)}}function By(t){var i=t.alternate;i!==null&&(t.alternate=null,By(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&kc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,ke=!1;function fi(t,i,a){for(a=a.child;a!==null;)Iy(t,i,a),a=a.sibling}function Iy(t,i,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ys,a)}catch{}switch(a.tag){case 26:_t||zn(a,i),fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||zn(a,i);var o=Ht,u=ke;Xr(a.type)&&(Ht=a.stateNode,ke=!1),fi(t,i,a),Io(a.stateNode),Ht=o,ke=u;break;case 5:_t||zn(a,i);case 6:if(o=Ht,u=ke,Ht=null,fi(t,i,a),Ht=o,ke=u,Ht!==null)if(ke)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(a.stateNode)}catch(f){Ut(a,i,f)}else try{Ht.removeChild(a.stateNode)}catch(f){Ut(a,i,f)}break;case 18:Ht!==null&&(ke?(t=Ht,bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vo(t)):bp(Ht,a.stateNode));break;case 4:o=Ht,u=ke,Ht=a.stateNode.containerInfo,ke=!0,fi(t,i,a),Ht=o,ke=u;break;case 0:case 11:case 14:case 15:_t||Pr(2,a,i),_t||Pr(4,a,i),fi(t,i,a);break;case 1:_t||(zn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ny(a,i,o)),fi(t,i,a);break;case 21:fi(t,i,a);break;case 22:_t=(o=_t)||a.memoizedState!==null,fi(t,i,a),_t=o;break;default:fi(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(a){Ut(i,i.return,a)}}function OT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(r(435,t.tag))}}function Wf(t,i){var a=OT(t);i.forEach(function(o){var u=LT.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function je(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,m=i,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(Xr(S.type)){Ht=S.stateNode,ke=!1;break t}break;case 5:Ht=S.stateNode,ke=!1;break t;case 3:case 4:Ht=S.stateNode.containerInfo,ke=!0;break t}S=S.return}if(Ht===null)throw Error(r(160));Iy(f,m,u),Ht=null,ke=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)My(i,t),i=i.sibling}var An=null;function My(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:je(i,t),Ye(t),o&4&&(Pr(3,t,t.return),Ao(3,t),Pr(5,t,t.return));break;case 1:je(i,t),Ye(t),o&512&&(_t||a===null||zn(a,a.return)),o&64&&ci&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=An;if(je(i,t),Ye(t),o&512&&(_t||a===null||zn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[$s]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),de(f,o,a),f[Se]=t,oe(f),o=f;break t;case"link":var m=Cp("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;case"meta":if(m=Cp("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;default:throw Error(r(468,o))}f[Se]=t,oe(f),o=f}t.stateNode=o}else kp(u,t.type,t.stateNode);else t.stateNode=Op(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?kp(u,t.type,t.stateNode):Op(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:je(i,t),Ye(t),o&512&&(_t||a===null||zn(a,a.return)),a!==null&&o&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(je(i,t),Ye(t),o&512&&(_t||a===null||zn(a,a.return)),t.flags&32){u=t.stateNode;try{$a(u,"")}catch(B){Ut(t,t.return,B)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Zf(t,u,a!==null?a.memoizedProps:u)),o&1024&&(_f=!0);break;case 6:if(je(i,t),Ye(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){Ut(t,t.return,B)}}break;case 3:if(vu=null,u=An,An=yu(i.containerInfo),je(i,t),An=u,Ye(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Vo(i.containerInfo)}catch(B){Ut(t,t.return,B)}_f&&(_f=!1,Uy(t));break;case 4:o=An,An=yu(t.stateNode.containerInfo),je(i,t),Ye(t),An=o;break;case 12:je(i,t),Ye(t);break;case 13:je(i,t),Ye(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=Rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wf(t,o)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,k=ci,M=_t;if(ci=k||u,_t=M||b,je(i,t),_t=M,ci=k,Ye(t),o&8192)t:for(i=t.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(a===null||b||ci||_t||Na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=b.stateNode;var q=b.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(B){Ut(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(B){Ut(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Wf(t,a))));break;case 19:je(i,t),Ye(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wf(t,o)));break;case 30:break;case 21:break;default:je(i,t),Ye(t)}}function Ye(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,f=Qf(t);iu(t,f,u);break;case 5:var m=a.stateNode;a.flags&32&&($a(m,""),a.flags&=-33);var S=Qf(t);iu(t,S,m);break;case 3:case 4:var b=a.stateNode.containerInfo,k=Qf(t);Ff(t,k,b);break;default:throw Error(r(161))}}catch(M){Ut(t,t.return,M)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ry(t,i.alternate,i),i=i.sibling}function Na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Na(i);break;case 1:zn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ny(i,i.return,a),Na(i);break;case 27:Io(i.stateNode);case 26:case 5:zn(i,i.return),Na(i);break;case 22:i.memoizedState===null&&Na(i);break;case 30:Na(i);break;default:Na(i)}t=t.sibling}}function Hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,u=t,f=i,m=f.flags;switch(f.tag){case 0:case 11:case 15:Hr(u,f,a),Ao(4,f);break;case 1:if(Hr(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Ut(o,o.return,k)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)fm(b[u],S)}catch(k){Ut(o,o.return,k)}}a&&m&64&&xy(f),Eo(f,f.return);break;case 27:Cy(f);case 26:case 5:Hr(u,f,a),a&&o===null&&m&4&&Dy(f),Eo(f,f.return);break;case 12:Hr(u,f,a);break;case 13:Hr(u,f,a),a&&m&4&&zy(u,f);break;case 22:f.memoizedState===null&&Hr(u,f,a),Eo(f,f.return);break;case 30:break;default:Hr(u,f,a)}i=i.sibling}}function th(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lo(a))}function eh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t))}function Mn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ly(t,i,a,o),i=i.sibling}function Ly(t,i,a,o){var u=i.flags;switch(i.tag){case 0:case 11:case 15:Mn(t,i,a,o),u&2048&&Ao(9,i);break;case 1:Mn(t,i,a,o);break;case 3:Mn(t,i,a,o),u&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t)));break;case 12:if(u&2048){Mn(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ut(i,i.return,b)}}else Mn(t,i,a,o);break;case 13:Mn(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,m=i.alternate,i.memoizedState!==null?f._visibility&2?Mn(t,i,a,o):xo(t,i):f._visibility&2?Mn(t,i,a,o):(f._visibility|=2,hs(t,i,a,o,(i.subtreeFlags&10256)!==0)),u&2048&&th(m,i);break;case 24:Mn(t,i,a,o),u&2048&&eh(i.alternate,i);break;default:Mn(t,i,a,o)}}function hs(t,i,a,o,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,m=i,S=a,b=o,k=m.flags;switch(m.tag){case 0:case 11:case 15:hs(f,m,S,b,u),Ao(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?hs(f,m,S,b,u):xo(f,m):(M._visibility|=2,hs(f,m,S,b,u)),u&&k&2048&&th(m.alternate,m);break;case 24:hs(f,m,S,b,u),u&&k&2048&&eh(m.alternate,m);break;default:hs(f,m,S,b,u)}i=i.sibling}}function xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,u=o.flags;switch(o.tag){case 22:xo(a,o),u&2048&&th(o.alternate,o);break;case 24:xo(a,o),u&2048&&eh(o.alternate,o);break;default:xo(a,o)}i=i.sibling}}var No=8192;function ds(t){if(t.subtreeFlags&No)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 26:ds(t),t.flags&No&&t.memoizedState!==null&&db(An,t.memoizedState,t.memoizedProps);break;case 5:ds(t);break;case 3:case 4:var i=An;An=yu(t.stateNode.containerInfo),ds(t),An=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=No,No=16777216,ds(t),No=i):ds(t));break;default:ds(t)}}function Jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Do(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ue=o,Vy(o,t)}Jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:Do(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Do(t);break;case 12:Do(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ru(t)):Do(t);break;default:Do(t)}}function ru(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ue=o,Vy(o,t)}Jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),ru(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ru(i));break;default:ru(i)}t=t.sibling}}function Vy(t,i){for(;ue!==null;){var a=ue;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ue=o;else t:for(a=t;ue!==null;){o=ue;var u=o.sibling,f=o.return;if(By(o),o===a){ue=null;break t}if(u!==null){u.return=f,ue=u;break t}ue=f}}}var CT={getCacheForType:function(t){var i=Te(re),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},kT=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Jt=null,pt=null,bt=0,kt=0,Ge=null,jr=!1,gs=!1,nh=!1,hi=0,$t=0,Yr=0,Da=0,ih=0,sn=0,ms=0,Oo=null,Re=null,rh=!1,ah=0,au=1/0,su=null,Gr=null,he=0,Kr=null,ys=null,ps=0,sh=0,oh=null,Hy=null,Co=0,lh=null;function Ke(){if((Ct&2)!==0&&bt!==0)return bt&-bt;if(U.T!==null){var t=rs;return t!==0?t:mh()}return rg()}function jy(){sn===0&&(sn=(bt&536870912)===0||Dt?tg():536870912);var t=an.current;return t!==null&&(t.flags|=32),sn}function $e(t,i,a){(t===Jt&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(vs(t,0),$r(t,bt,sn,!1)),Ks(t,a),((Ct&2)===0||t!==Jt)&&(t===Jt&&((Ct&2)===0&&(Da|=a),$t===4&&$r(t,bt,sn,!1)),Un(t))}function Yy(t,i,a){if((Ct&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Gs(t,i),u=o?IT(t,i):fh(t,i,!0),f=o;do{if(u===0){gs&&!o&&$r(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!RT(a)){u=fh(t,i,!1),f=!1;continue}if(u===2){if(f=i,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){i=m;t:{var S=t;u=Oo;var b=S.current.memoizedState.isDehydrated;if(b&&(vs(S,m).flags|=256),m=fh(S,m,!1),m!==2){if(nh&&!b){S.errorRecoveryDisabledLanes|=f,Da|=f,u=4;break t}f=Re,Re=u,f!==null&&(Re===null?Re=f:Re.push.apply(Re,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){vs(t,0),$r(t,i,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:$r(o,i,sn,!jr);break t;case 2:Re=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(u=ah+300-Rn(),10<u)){if($r(o,i,sn,!jr),pl(o,0,!0)!==0)break t;o.timeoutHandle=Sp(Gy.bind(null,o,a,Re,su,rh,i,sn,Da,ms,jr,f,2,-0,0),u);break t}Gy(o,a,Re,su,rh,i,sn,Da,ms,jr,f,0,-0,0)}}break}while(!0);Un(t)}function Gy(t,i,a,o,u,f,m,S,b,k,M,q,R,B){if(t.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:hb},qy(i),q=gb(),q!==null)){t.cancelPendingCommit=q(_y.bind(null,t,i,f,a,o,u,m,S,b,M,1,R,B)),$r(t,f,m,!k);return}_y(t,i,f,a,o,u,m,S,b)}function RT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Ve(f(),u))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $r(t,i,a,o){i&=~ih,i&=~Da,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var u=i;0<u;){var f=31-Pe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&ng(t,a,i)}function ou(){return(Ct&6)===0?(ko(0),!1):!0}function uh(){if(pt!==null){if(kt===0)var t=pt.return;else t=pt,ri=ba=null,Nf(t),cs=null,To=0,t=pt;for(;t!==null;)Ey(t.alternate,t),t=t.return;pt=null}}function vs(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ZT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),uh(),Jt=t,pt=a=ei(t.current,null),bt=i,kt=0,Ge=null,jr=!1,gs=Gs(t,i),nh=!1,ms=sn=ih=Da=Yr=$t=0,Re=Oo=null,rh=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var u=31-Pe(o),f=1<<u;i|=t[u],o&=~f}return hi=i,Cl(),a}function Ky(t,i){gt=null,U.H=Xl,i===co||i===ql?(i=um(),kt=3):i===sm?(i=um(),kt=4):kt=i===cy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ge=i,pt===null&&($t=1,Wl(t,tn(i,t.current)))}function $y(){var t=U.H;return U.H=Xl,t===null?Xl:t}function Xy(){var t=U.A;return U.A=CT,t}function ch(){$t=4,jr||(bt&4194048)!==bt&&an.current!==null||(gs=!0),(Yr&134217727)===0&&(Da&134217727)===0||Jt===null||$r(Jt,bt,sn,!1)}function fh(t,i,a){var o=Ct;Ct|=2;var u=$y(),f=Xy();(Jt!==t||bt!==i)&&(su=null,vs(t,i)),i=!1;var m=$t;t:do try{if(kt!==0&&pt!==null){var S=pt,b=Ge;switch(kt){case 8:uh(),m=6;break t;case 3:case 2:case 9:case 6:an.current===null&&(i=!0);var k=kt;if(kt=0,Ge=null,Ss(t,S,b,k),a&&gs){m=0;break t}break;default:k=kt,kt=0,Ge=null,Ss(t,S,b,k)}}BT(),m=$t;break}catch(M){Ky(t,M)}while(!0);return i&&t.shellSuspendCounter++,ri=ba=null,Ct=o,U.H=u,U.A=f,pt===null&&(Jt=null,bt=0,Cl()),m}function BT(){for(;pt!==null;)Zy(pt)}function IT(t,i){var a=Ct;Ct|=2;var o=$y(),u=Xy();Jt!==t||bt!==i?(su=null,au=Rn()+500,vs(t,i)):gs=Gs(t,i);t:do try{if(kt!==0&&pt!==null){i=pt;var f=Ge;e:switch(kt){case 1:kt=0,Ge=null,Ss(t,i,f,1);break;case 2:case 9:if(om(f)){kt=0,Ge=null,Qy(i);break}i=function(){kt!==2&&kt!==9||Jt!==t||(kt=7),Un(t)},f.then(i,i);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:om(f)?(kt=0,Ge=null,Qy(i)):(kt=0,Ge=null,Ss(t,i,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||Rp(m)){kt=0,Ge=null;var b=S.sibling;if(b!==null)pt=b;else{var k=S.return;k!==null?(pt=k,lu(k)):pt=null}break e}}kt=0,Ge=null,Ss(t,i,f,5);break;case 6:kt=0,Ge=null,Ss(t,i,f,6);break;case 8:uh(),$t=6;break t;default:throw Error(r(462))}}zT();break}catch(M){Ky(t,M)}while(!0);return ri=ba=null,U.H=o,U.A=u,Ct=a,pt!==null?0:(Jt=null,bt=0,Cl(),$t)}function zT(){for(;pt!==null&&!nS();)Zy(pt)}function Zy(t){var i=wy(t.alternate,t,hi);t.memoizedProps=t.pendingProps,i===null?lu(t):pt=i}function Qy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:Nf(i);default:Ey(a,i),i=pt=Fg(i,hi),i=wy(a,i,hi)}t.memoizedProps=t.pendingProps,i===null?lu(t):pt=i}function Ss(t,i,a,o){ri=ba=null,Nf(i),cs=null,To=0;var u=i.return;try{if(AT(t,u,i,a,bt)){$t=1,Wl(t,tn(a,t.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;$t=1,Wl(t,tn(a,t.current)),pt=null;return}i.flags&32768?(Dt||o===1?t=!0:gs||(bt&536870912)!==0?t=!1:(jr=t=!0,(o===2||o===9||o===3||o===6)&&(o=an.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(i,t)):lu(i)}function lu(t){var i=t;do{if((i.flags&32768)!==0){Fy(i,jr);return}t=i.return;var a=xT(i.alternate,i,hi);if(a!==null){pt=a;return}if(i=i.sibling,i!==null){pt=i;return}pt=i=t}while(i!==null);$t===0&&($t=5)}function Fy(t,i){do{var a=NT(t.alternate,t);if(a!==null){a.flags&=32767,pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){pt=t;return}pt=t=a}while(t!==null);$t=6,pt=null}function _y(t,i,a,o,u,f,m,S,b){t.cancelPendingCommit=null;do uu();while(he!==0);if((Ct&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=tf,hS(t,a,f,m,S,b),t===Jt&&(pt=Jt=null,bt=0),ys=i,Kr=t,ps=a,sh=f,oh=u,Hy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qT(gl,function(){return ip(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=K.p,K.p=2,m=Ct,Ct|=4;try{DT(t,i,a)}finally{Ct=m,K.p=u,U.T=o}}he=1,Wy(),tp(),ep()}}function Wy(){if(he===1){he=0;var t=Kr,i=ys,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Ct;Ct|=4;try{My(i,t);var f=Ah,m=Vg(t.containerInfo),S=f.focusedElem,b=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&Pg(S.ownerDocument.documentElement,S)){if(b!==null&&Zc(S)){var k=b.start,M=b.end;if(M===void 0&&(M=k),"selectionStart"in S)S.selectionStart=k,S.selectionEnd=Math.min(M,S.value.length);else{var q=S.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var B=R.getSelection(),lt=S.textContent.length,at=Math.min(b.start,lt),zt=b.end===void 0?at:Math.min(b.end,lt);!B.extend&&at>zt&&(m=zt,zt=at,at=m);var E=Jg(S,at),A=Jg(S,zt);if(E&&A&&(B.rangeCount!==1||B.anchorNode!==E.node||B.anchorOffset!==E.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var D=q.createRange();D.setStart(E.node,E.offset),B.removeAllRanges(),at>zt?(B.addRange(D),B.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),B.addRange(D))}}}}for(q=[],B=S;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var L=q[S];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}bu=!!wh,Ah=wh=null}finally{Ct=u,K.p=o,U.T=a}}t.current=i,he=2}}function tp(){if(he===2){he=0;var t=Kr,i=ys,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Ct;Ct|=4;try{Ry(t,i.alternate,i)}finally{Ct=u,K.p=o,U.T=a}}he=3}}function ep(){if(he===4||he===3){he=0,iS();var t=Kr,i=ys,a=ps,o=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?he=5:(he=0,ys=Kr=null,np(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Gr=null),Oc(a),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ys,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,u=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{U.T=i,K.p=u}}(ps&3)!==0&&uu(),Un(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===lh?Co++:(Co=0,lh=t):Co=0,ko(0)}}function np(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,lo(i)))}function uu(t){return Wy(),tp(),ep(),ip()}function ip(){if(he!==5)return!1;var t=Kr,i=sh;sh=0;var a=Oc(ps),o=U.T,u=K.p;try{K.p=32>a?32:a,U.T=null,a=oh,oh=null;var f=Kr,m=ps;if(he=0,ys=Kr=null,ps=0,(Ct&6)!==0)throw Error(r(331));var S=Ct;if(Ct|=4,Py(f.current),Ly(f,f.current,m,a),Ct=S,ko(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ys,f)}catch{}return!0}finally{K.p=u,U.T=o,np(t,i)}}function rp(t,i,a){i=tn(a,i),i=Pf(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(Ks(t,2),Un(t))}function Ut(t,i,a){if(t.tag===3)rp(t,t,a);else for(;i!==null;){if(i.tag===3){rp(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gr===null||!Gr.has(o))){t=tn(a,t),a=ly(2),o=Ur(i,a,2),o!==null&&(uy(a,o,i,t),Ks(o,2),Un(o));break}}i=i.return}}function hh(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new kT;var u=new Set;o.set(i,u)}else u=o.get(i),u===void 0&&(u=new Set,o.set(i,u));u.has(a)||(nh=!0,u.add(a),t=MT.bind(null,t,i,a),i.then(t,t))}function MT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(bt&a)===a&&($t===4||$t===3&&(bt&62914560)===bt&&300>Rn()-ah?(Ct&2)===0&&vs(t,0):ih|=a,ms===bt&&(ms=0)),Un(t)}function ap(t,i){i===0&&(i=eg()),t=ts(t,i),t!==null&&(Ks(t,i),Un(t))}function UT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ap(t,a)}function LT(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),ap(t,a)}function qT(t,i){return Ec(t,i)}var cu=null,Ts=null,dh=!1,fu=!1,gh=!1,Oa=0;function Un(t){t!==Ts&&t.next===null&&(Ts===null?cu=Ts=t:Ts=Ts.next=t),fu=!0,dh||(dh=!0,PT())}function ko(t,i){if(!gh&&fu){gh=!0;do for(var a=!1,o=cu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Pe(42|t)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,up(o,f))}else f=bt,f=pl(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gs(o,f)||(a=!0,up(o,f));o=o.next}while(a);gh=!1}}function JT(){sp()}function sp(){fu=dh=!1;var t=0;Oa!==0&&(XT()&&(t=Oa),Oa=0);for(var i=Rn(),a=null,o=cu;o!==null;){var u=o.next,f=op(o,i);f===0?(o.next=null,a===null?cu=u:a.next=u,u===null&&(Ts=a)):(a=o,(t!==0||(f&3)!==0)&&(fu=!0)),o=u}ko(t)}function op(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-Pe(f),S=1<<m,b=u[m];b===-1?((S&a)===0||(S&o)!==0)&&(u[m]=fS(S,i)):b<=i&&(t.expiredLanes|=S),f&=~S}if(i=Jt,a=bt,a=pl(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&xc(o),Oc(a)){case 2:case 8:a=_d;break;case 32:a=gl;break;case 268435456:a=Wd;break;default:a=gl}return o=lp.bind(null,t),a=Ec(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&xc(o),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,i){if(he!==0&&he!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uu()&&t.callbackNode!==a)return null;var o=bt;return o=pl(t,t===Jt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Yy(t,o,i),op(t,Rn()),t.callbackNode!=null&&t.callbackNode===a?lp.bind(null,t):null)}function up(t,i){if(uu())return null;Yy(t,i,!0)}function PT(){QT(function(){(Ct&6)!==0?Ec(Fd,JT):sp()})}function mh(){return Oa===0&&(Oa=tg()),Oa}function cp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wl(""+t)}function fp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function VT(t,i,a,o,u){if(i==="submit"&&a&&a.stateNode===u){var f=cp((u[De]||null).action),m=o.submitter;m&&(i=(i=m[De]||null)?cp(i.formAction):m.getAttribute("formAction"),i!==null&&(f=i,m=null));var S=new Nl("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Oa!==0){var b=m?fp(u,m):new FormData(u);Mf(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(S.preventDefault(),b=m?fp(u,m):new FormData(u),Mf(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var yh=0;yh<Wc.length;yh++){var ph=Wc[yh],HT=ph.toLowerCase(),jT=ph[0].toUpperCase()+ph.slice(1);wn(HT,"on"+jT)}wn(Yg,"onAnimationEnd"),wn(Gg,"onAnimationIteration"),wn(Kg,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(sT,"onTransitionRun"),wn(oT,"onTransitionStart"),wn(lT,"onTransitionCancel"),wn($g,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function hp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var m=o.length-1;0<=m;m--){var S=o[m],b=S.instance,k=S.currentTarget;if(S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=k;try{f(u)}catch(M){_l(M)}u.currentTarget=null,f=b}else for(m=0;m<o.length;m++){if(S=o[m],b=S.instance,k=S.currentTarget,S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=k;try{f(u)}catch(M){_l(M)}u.currentTarget=null,f=b}}}}function vt(t,i){var a=i[Cc];a===void 0&&(a=i[Cc]=new Set);var o=t+"__bubble";a.has(o)||(dp(i,t,2,!1),a.add(o))}function vh(t,i,a){var o=0;i&&(o|=4),dp(a,t,o,i)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[hu]){t[hu]=!0,sg.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||vh(a,!1,t),vh(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[hu]||(i[hu]=!0,vh("selectionchange",!1,i))}}function dp(t,i,a,o){switch(Lp(i)){case 2:var u=pb;break;case 8:u=vb;break;default:u=Ih}a=u.bind(null,i,a,t),u=void 0,!Pc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(i,a,{capture:!0,passive:u}):t.addEventListener(i,a,!0):u!==void 0?t.addEventListener(i,a,{passive:u}):t.addEventListener(i,a,!1)}function Th(t,i,a,o,u){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=Va(S),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){o=f=m;continue t}S=S.parentNode}}o=o.return}Tg(function(){var k=f,M=qc(a),q=[];t:{var R=Xg.get(t);if(R!==void 0){var B=Nl,lt=t;switch(t){case"keypress":if(El(a)===0)break t;case"keydown":case"keyup":B=qS;break;case"focusin":lt="focus",B=Yc;break;case"focusout":lt="blur",B=Yc;break;case"beforeblur":case"afterblur":B=Yc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=VS;break;case Yg:case Gg:case Kg:B=CS;break;case $g:B=jS;break;case"scroll":case"scrollend":B=ES;break;case"wheel":B=GS;break;case"copy":case"cut":case"paste":B=RS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=xg;break;case"toggle":case"beforetoggle":B=$S}var at=(i&4)!==0,zt=!at&&(t==="scroll"||t==="scrollend"),E=at?R!==null?R+"Capture":null:R;at=[];for(var A=k,D;A!==null;){var L=A;if(D=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||D===null||E===null||(L=Zs(A,E),L!=null&&at.push(Bo(A,L,D))),zt)break;A=A.return}0<at.length&&(R=new B(R,lt,null,a,M),q.push({event:R,listeners:at}))}}if((i&7)===0){t:{if(R=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",R&&a!==Lc&&(lt=a.relatedTarget||a.fromElement)&&(Va(lt)||lt[Pa]))break t;if((B||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,B?(lt=a.relatedTarget||a.toElement,B=k,lt=lt?Va(lt):null,lt!==null&&(zt=c(lt),at=lt.tag,lt!==zt||at!==5&&at!==27&&at!==6)&&(lt=null)):(B=null,lt=k),B!==lt)){if(at=Ag,L="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(at=xg,L="onPointerLeave",E="onPointerEnter",A="pointer"),zt=B==null?R:Xs(B),D=lt==null?R:Xs(lt),R=new at(L,A+"leave",B,a,M),R.target=zt,R.relatedTarget=D,L=null,Va(M)===k&&(at=new at(E,A+"enter",lt,a,M),at.target=D,at.relatedTarget=zt,L=at),zt=L,B&&lt)e:{for(at=B,E=lt,A=0,D=at;D;D=bs(D))A++;for(D=0,L=E;L;L=bs(L))D++;for(;0<A-D;)at=bs(at),A--;for(;0<D-A;)E=bs(E),D--;for(;A--;){if(at===E||E!==null&&at===E.alternate)break e;at=bs(at),E=bs(E)}at=null}else at=null;B!==null&&gp(q,R,B,at,!1),lt!==null&&zt!==null&&gp(q,zt,lt,at,!0)}}t:{if(R=k?Xs(k):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var X=Ig;else if(Rg(R))if(zg)X=iT;else{X=eT;var mt=tT}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?k&&Uc(k.elementType)&&(X=Ig):X=nT;if(X&&(X=X(t,k))){Bg(q,X,a,M);break t}mt&&mt(t,R,k),t==="focusout"&&k&&R.type==="number"&&k.memoizedProps.value!=null&&Mc(R,"number",R.value)}switch(mt=k?Xs(k):window,t){case"focusin":(Rg(mt)||mt.contentEditable==="true")&&(Fa=mt,Qc=k,io=null);break;case"focusout":io=Qc=Fa=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Hg(q,a,M);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Hg(q,a,M)}var Q;if(Kc)t:{switch(t){case"compositionstart":var st="onCompositionStart";break t;case"compositionend":st="onCompositionEnd";break t;case"compositionupdate":st="onCompositionUpdate";break t}st=void 0}else Qa?Cg(t,a)&&(st="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(st="onCompositionStart");st&&(Ng&&a.locale!=="ko"&&(Qa||st!=="onCompositionStart"?st==="onCompositionEnd"&&Qa&&(Q=bg()):(Br=M,Vc="value"in Br?Br.value:Br.textContent,Qa=!0)),mt=du(k,st),0<mt.length&&(st=new Eg(st,t,null,a,M),q.push({event:st,listeners:mt}),Q?st.data=Q:(Q=kg(a),Q!==null&&(st.data=Q)))),(Q=ZS?QS(t,a):FS(t,a))&&(st=du(k,"onBeforeInput"),0<st.length&&(mt=new Eg("onBeforeInput","beforeinput",null,a,M),q.push({event:mt,listeners:st}),mt.data=Q)),VT(q,t,k,a,M)}hp(q,i)})}function Bo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function du(t,i){for(var a=i+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Zs(t,a),u!=null&&o.unshift(Bo(t,u,f)),u=Zs(t,i),u!=null&&o.push(Bo(t,u,f))),t.tag===3)return o;t=t.return}return[]}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gp(t,i,a,o,u){for(var f=i._reactName,m=[];a!==null&&a!==o;){var S=a,b=S.alternate,k=S.stateNode;if(S=S.tag,b!==null&&b===o)break;S!==5&&S!==26&&S!==27||k===null||(b=k,u?(k=Zs(a,f),k!=null&&m.unshift(Bo(a,k,b))):u||(k=Zs(a,f),k!=null&&m.push(Bo(a,k,b)))),a=a.return}m.length!==0&&t.push({event:i,listeners:m})}var GT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(GT,`
`).replace(KT,"")}function yp(t,i){return i=mp(i),mp(t)===i}function gu(){}function It(t,i,a,o,u,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||$a(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&$a(t,""+o);break;case"className":Sl(t,"class",o);break;case"tabIndex":Sl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(t,a,o);break;case"style":vg(t,o,f);break;case"data":if(i!=="object"){Sl(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&It(t,i,"name",u.name,u,null),It(t,i,"formEncType",u.formEncType,u,null),It(t,i,"formMethod",u.formMethod,u,null),It(t,i,"formTarget",u.formTarget,u,null)):(It(t,i,"encType",u.encType,u,null),It(t,i,"method",u.method,u,null),It(t,i,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=gu);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":vt("beforetoggle",t),vt("toggle",t),vl(t,"popover",o);break;case"xlinkActuate":Wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":vl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wS.get(a)||a,vl(t,a,o))}}function bh(t,i,a,o,u,f){switch(a){case"style":vg(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?$a(t,o):(typeof o=="number"||typeof o=="bigint")&&$a(t,""+o);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!og.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),i=a.slice(2,u?a.length-7:void 0),f=t[De]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):vl(t,a,o)}}}function de(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:It(t,i,f,m,a,null)}}u&&It(t,i,"srcSet",a.srcSet,a,null),o&&It(t,i,"src",a.src,a,null);return;case"input":vt("invalid",t);var S=f=m=u=null,b=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":b=M;break;case"defaultChecked":k=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,i));break;default:It(t,i,o,M,a,null)}}gg(t,f,S,b,k,m,u,!1),Tl(t);return;case"select":vt("invalid",t),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:It(t,i,u,S,a,null)}i=f,a=m,t.multiple=!!o,i!=null?Ka(t,!!o,i,!1):a!=null&&Ka(t,!!o,a,!0);return;case"textarea":vt("invalid",t),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:It(t,i,m,S,a,null)}yg(t,o,u,f),Tl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:It(t,i,b,o,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)vt(Ro[o],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:It(t,i,k,o,a,null)}return;default:if(Uc(i)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&bh(t,i,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&It(t,i,S,o,a,null))}function $T(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,b=null,k=null,M=null;for(B in a){var q=a[B];if(a.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=q;default:o.hasOwnProperty(B)||It(t,i,B,null,o,q)}}for(var R in o){var B=o[R];if(q=a[R],o.hasOwnProperty(R)&&(B!=null||q!=null))switch(R){case"type":f=B;break;case"name":u=B;break;case"checked":k=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:B!==q&&It(t,i,R,B,o,q)}}zc(t,m,S,b,k,M,f,u);return;case"select":B=m=S=R=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||It(t,i,f,null,o,b)}for(u in o)if(f=o[u],b=a[u],o.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":R=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==b&&It(t,i,u,f,o,b)}i=S,a=m,o=B,R!=null?Ka(t,!!a,R,!1):!!o!=!!a&&(i!=null?Ka(t,!!a,i,!0):Ka(t,!!a,a?[]:"",!1));return;case"textarea":B=R=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:It(t,i,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":R=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&It(t,i,m,u,o,f)}mg(t,R,B);return;case"option":for(var lt in a)if(R=a[lt],a.hasOwnProperty(lt)&&R!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:It(t,i,lt,null,o,R)}for(b in o)if(R=o[b],B=a[b],o.hasOwnProperty(b)&&R!==B&&(R!=null||B!=null))switch(b){case"selected":t.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:It(t,i,b,R,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in a)R=a[at],a.hasOwnProperty(at)&&R!=null&&!o.hasOwnProperty(at)&&It(t,i,at,null,o,R);for(k in o)if(R=o[k],B=a[k],o.hasOwnProperty(k)&&R!==B&&(R!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,i));break;default:It(t,i,k,R,o,B)}return;default:if(Uc(i)){for(var zt in a)R=a[zt],a.hasOwnProperty(zt)&&R!==void 0&&!o.hasOwnProperty(zt)&&bh(t,i,zt,void 0,o,R);for(M in o)R=o[M],B=a[M],!o.hasOwnProperty(M)||R===B||R===void 0&&B===void 0||bh(t,i,M,R,o,B);return}}for(var E in a)R=a[E],a.hasOwnProperty(E)&&R!=null&&!o.hasOwnProperty(E)&&It(t,i,E,null,o,R);for(q in o)R=o[q],B=a[q],!o.hasOwnProperty(q)||R===B||R==null&&B==null||It(t,i,q,R,o,B)}var wh=null,Ah=null;function mu(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Eh(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xh=null;function XT(){var t=window.event;return t&&t.type==="popstate"?t===xh?!1:(xh=t,!0):(xh=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(t){return Tp.resolve(null).then(t).catch(FT)}:Sp;function FT(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function bp(t,i){var a=i,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=t.ownerDocument;if(a&1&&Io(m.documentElement),a&2&&Io(m.body),a&4)for(a=m.head,Io(a),m=a.firstChild;m;){var S=m.nextSibling,b=m.nodeName;m[$s]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){t.removeChild(f),Vo(i);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Vo(i)}function Nh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nh(a),kc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _T(t,i,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[$s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=En(t.nextSibling),t===null)break}return null}function WT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=En(t.nextSibling),t===null))return null;return t}function Dh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function En(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Oh=null;function wp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ap(t,i,a){switch(i=mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);kc(t)}var on=new Map,Ep=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=K.d;K.d={f:eb,r:nb,D:ib,C:rb,L:ab,m:sb,X:lb,S:ob,M:ub};function eb(){var t=di.f(),i=ou();return t||i}function nb(t){var i=Ha(t);i!==null&&i.tag===5&&i.type==="form"?Ym(i):di.r(t)}var ws=typeof document>"u"?null:document;function xp(t,i,a){var o=ws;if(o&&typeof i=="string"&&i){var u=We(i);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ep.has(u)||(Ep.add(u),t={rel:t,crossOrigin:a,href:i},o.querySelector(u)===null&&(i=o.createElement("link"),de(i,"link",t),oe(i),o.head.appendChild(i)))}}function ib(t){di.D(t),xp("dns-prefetch",t,null)}function rb(t,i){di.C(t,i),xp("preconnect",t,i)}function ab(t,i,a){di.L(t,i,a);var o=ws;if(o&&t&&i){var u='link[rel="preload"][as="'+We(i)+'"]';i==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+We(a.imageSizes)+'"]')):u+='[href="'+We(t)+'"]';var f=u;switch(i){case"style":f=As(t);break;case"script":f=Es(t)}on.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),on.set(f,t),o.querySelector(u)!==null||i==="style"&&o.querySelector(zo(f))||i==="script"&&o.querySelector(Mo(f))||(i=o.createElement("link"),de(i,"link",t),oe(i),o.head.appendChild(i)))}}function sb(t,i){di.m(t,i);var a=ws;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+We(o)+'"][href="'+We(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Es(t)}if(!on.has(f)&&(t=T({rel:"modulepreload",href:t},i),on.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Mo(f)))return}o=a.createElement("link"),de(o,"link",t),oe(o),a.head.appendChild(o)}}}function ob(t,i,a){di.S(t,i,a);var o=ws;if(o&&t){var u=ja(o).hoistableStyles,f=As(t);i=i||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(zo(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=on.get(f))&&Ch(t,a);var b=m=o.createElement("link");oe(b),de(b,"link",t),b._p=new Promise(function(k,M){b.onload=k,b.onerror=M}),b.addEventListener("load",function(){S.loading|=1}),b.addEventListener("error",function(){S.loading|=2}),S.loading|=4,pu(m,i,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function lb(t,i){di.X(t,i);var a=ws;if(a&&t){var o=ja(a).hoistableScripts,u=Es(t),f=o.get(u);f||(f=a.querySelector(Mo(u)),f||(t=T({src:t,async:!0},i),(i=on.get(u))&&kh(t,i),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function ub(t,i){di.M(t,i);var a=ws;if(a&&t){var o=ja(a).hoistableScripts,u=Es(t),f=o.get(u);f||(f=a.querySelector(Mo(u)),f||(t=T({src:t,async:!0,type:"module"},i),(i=on.get(u))&&kh(t,i),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Np(t,i,a,o){var u=(u=ft.current)?yu(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=As(a.href),a=ja(u).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var f=ja(u).hoistableStyles,m=f.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=u.querySelector(zo(t)))&&!f._p&&(m.instance=f,m.state.loading=5),on.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},on.set(t,a),f||cb(u,t,a,m.state))),i&&o===null)throw Error(r(528,""));return m}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Es(a),a=ja(u).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function As(t){return'href="'+We(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function cb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),de(i,"link",a),oe(i),t.head.appendChild(i))}function Es(t){return'[src="'+We(t)+'"]'}function Mo(t){return"script[async]"+t}function Op(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(o)return i.instance=o,oe(o),o;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),oe(o),de(o,"style",u),pu(o,a.precedence,t),i.instance=o;case"stylesheet":u=As(a.href);var f=t.querySelector(zo(u));if(f)return i.state.loading|=4,i.instance=f,oe(f),f;o=Dp(a),(u=on.get(u))&&Ch(o,u),f=(t.ownerDocument||t).createElement("link"),oe(f);var m=f;return m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",o),i.state.loading|=4,pu(f,a.precedence,t),i.instance=f;case"script":return f=Es(a.src),(u=t.querySelector(Mo(f)))?(i.instance=u,oe(u),u):(o=a,(u=on.get(f))&&(o=T({},a),kh(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),oe(u),de(u,"link",o),t.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,pu(o,a.precedence,t));return i.instance}function pu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===i)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ch(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vu=null;function Cp(t,i,a){if(vu===null){var o=new Map,u=vu=new Map;u.set(a,o)}else u=vu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[$s]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(i)||"";m=t+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function kp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function fb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Uo=null;function hb(){}function db(t,i,a){if(Uo===null)throw Error(r(475));var o=Uo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=As(a.href),f=t.querySelector(zo(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Su.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,oe(f);return}f=t.ownerDocument||t,a=Dp(a),(u=on.get(u))&&Ch(a,u),f=f.createElement("link"),oe(f);var m=f;m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Su.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function gb(){if(Uo===null)throw Error(r(475));var t=Uo;return t.stylesheets&&t.count===0&&Rh(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Rh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function Rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,i.forEach(mb,t),Tu=null,Su.call(t))}function mb(t,i){if(!(i.state.loading&4)){var a=Tu.get(t);if(a)var o=a.get(null);else{a=new Map,Tu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=i.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=Su.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),i.state.loading|=4}}var Lo={$$typeof:F,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function yb(t,i,a,o,u,f,m,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Bp(t,i,a,o,u,f,m,S,b,k,M,q){return t=new yb(t,i,a,m,S,b,k,q),i=1,f===!0&&(i|=24),f=He(3,null,null,i),t.current=f,f.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},yf(f),t}function Ip(t){return t?(t=es,t):es}function zp(t,i,a,o,u,f){u=Ip(u),o.context===null?o.context=u:o.pendingContext=u,o=Mr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ur(t,o,i),a!==null&&($e(a,t,i),ho(a,t,i))}function Mp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bh(t,i){Mp(t,i),(t=t.alternate)&&Mp(t,i)}function Up(t){if(t.tag===13){var i=ts(t,67108864);i!==null&&$e(i,t,67108864),Bh(t,67108864)}}var bu=!0;function pb(t,i,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=2,Ih(t,i,a,o)}finally{K.p=f,U.T=u}}function vb(t,i,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=8,Ih(t,i,a,o)}finally{K.p=f,U.T=u}}function Ih(t,i,a,o){if(bu){var u=zh(o);if(u===null)Th(t,i,o,wu,a),qp(t,o);else if(Tb(u,t,i,a,o))o.stopPropagation();else if(qp(t,o),i&4&&-1<Sb.indexOf(t)){for(;u!==null;){var f=Ha(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=fa(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var b=1<<31-Pe(m);S.entanglements[1]|=b,m&=~b}Un(f),(Ct&6)===0&&(au=Rn()+500,ko(0))}}break;case 13:S=ts(f,2),S!==null&&$e(S,f,2),ou(),Bh(f,2)}if(f=zh(o),f===null&&Th(t,i,o,wu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else Th(t,i,o,null,a)}}function zh(t){return t=qc(t),Mh(t)}var wu=null;function Mh(t){if(wu=null,t=Va(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return wu=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rS()){case Fd:return 2;case _d:return 8;case gl:case aS:return 32;case Wd:return 268435456;default:return 32}default:return 32}}var Uh=!1,Zr=null,Qr=null,Fr=null,qo=new Map,Jo=new Map,_r=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(t,i){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":qo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(i.pointerId)}}function Po(t,i,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Ha(i),i!==null&&Up(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),t)}function Tb(t,i,a,o,u){switch(i){case"focusin":return Zr=Po(Zr,t,i,a,o,u),!0;case"dragenter":return Qr=Po(Qr,t,i,a,o,u),!0;case"mouseover":return Fr=Po(Fr,t,i,a,o,u),!0;case"pointerover":var f=u.pointerId;return qo.set(f,Po(qo.get(f)||null,t,i,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Jo.set(f,Po(Jo.get(f)||null,t,i,a,o,u)),!0}return!1}function Jp(t){var i=Va(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,dS(t.priority,function(){if(a.tag===13){var o=Ke();o=Dc(o);var u=ts(a,o);u!==null&&$e(u,a,o),Bh(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Lc=o,a.target.dispatchEvent(o),Lc=null}else return i=Ha(a),i!==null&&Up(i),t.blockedOn=a,!1;i.shift()}return!0}function Pp(t,i,a){Au(t)&&a.delete(i)}function bb(){Uh=!1,Zr!==null&&Au(Zr)&&(Zr=null),Qr!==null&&Au(Qr)&&(Qr=null),Fr!==null&&Au(Fr)&&(Fr=null),qo.forEach(Pp),Jo.forEach(Pp)}function Eu(t,i){t.blockedOn===i&&(t.blockedOn=null,Uh||(Uh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bb)))}var xu=null;function Vp(t){xu!==t&&(xu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],u=t[i+2];if(typeof o!="function"){if(Mh(o||a)===null)continue;break}var f=Ha(a);f!==null&&(t.splice(i,3),i-=3,Mf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Vo(t){function i(b){return Eu(b,t)}Zr!==null&&Eu(Zr,t),Qr!==null&&Eu(Qr,t),Fr!==null&&Eu(Fr,t),qo.forEach(i),Jo.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)Jp(a),a.blockedOn===null&&_r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[De]||null;if(typeof f=="function")m||Vp(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[De]||null)S=m.formAction;else if(Mh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Vp(a)}}}function Lh(t){this._internalRoot=t}Nu.prototype.render=Lh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Ke();zp(a,o,t,i,null,null)},Nu.prototype.unmount=Lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zp(t.current,2,null,t,null,null),ou(),i[Pa]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var i=rg();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,t),a===0&&Jp(t)}};var Hp=n.version;if(Hp!=="19.1.0")throw Error(r(527,Hp,"19.1.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var wb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Ys=Du.inject(wb),Je=Du}catch{}}return jo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",u=ry,f=ay,m=sy,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Bp(t,1,!1,null,null,a,o,u,f,m,S,null),t[Pa]=i.current,Sh(t),new Lh(i)},jo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,u="",f=ry,m=ay,S=sy,b=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=Bp(t,1,!0,i,a??null,o,u,f,m,S,b,k),i.context=Ip(null),a=i.current,o=Ke(),o=Dc(o),u=Mr(o),u.callback=null,Ur(a,u,o),a=o,i.current.lanes=a,Ks(i,a),Un(i),t[Pa]=i.current,Sh(t),new Nu(i)},jo.version="19.1.0",jo}var _p;function Ub(){if(_p)return Ph.exports;_p=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ph.exports=Mb(),Ph.exports}var Lb=Ub();const qb="@yorkie-js/react",Jb="0.6.22",Wp={name:qb,version:Jb};var St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function tv(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Ot extends Error{constructor(n,e=St.Unknown,r,l,c){super(Pb(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(r??{}),this.details=l??[],this.cause=c}static from(n,e=St.Unknown){return n instanceof Ot?n:n instanceof Error?n.name=="AbortError"?new Ot(n.message,St.Canceled):new Ot(n.message,e,void 0,void 0,n):new Ot(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ot.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,r=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&r.push(l);continue}const c=e.findMessage(l.type);if(c)try{r.push(c.fromBinary(l.value))}catch{}}return r}}function Pb(s,n){return s.length?`[${tv(n)}] ${s}`:`[${tv(n)}]`}function Qt(s,n){if(!s)throw new Error(n)}const Vb=34028234663852886e22,Hb=-34028234663852886e22,jb=4294967295,Yb=2147483647,Gb=-2147483648;function Iu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Yb||s<Gb)throw new Error("invalid int 32: "+s)}function Wh(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>jb||s<0)throw new Error("invalid uint 32: "+s)}function Kv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>Vb||s<Hb))throw new Error("invalid float 32: "+s)}const $v=Symbol("@bufbuild/protobuf/enum-type");function Kb(s){const n=s[$v];return Qt(n,"missing enum type on enum object"),n}function Xv(s,n,e,r){s[$v]=Zv(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function Zv(s,n,e){const r=Object.create(null),l=Object.create(null),c=[];for(const d of n){const g=Qv(d);c.push(g),r[d.name]=g,l[d.no]=g}return{typeName:s,values:c,findName(d){return r[d]},findNumber(d){return l[d]}}}function $b(s,n,e){const r={};for(const l of n){const c=Qv(l);r[c.localName]=c.no,r[c.no]=c.localName}return Xv(r,s,n),r}function Qv(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class j{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const r=this.getType(),l=r.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const r=this.getType(),l=r.runtime.json,c=l.makeReadOptions(e);return l.readMessage(r,n,c,this),this}fromJsonString(n,e){let r;try{r=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(r,e)}toBinary(n){const e=this.getType(),r=e.runtime.bin,l=r.makeWriteOptions(n),c=l.writerFactory();return r.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),r=e.runtime.json,l=r.makeWriteOptions(n);return r.writeMessage(this,l)}toJsonString(n){var e;const r=this.toJson(n);return JSON.stringify(r,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Xb(s,n,e,r){var l;const c=(l=r==null?void 0:r.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),d={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(d.prototype,new j),Object.assign(d,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(g,p){return new d().fromBinary(g,p)},fromJson(g,p){return new d().fromJson(g,p)},fromJsonString(g,p){return new d().fromJsonString(g,p)},equals(g,p){return s.util.equals(d,g,p)}}),d}function Zb(){let s=0,n=0;for(let r=0;r<28;r+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let r=3;r<=31;r+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function Yh(s,n,e){for(let c=0;c<28;c=c+7){const d=s>>>c,g=!(!(d>>>7)&&n==0),p=(g?d|128:d)&255;if(e.push(p),!g)return}const r=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?r|128:r)&255),!!l){for(let c=3;c<31;c=c+7){const d=n>>>c,g=!!(d>>>7),p=(g?d|128:d)&255;if(e.push(p),!g)return}e.push(n>>>31&1)}}const zu=4294967296;function ev(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let r=0,l=0;function c(d,g){const p=Number(s.slice(d,g));l*=e,r=r*e+p,r>=zu&&(l=l+(r/zu|0),r=r%zu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?_v(r,l):Rd(r,l)}function Qb(s,n){let e=Rd(s,n);const r=e.hi&2147483648;r&&(e=_v(e.lo,e.hi));const l=Fv(e.lo,e.hi);return r?"-"+l:l}function Fv(s,n){if({lo:s,hi:n}=Fb(s,n),n<=2097151)return String(zu*n+s);const e=s&16777215,r=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+r*6777216+l*6710656,d=r+l*8147497,g=l*2;const p=1e7;return c>=p&&(d+=Math.floor(c/p),c%=p),d>=p&&(g+=Math.floor(d/p),d%=p),g.toString()+nv(d)+nv(c)}function Fb(s,n){return{lo:s>>>0,hi:n>>>0}}function Rd(s,n){return{lo:s|0,hi:n|0}}function _v(s,n){return n=~n,s?s=~s+1:n+=1,Rd(s,n)}const nv=s=>{const n=String(s);return"0000000".slice(n.length)+n};function iv(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function _b(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var rv={};function Wb(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof rv!="object"||rv.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>c||y<l)throw new Error(`int64 invalid: ${p}`);return y},uParse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>g||y<d)throw new Error(`uint64 invalid: ${p}`);return y},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigInt64(0,!0)},uDec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigUint64(0,!0)}}}const e=l=>Qt(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),r=l=>Qt(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),r(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),ev(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),r(l),ev(l)},dec(l,c){return Qb(l,c)},uDec(l,c){return Fv(l,c)}}}const Pt=Wb();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var la;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(la||(la={}));function ta(s,n,e){if(n===e)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==e}return!1}function Is(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Pt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function Wv(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var te;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(te||(te={}));class t1{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),r=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],r),r+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Wh(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Iu(n),iv(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){Kv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){Wh(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Iu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Iu(n),n=(n<<1^n>>31)>>>0,iv(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=Pt.enc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=Pt.uEnc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=Pt.enc(n);return Yh(e.lo,e.hi,this.buf),this}sint64(n){let e=Pt.enc(n),r=e.hi>>31,l=e.lo<<1^r,c=(e.hi<<1|e.lo>>>31)^r;return Yh(l,c,this.buf),this}uint64(n){let e=Pt.uEnc(n);return Yh(e.lo,e.hi,this.buf),this}}class e1{constructor(n,e){this.varint64=Zb,this.uint32=_b,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,r=n&7;if(e<=0||r<0||r>5)throw new Error("illegal tag: field no "+e+" wire type "+r);return[e,r]}skip(n,e){let r=this.pos;switch(n){case te.Varint:for(;this.buf[this.pos++]&128;);break;case te.Bit64:this.pos+=4;case te.Bit32:this.pos+=4;break;case te.LengthDelimited:let l=this.uint32();this.pos+=l;break;case te.StartGroup:for(;;){const[c,d]=this.tag();if(d===te.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(d,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Pt.dec(...this.varint64())}uint64(){return Pt.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),r=-(n&1);return n=(n>>>1|(e&1)<<31)^r,e=e>>>1^r,Pt.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Pt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Pt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function n1(s,n,e,r){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof r=="function"?r():r;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function t0(s){const n=s.field.localName,e=Object.create(null);return e[n]=i1(s),[e,()=>e[n]]}function i1(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Is(n.T,n.L);case"message":const e=n.T,r=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function r1(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),hc=[];for(let s=0;s<Sr.length;s++)hc[Sr[s].charCodeAt(0)]=s;hc[45]=Sr.indexOf("+");hc[95]=Sr.indexOf("/");const Bd={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),r=0,l=0,c,d=0;for(let g=0;g<s.length;g++){if(c=hc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:d=c,l=1;break;case 1:e[r++]=d<<2|(c&48)>>4,d=c,l=2;break;case 2:e[r++]=(d&15)<<4|(c&60)>>2,d=c,l=3;break;case 3:e[r++]=(d&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,r)},enc(s){let n="",e=0,r,l=0;for(let c=0;c<s.length;c++)switch(r=s[c],e){case 0:n+=Sr[r>>2],l=(r&3)<<4,e=1;break;case 1:n+=Sr[l|r>>4],l=(r&15)<<2,e=2;break;case 2:n+=Sr[l|r>>6],n+=Sr[r&63],e=0;break}return e&&(n+=Sr[l],n+="=",e==1&&(n+="=")),n}};function a1(s,n,e){n0(n,s);const r=n.runtime.bin.makeReadOptions(e),l=r1(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,d]=t0(n);for(const g of l)n.runtime.bin.readField(c,r.readerFactory(g.data),n.field,g.wireType,r);return d()}function s1(s,n,e,r){n0(n,s);const l=n.runtime.bin.makeReadOptions(r),c=n.runtime.bin.makeWriteOptions(r);if(e0(s,n)){const y=s.getType().runtime.bin.listUnknownFields(s).filter(T=>T.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const T of y)s.getType().runtime.bin.onUnknownField(s,T.no,T.wireType,T.data)}const d=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,e,d,c);const p=l.readerFactory(d.finish());for(;p.pos<p.len;){const[y,T]=p.tag(),x=p.skip(T,y);s.getType().runtime.bin.onUnknownField(s,y,T,x)}}function e0(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(r=>r.no==n.field.no)}function n0(s,n){Qt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function i0(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!Wv(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function av(s,n){const e=s.localName,r=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=r?s.T.values[0].no:void 0;break;case"scalar":n[e]=r?Is(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function Ba(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(j.prototype).every(r=>r in s&&typeof s[r]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function r0(s,n){return Ba(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const sv={ignoreUnknownFields:!1},ov={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function o1(s){return s?Object.assign(Object.assign({},sv),s):sv}function l1(s){return s?Object.assign(Object.assign({},ov),s):ov}const Pu=Symbol(),Mu=Symbol();function u1(){return{makeReadOptions:o1,makeWriteOptions:l1,readMessage(s,n,e,r){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${qn(n)}`);r=r??new s;const l=new Map,c=e.typeRegistry;for(const[d,g]of Object.entries(n)){const p=s.fields.findJsonName(d);if(p){if(p.oneof){if(g===null&&p.kind=="scalar")continue;const y=l.get(p.oneof);if(y!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${y}", "${d}"`);l.set(p.oneof,d)}lv(r,g,p,e,s)}else{let y=!1;if(c!=null&&c.findExtension&&d.startsWith("[")&&d.endsWith("]")){const T=c.findExtension(d.substring(1,d.length-1));if(T&&T.extendee.typeName==s.typeName){y=!0;const[x,I]=t0(T);lv(x,g,T.field,e,T),s1(r,T,I(),e)}}if(!y&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${d}" is unknown`)}}return r},writeMessage(s,n){const e=s.getType(),r={};let l;try{for(l of e.fields.byNumber()){if(!i0(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!f1(l))continue}const d=l.oneof?s[l.oneof.localName].value:s[l.localName],g=uv(l,d,n);g!==void 0&&(r[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const d of e.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(e.typeName,d.no);if(g&&e0(s,g)){const p=a1(s,g,n),y=uv(g.field,p,n);y!==void 0&&(r[g.field.jsonName]=y)}}}catch(c){const d=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(d+(g.length>0?`: ${g}`:""))}return r},readScalar(s,n,e){return Xo(s,n,e??la.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||Wv(s,n)))return Uu(s,n)},debug:qn}}function qn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function lv(s,n,e,r,l){let c=e.localName;if(e.repeated){if(Qt(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`);const d=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(g)}`);switch(e.kind){case"message":d.push(e.T.fromJson(g,r));break;case"enum":const p=Gh(e.T,g,r.ignoreUnknownFields,!0);p!==Mu&&d.push(p);break;case"scalar":try{d.push(Xo(e.T,g,e.L,!0))}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(g)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`);const d=s[c];for(const[g,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let y;try{y=c1(e.K,g)}catch(T){let x=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw T instanceof Error&&T.message.length>0&&(x+=`: ${T.message}`),new Error(x)}switch(e.V.kind){case"message":d[y]=e.V.T.fromJson(p,r);break;case"enum":const T=Gh(e.V.T,p,r.ignoreUnknownFields,!0);T!==Mu&&(d[y]=T);break;case"scalar":try{d[y]=Xo(e.V.T,p,la.BIGINT,!0)}catch(x){let I=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw x instanceof Error&&x.message.length>0&&(I+=`: ${x.message}`),new Error(I)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const d=e.T;if(n===null&&d.typeName!="google.protobuf.Value")return;let g=s[c];Ba(g)?g.fromJson(n,r):(s[c]=g=d.fromJson(n,r),d.fieldWrapper&&!e.oneof&&(s[c]=d.fieldWrapper.unwrapField(g)));break;case"enum":const p=Gh(e.T,n,r.ignoreUnknownFields,!1);switch(p){case Pu:av(e,s);break;case Mu:break;default:s[c]=p;break}break;case"scalar":try{const y=Xo(e.T,n,e.L,!1);switch(y){case Pu:av(e,s);break;default:s[c]=y;break}}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}function c1(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Xo(s,n,la.BIGINT,!0).toString()}function Xo(s,n,e,r){if(n===null)return r?Is(s,e):Pu;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&Kv(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?Wh(c):Iu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const d=Pt.parse(n);return e?d.toString():d;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Pt.uParse(n);return e?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return Bd.dec(n)}throw new Error}function Gh(s,n,e,r){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:r?s.values[0].no:Pu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return Mu;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${qn(n)}`)}function f1(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function uv(s,n,e){if(s.kind=="map"){Qt(typeof n=="object"&&n!=null);const r={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[d,g]of l)r[d.toString()]=Uu(s.V.T,g);break;case"message":for(const[d,g]of l)r[d.toString()]=g.toJson(e);break;case"enum":const c=s.V.T;for(const[d,g]of l)r[d.toString()]=Kh(c,g,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?r:void 0}if(s.repeated){Qt(Array.isArray(n));const r=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)r.push(Uu(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)r.push(Kh(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)r.push(n[l].toJson(e));break}return e.emitDefaultValues||r.length>0?r:void 0}switch(s.kind){case"scalar":return Uu(s.T,n);case"enum":return Kh(s.T,n,e.enumAsInteger);case"message":return r0(s.T,n).toJson(e)}}function Kh(s,n,e){var r;if(Qt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(r=l==null?void 0:l.name)!==null&&r!==void 0?r:n}function Uu(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Qt(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Qt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Qt(typeof n=="string"),n;case z.BOOL:return Qt(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Qt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Qt(n instanceof Uint8Array),Bd.enc(n)}}const xs=Symbol("@bufbuild/protobuf/unknown-fields"),cv={readUnknownFields:!0,readerFactory:s=>new e1(s)},fv={writeUnknownFields:!0,writerFactory:()=>new t1};function h1(s){return s?Object.assign(Object.assign({},cv),s):cv}function d1(s){return s?Object.assign(Object.assign({},fv),s):fv}function g1(){return{makeReadOptions:h1,makeWriteOptions:d1,listUnknownFields(s){var n;return(n=s[xs])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[xs]},writeUnknownFields(s,n){const r=s[xs];if(r)for(const l of r)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,r){const l=s;Array.isArray(l[xs])||(l[xs]=[]),l[xs].push({no:n,wireType:e,data:r})},readMessage(s,n,e,r,l){const c=s.getType(),d=l?n.len:n.pos+e;let g,p;for(;n.pos<d&&([g,p]=n.tag(),!(l===!0&&p==te.EndGroup));){const y=c.fields.find(g);if(!y){const T=n.skip(p,g);r.readUnknownFields&&this.onUnknownField(s,g,p,T);continue}hv(s,n,y,p,r)}if(l&&(p!=te.EndGroup||g!==e))throw new Error("invalid end group tag")},readField:hv,writeMessage(s,n,e){const r=s.getType();for(const l of r.fields.byNumber()){if(!i0(l,s)){if(l.req)throw new Error(`cannot encode field ${r.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];dv(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,r){n!==void 0&&dv(s,n,e,r)}}}function hv(s,n,e,r,l){let{repeated:c,localName:d}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=d&&delete s.value,s.case=d,d="value"),e.kind){case"scalar":case"enum":const g=e.kind=="enum"?z.INT32:e.T;let p=Vu;if(e.kind=="scalar"&&e.L>0&&(p=y1),c){let I=s[d];if(r==te.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let P=n.uint32()+n.pos;for(;n.pos<P;)I.push(p(n,g))}else I.push(p(n,g))}else s[d]=p(n,g);break;case"message":const y=e.T;c?s[d].push(Lu(n,new y,l,e)):Ba(s[d])?Lu(n,s[d],l,e):(s[d]=Lu(n,new y,l,e),y.fieldWrapper&&!e.oneof&&!e.repeated&&(s[d]=y.fieldWrapper.unwrapField(s[d])));break;case"map":let[T,x]=m1(e,n,l);s[d][T]=x;break}}function Lu(s,n,e,r){const l=n.getType().runtime.bin,c=r==null?void 0:r.delimited;return l.readMessage(n,s,c?r.no:s.uint32(),e,c),n}function m1(s,n,e){const r=n.uint32(),l=n.pos+r;let c,d;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=Vu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":d=Vu(n,s.V.T);break;case"enum":d=n.int32();break;case"message":d=Lu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Is(s.K,la.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Is(s.V.T,la.BIGINT);break;case"enum":d=s.V.T.values[0].no;break;case"message":d=new s.V.T;break}return[c,d]}function y1(s,n){const e=Vu(s,n);return typeof e=="bigint"?e.toString():e}function Vu(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function dv(s,n,e,r){Qt(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if(Qt(Array.isArray(n)),s.packed)v1(e,c,s.no,n);else for(const d of n)Zo(e,c,s.no,d);else Zo(e,c,s.no,n);break;case"message":if(l){Qt(Array.isArray(n));for(const d of n)gv(e,r,s,d)}else gv(e,r,s,n);break;case"map":Qt(typeof n=="object"&&n!=null);for(const[d,g]of Object.entries(n))p1(e,r,s,d,g);break}}function p1(s,n,e,r,l){s.tag(e.no,te.LengthDelimited),s.fork();let c=r;switch(e.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(r);break;case z.BOOL:Qt(r=="true"||r=="false"),c=r=="true";break}switch(Zo(s,e.K,1,c),e.V.kind){case"scalar":Zo(s,e.V.T,2,l);break;case"enum":Zo(s,z.INT32,2,l);break;case"message":Qt(l!==void 0),s.tag(2,te.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function gv(s,n,e,r){const l=r0(e.T,r);e.delimited?s.tag(e.no,te.StartGroup).raw(l.toBinary(n)).tag(e.no,te.EndGroup):s.tag(e.no,te.LengthDelimited).bytes(l.toBinary(n))}function Zo(s,n,e,r){Qt(r!==void 0);let[l,c]=a0(n);s.tag(e,l)[c](r)}function v1(s,n,e,r){if(!r.length)return;s.tag(e,te.LengthDelimited).fork();let[,l]=a0(n);for(let c=0;c<r.length;c++)s[l](r[c]);s.join()}function a0(s){let n=te.Varint;switch(s){case z.BYTES:case z.STRING:n=te.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=te.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=te.Bit32;break}const e=z[s].toLowerCase();return[n,e]}function S1(){return{setEnumType:Xv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const r of e.fields.byMember()){const l=r.localName,c=n,d=s;if(d[l]!=null)switch(r.kind){case"oneof":const g=d[l].case;if(g===void 0)continue;const p=r.findField(g);let y=d[l].value;p&&p.kind=="message"&&!Ba(y,p.T)?y=new p.T(y):p&&p.kind==="scalar"&&p.T===z.BYTES&&(y=Yo(y)),c[l]={case:g,value:y};break;case"scalar":case"enum":let T=d[l];r.T===z.BYTES&&(T=r.repeated?T.map(Yo):Yo(T)),c[l]=T;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===z.BYTES)for(const[O,P]of Object.entries(d[l]))c[l][O]=Yo(P);else Object.assign(c[l],d[l]);break;case"message":const I=r.V.T;for(const O of Object.keys(d[l])){let P=d[l][O];I.fieldWrapper||(P=new I(P)),c[l][O]=P}break}break;case"message":const x=r.T;if(r.repeated)c[l]=d[l].map(I=>Ba(I,x)?I:new x(I));else{const I=d[l];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?c[l]=Yo(I):c[l]=I:c[l]=Ba(I,x)?I:new x(I)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(r=>{const l=n[r.localName],c=e[r.localName];if(r.repeated){if(l.length!==c.length)return!1;switch(r.kind){case"message":return l.every((d,g)=>r.T.equals(d,c[g]));case"scalar":return l.every((d,g)=>ta(r.T,d,c[g]));case"enum":return l.every((d,g)=>ta(z.INT32,d,c[g]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(l,c);case"enum":return ta(z.INT32,l,c);case"scalar":return ta(r.T,l,c);case"oneof":if(l.case!==c.case)return!1;const d=r.findField(l.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(l.value,c.value);case"enum":return ta(z.INT32,l.value,c.value);case"scalar":return ta(d.T,l.value,c.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const g=Object.keys(l).concat(Object.keys(c));switch(r.V.kind){case"message":const p=r.V.T;return g.every(T=>p.equals(l[T],c[T]));case"enum":return g.every(T=>ta(z.INT32,l[T],c[T]));case"scalar":const y=r.V.T;return g.every(T=>ta(y,l[T],c[T]))}break}})},clone(s){const n=s.getType(),e=new n,r=e;for(const l of n.fields.byMember()){const c=s[l.localName];let d;if(l.repeated)d=c.map(Ou);else if(l.kind=="map"){d=r[l.localName];for(const[g,p]of Object.entries(c))d[g]=Ou(p)}else l.kind=="oneof"?d=l.findField(c.case)?{case:c.case,value:Ou(c.value)}:{case:void 0}:d=Ou(c);r[l.localName]=d}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(r,l.no,l.wireType,l.data);return e}}}function Ou(s){if(s===void 0)return s;if(Ba(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function Yo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function T1(s,n,e){return{syntax:s,json:u1(),bin:g1(),util:Object.assign(Object.assign({},S1()),{newFieldList:n,initFields:e}),makeMessageType(r,l,c){return Xb(this,r,l,c)},makeEnum:$b,makeEnumType:Zv,getEnumType:Kb,makeExtension(r,l,c){return n1(this,r,l,c)}}}class b1{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const r of this.list())e[r.jsonName]=e[r.name]=r;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const r of this.list())e[r.no]=r;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const r of this.list())r.oneof?r.oneof!==e&&(e=r.oneof,n.push(e)):n.push(r)}return this.members}}function s0(s,n){const e=o0(s);return n?e:D1(N1(e))}function w1(s){return s0(s,!1)}const A1=o0;function o0(s){let n=!1;const e=[];for(let r=0;r<s.length;r++){let l=s.charAt(r);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const E1=new Set(["constructor","toString","toJSON","valueOf"]),x1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),l0=s=>`${s}$`,N1=s=>x1.has(s)?l0(s):s,D1=s=>E1.has(s)?l0(s):s;class O1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=w1(n)}addField(n){Qt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function C1(s,n){var e,r,l,c,d,g;const p=[];let y;for(const T of typeof s=="function"?s():s){const x=T;if(x.localName=s0(T.name,T.oneof!==void 0),x.jsonName=(e=T.jsonName)!==null&&e!==void 0?e:A1(T.name),x.repeated=(r=T.repeated)!==null&&r!==void 0?r:!1,T.kind=="scalar"&&(x.L=(l=T.L)!==null&&l!==void 0?l:la.BIGINT),x.delimited=(c=T.delimited)!==null&&c!==void 0?c:!1,x.req=(d=T.req)!==null&&d!==void 0?d:!1,x.opt=(g=T.opt)!==null&&g!==void 0?g:!1,T.packed===void 0&&(x.packed=T.kind=="enum"||T.kind=="scalar"&&T.T!=z.BYTES&&T.T!=z.STRING),T.oneof!==void 0){const I=typeof T.oneof=="string"?T.oneof:T.oneof.name;(!y||y.name!=I)&&(y=new O1(I)),x.oneof=y,y.addField(x)}p.push(x)}return p}const v=T1("proto3",s=>new b1(s,n=>C1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,r=s;if(n.repeated){r[e]=[];continue}switch(n.kind){case"oneof":r[e]={case:void 0};break;case"enum":r[e]=0;break;case"map":r[e]={};break;case"scalar":r[e]=Is(n.T,n.L);break}}});var xe;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(xe||(xe={}));var mv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(mv||(mv={}));class me extends j{constructor(n){super(),this.seconds=Pt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${v.json.debug(n)}`);const r=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Pt.parse(l/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?r="."+l.substring(0,3)+"Z":l.substring(6)==="000"?r="."+l.substring(0,6)+"Z":r="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return me.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new me({seconds:Pt.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new me().fromBinary(n,e)}static fromJson(n,e){return new me().fromJson(n,e)}static fromJsonString(n,e){return new me().fromJsonString(n,e)}static equals(n,e){return v.util.equals(me,n,e)}}me.runtime=v;me.typeName="google.protobuf.Timestamp";me.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Tr extends j{constructor(n){super(),this.seconds=Pt.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const r=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const l=Number(r[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);if(this.seconds=Pt.parse(l),typeof r[2]=="string"){const c=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),e+="."+r,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new Tr().fromBinary(n,e)}static fromJson(n,e){return new Tr().fromJson(n,e)}static fromJsonString(n,e){return new Tr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Tr,n,e)}}Tr.runtime=v;Tr.typeName="google.protobuf.Duration";Tr.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Jn extends j{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(r);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=l.fromBinary(this.value).toJson(n);return(r.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(n,e){var r;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),d=(r=e==null?void 0:e.typeRegistry)===null||r===void 0?void 0:r.findMessage(c);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=d.fromJson(n.value,e);else{const p=Object.assign({},n);delete p["@type"],g=d.fromJson(p,e)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let r="";return typeof n=="string"?r=n:r=n.typeName,e===r}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),r=e>=0?n.substring(e+1):n;if(!r.length)throw new Error(`invalid type url: ${n}`);return r}static pack(n){const e=new Jn;return e.packFrom(n),e}static fromBinary(n,e){return new Jn().fromBinary(n,e)}static fromJson(n,e){return new Jn().fromJson(n,e)}static fromJsonString(n,e){return new Jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Jn,n,e)}}Jn.runtime=v;Jn.typeName="google.protobuf.Any";Jn.fields=v.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Pn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.DOUBLE,n)}catch(r){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Pn,n,e)}}Pn.runtime=v;Pn.typeName="google.protobuf.DoubleValue";Pn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Pn.fieldWrapper={wrapField(s){return new Pn({value:s})},unwrapField(s){return s.value}};class Vn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.FLOAT,n)}catch(r){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Vn,n,e)}}Vn.runtime=v;Vn.typeName="google.protobuf.FloatValue";Vn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class Hn extends j{constructor(n){super(),this.value=Pt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT64,n)}catch(r){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Hn,n,e)}}Hn.runtime=v;Hn.typeName="google.protobuf.Int64Value";Hn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class jn extends j{constructor(n){super(),this.value=Pt.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT64,n)}catch(r){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(jn,n,e)}}jn.runtime=v;jn.typeName="google.protobuf.UInt64Value";jn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};class Xe extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT32,n)}catch(r){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Xe().fromBinary(n,e)}static fromJson(n,e){return new Xe().fromJson(n,e)}static fromJsonString(n,e){return new Xe().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Xe,n,e)}}Xe.runtime=v;Xe.typeName="google.protobuf.Int32Value";Xe.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Yn extends j{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT32,n)}catch(r){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Yn,n,e)}}Yn.runtime=v;Yn.typeName="google.protobuf.UInt32Value";Yn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Gn extends j{constructor(n){super(),this.value=!1,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BOOL,n)}catch(r){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Gn,n,e)}}Gn.runtime=v;Gn.typeName="google.protobuf.BoolValue";Gn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class Ie extends j{constructor(n){super(),this.value="",v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.STRING,n)}catch(r){let l='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Ie().fromBinary(n,e)}static fromJson(n,e){return new Ie().fromJson(n,e)}static fromJsonString(n,e){return new Ie().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Ie,n,e)}}Ie.runtime=v;Ie.typeName="google.protobuf.StringValue";Ie.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ie.fieldWrapper={wrapField(s){return new Ie({value:s})},unwrapField(s){return s.value}};class Kn extends j{constructor(n){super(),this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BYTES,n)}catch(r){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Kn().fromBinary(n,e)}static fromJson(n,e){return new Kn().fromJson(n,e)}static fromJsonString(n,e){return new Kn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Kn,n,e)}}Kn.runtime=v;Kn.typeName="google.protobuf.BytesValue";Kn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Kn.fieldWrapper={wrapField(s){return new Kn({value:s})},unwrapField(s){return s.value}};function k1(s,n,e){try{const r=Bd.dec(s);return n?n.fromBinary(r,e):r}catch(r){throw Ot.from(r,St.DataLoss)}}function R1(s,n){const e={};for(const[r,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:r,service:s}));c!=null&&(e[r]=c)}return e}const yv=1;function pv(s){let n,e=new Uint8Array(0);function r(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let p=0;for(let y=1;y<5;y++)p=(p<<8)+e[y];c={flags:e[0],length:p}}if(c!==void 0&&e.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;r(g.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new Ot("premature end of stream",St.DataLoss));return}const d=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:d})}})}function vv(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setUint8(0,s),r.setUint32(1,n.length),e}var B1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(d){return new Promise(function(g,p){d=s[c](d),l(g,p,d.done,d.value)})}}function l(c,d,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},d)}},Wo=function(s){return this instanceof Wo?(this.v=s,this):new Wo(s)},I1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(P){return Promise.resolve(P).then(O,x)}}function g(O,P){r[O]&&(l[O]=function(H){return new Promise(function(Y,_){c.push([O,H,Y,_])>1||p(O,H)})},P&&(l[O]=P(l[O])))}function p(O,P){try{y(r[O](P))}catch(H){I(c[0][3],H)}}function y(O){O.value instanceof Wo?Promise.resolve(O.value.v).then(T,x):I(c[0][2],O)}function T(O){p("next",O)}function x(O){p("throw",O)}function I(O,P){O(P),c.shift(),c.length&&p(c[0][0],c[0][1])}},z1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(d){return(e=!e)?{value:Wo(s[l](d)),done:!1}:c?c(d):d}:c}};function M1(s){return I1(this,arguments,function*(){yield Wo(yield*z1(B1(s)))})}var u0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(d){return new Promise(function(g,p){d=s[c](d),l(g,p,d.done,d.value)})}}function l(c,d,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},d)}},zs=function(s){return this instanceof zs?(this.v=s,this):new zs(s)},U1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(d){return(e=!e)?{value:zs(s[l](d)),done:!1}:c?c(d):d}:c}},L1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(P){return Promise.resolve(P).then(O,x)}}function g(O,P){r[O]&&(l[O]=function(H){return new Promise(function(Y,_){c.push([O,H,Y,_])>1||p(O,H)})},P&&(l[O]=P(l[O])))}function p(O,P){try{y(r[O](P))}catch(H){I(c[0][3],H)}}function y(O){O.value instanceof zs?Promise.resolve(O.value.v).then(T,x):I(c[0][2],O)}function T(O){p("next",O)}function x(O){p("throw",O)}function I(O,P){O(P),c.shift(),c.length&&p(c[0][0],c[0][1])}};function q1(s,n){return R1(s,e=>{switch(e.kind){case xe.Unary:return J1(n,s,e);case xe.ServerStreaming:return P1(n,s,e);case xe.ClientStreaming:return V1(n,s,e);case xe.BiDiStreaming:return H1(n,s,e);default:return null}})}function J1(s,n,e){return async function(r,l){var c,d;const g=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(d=l==null?void 0:l.onTrailer)===null||d===void 0||d.call(l,g.trailer),g.message}}function P1(s,n,e){return function(r,l){return c0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,M1([r]),l==null?void 0:l.contextValues),l)}}function V1(s,n,e){return async function(r,l){var c,d,g,p,y,T;const x=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);(y=l==null?void 0:l.onHeader)===null||y===void 0||y.call(l,x.header);let I,O=0;try{for(var P=!0,H=u0(x.message),Y;Y=await H.next(),c=Y.done,!c;P=!0)p=Y.value,P=!1,I=p,O++}catch(_){d={error:_}}finally{try{!P&&!c&&(g=H.return)&&await g.call(H)}finally{if(d)throw d.error}}if(!I)throw new Ot("protocol error: missing response message",St.Unimplemented);if(O>1)throw new Ot("protocol error: received extra messages for client streaming method",St.Unimplemented);return(T=l==null?void 0:l.onTrailer)===null||T===void 0||T.call(l,x.trailer),I}}function H1(s,n,e){return function(r,l){return c0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues),l)}}function c0(s,n){const e=function(){return L1(this,arguments,function*(){var r,l;const c=yield zs(s);(r=n==null?void 0:n.onHeader)===null||r===void 0||r.call(n,c.header),yield zs(yield*U1(u0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function j1(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){r.apply(l);break}l.addEventListener("abort",r)}function r(){n.signal.aborted||n.abort(f0(this));for(const l of e)l.removeEventListener("abort",r)}return n}function Y1(s){const n=new AbortController,e=()=>{n.abort(new Ot("the operation timed out",St.DeadlineExceeded))};let r;return s!==void 0&&(s<=0?e():r=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(r)}}function f0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Sv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const $h=128;function Tv(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const r of e){if(r==="")continue;const l=r.indexOf(":");if(l>0){const c=r.substring(0,l).trim(),d=r.substring(l+1).trim();n.append(c,d)}}return n}const G1="Content-Type",K1="Grpc-Timeout",Ms="Grpc-Status",h0="Grpc-Message",$1="Grpc-Status-Details-Bin",X1="X-User-Agent",Z1="X-Grpc-Web",Q1="application/grpc-web+proto",F1="application/grpc-web+json";class br extends j{constructor(n){super(),this.code=0,this.message="",this.details=[],v.util.initPartial(n,this)}static fromBinary(n,e){return new br().fromBinary(n,e)}static fromJson(n,e){return new br().fromJson(n,e)}static fromJsonString(n,e){return new br().fromJsonString(n,e)}static equals(n,e){return v.util.equals(br,n,e)}}br.runtime=v;br.typeName="google.rpc.Status";br.fields=v.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Jn,repeated:!0}]);const _1="0";function d0(s){var n;const e=s.get($1);if(e!=null){const l=k1(e,br);if(l.code==0)return;const c=new Ot(l.message,l.code,s);return c.details=l.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),c}const r=s.get(Ms);if(r!=null){if(r===_1)return;const l=parseInt(r,10);return l in St?new Ot(decodeURIComponent((n=s.get(h0))!==null&&n!==void 0?n:""),l,s):new Ot(`invalid grpc-status: ${r}`,St.Internal,s)}}function bv(s,n,e){const r=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${r}/${l}`)}function g0(s,n){return n instanceof s?n:new s(n)}function W1(s,n){function e(r){return r.done===!0?r:{done:r.done,value:g0(s,r.value)}}return{[Symbol.asyncIterator](){const r=n[Symbol.asyncIterator](),l={next:()=>r.next().then(e)};return r.throw!==void 0&&(l.throw=c=>r.throw(c).then(e)),r.return!==void 0&&(l.return=c=>r.return(c).then(e)),l}}}function m0(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((r,l)=>l(r),s))!==null&&e!==void 0?e:s}function tw(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function wv(s,n,e,r){const l=n?Av(s.I,r):Ev(s.I,e);return{parse:(n?Av(s.O,r):Ev(s.O,e)).parse,serialize:l.serialize}}function Av(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Ot(`parse binary: ${l}`,St.Internal)}},serialize(e){try{return e.toBinary(n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Ot(`serialize binary: ${l}`,St.Internal)}}}}function Ev(s,n){var e,r;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(r=n==null?void 0:n.textDecoder)!==null&&r!==void 0?r:new TextDecoder,d=tw(n);return{parse(g){try{const p=c.decode(g);return s.fromJsonString(p,d)}catch(p){throw Ot.from(p,St.InvalidArgument)}},serialize(g){try{const p=g.toJsonString(d);return l.encode(p)}catch(p){throw Ot.from(p,St.Internal)}}}}function ew(s){const n=m0(s.next,s.interceptors),[e,r,l]=y0(s),c=Object.assign(Object.assign({},s.req),{message:g0(s.req.method.I,s.req.message),signal:e});return n(c).then(d=>(l(),d),r)}function nw(s){const n=m0(s.next,s.interceptors),[e,r,l]=y0(s),c=Object.assign(Object.assign({},s.req),{message:W1(s.req.method.I,s.req.message),signal:e});let d=!1;return e.addEventListener("abort",function(){var g,p;const y=s.req.message[Symbol.asyncIterator]();d||(g=y.throw)===null||g===void 0||g.call(y,this.reason).catch(()=>{}),(p=y.return)===null||p===void 0||p.call(y).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const p=g.message[Symbol.asyncIterator]();return{next(){return p.next().then(y=>(y.done==!0&&(d=!0,l()),y),r)}}}}}),r)}function y0(s){const{signal:n,cleanup:e}=Y1(s.timeoutMs),r=j1(s.signal,n);return[r.signal,function(c){const d=Ot.from(n.aborted?f0(n):c);return r.abort(d),e(),Promise.reject(d)},function(){e(),r.abort()}]}function iw(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function xv(s,n){const e=d0(s);if(e)throw n.forEach((r,l)=>{e.metadata.append(l,r)}),e;if(!n.has(Ms)&&!s.has(Ms))throw new Ot("protocol error: missing status",St.Internal)}function Nv(s,n,e,r){const l=new Headers(e??{});return l.set(G1,s?Q1:F1),l.set(Z1,"1"),l.set(X1,"connect-es/1.6.1"),n!==void 0&&l.set(K1,`${n}m`),l}function rw(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function Dv(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(Ms),headerError:d0(n)};throw new Ot(decodeURIComponent((e=n.get(h0))!==null&&e!==void 0?e:`HTTP ${s}`),rw(s),n)}var Ra=function(s){return this instanceof Ra?(this.v=s,this):new Ra(s)},aw=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(P){return Promise.resolve(P).then(O,x)}}function g(O,P){r[O]&&(l[O]=function(H){return new Promise(function(Y,_){c.push([O,H,Y,_])>1||p(O,H)})},P&&(l[O]=P(l[O])))}function p(O,P){try{y(r[O](P))}catch(H){I(c[0][3],H)}}function y(O){O.value instanceof Ra?Promise.resolve(O.value.v).then(T,x):I(c[0][2],O)}function T(O){p("next",O)}function x(O){p("throw",O)}function I(O,P){O(P),c.shift(),c.length&&p(c[0][0],c[0][1])}};function sw(s){var n;iw();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(r,l,c,d,g,p,y){var T;const{serialize:x,parse:I}=wv(l,e,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await ew({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!1,service:r,method:l,url:bv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Nv(e,d,g),contextValues:y??Sv(),message:p},next:async O=>{var P;const Y=await((P=s.fetch)!==null&&P!==void 0?P:globalThis.fetch)(O.url,Object.assign(Object.assign({},O.init),{headers:O.header,signal:O.signal,body:vv(0,x(O.message))})),{headerError:_}=Dv(Y.status,Y.headers);if(!Y.body)throw _!==void 0?_:"missing response body";const ut=pv(Y.body).getReader();let F,ct;for(;;){const W=await ut.read();if(W.done)break;const{flags:tt,data:yt}=W.value;if((tt&yv)===yv)throw new Ot("protocol error: received unsupported compressed output",St.Internal);if(tt===$h){if(F!==void 0)throw"extra trailer";F=Tv(yt);continue}if(ct!==void 0)throw new Ot("extra message",St.Unimplemented);ct=I(yt)}if(F===void 0)throw _!==void 0?_:new Ot("missing trailer",Y.headers.has(Ms)?St.Unimplemented:St.Unknown);if(xv(F,Y.headers),ct===void 0)throw new Ot("missing message",F.has(Ms)?St.Unimplemented:St.Unknown);return{stream:!1,service:r,method:l,header:Y.headers,message:ct,trailer:F}}})},async stream(r,l,c,d,g,p,y){var T;const{serialize:x,parse:I}=wv(l,e,s.jsonOptions,s.binaryOptions);function O(H,Y,_,ut,F){return aw(this,arguments,function*(){const W=pv(H).getReader();if(Y){if(!(yield Ra(W.read())).done)throw"extra data for trailers-only";return yield Ra(void 0)}let tt=!1;for(;;){const yt=yield Ra(W.read());if(yt.done)break;const{flags:wt,data:At}=yt.value;if((wt&$h)===$h){if(tt)throw"extra trailer";tt=!0;const ie=Tv(At);xv(ie,ut),ie.forEach((Le,se)=>_.set(se,Le));continue}if(tt)throw"extra message";yield yield Ra(I(At))}if("throwIfAborted"in F&&F.throwIfAborted(),!tt)throw"missing trailer"})}async function P(H){if(l.kind!=xe.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Y=await H[Symbol.asyncIterator]().next();if(Y.done==!0)throw"missing request message";return vv(0,x(Y.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,nw({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!0,service:r,method:l,url:bv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Nv(e,d,g),contextValues:y??Sv(),message:p},next:async H=>{var Y;const ut=await((Y=s.fetch)!==null&&Y!==void 0?Y:globalThis.fetch)(H.url,Object.assign(Object.assign({},H.init),{headers:H.header,signal:H.signal,body:await P(H.message)})),{foundStatus:F,headerError:ct}=Dv(ut.status,ut.headers);if(ct!=null)throw ct;if(!ut.body)throw"missing response body";const W=new Headers;return Object.assign(Object.assign({},H),{header:ut.headers,trailer:W,message:O(ut.body,F,W,ut.headers,H.signal)})}})}}}var ht=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ht||{});v.util.setEnumType(ht,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ia=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Ia||{});v.util.setEnumType(Ia,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const gi=class gi extends j{constructor(e){super();h(this,"root");h(this,"presences",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new gi().fromBinary(e,r)}static fromJson(e,r){return new gi().fromJson(e,r)}static fromJsonString(e,r){return new gi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gi,e,r)}};h(gi,"runtime",v),h(gi,"typeName","yorkie.v1.Snapshot"),h(gi,"fields",v.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Ue},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:mc}}]));let td=gi;var un;let Or=(un=class extends j{constructor(e){super();h(this,"documentKey","");h(this,"checkpoint");h(this,"snapshot",new Uint8Array(0));h(this,"changes",[]);h(this,"minSyncedTicket");h(this,"isRemoved",!1);h(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new un().fromBinary(e,r)}static fromJson(e,r){return new un().fromJson(e,r)}static fromJsonString(e,r){return new un().fromJsonString(e,r)}static equals(e,r){return v.util.equals(un,e,r)}},h(un,"runtime",v),h(un,"typeName","yorkie.v1.ChangePack"),h(un,"fields",v.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:S0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:p0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:gc}])),un);var cn;let p0=(cn=class extends j{constructor(e){super();h(this,"id");h(this,"message","");h(this,"operations",[]);h(this,"presenceChange");v.util.initPartial(e,this)}static fromBinary(e,r){return new cn().fromBinary(e,r)}static fromJson(e,r){return new cn().fromJson(e,r)}static fromJsonString(e,r){return new cn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cn,e,r)}},h(cn,"runtime",v),h(cn,"typeName","yorkie.v1.Change"),h(cn,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:dc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Id,repeated:!0},{no:4,name:"presence_change",kind:"message",T:nl}])),cn);var fn;let dc=(fn=class extends j{constructor(e){super();h(this,"clientSeq",0);h(this,"serverSeq",Pt.zero);h(this,"lamport",Pt.zero);h(this,"actorId",new Uint8Array(0));h(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new fn().fromBinary(e,r)}static fromJson(e,r){return new fn().fromJson(e,r)}static fromJsonString(e,r){return new fn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fn,e,r)}},h(fn,"runtime",v),h(fn,"typeName","yorkie.v1.ChangeID"),h(fn,"fields",v.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:gc}])),fn);var hn;let gc=(hn=class extends j{constructor(e){super();h(this,"vector",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new hn().fromBinary(e,r)}static fromJson(e,r){return new hn().fromJson(e,r)}static fromJsonString(e,r){return new hn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hn,e,r)}},h(hn,"runtime",v),h(hn,"typeName","yorkie.v1.VersionVector"),h(hn,"fields",v.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),hn);var dn;let Id=(dn=class extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new dn().fromBinary(e,r)}static fromJson(e,r){return new dn().fromJson(e,r)}static fromJsonString(e,r){return new dn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dn,e,r)}},h(dn,"runtime",v),h(dn,"typeName","yorkie.v1.Operation"),h(dn,"fields",v.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Hu,oneof:"body"},{no:2,name:"add",kind:"message",T:ju,oneof:"body"},{no:3,name:"move",kind:"message",T:Yu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Gu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Ku,oneof:"body"},{no:7,name:"style",kind:"message",T:$u,oneof:"body"},{no:8,name:"increase",kind:"message",T:Xu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Zu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Qu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:ed,oneof:"body"}])),dn);const mi=class mi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"key","");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new mi().fromBinary(e,r)}static fromJson(e,r){return new mi().fromJson(e,r)}static fromJsonString(e,r){return new mi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(mi,e,r)}};h(mi,"runtime",v),h(mi,"typeName","yorkie.v1.Operation.Set"),h(mi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let Hu=mi;const yi=class yi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new yi().fromBinary(e,r)}static fromJson(e,r){return new yi().fromJson(e,r)}static fromJsonString(e,r){return new yi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(yi,e,r)}};h(yi,"runtime",v),h(yi,"typeName","yorkie.v1.Operation.Add"),h(yi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let ju=yi;const pi=class pi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"createdAt");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new pi().fromBinary(e,r)}static fromJson(e,r){return new pi().fromJson(e,r)}static fromJsonString(e,r){return new pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(pi,e,r)}};h(pi,"runtime",v),h(pi,"typeName","yorkie.v1.Operation.Move"),h(pi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let Yu=pi;const vi=class vi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new vi().fromBinary(e,r)}static fromJson(e,r){return new vi().fromJson(e,r)}static fromJsonString(e,r){return new vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(vi,e,r)}};h(vi,"runtime",v),h(vi,"typeName","yorkie.v1.Operation.Remove"),h(vi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let Gu=vi;const Si=class Si extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"content","");h(this,"executedAt");h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Si().fromBinary(e,r)}static fromJson(e,r){return new Si().fromJson(e,r)}static fromJsonString(e,r){return new Si().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Si,e,r)}};h(Si,"runtime",v),h(Si,"typeName","yorkie.v1.Operation.Edit"),h(Si,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Ku=Si;const Ti=class Ti extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ti().fromBinary(e,r)}static fromJson(e,r){return new Ti().fromJson(e,r)}static fromJsonString(e,r){return new Ti().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ti,e,r)}};h(Ti,"runtime",v),h(Ti,"typeName","yorkie.v1.Operation.Style"),h(Ti,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let $u=Ti;const bi=class bi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new bi().fromBinary(e,r)}static fromJson(e,r){return new bi().fromJson(e,r)}static fromJsonString(e,r){return new bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(bi,e,r)}};h(bi,"runtime",v),h(bi,"typeName","yorkie.v1.Operation.Increase"),h(bi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:ln},{no:3,name:"executed_at",kind:"message",T:Z}]));let Xu=bi;const wi=class wi extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"contents",[]);h(this,"splitLevel",0);h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new wi().fromBinary(e,r)}static fromJson(e,r){return new wi().fromJson(e,r)}static fromJsonString(e,r){return new wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(wi,e,r)}};h(wi,"runtime",v),h(wi,"typeName","yorkie.v1.Operation.TreeEdit"),h(wi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:ac,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let Zu=wi;const Ai=class Ai extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"attributesToRemove",[]);h(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ai().fromBinary(e,r)}static fromJson(e,r){return new Ai().fromJson(e,r)}static fromJsonString(e,r){return new Ai().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ai,e,r)}};h(Ai,"runtime",v),h(Ai,"typeName","yorkie.v1.Operation.TreeStyle"),h(Ai,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let Qu=Ai;const Ei=class Ei extends j{constructor(e){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"value");h(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ei().fromBinary(e,r)}static fromJson(e,r){return new Ei().fromJson(e,r)}static fromJsonString(e,r){return new Ei().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ei,e,r)}};h(Ei,"runtime",v),h(Ei,"typeName","yorkie.v1.Operation.ArraySet"),h(Ei,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:ln},{no:4,name:"executed_at",kind:"message",T:Z}]));let ed=Ei;const xi=class xi extends j{constructor(e){super();h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");h(this,"type",0);h(this,"value",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new xi().fromBinary(e,r)}static fromJson(e,r){return new xi().fromJson(e,r)}static fromJsonString(e,r){return new xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(xi,e,r)}};h(xi,"runtime",v),h(xi,"typeName","yorkie.v1.JSONElementSimple"),h(xi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:5,name:"value",kind:"scalar",T:12}]));let ln=xi;const Ni=class Ni extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ni().fromBinary(e,r)}static fromJson(e,r){return new Ni().fromJson(e,r)}static fromJsonString(e,r){return new Ni().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ni,e,r)}};h(Ni,"runtime",v),h(Ni,"typeName","yorkie.v1.JSONElement"),h(Ni,"fields",v.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Fu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:_u,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Wu,oneof:"body"},{no:5,name:"text",kind:"message",T:tc,oneof:"body"},{no:6,name:"counter",kind:"message",T:ec,oneof:"body"},{no:7,name:"tree",kind:"message",T:nc,oneof:"body"}]));let Ue=Ni;const Di=class Di extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Di().fromBinary(e,r)}static fromJson(e,r){return new Di().fromJson(e,r)}static fromJsonString(e,r){return new Di().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Di,e,r)}};h(Di,"runtime",v),h(Di,"typeName","yorkie.v1.JSONElement.JSONObject"),h(Di,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:v0,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let Fu=Di;const Oi=class Oi extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Oi().fromBinary(e,r)}static fromJson(e,r){return new Oi().fromJson(e,r)}static fromJsonString(e,r){return new Oi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Oi,e,r)}};h(Oi,"runtime",v),h(Oi,"typeName","yorkie.v1.JSONElement.JSONArray"),h(Oi,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:ic,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let _u=Oi;const Ci=class Ci extends j{constructor(e){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ci().fromBinary(e,r)}static fromJson(e,r){return new Ci().fromJson(e,r)}static fromJsonString(e,r){return new Ci().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ci,e,r)}};h(Ci,"runtime",v),h(Ci,"typeName","yorkie.v1.JSONElement.Primitive"),h(Ci,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Wu=Ci;const ki=class ki extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new ki().fromBinary(e,r)}static fromJson(e,r){return new ki().fromJson(e,r)}static fromJsonString(e,r){return new ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ki,e,r)}};h(ki,"runtime",v),h(ki,"typeName","yorkie.v1.JSONElement.Text"),h(ki,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:rc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let tc=ki;const Ri=class Ri extends j{constructor(e){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ri().fromBinary(e,r)}static fromJson(e,r){return new Ri().fromJson(e,r)}static fromJsonString(e,r){return new Ri().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ri,e,r)}};h(Ri,"runtime",v),h(Ri,"typeName","yorkie.v1.JSONElement.Counter"),h(Ri,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let ec=Ri;const Bi=class Bi extends j{constructor(e){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Bi().fromBinary(e,r)}static fromJson(e,r){return new Bi().fromJson(e,r)}static fromJsonString(e,r){return new Bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Bi,e,r)}};h(Bi,"runtime",v),h(Bi,"typeName","yorkie.v1.JSONElement.Tree"),h(Bi,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:el,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let nc=Bi;var gn;let v0=(gn=class extends j{constructor(e){super();h(this,"key","");h(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new gn().fromBinary(e,r)}static fromJson(e,r){return new gn().fromJson(e,r)}static fromJsonString(e,r){return new gn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gn,e,r)}},h(gn,"runtime",v),h(gn,"typeName","yorkie.v1.RHTNode"),h(gn,"fields",v.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ue}])),gn);const Ln=class Ln extends j{constructor(e){super();h(this,"next");h(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ln().fromBinary(e,r)}static fromJson(e,r){return new Ln().fromJson(e,r)}static fromJsonString(e,r){return new Ln().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ln,e,r)}};h(Ln,"runtime",v),h(Ln,"typeName","yorkie.v1.RGANode"),h(Ln,"fields",v.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Ln},{no:2,name:"element",kind:"message",T:Ue}]));let ic=Ln;const Ii=class Ii extends j{constructor(e){super();h(this,"value","");h(this,"updatedAt");h(this,"isRemoved",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ii().fromBinary(e,r)}static fromJson(e,r){return new Ii().fromJson(e,r)}static fromJsonString(e,r){return new Ii().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ii,e,r)}};h(Ii,"runtime",v),h(Ii,"typeName","yorkie.v1.NodeAttr"),h(Ii,"fields",v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Us=Ii;const zi=class zi extends j{constructor(e){super();h(this,"id");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new zi().fromBinary(e,r)}static fromJson(e,r){return new zi().fromJson(e,r)}static fromJsonString(e,r){return new zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(zi,e,r)}};h(zi,"runtime",v),h(zi,"typeName","yorkie.v1.TextNode"),h(zi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:tl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:tl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Us}}]));let rc=zi;const Mi=class Mi extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Mi().fromBinary(e,r)}static fromJson(e,r){return new Mi().fromJson(e,r)}static fromJsonString(e,r){return new Mi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Mi,e,r)}};h(Mi,"runtime",v),h(Mi,"typeName","yorkie.v1.TextNodeID"),h(Mi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let tl=Mi;const Ui=class Ui extends j{constructor(e){super();h(this,"id");h(this,"type","");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"insNextId");h(this,"depth",0);h(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ui().fromBinary(e,r)}static fromJson(e,r){return new Ui().fromJson(e,r)}static fromJsonString(e,r){return new Ui().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ui,e,r)}};h(Ui,"runtime",v),h(Ui,"typeName","yorkie.v1.TreeNode"),h(Ui,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:aa},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:aa},{no:6,name:"ins_next_id",kind:"message",T:aa},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Us}}]));let el=Ui;const Li=class Li extends j{constructor(e){super();h(this,"content",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Li().fromBinary(e,r)}static fromJson(e,r){return new Li().fromJson(e,r)}static fromJsonString(e,r){return new Li().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Li,e,r)}};h(Li,"runtime",v),h(Li,"typeName","yorkie.v1.TreeNodes"),h(Li,"fields",v.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:el,repeated:!0}]));let ac=Li;const qi=class qi extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new qi().fromBinary(e,r)}static fromJson(e,r){return new qi().fromJson(e,r)}static fromJsonString(e,r){return new qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(qi,e,r)}};h(qi,"runtime",v),h(qi,"typeName","yorkie.v1.TreeNodeID"),h(qi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let aa=qi;const Ji=class Ji extends j{constructor(e){super();h(this,"parentId");h(this,"leftSiblingId");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ji().fromBinary(e,r)}static fromJson(e,r){return new Ji().fromJson(e,r)}static fromJsonString(e,r){return new Ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ji,e,r)}};h(Ji,"runtime",v),h(Ji,"typeName","yorkie.v1.TreePos"),h(Ji,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:aa},{no:2,name:"left_sibling_id",kind:"message",T:aa}]));let za=Ji;const Pi=class Pi extends j{constructor(e){super();h(this,"id","");h(this,"authProvider","");h(this,"username","");h(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Pi().fromBinary(e,r)}static fromJson(e,r){return new Pi().fromJson(e,r)}static fromJsonString(e,r){return new Pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Pi,e,r)}};h(Pi,"runtime",v),h(Pi,"typeName","yorkie.v1.User"),h(Pi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:me}]));let Ov=Pi;const Vi=class Vi extends j{constructor(e){super();h(this,"id","");h(this,"name","");h(this,"publicKey","");h(this,"secretKey","");h(this,"authWebhookUrl","");h(this,"authWebhookMethods",[]);h(this,"eventWebhookUrl","");h(this,"eventWebhookEvents",[]);h(this,"clientDeactivateThreshold","");h(this,"maxSubscribersPerDocument",0);h(this,"maxAttachmentsPerDocument",0);h(this,"maxSizePerDocument",0);h(this,"allowedOrigins",[]);h(this,"createdAt");h(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Vi().fromBinary(e,r)}static fromJson(e,r){return new Vi().fromJson(e,r)}static fromJsonString(e,r){return new Vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Vi,e,r)}};h(Vi,"runtime",v),h(Vi,"typeName","yorkie.v1.Project"),h(Vi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:me},{no:13,name:"updated_at",kind:"message",T:me}]));let Cv=Vi;const Hi=class Hi extends j{constructor(e){super();h(this,"timestamp",Pt.zero);h(this,"value",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Hi().fromBinary(e,r)}static fromJson(e,r){return new Hi().fromJson(e,r)}static fromJsonString(e,r){return new Hi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Hi,e,r)}};h(Hi,"runtime",v),h(Hi,"typeName","yorkie.v1.MetricPoint"),h(Hi,"fields",v.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let kv=Hi;const ji=class ji extends j{constructor(e){super();h(this,"name");h(this,"authWebhookUrl");h(this,"authWebhookMethods");h(this,"eventWebhookUrl");h(this,"eventWebhookEvents");h(this,"clientDeactivateThreshold");h(this,"maxSubscribersPerDocument");h(this,"maxAttachmentsPerDocument");h(this,"maxSizePerDocument");h(this,"allowedOrigins");v.util.initPartial(e,this)}static fromBinary(e,r){return new ji().fromBinary(e,r)}static fromJson(e,r){return new ji().fromJson(e,r)}static fromJsonString(e,r){return new ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ji,e,r)}};h(ji,"runtime",v),h(ji,"typeName","yorkie.v1.UpdatableProjectFields"),h(ji,"fields",v.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Ie},{no:2,name:"auth_webhook_url",kind:"message",T:Ie},{no:3,name:"auth_webhook_methods",kind:"message",T:nd},{no:4,name:"event_webhook_url",kind:"message",T:Ie},{no:5,name:"event_webhook_events",kind:"message",T:id},{no:6,name:"client_deactivate_threshold",kind:"message",T:Ie},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:9,name:"allowed_origins",kind:"message",T:rd}]));let Rv=ji;const Yi=class Yi extends j{constructor(e){super();h(this,"methods",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Yi().fromBinary(e,r)}static fromJson(e,r){return new Yi().fromJson(e,r)}static fromJsonString(e,r){return new Yi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Yi,e,r)}};h(Yi,"runtime",v),h(Yi,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),h(Yi,"fields",v.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let nd=Yi;const Gi=class Gi extends j{constructor(e){super();h(this,"events",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Gi().fromBinary(e,r)}static fromJson(e,r){return new Gi().fromJson(e,r)}static fromJsonString(e,r){return new Gi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Gi,e,r)}};h(Gi,"runtime",v),h(Gi,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),h(Gi,"fields",v.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let id=Gi;const Ki=class Ki extends j{constructor(e){super();h(this,"origins",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ki().fromBinary(e,r)}static fromJson(e,r){return new Ki().fromJson(e,r)}static fromJsonString(e,r){return new Ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ki,e,r)}};h(Ki,"runtime",v),h(Ki,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),h(Ki,"fields",v.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let rd=Ki;const $i=class $i extends j{constructor(e){super();h(this,"id","");h(this,"key","");h(this,"root","");h(this,"attachedClients",0);h(this,"documentSize");h(this,"schemaKey","");h(this,"presences",{});h(this,"createdAt");h(this,"accessedAt");h(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new $i().fromBinary(e,r)}static fromJson(e,r){return new $i().fromJson(e,r)}static fromJsonString(e,r){return new $i().fromJsonString(e,r)}static equals(e,r){return v.util.equals($i,e,r)}};h($i,"runtime",v),h($i,"typeName","yorkie.v1.DocumentSummary"),h($i,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:od},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:mc}},{no:4,name:"created_at",kind:"message",T:me},{no:5,name:"accessed_at",kind:"message",T:me},{no:6,name:"updated_at",kind:"message",T:me}]));let Bv=$i;const Xi=class Xi extends j{constructor(e){super();h(this,"type",0);h(this,"presence");v.util.initPartial(e,this)}static fromBinary(e,r){return new Xi().fromBinary(e,r)}static fromJson(e,r){return new Xi().fromJson(e,r)}static fromJsonString(e,r){return new Xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Xi,e,r)}};h(Xi,"runtime",v),h(Xi,"typeName","yorkie.v1.PresenceChange"),h(Xi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ma)},{no:2,name:"presence",kind:"message",T:mc}]));let nl=Xi;var Ma=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Ma||{});v.util.setEnumType(Ma,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var mn;let mc=(mn=class extends j{constructor(e){super();h(this,"data",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new mn().fromBinary(e,r)}static fromJson(e,r){return new mn().fromJson(e,r)}static fromJsonString(e,r){return new mn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(mn,e,r)}},h(mn,"runtime",v),h(mn,"typeName","yorkie.v1.Presence"),h(mn,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),mn);var yn;let S0=(yn=class extends j{constructor(e){super();h(this,"serverSeq",Pt.zero);h(this,"clientSeq",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new yn().fromBinary(e,r)}static fromJson(e,r){return new yn().fromJson(e,r)}static fromJsonString(e,r){return new yn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(yn,e,r)}},h(yn,"runtime",v),h(yn,"typeName","yorkie.v1.Checkpoint"),h(yn,"fields",v.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),yn);const Zi=class Zi extends j{constructor(e){super();h(this,"createdAt");h(this,"offset",0);h(this,"relativeOffset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Zi().fromBinary(e,r)}static fromJson(e,r){return new Zi().fromJson(e,r)}static fromJsonString(e,r){return new Zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Zi,e,r)}};h(Zi,"runtime",v),h(Zi,"typeName","yorkie.v1.TextNodePos"),h(Zi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Ua=Zi;var pn;let Z=(pn=class extends j{constructor(e){super();h(this,"lamport",Pt.zero);h(this,"delimiter",0);h(this,"actorId",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new pn().fromBinary(e,r)}static fromJson(e,r){return new pn().fromJson(e,r)}static fromJsonString(e,r){return new pn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(pn,e,r)}},h(pn,"runtime",v),h(pn,"typeName","yorkie.v1.TimeTicket"),h(pn,"fields",v.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),pn);const Qi=class Qi extends j{constructor(e){super();h(this,"topic","");h(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new Qi().fromBinary(e,r)}static fromJson(e,r){return new Qi().fromJson(e,r)}static fromJsonString(e,r){return new Qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Qi,e,r)}};h(Qi,"runtime",v),h(Qi,"typeName","yorkie.v1.DocEventBody"),h(Qi,"fields",v.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let ad=Qi;const Fi=class Fi extends j{constructor(e){super();h(this,"type",0);h(this,"publisher","");h(this,"body");v.util.initPartial(e,this)}static fromBinary(e,r){return new Fi().fromBinary(e,r)}static fromJson(e,r){return new Fi().fromJson(e,r)}static fromJsonString(e,r){return new Fi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Fi,e,r)}};h(Fi,"runtime",v),h(Fi,"typeName","yorkie.v1.DocEvent"),h(Fi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ia)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:ad}]));let sd=Fi;const _i=class _i extends j{constructor(e){super();h(this,"data",0);h(this,"meta",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new _i().fromBinary(e,r)}static fromJson(e,r){return new _i().fromJson(e,r)}static fromJsonString(e,r){return new _i().fromJsonString(e,r)}static equals(e,r){return v.util.equals(_i,e,r)}};h(_i,"runtime",v),h(_i,"typeName","yorkie.v1.DataSize"),h(_i,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let sc=_i;const Wi=class Wi extends j{constructor(e){super();h(this,"live");h(this,"gc");v.util.initPartial(e,this)}static fromBinary(e,r){return new Wi().fromBinary(e,r)}static fromJson(e,r){return new Wi().fromJson(e,r)}static fromJsonString(e,r){return new Wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Wi,e,r)}};h(Wi,"runtime",v),h(Wi,"typeName","yorkie.v1.DocSize"),h(Wi,"fields",v.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:sc},{no:2,name:"gc",kind:"message",T:sc}]));let od=Wi;const tr=class tr extends j{constructor(e){super();h(this,"id","");h(this,"name","");h(this,"version",0);h(this,"body","");h(this,"rules",[]);h(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new tr().fromBinary(e,r)}static fromJson(e,r){return new tr().fromJson(e,r)}static fromJsonString(e,r){return new tr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(tr,e,r)}};h(tr,"runtime",v),h(tr,"typeName","yorkie.v1.Schema"),h(tr,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:oc,repeated:!0},{no:6,name:"created_at",kind:"message",T:me}]));let Iv=tr;const er=class er extends j{constructor(e){super();h(this,"path","");h(this,"type","");v.util.initPartial(e,this)}static fromBinary(e,r){return new er().fromBinary(e,r)}static fromJson(e,r){return new er().fromJson(e,r)}static fromJsonString(e,r){return new er().fromJsonString(e,r)}static equals(e,r){return v.util.equals(er,e,r)}};h(er,"runtime",v),h(er,"typeName","yorkie.v1.Rule"),h(er,"fields",v.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let oc=er;const nr=class nr extends j{constructor(e){super();h(this,"clientKey","");h(this,"metadata",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new nr().fromBinary(e,r)}static fromJson(e,r){return new nr().fromJson(e,r)}static fromJsonString(e,r){return new nr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(nr,e,r)}};h(nr,"runtime",v),h(nr,"typeName","yorkie.v1.ActivateClientRequest"),h(nr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let ld=nr;const ir=class ir extends j{constructor(e){super();h(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new ir().fromBinary(e,r)}static fromJson(e,r){return new ir().fromJson(e,r)}static fromJsonString(e,r){return new ir().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ir,e,r)}};h(ir,"runtime",v),h(ir,"typeName","yorkie.v1.ActivateClientResponse"),h(ir,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let ud=ir;const rr=class rr extends j{constructor(e){super();h(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new rr().fromBinary(e,r)}static fromJson(e,r){return new rr().fromJson(e,r)}static fromJsonString(e,r){return new rr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(rr,e,r)}};h(rr,"runtime",v),h(rr,"typeName","yorkie.v1.DeactivateClientRequest"),h(rr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let cd=rr;const ar=class ar extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new ar().fromBinary(n,e)}static fromJson(n,e){return new ar().fromJson(n,e)}static fromJsonString(n,e){return new ar().fromJsonString(n,e)}static equals(n,e){return v.util.equals(ar,n,e)}};h(ar,"runtime",v),h(ar,"typeName","yorkie.v1.DeactivateClientResponse"),h(ar,"fields",v.util.newFieldList(()=>[]));let fd=ar;const sr=class sr extends j{constructor(e){super();h(this,"clientId","");h(this,"changePack");h(this,"schemaKey","");v.util.initPartial(e,this)}static fromBinary(e,r){return new sr().fromBinary(e,r)}static fromJson(e,r){return new sr().fromJson(e,r)}static fromJsonString(e,r){return new sr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(sr,e,r)}};h(sr,"runtime",v),h(sr,"typeName","yorkie.v1.AttachDocumentRequest"),h(sr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Or},{no:3,name:"schema_key",kind:"scalar",T:9}]));let hd=sr;const or=class or extends j{constructor(e){super();h(this,"documentId","");h(this,"changePack");h(this,"maxSizePerDocument",0);h(this,"schemaRules",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new or().fromBinary(e,r)}static fromJson(e,r){return new or().fromJson(e,r)}static fromJsonString(e,r){return new or().fromJsonString(e,r)}static equals(e,r){return v.util.equals(or,e,r)}};h(or,"runtime",v),h(or,"typeName","yorkie.v1.AttachDocumentResponse"),h(or,"fields",v.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Or},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:oc,repeated:!0}]));let dd=or;const lr=class lr extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"removeIfNotAttached",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new lr().fromBinary(e,r)}static fromJson(e,r){return new lr().fromJson(e,r)}static fromJsonString(e,r){return new lr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(lr,e,r)}};h(lr,"runtime",v),h(lr,"typeName","yorkie.v1.DetachDocumentRequest"),h(lr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Or},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let gd=lr;const ur=class ur extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new ur().fromBinary(e,r)}static fromJson(e,r){return new ur().fromJson(e,r)}static fromJsonString(e,r){return new ur().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ur,e,r)}};h(ur,"runtime",v),h(ur,"typeName","yorkie.v1.DetachDocumentResponse"),h(ur,"fields",v.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Or}]));let md=ur;const cr=class cr extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new cr().fromBinary(e,r)}static fromJson(e,r){return new cr().fromJson(e,r)}static fromJsonString(e,r){return new cr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cr,e,r)}};h(cr,"runtime",v),h(cr,"typeName","yorkie.v1.WatchDocumentRequest"),h(cr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let yd=cr;const fr=class fr extends j{constructor(e){super();h(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new fr().fromBinary(e,r)}static fromJson(e,r){return new fr().fromJson(e,r)}static fromJsonString(e,r){return new fr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fr,e,r)}};h(fr,"runtime",v),h(fr,"typeName","yorkie.v1.WatchDocumentResponse"),h(fr,"fields",v.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:vd,oneof:"body"},{no:2,name:"event",kind:"message",T:sd,oneof:"body"}]));let pd=fr;const hr=class hr extends j{constructor(e){super();h(this,"clientIds",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new hr().fromBinary(e,r)}static fromJson(e,r){return new hr().fromJson(e,r)}static fromJsonString(e,r){return new hr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hr,e,r)}};h(hr,"runtime",v),h(hr,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),h(hr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let vd=hr;const dr=class dr extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new dr().fromBinary(e,r)}static fromJson(e,r){return new dr().fromJson(e,r)}static fromJsonString(e,r){return new dr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dr,e,r)}};h(dr,"runtime",v),h(dr,"typeName","yorkie.v1.RemoveDocumentRequest"),h(dr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Or}]));let Sd=dr;const gr=class gr extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new gr().fromBinary(e,r)}static fromJson(e,r){return new gr().fromJson(e,r)}static fromJsonString(e,r){return new gr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gr,e,r)}};h(gr,"runtime",v),h(gr,"typeName","yorkie.v1.RemoveDocumentResponse"),h(gr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Or}]));let Td=gr;const mr=class mr extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"pushOnly",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new mr().fromBinary(e,r)}static fromJson(e,r){return new mr().fromJson(e,r)}static fromJsonString(e,r){return new mr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(mr,e,r)}};h(mr,"runtime",v),h(mr,"typeName","yorkie.v1.PushPullChangesRequest"),h(mr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Or},{no:4,name:"push_only",kind:"scalar",T:8}]));let bd=mr;const yr=class yr extends j{constructor(e){super();h(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new yr().fromBinary(e,r)}static fromJson(e,r){return new yr().fromJson(e,r)}static fromJsonString(e,r){return new yr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(yr,e,r)}};h(yr,"runtime",v),h(yr,"typeName","yorkie.v1.PushPullChangesResponse"),h(yr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Or}]));let wd=yr;const pr=class pr extends j{constructor(e){super();h(this,"clientId","");h(this,"documentId","");h(this,"topic","");h(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new pr().fromBinary(e,r)}static fromJson(e,r){return new pr().fromJson(e,r)}static fromJsonString(e,r){return new pr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(pr,e,r)}};h(pr,"runtime",v),h(pr,"typeName","yorkie.v1.BroadcastRequest"),h(pr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Ad=pr;const vr=class vr extends j{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new vr().fromBinary(n,e)}static fromJson(n,e){return new vr().fromJson(n,e)}static fromJsonString(n,e){return new vr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(vr,n,e)}};h(vr,"runtime",v),h(vr,"typeName","yorkie.v1.BroadcastResponse"),h(vr,"fields",v.util.newFieldList(()=>[]));let Ed=vr;const ow={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:ld,O:ud,kind:xe.Unary},deactivateClient:{name:"DeactivateClient",I:cd,O:fd,kind:xe.Unary},attachDocument:{name:"AttachDocument",I:hd,O:dd,kind:xe.Unary},detachDocument:{name:"DetachDocument",I:gd,O:md,kind:xe.Unary},removeDocument:{name:"RemoveDocument",I:Sd,O:Td,kind:xe.Unary},pushPullChanges:{name:"PushPullChanges",I:bd,O:wd,kind:xe.Unary},watchDocument:{name:"WatchDocument",I:yd,O:pd,kind:xe.ServerStreaming},broadcast:{name:"Broadcast",I:Ad,O:Ed,kind:xe.Unary}}},lw=v.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);v.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Tr}]);v.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:uw,repeated:!0}]);const uw=v.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});v.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:cw,repeated:!0}]);const cw=v.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});v.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:fw,repeated:!0}]);const fw=v.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:dw}],{localName:"BadRequest_FieldViolation"});v.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:hw,repeated:!0}]);const hw=v.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),dw=v.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var N=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(N||{});class C extends Error{constructor(e,r){super(r);h(this,"name","YorkieError");h(this,"stack");this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Fn=(s=>(s.Put="put",s.Clear="clear",s))(Fn||{});const yc="000000000000000000000000",Xn=24;class Tn{constructor(n,e,r){h(this,"lamport");h(this,"delimiter");h(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=r}static of(n,e,r){return new Tn(n,e,r)}static fromStruct(n){return Tn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new Tn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const xd=0n,T0=0,Qo=9223372036854775807n,Ls=new Tn(xd,T0,yc);function $n(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class ul{constructor(n){h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Xn),this.getMovedAt()&&(n+=Xn),this.getRemovedAt()&&(n+=Xn),n}}class sa extends ul{constructor(n){super(n)}}class zd{constructor(n,e){h(this,"strKey");h(this,"value");this.strKey=n,this.value=e}static of(n,e){return new zd(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class il{constructor(){h(this,"nodeMapByKey");h(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new il}set(n,e,r){let l;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(r)&&(l=c.getValue());const d=zd.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),d),(c==null||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,d),e.setMovedAt(r)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new C(N.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const r=this.nodeMapByCreatedAt.get(n.toIDString());return r.remove(e),r.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(N.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(e.getStrKey());e===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const r=this.nodeMapByKey.get(n);if(r!=null&&r.remove(e))return r.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class we extends sa{constructor(e,r){super(e);h(this,"memberNodes");this.memberNodes=r}static create(e,r){if(!r)return new we(e,il.create());const l=il.create();for(const[c,d]of Object.entries(r))l.set(c,d.deepcopy(),d.getCreatedAt());return new we(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,l){return this.memberNodes.set(e,r,l)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){const r=this.memberNodes.get(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.memberNodes.getByID(e);return r==null?void 0:r.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,l]of this)e.push(`"${$n(r)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,l]of this){const{createdAt:c,value:d,type:g}=l.toJSForTest();e[r]={key:r,createdAt:c,value:d,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const r=[];for(const c of e.sort()){const d=(l=this.memberNodes.get(c))==null?void 0:l.getValue();r.push(`"${$n(c)}":${d.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=we.create(this.getCreatedAt());for(const r of this.memberNodes)e.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const l=r.getValue();if(e(l,this))return;l instanceof sa&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const r of this.memberNodes)e.has(r.getStrKey())||(e.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Lt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Lt||{});class kn{constructor(n,e){h(this,"parentCreatedAt");h(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new C(N.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class b0{constructor(n){h(this,"value");h(this,"left");h(this,"right");h(this,"parent");h(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class rl{constructor(n){h(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new C(N.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new rl(n.getLeft());e.root&&e.root.setParent();const r=new rl(n.getRight());if(r.root&&r.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(r.root),r.root&&r.root.setParent(e.root),this.root=e.root}else this.root=r.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const r of e)r.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var vn=null;try{vn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Tt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}Tt.prototype.__isLong__;Object.defineProperty(Tt.prototype,"__isLong__",{value:!0});function Ae(s){return(s&&s.__isLong__)===!0}function zv(s){var n=Math.clz32(s&-s);return s?31-n:n}Tt.isLong=Ae;var Mv={},Uv={};function Ja(s,n){var e,r,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(r=Uv[s],r)?r:(e=Et(s,0,!0),l&&(Uv[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(r=Mv[s],r)?r:(e=Et(s,s<0?-1:0,!1),l&&(Mv[s]=e),e))}Tt.fromInt=Ja;function Sn(s,n){if(isNaN(s))return n?wr:Dn;if(n){if(s<0)return wr;if(s>=w0)return x0}else{if(s<=-9223372036854776e3)return ze;if(s+1>=mw)return E0}return s<0?Sn(-s,n).neg():Et(s%qs|0,s/qs|0,n)}Tt.fromNumber=Sn;function Et(s,n,e){return new Tt(s,n,e)}Tt.fromBits=Et;var lc=Math.pow;function Md(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?wr:Dn;if(e=e||10,e<2||36<e)throw RangeError("radix");var r;if((r=s.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Md(s.substring(1),n,e).neg();for(var l=Sn(lc(e,8)),c=Dn,d=0;d<s.length;d+=8){var g=Math.min(8,s.length-d),p=parseInt(s.substring(d,d+g),e);if(g<8){var y=Sn(lc(e,g));c=c.mul(y).add(Sn(p))}else c=c.mul(l),c=c.add(Sn(p))}return c.unsigned=n,c}Tt.fromString=Md;function bn(s,n){return typeof s=="number"?Sn(s,n):typeof s=="string"?Md(s,n):Et(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}Tt.fromValue=bn;var Lv=65536,gw=1<<24,qs=Lv*Lv,w0=qs*qs,mw=w0/2,qv=Ja(gw),Dn=Ja(0);Tt.ZERO=Dn;var wr=Ja(0,!0);Tt.UZERO=wr;var Os=Ja(1);Tt.ONE=Os;var A0=Ja(1,!0);Tt.UONE=A0;var Nd=Ja(-1);Tt.NEG_ONE=Nd;var E0=Et(-1,2147483647,!1);Tt.MAX_VALUE=E0;var x0=Et(-1,-1,!0);Tt.MAX_UNSIGNED_VALUE=x0;var ze=Et(0,-2147483648,!1);Tt.MIN_VALUE=ze;var V=Tt.prototype;V.toInt=function(){return this.unsigned?this.low>>>0:this.low};V.toNumber=function(){return this.unsigned?(this.high>>>0)*qs+(this.low>>>0):this.high*qs+(this.low>>>0)};V.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ze)){var e=Sn(n),r=this.div(e),l=r.mul(e).sub(this);return r.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=Sn(lc(n,6),this.unsigned),d=this,g="";;){var p=d.div(c),y=d.sub(p.mul(c)).toInt()>>>0,T=y.toString(n);if(d=p,d.isZero())return T+g;for(;T.length<6;)T="0"+T;g=""+T+g}};V.getHighBits=function(){return this.high};V.getHighBitsUnsigned=function(){return this.high>>>0};V.getLowBits=function(){return this.low};V.getLowBitsUnsigned=function(){return this.low>>>0};V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ze)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};V.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};V.isZero=function(){return this.high===0&&this.low===0};V.eqz=V.isZero;V.isNegative=function(){return!this.unsigned&&this.high<0};V.isPositive=function(){return this.unsigned||this.high>=0};V.isOdd=function(){return(this.low&1)===1};V.isEven=function(){return(this.low&1)===0};V.equals=function(n){return Ae(n)||(n=bn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};V.eq=V.equals;V.notEquals=function(n){return!this.eq(n)};V.neq=V.notEquals;V.ne=V.notEquals;V.lessThan=function(n){return this.comp(n)<0};V.lt=V.lessThan;V.lessThanOrEqual=function(n){return this.comp(n)<=0};V.lte=V.lessThanOrEqual;V.le=V.lessThanOrEqual;V.greaterThan=function(n){return this.comp(n)>0};V.gt=V.greaterThan;V.greaterThanOrEqual=function(n){return this.comp(n)>=0};V.gte=V.greaterThanOrEqual;V.ge=V.greaterThanOrEqual;V.compare=function(n){if(Ae(n)||(n=bn(n)),this.eq(n))return 0;var e=this.isNegative(),r=n.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};V.comp=V.compare;V.negate=function(){return!this.unsigned&&this.eq(ze)?ze:this.not().add(Os)};V.neg=V.negate;V.add=function(n){Ae(n)||(n=bn(n));var e=this.high>>>16,r=this.high&65535,l=this.low>>>16,c=this.low&65535,d=n.high>>>16,g=n.high&65535,p=n.low>>>16,y=n.low&65535,T=0,x=0,I=0,O=0;return O+=c+y,I+=O>>>16,O&=65535,I+=l+p,x+=I>>>16,I&=65535,x+=r+g,T+=x>>>16,x&=65535,T+=e+d,T&=65535,Et(I<<16|O,T<<16|x,this.unsigned)};V.subtract=function(n){return Ae(n)||(n=bn(n)),this.add(n.neg())};V.sub=V.subtract;V.multiply=function(n){if(this.isZero())return this;if(Ae(n)||(n=bn(n)),vn){var e=vn.mul(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?wr:Dn;if(this.eq(ze))return n.isOdd()?ze:Dn;if(n.eq(ze))return this.isOdd()?ze:Dn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(qv)&&n.lt(qv))return Sn(this.toNumber()*n.toNumber(),this.unsigned);var r=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,g=n.high>>>16,p=n.high&65535,y=n.low>>>16,T=n.low&65535,x=0,I=0,O=0,P=0;return P+=d*T,O+=P>>>16,P&=65535,O+=c*T,I+=O>>>16,O&=65535,O+=d*y,I+=O>>>16,O&=65535,I+=l*T,x+=I>>>16,I&=65535,I+=c*y,x+=I>>>16,I&=65535,I+=d*p,x+=I>>>16,I&=65535,x+=r*T+l*y+c*p+d*g,x&=65535,Et(O<<16|P,x<<16|I,this.unsigned)};V.mul=V.multiply;V.divide=function(n){if(Ae(n)||(n=bn(n)),n.isZero())throw Error("division by zero");if(vn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?vn.div_u:vn.div_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?wr:Dn;var r,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return wr;if(n.gt(this.shru(1)))return A0;c=wr}else{if(this.eq(ze)){if(n.eq(Os)||n.eq(Nd))return ze;if(n.eq(ze))return Os;var d=this.shr(1);return r=d.div(n).shl(1),r.eq(Dn)?n.isNegative()?Os:Nd:(l=this.sub(n.mul(r)),c=r.add(l.div(n)),c)}else if(n.eq(ze))return this.unsigned?wr:Dn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Dn}for(l=this;l.gte(n);){r=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(r)/Math.LN2),p=g<=48?1:lc(2,g-48),y=Sn(r),T=y.mul(n);T.isNegative()||T.gt(l);)r-=p,y=Sn(r,this.unsigned),T=y.mul(n);y.isZero()&&(y=Os),c=c.add(y),l=l.sub(T)}return c};V.div=V.divide;V.modulo=function(n){if(Ae(n)||(n=bn(n)),vn){var e=(this.unsigned?vn.rem_u:vn.rem_s)(this.low,this.high,n.low,n.high);return Et(e,vn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};V.mod=V.modulo;V.rem=V.modulo;V.not=function(){return Et(~this.low,~this.high,this.unsigned)};V.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};V.clz=V.countLeadingZeros;V.countTrailingZeros=function(){return this.low?zv(this.low):zv(this.high)+32};V.ctz=V.countTrailingZeros;V.and=function(n){return Ae(n)||(n=bn(n)),Et(this.low&n.low,this.high&n.high,this.unsigned)};V.or=function(n){return Ae(n)||(n=bn(n)),Et(this.low|n.low,this.high|n.high,this.unsigned)};V.xor=function(n){return Ae(n)||(n=bn(n)),Et(this.low^n.low,this.high^n.high,this.unsigned)};V.shiftLeft=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Et(0,this.low<<n-32,this.unsigned)};V.shl=V.shiftLeft;V.shiftRight=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Et(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};V.shr=V.shiftRight;V.shiftRightUnsigned=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Et(this.high,0,this.unsigned):Et(this.high>>>n-32,0,this.unsigned)};V.shru=V.shiftRightUnsigned;V.shr_u=V.shiftRightUnsigned;V.rotateLeft=function(n){var e;return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,Et(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};V.rotl=V.rotateLeft;V.rotateRight=function(n){var e;return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,Et(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};V.rotr=V.rotateRight;V.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this};V.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)};V.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};V.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};V.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};Tt.fromBytes=function(n,e,r){return r?Tt.fromBytesLE(n,e):Tt.fromBytesBE(n,e)};Tt.fromBytesLE=function(n,e){return new Tt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};Tt.fromBytesBE=function(n,e){return new Tt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(Tt.fromBigInt=function(n,e){var r=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return Et(r,l,e)},Tt.fromValue=function(n,e){return typeof n=="bigint"?fromBigInt(n,e):bn(n,e)},V.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var qt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qt||{});class Gt extends ul{constructor(e,r){super(r);h(this,"valueType");h(this,"value");this.valueType=Gt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new Gt(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const l=new DataView(r.buffer);return r.forEach(function(c,d){l.setUint8(d,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return Tt.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(Tt.fromBytesLE(Array.from(r),!0).toNumber());default:throw new C(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new C(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${$n(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Gt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Tt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Gt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=Tt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new C(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class uc extends b0{constructor(e){super(e);h(this,"prev");h(this,"next");this.value=e}static createAfter(e,r){const l=new uc(r),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class al{constructor(){h(this,"dummyHead");h(this,"last");h(this,"nodeMapByIndex");h(this,"nodeMapByCreatedAt");const n=Gt.of(0,Ls);n.setRemovedAt(Ls),this.dummyHead=new uc(n),this.last=this.dummyHead,this.nodeMapByIndex=new rl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new al}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let r=this.nodeMapByCreatedAt.get(n.toIDString());if(!r)throw new C(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;r.getNext()&&r.getNext().getPositionedAt().after(e);)r=r.getNext();return r}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,r=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,r),c=uc.createAfter(l,e);l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c)}moveAfter(n,e,r){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new C(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);const c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new C(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);l!==c&&(!c.getValue().getMovedAt()||r.after(c.getValue().getMovedAt()))&&(this.release(c),this.insertAfter(l.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(N.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,r]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||r>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const r=this.nodeMapByCreatedAt.get(n.toIDString()),l=r.isRemoved();return r.remove(e)&&!l&&this.nodeMapByIndex.splayNode(r),r.getValue()}deleteByIndex(n,e){const r=this.getByIndex(n);if(r)return r.remove(e)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const r=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${r}}`):n.push(`[${r}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Ne extends sa{constructor(e,r){super(e);h(this,"elements");this.elements=r}static create(e,r){if(!r)return new Ne(e,al.create());const l=al.create();for(const c of r)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Ne(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,l){this.elements.insertAfter(e,r,l)}moveAfter(e,r,l){this.elements.moveAfter(e,r,l)}get(e){const r=this.elements.getByIndex(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.elements.getByID(e);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const l=r.getValue();if(e(l,this))return;l instanceof sa&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:l,value:c,type:d}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:l,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Ne.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class js extends kn{constructor(e,r,l,c){super(e,c);h(this,"prevCreatedAt");h(this,"value");this.prevCreatedAt=r,this.value=l}static create(e,r,l,c){return new js(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ne))throw new C(N.ErrInvalidArgument,"fail to execute, only array can execute add");const l=r,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Nr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Nr extends kn{constructor(e,r,l){super(e,l);h(this,"createdAt");this.createdAt=r}static create(e,r,l){return new Nr(e,r,l)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof sa))throw new C(N.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(r===Lt.UndoRedo){let T=l.getByID(this.createdAt);for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.subPathOf(this.createdAt),d=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(g),{opInfos:l instanceof Ne?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:d}}toReverseOperation(e){if(e instanceof Ne){const r=e.getByID(this.createdAt);if(r!==void 0){const l=e.getPrevCreatedAt(this.createdAt);return js.create(this.getParentCreatedAt(),l,r.deepcopy())}}if(e instanceof we){const r=e.subPathOf(this.createdAt);if(r!==void 0){const l=e.get(r);if(l!==void 0)return La.create(r,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class La extends kn{constructor(e,r,l,c){super(l,c);h(this,"key");h(this,"value");this.key=e,this.value=r}static create(e,r,l,c){return new La(e,r,l,c)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof we))throw new C(N.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===Lt.UndoRedo){let T=l;for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.get(this.key),d=this.toReverseOperation(c),g=this.value.deepcopy(),p=l.set(this.key,g,this.getExecutedAt());return r===Lt.UndoRedo&&e.findByCreatedAt(g.getCreatedAt())&&e.deregisterElement(g),e.registerElement(g,l),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(e){let r=Nr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=La.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ar extends kn{constructor(e,r,l,c){super(e,c);h(this,"prevCreatedAt");h(this,"createdAt");this.prevCreatedAt=r,this.createdAt=l}static create(e,r,l,c){return new Ar(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ne))throw new C(N.ErrInvalidArgument,"fail to execute, only array can execute move");const l=r,c=this.toReverseOperation(l),d=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const g=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:g,previousIndex:d}],reverseOp:c}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return Ar.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class ra{constructor(n,e,r,l){h(this,"key");h(this,"value");h(this,"updatedAt");h(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=r,this._isRemoved=l}static of(n,e,r,l){return new ra(n,e,r,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Xn}}}class Dr{constructor(){h(this,"nodeMapByKey");h(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Dr}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,r){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&r.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||r.after(l.getUpdatedAt())){const c=ra.of(n,e,r,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,r,l){const c=ra.of(n,e,r,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const r=this.nodeMapByKey.get(n),l=[];if(r===void 0||e.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const g=ra.of(n,"",e,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(r);const d=ra.of(n,r.getValue(),e,!0);return this.nodeMapByKey.set(n,d),l.push(d),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Dr;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,r]of this.nodeMapByKey)r.isRemoved()||n.push(`"${$n(e)}":"${$n(r.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,r]of this.nodeMapByKey)r.isRemoved()||(n[e]=r.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function xn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const N0=s=>s?Object.entries(s).length===0:!0,Js=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.stringify(r);return n},Er=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.parse(r);return n};function yw(s){return s?Jv(s.live)+Jv(s.gc):0}function Jv(s){return s.data+s.meta}function ye(s,...n){for(const e of n)s.data+=e.data,s.meta+=e.meta}function ks(s,n){s.data-=n.data,s.meta-=n.meta}class sl{constructor(n){h(this,"attributes");h(this,"content");this.attributes=Dr.create(),this.content=n}static create(n){return new sl(n)}get length(){return this.content.length}substring(n,e){const r=new sl(this.content.substring(n,e));return r.attributes=this.attributes.deepcopy(),r}setAttr(n,e,r){return this.attributes.set(n,e,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const r=e.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}toJSON(){const n=$n(this.content),e=this.attributes.toObject(),r=[];for(const[l,c]of Object.entries(e)){const d=JSON.parse(c),g=typeof d=="string"?`"${$n(l)}":"${$n(d)}"`:`"${$n(l)}":${String(d)}`;r.push(g)}return r.sort(),r.length===0?`{"val":"${n}"}`:`{"attrs":{${r.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof ra&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class Qe extends ul{constructor(e,r){super(r);h(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,r){return new Qe(e,r)}edit(e,r,l,c,d){const g=r?sl.create(r):void 0;if(g&&c)for(const[O,P]of Object.entries(c))g.setAttr(O,P,l);const[p,y,T,x]=this.rgaTreeSplit.edit(e,l,g,d);return[x.map(O=>({...O,value:O.value?{attributes:Er(O.value.getAttributes()),content:O.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,T,[p,p]]}setStyle(e,r,l,c){const d={data:0,meta:0},[,g,p]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,y,T]=this.rgaTreeSplit.findNodeWithSplit(e[0],l);ye(d,g,y);const x=[],I=this.rgaTreeSplit.findBetween(T,p),O=[];for(const H of I){const Y=H.getCreatedAt().getActorID();let _=Qo;c!=null&&(_=c.get(Y)?c.get(Y):0n),H.canStyle(l,_)&&O.push(H)}const P=[];for(const H of O){if(H.isRemoved())continue;const[Y,_]=this.rgaTreeSplit.findIndexesFromRange(H.createPosRange());x.push({type:"style",actor:l.getActorID(),from:Y,to:_,value:{attributes:Er(r)}});for(const[ut,F]of Object.entries(r)){const[ct]=H.getValue().setAttr(ut,F,l);ct!==void 0&&P.push({parent:H.getValue(),child:ct});const W=H.getValue().getAttrs().getNodeMapByKey().get(ut);W!==void 0&&ye(d,W.getDataSize())}}return[P,d,x]}indexRangeToPosRange(e,r){const l=this.rgaTreeSplit.indexToPos(e);return e===r?[l,l]:[l,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const l=r.getValue();e.push({attributes:Er(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Qe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const l of r.getValue().getGCPairs())e.push(l)}return e}}class cl extends kn{constructor(e,r,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"content");h(this,"attributes");this.fromPos=r,this.toPos=l,this.content=c,this.attributes=d}static create(e,r,l,c,d,g){return new cl(e,r,l,c,d,g)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new C(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,p,y]=d.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);e.acc(y);for(const T of p)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I})=>({type:"edit",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${r},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class fl extends kn{constructor(e,r,l,c,d){super(e,d);h(this,"fromPos");h(this,"toPos");h(this,"attributes");this.fromPos=r,this.toPos=l,this.attributes=c}static create(e,r,l,c,d){return new fl(e,r,l,c,d)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new C(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,p,y]=d.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);e.acc(p);for(const T of g)e.registerGCPair(T);return{opInfos:y.map(({from:T,to:x,value:I})=>({type:"style",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${r},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const pw=2,vw="root",Zn="text";function Go(s,n){let e=0;const r=s.children;for(let l=0;l<n;l++){const c=r[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class Sw{constructor(n,e=[]){h(this,"type");h(this,"parent");h(this,"_children");h(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new C(N.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const r=e.updateDescendantsSize();e.isRemoved||(n+=r)}return this.size+=n,this.paddedSize}get isText(){return this.type===Zn}get paddedSize(){return this.size+(this.isText?0:pw)}isAncestorOf(n){return Tw(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){const r={data:0,meta:0};if(n===0||n===this.size)return[void 0,r];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,r];const d=this.getDataSize();this.value=l;const g=this.cloneText(n+e);return g.value=c,this.parent.insertAfterInternal(g,this),ye(r,this.getDataSize(),g.getDataSize()),ks(r,d),[g,r]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new C(N.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const r={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(e);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize();const d=this.children.slice(0,n),g=this.children.slice(n);this._children=d,c._children=g,this.size=this._children.reduce((p,y)=>p+y.paddedSize,0),c.size=c._children.reduce((p,y)=>p+y.paddedSize,0);for(const p of c._children)p.parent=c;return ye(r,this.getDataSize(),c.getDataSize()),ks(r,l),[c,r]}insertAfterInternal(n,e){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1)}insertAtInternal(n,e){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new C(N.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const r=this._children.indexOf(e);if(r!==-1)return r;e=e.parent}return-1}}function Tw(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var Wt=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Wt||{});function D0(s,n,e,r){if(n>e)throw new C(N.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new C(N.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new C(N.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const d=c.isText?n-l:n-l-1,g=c.isText?e-l:e-l-1,p=!c.isText&&d<0,y=!c.isText&&g>c.size;(c.isText||p)&&r([c,c.isText?"Text":"Start"],y),D0(c,Math.max(0,d),Math.min(g,c.size),r),y&&r([c,"End"],y)}l+=c.paddedSize}}function O0(s,n,e=0){for(const r of s.children)O0(r,n,e+1);n(s,e)}function pc(s,n,e=0){for(const r of s._children)pc(r,n,e+1);n(s,e)}function Dd(s,n,e=!0){if(n>s.size)throw new C(N.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let r=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return Dd(c,n-l,e);if(n===l)return{node:s,offset:r};if(!e&&c.paddedSize===n-l)return{node:s,offset:r+1};if(c.paddedSize>n-l)return Dd(c,n-l-1,e);l+=c.paddedSize,r+=1}return{node:s,offset:r}}function C0(s){return s.isText||s.children.length===0?s:C0(s.children[0])}function bw(s,n){if(s.size<n)throw new C(N.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const r=s.children[e];if(r.size<n)n-=r.size;else{s=r;break}}return{node:s,offset:n}}class ww{constructor(n){h(this,"root");this.root=n}tokensBetween(n,e,r){D0(this.root,n,e,r)}traverse(n){O0(this.root,n,0)}traverseAll(n){pc(this.root,n,0)}findTreePos(n,e=!0){return Dd(this.root,n,e)}treePosToPath(n){const e=[];let r=n.node;if(r.isText){const l=r.parent.findOffset(r);if(l===-1)throw new C(N.ErrInvalidArgument,"invalid treePos");const c=Go(r.parent,l);e.push(c+n.offset),r=r.parent}else if(r.hasTextChild()){const l=Go(r,n.offset);e.push(l)}else e.push(n.offset);for(;r.parent;){const l=r.parent.findOffset(r);if(l===-1)throw new C(N.ErrInvalidArgument,"invalid treePos");e.push(l),r=r.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new C(N.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let r=0;r<n.length-1;r++){const l=n[r];if(e=e.children[l],!e)throw new C(N.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return bw(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new C(N.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:r}=n;if(e.isText){if(e.size===r){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===r?e:C0(e.children[r])}indexOf(n){let{node:e}=n;const{offset:r}=n;let l=0,c=1;if(e.isText){l+=r;const d=e.parent,g=d.findOffset(e);if(g===-1)throw new C(N.ErrInvalidArgument,"invalid pos");l+=Go(d,g),e=e.parent}else l+=Go(e,r);for(;e!=null&&e.parent;){const d=e.parent,g=d.findOffset(e);if(g===-1)throw new C(N.ErrInvalidArgument,"invalid pos");l+=Go(d,g),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const Aw=(s,n)=>s===n?0:s<n?-1:1;class Ew{constructor(n,e,r){h(this,"key");h(this,"value");h(this,"parent");h(this,"left");h(this,"right");h(this,"isRed");this.key=n,this.value=e,this.isRed=r}}class xw{constructor(n){h(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class k0{constructor(n){h(this,"root");h(this,"comparator");h(this,"counter");this.comparator=typeof n<"u"?n:Aw,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new xw(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const r=this.comparator(n,e.key);if(r>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(r<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const r=this.comparator(n,e.key);if(r===0)return e;r<0?e=e.left:r>0&&(e=e.right)}}putInternal(n,e,r){if(!r)return this.counter+=1,new Ew(n,e,!0);const l=this.comparator(n,r.key);return l<0?r.left=this.putInternal(n,e,r.left):l>0?r.right=this.putInternal(n,e,r.right):r.value=e,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const r=this.min(n.right);n.value=r.value,n.key=r.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class On{constructor(n,e){h(this,"parentID");h(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new On(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:r}=n,l;return r.isText?(r.parent.children[0]===r&&e===0?l=r.parent:l=r,r=r.parent):e===0?l=r:l=r.children[e-1],On.of(r.id,pe.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return On.of(pe.of(Tn.fromStruct(n.parentID.createdAt),n.parentID.offset),pe.of(Tn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),r=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(r);if(!l||!c)throw new C(N.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${r.toTestString()})`);return!r.equals(e)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class pe{constructor(n,e){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new pe(n,e)}static fromStruct(n){return pe.of(Tn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const r=n.getCreatedAt().compare(e.getCreatedAt());return r!==0?r:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ze extends Sw{constructor(e,r,l,c,d){super(r);h(this,"id");h(this,"removedAt");h(this,"attrs");h(this,"insPrevID");h(this,"insNextID");h(this,"_value","");this.id=e,this.removedAt=d,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,l,c){return new Ze(e,r,l,c)}deepcopy(){var r;const e=new Ze(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new C(N.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new C(N.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),r&&this.updateAncestorsSize()}cloneText(e){return new Ze(pe.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ze(pe.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,l){const[c,d]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=e.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return[c,d]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new Dr);const l=[];for(const[c,d]of Object.entries(e))l.push(this.attrs.set(c,d,r));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Xn),this.removedAt&&(e.meta+=Xn),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const l=r.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Od(s){var e;if(s.isText){const r=s;return{type:r.type,value:r.value}}const n={type:s.type,children:s.children.map(Od)};return s.attrs&&(n.attributes=Er((e=s.attrs)==null?void 0:e.toObject())),n}function Ud(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,r)=>e.getKey().localeCompare(r.getKey())).map(e=>{const r=JSON.parse(e.getValue());return typeof r=="string"?`${e.getKey()}="${r}"`:`${e.getKey()}="${$n(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>Ud(e)).join("")}</${s.type}>`}function R0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(R0),size:s.size,isRemoved:s.isRemoved}}class Fe extends ul{constructor(e,r){super(r);h(this,"indexTree");h(this,"nodeMapByID");this.indexTree=new ww(e),this.nodeMapByID=new k0(pe.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,r){return new Fe(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let l={data:0,meta:0};const[c,d]=e.toTreeNodePair(this);let g=d;const p=c===g,y=g.parent&&!p?g.parent:c;if(g.isText){const[,T]=g.split(this,e.getLeftSiblingID().getOffset()-g.id.getOffset());l=T}if(r){const T=y.allChildren,x=p?0:T.indexOf(g)+1;for(let I=x;I<T.length;I++){const O=T[I];if(!O.id.getCreatedAt().after(r))break;g=O}}return[[y,g],l]}style(e,r,l,c){const d={data:0,meta:0},[[g,p],y]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);ye(d,I,y);const O=[],P=r?Er(r):{},H=[];return this.traverseInPosRange(g,p,T,x,([Y,_])=>{var ct;const ut=Y.getCreatedAt().getActorID();let F=Qo;if(c!=null&&(F=c.get(ut)?c.get(ut):0n),Y.canStyle(l,F)&&r){const W=Y.setAttrs(r,l),tt=W.reduce((At,[,ie])=>(ie&&(At[ie.getKey()]=P[ie.getKey()]),At),{}),yt=Y.parent,wt=Y.prevSibling||Y.parent;Object.keys(tt).length>0&&O.push({type:"style",from:this.toIndex(yt,wt),to:this.toIndex(Y,Y),fromPath:this.toPath(yt,wt),toPath:this.toPath(Y,Y),actor:l.getActorID(),value:tt});for(const[At]of W)At&&H.push({parent:Y,child:At});for(const[At]of Object.entries(P)){const ie=(ct=Y.attrs)==null?void 0:ct.getNodeMapByKey().get(At);ie!==void 0&&_!==Wt.End&&ye(d,ie.getDataSize())}}}),[H,O,d]}removeStyle(e,r,l,c){const d={data:0,meta:0},[[g,p],y]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);ye(d,I,y);const O=[],P=[];return this.traverseInPosRange(g,p,T,x,([H])=>{const Y=H.getCreatedAt().getActorID();let _=Qo;if(c!=null&&(_=c.get(Y)?c.get(Y):0n),H.canStyle(l,_)&&r){H.attrs||(H.attrs=new Dr);for(const ct of r){const W=H.attrs.remove(ct,l);for(const tt of W)P.push({parent:H,child:tt})}const ut=H.parent,F=H.prevSibling||H.parent;O.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(ut,F),to:this.toIndex(H,H),fromPath:this.toPath(ut,F),toPath:this.toPath(H,H),value:r})}}),[P,O,d]}edit(e,r,l,c,d,g){const p={data:0,meta:0},[[y,T],x]=this.findNodesAndSplitText(e[0],c),[[I,O],P]=this.findNodesAndSplitText(e[1],c);ye(p,P,x);const H=this.toIndex(y,T),Y=this.toPath(y,T),_=[],ut=[],F=[];this.traverseInPosRange(y,T,I,O,([tt,yt],wt)=>{if(yt===Wt.Start&&!wt)for(const Le of tt.children)F.push(Le);const At=tt.getCreatedAt().getActorID();let ie=Qo;g!=null&&(ie=g.get(At)?g.get(At):0n),(tt.canDelete(c,ie)||_.includes(tt.parent))&&((yt===Wt.Text||yt===Wt.Start)&&_.push(tt),ut.push([tt,yt]))});const ct=this.makeDeletionChanges(ut,c),W=[];for(const tt of _)tt.remove(c),tt.isRemoved&&W.push({parent:this,child:tt});for(const tt of F)tt.removedAt||y.append(tt);if(l>0){let tt=0,yt=y,wt=T;for(;tt<l;)yt.split(this,yt.findOffset(wt)+1,d),wt=yt,yt=yt.parent,tt++;ct.push({type:"content",from:H,to:H,fromPath:Y,toPath:Y,actor:c.getActorID()})}if(r!=null&&r.length){const tt=[];let yt=T;for(const wt of r)yt===y?y.insertAt(wt,0):y.insertAfter(wt,yt),yt=wt,pc(wt,At=>{y.isRemoved?(At.remove(c),W.push({parent:this,child:At})):ye(p,At.getDataSize()),this.nodeMapByID.put(At.id,At)}),wt.isRemoved||tt.push(wt);if(tt.length){const wt=tt.map(At=>Od(At));ct.length&&ct[ct.length-1].from===H?ct[ct.length-1].value=wt:ct.push({type:"content",from:H,to:H,fromPath:Y,toPath:Y,actor:c.getActorID(),value:wt})}}return[ct,W,p]}editT(e,r,l,c,d){const g=this.findPos(e[0]),p=this.findPos(e[1]);this.edit([g,p],r,l,c,d)}move(e,r,l){throw new C(N.ErrUnimplemented,`not implemented: ${e}, ${r}, ${l}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,l=e.insNextID;if(r){const d=this.findFloorNode(r);d.insNextID=l}if(l){const d=this.findFloorNode(l);d.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const l of r.getGCPairs())e.push(l)}),e}findPos(e,r=!0){const l=this.indexTree.findTreePos(e,r);return On.fromTreePos(l)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Ud(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(l,c=void 0,d=void 0,g=0)=>{var O,P,H,Y;let p,y,T;const x=l.isText?{node:l,offset:0}:c&&d?this.toTreePos(c,d):null;x&&(p=this.indexTree.indexOf(x),y=this.indexTree.treePosToPath(x),T=On.fromTreePos(x).toStruct());const I={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(O=l.removedAt)==null?void 0:O.toTestString(),insPrev:(P=l.insPrevID)==null?void 0:P.toTestString(),insNext:(H=l.insNextID)==null?void 0:H.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?Er((Y=l.attrs)==null?void 0:Y.toObject()):void 0,index:p,path:y,pos:T};for(let _=0;_<l.allChildren.length;_++){const ut=_===0?l:l.allChildren[_-1];I.children.push(r(l.allChildren[_],l,ut,g+1))}return I};return r(e)}getRootTreeNode(){return Od(this.indexTree.getRoot())}toTestTreeNode(){return R0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Fe(e.deepcopy(),this.getCreatedAt())}toPath(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,l]=e,c=this.findPos(r);return r===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[[r,l]]=this.findNodesAndSplitText(e[0]),[[c,d]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,l),this.toPath(c,d)]}posRangeToIndexRange(e){const[[r,l]]=this.findNodesAndSplitText(e[0]),[[c,d]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,l),this.toIndex(c,d)]}traverseInPosRange(e,r,l,c,d){const g=this.toIndex(e,r),p=this.toIndex(l,c);return this.indexTree.tokensBetween(g,p,d)}toTreePos(e,r){if(!e||!r)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const d=e.findOffset(c);return{node:e,offset:d}}if(e===r)return{node:e,offset:0};let l=e.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,r){const l=[],c=[];let d=null,g=null;for(let p=0;p<e.length;p++){const y=e[p],T=e[p+1];d||(d=y),g=y;const x=this.findRightToken(y);(!x||!T||x[0]!==T[0]||x[1]!==T[1])&&(c.push([d,g]),d=null,g=null)}for(const p of c){const[y,T]=p,[x,I]=this.findLeftToken(y),[O,P]=T,H=I===Wt.Start?x:x.parent,Y=P===Wt.Start?O:O.parent,_=this.toIndex(H,x),ut=this.toIndex(Y,O);_<ut&&(l.length>0&&_===l[l.length-1].to?(l[l.length-1].to=ut,l[l.length-1].toPath=this.toPath(Y,O)):l.push({type:"content",from:_,to:ut,fromPath:this.toPath(H,x),toPath:this.toPath(Y,O),actor:r.getActorID()}))}return l.reverse()}findRightToken([e,r]){if(r===Wt.Start){const p=e.allChildren;return p.length>0?[p[0],p[0].isText?Wt.Text:Wt.Start]:[e,Wt.End]}const l=e.parent,c=l.allChildren,d=c.indexOf(e);if(l&&d===c.length-1)return[l,Wt.End];const g=c[d+1];return[g,g.isText?Wt.Text:Wt.Start]}findLeftToken([e,r]){if(r===Wt.End){const p=e.allChildren;if(p.length>0){const y=p[p.length-1];return[y,y.isText?Wt.Text:Wt.End]}return[e,Wt.Start]}const l=e.parent,c=l.allChildren,d=c.indexOf(e);if(l&&d===0)return[l,Wt.Start];const g=c[d-1];return[g,g.isText?Wt.Text:Wt.End]}}class hl extends kn{constructor(e,r,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"contents");h(this,"splitLevel");this.fromPos=r,this.toPos=l,this.contents=c,this.splitLevel=d}static create(e,r,l,c,d,g){return new hl(e,r,l,c,d,g)}execute(e,r,l){var x;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new C(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=this.getExecutedAt(),g=c,[p,y,T]=g.edit([this.fromPos,this.toPos],(x=this.contents)==null?void 0:x.map(I=>I.deepcopy()),this.splitLevel,d,(()=>{let I=d.getDelimiter();return this.contents!==void 0&&(I+=this.contents.length),()=>Tn.of(d.getLamport(),++I,d.getActorID())})(),l);e.acc(T);for(const I of y)e.registerGCPair(I);return{opInfos:p.map(({from:I,to:O,value:P,splitLevel:H,fromPath:Y,toPath:_})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:I,to:O,value:P,splitLevel:H,fromPath:Y,toPath:_}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${r},${l},${c.map(d=>Ud(d)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Rs{constructor(n){h(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[r,l]of n){const c=this.vector.get(r),d=c&&c>l?c:l;e.set(r,d)}for(const[r,l]of this){const c=n.get(r),d=c&&c>l?c:l;e.set(r,d)}return new Rs(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,r]of this.vector)n.set(e,r);return new Rs(n)}filter(n){const e=new Map;for(const[r]of n){const l=this.vector.get(r);l!==void 0&&e.set(r,l)}return new Rs(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const B0=new Rs(new Map);class Nn{constructor(n,e,r,l,c){h(this,"clientSeq");h(this,"serverSeq");h(this,"actor");h(this,"lamport");h(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=xd}static of(n,e,r,l,c){return new Nn(n,e,r,l,c)}next(n=!1){if(n)return new Nn(this.clientSeq+1,this.lamport,this.actor,B0,xd);const e=this.versionVector.deepcopy();return e.set(this.actor,this.lamport+1n),new Nn(this.clientSeq+1,this.lamport+1n,this.actor,e)}syncClocks(n){if(!n.hasClocks())return this;const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,r=this.versionVector.max(n.versionVector),l=new Nn(this.clientSeq,e,this.actor,r);return l.versionVector.set(this.actor,e),l}setClocks(n,e){const r=n>this.lamport?n+1n:this.lamport+1n;e.unset(yc);const l=this.versionVector.max(e);return l.set(this.actor,r),Nn.of(this.clientSeq,r,this.actor,l)}createTimeTicket(n){return Tn.of(this.lamport,n,this.actor)}setActor(n){return new Nn(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new Nn(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new Nn(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const Nw=new Nn(0,0n,yc,B0);class Ps{constructor({id:n,operations:e,presenceChange:r,message:l}){h(this,"id");h(this,"operations");h(this,"presenceChange");h(this,"message");this.id=n,this.operations=e||[],this.presenceChange=r,this.message=l}static create({id:n,operations:e,presenceChange:r,message:l}){return new Ps({id:n,operations:e,presenceChange:r,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,r){const l=[],c=[];for(const d of this.operations){const g=d.execute(n,r,this.id.getVersionVector());if(!g)continue;const{opInfos:p,reverseOp:y}=g;l.push(...p),y&&c.unshift(y)}return this.presenceChange&&(this.presenceChange.type===Fn.Put?e.set(this.id.getActorID(),xn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Zt.bytesToHex(Zt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Zt.bytesToHex(Zt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:r,presenceChange:l,message:c}=n;return Ps.create({id:Zt.bytesToChangeID(Zt.hexToBytes(e)),operations:r==null?void 0:r.map(d=>Zt.bytesToOperation(Zt.hexToBytes(d))),presenceChange:l,message:c})}}class vc{constructor(n,e,r,l,c,d){h(this,"documentKey");h(this,"checkpoint");h(this,"isRemoved");h(this,"changes");h(this,"snapshot");h(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=r,this.changes=l,this.snapshot=d,this.versionVector=c}static create(n,e,r,l,c,d){return new vc(n,e,r,l,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Bs{constructor(n,e){h(this,"serverSeq");h(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Bs(n,e)}increaseClientSeq(n){return n===0?this:new Bs(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,r=Math.max(this.clientSeq,n.clientSeq);return Bs.of(e,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Dw=new Bs(0n,0);class Qn{constructor(n,e){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new Qn(n,e)}static fromStruct(n){return Qn.of(Tn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Qn(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Ow=Qn.of(Ls,0);class Cn{constructor(n,e){h(this,"id");h(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new Cn(n,e)}static fromStruct(n){const e=Qn.fromStruct(n.id);return Cn.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Qn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class oa extends b0{constructor(e,r,l){super(r);h(this,"id");h(this,"removedAt");h(this,"prev");h(this,"next");h(this,"insPrev");h(this,"insNext");this.id=e,this.removedAt=l}static create(e,r){return new oa(e,r)}static createComparator(){return(e,r)=>{const l=e.getCreatedAt().compare(r.getCreatedAt());return l!==0?l:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new oa(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,r){const l=!this.removedAt;return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))?l:!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Cn.of(this.id,0),Cn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Xn),this.removedAt&&(e.meta+=Xn),e}deepcopy(){return new oa(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Vs{constructor(){h(this,"head");h(this,"treeByIndex");h(this,"treeByID");this.head=oa.create(Ow),this.treeByIndex=new rl,this.treeByID=new k0(oa.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Vs}edit(n,e,r,l){const c={data:0,meta:0},[d,g,p]=this.findNodeWithSplit(n[1],e),[y,T,x]=this.findNodeWithSplit(n[0],e);ye(c,g,T);const I=this.findBetween(x,p),[O,P]=this.deleteNodes(I,e,l),H=p?p.getID():d.getID();let Y=Cn.of(H,0);if(r){const ut=this.posToIndex(y.createPosRange()[1],!0),F=this.insertAfter(y,oa.create(Qn.of(e,0),r));ye(c,F.getDataSize()),O.length&&O[O.length-1].from===ut?O[O.length-1].value=r:O.push({actor:e.getActorID(),from:ut,to:ut,value:r}),Y=Cn.of(F.getID(),F.getContentLength())}const _=[];for(const[,ut]of P)_.push({parent:this,child:ut});return[Y,_,c,O]}indexToPos(n){const[e,r]=this.treeByIndex.find(n),l=e;return Cn.of(l.getID(),r)}findIndexesFromRange(n){const[e,r]=n;return[this.posToIndex(e,!1),this.posToIndex(r,!0)]}posToIndex(n,e){const r=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!l)throw new C(N.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(l),d=l.isRemoved()?0:r.getOffset()-l.getID().getOffset();return c+d}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Vs;let e=this.head.getNext(),r=n.head,l;for(;e;){if(l=n.insertAfter(r,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}r=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const r=n.getNext();return e.setPrev(n),r&&r.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const r=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-l.getID().getOffset(),[,d]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,d,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new C(N.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const r=[];let l=n;for(;l&&l!==e;)r.push(l),l=l.getNext();return r}splitNode(n,e){const r={data:0,meta:0};if(e>n.getContentLength())throw new C(N.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return[n,r];if(e===n.getContentLength())return[n.getNext(),r];const l=n.getDataSize(),c=n.split(e);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const d=n.getInsNext();return d&&d.setInsPrev(c),c.setInsPrev(n),ye(r,n.getDataSize(),c.getDataSize()),ks(r,l),[c,r]}deleteNodes(n,e,r){if(!n.length)return[[],new Map];const[l,c]=this.filterNodes(n,e,r),d=new Map,g=this.makeChanges(c,e);for(const p of l)d.set(p.getID().toIDString(),p),p.remove(e);return this.deleteIndexNodes(c),[g,d]}filterNodes(n,e,r){const l=[],c=[],[d,g]=this.findEdgesOfCandidates(n);c.push(d);for(const p of n){const y=p.getCreatedAt().getActorID();let T=Qo;r!=null&&(T=r.get(y)?r.get(y):0n),p.canDelete(e,T)?l.push(p):c.push(p)}return c.push(g),[l,c]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const r=[];let l,c;for(let d=0;d<n.length-1;d++){const g=n[d],p=n[d+1];g.getNext()!=p&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&r.push({actor:e.getActorID(),from:l,to:c}))}return r.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const r=n[e],l=n[e+1];r.getNext()!=l&&this.treeByIndex.deleteRange(r,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),r=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(r),r&&r.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const Pv=s=>s<0?Math.ceil(s):Math.floor(s);var _n=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(_n||{});class Me extends ul{constructor(e,r,l){super(l);h(this,"valueType");h(this,"value");switch(this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=Tt.fromNumber(r).toInt():this.value=Pv(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=Tt.fromNumber(r):this.value=r;break;default:throw new C(N.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,l){return new Me(e,r,l)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return Tt.fromBytesLE(Array.from(r));default:throw new C(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Me.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Tt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Me.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new C(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===qt.Long?this.value=this.value+e.getValue().toInt():this.value=Tt.fromNumber(this.value+Pv(e.getValue())).toInt(),this}}class Hs extends kn{constructor(e,r,l){super(e,l);h(this,"value");this.value=r}static create(e,r,l){return new Hs(e,r,l)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Me))throw new C(N.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=r,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===qt.Long?e.getValue().multiply(-1):e.getValue()*-1;return Hs.create(this.getParentCreatedAt(),Gt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class xr extends kn{constructor(e,r,l,c,d,g){super(e,g);h(this,"fromPos");h(this,"toPos");h(this,"attributes");h(this,"attributesToRemove");this.fromPos=r,this.toPos=l,this.attributes=c,this.attributesToRemove=d}static create(e,r,l,c,d){return new xr(e,r,l,c,[],d)}static createTreeRemoveStyleOperation(e,r,l,c,d){return new xr(e,r,l,new Map,c,d)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new C(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=c;let g,p,y={data:0,meta:0};if(this.attributes.size){const T={};[...this.attributes].forEach(([x,I])=>T[x]=I),[p,g,y]=d.style([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}else{const T=this.attributesToRemove;[p,g,y]=d.removeStyle([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}e.acc(y);for(const T of p)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I,fromPath:O,toPath:P})=>({type:"tree-style",from:T,to:x,value:this.attributes.size?{attributes:I}:{attributesToRemove:I},fromPath:O,toPath:P,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${l},${Object.entries(this.attributes||{}).map(([c,d])=>`${c}:"${d}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function Cw(s){const n=new mc,e=n.data;for(const[r,l]of Object.entries(s))e[r]=JSON.stringify(l);return n}function kw(s){if(s.type===Fn.Put)return new nl({type:Ma.PUT,presence:Cw(s.presence)});if(s.type===Fn.Clear)return new nl({type:Ma.CLEAR});throw new C(N.ErrUnimplemented,"unimplemented type")}function Rw(s){return new S0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function I0(s){return new dc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Tc(s.getActorID()),versionVector:Ld(s.getVersionVector())})}function nt(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Tc(s.getActorID())})}function Ld(s){if(!s)return;const n=new gc;for(const[e,r]of s){const l=dA(Tc(e));n.vector[l]=BigInt(r.toString())}return n}function z0(s){switch(s){case qt.Null:return ht.NULL;case qt.Boolean:return ht.BOOLEAN;case qt.Integer:return ht.INTEGER;case qt.Long:return ht.LONG;case qt.Double:return ht.DOUBLE;case qt.String:return ht.STRING;case qt.Bytes:return ht.BYTES;case qt.Date:return ht.DATE;default:throw new C(N.ErrInvalidType,`unsupported type: ${s}`)}}function M0(s){switch(s){case _n.Int:return ht.INTEGER_CNT;case _n.Long:return ht.LONG_CNT;default:throw new C(N.ErrInvalidType,`unsupported type: ${s}`)}}function Xh(s){if(s instanceof we)return new ln({type:ht.JSON_OBJECT,createdAt:nt(s.getCreatedAt()),value:X0(s)});if(s instanceof Ne)return new ln({type:ht.JSON_ARRAY,createdAt:nt(s.getCreatedAt()),value:uA(s)});if(s instanceof Qe)return new ln({type:ht.TEXT,createdAt:nt(s.getCreatedAt())});if(s instanceof Gt)return new ln({type:z0(s.getType()),createdAt:nt(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Me)return new ln({type:M0(s.getType()),createdAt:nt(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Fe)return new ln({type:ht.TREE,createdAt:nt(s.getCreatedAt()),value:fA(s)});throw new C(N.ErrUnimplemented,"unimplemented element")}function Bw(s){return new tl({createdAt:nt(s.getCreatedAt()),offset:s.getOffset()})}function Cu(s){return new Ua({createdAt:nt(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function ku(s){return new za({parentId:Fo(s.getParentID()),leftSiblingId:Fo(s.getLeftSiblingID())})}function Fo(s){return new aa({createdAt:nt(s.getCreatedAt()),offset:s.getOffset()})}function U0(s){const n=new Id;if(s instanceof La){const e=s,r=new Hu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.key=e.getKey(),r.value=Xh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="set",n.body.value=r}else if(s instanceof js){const e=s,r=new ju;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.prevCreatedAt=nt(e.getPrevCreatedAt()),r.value=Xh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="add",n.body.value=r}else if(s instanceof Ar){const e=s,r=new Yu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.prevCreatedAt=nt(e.getPrevCreatedAt()),r.createdAt=nt(e.getCreatedAt()),r.executedAt=nt(e.getExecutedAt()),n.body.case="move",n.body.value=r}else if(s instanceof Nr){const e=s,r=new Gu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.createdAt=nt(e.getCreatedAt()),r.executedAt=nt(e.getExecutedAt()),n.body.case="remove",n.body.value=r}else if(s instanceof cl){const e=s,r=new Ku;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=Cu(e.getFromPos()),r.to=Cu(e.getToPos()),r.content=e.getContent();const l=r.attributes;for(const[c,d]of e.getAttributes())l[c]=d;r.executedAt=nt(e.getExecutedAt()),n.body.case="edit",n.body.value=r}else if(s instanceof fl){const e=s,r=new $u;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=Cu(e.getFromPos()),r.to=Cu(e.getToPos());const l=r.attributes;for(const[c,d]of e.getAttributes())l[c]=d;r.executedAt=nt(e.getExecutedAt()),n.body.case="style",n.body.value=r}else if(s instanceof Hs){const e=s,r=new Xu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.value=Xh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="increase",n.body.value=r}else if(s instanceof hl){const e=s,r=new Zu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=ku(e.getFromPos()),r.to=ku(e.getToPos()),r.contents=Jw(e.getContents()),r.splitLevel=e.getSplitLevel(),r.executedAt=nt(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=r}else if(s instanceof xr){const e=s,r=new Qu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=ku(e.getFromPos()),r.to=ku(e.getToPos());const l=e.getAttributesToRemove();if(l.length>0)r.attributesToRemove=l;else{const c=r.attributes;for(const[d,g]of e.getAttributes())c[d]=g}r.executedAt=nt(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=r}else throw new C(N.ErrUnimplemented,"unimplemented operation");return n}function Iw(s){const n=[];for(const e of s)n.push(U0(e));return n}function zw(s){const n=new p0({id:I0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=Iw(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=kw(s.getPresenceChange())),n}function Mw(s){const n=[];for(const e of s)n.push(zw(e));return n}function Uw(s){const n=[];for(const e of s)n.push(new v0({key:e.getStrKey(),element:Jd(e.getValue())}));return n}function Lw(s){const n=[];for(const e of s)n.push(new ic({element:Jd(e.getValue())}));return n}function qw(s){const n=[];for(const e of s){const r=new rc;r.id=Bw(e.getID()),r.value=e.getValue().getContent(),r.removedAt=nt(e.getRemovedAt());const l=r.attributes,c=e.getValue().getAttrs();for(const d of c){const g=new Us;g.value=d.getValue(),g.updatedAt=nt(d.getUpdatedAt()),l[d.getKey()]=g}n.push(r)}return n}function Jw(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new ac({content:qd(e)}));return n}function Pw(s){const n={};for(const e of s)n[e.getKey()]=new Us({value:e.getValue(),updatedAt:nt(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function qd(s){if(!s)return[];const n=[];return pc(s,(e,r)=>{const l=new el({id:Fo(e.id),type:e.type,removedAt:nt(e.removedAt),depth:r});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=Fo(e.insPrevID)),e.insNextID&&(l.insNextId=Fo(e.insNextID)),e.attrs&&(l.attributes=Pw(e.attrs)),n.push(l)}),n}function Vw(s){const n=new Ue;return n.body.case="jsonObject",n.body.value=new Fu({nodes:Uw(s.getRHT()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function L0(s){const n=new Ue;return n.body.case="jsonArray",n.body.value=new _u({nodes:Lw(s.getElements()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function Hw(s){const n=new Ue;return n.body.case="primitive",n.body.value=new Wu({type:z0(s.getType()),value:s.toBytes(),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function jw(s){const n=new Ue;return n.body.case="text",n.body.value=new tc({nodes:qw(s.getRGATreeSplit()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function Yw(s){const n=new Ue;return n.body.case="counter",n.body.value=new ec({type:M0(s.getType()),value:s.toBytes(),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function q0(s){const n=new Ue;return n.body.case="tree",n.body.value=new nc({nodes:qd(s.getRoot()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function Jd(s){if(s instanceof we)return Vw(s);if(s instanceof Ne)return L0(s);if(s instanceof Gt)return Hw(s);if(s instanceof Qe)return jw(s);if(s instanceof Me)return Yw(s);if(s instanceof Fe)return q0(s);throw new C(N.ErrUnimplemented,"unimplemented element")}function Gw(s){return new Or({documentKey:s.getDocumentKey(),checkpoint:Rw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:Mw(s.getChanges()),snapshot:s.getSnapshot(),versionVector:Ld(s.getVersionVector())})}function $o(s){if(!(s instanceof Ot))return{};const n=s.findDetails(lw);for(const e of n)return e.metadata;return{}}function ea(s){return $o(s).code??""}function J0(s){return Nn.of(s.clientSeq,BigInt(s.lamport),Yd(s.actorId),Pd(s.versionVector),BigInt(s.serverSeq))}function Pd(s){if(!s)return;const n=new Rs;return Object.entries(s.vector).forEach(([e,r])=>{const l=Sc(hA(e));n.set(l,BigInt(r.toString()))}),n}function it(s){if(s)return Tn.of(BigInt(s.lamport),s.delimiter,Yd(s.actorId))}function Vd(s){const n={};return Object.entries(s.data).forEach(([e,r])=>{n[e]=JSON.parse(r)}),n}function Kw(s){const n=s.type;if(n===Ma.PUT){const e=Vd(s.presence);return{type:Fn.Put,presence:e}}if(n===Ma.CLEAR)return{type:Fn.Clear};throw new C(N.ErrInvalidType,`unsupported type: ${n}`)}function $w(s){const n=new Map;return Object.entries(s).forEach(([e,r])=>{n.set(e,Vd(r))}),n}function P0(s){switch(s){case ht.NULL:return qt.Null;case ht.BOOLEAN:return qt.Boolean;case ht.INTEGER:return qt.Integer;case ht.LONG:return qt.Long;case ht.DOUBLE:return qt.Double;case ht.STRING:return qt.String;case ht.BYTES:return qt.Bytes;case ht.DATE:return qt.Date}throw new C(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function cc(s){switch(s){case ht.INTEGER_CNT:return _n.Int;case ht.LONG_CNT:return _n.Long}throw new C(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function Zh(s){switch(s.type){case ht.JSON_OBJECT:return s.value?$0(s.value):we.create(it(s.createdAt));case ht.JSON_ARRAY:return s.value?lA(s.value):Ne.create(it(s.createdAt));case ht.TEXT:return Qe.create(Vs.create(),it(s.createdAt));case ht.TREE:return cA(s.value);case ht.NULL:case ht.BOOLEAN:case ht.INTEGER:case ht.LONG:case ht.DOUBLE:case ht.STRING:case ht.BYTES:case ht.DATE:return Gt.of(Gt.valueFromBytes(P0(s.type),s.value),it(s.createdAt));case ht.INTEGER_CNT:case ht.LONG_CNT:return Me.create(cc(s.type),Me.valueFromBytes(cc(s.type),s.value),it(s.createdAt))}}function Ru(s){return Cn.of(Qn.of(it(s.createdAt),s.offset),s.relativeOffset)}function V0(s){return Qn.of(it(s.createdAt),s.offset)}function Xw(s){const n=sl.create(s.value);Object.entries(s.attributes).forEach(([r,l])=>{n.setAttr(r,l.value,it(l.updatedAt))});const e=oa.create(V0(s.id),n);return e.remove(it(s.removedAt)),e}function Ns(s){return On.of(_o(s.parentId),_o(s.leftSiblingId))}function _o(s){return pe.of(it(s.createdAt),s.offset)}function Zw(s){if(!s.length)return;const n=[];return s.forEach(e=>{const r=Hd(e.content);n.push(r)}),n}function Hd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(Fw(l));const e=n[n.length-1],r=new Map;r.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)r.get(s[l].depth-1).prepend(n[l]),r.set(s[l].depth,n[l]);return e.updateDescendantsSize(),Fe.create(e,Ls).getRoot()}function Qw(s){const n=Dr.create();for(const[e,r]of Object.entries(s))n.setInternal(e,r.value,it(r.updatedAt),r.isRemoved);return n}function Fw(s){const n=_o(s.id),e=Ze.create(n,s.type),r=Object.entries(s.attributes);return e.isText?e.value=s.value:r.length&&(e.attrs=Qw(s.attributes)),s.insPrevId&&(e.insPrevID=_o(s.insPrevId)),s.insNextId&&(e.insNextID=_o(s.insNextId)),e.removedAt=it(s.removedAt),e}function H0(s){if(s.body.case==="set"){const n=s.body.value;return La.create(n.key,Zh(n.value),it(n.parentCreatedAt),it(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return js.create(it(n.parentCreatedAt),it(n.prevCreatedAt),Zh(n.value),it(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Ar.create(it(n.parentCreatedAt),it(n.prevCreatedAt),it(n.createdAt),it(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return Nr.create(it(n.parentCreatedAt),it(n.createdAt),it(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),cl.create(it(n.parentCreatedAt),Ru(n.from),Ru(n.to),n.content,e,it(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),fl.create(it(n.parentCreatedAt),Ru(n.from),Ru(n.to),e,it(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return Hs.create(it(n.parentCreatedAt),Zh(n.value),it(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return hl.create(it(n.parentCreatedAt),Ns(n.from),Ns(n.to),Zw(n.contents),n.splitLevel,it(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,r=n.attributesToRemove;return(r==null?void 0:r.length)>0?xr.createTreeRemoveStyleOperation(it(n.parentCreatedAt),Ns(n.from),Ns(n.to),r,it(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{e.set(l,c)}),xr.create(it(n.parentCreatedAt),Ns(n.from),Ns(n.to),e,it(n.executedAt)))}else throw new C(N.ErrUnimplemented,"unimplemented operation")}function _w(s){const n=[];for(const e of s){const r=H0(e);r&&n.push(r)}return n}function j0(s){const n=[];for(const e of s)n.push(Ps.create({id:J0(e.id),operations:_w(e.operations),presenceChange:e.presenceChange?Kw(e.presenceChange):void 0,message:e.message}));return n}function Ww(s){return Bs.of(BigInt(s.serverSeq),s.clientSeq)}function tA(s){return vc.create(s.documentKey,Ww(s.checkpoint),s.isRemoved,j0(s.changes),Pd(s.versionVector),s.snapshot)}function Y0(s){const n=new il;for(const r of s.nodes){const l=jd(r.element);n.set(r.key,l,l.getPositionedAt())}const e=new we(it(s.createdAt),n);return e.setMovedAt(it(s.movedAt)),e.setRemovedAt(it(s.removedAt)),e}function G0(s){const n=new al;for(const r of s.nodes)n.insert(jd(r.element));const e=new Ne(it(s.createdAt),n);return e.setMovedAt(it(s.movedAt)),e.setRemovedAt(it(s.removedAt)),e}function eA(s){const n=Gt.of(Gt.valueFromBytes(P0(s.type),s.value),it(s.createdAt));return n.setMovedAt(it(s.movedAt)),n.setRemovedAt(it(s.removedAt)),n}function nA(s){const n=new Vs;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,Xw(l));l.insPrevId&&c.setInsPrev(n.findNode(V0(l.insPrevId))),e=c}const r=new Qe(n,it(s.createdAt));return r.setMovedAt(it(s.movedAt)),r.setRemovedAt(it(s.removedAt)),r}function iA(s){const n=Me.create(cc(s.type),Me.valueFromBytes(cc(s.type),s.value),it(s.createdAt));return n.setMovedAt(it(s.movedAt)),n.setRemovedAt(it(s.removedAt)),n}function K0(s){const n=Hd(s.nodes);return Fe.create(n,it(s.createdAt))}function jd(s){if(s.body.case==="jsonObject")return Y0(s.body.value);if(s.body.case==="jsonArray")return G0(s.body.value);if(s.body.case==="primitive")return eA(s.body.value);if(s.body.case==="text")return nA(s.body.value);if(s.body.case==="counter")return iA(s.body.value);if(s.body.case==="tree")return K0(s.body.value);throw new C(N.ErrUnimplemented,"unimplemented element")}function rA(s){return s.map(n=>({path:n.path,type:n.type}))}function aA(s){if(!s)return{root:we.create(Ls),presences:new Map};const n=td.fromBinary(s);return{root:jd(n.root),presences:$w(n.presences)}}function sA(s){const n=Ld(s);return Sc(n.toBinary())}function oA(s){const n=Gd(s),e=gc.fromBinary(n);return Pd(e)}function $0(s){if(!s)throw new C(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return Y0(n.body.value)}function X0(s){return Jd(s).toBinary()}function lA(s){if(!s)throw new C(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return G0(n.body.value)}function uA(s){return L0(s).toBinary()}function cA(s){if(!s)throw new C(N.ErrInvalidArgument,"bytes is empty");const n=Ue.fromBinary(s);return K0(n.body.value)}function fA(s){return q0(s).toBinary()}function Sc(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Yd(s){return Sc(s)}function Gd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function hA(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),e=n.length,r=new Uint8Array(e);for(let l=0;l<e;l++)r[l]=n.charCodeAt(l);return r}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function Tc(s){return Gd(s)}function dA(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let e=0;e<s.byteLength;e++)n+=String.fromCharCode(s[e]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function gA(s){const n=dc.fromBinary(s);return J0(n)}function mA(s){const n=Id.fromBinary(s);return H0(n)}const Zt={fromPresence:Vd,toChangePack:Gw,fromChangePack:tA,fromChanges:j0,toTreeNodes:qd,fromTreeNodes:Hd,objectToBytes:X0,bytesToObject:$0,bytesToSnapshot:aA,bytesToHex:Sc,hexToBytes:Gd,toHexString:Yd,toUint8Array:Tc,toOperation:U0,toChangeID:I0,PbChangeID:dc,bytesToChangeID:gA,bytesToOperation:mA,versionVectorToHex:sA,hexToVersionVector:oA,fromSchemaRules:rA};var Be=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Be||{});let Ca=3;function yA(s){Ca=s}const et={trivial:(...s)=>{Ca>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Ca>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Ca>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Ca>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Ca>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Ca<=s};function Z0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class pA{constructor(n,e,r,l,c){h(this,"reconnectStreamDelay");h(this,"doc");h(this,"docID");h(this,"syncMode");h(this,"remoteChangeEventReceived");h(this,"watchStream");h(this,"watchLoopTimerID");h(this,"watchAbortController");h(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=r,this.syncMode=l,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===Ju.RealtimeSyncOff?!1:this.syncMode===Ju.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Ju.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function vA(s,n){const e=[];for(const r of n){const l=SA(s,r.path),c=TA(l,r);if(!c.valid)for(const d of c.errors||[])e.push(d)}return{valid:e.length===0,errors:e}}function SA(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const e=n.split(".");let r=s;for(let l=1;l<e.length;l++){const c=e[l];if(!(r instanceof we))return;r=r.get(c)}return r}function TA(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return wA(s,n);case"object":if(!(s instanceof we))return{valid:!1,errors:[{path:n.path,message:`Expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof Ne))return{valid:!1,errors:[{path:n.path,message:`Expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Fe))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Me))return{valid:!1,errors:[{path:n.path,message:`Expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function bA(s){switch(s){case"null":return qt.Null;case"boolean":return qt.Boolean;case"integer":return qt.Integer;case"long":return qt.Long;case"double":return qt.Double;case"string":return qt.String;case"bytes":return qt.Bytes;case"date":return qt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function wA(s,n){return s instanceof Gt&&s.getType()===bA(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`Expected ${n.type} at path ${n.path}`}]}}const Qh=()=>{};class AA{constructor(n){h(this,"finalized",!1);h(this,"observers",[]);h(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,r){let l;if(!n)throw new C(N.ErrInvalidArgument,"missing observer");if(this.finalized)throw new C(N.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:r},l.next===void 0&&(l.next=Qh),l.error===void 0&&(l.error=Qh),l.complete===void 0&&(l.complete=Qh);const c=Z0(),d=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){et.warn(g)}return d}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(r=>r.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(r){et.error(r)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function EA(s){const n=new AA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class Cs{constructor(n,e,r,l){h(this,"prevID");h(this,"nextID");h(this,"delimiter");h(this,"message");h(this,"root");h(this,"operations");h(this,"presenceChange");h(this,"previousPresence");h(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=T0,this.root=e,this.operations=[],this.previousPresence=xn(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,r,l){return new Cs(n,e,r,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ps.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const r of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}class ol{constructor(n){h(this,"rootObject");h(this,"elementPairMapByCreatedAt");h(this,"gcElementSetByCreatedAt");h(this,"gcPairMap");h(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof Qe||e instanceof Fe)for(const r of e.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new ol(we.create(Ls))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const r=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new C(N.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);r.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),ye(this.docSize.live,n.getDataSize()),n instanceof sa&&n.getDescendants((r,l)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:l,element:r}),ye(this.docSize.live,r.getDataSize()),!1))}deregisterElement(n){let e=0;const r=l=>{const c=l.getCreatedAt().toIDString();ks(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return r(n),n instanceof sa&&n.getDescendants(l=>(r(l),!1)),e}registerRemovedElement(n){ye(this.docSize.gc,n.getDataSize()),ks(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Xn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const r=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ye(this.docSize.gc,r),ks(this.docSize.live,r),n.child instanceof ra||(this.docSize.live.meta+=Xn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const r=this.elementPairMapByCreatedAt.get(e);r.element instanceof sa&&r.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new ol(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const r of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(r),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,r]of this.gcPairMap){const l=r.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(r.parent.purge(r.child),this.gcPairMap.delete(r.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ye(this.docSize.live,n)}}function Q0(s,n){const e=new ll(s);return new Proxy(n,e.getHandlers())}class ll{constructor(n){h(this,"context");h(this,"handlers");this.context=n,this.handlers={set:(e,r,l)=>(et.isEnabled(Be.Trivial)&&et.trivial(`obj[${r}]=${JSON.stringify(l)}`),ll.setInternal(n,e,r,l),!0),get:(e,r)=>(et.isEnabled(Be.Trivial)&&et.trivial(`obj[${r}]`),r==="getID"?()=>e.getCreatedAt():r==="toJSON"||r==="toString"?()=>e.toJSON():r==="toJS"?()=>e.toJS():r==="toJSForTest"?()=>e.toJSForTest():ka(n,e.get(r))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,r)=>(et.isEnabled(Be.Trivial)&&et.trivial(`obj[${r}]`),ll.deleteInternal(n,e,r),!0)}}static setInternal(n,e,r,l){if(r.includes("."))throw new C(N.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),d=fc(n,l,c),g=e.set(r,d,c);n.registerElement(d,e),g&&n.registerRemovedElement(g),n.push(La.create(r,d.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const r={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new C(N.ErrInvalidObjectKey,"key must not contain the '.'.");const d=n.issueTimeTicket(),g=fc(n,c,d);r[l]=g}return r}static deleteInternal(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByKey(r,l);c&&(n.push(Nr.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function xA(s,n){const e=new Xt(s,n);return new Proxy(n,e.getHandlers())}function NA(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function DA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Xt{constructor(n,e){h(this,"context");h(this,"handlers");h(this,"array");this.context=n,this.array=e,this.handlers={get:(r,l,c)=>l==="getID"?()=>r.getCreatedAt():l==="getElementByID"?d=>{const g=r.getByID(d);if(!(!g||g.isRemoved()))return na(n,g)}:l==="getElementByIndex"?d=>{const g=r.get(d);return na(n,g)}:l==="getLast"?()=>na(n,r.getLast()):l==="deleteByID"?d=>{const g=Xt.deleteInternalByID(n,r,d);return na(n,g)}:l==="insertAfter"?(d,g)=>{const p=Xt.insertAfterInternal(n,r,d,g);return na(n,p)}:l==="insertBefore"?(d,g)=>{const p=Xt.insertBeforeInternal(n,r,d,g);return na(n,p)}:l==="moveBefore"?(d,g)=>{Xt.moveBeforeInternal(n,r,d,g)}:l==="moveAfter"?(d,g)=>{Xt.moveAfterInternal(n,r,d,g)}:l==="moveFront"?d=>{Xt.moveFrontInternal(n,r,d)}:l==="moveLast"?d=>{Xt.moveLastInternal(n,r,d)}:NA(l)?ka(n,r.get(Number(l))):l==="push"?d=>Xt.pushInternal(n,r,d):l==="splice"?(d,g,...p)=>Xt.splice(n,r,d,g,...p):l==="length"?r.length:typeof l=="symbol"&&l===Symbol.iterator?Xt.iteratorInternal.bind(this,n,r):l==="includes"?(d,g)=>Xt.includes(n,r,d,g):l==="indexOf"?(d,g)=>Xt.indexOf(n,r,d,g):l==="lastIndexOf"?(d,g)=>Xt.lastIndexOf(n,r,d,g):l==="toJSForTest"?()=>r.toJSForTest():l==="toTestString"?()=>Xt.toTestString(r):typeof l=="string"&&DA(l)?(...d)=>{const g=Array.from(r).map(p=>ka(n,p));return Array.prototype[l].apply(g,d)}:Reflect.get(r,l,c),deleteProperty:(r,l)=>(et.isEnabled(Be.Trivial)&&et.trivial(`array[${l}]`),Xt.deleteInternalByIndex(n,r,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const r of e)yield na(n,r)}static buildArrayElements(n,e){const r=[];for(const l of e){const c=n.issueTimeTicket(),d=fc(n,l,c);r.push(d)}return r}static pushInternal(n,e,r){return Xt.insertAfterInternal(n,e,e.getLastCreatedAt(),r),e.length}static moveBeforeInternal(n,e,r,l){const c=n.issueTimeTicket(),d=e.getPrevCreatedAt(r);e.moveAfter(d,l,c),n.push(Ar.create(e.getCreatedAt(),d,l,c))}static moveAfterInternal(n,e,r,l){const c=n.issueTimeTicket();e.moveAfter(r,l,c),n.push(Ar.create(e.getCreatedAt(),r,l,c))}static moveFrontInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),r,l),n.push(Ar.create(e.getCreatedAt(),c.getCreatedAt(),r,l))}static moveLastInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,r,l),n.push(Ar.create(e.getCreatedAt(),c,r,l))}static insertAfterInternal(n,e,r,l){const c=n.issueTimeTicket(),d=fc(n,l,c);return e.insertAfter(r,d),n.registerElement(d,e),n.push(js.create(e.getCreatedAt(),r,d.deepcopy(),c)),d}static insertBeforeInternal(n,e,r,l){return Xt.insertAfterInternal(n,e,e.getPrevCreatedAt(r),l)}static deleteInternalByIndex(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByIndex(r,l);if(c)return n.push(Nr.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,r){const l=n.issueTimeTicket(),c=e.delete(r,l);return n.push(Nr.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,r,l,...c){const d=e.length,g=r>=0?Math.min(r,d):Math.max(d+r,0),p=l===void 0?d:l<0?g:Math.min(g+l,d),y=[];for(let T=g;T<p;T++){const x=Xt.deleteInternalByIndex(n,e,g);if(x){const I=x.deepcopy();I.setRemovedAt(),y.push(ka(n,I))}}if(c){let T=g===0?e.getHead().getID():e.get(g-1).getID();for(const x of c)T=Xt.insertAfterInternal(n,e,T,x).getID()}return y}static includes(n,e,r,l){var g;const c=e.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return!1;if(Gt.isSupport(r))return Array.from(e).map(y=>ka(n,y)).includes(r,d);for(let p=d;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return!0;return!1}static indexOf(n,e,r,l){var g;const c=e.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return-1;if(Gt.isSupport(r))return Array.from(e).map(y=>ka(n,y)).indexOf(r,d);for(let p=d;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return p;return-1}static lastIndexOf(n,e,r,l){var g;const c=e.length,d=l===void 0||l>=c?c-1:l<0?l+c:l;if(d<0)return-1;if(Gt.isSupport(r))return Array.from(e).map(y=>ka(n,y)).lastIndexOf(r,d);for(let p=d;p>0;p--)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Kd{constructor(n,e){h(this,"context");h(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,r,l){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);et.isEnabled(Be.Debug)&&et.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${r}`);const d=l?Js(l):void 0,g=this.context.issueTimeTicket(),[,p,y,T]=this.text.edit(c,r,g,d);this.context.acc(y);for(const x of p)this.context.registerGCPair(x);return this.context.push(new cl(this.text.getCreatedAt(),c[0],c[1],r,d?new Map(Object.entries(d)):new Map,g)),this.text.findIndexesFromRange(T)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,r){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);et.isEnabled(Be.Debug)&&et.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(r)}`);const c=Js(r),d=this.context.issueTimeTicket(),[g,p]=this.text.setStyle(l,c,d);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);return this.context.push(new fl(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),d)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Cn.fromStruct(n[0]),Cn.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new C(N.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let $d=class{constructor(n,e){h(this,"valueType");h(this,"value");h(this,"context");h(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new C(N.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),r=Gt.of(n,e);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Hs.create(this.counter.getCreatedAt(),r,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new C(N.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Xd(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(e=>Xd(e))};return s.attrs&&(n.attributes=Er(s.attrs.toObject())),n}function OA(s,n){const e={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Zn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(r=>Xd(r))};return s.attrs?e.attributes=Er(s.attrs.toObject()):s.isText&&s.parent.attrs&&(e.attributes=Er(s.parent.attrs.toObject())),e}function CA(s,n){const{node:e}=s,r=[...n].slice(0,-1),l=e.isText?e.parent.getChildrenText().length:e.children.length,c=[...r,l],d=[...r],g=[];d[d.length-1]+=1,n.every((y,T)=>y===c[T])||g.push({fromPath:[...n],toPath:c});const p=OA(e,n[n.length-1]);return p&&g.push({fromPath:d,toPath:d,content:p}),g}function kA(s,n){const{node:e,offset:r}=s,l=e.children[r],c=e.children[r-1],{children:d}=l,g=[...n].slice(0,-1),p=[{fromPath:[...n],toPath:[...g,r+1]}];if(!l.children.length)return p;const y=[...g,r-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],T=d.map(x=>Xd(x));return p.push({fromPath:y,toPath:y,content:T}),p}function Zd(s,n,e){const{type:r}=s,l=e.issueTimeTicket();if(r===Zn){F0(s);const{value:c}=s,d=Ze.create(pe.of(l,0),r,c);n.append(d)}else{const{children:c=[]}=s,{attributes:d}=s;let g;if(typeof d=="object"&&!N0(d)){const y=Js(d);g=new Dr;for(const[T,x]of Object.entries(y))g.set(T,x,l)}const p=Ze.create(pe.of(l,0),r,void 0,g);n.append(p);for(const y of c)Zd(y,p,e)}}function RA(s,n){const{type:e}=n,r=s.issueTimeTicket();let l;if(n.type===Zn){const{value:c}=n;l=Ze.create(pe.of(r,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:d}=n;let g;if(typeof d=="object"&&!N0(d)){const p=Js(d);g=new Dr;for(const[y,T]of Object.entries(p))g.set(y,T,r)}l=Ze.create(pe.of(s.issueTimeTicket(),0),e,void 0,g);for(const p of c)Zd(p,l,s)}return l}function F0(s){if(!s.value.length)throw new C(N.ErrInvalidArgument,"text node cannot have empty value");return!0}function Vv(s){if(!s.length)return!0;if(s[0].type===Zn)for(const e of s){const{type:r}=e;if(r!==Zn)throw new C(N.ErrInvalidArgument,"element node and text node cannot be passed together");F0(e)}else for(const e of s){const{type:r}=e;if(r===Zn)throw new C(N.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Qd{constructor(n){h(this,"initialRoot");h(this,"context");h(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ze.create(pe.of(n.issueTimeTicket(),0),vw);const e=Ze.create(pe.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)Zd(r,e,n);return e}getSize(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n),r=CA(e,n);for(const l of r){const{fromPath:c,toPath:d,content:g}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(d);this.editInternal(p,y,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n);if(e.node.isText)throw new C(N.ErrInvalidArgument,"text node cannot be merged");const r=kA(e,n);for(const l of r){const{fromPath:c,toPath:d,content:g}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(d);this.editInternal(p,y,g??[],0)}}styleByPath(n,e){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(N.ErrInvalidArgument,"path should not be empty");const[r,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),d=e?Js(e):void 0,[g,,p]=this.tree.style([r,l],d,c);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);this.context.push(xr.create(this.tree.getCreatedAt(),r,l,d?new Map(Object.entries(d)):new Map,c))}style(n,e,r){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),d=this.context.issueTimeTicket(),g=r?Js(r):void 0,[p,,y]=this.tree.style([l,c],g,d);this.context.acc(y);for(const T of p)this.context.registerGCPair(T);this.context.push(xr.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,d))}removeStyle(n,e,r){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),d=this.context.issueTimeTicket(),[g,,p]=this.tree.removeStyle([l,c],r,d);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);this.context.push(xr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,r,d))}editInternal(n,e,r,l=0){var y;if(r.length!==0&&r[0]&&(Vv(r),r[0].type!==Zn))for(const T of r){const{children:x=[]}=T;Vv(x)}const c=this.context.getLastTimeTicket();let d=new Array;if(((y=r[0])==null?void 0:y.type)===Zn){let T="";for(const x of r){const{value:I}=x;T+=I}d.push(Ze.create(pe.of(this.context.issueTimeTicket(),0),Zn,T))}else d=r.map(T=>T&&RA(this.context,T)).filter(T=>T);const[,g,p]=this.tree.edit([n,e],d.length?d.map(T=>T==null?void 0:T.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(p);for(const T of g)this.context.registerGCPair(T);return this.context.push(hl.create(this.tree.getCreatedAt(),n,e,d.length?d:void 0,l,c)),!0}editByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(e);return this.editInternal(c,d,r?[r]:[],l)}editBulkByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(e);return this.editInternal(c,d,r,l)}edit(n,e,r,l=0){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(e);return this.editInternal(c,d,r?[r]:[],l)}editBulk(n,e,r,l=0){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(e);return this.editInternal(c,d,r,l)}toXML(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],r=this.tree.indexRangeToPosRange(e);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");const e=[On.fromStruct(n[0]),On.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new C(N.ErrNotInitialized,"Tree is not initialized yet");const e=[On.fromStruct(n[0]),On.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function Hv(s,n){return Q0(s,n)}function na(s,n){if(n){if(n instanceof Gt)return n;if(n instanceof we)return Q0(s,n);if(n instanceof Ne)return xA(s,n);if(n instanceof Qe)return new Kd(s,n);if(n instanceof Me){const e=new $d(_n.Int,0);return e.initialize(s,n),e}else if(n instanceof Fe){const e=new Qd;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function ka(s,n){const e=na(s,n);return e instanceof Gt?e.getValue():e}function fc(s,n,e){let r;if(Gt.isSupport(n))r=Gt.of(n,e);else if(Array.isArray(n))r=Ne.create(e,Xt.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Kd?(r=Qe.create(Vs.create(),e),n.initialize(s,r)):n instanceof $d?(r=Me.create(n.getValueType(),n.getValue(),e),n.initialize(s,r)):n instanceof Qd?(r=Fe.create(n.buildRoot(s),e),n.initialize(s,r)):r=we.create(e,ll.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return r}class Fh{constructor(n,e){h(this,"context");h(this,"presence");this.context=n,this.presence=e}set(n,e){for(const r of Object.keys(n))this.presence[r]=n[r];this.context.setPresenceChange({type:Fn.Put,presence:xn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:Fn.Clear})}}const jv=50;class BA{constructor(){h(this,"undoStack",[]);h(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=jv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=jv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const IA="yorkie-devtools-panel",zA="yorkie-devtools-sdk";function MA(s){return[ge.StatusChanged,ge.Snapshot,ge.LocalChange,ge.RemoteChange,ge.Initialized,ge.Watched,ge.Unwatched,ge.PresenceChanged].includes(s.type)}function UA(s){return s.every(MA)}let Ds="disconnected";const Yv=new Map,qu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=qu);function Bu(s,n){(n!=null&&n.force||Ds!=="disconnected")&&window.postMessage({source:zA,...s},"*")}function LA(s){if(!s.isEnableDevtools()||typeof window>"u"||Yv.has(s.getKey()))return;qu.set(s.getKey(),[]);const n=s.subscribe("all",e=>{UA(e)&&(qu.get(s.getKey()).push(e),Ds==="synced"&&Bu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Yv.set(s.getKey(),[n]),Bu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==IA)return;switch(e.data.msg){case"devtools::connect":if(Ds!=="disconnected")break;Ds="connected",Bu({msg:"doc::available",docKey:s.getKey()}),et.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Ds="disconnected",et.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Ds="synced",Bu({msg:"doc::sync::full",docKey:s.getKey(),events:qu.get(s.getKey())}),et.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var ia=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(ia||{}),ge=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ge||{}),qa=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(qa||{}),Cd=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(Cd||{});class _0{constructor(n,e){h(this,"key");h(this,"status");h(this,"opts");h(this,"changeID");h(this,"checkpoint");h(this,"localChanges");h(this,"maxSizeLimit");h(this,"schemaRules");h(this,"root");h(this,"clone");h(this,"eventStream");h(this,"eventStreamObserver");h(this,"onlineClients");h(this,"presences");h(this,"history");h(this,"internalHistory");h(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=ol.create(),this.changeID=Nw,this.checkpoint=Dw,this.localChanges=[],this.maxSizeLimit=0,this.schemaRules=[],this.eventStream=EA(r=>{this.eventStreamObserver=r}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new BA,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},LA(this)}update(n,e){var g,p,y;if(this.getStatus()==="removed")throw new C(N.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),l=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},e);try{const T=Hv(l,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,n(T,new Fh(l,this.clone.presences.get(r)))}catch(T){throw this.clone=void 0,T}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length>0){const T=vA((g=this.clone)==null?void 0:g.root.getObject(),c);if(!T.valid)throw this.clone=void 0,new C(N.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(p=T.errors)==null?void 0:p.map(x=>x.message).join(", ")}`)}const d=yw((y=this.clone)==null?void 0:y.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<d)throw this.clone=void 0,new C(N.ErrDocumentSizeExceedsLimit,`document size exceeded: ${d} > ${this.maxSizeLimit}`);if(l.hasChange()){et.isEnabled(Be.Trivial)&&et.trivial(`trying to update a local change: ${this.toJSON()}`);const T=l.toChange(),{opInfos:x,reverseOps:I}=T.execute(this.root,this.presences,Lt.Local),O=l.getReversePresence();O&&I.push({type:"presence",value:O}),this.localChanges.push(T),I.length>0&&this.internalHistory.pushUndo(I),x.length>0&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const P=[];x.length>0&&P.push({type:"local-change",source:Lt.Local,value:{message:T.getMessage()||"",operations:x,actor:r,clientSeq:T.getID().getClientSeq(),serverSeq:T.getID().getServerSeq()},rawChange:this.isEnableDevtools()?T.toStruct():void 0}),T.hasPresenceChange()&&P.push({type:"presence-changed",source:Lt.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(P),et.isEnabled(Be.Trivial)&&et.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,r,l){if(typeof n=="string"){if(typeof e!="function")throw new C(N.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||g(y)},r,l)}if(n==="my-presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||g(y)},r,l)}if(n==="others"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&g(y)},r,l)}if(n==="connection"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="connection-changed"&&g(y)},r,l)}if(n==="status"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="status-changed"&&g(y)},r,l)}if(n==="sync"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="sync-status-changed"&&g(y)},r,l)}if(n==="local-broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="local-broadcast"&&g(y)},r)}if(n==="broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="broadcast"&&g(y)},r)}if(n==="auth-error"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="auth-error"&&g(y)},r)}if(n==="all"){const g=e;return this.eventStream.subscribe(g,r,l)}const c=n,d=e;return this.eventStream.subscribe(g=>{for(const p of g){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const y=[];for(const T of p.value.operations)this.isSameElementOrChildOf(T.path,c)&&y.push(T);y.length&&d({...p,value:{...p.value,operations:y}})}},r,l)}if(typeof n=="function"){const c=n,d=e,g=r;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},d,g)}throw new C(N.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const r=n.split(".");return e.split(".").every((c,d)=>c===r[d])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),Lt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),et.isEnabled(Be.Trivial)&&et.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:xn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return vc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=Cs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Hv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,r,l=-1){const{root:c,presences:d}=Zt.bytesToSnapshot(r);this.root=new ol(c),this.presences=d,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Lt.Local),this.publish([{type:"snapshot",source:Lt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Zt.bytesToHex(r):void 0,snapshotVector:Zt.versionVectorToHex(e)}}])}applyChanges(n,e){et.isEnabled(Be.Debug)&&et.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),et.isEnabled(Be.Trivial)&&et.trivial(n.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of n)this.applyChange(r,e);et.isEnabled(Be.Debug)&&et.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const r=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const d=n.getPresenceChange();switch(d.type){case Fn.Put:r.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:d.presence}}:{type:"watched",source:Lt.Remote,value:{clientID:l,presence:d.presence}});break;case Fn.Clear:r.push({type:"unwatched",source:Lt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const d=this.isEnableDevtools()?n.toStruct():void 0;r.push(e===Lt.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d})}r.length>0&&this.publish(r)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,r=new Set;for(const l of e)l!==this.changeID.getActorID()&&r.add(l);this.setOnlineClients(r),this.publish([{type:"initialized",source:Lt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:r}=n.body.value,l=[];if(e===Ia.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&l.push({type:"watched",source:Lt.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===Ia.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&l.push({type:"unwatched",source:Lt.Remote,value:{clientID:r,presence:c}})}else if(e===Ia.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:d}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:r,topic:c,payload:JSON.parse(g.decode(d))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(yc),this.publish([{source:n==="removed"?Lt.Remote:Lt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:r,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(r),Zt.hexToVersionVector(l),Zt.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Ps.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:r,presence:l}of n.value)e.add(r),this.presences.set(r,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:r}=n.value;this.addOnlineClient(e),this.presences.set(e,r);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:r}=n.value;this.presences.set(e,r)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new C(N.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let r=this.getRoot();for(const l of e)if(r=r[l],r===void 0)return;return r}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?xn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?xn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?xn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:xn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:xn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,r)=>e.clientID>r.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new C(N.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new C(N.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof kn)){new Fh(e,xn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.toChange();r.execute(this.clone.root,this.clone.presences,Lt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Lt.UndoRedo),d=e.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length>0&&this.internalHistory.pushRedo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=e.getNextID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Lt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:g,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Lt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}redo(){if(this.isUpdating)throw new C(N.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new C(N.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=Cs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof kn)){new Fh(e,xn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.toChange();r.execute(this.clone.root,this.clone.presences,Lt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Lt.UndoRedo),d=e.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length>0&&this.internalHistory.pushUndo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=e.getNextID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Lt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:g,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Lt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,r){const l={type:"local-broadcast",value:{topic:n,payload:e},options:r};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function qA(s,n){let e=n;return{authInterceptor:c=>async d=>(s&&d.header.set("x-api-key",s),e&&d.header.set("authorization",e),await c(d)),setToken:c=>{e=c}}}const JA="@yorkie-js/sdk",PA="0.6.22",Gv={name:JA,version:PA};function VA(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",Gv.name+"/"+Gv.version),await n(e))}const HA=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var Ju=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Ju||{});const Ko={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},_h={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class W0{constructor(n){h(this,"id");h(this,"key");h(this,"metadata");h(this,"status");h(this,"attachmentMap");h(this,"apiKey");h(this,"authTokenInjector");h(this,"conditions");h(this,"syncLoopDuration");h(this,"reconnectStreamDelay");h(this,"retrySyncLoopDelay");h(this,"rpcClient");h(this,"setAuthToken");h(this,"taskQueue");h(this,"processing",!1);h(this,"keepalive",!1);n=n||Ko;const e=n.rpcAddr||Ko.rpcAddr;this.key=n.key||Z0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Ko.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Ko.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Ko.retrySyncLoopDelay;const{authInterceptor:r,setToken:l}=qA(this.apiKey);this.setAuthToken=l,this.rpcClient=q1(ow,sw({baseUrl:e,interceptors:[r,VA(n==null?void 0:n.userAgent)],fetch:(c,d)=>{const g={...d,keepalive:this.keepalive};return fetch(c,g)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),et.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw et.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),et.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw et.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(n.keepalive){this.keepalive=!0;const r=e();return this.keepalive=!1,r}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==ia.Detached)throw new C(N.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,d)=>d.set(e.initialPresence||{}));const r=n.subscribe("local-broadcast",async c=>{var T;const{topic:d,payload:g}=c.value,p=(T=c.options)==null?void 0:T.error,y=c.options;try{await this.broadcast(n.getKey(),d,g,y)}catch(x){x instanceof Error&&(p==null||p(x))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Zt.toChangePack(n.createChangePack()),schemaKey:e.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(c.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(c.maxSizePerDocument),c.schemaRules.length>0&&n.setSchemaRules(Zt.fromSchemaRules(c.schemaRules));const g=Zt.fromChangePack(c.changePack);if(n.applyChangePack(g),n.getStatus()===ia.Removed)return n;n.applyStatus(ia.Attached),this.attachmentMap.set(n.getKey(),new pA(this.reconnectStreamDelay,n,c.documentId,l,r)),l!=="manual"&&await this.runWatchLoop(n.getKey()),et.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const p=n.getRootObject();if(e.initialRoot){const y=e.initialRoot;n.update(T=>{for(const[x,I]of Object.entries(y))if(!p.has(x)){const O=x;T[O]=I}})}return n}catch(c){throw et.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,d)=>d.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.docID,changePack:Zt.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),d=Zt.fromChangePack(c.changePack);return n.applyChangePack(d),n.getStatus()!==ia.Removed&&n.applyStatus(ia.Detached),this.detachInternal(n.getKey()),et.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw et.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=r.syncMode;return l===e?n:(r.changeSyncMode(e),e==="manual"?(r.cancelWatchStream(),n):(e==="realtime"&&(r.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async r=>{throw et.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)e.push(this.syncInternal(r,r.syncMode));return Promise.all(e).catch(async r=>{throw et.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(n){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const r=Zt.toChangePack(n.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Zt.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),et.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw et.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,r,l){if(!this.isActive())throw new C(N.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new C(N.ErrDocumentNotAttached,`${n} is not attached`);if(!HA(r))throw new C(N.ErrInvalidArgument,"payload is not serializable");const d=(l==null?void 0:l.maxRetries)??_h.maxRetries,g=_h.maxBackoff;let p=0;const y=x=>Math.min(_h.initialRetryInterval*2**x,g),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),et.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(x){if(et.error(`[BC] c:"${this.getKey()}" err:`,x),await this.handleConnectError(x))if(x instanceof Ot&&ea(x)===N.ErrUnauthenticated&&c.doc.publish([{type:ge.AuthError,value:{reason:$o(x).reason,method:"Broadcast"}}]),p<d)p++,setTimeout(()=>T(),y(p-1)),et.info(`[BC] c:"${this.getKey()}" retry attempt ${p}/${d}`);else throw et.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),x;else throw x}});return T()}runSyncLoop(){const n=()=>{if(!this.isActive()){et.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,r]of this.attachmentMap)r.needRealtimeSync()&&(r.remoteChangeEventReceived=!1,e.push(this.syncInternal(r,r.syncMode).catch(async l=>{throw l instanceof Ot&&ea(l)===N.ErrUnauthenticated&&r.doc.publish([{type:ge.AuthError,value:{reason:$o(l).reason,method:"PushPull"}}]),l})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async r=>{et.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};et.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new C(N.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new C(N.ErrClientNotActivated,`${this.key} is not active`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:ge.ConnectionChanged,value:qa.Connected}]),et.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((d,g)=>{(async()=>{try{for await(const y of c)this.handleWatchDocumentsResponse(e,y),y.body.case==="initialization"&&d([c,l])}catch(y){e.doc.resetOnlineClients(),e.doc.publish([{type:ge.Initialized,source:Lt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:ge.ConnectionChanged,value:qa.Disconnected}]),et.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(y)?(y instanceof Ot&&ea(y)===N.ErrUnauthenticated&&e.doc.publish([{type:ge.AuthError,value:{reason:$o(y).reason,method:"WatchDocuments"}}]),r()):this.conditions.WatchLoop=!1,g(y)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Ia.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus(ia.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:r,docID:l}=n,c=r.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Zt.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}),g=Zt.fromChangePack(d.changePack);if(g.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return r;r.applyChangePack(g),n.doc.publish([{type:ge.SyncStatusChanged,value:Cd.Synced}]),r.getStatus()===ia.Removed&&this.detachInternal(r.getKey());const p=r.getKey(),y=g.getChangeSize();return et.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${c.getChangeSize()} pull:${y} cp:${g.getCheckpoint().toTestString()}`),r}catch(d){throw r.publish([{type:ge.SyncStatusChanged,value:Cd.SyncFailed}]),et.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(n){if(!(n instanceof Ot))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(ea(n)===N.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector($o(n).reason);this.setAuthToken(e)}return!0}return ea(n)===N.ErrTooManySubscribers?(et.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(ea(n)===N.ErrTooManyAttachments||(ea(n)===N.ErrClientNotActivated||ea(n)===N.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,r)=>{this.taskQueue.push(()=>n().then(e).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{et.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}_n.Int,_n.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:W0,Document:_0,Primitive:Gt,Text:Kd,Counter:$d,Tree:Qd,LogLevel:Be,setLogLevel:yA,IntType:_n.Int,LongType:_n.Long});const tS=Yt.createContext({client:void 0,loading:!0,error:void 0});function jA(s){const[n,e]=Yt.useState(void 0),[r,l]=Yt.useState(!0),[c,d]=Yt.useState(void 0),[g,p]=Yt.useState(!1);return Yt.useEffect(()=>{p(!0)},[]),Yt.useEffect(()=>{l(!0),d(void 0);async function y(){if(g)try{const T=new W0(s);await T.activate(),e(T)}catch(T){d(T instanceof Error?T:new Error("Failed to activate client"))}finally{l(!1)}}return y(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:r,error:c}}const YA=({children:s,...n})=>{const e=Yt.useMemo(()=>({userAgent:Wp.name+"/"+Wp.version,...n}),[n.apiKey,n.rpcAddr]),{client:r,loading:l,error:c}=jA(e);return Rt.jsx(tS.Provider,{value:{client:r,loading:l,error:c},children:s})},GA=()=>{const s=Yt.useContext(tS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function KA(s,n,e,r,l,c){const[d,g]=Yt.useState(),[p,y]=Yt.useState(!0),[T,x]=Yt.useState(),[I,O]=Yt.useState(l),[P,H]=Yt.useState([]),[Y,_]=Yt.useState(qa.Disconnected);Yt.useEffect(()=>{if(e){y(!1),x(e);return}if(!s||n){y(!0);return}y(!0),x(void 0);const F=new _0(r),ct=[];ct.push(F.subscribe(()=>{O(F.getRoot())})),ct.push(F.subscribe("presence",()=>{H(F.getPresences())})),ct.push(F.subscribe("connection",tt=>{_(tt.value)}));async function W(){try{await(s==null?void 0:s.attach(F,{initialRoot:l,initialPresence:c})),g(F),O(F.getRoot()),H(F.getPresences())}catch(tt){x(tt instanceof Error?tt:new Error("Failed to attach document"))}finally{y(!1)}}return W(),()=>{s&&s.hasDocument(r)&&s.detach(F);for(const tt of ct)tt()}},[s,n,e,r]);const ut=Yt.useCallback(F=>{if(d)try{d.update(F)}catch(ct){x(ct instanceof Error?ct:new Error("Failed to update document"))}},[d]);return{doc:d,root:I,presences:P,connection:Y,update:ut,loading:p,error:T}}const bc=Yt.createContext(null),$A=({docKey:s,initialRoot:n={},initialPresence:e={},children:r})=>{const{client:l,loading:c,error:d}=GA(),{doc:g,root:p,presences:y,connection:T,update:x,loading:I,error:O}=KA(l,c,d,s,n,e);return Rt.jsx(bc.Provider,{value:{doc:g,root:p,presences:y,connection:T,update:x,loading:I,error:O},children:r})},XA=()=>{const s=Yt.useContext(bc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{doc:s.doc,root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},ZA=()=>{const s=Yt.useContext(bc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},eS=()=>{const s=Yt.useContext(bc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function QA(){const s=eS();return Rt.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===qa.Connected?Rt.jsx("span",{className:"green",children:" "}):Rt.jsx("span",{className:"red",children:" "})]})}function FA(){const s=ZA();return Rt.jsx("div",{id:"peers-container",children:Rt.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Rt.jsxs(kb.Fragment,{children:[Rt.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Rt.jsx("span",{children:", "})]},n.clientID))]})})}function _A(){const{root:s,update:n,loading:e,error:r}=XA(),l=eS();return e?Rt.jsx("p",{children:"Loading..."}):r?Rt.jsxs("div",{id:"error",children:[Rt.jsxs("p",{children:["Error Name: ",r.name]}),Rt.jsxs("p",{children:["Error Message: ",r.message]})]}):Rt.jsxs("div",{className:"counter-side",children:[Rt.jsx(QA,{}),Rt.jsx(FA,{}),Rt.jsxs("div",{id:"counter-container",children:[Rt.jsx("h1",{id:"counter",children:"Counter"}),Rt.jsx("div",{id:"counter-value",children:s.counter}),Rt.jsx("button",{id:"increment",disabled:l===qa.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),Rt.jsx("div",{id:"error",children:l===qa.Disconnected&&Rt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function WA(){return Rt.jsx(YA,{apiKey:"",rpcAddr:"http://localhost:8080",children:Rt.jsx("div",{className:"page-container",children:Rt.jsx($A,{docKey:"react-document-limit",initialRoot:{counter:0},children:Rt.jsx(_A,{})})})})}Lb.createRoot(document.getElementById("root")).render(Rt.jsx(Yt.StrictMode,{children:Rt.jsx(WA,{})}));
