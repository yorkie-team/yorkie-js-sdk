var yb=Object.defineProperty;var pb=(s,n,e)=>n in s?yb(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var d=(s,n,e)=>pb(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function vb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ch={exports:{}},Lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Sb(){if(Lp)return Lo;Lp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:c}}return Lo.Fragment=n,Lo.jsx=e,Lo.jsxs=e,Lo}var qp;function Tb(){return qp||(qp=1,Ch.exports=Sb()),Ch.exports}var kt=Tb(),Rh={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function bb(){if(Jp)return dt;Jp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,V={};function j(w,J,$){this.props=w,this.context=J,this.refs=V,this.updater=$||R}j.prototype.isReactComponent={},j.prototype.setState=function(w,J){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,J,"setState")},j.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function F(){}F.prototype=j.prototype;function ut(w,J,$){this.props=w,this.context=J,this.refs=V,this.updater=$||R}var Q=ut.prototype=new F;Q.constructor=ut,H(Q,j.prototype),Q.isPureReactComponent=!0;var ct=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function yt(w,J,$,G,rt,xt){return $=xt.ref,{$$typeof:s,type:w,key:J,ref:$!==void 0?$:null,props:xt}}function wt(w,J){return yt(w.type,J,void 0,void 0,void 0,w.props)}function At(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function ne(w){var J={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return J[$]})}var Me=/\/+/g;function se(w,J){return typeof w=="object"&&w!==null&&w.key!=null?ne(""+w.key):J.toString(36)}function sa(){}function oa(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(sa,sa):(w.status="pending",w.then(function(J){w.status==="pending"&&(w.status="fulfilled",w.value=J)},function(J){w.status==="pending"&&(w.status="rejected",w.reason=J)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function pe(w,J,$,G,rt){var xt=typeof w;(xt==="undefined"||xt==="boolean")&&(w=null);var ft=!1;if(w===null)ft=!0;else switch(xt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(w.$$typeof){case s:case n:ft=!0;break;case T:return ft=w._init,pe(ft(w._payload),J,$,G,rt)}}if(ft)return rt=rt(w),ft=G===""?"."+se(w,0):G,ct(rt)?($="",ft!=null&&($=ft.replace(Me,"$&/")+"/"),pe(rt,J,$,"",function(Er){return Er})):rt!=null&&(At(rt)&&(rt=wt(rt,$+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(Me,"$&/")+"/")+ft)),J.push(rt)),1;ft=0;var Ue=G===""?".":G+":";if(ct(w))for(var Jt=0;Jt<w.length;Jt++)G=w[Jt],xt=Ue+se(G,Jt),ft+=pe(G,J,$,xt,rt);else if(Jt=I(w),typeof Jt=="function")for(w=Jt.call(w),Jt=0;!(G=w.next()).done;)G=G.value,xt=Ue+se(G,Jt++),ft+=pe(G,J,$,xt,rt);else if(xt==="object"){if(typeof w.then=="function")return pe(oa(w),J,$,G,rt);throw J=String(w),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ft}function U(w,J,$){if(w==null)return w;var G=[],rt=0;return pe(w,G,"","",function(xt){return J.call($,xt,rt++)}),G}function K(w){if(w._status===-1){var J=w._result;J=J(),J.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=J)}if(w._status===1)return w._result.default;throw w._result}var ot=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Mt(){}return dt.Children={map:U,forEach:function(w,J,$){U(w,function(){J.apply(this,arguments)},$)},count:function(w){var J=0;return U(w,function(){J++}),J},toArray:function(w){return U(w,function(J){return J})||[]},only:function(w){if(!At(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=j,dt.Fragment=e,dt.Profiler=l,dt.PureComponent=ut,dt.StrictMode=r,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return W.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,J,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=H({},w.props),rt=w.key,xt=void 0;if(J!=null)for(ft in J.ref!==void 0&&(xt=void 0),J.key!==void 0&&(rt=""+J.key),J)!tt.call(J,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&J.ref===void 0||(G[ft]=J[ft]);var ft=arguments.length-2;if(ft===1)G.children=$;else if(1<ft){for(var Ue=Array(ft),Jt=0;Jt<ft;Jt++)Ue[Jt]=arguments[Jt+2];G.children=Ue}return yt(w.type,rt,void 0,void 0,xt,G)},dt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},dt.createElement=function(w,J,$){var G,rt={},xt=null;if(J!=null)for(G in J.key!==void 0&&(xt=""+J.key),J)tt.call(J,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(rt[G]=J[G]);var ft=arguments.length-2;if(ft===1)rt.children=$;else if(1<ft){for(var Ue=Array(ft),Jt=0;Jt<ft;Jt++)Ue[Jt]=arguments[Jt+2];rt.children=Ue}if(w&&w.defaultProps)for(G in ft=w.defaultProps,ft)rt[G]===void 0&&(rt[G]=ft[G]);return yt(w,xt,void 0,void 0,null,rt)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:g,render:w}},dt.isValidElement=At,dt.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:K}},dt.memo=function(w,J){return{$$typeof:y,type:w,compare:J===void 0?null:J}},dt.startTransition=function(w){var J=W.T,$={};W.T=$;try{var G=w(),rt=W.S;rt!==null&&rt($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Mt,ot)}catch(xt){ot(xt)}finally{W.T=J}},dt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},dt.use=function(w){return W.H.use(w)},dt.useActionState=function(w,J,$){return W.H.useActionState(w,J,$)},dt.useCallback=function(w,J){return W.H.useCallback(w,J)},dt.useContext=function(w){return W.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,J){return W.H.useDeferredValue(w,J)},dt.useEffect=function(w,J,$){var G=W.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(w,J)},dt.useId=function(){return W.H.useId()},dt.useImperativeHandle=function(w,J,$){return W.H.useImperativeHandle(w,J,$)},dt.useInsertionEffect=function(w,J){return W.H.useInsertionEffect(w,J)},dt.useLayoutEffect=function(w,J){return W.H.useLayoutEffect(w,J)},dt.useMemo=function(w,J){return W.H.useMemo(w,J)},dt.useOptimistic=function(w,J){return W.H.useOptimistic(w,J)},dt.useReducer=function(w,J,$){return W.H.useReducer(w,J,$)},dt.useRef=function(w){return W.H.useRef(w)},dt.useState=function(w){return W.H.useState(w)},dt.useSyncExternalStore=function(w,J,$){return W.H.useSyncExternalStore(w,J,$)},dt.useTransition=function(){return W.H.useTransition()},dt.version="19.1.0",dt}var Pp;function bd(){return Pp||(Pp=1,Rh.exports=bb()),Rh.exports}var jt=bd();const wb=vb(jt);var kh={exports:{}},qo={},Bh={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Ab(){return Hp||(Hp=1,function(s){function n(U,K){var ot=U.length;U.push(K);t:for(;0<ot;){var Mt=ot-1>>>1,w=U[Mt];if(0<l(w,K))U[Mt]=K,U[ot]=w,ot=Mt;else break t}}function e(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],ot=U.pop();if(ot!==K){U[0]=ot;t:for(var Mt=0,w=U.length,J=w>>>1;Mt<J;){var $=2*(Mt+1)-1,G=U[$],rt=$+1,xt=U[rt];if(0>l(G,ot))rt<w&&0>l(xt,G)?(U[Mt]=xt,U[rt]=ot,Mt=rt):(U[Mt]=G,U[$]=ot,Mt=$);else if(rt<w&&0>l(xt,ot))U[Mt]=xt,U[rt]=ot,Mt=rt;else break t}}return K}function l(U,K){var ot=U.sortIndex-K.sortIndex;return ot!==0?ot:U.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var p=[],y=[],T=1,x=null,I=3,R=!1,H=!1,V=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ct(U){for(var K=e(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=U)r(y),K.sortIndex=K.expirationTime,n(p,K);else break;K=e(y)}}function W(U){if(V=!1,ct(U),!H)if(e(p)!==null)H=!0,tt||(tt=!0,se());else{var K=e(y);K!==null&&pe(W,K.startTime-U)}}var tt=!1,yt=-1,wt=5,At=-1;function ne(){return j?!0:!(s.unstable_now()-At<wt)}function Me(){if(j=!1,tt){var U=s.unstable_now();At=U;var K=!0;try{t:{H=!1,V&&(V=!1,ut(yt),yt=-1),R=!0;var ot=I;try{e:{for(ct(U),x=e(p);x!==null&&!(x.expirationTime>U&&ne());){var Mt=x.callback;if(typeof Mt=="function"){x.callback=null,I=x.priorityLevel;var w=Mt(x.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){x.callback=w,ct(U),K=!0;break e}x===e(p)&&r(p),ct(U)}else r(p);x=e(p)}if(x!==null)K=!0;else{var J=e(y);J!==null&&pe(W,J.startTime-U),K=!1}}break t}finally{x=null,I=ot,R=!1}K=void 0}}finally{K?se():tt=!1}}}var se;if(typeof Q=="function")se=function(){Q(Me)};else if(typeof MessageChannel<"u"){var sa=new MessageChannel,oa=sa.port2;sa.port1.onmessage=Me,se=function(){oa.postMessage(null)}}else se=function(){F(Me,0)};function pe(U,K){yt=F(function(){U(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var K=3;break;default:K=I}var ot=I;I=K;try{return U()}finally{I=ot}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ot=I;I=U;try{return K()}finally{I=ot}},s.unstable_scheduleCallback=function(U,K,ot){var Mt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Mt+ot:Mt):ot=Mt,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ot+w,U={id:T++,callback:K,priorityLevel:U,startTime:ot,expirationTime:w,sortIndex:-1},ot>Mt?(U.sortIndex=ot,n(y,U),e(p)===null&&U===e(y)&&(V?(ut(yt),yt=-1):V=!0,pe(W,ot-Mt))):(U.sortIndex=w,n(p,U),H||R||(H=!0,tt||(tt=!0,se()))),U},s.unstable_shouldYield=ne,s.unstable_wrapCallback=function(U){var K=I;return function(){var ot=I;I=K;try{return U.apply(this,arguments)}finally{I=ot}}}}(Ih)),Ih}var Vp;function Eb(){return Vp||(Vp=1,Bh.exports=Ab()),Bh.exports}var zh={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function xb(){if(jp)return Te;jp=1;var s=bd();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:p,containerInfo:y,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Te.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,T)},Te.flushSync=function(p){var y=h.T,T=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=T,r.d.f()}},Te.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Te.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Te.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:I,fetchPriority:R}):T==="script"&&r.d.X(p,{crossOrigin:x,integrity:I,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Te.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Te.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Te.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Te.requestFormReset=function(p){r.d.r(p)},Te.unstable_batchedUpdates=function(p,y){return p(y)},Te.useFormState=function(p,y,T){return h.H.useFormState(p,y,T)},Te.useFormStatus=function(){return h.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var Yp;function Nb(){if(Yp)return zh.exports;Yp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),zh.exports=xb(),zh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Db(){if(Gp)return qo;Gp=1;var s=Eb(),n=bd(),e=Nb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),t;if(f===o)return g(u),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=Me&&t[Me]||t["@@iterator"],typeof t=="function"?t:null)}var sa=Symbol.for("react.client.reference");function oa(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===sa?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case W:return"Suspense";case tt:return"SuspenseList";case At:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case ct:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return i=t.displayName||null,i!==null?i:oa(t.type)||"Memo";case wt:i=t._payload,t=t._init;try{return oa(t(i))}catch{}}return null}var pe=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Mt=[],w=-1;function J(t){return{current:t}}function $(t){0>w||(t.current=Mt[w],Mt[w]=null,w--)}function G(t,i){w++,Mt[w]=t.current,t.current=i}var rt=J(null),xt=J(null),ft=J(null),Ue=J(null);function Jt(t,i){switch(G(ft,i),G(xt,t),G(rt,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fp(i),t=hp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(rt),G(rt,t)}function Er(){$(rt),$(xt),$(ft)}function dc(t){t.memoizedState!==null&&G(Ue,t);var i=rt.current,a=hp(i,t.type);i!==a&&(G(xt,t),G(rt,a))}function ul(t){xt.current===t&&($(rt),$(xt)),Ue.current===t&&($(Ue),Bo._currentValue=ot)}var gc=Object.prototype.hasOwnProperty,mc=s.unstable_scheduleCallback,yc=s.unstable_cancelCallback,X0=s.unstable_shouldYield,Z0=s.unstable_requestPaint,kn=s.unstable_now,_0=s.unstable_getCurrentPriorityLevel,Gd=s.unstable_ImmediatePriority,Kd=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,Q0=s.unstable_LowPriority,$d=s.unstable_IdlePriority,F0=s.log,W0=s.unstable_setDisableYieldValue,Js=null,Le=null;function xr(t){if(typeof F0=="function"&&W0(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Js,t)}catch{}}var qe=Math.clz32?Math.clz32:nS,tS=Math.log,eS=Math.LN2;function nS(t){return t>>>=0,t===0?32:31-(tS(t)/eS|0)|0}var fl=256,hl=4194304;function la(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dl(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=la(o):(m&=S,m!==0?u=la(m):a||(a=S&~t,a!==0&&(u=la(a))))):(S=o&~f,S!==0?u=la(S):m!==0?u=la(m):a||(a=o&~t,a!==0&&(u=la(a)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:u}function Ps(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function iS(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(){var t=fl;return fl<<=1,(fl&4194048)===0&&(fl=256),t}function Zd(){var t=hl;return hl<<=1,(hl&62914560)===0&&(hl=4194304),t}function pc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Hs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rS(t,i,a,o,u,f){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,b=t.expirationTimes,C=t.hiddenUpdates;for(a=m&~a;0<a;){var M=31-qe(a),q=1<<M;S[M]=0,b[M]=-1;var k=C[M];if(k!==null)for(C[M]=null,M=0;M<k.length;M++){var B=k[M];B!==null&&(B.lane&=-536870913)}a&=~q}o!==0&&_d(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~i))}function _d(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-qe(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Qd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-qe(a),u=1<<o;u&i|t[o]&i&&(t[o]|=i),a&=~u}}function vc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fd(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:kp(t.type))}function aS(t,i){var a=K.p;try{return K.p=t,i()}finally{K.p=a}}var Nr=Math.random().toString(36).slice(2),ve="__reactFiber$"+Nr,xe="__reactProps$"+Nr,Ua="__reactContainer$"+Nr,Tc="__reactEvents$"+Nr,sS="__reactListeners$"+Nr,oS="__reactHandles$"+Nr,Wd="__reactResources$"+Nr,Vs="__reactMarker$"+Nr;function bc(t){delete t[ve],delete t[xe],delete t[Tc],delete t[sS],delete t[oS]}function La(t){var i=t[ve];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ua]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=yp(t);t!==null;){if(a=t[ve])return a;t=yp(t)}return i}t=a,a=t.parentNode}return null}function qa(t){if(t=t[ve]||t[Ua]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function js(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ja(t){var i=t[Wd];return i||(i=t[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function oe(t){t[Vs]=!0}var tg=new Set,eg={};function ua(t,i){Pa(t,i),Pa(t+"Capture",i)}function Pa(t,i){for(eg[t]=i,t=0;t<i.length;t++)tg.add(i[t])}var lS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ng={},ig={};function uS(t){return gc.call(ig,t)?!0:gc.call(ng,t)?!1:lS.test(t)?ig[t]=!0:(ng[t]=!0,!1)}function gl(t,i,a){if(uS(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ml(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Wn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var wc,rg;function Ha(t){if(wc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);wc=i&&i[1]||"",rg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wc+t+rg}var Ac=!1;function Ec(t,i){if(!t||Ac)return"";Ac=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var k=B}Reflect.construct(t,[],q)}else{try{q.call()}catch(B){k=B}t.call(q.prototype)}}else{try{throw Error()}catch(B){k=B}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var b=m.split(`
`),C=S.split(`
`);for(u=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(o===b.length||u===C.length)for(o=b.length-1,u=C.length-1;1<=o&&0<=u&&b[o]!==C[u];)u--;for(;1<=o&&0<=u;o--,u--)if(b[o]!==C[u]){if(o!==1||u!==1)do if(o--,u--,0>u||b[o]!==C[u]){var M=`
`+b[o].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=o&&0<=u);break}}}finally{Ac=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ha(a):""}function cS(t){switch(t.tag){case 26:case 27:case 5:return Ha(t.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return Ec(t.type,!1);case 11:return Ec(t.type.render,!1);case 1:return Ec(t.type,!0);case 31:return Ha("Activity");default:return""}}function ag(t){try{var i="";do i+=cS(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sg(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fS(t){var i=sg(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function yl(t){t._valueTracker||(t._valueTracker=fS(t))}function og(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=sg(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hS=/[\n"\\]/g;function Qe(t){return t.replace(hS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xc(t,i,a,o,u,f,m,S){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),i!=null?m==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_e(i)):t.value!==""+_e(i)&&(t.value=""+_e(i)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),i!=null?Nc(t,m,_e(i)):a!=null?Nc(t,m,_e(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+_e(S):t.removeAttribute("name")}function lg(t,i,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+_e(a):"",i=i!=null?""+_e(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Nc(t,i,a){i==="number"&&pl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Va(t,i,a,o){if(t=t.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=i.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),i=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}i!==null||t[u].disabled||(i=t[u])}i!==null&&(i.selected=!0)}}function ug(t,i,a){if(i!=null&&(i=""+_e(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+_e(a):""}function cg(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=_e(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function ja(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var dS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fg(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||dS.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function hg(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in i)o=i[u],i.hasOwnProperty(u)&&a[u]!==o&&fg(t,u,o)}else for(var f in i)i.hasOwnProperty(f)&&fg(t,f,i[f])}function Dc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(t){return mS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oc=null;function Cc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ya=null,Ga=null;function dg(t){var i=qa(t);if(i&&(t=i.stateNode)){var a=t[xe]||null;t:switch(t=i.stateNode,i.type){case"input":if(xc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var u=o[xe]||null;if(!u)throw Error(r(90));xc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&og(o)}break t;case"textarea":ug(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Va(t,!!a.multiple,i,!1)}}}var Rc=!1;function gg(t,i,a){if(Rc)return t(i,a);Rc=!0;try{var o=t(i);return o}finally{if(Rc=!1,(Ya!==null||Ga!==null)&&(iu(),Ya&&(i=Ya,t=Ga,Ga=Ya=null,dg(i),t)))for(i=0;i<t.length;i++)dg(t[i])}}function Ys(t,i){var a=t.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(ti)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{kc=!1}var Dr=null,Bc=null,Sl=null;function mg(){if(Sl)return Sl;var t,i=Bc,a=i.length,o,u="value"in Dr?Dr.value:Dr.textContent,f=u.length;for(t=0;t<a&&i[t]===u[t];t++);var m=a-t;for(o=1;o<=m&&i[a-o]===u[f-o];o++);return Sl=u.slice(t,1<o?1-o:void 0)}function Tl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function yg(){return!1}function Ne(t){function i(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bl:yg,this.isPropagationStopped=yg,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),i}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Ne(ca),Ks=T({},ca,{view:0,detail:0}),yS=Ne(Ks),Ic,zc,$s,Al=T({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(Ic=t.screenX-$s.screenX,zc=t.screenY-$s.screenY):zc=Ic=0,$s=t),Ic)},movementY:function(t){return"movementY"in t?t.movementY:zc}}),pg=Ne(Al),pS=T({},Al,{dataTransfer:0}),vS=Ne(pS),SS=T({},Ks,{relatedTarget:0}),Mc=Ne(SS),TS=T({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Ne(TS),wS=T({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AS=Ne(wS),ES=T({},ca,{data:0}),vg=Ne(ES),xS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=DS[t])?!!i[t]:!1}function Uc(){return OS}var CS=T({},Ks,{key:function(t){if(t.key){var i=xS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Tl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(t){return t.type==="keypress"?Tl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RS=Ne(CS),kS=T({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=Ne(kS),BS=T({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),IS=Ne(BS),zS=T({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),MS=Ne(zS),US=T({},Al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LS=Ne(US),qS=T({},ca,{newState:0,oldState:0}),JS=Ne(qS),PS=[9,13,27,32],Lc=ti&&"CompositionEvent"in window,Xs=null;ti&&"documentMode"in document&&(Xs=document.documentMode);var HS=ti&&"TextEvent"in window&&!Xs,Tg=ti&&(!Lc||Xs&&8<Xs&&11>=Xs),bg=" ",wg=!1;function Ag(t,i){switch(t){case"keyup":return PS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function VS(t,i){switch(t){case"compositionend":return Eg(i);case"keypress":return i.which!==32?null:(wg=!0,bg);case"textInput":return t=i.data,t===bg&&wg?null:t;default:return null}}function jS(t,i){if(Ka)return t==="compositionend"||!Lc&&Ag(t,i)?(t=mg(),Sl=Bc=Dr=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Tg&&i.locale!=="ko"?null:i.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!YS[t.type]:i==="textarea"}function Ng(t,i,a,o){Ya?Ga?Ga.push(o):Ga=[o]:Ya=o,i=uu(i,"onChange"),0<i.length&&(a=new wl("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Zs=null,_s=null;function GS(t){sp(t,0)}function El(t){var i=js(t);if(og(i))return t}function Dg(t,i){if(t==="change")return i}var Og=!1;if(ti){var qc;if(ti){var Jc="oninput"in document;if(!Jc){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Jc=typeof Cg.oninput=="function"}qc=Jc}else qc=!1;Og=qc&&(!document.documentMode||9<document.documentMode)}function Rg(){Zs&&(Zs.detachEvent("onpropertychange",kg),_s=Zs=null)}function kg(t){if(t.propertyName==="value"&&El(_s)){var i=[];Ng(i,_s,t,Cc(t)),gg(GS,i)}}function KS(t,i,a){t==="focusin"?(Rg(),Zs=i,_s=a,Zs.attachEvent("onpropertychange",kg)):t==="focusout"&&Rg()}function $S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return El(_s)}function XS(t,i){if(t==="click")return El(i)}function ZS(t,i){if(t==="input"||t==="change")return El(i)}function _S(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Je=typeof Object.is=="function"?Object.is:_S;function Qs(t,i){if(Je(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!gc.call(i,u)||!Je(t[u],i[u]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,i){var a=Bg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bg(a)}}function zg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?zg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pl(t.document)}return i}function Pc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QS=ti&&"documentMode"in document&&11>=document.documentMode,$a=null,Hc=null,Fs=null,Vc=!1;function Ug(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vc||$a==null||$a!==pl(o)||(o=$a,"selectionStart"in o&&Pc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fs&&Qs(Fs,o)||(Fs=o,o=uu(Hc,"onSelect"),0<o.length&&(i=new wl("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=$a)))}function fa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Xa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},jc={},Lg={};ti&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ha(t){if(jc[t])return jc[t];if(!Xa[t])return t;var i=Xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return jc[t]=i[a];return t}var qg=ha("animationend"),Jg=ha("animationiteration"),Pg=ha("animationstart"),FS=ha("transitionrun"),WS=ha("transitionstart"),tT=ha("transitioncancel"),Hg=ha("transitionend"),Vg=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function wn(t,i){Vg.set(t,i),ua(i,[t])}var jg=new WeakMap;function Fe(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ag(i)},jg.set(t,i),i)}return{value:t,source:i,stack:ag(i)}}var We=[],Za=0,Gc=0;function xl(){for(var t=Za,i=Gc=Za=0;i<t;){var a=We[i];We[i++]=null;var o=We[i];We[i++]=null;var u=We[i];We[i++]=null;var f=We[i];if(We[i++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Yg(a,u,f)}}function Nl(t,i,a,o){We[Za++]=t,We[Za++]=i,We[Za++]=a,We[Za++]=o,Gc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Kc(t,i,a,o){return Nl(t,i,a,o),Dl(t)}function _a(t,i){return Nl(t,null,null,i),Dl(t)}function Yg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&i!==null&&(u=31-qe(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[i]:o.push(i),i.lane=a|536870912),f):null}function Dl(t){if(50<Eo)throw Eo=0,Wf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function eT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(t,i,a,o){return new eT(t,i,a,o)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,i){var a=t.alternate;return a===null?(a=Pe(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ol(t,i,a,o,u,f){var m=0;if(o=t,typeof t=="function")$c(t)&&(m=1);else if(typeof t=="string")m=ib(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case At:return t=Pe(31,a,i,u),t.elementType=At,t.lanes=f,t;case H:return da(a.children,u,f,i);case V:m=8,u|=24;break;case j:return t=Pe(12,a,i,u|2),t.elementType=j,t.lanes=f,t;case W:return t=Pe(13,a,i,u),t.elementType=W,t.lanes=f,t;case tt:return t=Pe(19,a,i,u),t.elementType=tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case Q:m=10;break t;case ut:m=9;break t;case ct:m=11;break t;case yt:m=14;break t;case wt:m=16,o=null;break t}m=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Pe(m,a,i,u),i.elementType=t,i.type=o,i.lanes=f,i}function da(t,i,a,o){return t=Pe(7,t,o,i),t.lanes=a,t}function Xc(t,i,a){return t=Pe(6,t,null,i),t.lanes=a,t}function Zc(t,i,a){return i=Pe(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fa=[],Wa=0,Cl=null,Rl=0,tn=[],en=0,ga=null,ni=1,ii="";function ma(t,i){Fa[Wa++]=Rl,Fa[Wa++]=Cl,Cl=t,Rl=i}function Kg(t,i,a){tn[en++]=ni,tn[en++]=ii,tn[en++]=ga,ga=t;var o=ni;t=ii;var u=32-qe(o)-1;o&=~(1<<u),a+=1;var f=32-qe(i)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,ni=1<<32-qe(i)+u|a<<u|o,ii=f+t}else ni=1<<f|a<<u|o,ii=t}function _c(t){t.return!==null&&(ma(t,1),Kg(t,1,0))}function Qc(t){for(;t===Cl;)Cl=Fa[--Wa],Fa[Wa]=null,Rl=Fa[--Wa],Fa[Wa]=null;for(;t===ga;)ga=tn[--en],tn[en]=null,ii=tn[--en],tn[en]=null,ni=tn[--en],tn[en]=null}var Ae=null,Yt=null,Dt=!1,ya=null,Bn=!1,Fc=Error(r(519));function pa(t){var i=Error(r(418,""));throw eo(Fe(i,t)),Fc}function $g(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[ve]=t,i[xe]=o,a){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(a=0;a<No.length;a++)vt(No[a],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":vt("invalid",i),lg(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),yl(i);break;case"select":vt("invalid",i);break;case"textarea":vt("invalid",i),cg(i,o.value,o.defaultValue,o.children),yl(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||cp(i.textContent,a)?(o.popover!=null&&(vt("beforetoggle",i),vt("toggle",i)),o.onScroll!=null&&vt("scroll",i),o.onScrollEnd!=null&&vt("scrollend",i),o.onClick!=null&&(i.onclick=cu),i=!0):i=!1,i||pa(t)}function Xg(t){for(Ae=t.return;Ae;)switch(Ae.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ae=Ae.return}}function Ws(t){if(t!==Ae)return!1;if(!Dt)return Xg(t),Dt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mh(t.type,t.memoizedProps)),a=!a),a&&Yt&&pa(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Yt=En(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Yt=null}}else i===27?(i=Yt,jr(t.type)?(t=Sh,Sh=null,Yt=t):Yt=i):Yt=Ae?En(t.stateNode.nextSibling):null;return!0}function to(){Yt=Ae=null,Dt=!1}function Zg(){var t=ya;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),ya=null),t}function eo(t){ya===null?ya=[t]:ya.push(t)}var Wc=J(null),va=null,ri=null;function Or(t,i,a){G(Wc,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=Wc.current,$(Wc)}function tf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function ef(t,i,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var b=0;b<i.length;b++)if(S.context===i[b]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),tf(f.return,a,t),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),tf(m,a,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function no(t,i,a,o){t=null;for(var u=i,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var S=u.type;Je(u.pendingProps.value,m.value)||(t!==null?t.push(S):t=[S])}}else if(u===Ue.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Bo):t=[Bo])}u=u.return}t!==null&&ef(i,t,a,o),i.flags|=262144}function kl(t){for(t=t.firstContext;t!==null;){if(!Je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){va=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Se(t){return _g(va,t)}function Bl(t,i){return va===null&&Sa(t),_g(t,i)}function _g(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ri===null){if(t===null)throw Error(r(308));ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ri=ri.next=i;return a}var nT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},iT=s.unstable_scheduleCallback,rT=s.unstable_NormalPriority,ie={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new nT,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&iT(rT,function(){t.controller.abort()})}var ro=null,rf=0,ts=0,es=null;function aT(t,i){if(ro===null){var a=ro=[];rf=0,ts=sh(),es={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,i.then(Qg,Qg),i}function Qg(){if(--rf===0&&ro!==null){es!==null&&(es.status="fulfilled");var t=ro;ro=null,ts=0,es=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var u=0;u<a.length;u++)(0,a[u])(i)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Fg=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&aT(t,i),Fg!==null&&Fg(t,i)};var Ta=J(null);function af(){var t=Ta.current;return t!==null?t:qt.pooledCache}function Il(t,i){i===null?G(Ta,Ta.current):G(Ta,i.pool)}function Wg(){var t=af();return t===null?null:{parent:ie._currentValue,pool:t}}var ao=Error(r(460)),tm=Error(r(474)),zl=Error(r(542)),sf={then:function(){}};function em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ml(){}function nm(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ml,Ml),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rm(t),t;default:if(typeof i.status=="string")i.then(Ml,Ml);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=o}},function(o){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,rm(t),t}throw so=i,ao}}var so=null;function im(){if(so===null)throw Error(r(459));var t=so;return so=null,t}function rm(t){if(t===ao||t===zl)throw Error(r(483))}var Cr=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ct&2)!==0){var u=o.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i,i=Dl(t),Yg(t,null,a),i}return Nl(t,o,i,a),Dl(t)}function oo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Qd(t,a)}}function uf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function lo(){if(cf){var t=es;if(t!==null)throw t}}function uo(t,i,a,o){cf=!1;var u=t.updateQueue;Cr=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var b=S,C=b.next;b.next=null,m===null?f=C:m.next=C,m=b;var M=t.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=C:S.next=C,M.lastBaseUpdate=b))}if(f!==null){var q=u.baseState;m=0,M=C=b=null,S=f;do{var k=S.lane&-536870913,B=k!==S.lane;if(B?(bt&k)===k:(o&k)===k){k!==0&&k===ts&&(cf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var lt=t,at=S;k=i;var zt=a;switch(at.tag){case 1:if(lt=at.payload,typeof lt=="function"){q=lt.call(zt,q,k);break t}q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=at.payload,k=typeof lt=="function"?lt.call(zt,q,k):lt,k==null)break t;q=T({},q,k);break t;case 2:Cr=!0}}k=S.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[k]:B.push(k))}else B={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(C=M=B,b=q):M=M.next=B,m|=k;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(b=q),u.baseState=b,u.firstBaseUpdate=C,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),Jr|=m,t.lanes=m,t.memoizedState=q}}function am(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function sm(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)am(a[t],i)}var ns=J(null),Ul=J(0);function om(t,i){t=hi,G(Ul,t),G(ns,i),hi=t|i.baseLanes}function ff(){G(Ul,hi),G(ns,ns.current)}function hf(){hi=Ul.current,$(ns),$(Ul)}var Br=0,gt=null,Bt=null,te=null,Ll=!1,is=!1,ba=!1,ql=0,co=0,rs=null,oT=0;function Zt(){throw Error(r(321))}function df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Je(t[a],i[a]))return!1;return!0}function gf(t,i,a,o,u,f){return Br=f,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?Ym:Gm,ba=!1,f=a(o,u),ba=!1,is&&(f=um(i,a,o,u)),lm(t),f}function lm(t){U.H=Yl;var i=Bt!==null&&Bt.next!==null;if(Br=0,te=Bt=gt=null,Ll=!1,co=0,rs=null,i)throw Error(r(300));t===null||le||(t=t.dependencies,t!==null&&kl(t)&&(le=!0))}function um(t,i,a,o){gt=t;var u=0;do{if(is&&(rs=null),co=0,is=!1,25<=u)throw Error(r(301));if(u+=1,te=Bt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=gT,f=i(a,o)}while(is);return f}function lT(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?fo(i):i,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(gt.flags|=1024),i}function mf(){var t=ql!==0;return ql=0,t}function yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function pf(t){if(Ll){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ll=!1}Br=0,te=Bt=gt=null,is=!1,co=ql=0,rs=null}function De(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?gt.memoizedState=te=t:te=te.next=t,te}function ee(){if(Bt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var i=te===null?gt.memoizedState:te.next;if(i!==null)te=i,Bt=t;else{if(t===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},te===null?gt.memoizedState=te=t:te=te.next=t}return te}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var i=co;return co+=1,rs===null&&(rs=[]),t=nm(rs,t,i),i=gt,(te===null?i.memoizedState:te.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Ym:Gm),t}function Jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===Q)return Se(t)}throw Error(r(438,String(t)))}function Sf(t){var i=null,a=gt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vf(),gt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=ne;return i.index++,a}function si(t,i){return typeof i=="function"?i(t):i}function Pl(t){var i=ee();return Tf(i,Bt,t)}function Tf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}i.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{i=u.next;var S=m=null,b=null,C=i,M=!1;do{var q=C.lane&-536870913;if(q!==C.lane?(bt&q)===q:(Br&q)===q){var k=C.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),q===ts&&(M=!0);else if((Br&k)===k){C=C.next,k===ts&&(M=!0);continue}else q={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(S=b=q,m=f):b=b.next=q,gt.lanes|=k,Jr|=k;q=C.action,ba&&a(f,q),f=C.hasEagerState?C.eagerState:a(f,q)}else k={lane:q,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(S=b=k,m=f):b=b.next=k,gt.lanes|=q,Jr|=q;C=C.next}while(C!==null&&C!==i);if(b===null?m=f:b.next=S,!Je(f,t.memoizedState)&&(le=!0,M&&(a=es,a!==null)))throw a;t.memoizedState=f,t.baseState=m,t.baseQueue=b,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bf(t){var i=ee(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=t(f,m.action),m=m.next;while(m!==u);Je(f,i.memoizedState)||(le=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function cm(t,i,a){var o=gt,u=ee(),f=Dt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var m=!Je((Bt||u).memoizedState,a);m&&(u.memoizedState=a,le=!0),u=u.queue;var S=dm.bind(null,o,u,t);if(ho(2048,8,S,[t]),u.getSnapshot!==i||m||te!==null&&te.memoizedState.tag&1){if(o.flags|=2048,as(9,Hl(),hm.bind(null,o,u,a,i),null),qt===null)throw Error(r(349));f||(Br&124)!==0||fm(o,i,a)}return a}function fm(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=gt.updateQueue,i===null?(i=vf(),gt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hm(t,i,a,o){i.value=a,i.getSnapshot=o,gm(i)&&mm(t)}function dm(t,i,a){return a(function(){gm(i)&&mm(t)})}function gm(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Je(t,a)}catch{return!0}}function mm(t){var i=_a(t,2);i!==null&&Ge(i,t,2)}function wf(t){var i=De();if(typeof t=="function"){var a=t;if(t=a(),ba){xr(!0);try{a()}finally{xr(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},i}function ym(t,i,a,o){return t.baseState=a,Tf(t,Bt,typeof o=="function"?o:si)}function uT(t,i,a,o,u){if(jl(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,pm(i,f)):(f.next=a.next,i.pending=a.next=f)}}function pm(t,i){var a=i.action,o=i.payload,u=t.state;if(i.isTransition){var f=U.T,m={};U.T=m;try{var S=a(u,o),b=U.S;b!==null&&b(m,S),vm(t,i,S)}catch(C){Af(t,i,C)}finally{U.T=f}}else try{f=a(u,o),vm(t,i,f)}catch(C){Af(t,i,C)}}function vm(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Sm(t,i,o)},function(o){return Af(t,i,o)}):Sm(t,i,a)}function Sm(t,i,a){i.status="fulfilled",i.value=a,Tm(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,pm(t,a)))}function Af(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Tm(i),i=i.next;while(i!==o)}t.action=null}function Tm(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function bm(t,i){return i}function wm(t,i){if(Dt){var a=qt.formState;if(a!==null){t:{var o=gt;if(Dt){if(Yt){e:{for(var u=Yt,f=Bn;u.nodeType!==8;){if(!f){u=null;break e}if(u=En(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Yt=En(u.nextSibling),o=u.data==="F!";break t}}pa(o)}o=!1}o&&(i=a[0])}}return a=De(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:i},a.queue=o,a=Hm.bind(null,gt,o),o.dispatch=a,o=wf(!1),f=Of.bind(null,gt,!1,o.queue),o=De(),u={state:i,dispatch:null,action:t,pending:null},o.queue=u,a=uT.bind(null,gt,u,f,a),u.dispatch=a,o.memoizedState=t,[i,a,!1]}function Am(t){var i=ee();return Em(i,Bt,t)}function Em(t,i,a){if(i=Tf(t,i,bm)[0],t=Pl(si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fo(i)}catch(m){throw m===ao?zl:m}else o=i;i=ee();var u=i.queue,f=u.dispatch;return a!==i.memoizedState&&(gt.flags|=2048,as(9,Hl(),cT.bind(null,u,a),null)),[o,f,t]}function cT(t,i){t.action=i}function xm(t){var i=ee(),a=Bt;if(a!==null)return Em(i,a,t);ee(),i=i.memoizedState,a=ee();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function as(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=gt.updateQueue,i===null&&(i=vf(),gt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Hl(){return{destroy:void 0,resource:void 0}}function Nm(){return ee().memoizedState}function Vl(t,i,a,o){var u=De();o=o===void 0?null:o,gt.flags|=t,u.memoizedState=as(1|i,Hl(),a,o)}function ho(t,i,a,o){var u=ee();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&df(o,Bt.memoizedState.deps)?u.memoizedState=as(i,f,a,o):(gt.flags|=t,u.memoizedState=as(1|i,f,a,o))}function Dm(t,i){Vl(8390656,8,t,i)}function Om(t,i){ho(2048,8,t,i)}function Cm(t,i){return ho(4,2,t,i)}function Rm(t,i){return ho(4,4,t,i)}function km(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Bm(t,i,a){a=a!=null?a.concat([t]):null,ho(4,4,km.bind(null,i,t),a)}function Ef(){}function Im(t,i){var a=ee();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&df(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function zm(t,i){var a=ee();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&df(i,o[1]))return o[0];if(o=t(),ba){xr(!0);try{t()}finally{xr(!1)}}return a.memoizedState=[o,i],o}function xf(t,i,a){return a===void 0||(Br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ly(),gt.lanes|=t,Jr|=t,a)}function Mm(t,i,a,o){return Je(a,i)?a:ns.current!==null?(t=xf(t,a,o),Je(t,i)||(le=!0),t):(Br&42)===0?(le=!0,t.memoizedState=a):(t=Ly(),gt.lanes|=t,Jr|=t,i)}function Um(t,i,a,o,u){var f=K.p;K.p=f!==0&&8>f?f:8;var m=U.T,S={};U.T=S,Of(t,!1,i,a);try{var b=u(),C=U.S;if(C!==null&&C(S,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=sT(b,o);go(t,i,M,Ye(t))}else go(t,i,o,Ye(t))}catch(q){go(t,i,{then:function(){},status:"rejected",reason:q},Ye())}finally{K.p=f,U.T=m}}function fT(){}function Nf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var u=Lm(t).queue;Um(t,u,i,ot,a===null?fT:function(){return qm(t),a(o)})}function Lm(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qm(t){var i=Lm(t).next.queue;go(t,i,{},Ye())}function Df(){return Se(Bo)}function Jm(){return ee().memoizedState}function Pm(){return ee().memoizedState}function hT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ye();t=Rr(a);var o=kr(i,t,a);o!==null&&(Ge(o,i,a),oo(o,i,a)),i={cache:nf()},t.payload=i;return}i=i.return}}function dT(t,i,a){var o=Ye();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jl(t)?Vm(i,a):(a=Kc(t,i,a,o),a!==null&&(Ge(a,t,o),jm(a,i,o)))}function Hm(t,i,a){var o=Ye();go(t,i,a,o)}function go(t,i,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jl(t))Vm(i,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var m=i.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Je(S,m))return Nl(t,i,u,0),qt===null&&xl(),!1}catch{}finally{}if(a=Kc(t,i,u,o),a!==null)return Ge(a,t,o),jm(a,i,o),!0}return!1}function Of(t,i,a,o){if(o={lane:2,revertLane:sh(),action:o,hasEagerState:!1,eagerState:null,next:null},jl(t)){if(i)throw Error(r(479))}else i=Kc(t,a,o,2),i!==null&&Ge(i,t,2)}function jl(t){var i=t.alternate;return t===gt||i!==null&&i===gt}function Vm(t,i){is=Ll=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jm(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Qd(t,a)}}var Yl={readContext:Se,use:Jl,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},Ym={readContext:Se,use:Jl,useCallback:function(t,i){return De().memoizedState=[t,i===void 0?null:i],t},useContext:Se,useEffect:Dm,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Vl(4194308,4,km.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Vl(4194308,4,t,i)},useInsertionEffect:function(t,i){Vl(4,2,t,i)},useMemo:function(t,i){var a=De();i=i===void 0?null:i;var o=t();if(ba){xr(!0);try{t()}finally{xr(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=De();if(a!==void 0){var u=a(i);if(ba){xr(!0);try{a(i)}finally{xr(!1)}}}else u=i;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=dT.bind(null,gt,t),[o.memoizedState,t]},useRef:function(t){var i=De();return t={current:t},i.memoizedState=t},useState:function(t){t=wf(t);var i=t.queue,a=Hm.bind(null,gt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,i){var a=De();return xf(a,t,i)},useTransition:function(){var t=wf(!1);return t=Um.bind(null,gt,t.queue,!0,!1),De().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=gt,u=De();if(Dt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),qt===null)throw Error(r(349));(bt&124)!==0||fm(o,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,Dm(dm.bind(null,o,f,t),[t]),o.flags|=2048,as(9,Hl(),hm.bind(null,o,f,a,i),null),a},useId:function(){var t=De(),i=qt.identifierPrefix;if(Dt){var a=ii,o=ni;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=ql++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=oT++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Df,useFormState:wm,useActionState:wm,useOptimistic:function(t){var i=De();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Of.bind(null,gt,!0,a),a.dispatch=i,[t,i]},useMemoCache:Sf,useCacheRefresh:function(){return De().memoizedState=hT.bind(null,gt)}},Gm={readContext:Se,use:Jl,useCallback:Im,useContext:Se,useEffect:Om,useImperativeHandle:Bm,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:zm,useReducer:Pl,useRef:Nm,useState:function(){return Pl(si)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=ee();return Mm(a,Bt.memoizedState,t,i)},useTransition:function(){var t=Pl(si)[0],i=ee().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:cm,useId:Jm,useHostTransitionStatus:Df,useFormState:Am,useActionState:Am,useOptimistic:function(t,i){var a=ee();return ym(a,Bt,t,i)},useMemoCache:Sf,useCacheRefresh:Pm},gT={readContext:Se,use:Jl,useCallback:Im,useContext:Se,useEffect:Om,useImperativeHandle:Bm,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:zm,useReducer:bf,useRef:Nm,useState:function(){return bf(si)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=ee();return Bt===null?xf(a,t,i):Mm(a,Bt.memoizedState,t,i)},useTransition:function(){var t=bf(si)[0],i=ee().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:cm,useId:Jm,useHostTransitionStatus:Df,useFormState:xm,useActionState:xm,useOptimistic:function(t,i){var a=ee();return Bt!==null?ym(a,Bt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Pm},ss=null,mo=0;function Gl(t){var i=mo;return mo+=1,ss===null&&(ss=[]),nm(ss,t,i)}function yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Kl(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Km(t){var i=t._init;return i(t._payload)}function $m(t){function i(E,A){if(t){var D=E.deletions;D===null?(E.deletions=[A],E.flags|=16):D.push(A)}}function a(E,A){if(!t)return null;for(;A!==null;)i(E,A),A=A.sibling;return null}function o(E){for(var A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function u(E,A){return E=ei(E,A),E.index=0,E.sibling=null,E}function f(E,A,D){return E.index=D,t?(D=E.alternate,D!==null?(D=D.index,D<A?(E.flags|=67108866,A):D):(E.flags|=67108866,A)):(E.flags|=1048576,A)}function m(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function S(E,A,D,L){return A===null||A.tag!==6?(A=Xc(D,E.mode,L),A.return=E,A):(A=u(A,D),A.return=E,A)}function b(E,A,D,L){var X=D.type;return X===H?M(E,A,D.props.children,L,D.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&Km(X)===A.type)?(A=u(A,D.props),yo(A,D),A.return=E,A):(A=Ol(D.type,D.key,D.props,null,E.mode,L),yo(A,D),A.return=E,A)}function C(E,A,D,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Zc(D,E.mode,L),A.return=E,A):(A=u(A,D.children||[]),A.return=E,A)}function M(E,A,D,L,X){return A===null||A.tag!==7?(A=da(D,E.mode,L,X),A.return=E,A):(A=u(A,D),A.return=E,A)}function q(E,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Xc(""+A,E.mode,D),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return D=Ol(A.type,A.key,A.props,null,E.mode,D),yo(D,A),D.return=E,D;case R:return A=Zc(A,E.mode,D),A.return=E,A;case wt:var L=A._init;return A=L(A._payload),q(E,A,D)}if(pe(A)||se(A))return A=da(A,E.mode,D,null),A.return=E,A;if(typeof A.then=="function")return q(E,Gl(A),D);if(A.$$typeof===Q)return q(E,Bl(E,A),D);Kl(E,A)}return null}function k(E,A,D,L){var X=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return X!==null?null:S(E,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return D.key===X?b(E,A,D,L):null;case R:return D.key===X?C(E,A,D,L):null;case wt:return X=D._init,D=X(D._payload),k(E,A,D,L)}if(pe(D)||se(D))return X!==null?null:M(E,A,D,L,null);if(typeof D.then=="function")return k(E,A,Gl(D),L);if(D.$$typeof===Q)return k(E,A,Bl(E,D),L);Kl(E,D)}return null}function B(E,A,D,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(D)||null,S(A,E,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return E=E.get(L.key===null?D:L.key)||null,b(A,E,L,X);case R:return E=E.get(L.key===null?D:L.key)||null,C(A,E,L,X);case wt:var mt=L._init;return L=mt(L._payload),B(E,A,D,L,X)}if(pe(L)||se(L))return E=E.get(D)||null,M(A,E,L,X,null);if(typeof L.then=="function")return B(E,A,D,Gl(L),X);if(L.$$typeof===Q)return B(E,A,D,Bl(A,L),X);Kl(A,L)}return null}function lt(E,A,D,L){for(var X=null,mt=null,_=A,st=A=0,ce=null;_!==null&&st<D.length;st++){_.index>st?(ce=_,_=null):ce=_.sibling;var Nt=k(E,_,D[st],L);if(Nt===null){_===null&&(_=ce);break}t&&_&&Nt.alternate===null&&i(E,_),A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt,_=ce}if(st===D.length)return a(E,_),Dt&&ma(E,st),X;if(_===null){for(;st<D.length;st++)_=q(E,D[st],L),_!==null&&(A=f(_,A,st),mt===null?X=_:mt.sibling=_,mt=_);return Dt&&ma(E,st),X}for(_=o(_);st<D.length;st++)ce=B(_,E,st,D[st],L),ce!==null&&(t&&ce.alternate!==null&&_.delete(ce.key===null?st:ce.key),A=f(ce,A,st),mt===null?X=ce:mt.sibling=ce,mt=ce);return t&&_.forEach(function(Xr){return i(E,Xr)}),Dt&&ma(E,st),X}function at(E,A,D,L){if(D==null)throw Error(r(151));for(var X=null,mt=null,_=A,st=A=0,ce=null,Nt=D.next();_!==null&&!Nt.done;st++,Nt=D.next()){_.index>st?(ce=_,_=null):ce=_.sibling;var Xr=k(E,_,Nt.value,L);if(Xr===null){_===null&&(_=ce);break}t&&_&&Xr.alternate===null&&i(E,_),A=f(Xr,A,st),mt===null?X=Xr:mt.sibling=Xr,mt=Xr,_=ce}if(Nt.done)return a(E,_),Dt&&ma(E,st),X;if(_===null){for(;!Nt.done;st++,Nt=D.next())Nt=q(E,Nt.value,L),Nt!==null&&(A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt);return Dt&&ma(E,st),X}for(_=o(_);!Nt.done;st++,Nt=D.next())Nt=B(_,E,st,Nt.value,L),Nt!==null&&(t&&Nt.alternate!==null&&_.delete(Nt.key===null?st:Nt.key),A=f(Nt,A,st),mt===null?X=Nt:mt.sibling=Nt,mt=Nt);return t&&_.forEach(function(mb){return i(E,mb)}),Dt&&ma(E,st),X}function zt(E,A,D,L){if(typeof D=="object"&&D!==null&&D.type===H&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case I:t:{for(var X=D.key;A!==null;){if(A.key===X){if(X=D.type,X===H){if(A.tag===7){a(E,A.sibling),L=u(A,D.props.children),L.return=E,E=L;break t}}else if(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===wt&&Km(X)===A.type){a(E,A.sibling),L=u(A,D.props),yo(L,D),L.return=E,E=L;break t}a(E,A);break}else i(E,A);A=A.sibling}D.type===H?(L=da(D.props.children,E.mode,L,D.key),L.return=E,E=L):(L=Ol(D.type,D.key,D.props,null,E.mode,L),yo(L,D),L.return=E,E=L)}return m(E);case R:t:{for(X=D.key;A!==null;){if(A.key===X)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(E,A.sibling),L=u(A,D.children||[]),L.return=E,E=L;break t}else{a(E,A);break}else i(E,A);A=A.sibling}L=Zc(D,E.mode,L),L.return=E,E=L}return m(E);case wt:return X=D._init,D=X(D._payload),zt(E,A,D,L)}if(pe(D))return lt(E,A,D,L);if(se(D)){if(X=se(D),typeof X!="function")throw Error(r(150));return D=X.call(D),at(E,A,D,L)}if(typeof D.then=="function")return zt(E,A,Gl(D),L);if(D.$$typeof===Q)return zt(E,A,Bl(E,D),L);Kl(E,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(E,A.sibling),L=u(A,D),L.return=E,E=L):(a(E,A),L=Xc(D,E.mode,L),L.return=E,E=L),m(E)):a(E,A)}return function(E,A,D,L){try{mo=0;var X=zt(E,A,D,L);return ss=null,X}catch(_){if(_===ao||_===zl)throw _;var mt=Pe(29,_,null,E.mode);return mt.lanes=L,mt.return=E,mt}finally{}}}var os=$m(!0),Xm=$m(!1),nn=J(null),In=null;function Ir(t){var i=t.alternate;G(re,re.current&1),G(nn,t),In===null&&(i===null||ns.current!==null||i.memoizedState!==null)&&(In=t)}function Zm(t){if(t.tag===22){if(G(re,re.current),G(nn,t),In===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(In=t)}}else zr()}function zr(){G(re,re.current),G(nn,nn.current)}function oi(t){$(nn),In===t&&(In=null),$(re)}var re=J(0);function $l(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vh(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Ye(),u=Rr(o);u.payload=i,a!=null&&(u.callback=a),i=kr(t,u,o),i!==null&&(Ge(i,t,o),oo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Ye(),u=Rr(o);u.tag=1,u.payload=i,a!=null&&(u.callback=a),i=kr(t,u,o),i!==null&&(Ge(i,t,o),oo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ye(),o=Rr(a);o.tag=2,i!=null&&(o.callback=i),i=kr(t,o,a),i!==null&&(Ge(i,t,a),oo(i,t,a))}};function _m(t,i,a,o,u,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,m):i.prototype&&i.prototype.isPureReactComponent?!Qs(a,o)||!Qs(u,f):!0}function Qm(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Rf.enqueueReplaceState(i,i.state,null)}function wa(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Xl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fm(t){Xl(t)}function Wm(t){console.error(t)}function ty(t){Xl(t)}function Zl(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function kf(t,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zl(t,i)},a}function ny(t){return t=Rr(t),t.tag=3,t}function iy(t,i,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){ey(i,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){ey(i,a,o),typeof u!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function mT(t,i,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&no(i,a,u,!0),a=nn.current,a!==null){switch(a.tag){case 13:return In===null?eh():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===sf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),ih(t,o,u)),!1;case 22:return a.flags|=65536,o===sf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),ih(t,o,u)),!1}throw Error(r(435,a.tag))}return ih(t,o,u),eh(),!1}if(Dt)return i=nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,o!==Fc&&(t=Error(r(422),{cause:o}),eo(Fe(t,a)))):(o!==Fc&&(i=Error(r(423),{cause:o}),eo(Fe(i,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Fe(o,a),u=kf(t.stateNode,o,u),uf(t,u),Gt!==4&&(Gt=2)),!1;var f=Error(r(520),{cause:o});if(f=Fe(f,a),Ao===null?Ao=[f]:Ao.push(f),Gt!==4&&(Gt=2),i===null)return!0;o=Fe(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=kf(a.stateNode,o,t),uf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pr===null||!Pr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ny(u),iy(u,t,a,o),uf(a,u),!1}a=a.return}while(a!==null);return!1}var ry=Error(r(461)),le=!1;function fe(t,i,a,o){i.child=t===null?Xm(i,null,a,o):os(i,t.child,a,o)}function ay(t,i,a,o,u){a=a.render;var f=i.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return Sa(i),o=gf(t,i,a,m,f,u),S=mf(),t!==null&&!le?(yf(t,i,u),li(t,i,u)):(Dt&&S&&_c(i),i.flags|=1,fe(t,i,o,u),i.child)}function sy(t,i,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,oy(t,i,f,o,u)):(t=Ol(a.type,null,o,i,i.mode,u),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Jf(t,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(m,o)&&t.ref===i.ref)return li(t,i,u)}return i.flags|=1,t=ei(f,o),t.ref=i.ref,t.return=i,i.child=t}function oy(t,i,a,o,u){if(t!==null){var f=t.memoizedProps;if(Qs(f,o)&&t.ref===i.ref)if(le=!1,i.pendingProps=o=f,Jf(t,u))(t.flags&131072)!==0&&(le=!0);else return i.lanes=t.lanes,li(t,i,u)}return Bf(t,i,a,o,u)}function ly(t,i,a){var o=i.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=i.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return uy(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Il(i,f!==null?f.cachePool:null),f!==null?om(i,f):ff(),Zm(i);else return i.lanes=i.childLanes=536870912,uy(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Il(i,f.cachePool),om(i,f),zr(),i.memoizedState=null):(t!==null&&Il(i,null),ff(),zr());return fe(t,i,u,a),i.child}function uy(t,i,a,o){var u=af();return u=u===null?null:{parent:ie._currentValue,pool:u},i.memoizedState={baseLanes:a,cachePool:u},t!==null&&Il(i,null),ff(),Zm(i),t!==null&&no(t,i,o,!0),null}function _l(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Bf(t,i,a,o,u){return Sa(i),a=gf(t,i,a,o,void 0,u),o=mf(),t!==null&&!le?(yf(t,i,u),li(t,i,u)):(Dt&&o&&_c(i),i.flags|=1,fe(t,i,a,u),i.child)}function cy(t,i,a,o,u,f){return Sa(i),i.updateQueue=null,a=um(i,o,a,u),lm(t),o=mf(),t!==null&&!le?(yf(t,i,f),li(t,i,f)):(Dt&&o&&_c(i),i.flags|=1,fe(t,i,a,f),i.child)}function fy(t,i,a,o,u){if(Sa(i),i.stateNode===null){var f=Qa,m=a.contextType;typeof m=="object"&&m!==null&&(f=Se(m)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},of(i),m=a.contextType,f.context=typeof m=="object"&&m!==null?Se(m):Qa,f.state=i.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Cf(i,a,m,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Rf.enqueueReplaceState(f,f.state,null),uo(i,o,f,u),lo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,b=wa(a,S);f.props=b;var C=f.context,M=a.contextType;m=Qa,typeof M=="object"&&M!==null&&(m=Se(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||C!==m)&&Qm(i,f,o,m),Cr=!1;var k=i.memoizedState;f.state=k,uo(i,o,f,u),lo(),C=i.memoizedState,S||k!==C||Cr?(typeof q=="function"&&(Cf(i,a,q,o),C=i.memoizedState),(b=Cr||_m(i,a,b,o,k,C,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=C),f.props=o,f.state=C,f.context=m,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,lf(t,i),m=i.memoizedProps,M=wa(a,m),f.props=M,q=i.pendingProps,k=f.context,C=a.contextType,b=Qa,typeof C=="object"&&C!==null&&(b=Se(C)),S=a.getDerivedStateFromProps,(C=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==q||k!==b)&&Qm(i,f,o,b),Cr=!1,k=i.memoizedState,f.state=k,uo(i,o,f,u),lo();var B=i.memoizedState;m!==q||k!==B||Cr||t!==null&&t.dependencies!==null&&kl(t.dependencies)?(typeof S=="function"&&(Cf(i,a,S,o),B=i.memoizedState),(M=Cr||_m(i,a,M,o,k,B,b)||t!==null&&t.dependencies!==null&&kl(t.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=M):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,_l(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=os(i,t.child,null,u),i.child=os(i,null,a,u)):fe(t,i,a,u),i.memoizedState=f.state,t=i.child):t=li(t,i,u),t}function hy(t,i,a,o){return to(),i.flags|=256,fe(t,i,a,o),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:Wg()}}function Mf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=rn),t}function dy(t,i,a){var o=i.pendingProps,u=!1,f=(i.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(re.current&2)!==0),m&&(u=!0,i.flags&=-129),m=(i.flags&32)!==0,i.flags&=-33,t===null){if(Dt){if(u?Ir(i):zr(),Dt){var S=Yt,b;if(b=S){t:{for(b=S,S=Bn;b.nodeType!==8;){if(!S){S=null;break t}if(b=En(b.nextSibling),b===null){S=null;break t}}S=b}S!==null?(i.memoizedState={dehydrated:S,treeContext:ga!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},b=Pe(18,null,null,0),b.stateNode=S,b.return=i,i.child=b,Ae=i,Yt=null,b=!0):b=!1}b||pa(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return vh(S)?i.lanes=32:i.lanes=536870912,null;oi(i)}return S=o.children,o=o.fallback,u?(zr(),u=i.mode,S=Ql({mode:"hidden",children:S},u),o=da(o,u,a,null),S.return=i,o.return=i,S.sibling=o,i.child=S,u=i.child,u.memoizedState=zf(a),u.childLanes=Mf(t,m,a),i.memoizedState=If,o):(Ir(i),Uf(i,S))}if(b=t.memoizedState,b!==null&&(S=b.dehydrated,S!==null)){if(f)i.flags&256?(Ir(i),i.flags&=-257,i=Lf(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),u=o.fallback,S=i.mode,o=Ql({mode:"visible",children:o.children},S),u=da(u,S,a,null),u.flags|=2,o.return=i,u.return=i,o.sibling=u,i.child=o,os(i,t.child,null,a),o=i.child,o.memoizedState=zf(a),o.childLanes=Mf(t,m,a),i.memoizedState=If,i=u);else if(Ir(i),vh(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var C=m.dgst;m=C,o=Error(r(419)),o.stack="",o.digest=m,eo({value:o,source:null,stack:null}),i=Lf(t,i,a)}else if(le||no(t,i,a,!1),m=(a&t.childLanes)!==0,le||m){if(m=qt,m!==null&&(o=a&-a,o=(o&42)!==0?1:vc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,_a(t,o),Ge(m,t,o),ry;S.data==="$?"||eh(),i=Lf(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,Yt=En(S.nextSibling),Ae=i,Dt=!0,ya=null,Bn=!1,t!==null&&(tn[en++]=ni,tn[en++]=ii,tn[en++]=ga,ni=t.id,ii=t.overflow,ga=i),i=Uf(i,o.children),i.flags|=4096);return i}return u?(zr(),u=o.fallback,S=i.mode,b=t.child,C=b.sibling,o=ei(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,C!==null?u=ei(C,u):(u=da(u,S,a,null),u.flags|=2),u.return=i,o.return=i,o.sibling=u,i.child=o,o=u,u=i.child,S=t.child.memoizedState,S===null?S=zf(a):(b=S.cachePool,b!==null?(C=ie._currentValue,b=b.parent!==C?{parent:C,pool:C}:b):b=Wg(),S={baseLanes:S.baseLanes|a,cachePool:b}),u.memoizedState=S,u.childLanes=Mf(t,m,a),i.memoizedState=If,o):(Ir(i),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(m=i.deletions,m===null?(i.deletions=[t],i.flags|=16):m.push(t)),i.child=a,i.memoizedState=null,a)}function Uf(t,i){return i=Ql({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ql(t,i){return t=Pe(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,i,a){return os(i,t.child,null,a),t=Uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),tf(t.return,i,a)}function qf(t,i,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function my(t,i,a){var o=i.pendingProps,u=o.revealOrder,f=o.tail;if(fe(t,i,o.children,a),o=re.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,a,i);else if(t.tag===19)gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(re,o),u){case"forwards":for(a=i.child,u=null;a!==null;)t=a.alternate,t!==null&&$l(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),qf(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(t=u.alternate,t!==null&&$l(t)===null){i.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}qf(i,!0,a,null,f);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(no(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ei(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&kl(t)))}function yT(t,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),Or(i,ie,t.memoizedState.cache),to();break;case 27:case 5:dc(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dy(t,i,a):(Ir(i),t=li(t,i,a),t!==null?t.sibling:null);Ir(i);break;case 19:var u=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(no(t,i,a,!1),o=(a&i.childLanes)!==0),u){if(o)return my(t,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(re,re.current),o)break;return null;case 22:case 23:return i.lanes=0,ly(t,i,a);case 24:Or(i,ie,t.memoizedState.cache)}return li(t,i,a)}function yy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)le=!0;else{if(!Jf(t,a)&&(i.flags&128)===0)return le=!1,yT(t,i,a);le=(t.flags&131072)!==0}else le=!1,Dt&&(i.flags&1048576)!==0&&Kg(i,Rl,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var o=i.elementType,u=o._init;if(o=u(o._payload),i.type=o,typeof o=="function")$c(o)?(t=wa(o,t),i.tag=1,i=fy(null,i,o,t,a)):(i.tag=0,i=Bf(null,i,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===ct){i.tag=11,i=ay(null,i,o,t,a);break t}else if(u===yt){i.tag=14,i=sy(null,i,o,t,a);break t}}throw i=oa(o)||o,Error(r(306,i,""))}}return i;case 0:return Bf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,u=wa(o,i.pendingProps),fy(t,i,o,u,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;u=f.element,lf(t,i),uo(i,o,null,a);var m=i.memoizedState;if(o=m.cache,Or(i,ie,o),o!==f.cache&&ef(i,[ie],a,!0),lo(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=hy(t,i,o,a);break t}else if(o!==u){u=Fe(Error(r(424)),i),eo(u),i=hy(t,i,o,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Yt=En(t.firstChild),Ae=i,Dt=!0,ya=null,Bn=!0,a=Xm(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(to(),o===u){i=li(t,i,a);break t}fe(t,i,o,a)}i=i.child}return i;case 26:return _l(t,i),t===null?(a=Tp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,t=i.pendingProps,o=fu(ft.current).createElement(a),o[ve]=i,o[xe]=t,de(o,a,t),oe(o),i.stateNode=o):i.memoizedState=Tp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return dc(i),t===null&&Dt&&(o=i.stateNode=pp(i.type,i.pendingProps,ft.current),Ae=i,Bn=!0,u=Yt,jr(i.type)?(Sh=u,Yt=En(o.firstChild)):Yt=u),fe(t,i,i.pendingProps.children,a),_l(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Dt&&((u=o=Yt)&&(o=YT(o,i.type,i.pendingProps,Bn),o!==null?(i.stateNode=o,Ae=i,Yt=En(o.firstChild),Bn=!1,u=!0):u=!1),u||pa(i)),dc(i),u=i.type,f=i.pendingProps,m=t!==null?t.memoizedProps:null,o=f.children,mh(u,f)?o=null:m!==null&&mh(u,m)&&(i.flags|=32),i.memoizedState!==null&&(u=gf(t,i,lT,null,null,a),Bo._currentValue=u),_l(t,i),fe(t,i,o,a),i.child;case 6:return t===null&&Dt&&((t=a=Yt)&&(a=GT(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ae=i,Yt=null,t=!0):t=!1),t||pa(i)),null;case 13:return dy(t,i,a);case 4:return Jt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=os(i,null,o,a):fe(t,i,o,a),i.child;case 11:return ay(t,i,i.type,i.pendingProps,a);case 7:return fe(t,i,i.pendingProps,a),i.child;case 8:return fe(t,i,i.pendingProps.children,a),i.child;case 12:return fe(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Or(i,i.type,o.value),fe(t,i,o.children,a),i.child;case 9:return u=i.type._context,o=i.pendingProps.children,Sa(i),u=Se(u),o=o(u),i.flags|=1,fe(t,i,o,a),i.child;case 14:return sy(t,i,i.type,i.pendingProps,a);case 15:return oy(t,i,i.type,i.pendingProps,a);case 19:return my(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=Ql(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ei(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ly(t,i,a);case 24:return Sa(i),o=Se(ie),t===null?(u=af(),u===null&&(u=qt,f=nf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),i.memoizedState={parent:o,cache:u},of(i),Or(i,ie,u)):((t.lanes&a)!==0&&(lf(t,i),uo(i,null,null,a),lo()),u=t.memoizedState,f=i.memoizedState,u.parent!==o?(u={parent:o,cache:o},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Or(i,ie,o)):(o=f.cache,Or(i,ie,o),o!==u.cache&&ef(i,[ie],a,!0))),fe(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ui(t){t.flags|=4}function py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(i)){if(i=nn.current,i!==null&&((bt&4194048)===bt?In!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==In))throw so=sf,tm;t.flags|=8192}}function Fl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Zd():536870912,t.lanes|=i,fs|=i)}function po(t,i){if(!Dt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function pT(t,i,a){var o=i.pendingProps;switch(Qc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ai(ie),Er(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ws(i)?ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zg())),Vt(i),null;case 26:return a=i.memoizedState,t===null?(ui(i),a!==null?(Vt(i),py(i,a)):(Vt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ui(i),Vt(i),py(i,a)):(Vt(i),i.flags&=-16777217):(t.memoizedProps!==o&&ui(i),Vt(i),i.flags&=-16777217),null;case 27:ul(i),a=ft.current;var u=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Vt(i),null}t=rt.current,Ws(i)?$g(i):(t=pp(u,o,a),i.stateNode=t,ui(i))}return Vt(i),null;case 5:if(ul(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Vt(i),null}if(t=rt.current,Ws(i))$g(i);else{switch(u=fu(ft.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[ve]=i,t[xe]=o;t:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break t;for(;u.sibling===null;){if(u.return===null||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=t;t:switch(de(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ui(i)}}return Vt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ui(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ft.current,Ws(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,u=Ae,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ve]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||cp(t.nodeValue,a)),t||pa(i)}else t=fu(t).createTextNode(o),t[ve]=i,i.stateNode=t}return Vt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Ws(i),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ve]=i}else to(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),u=!1}else u=Zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(oi(i),i):(oi(i),null)}if(oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Fl(i,i.updateQueue),Vt(i),null;case 4:return Er(),t===null&&ch(i.stateNode.containerInfo),Vt(i),null;case 10:return ai(i.type),Vt(i),null;case 19:if($(re),u=i.memoizedState,u===null)return Vt(i),null;if(o=(i.flags&128)!==0,f=u.rendering,f===null)if(o)po(u,!1);else{if(Gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$l(t),f!==null){for(i.flags|=128,po(u,!1),t=f.updateQueue,i.updateQueue=t,Fl(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gg(a,t),a=a.sibling;return G(re,re.current&1|2),i.child}t=t.sibling}u.tail!==null&&kn()>eu&&(i.flags|=128,o=!0,po(u,!1),i.lanes=4194304)}else{if(!o)if(t=$l(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Fl(i,t),po(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Dt)return Vt(i),null}else 2*kn()-u.renderingStartTime>eu&&a!==536870912&&(i.flags|=128,o=!0,po(u,!1),i.lanes=4194304);u.isBackwards?(f.sibling=i.child,i.child=f):(t=u.last,t!==null?t.sibling=f:i.child=f,u.last=f)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=kn(),i.sibling=null,t=re.current,G(re,o?t&1|2:t&1),i):(Vt(i),null);case 22:case 23:return oi(i),hf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),a=i.updateQueue,a!==null&&Fl(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&$(Ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(ie),Vt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function vT(t,i){switch(Qc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(ie),Er(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ul(i),null;case 13:if(oi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));to()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(re),null;case 4:return Er(),null;case 10:return ai(i.type),null;case 22:case 23:return oi(i),hf(),t!==null&&$(Ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(ie),null;case 25:return null;default:return null}}function vy(t,i){switch(Qc(i),i.tag){case 3:ai(ie),Er();break;case 26:case 27:case 5:ul(i);break;case 4:Er();break;case 13:oi(i);break;case 19:$(re);break;case 10:ai(i.type);break;case 22:case 23:oi(i),hf(),t!==null&&$(Ta);break;case 24:ai(ie)}}function vo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Ut(i,i.return,S)}}function Mr(t,i,a){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=i;var b=a,C=S;try{C()}catch(M){Ut(u,b,M)}}}o=o.next}while(o!==f)}}catch(M){Ut(i,i.return,M)}}function Sy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sm(i,a)}catch(o){Ut(t,t.return,o)}}}function Ty(t,i,a){a.props=wa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ut(t,i,o)}}function So(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){Ut(t,i,u)}}function zn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Ut(t,i,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ut(t,i,u)}else a.current=null}function by(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Ut(t,t.return,u)}}function Pf(t,i,a){try{var o=t.stateNode;JT(o,t.type,a,i),o[xe]=i}catch(u){Ut(t,t.return,u)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function Hf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cu));else if(o!==4&&(o===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Vf(t,i,a),t=t.sibling;t!==null;)Vf(t,i,a),t=t.sibling}function Wl(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wl(t,i,a),t=t.sibling;t!==null;)Wl(t,i,a),t=t.sibling}function Ay(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);de(i,o,a),i[ve]=t,i[xe]=a}catch(f){Ut(t,t.return,f)}}var ci=!1,_t=!1,jf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ST(t,i){if(t=t.containerInfo,dh=pu,t=Mg(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,b=-1,C=0,M=0,q=t,k=null;e:for(;;){for(var B;q!==a||u!==0&&q.nodeType!==3||(S=m+u),q!==f||o!==0&&q.nodeType!==3||(b=m+o),q.nodeType===3&&(m+=q.nodeValue.length),(B=q.firstChild)!==null;)k=q,q=B;for(;;){if(q===t)break e;if(k===a&&++C===u&&(S=m),k===f&&++M===o&&(b=m),(B=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=B}a=S===-1||b===-1?null:{start:S,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(gh={focusedElem:t,selectionRange:a},pu=!1,ue=i;ue!==null;)if(i=ue,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ue=t;else for(;ue!==null;){switch(i=ue,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=wa(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(at){Ut(a,a.return,at)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ph(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ph(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,ue=t;break}ue=i.return}}function xy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(t,a),o&4&&vo(5,a);break;case 1:if(Ur(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(m){Ut(a,a.return,m)}else{var u=wa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(u,i,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Ut(a,a.return,m)}}o&64&&Sy(a),o&512&&So(a,a.return);break;case 3:if(Ur(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sm(t,i)}catch(m){Ut(a,a.return,m)}}break;case 27:i===null&&o&4&&Ay(a);case 26:case 5:Ur(t,a),i===null&&o&4&&by(a),o&512&&So(a,a.return);break;case 12:Ur(t,a);break;case 13:Ur(t,a),o&4&&Oy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OT.bind(null,a),KT(t,a))));break;case 22:if(o=a.memoizedState!==null||ci,!o){i=i!==null&&i.memoizedState!==null||_t,u=ci;var f=_t;ci=o,(_t=i)&&!f?Lr(t,a,(a.subtreeFlags&8772)!==0):Ur(t,a),ci=u,_t=f}break;case 30:break;default:Ur(t,a)}}function Ny(t){var i=t.alternate;i!==null&&(t.alternate=null,Ny(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&bc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pt=null,Oe=!1;function fi(t,i,a){for(a=a.child;a!==null;)Dy(t,i,a),a=a.sibling}function Dy(t,i,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Js,a)}catch{}switch(a.tag){case 26:_t||zn(a,i),fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||zn(a,i);var o=Pt,u=Oe;jr(a.type)&&(Pt=a.stateNode,Oe=!1),fi(t,i,a),Oo(a.stateNode),Pt=o,Oe=u;break;case 5:_t||zn(a,i);case 6:if(o=Pt,u=Oe,Pt=null,fi(t,i,a),Pt=o,Oe=u,Pt!==null)if(Oe)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(a.stateNode)}catch(f){Ut(a,i,f)}else try{Pt.removeChild(a.stateNode)}catch(f){Ut(a,i,f)}break;case 18:Pt!==null&&(Oe?(t=Pt,mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Uo(t)):mp(Pt,a.stateNode));break;case 4:o=Pt,u=Oe,Pt=a.stateNode.containerInfo,Oe=!0,fi(t,i,a),Pt=o,Oe=u;break;case 0:case 11:case 14:case 15:_t||Mr(2,a,i),_t||Mr(4,a,i),fi(t,i,a);break;case 1:_t||(zn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,i,o)),fi(t,i,a);break;case 21:fi(t,i,a);break;case 22:_t=(o=_t)||a.memoizedState!==null,fi(t,i,a),_t=o;break;default:fi(t,i,a)}}function Oy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uo(t)}catch(a){Ut(i,i.return,a)}}function TT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ey),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ey),i;default:throw Error(r(435,t.tag))}}function Yf(t,i){var a=TT(t);i.forEach(function(o){var u=CT.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function He(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,m=i,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){Pt=S.stateNode,Oe=!1;break t}break;case 5:Pt=S.stateNode,Oe=!1;break t;case 3:case 4:Pt=S.stateNode.containerInfo,Oe=!0;break t}S=S.return}if(Pt===null)throw Error(r(160));Dy(f,m,u),Pt=null,Oe=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cy(i,t),i=i.sibling}var An=null;function Cy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:He(i,t),Ve(t),o&4&&(Mr(3,t,t.return),vo(3,t),Mr(5,t,t.return));break;case 1:He(i,t),Ve(t),o&512&&(_t||a===null||zn(a,a.return)),o&64&&ci&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=An;if(He(i,t),Ve(t),o&512&&(_t||a===null||zn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Vs]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),de(f,o,a),f[ve]=t,oe(f),o=f;break t;case"link":var m=Ap("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;case"meta":if(m=Ap("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=t,oe(f),o=f}t.stateNode=o}else Ep(u,t.type,t.stateNode);else t.stateNode=wp(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Ep(u,t.type,t.stateNode):wp(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:He(i,t),Ve(t),o&512&&(_t||a===null||zn(a,a.return)),a!==null&&o&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(He(i,t),Ve(t),o&512&&(_t||a===null||zn(a,a.return)),t.flags&32){u=t.stateNode;try{ja(u,"")}catch(B){Ut(t,t.return,B)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Pf(t,u,a!==null?a.memoizedProps:u)),o&1024&&(jf=!0);break;case 6:if(He(i,t),Ve(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){Ut(t,t.return,B)}}break;case 3:if(gu=null,u=An,An=hu(i.containerInfo),He(i,t),An=u,Ve(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Uo(i.containerInfo)}catch(B){Ut(t,t.return,B)}jf&&(jf=!1,Ry(t));break;case 4:o=An,An=hu(t.stateNode.containerInfo),He(i,t),Ve(t),An=o;break;case 12:He(i,t),Ve(t);break;case 13:He(i,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_f=kn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yf(t,o)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,C=ci,M=_t;if(ci=C||u,_t=M||b,He(i,t),_t=M,ci=C,Ve(t),o&8192)t:for(i=t.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(a===null||b||ci||_t||Aa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=b.stateNode;var q=b.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Ut(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(B){Ut(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Yf(t,a))));break;case 19:He(i,t),Ve(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yf(t,o)));break;case 30:break;case 21:break;default:He(i,t),Ve(t)}}function Ve(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(wy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,f=Hf(t);Wl(t,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(ja(m,""),a.flags&=-33);var S=Hf(t);Wl(t,S,m);break;case 3:case 4:var b=a.stateNode.containerInfo,C=Hf(t);Vf(t,C,b);break;default:throw Error(r(161))}}catch(M){Ut(t,t.return,M)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ur(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xy(t,i.alternate,i),i=i.sibling}function Aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Aa(i);break;case 1:zn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ty(i,i.return,a),Aa(i);break;case 27:Oo(i.stateNode);case 26:case 5:zn(i,i.return),Aa(i);break;case 22:i.memoizedState===null&&Aa(i);break;case 30:Aa(i);break;default:Aa(i)}t=t.sibling}}function Lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,u=t,f=i,m=f.flags;switch(f.tag){case 0:case 11:case 15:Lr(u,f,a),vo(4,f);break;case 1:if(Lr(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){Ut(o,o.return,C)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)am(b[u],S)}catch(C){Ut(o,o.return,C)}}a&&m&64&&Sy(f),So(f,f.return);break;case 27:Ay(f);case 26:case 5:Lr(u,f,a),a&&o===null&&m&4&&by(f),So(f,f.return);break;case 12:Lr(u,f,a);break;case 13:Lr(u,f,a),a&&m&4&&Oy(u,f);break;case 22:f.memoizedState===null&&Lr(u,f,a),So(f,f.return);break;case 30:break;default:Lr(u,f,a)}i=i.sibling}}function Gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&io(a))}function Kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&io(t))}function Mn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ky(t,i,a,o),i=i.sibling}function ky(t,i,a,o){var u=i.flags;switch(i.tag){case 0:case 11:case 15:Mn(t,i,a,o),u&2048&&vo(9,i);break;case 1:Mn(t,i,a,o);break;case 3:Mn(t,i,a,o),u&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&io(t)));break;case 12:if(u&2048){Mn(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ut(i,i.return,b)}}else Mn(t,i,a,o);break;case 13:Mn(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,m=i.alternate,i.memoizedState!==null?f._visibility&2?Mn(t,i,a,o):To(t,i):f._visibility&2?Mn(t,i,a,o):(f._visibility|=2,ls(t,i,a,o,(i.subtreeFlags&10256)!==0)),u&2048&&Gf(m,i);break;case 24:Mn(t,i,a,o),u&2048&&Kf(i.alternate,i);break;default:Mn(t,i,a,o)}}function ls(t,i,a,o,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,m=i,S=a,b=o,C=m.flags;switch(m.tag){case 0:case 11:case 15:ls(f,m,S,b,u),vo(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?ls(f,m,S,b,u):To(f,m):(M._visibility|=2,ls(f,m,S,b,u)),u&&C&2048&&Gf(m.alternate,m);break;case 24:ls(f,m,S,b,u),u&&C&2048&&Kf(m.alternate,m);break;default:ls(f,m,S,b,u)}i=i.sibling}}function To(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,u=o.flags;switch(o.tag){case 22:To(a,o),u&2048&&Gf(o.alternate,o);break;case 24:To(a,o),u&2048&&Kf(o.alternate,o);break;default:To(a,o)}i=i.sibling}}var bo=8192;function us(t){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:us(t),t.flags&bo&&t.memoizedState!==null&&ab(An,t.memoizedState,t.memoizedProps);break;case 5:us(t);break;case 3:case 4:var i=An;An=hu(t.stateNode.containerInfo),us(t),An=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=bo,bo=16777216,us(t),bo=i):us(t));break;default:us(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ue=o,My(o,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,tu(t)):wo(t);break;default:wo(t)}}function tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ue=o,My(o,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,tu(i));break;default:tu(i)}t=t.sibling}}function My(t,i){for(;ue!==null;){var a=ue;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:io(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ue=o;else t:for(a=t;ue!==null;){o=ue;var u=o.sibling,f=o.return;if(Ny(o),o===a){ue=null;break t}if(u!==null){u.return=f,ue=u;break t}ue=f}}}var bT={getCacheForType:function(t){var i=Se(ie),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},wT=typeof WeakMap=="function"?WeakMap:Map,Ct=0,qt=null,pt=null,bt=0,Rt=0,je=null,qr=!1,cs=!1,$f=!1,hi=0,Gt=0,Jr=0,Ea=0,Xf=0,rn=0,fs=0,Ao=null,Ce=null,Zf=!1,_f=0,eu=1/0,nu=null,Pr=null,he=0,Hr=null,hs=null,ds=0,Qf=0,Ff=null,Uy=null,Eo=0,Wf=null;function Ye(){if((Ct&2)!==0&&bt!==0)return bt&-bt;if(U.T!==null){var t=ts;return t!==0?t:sh()}return Fd()}function Ly(){rn===0&&(rn=(bt&536870912)===0||Dt?Xd():536870912);var t=nn.current;return t!==null&&(t.flags|=32),rn}function Ge(t,i,a){(t===qt&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)&&(gs(t,0),Vr(t,bt,rn,!1)),Hs(t,a),((Ct&2)===0||t!==qt)&&(t===qt&&((Ct&2)===0&&(Ea|=a),Gt===4&&Vr(t,bt,rn,!1)),Un(t))}function qy(t,i,a){if((Ct&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ps(t,i),u=o?xT(t,i):nh(t,i,!0),f=o;do{if(u===0){cs&&!o&&Vr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!AT(a)){u=nh(t,i,!1),f=!1;continue}if(u===2){if(f=i,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){i=m;t:{var S=t;u=Ao;var b=S.current.memoizedState.isDehydrated;if(b&&(gs(S,m).flags|=256),m=nh(S,m,!1),m!==2){if($f&&!b){S.errorRecoveryDisabledLanes|=f,Ea|=f,u=4;break t}f=Ce,Ce=u,f!==null&&(Ce===null?Ce=f:Ce.push.apply(Ce,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){gs(t,0),Vr(t,i,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Vr(o,i,rn,!qr);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(u=_f+300-kn(),10<u)){if(Vr(o,i,rn,!qr),dl(o,0,!0)!==0)break t;o.timeoutHandle=dp(Jy.bind(null,o,a,Ce,nu,Zf,i,rn,Ea,fs,qr,f,2,-0,0),u);break t}Jy(o,a,Ce,nu,Zf,i,rn,Ea,fs,qr,f,0,-0,0)}}break}while(!0);Un(t)}function Jy(t,i,a,o,u,f,m,S,b,C,M,q,k,B){if(t.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:rb},By(i),q=sb(),q!==null)){t.cancelPendingCommit=q(Ky.bind(null,t,i,f,a,o,u,m,S,b,M,1,k,B)),Vr(t,f,m,!C);return}Ky(t,i,f,a,o,u,m,S,b)}function AT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Je(f(),u))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(t,i,a,o){i&=~Xf,i&=~Ea,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var u=i;0<u;){var f=31-qe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&_d(t,a,i)}function iu(){return(Ct&6)===0?(xo(0),!1):!0}function th(){if(pt!==null){if(Rt===0)var t=pt.return;else t=pt,ri=va=null,pf(t),ss=null,mo=0,t=pt;for(;t!==null;)vy(t.alternate,t),t=t.return;pt=null}}function gs(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),th(),qt=t,pt=a=ei(t.current,null),bt=i,Rt=0,je=null,qr=!1,cs=Ps(t,i),$f=!1,fs=rn=Xf=Ea=Jr=Gt=0,Ce=Ao=null,Zf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var u=31-qe(o),f=1<<u;i|=t[u],o&=~f}return hi=i,xl(),a}function Py(t,i){gt=null,U.H=Yl,i===ao||i===zl?(i=im(),Rt=3):i===tm?(i=im(),Rt=4):Rt=i===ry?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,je=i,pt===null&&(Gt=1,Zl(t,Fe(i,t.current)))}function Hy(){var t=U.H;return U.H=Yl,t===null?Yl:t}function Vy(){var t=U.A;return U.A=bT,t}function eh(){Gt=4,qr||(bt&4194048)!==bt&&nn.current!==null||(cs=!0),(Jr&134217727)===0&&(Ea&134217727)===0||qt===null||Vr(qt,bt,rn,!1)}function nh(t,i,a){var o=Ct;Ct|=2;var u=Hy(),f=Vy();(qt!==t||bt!==i)&&(nu=null,gs(t,i)),i=!1;var m=Gt;t:do try{if(Rt!==0&&pt!==null){var S=pt,b=je;switch(Rt){case 8:th(),m=6;break t;case 3:case 2:case 9:case 6:nn.current===null&&(i=!0);var C=Rt;if(Rt=0,je=null,ms(t,S,b,C),a&&cs){m=0;break t}break;default:C=Rt,Rt=0,je=null,ms(t,S,b,C)}}ET(),m=Gt;break}catch(M){Py(t,M)}while(!0);return i&&t.shellSuspendCounter++,ri=va=null,Ct=o,U.H=u,U.A=f,pt===null&&(qt=null,bt=0,xl()),m}function ET(){for(;pt!==null;)jy(pt)}function xT(t,i){var a=Ct;Ct|=2;var o=Hy(),u=Vy();qt!==t||bt!==i?(nu=null,eu=kn()+500,gs(t,i)):cs=Ps(t,i);t:do try{if(Rt!==0&&pt!==null){i=pt;var f=je;e:switch(Rt){case 1:Rt=0,je=null,ms(t,i,f,1);break;case 2:case 9:if(em(f)){Rt=0,je=null,Yy(i);break}i=function(){Rt!==2&&Rt!==9||qt!==t||(Rt=7),Un(t)},f.then(i,i);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:em(f)?(Rt=0,je=null,Yy(i)):(Rt=0,je=null,ms(t,i,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||xp(m)){Rt=0,je=null;var b=S.sibling;if(b!==null)pt=b;else{var C=S.return;C!==null?(pt=C,ru(C)):pt=null}break e}}Rt=0,je=null,ms(t,i,f,5);break;case 6:Rt=0,je=null,ms(t,i,f,6);break;case 8:th(),Gt=6;break t;default:throw Error(r(462))}}NT();break}catch(M){Py(t,M)}while(!0);return ri=va=null,U.H=o,U.A=u,Ct=a,pt!==null?0:(qt=null,bt=0,xl(),Gt)}function NT(){for(;pt!==null&&!X0();)jy(pt)}function jy(t){var i=yy(t.alternate,t,hi);t.memoizedProps=t.pendingProps,i===null?ru(t):pt=i}function Yy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=cy(a,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=cy(a,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:pf(i);default:vy(a,i),i=pt=Gg(i,hi),i=yy(a,i,hi)}t.memoizedProps=t.pendingProps,i===null?ru(t):pt=i}function ms(t,i,a,o){ri=va=null,pf(i),ss=null,mo=0;var u=i.return;try{if(mT(t,u,i,a,bt)){Gt=1,Zl(t,Fe(a,t.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Gt=1,Zl(t,Fe(a,t.current)),pt=null;return}i.flags&32768?(Dt||o===1?t=!0:cs||(bt&536870912)!==0?t=!1:(qr=t=!0,(o===2||o===9||o===3||o===6)&&(o=nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(i,t)):ru(i)}function ru(t){var i=t;do{if((i.flags&32768)!==0){Gy(i,qr);return}t=i.return;var a=pT(i.alternate,i,hi);if(a!==null){pt=a;return}if(i=i.sibling,i!==null){pt=i;return}pt=i=t}while(i!==null);Gt===0&&(Gt=5)}function Gy(t,i){do{var a=vT(t.alternate,t);if(a!==null){a.flags&=32767,pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){pt=t;return}pt=t=a}while(t!==null);Gt=6,pt=null}function Ky(t,i,a,o,u,f,m,S,b){t.cancelPendingCommit=null;do au();while(he!==0);if((Ct&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Gc,rS(t,a,f,m,S,b),t===qt&&(pt=qt=null,bt=0),hs=i,Hr=t,ds=a,Qf=f,Ff=u,Uy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RT(cl,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=K.p,K.p=2,m=Ct,Ct|=4;try{ST(t,i,a)}finally{Ct=m,K.p=u,U.T=o}}he=1,$y(),Xy(),Zy()}}function $y(){if(he===1){he=0;var t=Hr,i=hs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Ct;Ct|=4;try{Cy(i,t);var f=gh,m=Mg(t.containerInfo),S=f.focusedElem,b=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&zg(S.ownerDocument.documentElement,S)){if(b!==null&&Pc(S)){var C=b.start,M=b.end;if(M===void 0&&(M=C),"selectionStart"in S)S.selectionStart=C,S.selectionEnd=Math.min(M,S.value.length);else{var q=S.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var B=k.getSelection(),lt=S.textContent.length,at=Math.min(b.start,lt),zt=b.end===void 0?at:Math.min(b.end,lt);!B.extend&&at>zt&&(m=zt,zt=at,at=m);var E=Ig(S,at),A=Ig(S,zt);if(E&&A&&(B.rangeCount!==1||B.anchorNode!==E.node||B.anchorOffset!==E.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var D=q.createRange();D.setStart(E.node,E.offset),B.removeAllRanges(),at>zt?(B.addRange(D),B.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),B.addRange(D))}}}}for(q=[],B=S;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var L=q[S];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}pu=!!dh,gh=dh=null}finally{Ct=u,K.p=o,U.T=a}}t.current=i,he=2}}function Xy(){if(he===2){he=0;var t=Hr,i=hs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=K.p;K.p=2;var u=Ct;Ct|=4;try{xy(t,i.alternate,i)}finally{Ct=u,K.p=o,U.T=a}}he=3}}function Zy(){if(he===4||he===3){he=0,Z0();var t=Hr,i=hs,a=ds,o=Uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?he=5:(he=0,hs=Hr=null,_y(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Pr=null),Sc(a),i=i.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Js,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,u=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{U.T=i,K.p=u}}(ds&3)!==0&&au(),Un(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===Wf?Eo++:(Eo=0,Wf=t):Eo=0,xo(0)}}function _y(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,io(i)))}function au(t){return $y(),Xy(),Zy(),Qy()}function Qy(){if(he!==5)return!1;var t=Hr,i=Qf;Qf=0;var a=Sc(ds),o=U.T,u=K.p;try{K.p=32>a?32:a,U.T=null,a=Ff,Ff=null;var f=Hr,m=ds;if(he=0,hs=Hr=null,ds=0,(Ct&6)!==0)throw Error(r(331));var S=Ct;if(Ct|=4,zy(f.current),ky(f,f.current,m,a),Ct=S,xo(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Js,f)}catch{}return!0}finally{K.p=u,U.T=o,_y(t,i)}}function Fy(t,i,a){i=Fe(a,i),i=kf(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(Hs(t,2),Un(t))}function Ut(t,i,a){if(t.tag===3)Fy(t,t,a);else for(;i!==null;){if(i.tag===3){Fy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){t=Fe(a,t),a=ny(2),o=kr(i,a,2),o!==null&&(iy(a,o,i,t),Hs(o,2),Un(o));break}}i=i.return}}function ih(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new wT;var u=new Set;o.set(i,u)}else u=o.get(i),u===void 0&&(u=new Set,o.set(i,u));u.has(a)||($f=!0,u.add(a),t=DT.bind(null,t,i,a),i.then(t,t))}function DT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,qt===t&&(bt&a)===a&&(Gt===4||Gt===3&&(bt&62914560)===bt&&300>kn()-_f?(Ct&2)===0&&gs(t,0):Xf|=a,fs===bt&&(fs=0)),Un(t)}function Wy(t,i){i===0&&(i=Zd()),t=_a(t,i),t!==null&&(Hs(t,i),Un(t))}function OT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Wy(t,a)}function CT(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Wy(t,a)}function RT(t,i){return mc(t,i)}var su=null,ys=null,rh=!1,ou=!1,ah=!1,xa=0;function Un(t){t!==ys&&t.next===null&&(ys===null?su=ys=t:ys=ys.next=t),ou=!0,rh||(rh=!0,BT())}function xo(t,i){if(!ah&&ou){ah=!0;do for(var a=!1,o=su;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ip(o,f))}else f=bt,f=dl(o,o===qt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ps(o,f)||(a=!0,ip(o,f));o=o.next}while(a);ah=!1}}function kT(){tp()}function tp(){ou=rh=!1;var t=0;xa!==0&&(PT()&&(t=xa),xa=0);for(var i=kn(),a=null,o=su;o!==null;){var u=o.next,f=ep(o,i);f===0?(o.next=null,a===null?su=u:a.next=u,u===null&&(ys=a)):(a=o,(t!==0||(f&3)!==0)&&(ou=!0)),o=u}xo(t)}function ep(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-qe(f),S=1<<m,b=u[m];b===-1?((S&a)===0||(S&o)!==0)&&(u[m]=iS(S,i)):b<=i&&(t.expiredLanes|=S),f&=~S}if(i=qt,a=bt,a=dl(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Rt===2||Rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ps(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&yc(o),Sc(a)){case 2:case 8:a=Kd;break;case 32:a=cl;break;case 268435456:a=$d;break;default:a=cl}return o=np.bind(null,t),a=mc(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&yc(o),t.callbackPriority=2,t.callbackNode=null,2}function np(t,i){if(he!==0&&he!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(au()&&t.callbackNode!==a)return null;var o=bt;return o=dl(t,t===qt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(qy(t,o,i),ep(t,kn()),t.callbackNode!=null&&t.callbackNode===a?np.bind(null,t):null)}function ip(t,i){if(au())return null;qy(t,i,!0)}function BT(){VT(function(){(Ct&6)!==0?mc(Gd,kT):tp()})}function sh(){return xa===0&&(xa=Xd()),xa}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vl(""+t)}function ap(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function IT(t,i,a,o,u){if(i==="submit"&&a&&a.stateNode===u){var f=rp((u[xe]||null).action),m=o.submitter;m&&(i=(i=m[xe]||null)?rp(i.formAction):m.getAttribute("formAction"),i!==null&&(f=i,m=null));var S=new wl("action","action",null,o,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xa!==0){var b=m?ap(u,m):new FormData(u);Nf(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(S.preventDefault(),b=m?ap(u,m):new FormData(u),Nf(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var oh=0;oh<Yc.length;oh++){var lh=Yc[oh],zT=lh.toLowerCase(),MT=lh[0].toUpperCase()+lh.slice(1);wn(zT,"on"+MT)}wn(qg,"onAnimationEnd"),wn(Jg,"onAnimationIteration"),wn(Pg,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(FS,"onTransitionRun"),wn(WS,"onTransitionStart"),wn(tT,"onTransitionCancel"),wn(Hg,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function sp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var m=o.length-1;0<=m;m--){var S=o[m],b=S.instance,C=S.currentTarget;if(S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=C;try{f(u)}catch(M){Xl(M)}u.currentTarget=null,f=b}else for(m=0;m<o.length;m++){if(S=o[m],b=S.instance,C=S.currentTarget,S=S.listener,b!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=C;try{f(u)}catch(M){Xl(M)}u.currentTarget=null,f=b}}}}function vt(t,i){var a=i[Tc];a===void 0&&(a=i[Tc]=new Set);var o=t+"__bubble";a.has(o)||(op(i,t,2,!1),a.add(o))}function uh(t,i,a){var o=0;i&&(o|=4),op(a,t,o,i)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ch(t){if(!t[lu]){t[lu]=!0,tg.forEach(function(a){a!=="selectionchange"&&(UT.has(a)||uh(a,!1,t),uh(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[lu]||(i[lu]=!0,uh("selectionchange",!1,i))}}function op(t,i,a,o){switch(kp(i)){case 2:var u=ub;break;case 8:u=cb;break;default:u=Eh}a=u.bind(null,i,a,t),u=void 0,!kc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(i,a,{capture:!0,passive:u}):t.addEventListener(i,a,!0):u!==void 0?t.addEventListener(i,a,{passive:u}):t.addEventListener(i,a,!1)}function fh(t,i,a,o,u){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=La(S),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){o=f=m;continue t}S=S.parentNode}}o=o.return}gg(function(){var C=f,M=Cc(a),q=[];t:{var k=Vg.get(t);if(k!==void 0){var B=wl,lt=t;switch(t){case"keypress":if(Tl(a)===0)break t;case"keydown":case"keyup":B=RS;break;case"focusin":lt="focus",B=Mc;break;case"focusout":lt="blur",B=Mc;break;case"beforeblur":case"afterblur":B=Mc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=IS;break;case qg:case Jg:case Pg:B=bS;break;case Hg:B=MS;break;case"scroll":case"scrollend":B=yS;break;case"wheel":B=LS;break;case"copy":case"cut":case"paste":B=AS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Sg;break;case"toggle":case"beforetoggle":B=JS}var at=(i&4)!==0,zt=!at&&(t==="scroll"||t==="scrollend"),E=at?k!==null?k+"Capture":null:k;at=[];for(var A=C,D;A!==null;){var L=A;if(D=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||D===null||E===null||(L=Ys(A,E),L!=null&&at.push(Do(A,L,D))),zt)break;A=A.return}0<at.length&&(k=new B(k,lt,null,a,M),q.push({event:k,listeners:at}))}}if((i&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&a!==Oc&&(lt=a.relatedTarget||a.fromElement)&&(La(lt)||lt[Ua]))break t;if((B||k)&&(k=M.window===M?M:(k=M.ownerDocument)?k.defaultView||k.parentWindow:window,B?(lt=a.relatedTarget||a.toElement,B=C,lt=lt?La(lt):null,lt!==null&&(zt=c(lt),at=lt.tag,lt!==zt||at!==5&&at!==27&&at!==6)&&(lt=null)):(B=null,lt=C),B!==lt)){if(at=pg,L="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(at=Sg,L="onPointerLeave",E="onPointerEnter",A="pointer"),zt=B==null?k:js(B),D=lt==null?k:js(lt),k=new at(L,A+"leave",B,a,M),k.target=zt,k.relatedTarget=D,L=null,La(M)===C&&(at=new at(E,A+"enter",lt,a,M),at.target=D,at.relatedTarget=zt,L=at),zt=L,B&&lt)e:{for(at=B,E=lt,A=0,D=at;D;D=ps(D))A++;for(D=0,L=E;L;L=ps(L))D++;for(;0<A-D;)at=ps(at),A--;for(;0<D-A;)E=ps(E),D--;for(;A--;){if(at===E||E!==null&&at===E.alternate)break e;at=ps(at),E=ps(E)}at=null}else at=null;B!==null&&lp(q,k,B,at,!1),lt!==null&&zt!==null&&lp(q,zt,lt,at,!0)}}t:{if(k=C?js(C):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var X=Dg;else if(xg(k))if(Og)X=ZS;else{X=$S;var mt=KS}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?C&&Dc(C.elementType)&&(X=Dg):X=XS;if(X&&(X=X(t,C))){Ng(q,X,a,M);break t}mt&&mt(t,k,C),t==="focusout"&&C&&k.type==="number"&&C.memoizedProps.value!=null&&Nc(k,"number",k.value)}switch(mt=C?js(C):window,t){case"focusin":(xg(mt)||mt.contentEditable==="true")&&($a=mt,Hc=C,Fs=null);break;case"focusout":Fs=Hc=$a=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Ug(q,a,M);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":Ug(q,a,M)}var _;if(Lc)t:{switch(t){case"compositionstart":var st="onCompositionStart";break t;case"compositionend":st="onCompositionEnd";break t;case"compositionupdate":st="onCompositionUpdate";break t}st=void 0}else Ka?Ag(t,a)&&(st="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(st="onCompositionStart");st&&(Tg&&a.locale!=="ko"&&(Ka||st!=="onCompositionStart"?st==="onCompositionEnd"&&Ka&&(_=mg()):(Dr=M,Bc="value"in Dr?Dr.value:Dr.textContent,Ka=!0)),mt=uu(C,st),0<mt.length&&(st=new vg(st,t,null,a,M),q.push({event:st,listeners:mt}),_?st.data=_:(_=Eg(a),_!==null&&(st.data=_)))),(_=HS?VS(t,a):jS(t,a))&&(st=uu(C,"onBeforeInput"),0<st.length&&(mt=new vg("onBeforeInput","beforeinput",null,a,M),q.push({event:mt,listeners:st}),mt.data=_)),IT(q,t,C,a,M)}sp(q,i)})}function Do(t,i,a){return{instance:t,listener:i,currentTarget:a}}function uu(t,i){for(var a=i+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ys(t,a),u!=null&&o.unshift(Do(t,u,f)),u=Ys(t,i),u!=null&&o.push(Do(t,u,f))),t.tag===3)return o;t=t.return}return[]}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lp(t,i,a,o,u){for(var f=i._reactName,m=[];a!==null&&a!==o;){var S=a,b=S.alternate,C=S.stateNode;if(S=S.tag,b!==null&&b===o)break;S!==5&&S!==26&&S!==27||C===null||(b=C,u?(C=Ys(a,f),C!=null&&m.unshift(Do(a,C,b))):u||(C=Ys(a,f),C!=null&&m.push(Do(a,C,b)))),a=a.return}m.length!==0&&t.push({event:i,listeners:m})}var LT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function up(t){return(typeof t=="string"?t:""+t).replace(LT,`
`).replace(qT,"")}function cp(t,i){return i=up(i),up(t)===i}function cu(){}function It(t,i,a,o,u,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ja(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ja(t,""+o);break;case"className":ml(t,"class",o);break;case"tabIndex":ml(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(t,a,o);break;case"style":hg(t,o,f);break;case"data":if(i!=="object"){ml(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=vl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&It(t,i,"name",u.name,u,null),It(t,i,"formEncType",u.formEncType,u,null),It(t,i,"formMethod",u.formMethod,u,null),It(t,i,"formTarget",u.formTarget,u,null)):(It(t,i,"encType",u.encType,u,null),It(t,i,"method",u.method,u,null),It(t,i,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=vl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=cu);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=vl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":vt("beforetoggle",t),vt("toggle",t),gl(t,"popover",o);break;case"xlinkActuate":Wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":gl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gS.get(a)||a,gl(t,a,o))}}function hh(t,i,a,o,u,f){switch(a){case"style":hg(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ja(t,o):(typeof o=="number"||typeof o=="bigint")&&ja(t,""+o);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),i=a.slice(2,u?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):gl(t,a,o)}}}function de(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:It(t,i,f,m,a,null)}}u&&It(t,i,"srcSet",a.srcSet,a,null),o&&It(t,i,"src",a.src,a,null);return;case"input":vt("invalid",t);var S=f=m=u=null,b=null,C=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":b=M;break;case"defaultChecked":C=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,i));break;default:It(t,i,o,M,a,null)}}lg(t,f,S,b,C,m,u,!1),yl(t);return;case"select":vt("invalid",t),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:It(t,i,u,S,a,null)}i=f,a=m,t.multiple=!!o,i!=null?Va(t,!!o,i,!1):a!=null&&Va(t,!!o,a,!0);return;case"textarea":vt("invalid",t),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:It(t,i,m,S,a,null)}cg(t,o,u,f),yl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:It(t,i,b,o,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(o=0;o<No.length;o++)vt(No[o],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:It(t,i,C,o,a,null)}return;default:if(Dc(i)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&hh(t,i,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&It(t,i,S,o,a,null))}function JT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,b=null,C=null,M=null;for(B in a){var q=a[B];if(a.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=q;default:o.hasOwnProperty(B)||It(t,i,B,null,o,q)}}for(var k in o){var B=o[k];if(q=a[k],o.hasOwnProperty(k)&&(B!=null||q!=null))switch(k){case"type":f=B;break;case"name":u=B;break;case"checked":C=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:B!==q&&It(t,i,k,B,o,q)}}xc(t,m,S,b,C,M,f,u);return;case"select":B=m=S=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||It(t,i,f,null,o,b)}for(u in o)if(f=o[u],b=a[u],o.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":k=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==b&&It(t,i,u,f,o,b)}i=S,a=m,o=B,k!=null?Va(t,!!a,k,!1):!!o!=!!a&&(i!=null?Va(t,!!a,i,!0):Va(t,!!a,a?[]:"",!1));return;case"textarea":B=k=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:It(t,i,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":k=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&It(t,i,m,u,o,f)}ug(t,k,B);return;case"option":for(var lt in a)if(k=a[lt],a.hasOwnProperty(lt)&&k!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:It(t,i,lt,null,o,k)}for(b in o)if(k=o[b],B=a[b],o.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:It(t,i,b,k,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in a)k=a[at],a.hasOwnProperty(at)&&k!=null&&!o.hasOwnProperty(at)&&It(t,i,at,null,o,k);for(C in o)if(k=o[C],B=a[C],o.hasOwnProperty(C)&&k!==B&&(k!=null||B!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:It(t,i,C,k,o,B)}return;default:if(Dc(i)){for(var zt in a)k=a[zt],a.hasOwnProperty(zt)&&k!==void 0&&!o.hasOwnProperty(zt)&&hh(t,i,zt,void 0,o,k);for(M in o)k=o[M],B=a[M],!o.hasOwnProperty(M)||k===B||k===void 0&&B===void 0||hh(t,i,M,k,o,B);return}}for(var E in a)k=a[E],a.hasOwnProperty(E)&&k!=null&&!o.hasOwnProperty(E)&&It(t,i,E,null,o,k);for(q in o)k=o[q],B=a[q],!o.hasOwnProperty(q)||k===B||k==null&&B==null||It(t,i,q,k,o,B)}var dh=null,gh=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function fp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function mh(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yh=null;function PT(){var t=window.event;return t&&t.type==="popstate"?t===yh?!1:(yh=t,!0):(yh=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(t){return gp.resolve(null).then(t).catch(jT)}:dp;function jT(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function mp(t,i){var a=i,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=t.ownerDocument;if(a&1&&Oo(m.documentElement),a&2&&Oo(m.body),a&4)for(a=m.head,Oo(a),m=a.firstChild;m;){var S=m.nextSibling,b=m.nodeName;m[Vs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){t.removeChild(f),Uo(i);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Uo(i)}function ph(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ph(a),bc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function YT(t,i,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Vs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=En(t.nextSibling),t===null)break}return null}function GT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=En(t.nextSibling),t===null))return null;return t}function vh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function KT(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function En(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Sh=null;function yp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function pp(t,i,a){switch(i=fu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Oo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bc(t)}var an=new Map,vp=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=K.d;K.d={f:$T,r:XT,D:ZT,C:_T,L:QT,m:FT,X:tb,S:WT,M:eb};function $T(){var t=di.f(),i=iu();return t||i}function XT(t){var i=qa(t);i!==null&&i.tag===5&&i.type==="form"?qm(i):di.r(t)}var vs=typeof document>"u"?null:document;function Sp(t,i,a){var o=vs;if(o&&typeof i=="string"&&i){var u=Qe(i);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),vp.has(u)||(vp.add(u),t={rel:t,crossOrigin:a,href:i},o.querySelector(u)===null&&(i=o.createElement("link"),de(i,"link",t),oe(i),o.head.appendChild(i)))}}function ZT(t){di.D(t),Sp("dns-prefetch",t,null)}function _T(t,i){di.C(t,i),Sp("preconnect",t,i)}function QT(t,i,a){di.L(t,i,a);var o=vs;if(o&&t&&i){var u='link[rel="preload"][as="'+Qe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Qe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Qe(a.imageSizes)+'"]')):u+='[href="'+Qe(t)+'"]';var f=u;switch(i){case"style":f=Ss(t);break;case"script":f=Ts(t)}an.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),an.set(f,t),o.querySelector(u)!==null||i==="style"&&o.querySelector(Co(f))||i==="script"&&o.querySelector(Ro(f))||(i=o.createElement("link"),de(i,"link",t),oe(i),o.head.appendChild(i)))}}function FT(t,i){di.m(t,i);var a=vs;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Qe(o)+'"][href="'+Qe(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ts(t)}if(!an.has(f)&&(t=T({rel:"modulepreload",href:t},i),an.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ro(f)))return}o=a.createElement("link"),de(o,"link",t),oe(o),a.head.appendChild(o)}}}function WT(t,i,a){di.S(t,i,a);var o=vs;if(o&&t){var u=Ja(o).hoistableStyles,f=Ss(t);i=i||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(Co(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=an.get(f))&&Th(t,a);var b=m=o.createElement("link");oe(b),de(b,"link",t),b._p=new Promise(function(C,M){b.onload=C,b.onerror=M}),b.addEventListener("load",function(){S.loading|=1}),b.addEventListener("error",function(){S.loading|=2}),S.loading|=4,du(m,i,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function tb(t,i){di.X(t,i);var a=vs;if(a&&t){var o=Ja(a).hoistableScripts,u=Ts(t),f=o.get(u);f||(f=a.querySelector(Ro(u)),f||(t=T({src:t,async:!0},i),(i=an.get(u))&&bh(t,i),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function eb(t,i){di.M(t,i);var a=vs;if(a&&t){var o=Ja(a).hoistableScripts,u=Ts(t),f=o.get(u);f||(f=a.querySelector(Ro(u)),f||(t=T({src:t,async:!0,type:"module"},i),(i=an.get(u))&&bh(t,i),f=a.createElement("script"),oe(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Tp(t,i,a,o){var u=(u=ft.current)?hu(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ss(a.href),a=Ja(u).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ss(a.href);var f=Ja(u).hoistableStyles,m=f.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=u.querySelector(Co(t)))&&!f._p&&(m.instance=f,m.state.loading=5),an.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},an.set(t,a),f||nb(u,t,a,m.state))),i&&o===null)throw Error(r(528,""));return m}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ts(a),a=Ja(u).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ss(t){return'href="'+Qe(t)+'"'}function Co(t){return'link[rel="stylesheet"]['+t+"]"}function bp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nb(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),de(i,"link",a),oe(i),t.head.appendChild(i))}function Ts(t){return'[src="'+Qe(t)+'"]'}function Ro(t){return"script[async]"+t}function wp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Qe(a.href)+'"]');if(o)return i.instance=o,oe(o),o;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),oe(o),de(o,"style",u),du(o,a.precedence,t),i.instance=o;case"stylesheet":u=Ss(a.href);var f=t.querySelector(Co(u));if(f)return i.state.loading|=4,i.instance=f,oe(f),f;o=bp(a),(u=an.get(u))&&Th(o,u),f=(t.ownerDocument||t).createElement("link"),oe(f);var m=f;return m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",o),i.state.loading|=4,du(f,a.precedence,t),i.instance=f;case"script":return f=Ts(a.src),(u=t.querySelector(Ro(f)))?(i.instance=u,oe(u),u):(o=a,(u=an.get(f))&&(o=T({},a),bh(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),oe(u),de(u,"link",o),t.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,du(o,a.precedence,t));return i.instance}function du(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===i)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Th(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var gu=null;function Ap(t,i,a){if(gu===null){var o=new Map,u=gu=new Map;u.set(a,o)}else u=gu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[Vs]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(i)||"";m=t+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function Ep(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ib(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ko=null;function rb(){}function ab(t,i,a){if(ko===null)throw Error(r(475));var o=ko;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Ss(a.href),f=t.querySelector(Co(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=mu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,oe(f);return}f=t.ownerDocument||t,a=bp(a),(u=an.get(u))&&Th(a,u),f=f.createElement("link"),oe(f);var m=f;m._p=new Promise(function(S,b){m.onload=S,m.onerror=b}),de(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=mu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function sb(){if(ko===null)throw Error(r(475));var t=ko;return t.stylesheets&&t.count===0&&wh(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&wh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function wh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,i.forEach(ob,t),yu=null,mu.call(t))}function ob(t,i){if(!(i.state.loading&4)){var a=yu.get(t);if(a)var o=a.get(null);else{a=new Map,yu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=i.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=mu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),i.state.loading|=4}}var Bo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function lb(t,i,a,o,u,f,m,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.hiddenUpdates=pc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Np(t,i,a,o,u,f,m,S,b,C,M,q){return t=new lb(t,i,a,m,S,b,C,q),i=1,f===!0&&(i|=24),f=Pe(3,null,null,i),t.current=f,f.stateNode=t,i=nf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},of(f),t}function Dp(t){return t?(t=Qa,t):Qa}function Op(t,i,a,o,u,f){u=Dp(u),o.context===null?o.context=u:o.pendingContext=u,o=Rr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=kr(t,o,i),a!==null&&(Ge(a,t,i),oo(a,t,i))}function Cp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ah(t,i){Cp(t,i),(t=t.alternate)&&Cp(t,i)}function Rp(t){if(t.tag===13){var i=_a(t,67108864);i!==null&&Ge(i,t,67108864),Ah(t,67108864)}}var pu=!0;function ub(t,i,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=2,Eh(t,i,a,o)}finally{K.p=f,U.T=u}}function cb(t,i,a,o){var u=U.T;U.T=null;var f=K.p;try{K.p=8,Eh(t,i,a,o)}finally{K.p=f,U.T=u}}function Eh(t,i,a,o){if(pu){var u=xh(o);if(u===null)fh(t,i,o,vu,a),Bp(t,o);else if(hb(u,t,i,a,o))o.stopPropagation();else if(Bp(t,o),i&4&&-1<fb.indexOf(t)){for(;u!==null;){var f=qa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=la(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var b=1<<31-qe(m);S.entanglements[1]|=b,m&=~b}Un(f),(Ct&6)===0&&(eu=kn()+500,xo(0))}}break;case 13:S=_a(f,2),S!==null&&Ge(S,f,2),iu(),Ah(f,2)}if(f=xh(o),f===null&&fh(t,i,o,vu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else fh(t,i,o,null,a)}}function xh(t){return t=Cc(t),Nh(t)}var vu=null;function Nh(t){if(vu=null,t=La(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return vu=t,null}function kp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_0()){case Gd:return 2;case Kd:return 8;case cl:case Q0:return 32;case $d:return 268435456;default:return 32}default:return 32}}var Dh=!1,Yr=null,Gr=null,Kr=null,Io=new Map,zo=new Map,$r=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function Mo(t,i,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},i!==null&&(i=qa(i),i!==null&&Rp(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),t)}function hb(t,i,a,o,u){switch(i){case"focusin":return Yr=Mo(Yr,t,i,a,o,u),!0;case"dragenter":return Gr=Mo(Gr,t,i,a,o,u),!0;case"mouseover":return Kr=Mo(Kr,t,i,a,o,u),!0;case"pointerover":var f=u.pointerId;return Io.set(f,Mo(Io.get(f)||null,t,i,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,zo.set(f,Mo(zo.get(f)||null,t,i,a,o,u)),!0}return!1}function Ip(t){var i=La(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,aS(t.priority,function(){if(a.tag===13){var o=Ye();o=vc(o);var u=_a(a,o);u!==null&&Ge(u,a,o),Ah(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Su(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Oc=o,a.target.dispatchEvent(o),Oc=null}else return i=qa(a),i!==null&&Rp(i),t.blockedOn=a,!1;i.shift()}return!0}function zp(t,i,a){Su(t)&&a.delete(i)}function db(){Dh=!1,Yr!==null&&Su(Yr)&&(Yr=null),Gr!==null&&Su(Gr)&&(Gr=null),Kr!==null&&Su(Kr)&&(Kr=null),Io.forEach(zp),zo.forEach(zp)}function Tu(t,i){t.blockedOn===i&&(t.blockedOn=null,Dh||(Dh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,db)))}var bu=null;function Mp(t){bu!==t&&(bu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bu===t&&(bu=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],u=t[i+2];if(typeof o!="function"){if(Nh(o||a)===null)continue;break}var f=qa(a);f!==null&&(t.splice(i,3),i-=3,Nf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Uo(t){function i(b){return Tu(b,t)}Yr!==null&&Tu(Yr,t),Gr!==null&&Tu(Gr,t),Kr!==null&&Tu(Kr,t),Io.forEach(i),zo.forEach(i);for(var a=0;a<$r.length;a++){var o=$r[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Ip(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[xe]||null;if(typeof f=="function")m||Mp(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[xe]||null)S=m.formAction;else if(Nh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Mp(a)}}}function Oh(t){this._internalRoot=t}wu.prototype.render=Oh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Ye();Op(a,o,t,i,null,null)},wu.prototype.unmount=Oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Op(t.current,2,null,t,null,null),iu(),i[Ua]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Ip(t)}};var Up=n.version;if(Up!=="19.1.0")throw Error(r(527,Up,"19.1.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Js=Au.inject(gb),Le=Au}catch{}}return qo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",u=Fm,f=Wm,m=ty,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(m=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Np(t,1,!1,null,null,a,o,u,f,m,S,null),t[Ua]=i.current,ch(t),new Oh(i)},qo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,u="",f=Fm,m=Wm,S=ty,b=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),i=Np(t,1,!0,i,a??null,o,u,f,m,S,b,C),i.context=Dp(null),a=i.current,o=Ye(),o=vc(o),u=Rr(o),u.callback=null,kr(a,u,o),a=o,i.current.lanes=a,Hs(i,a),Un(i),t[Ua]=i.current,ch(t),new wu(i)},qo.version="19.1.0",qo}var Kp;function Ob(){if(Kp)return kh.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),kh.exports=Db(),kh.exports}var Cb=Ob();const Rb="@yorkie-js/react",kb="0.6.13",$p={name:Rb,version:kb};var St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function Xp(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Ot extends Error{constructor(n,e=St.Unknown,r,l,c){super(Bb(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(r??{}),this.details=l??[],this.cause=c}static from(n,e=St.Unknown){return n instanceof Ot?n:n instanceof Error?n.name=="AbortError"?new Ot(n.message,St.Canceled):new Ot(n.message,e,void 0,void 0,n):new Ot(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ot.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,r=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&r.push(l);continue}const c=e.findMessage(l.type);if(c)try{r.push(c.fromBinary(l.value))}catch{}}return r}}function Bb(s,n){return s.length?`[${Xp(n)}] ${s}`:`[${Xp(n)}]`}function $t(s,n){if(!s)throw new Error(n)}const Ib=34028234663852886e22,zb=-34028234663852886e22,Mb=4294967295,Ub=2147483647,Lb=-2147483648;function Cu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Ub||s<Lb)throw new Error("invalid int 32: "+s)}function Yh(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>Mb||s<0)throw new Error("invalid uint 32: "+s)}function qv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>Ib||s<zb))throw new Error("invalid float 32: "+s)}const Jv=Symbol("@bufbuild/protobuf/enum-type");function qb(s){const n=s[Jv];return $t(n,"missing enum type on enum object"),n}function Pv(s,n,e,r){s[Jv]=Hv(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function Hv(s,n,e){const r=Object.create(null),l=Object.create(null),c=[];for(const h of n){const g=Vv(h);c.push(g),r[h.name]=g,l[h.no]=g}return{typeName:s,values:c,findName(h){return r[h]},findNumber(h){return l[h]}}}function Jb(s,n,e){const r={};for(const l of n){const c=Vv(l);r[c.localName]=c.no,r[c.no]=c.localName}return Pv(r,s,n),r}function Vv(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class Y{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const r=this.getType(),l=r.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const r=this.getType(),l=r.runtime.json,c=l.makeReadOptions(e);return l.readMessage(r,n,c,this),this}fromJsonString(n,e){let r;try{r=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(r,e)}toBinary(n){const e=this.getType(),r=e.runtime.bin,l=r.makeWriteOptions(n),c=l.writerFactory();return r.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),r=e.runtime.json,l=r.makeWriteOptions(n);return r.writeMessage(this,l)}toJsonString(n){var e;const r=this.toJson(n);return JSON.stringify(r,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Pb(s,n,e,r){var l;const c=(l=r==null?void 0:r.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),h={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(h.prototype,new Y),Object.assign(h,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(g,p){return new h().fromBinary(g,p)},fromJson(g,p){return new h().fromJson(g,p)},fromJsonString(g,p){return new h().fromJsonString(g,p)},equals(g,p){return s.util.equals(h,g,p)}}),h}function Hb(){let s=0,n=0;for(let r=0;r<28;r+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let r=3;r<=31;r+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function Mh(s,n,e){for(let c=0;c<28;c=c+7){const h=s>>>c,g=!(!(h>>>7)&&n==0),p=(g?h|128:h)&255;if(e.push(p),!g)return}const r=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?r|128:r)&255),!!l){for(let c=3;c<31;c=c+7){const h=n>>>c,g=!!(h>>>7),p=(g?h|128:h)&255;if(e.push(p),!g)return}e.push(n>>>31&1)}}const Ru=4294967296;function Zp(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let r=0,l=0;function c(h,g){const p=Number(s.slice(h,g));l*=e,r=r*e+p,r>=Ru&&(l=l+(r/Ru|0),r=r%Ru)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?Yv(r,l):wd(r,l)}function Vb(s,n){let e=wd(s,n);const r=e.hi&2147483648;r&&(e=Yv(e.lo,e.hi));const l=jv(e.lo,e.hi);return r?"-"+l:l}function jv(s,n){if({lo:s,hi:n}=jb(s,n),n<=2097151)return String(Ru*n+s);const e=s&16777215,r=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+r*6777216+l*6710656,h=r+l*8147497,g=l*2;const p=1e7;return c>=p&&(h+=Math.floor(c/p),c%=p),h>=p&&(g+=Math.floor(h/p),h%=p),g.toString()+_p(h)+_p(c)}function jb(s,n){return{lo:s>>>0,hi:n>>>0}}function wd(s,n){return{lo:s|0,hi:n|0}}function Yv(s,n){return n=~n,s?s=~s+1:n+=1,wd(s,n)}const _p=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Qp(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function Yb(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Fp={};function Gb(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Fp!="object"||Fp.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),h=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>c||y<l)throw new Error(`int64 invalid: ${p}`);return y},uParse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>g||y<h)throw new Error(`uint64 invalid: ${p}`);return y},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigInt64(0,!0)},uDec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigUint64(0,!0)}}}const e=l=>$t(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),r=l=>$t(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),r(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),Zp(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),r(l),Zp(l)},dec(l,c){return Vb(l,c)},uDec(l,c){return jv(l,c)}}}const Ht=Gb();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var ra;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ra||(ra={}));function Zr(s,n,e){if(n===e)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==e}return!1}function Cs(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Ht.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function Gv(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var Wt;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(Wt||(Wt={}));class Kb{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),r=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],r),r+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Yh(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Cu(n),Qp(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){qv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){Yh(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Cu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Cu(n),n=(n<<1^n>>31)>>>0,Qp(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=Ht.enc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=Ht.uEnc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=Ht.enc(n);return Mh(e.lo,e.hi,this.buf),this}sint64(n){let e=Ht.enc(n),r=e.hi>>31,l=e.lo<<1^r,c=(e.hi<<1|e.lo>>>31)^r;return Mh(l,c,this.buf),this}uint64(n){let e=Ht.uEnc(n);return Mh(e.lo,e.hi,this.buf),this}}class $b{constructor(n,e){this.varint64=Hb,this.uint32=Yb,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,r=n&7;if(e<=0||r<0||r>5)throw new Error("illegal tag: field no "+e+" wire type "+r);return[e,r]}skip(n,e){let r=this.pos;switch(n){case Wt.Varint:for(;this.buf[this.pos++]&128;);break;case Wt.Bit64:this.pos+=4;case Wt.Bit32:this.pos+=4;break;case Wt.LengthDelimited:let l=this.uint32();this.pos+=l;break;case Wt.StartGroup:for(;;){const[c,h]=this.tag();if(h===Wt.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Ht.dec(...this.varint64())}uint64(){return Ht.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),r=-(n&1);return n=(n>>>1|(e&1)<<31)^r,e=e>>>1^r,Ht.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ht.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ht.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function Xb(s,n,e,r){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof r=="function"?r():r;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function Kv(s){const n=s.field.localName,e=Object.create(null);return e[n]=Zb(s),[e,()=>e[n]]}function Zb(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Cs(n.T,n.L);case"message":const e=n.T,r=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function _b(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sc=[];for(let s=0;s<mr.length;s++)sc[mr[s].charCodeAt(0)]=s;sc[45]=mr.indexOf("+");sc[95]=mr.indexOf("/");const Ad={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),r=0,l=0,c,h=0;for(let g=0;g<s.length;g++){if(c=sc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:h=c,l=1;break;case 1:e[r++]=h<<2|(c&48)>>4,h=c,l=2;break;case 2:e[r++]=(h&15)<<4|(c&60)>>2,h=c,l=3;break;case 3:e[r++]=(h&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,r)},enc(s){let n="",e=0,r,l=0;for(let c=0;c<s.length;c++)switch(r=s[c],e){case 0:n+=mr[r>>2],l=(r&3)<<4,e=1;break;case 1:n+=mr[l|r>>4],l=(r&15)<<2,e=2;break;case 2:n+=mr[l|r>>6],n+=mr[r&63],e=0;break}return e&&(n+=mr[l],n+="=",e==1&&(n+="=")),n}};function Qb(s,n,e){Xv(n,s);const r=n.runtime.bin.makeReadOptions(e),l=_b(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,h]=Kv(n);for(const g of l)n.runtime.bin.readField(c,r.readerFactory(g.data),n.field,g.wireType,r);return h()}function Fb(s,n,e,r){Xv(n,s);const l=n.runtime.bin.makeReadOptions(r),c=n.runtime.bin.makeWriteOptions(r);if($v(s,n)){const y=s.getType().runtime.bin.listUnknownFields(s).filter(T=>T.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const T of y)s.getType().runtime.bin.onUnknownField(s,T.no,T.wireType,T.data)}const h=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,e,h,c);const p=l.readerFactory(h.finish());for(;p.pos<p.len;){const[y,T]=p.tag(),x=p.skip(T,y);s.getType().runtime.bin.onUnknownField(s,y,T,x)}}function $v(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(r=>r.no==n.field.no)}function Xv(s,n){$t(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function Zv(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!Gv(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function Wp(s,n){const e=s.localName,r=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=r?s.T.values[0].no:void 0;break;case"scalar":n[e]=r?Cs(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function Ca(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(Y.prototype).every(r=>r in s&&typeof s[r]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function _v(s,n){return Ca(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const tv={ignoreUnknownFields:!1},ev={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Wb(s){return s?Object.assign(Object.assign({},tv),s):tv}function t1(s){return s?Object.assign(Object.assign({},ev),s):ev}const Uu=Symbol(),ku=Symbol();function e1(){return{makeReadOptions:Wb,makeWriteOptions:t1,readMessage(s,n,e,r){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${qn(n)}`);r=r??new s;const l=new Map,c=e.typeRegistry;for(const[h,g]of Object.entries(n)){const p=s.fields.findJsonName(h);if(p){if(p.oneof){if(g===null&&p.kind=="scalar")continue;const y=l.get(p.oneof);if(y!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${y}", "${h}"`);l.set(p.oneof,h)}nv(r,g,p,e,s)}else{let y=!1;if(c!=null&&c.findExtension&&h.startsWith("[")&&h.endsWith("]")){const T=c.findExtension(h.substring(1,h.length-1));if(T&&T.extendee.typeName==s.typeName){y=!0;const[x,I]=Kv(T);nv(x,g,T.field,e,T),Fb(r,T,I(),e)}}if(!y&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${h}" is unknown`)}}return r},writeMessage(s,n){const e=s.getType(),r={};let l;try{for(l of e.fields.byNumber()){if(!Zv(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!i1(l))continue}const h=l.oneof?s[l.oneof.localName].value:s[l.localName],g=iv(l,h,n);g!==void 0&&(r[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const h of e.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(e.typeName,h.no);if(g&&$v(s,g)){const p=Qb(s,g,n),y=iv(g.field,p,n);y!==void 0&&(r[g.field.jsonName]=y)}}}catch(c){const h=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(h+(g.length>0?`: ${g}`:""))}return r},readScalar(s,n,e){return jo(s,n,e??ra.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||Gv(s,n)))return Bu(s,n)},debug:qn}}function qn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function nv(s,n,e,r,l){let c=e.localName;if(e.repeated){if($t(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`);const h=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(g)}`);switch(e.kind){case"message":h.push(e.T.fromJson(g,r));break;case"enum":const p=Uh(e.T,g,r.ignoreUnknownFields,!0);p!==ku&&h.push(p);break;case"scalar":try{h.push(jo(e.T,g,e.L,!0))}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(g)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`);const h=s[c];for(const[g,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let y;try{y=n1(e.K,g)}catch(T){let x=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw T instanceof Error&&T.message.length>0&&(x+=`: ${T.message}`),new Error(x)}switch(e.V.kind){case"message":h[y]=e.V.T.fromJson(p,r);break;case"enum":const T=Uh(e.V.T,p,r.ignoreUnknownFields,!0);T!==ku&&(h[y]=T);break;case"scalar":try{h[y]=jo(e.V.T,p,ra.BIGINT,!0)}catch(x){let I=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw x instanceof Error&&x.message.length>0&&(I+=`: ${x.message}`),new Error(I)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const h=e.T;if(n===null&&h.typeName!="google.protobuf.Value")return;let g=s[c];Ca(g)?g.fromJson(n,r):(s[c]=g=h.fromJson(n,r),h.fieldWrapper&&!e.oneof&&(s[c]=h.fieldWrapper.unwrapField(g)));break;case"enum":const p=Uh(e.T,n,r.ignoreUnknownFields,!1);switch(p){case Uu:Wp(e,s);break;case ku:break;default:s[c]=p;break}break;case"scalar":try{const y=jo(e.T,n,e.L,!1);switch(y){case Uu:Wp(e,s);break;default:s[c]=y;break}}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${qn(n)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}function n1(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return jo(s,n,ra.BIGINT,!0).toString()}function jo(s,n,e,r){if(n===null)return r?Cs(s,e):Uu;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&qv(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?Yh(c):Cu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const h=Ht.parse(n);return e?h.toString():h;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Ht.uParse(n);return e?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return Ad.dec(n)}throw new Error}function Uh(s,n,e,r){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:r?s.values[0].no:Uu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return ku;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${qn(n)}`)}function i1(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function iv(s,n,e){if(s.kind=="map"){$t(typeof n=="object"&&n!=null);const r={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[h,g]of l)r[h.toString()]=Bu(s.V.T,g);break;case"message":for(const[h,g]of l)r[h.toString()]=g.toJson(e);break;case"enum":const c=s.V.T;for(const[h,g]of l)r[h.toString()]=Lh(c,g,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?r:void 0}if(s.repeated){$t(Array.isArray(n));const r=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)r.push(Bu(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)r.push(Lh(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)r.push(n[l].toJson(e));break}return e.emitDefaultValues||r.length>0?r:void 0}switch(s.kind){case"scalar":return Bu(s.T,n);case"enum":return Lh(s.T,n,e.enumAsInteger);case"message":return _v(s.T,n).toJson(e)}}function Lh(s,n,e){var r;if($t(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(r=l==null?void 0:l.name)!==null&&r!==void 0?r:n}function Bu(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return $t(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return $t(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return $t(typeof n=="string"),n;case z.BOOL:return $t(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return $t(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return $t(n instanceof Uint8Array),Ad.enc(n)}}const bs=Symbol("@bufbuild/protobuf/unknown-fields"),rv={readUnknownFields:!0,readerFactory:s=>new $b(s)},av={writeUnknownFields:!0,writerFactory:()=>new Kb};function r1(s){return s?Object.assign(Object.assign({},rv),s):rv}function a1(s){return s?Object.assign(Object.assign({},av),s):av}function s1(){return{makeReadOptions:r1,makeWriteOptions:a1,listUnknownFields(s){var n;return(n=s[bs])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[bs]},writeUnknownFields(s,n){const r=s[bs];if(r)for(const l of r)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,r){const l=s;Array.isArray(l[bs])||(l[bs]=[]),l[bs].push({no:n,wireType:e,data:r})},readMessage(s,n,e,r,l){const c=s.getType(),h=l?n.len:n.pos+e;let g,p;for(;n.pos<h&&([g,p]=n.tag(),!(l===!0&&p==Wt.EndGroup));){const y=c.fields.find(g);if(!y){const T=n.skip(p,g);r.readUnknownFields&&this.onUnknownField(s,g,p,T);continue}sv(s,n,y,p,r)}if(l&&(p!=Wt.EndGroup||g!==e))throw new Error("invalid end group tag")},readField:sv,writeMessage(s,n,e){const r=s.getType();for(const l of r.fields.byNumber()){if(!Zv(l,s)){if(l.req)throw new Error(`cannot encode field ${r.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];ov(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,r){n!==void 0&&ov(s,n,e,r)}}}function sv(s,n,e,r,l){let{repeated:c,localName:h}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=h&&delete s.value,s.case=h,h="value"),e.kind){case"scalar":case"enum":const g=e.kind=="enum"?z.INT32:e.T;let p=Lu;if(e.kind=="scalar"&&e.L>0&&(p=l1),c){let I=s[h];if(r==Wt.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let H=n.uint32()+n.pos;for(;n.pos<H;)I.push(p(n,g))}else I.push(p(n,g))}else s[h]=p(n,g);break;case"message":const y=e.T;c?s[h].push(Iu(n,new y,l,e)):Ca(s[h])?Iu(n,s[h],l,e):(s[h]=Iu(n,new y,l,e),y.fieldWrapper&&!e.oneof&&!e.repeated&&(s[h]=y.fieldWrapper.unwrapField(s[h])));break;case"map":let[T,x]=o1(e,n,l);s[h][T]=x;break}}function Iu(s,n,e,r){const l=n.getType().runtime.bin,c=r==null?void 0:r.delimited;return l.readMessage(n,s,c?r.no:s.uint32(),e,c),n}function o1(s,n,e){const r=n.uint32(),l=n.pos+r;let c,h;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=Lu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":h=Lu(n,s.V.T);break;case"enum":h=n.int32();break;case"message":h=Iu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Cs(s.K,ra.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),h===void 0)switch(s.V.kind){case"scalar":h=Cs(s.V.T,ra.BIGINT);break;case"enum":h=s.V.T.values[0].no;break;case"message":h=new s.V.T;break}return[c,h]}function l1(s,n){const e=Lu(s,n);return typeof e=="bigint"?e.toString():e}function Lu(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function ov(s,n,e,r){$t(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if($t(Array.isArray(n)),s.packed)c1(e,c,s.no,n);else for(const h of n)Yo(e,c,s.no,h);else Yo(e,c,s.no,n);break;case"message":if(l){$t(Array.isArray(n));for(const h of n)lv(e,r,s,h)}else lv(e,r,s,n);break;case"map":$t(typeof n=="object"&&n!=null);for(const[h,g]of Object.entries(n))u1(e,r,s,h,g);break}}function u1(s,n,e,r,l){s.tag(e.no,Wt.LengthDelimited),s.fork();let c=r;switch(e.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(r);break;case z.BOOL:$t(r=="true"||r=="false"),c=r=="true";break}switch(Yo(s,e.K,1,c),e.V.kind){case"scalar":Yo(s,e.V.T,2,l);break;case"enum":Yo(s,z.INT32,2,l);break;case"message":$t(l!==void 0),s.tag(2,Wt.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function lv(s,n,e,r){const l=_v(e.T,r);e.delimited?s.tag(e.no,Wt.StartGroup).raw(l.toBinary(n)).tag(e.no,Wt.EndGroup):s.tag(e.no,Wt.LengthDelimited).bytes(l.toBinary(n))}function Yo(s,n,e,r){$t(r!==void 0);let[l,c]=Qv(n);s.tag(e,l)[c](r)}function c1(s,n,e,r){if(!r.length)return;s.tag(e,Wt.LengthDelimited).fork();let[,l]=Qv(n);for(let c=0;c<r.length;c++)s[l](r[c]);s.join()}function Qv(s){let n=Wt.Varint;switch(s){case z.BYTES:case z.STRING:n=Wt.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=Wt.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=Wt.Bit32;break}const e=z[s].toLowerCase();return[n,e]}function f1(){return{setEnumType:Pv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const r of e.fields.byMember()){const l=r.localName,c=n,h=s;if(h[l]!=null)switch(r.kind){case"oneof":const g=h[l].case;if(g===void 0)continue;const p=r.findField(g);let y=h[l].value;p&&p.kind=="message"&&!Ca(y,p.T)?y=new p.T(y):p&&p.kind==="scalar"&&p.T===z.BYTES&&(y=Jo(y)),c[l]={case:g,value:y};break;case"scalar":case"enum":let T=h[l];r.T===z.BYTES&&(T=r.repeated?T.map(Jo):Jo(T)),c[l]=T;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===z.BYTES)for(const[R,H]of Object.entries(h[l]))c[l][R]=Jo(H);else Object.assign(c[l],h[l]);break;case"message":const I=r.V.T;for(const R of Object.keys(h[l])){let H=h[l][R];I.fieldWrapper||(H=new I(H)),c[l][R]=H}break}break;case"message":const x=r.T;if(r.repeated)c[l]=h[l].map(I=>Ca(I,x)?I:new x(I));else{const I=h[l];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?c[l]=Jo(I):c[l]=I:c[l]=Ca(I,x)?I:new x(I)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(r=>{const l=n[r.localName],c=e[r.localName];if(r.repeated){if(l.length!==c.length)return!1;switch(r.kind){case"message":return l.every((h,g)=>r.T.equals(h,c[g]));case"scalar":return l.every((h,g)=>Zr(r.T,h,c[g]));case"enum":return l.every((h,g)=>Zr(z.INT32,h,c[g]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(l,c);case"enum":return Zr(z.INT32,l,c);case"scalar":return Zr(r.T,l,c);case"oneof":if(l.case!==c.case)return!1;const h=r.findField(l.case);if(h===void 0)return!0;switch(h.kind){case"message":return h.T.equals(l.value,c.value);case"enum":return Zr(z.INT32,l.value,c.value);case"scalar":return Zr(h.T,l.value,c.value)}throw new Error(`oneof cannot contain ${h.kind}`);case"map":const g=Object.keys(l).concat(Object.keys(c));switch(r.V.kind){case"message":const p=r.V.T;return g.every(T=>p.equals(l[T],c[T]));case"enum":return g.every(T=>Zr(z.INT32,l[T],c[T]));case"scalar":const y=r.V.T;return g.every(T=>Zr(y,l[T],c[T]))}break}})},clone(s){const n=s.getType(),e=new n,r=e;for(const l of n.fields.byMember()){const c=s[l.localName];let h;if(l.repeated)h=c.map(Eu);else if(l.kind=="map"){h=r[l.localName];for(const[g,p]of Object.entries(c))h[g]=Eu(p)}else l.kind=="oneof"?h=l.findField(c.case)?{case:c.case,value:Eu(c.value)}:{case:void 0}:h=Eu(c);r[l.localName]=h}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(r,l.no,l.wireType,l.data);return e}}}function Eu(s){if(s===void 0)return s;if(Ca(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function Jo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function h1(s,n,e){return{syntax:s,json:e1(),bin:s1(),util:Object.assign(Object.assign({},f1()),{newFieldList:n,initFields:e}),makeMessageType(r,l,c){return Pb(this,r,l,c)},makeEnum:Jb,makeEnumType:Hv,getEnumType:qb,makeExtension(r,l,c){return Xb(this,r,l,c)}}}class d1{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const r of this.list())e[r.jsonName]=e[r.name]=r;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const r of this.list())e[r.no]=r;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const r of this.list())r.oneof?r.oneof!==e&&(e=r.oneof,n.push(e)):n.push(r)}return this.members}}function Fv(s,n){const e=Wv(s);return n?e:S1(v1(e))}function g1(s){return Fv(s,!1)}const m1=Wv;function Wv(s){let n=!1;const e=[];for(let r=0;r<s.length;r++){let l=s.charAt(r);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const y1=new Set(["constructor","toString","toJSON","valueOf"]),p1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),t0=s=>`${s}$`,v1=s=>p1.has(s)?t0(s):s,S1=s=>y1.has(s)?t0(s):s;class T1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=g1(n)}addField(n){$t(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function b1(s,n){var e,r,l,c,h,g;const p=[];let y;for(const T of typeof s=="function"?s():s){const x=T;if(x.localName=Fv(T.name,T.oneof!==void 0),x.jsonName=(e=T.jsonName)!==null&&e!==void 0?e:m1(T.name),x.repeated=(r=T.repeated)!==null&&r!==void 0?r:!1,T.kind=="scalar"&&(x.L=(l=T.L)!==null&&l!==void 0?l:ra.BIGINT),x.delimited=(c=T.delimited)!==null&&c!==void 0?c:!1,x.req=(h=T.req)!==null&&h!==void 0?h:!1,x.opt=(g=T.opt)!==null&&g!==void 0?g:!1,T.packed===void 0&&(x.packed=T.kind=="enum"||T.kind=="scalar"&&T.T!=z.BYTES&&T.T!=z.STRING),T.oneof!==void 0){const I=typeof T.oneof=="string"?T.oneof:T.oneof.name;(!y||y.name!=I)&&(y=new T1(I)),x.oneof=y,y.addField(x)}p.push(x)}return p}const v=h1("proto3",s=>new d1(s,n=>b1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,r=s;if(n.repeated){r[e]=[];continue}switch(n.kind){case"oneof":r[e]={case:void 0};break;case"enum":r[e]=0;break;case"map":r[e]={};break;case"scalar":r[e]=Cs(n.T,n.L);break}}});var Ee;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Ee||(Ee={}));var uv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(uv||(uv={}));class be extends Y{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${v.json.debug(n)}`);const r=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ht.parse(l/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?r="."+l.substring(0,3)+"Z":l.substring(6)==="000"?r="."+l.substring(0,6)+"Z":r="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return be.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new be({seconds:Ht.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new be().fromBinary(n,e)}static fromJson(n,e){return new be().fromJson(n,e)}static fromJsonString(n,e){return new be().fromJsonString(n,e)}static equals(n,e){return v.util.equals(be,n,e)}}be.runtime=v;be.typeName="google.protobuf.Timestamp";be.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class yr extends Y{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const r=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const l=Number(r[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);if(this.seconds=Ht.parse(l),typeof r[2]=="string"){const c=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),e+="."+r,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new yr().fromBinary(n,e)}static fromJson(n,e){return new yr().fromJson(n,e)}static fromJsonString(n,e){return new yr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(yr,n,e)}}yr.runtime=v;yr.typeName="google.protobuf.Duration";yr.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Jn extends Y{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(r);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let h=l.fromBinary(this.value).toJson(n);return(r.startsWith("google.protobuf.")||h===null||Array.isArray(h)||typeof h!="object")&&(h={value:h}),h["@type"]=this.typeUrl,h}fromJson(n,e){var r;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),h=(r=e==null?void 0:e.typeRegistry)===null||r===void 0?void 0:r.findMessage(c);if(!h)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=h.fromJson(n.value,e);else{const p=Object.assign({},n);delete p["@type"],g=h.fromJson(p,e)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let r="";return typeof n=="string"?r=n:r=n.typeName,e===r}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),r=e>=0?n.substring(e+1):n;if(!r.length)throw new Error(`invalid type url: ${n}`);return r}static pack(n){const e=new Jn;return e.packFrom(n),e}static fromBinary(n,e){return new Jn().fromBinary(n,e)}static fromJson(n,e){return new Jn().fromJson(n,e)}static fromJsonString(n,e){return new Jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Jn,n,e)}}Jn.runtime=v;Jn.typeName="google.protobuf.Any";Jn.fields=v.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Pn extends Y{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.DOUBLE,n)}catch(r){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Pn,n,e)}}Pn.runtime=v;Pn.typeName="google.protobuf.DoubleValue";Pn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Pn.fieldWrapper={wrapField(s){return new Pn({value:s})},unwrapField(s){return s.value}};class Hn extends Y{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.FLOAT,n)}catch(r){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Hn,n,e)}}Hn.runtime=v;Hn.typeName="google.protobuf.FloatValue";Hn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class Vn extends Y{constructor(n){super(),this.value=Ht.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT64,n)}catch(r){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Vn,n,e)}}Vn.runtime=v;Vn.typeName="google.protobuf.Int64Value";Vn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class jn extends Y{constructor(n){super(),this.value=Ht.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT64,n)}catch(r){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(jn,n,e)}}jn.runtime=v;jn.typeName="google.protobuf.UInt64Value";jn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};class Ke extends Y{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.INT32,n)}catch(r){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Ke().fromBinary(n,e)}static fromJson(n,e){return new Ke().fromJson(n,e)}static fromJsonString(n,e){return new Ke().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Ke,n,e)}}Ke.runtime=v;Ke.typeName="google.protobuf.Int32Value";Ke.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Ke.fieldWrapper={wrapField(s){return new Ke({value:s})},unwrapField(s){return s.value}};class Yn extends Y{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.UINT32,n)}catch(r){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Yn,n,e)}}Yn.runtime=v;Yn.typeName="google.protobuf.UInt32Value";Yn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Gn extends Y{constructor(n){super(),this.value=!1,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BOOL,n)}catch(r){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Gn,n,e)}}Gn.runtime=v;Gn.typeName="google.protobuf.BoolValue";Gn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class ke extends Y{constructor(n){super(),this.value="",v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.STRING,n)}catch(r){let l='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new ke().fromBinary(n,e)}static fromJson(n,e){return new ke().fromJson(n,e)}static fromJsonString(n,e){return new ke().fromJsonString(n,e)}static equals(n,e){return v.util.equals(ke,n,e)}}ke.runtime=v;ke.typeName="google.protobuf.StringValue";ke.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ke.fieldWrapper={wrapField(s){return new ke({value:s})},unwrapField(s){return s.value}};class Kn extends Y{constructor(n){super(),this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(z.BYTES,n)}catch(r){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Kn().fromBinary(n,e)}static fromJson(n,e){return new Kn().fromJson(n,e)}static fromJsonString(n,e){return new Kn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Kn,n,e)}}Kn.runtime=v;Kn.typeName="google.protobuf.BytesValue";Kn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Kn.fieldWrapper={wrapField(s){return new Kn({value:s})},unwrapField(s){return s.value}};function w1(s,n,e){try{const r=Ad.dec(s);return n?n.fromBinary(r,e):r}catch(r){throw Ot.from(r,St.DataLoss)}}function A1(s,n){const e={};for(const[r,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:r,service:s}));c!=null&&(e[r]=c)}return e}const cv=1;function fv(s){let n,e=new Uint8Array(0);function r(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let p=0;for(let y=1;y<5;y++)p=(p<<8)+e[y];c={flags:e[0],length:p}}if(c!==void 0&&e.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;r(g.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new Ot("premature end of stream",St.DataLoss));return}const h=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:h})}})}function hv(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setUint8(0,s),r.setUint32(1,n.length),e}var E1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(g,p){h=s[c](h),l(g,p,h.done,h.value)})}}function l(c,h,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},h)}},Xo=function(s){return this instanceof Xo?(this.v=s,this):new Xo(s)},x1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(H){return Promise.resolve(H).then(R,x)}}function g(R,H){r[R]&&(l[R]=function(V){return new Promise(function(j,F){c.push([R,V,j,F])>1||p(R,V)})},H&&(l[R]=H(l[R])))}function p(R,H){try{y(r[R](H))}catch(V){I(c[0][3],V)}}function y(R){R.value instanceof Xo?Promise.resolve(R.value.v).then(T,x):I(c[0][2],R)}function T(R){p("next",R)}function x(R){p("throw",R)}function I(R,H){R(H),c.shift(),c.length&&p(c[0][0],c[0][1])}},N1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Xo(s[l](h)),done:!1}:c?c(h):h}:c}};function D1(s){return x1(this,arguments,function*(){yield Xo(yield*N1(E1(s)))})}var e0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(g,p){h=s[c](h),l(g,p,h.done,h.value)})}}function l(c,h,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},h)}},Rs=function(s){return this instanceof Rs?(this.v=s,this):new Rs(s)},O1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Rs(s[l](h)),done:!1}:c?c(h):h}:c}},C1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(H){return Promise.resolve(H).then(R,x)}}function g(R,H){r[R]&&(l[R]=function(V){return new Promise(function(j,F){c.push([R,V,j,F])>1||p(R,V)})},H&&(l[R]=H(l[R])))}function p(R,H){try{y(r[R](H))}catch(V){I(c[0][3],V)}}function y(R){R.value instanceof Rs?Promise.resolve(R.value.v).then(T,x):I(c[0][2],R)}function T(R){p("next",R)}function x(R){p("throw",R)}function I(R,H){R(H),c.shift(),c.length&&p(c[0][0],c[0][1])}};function R1(s,n){return A1(s,e=>{switch(e.kind){case Ee.Unary:return k1(n,s,e);case Ee.ServerStreaming:return B1(n,s,e);case Ee.ClientStreaming:return I1(n,s,e);case Ee.BiDiStreaming:return z1(n,s,e);default:return null}})}function k1(s,n,e){return async function(r,l){var c,h;const g=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(h=l==null?void 0:l.onTrailer)===null||h===void 0||h.call(l,g.trailer),g.message}}function B1(s,n,e){return function(r,l){return n0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,D1([r]),l==null?void 0:l.contextValues),l)}}function I1(s,n,e){return async function(r,l){var c,h,g,p,y,T;const x=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);(y=l==null?void 0:l.onHeader)===null||y===void 0||y.call(l,x.header);let I,R=0;try{for(var H=!0,V=e0(x.message),j;j=await V.next(),c=j.done,!c;H=!0)p=j.value,H=!1,I=p,R++}catch(F){h={error:F}}finally{try{!H&&!c&&(g=V.return)&&await g.call(V)}finally{if(h)throw h.error}}if(!I)throw new Ot("protocol error: missing response message",St.Unimplemented);if(R>1)throw new Ot("protocol error: received extra messages for client streaming method",St.Unimplemented);return(T=l==null?void 0:l.onTrailer)===null||T===void 0||T.call(l,x.trailer),I}}function z1(s,n,e){return function(r,l){return n0(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues),l)}}function n0(s,n){const e=function(){return C1(this,arguments,function*(){var r,l;const c=yield Rs(s);(r=n==null?void 0:n.onHeader)===null||r===void 0||r.call(n,c.header),yield Rs(yield*O1(e0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function M1(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){r.apply(l);break}l.addEventListener("abort",r)}function r(){n.signal.aborted||n.abort(i0(this));for(const l of e)l.removeEventListener("abort",r)}return n}function U1(s){const n=new AbortController,e=()=>{n.abort(new Ot("the operation timed out",St.DeadlineExceeded))};let r;return s!==void 0&&(s<=0?e():r=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(r)}}function i0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function dv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const qh=128;function gv(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const r of e){if(r==="")continue;const l=r.indexOf(":");if(l>0){const c=r.substring(0,l).trim(),h=r.substring(l+1).trim();n.append(c,h)}}return n}const L1="Content-Type",q1="Grpc-Timeout",ks="Grpc-Status",r0="Grpc-Message",J1="Grpc-Status-Details-Bin",P1="X-User-Agent",H1="X-Grpc-Web",V1="application/grpc-web+proto",j1="application/grpc-web+json";class pr extends Y{constructor(n){super(),this.code=0,this.message="",this.details=[],v.util.initPartial(n,this)}static fromBinary(n,e){return new pr().fromBinary(n,e)}static fromJson(n,e){return new pr().fromJson(n,e)}static fromJsonString(n,e){return new pr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(pr,n,e)}}pr.runtime=v;pr.typeName="google.rpc.Status";pr.fields=v.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Jn,repeated:!0}]);const Y1="0";function a0(s){var n;const e=s.get(J1);if(e!=null){const l=w1(e,pr);if(l.code==0)return;const c=new Ot(l.message,l.code,s);return c.details=l.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const r=s.get(ks);if(r!=null){if(r===Y1)return;const l=parseInt(r,10);return l in St?new Ot(decodeURIComponent((n=s.get(r0))!==null&&n!==void 0?n:""),l,s):new Ot(`invalid grpc-status: ${r}`,St.Internal,s)}}function mv(s,n,e){const r=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${r}/${l}`)}function s0(s,n){return n instanceof s?n:new s(n)}function G1(s,n){function e(r){return r.done===!0?r:{done:r.done,value:s0(s,r.value)}}return{[Symbol.asyncIterator](){const r=n[Symbol.asyncIterator](),l={next:()=>r.next().then(e)};return r.throw!==void 0&&(l.throw=c=>r.throw(c).then(e)),r.return!==void 0&&(l.return=c=>r.return(c).then(e)),l}}}function o0(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((r,l)=>l(r),s))!==null&&e!==void 0?e:s}function K1(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function yv(s,n,e,r){const l=n?pv(s.I,r):vv(s.I,e);return{parse:(n?pv(s.O,r):vv(s.O,e)).parse,serialize:l.serialize}}function pv(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Ot(`parse binary: ${l}`,St.Internal)}},serialize(e){try{return e.toBinary(n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Ot(`serialize binary: ${l}`,St.Internal)}}}}function vv(s,n){var e,r;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(r=n==null?void 0:n.textDecoder)!==null&&r!==void 0?r:new TextDecoder,h=K1(n);return{parse(g){try{const p=c.decode(g);return s.fromJsonString(p,h)}catch(p){throw Ot.from(p,St.InvalidArgument)}},serialize(g){try{const p=g.toJsonString(h);return l.encode(p)}catch(p){throw Ot.from(p,St.Internal)}}}}function $1(s){const n=o0(s.next,s.interceptors),[e,r,l]=l0(s),c=Object.assign(Object.assign({},s.req),{message:s0(s.req.method.I,s.req.message),signal:e});return n(c).then(h=>(l(),h),r)}function X1(s){const n=o0(s.next,s.interceptors),[e,r,l]=l0(s),c=Object.assign(Object.assign({},s.req),{message:G1(s.req.method.I,s.req.message),signal:e});let h=!1;return e.addEventListener("abort",function(){var g,p;const y=s.req.message[Symbol.asyncIterator]();h||(g=y.throw)===null||g===void 0||g.call(y,this.reason).catch(()=>{}),(p=y.return)===null||p===void 0||p.call(y).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const p=g.message[Symbol.asyncIterator]();return{next(){return p.next().then(y=>(y.done==!0&&(h=!0,l()),y),r)}}}}}),r)}function l0(s){const{signal:n,cleanup:e}=U1(s.timeoutMs),r=M1(s.signal,n);return[r.signal,function(c){const h=Ot.from(n.aborted?i0(n):c);return r.abort(h),e(),Promise.reject(h)},function(){e(),r.abort()}]}function Z1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Sv(s,n){const e=a0(s);if(e)throw n.forEach((r,l)=>{e.metadata.append(l,r)}),e;if(!n.has(ks)&&!s.has(ks))throw new Ot("protocol error: missing status",St.Internal)}function Tv(s,n,e,r){const l=new Headers(e??{});return l.set(L1,s?V1:j1),l.set(H1,"1"),l.set(P1,"connect-es/1.6.1"),n!==void 0&&l.set(q1,`${n}m`),l}function _1(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function bv(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(ks),headerError:a0(n)};throw new Ot(decodeURIComponent((e=n.get(r0))!==null&&e!==void 0?e:`HTTP ${s}`),_1(s),n)}var Oa=function(s){return this instanceof Oa?(this.v=s,this):new Oa(s)},Q1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(H){return Promise.resolve(H).then(R,x)}}function g(R,H){r[R]&&(l[R]=function(V){return new Promise(function(j,F){c.push([R,V,j,F])>1||p(R,V)})},H&&(l[R]=H(l[R])))}function p(R,H){try{y(r[R](H))}catch(V){I(c[0][3],V)}}function y(R){R.value instanceof Oa?Promise.resolve(R.value.v).then(T,x):I(c[0][2],R)}function T(R){p("next",R)}function x(R){p("throw",R)}function I(R,H){R(H),c.shift(),c.length&&p(c[0][0],c[0][1])}};function F1(s){var n;Z1();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(r,l,c,h,g,p,y){var T;const{serialize:x,parse:I}=yv(l,e,s.jsonOptions,s.binaryOptions);return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,await $1({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!1,service:r,method:l,url:mv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Tv(e,h,g),contextValues:y??dv(),message:p},next:async R=>{var H;const j=await((H=s.fetch)!==null&&H!==void 0?H:globalThis.fetch)(R.url,Object.assign(Object.assign({},R.init),{headers:R.header,signal:R.signal,body:hv(0,x(R.message))})),{headerError:F}=bv(j.status,j.headers);if(!j.body)throw F!==void 0?F:"missing response body";const ut=fv(j.body).getReader();let Q,ct;for(;;){const W=await ut.read();if(W.done)break;const{flags:tt,data:yt}=W.value;if((tt&cv)===cv)throw new Ot("protocol error: received unsupported compressed output",St.Internal);if(tt===qh){if(Q!==void 0)throw"extra trailer";Q=gv(yt);continue}if(ct!==void 0)throw new Ot("extra message",St.Unimplemented);ct=I(yt)}if(Q===void 0)throw F!==void 0?F:new Ot("missing trailer",j.headers.has(ks)?St.Unimplemented:St.Unknown);if(Sv(Q,j.headers),ct===void 0)throw new Ot("missing message",Q.has(ks)?St.Unimplemented:St.Unknown);return{stream:!1,service:r,method:l,header:j.headers,message:ct,trailer:Q}}})},async stream(r,l,c,h,g,p,y){var T;const{serialize:x,parse:I}=yv(l,e,s.jsonOptions,s.binaryOptions);function R(V,j,F,ut,Q){return Q1(this,arguments,function*(){const W=fv(V).getReader();if(j){if(!(yield Oa(W.read())).done)throw"extra data for trailers-only";return yield Oa(void 0)}let tt=!1;for(;;){const yt=yield Oa(W.read());if(yt.done)break;const{flags:wt,data:At}=yt.value;if((wt&qh)===qh){if(tt)throw"extra trailer";tt=!0;const ne=gv(At);Sv(ne,ut),ne.forEach((Me,se)=>F.set(se,Me));continue}if(tt)throw"extra message";yield yield Oa(I(At))}if("throwIfAborted"in Q&&Q.throwIfAborted(),!tt)throw"missing trailer"})}async function H(V){if(l.kind!=Ee.ServerStreaming)throw"The fetch API does not support streaming request bodies";const j=await V[Symbol.asyncIterator]().next();if(j.done==!0)throw"missing request message";return hv(0,x(j.value))}return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,X1({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!0,service:r,method:l,url:mv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:Tv(e,h,g),contextValues:y??dv(),message:p},next:async V=>{var j;const ut=await((j=s.fetch)!==null&&j!==void 0?j:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await H(V.message)})),{foundStatus:Q,headerError:ct}=bv(ut.status,ut.headers);if(ct!=null)throw ct;if(!ut.body)throw"missing response body";const W=new Headers;return Object.assign(Object.assign({},V),{header:ut.headers,trailer:W,message:R(ut.body,Q,W,ut.headers,V.signal)})}})}}}var ht=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ht||{});v.util.setEnumType(ht,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ra=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Ra||{});v.util.setEnumType(Ra,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const gi=class gi extends Y{constructor(e){super();d(this,"root");d(this,"presences",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new gi().fromBinary(e,r)}static fromJson(e,r){return new gi().fromJson(e,r)}static fromJsonString(e,r){return new gi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gi,e,r)}};d(gi,"runtime",v),d(gi,"typeName","yorkie.v1.Snapshot"),d(gi,"fields",v.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ze},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:xd}}]));let Gh=gi;var on;let Ar=(on=class extends Y{constructor(e){super();d(this,"documentKey","");d(this,"checkpoint");d(this,"snapshot",new Uint8Array(0));d(this,"changes",[]);d(this,"minSyncedTicket");d(this,"isRemoved",!1);d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new on().fromBinary(e,r)}static fromJson(e,r){return new on().fromJson(e,r)}static fromJsonString(e,r){return new on().fromJsonString(e,r)}static equals(e,r){return v.util.equals(on,e,r)}},d(on,"runtime",v),d(on,"typeName","yorkie.v1.ChangePack"),d(on,"fields",v.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:f0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:u0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:lc}])),on);var ln;let u0=(ln=class extends Y{constructor(e){super();d(this,"id");d(this,"message","");d(this,"operations",[]);d(this,"presenceChange");v.util.initPartial(e,this)}static fromBinary(e,r){return new ln().fromBinary(e,r)}static fromJson(e,r){return new ln().fromJson(e,r)}static fromJsonString(e,r){return new ln().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ln,e,r)}},d(ln,"runtime",v),d(ln,"typeName","yorkie.v1.Change"),d(ln,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:oc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Ed,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Qo}])),ln);var un;let oc=(un=class extends Y{constructor(e){super();d(this,"clientSeq",0);d(this,"serverSeq",Ht.zero);d(this,"lamport",Ht.zero);d(this,"actorId",new Uint8Array(0));d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new un().fromBinary(e,r)}static fromJson(e,r){return new un().fromJson(e,r)}static fromJsonString(e,r){return new un().fromJsonString(e,r)}static equals(e,r){return v.util.equals(un,e,r)}},d(un,"runtime",v),d(un,"typeName","yorkie.v1.ChangeID"),d(un,"fields",v.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:lc}])),un);var cn;let lc=(cn=class extends Y{constructor(e){super();d(this,"vector",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new cn().fromBinary(e,r)}static fromJson(e,r){return new cn().fromJson(e,r)}static fromJsonString(e,r){return new cn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cn,e,r)}},d(cn,"runtime",v),d(cn,"typeName","yorkie.v1.VersionVector"),d(cn,"fields",v.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),cn);var fn;let Ed=(fn=class extends Y{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new fn().fromBinary(e,r)}static fromJson(e,r){return new fn().fromJson(e,r)}static fromJsonString(e,r){return new fn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fn,e,r)}},d(fn,"runtime",v),d(fn,"typeName","yorkie.v1.Operation"),d(fn,"fields",v.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:qu,oneof:"body"},{no:2,name:"add",kind:"message",T:Ju,oneof:"body"},{no:3,name:"move",kind:"message",T:Pu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Hu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Vu,oneof:"body"},{no:6,name:"select",kind:"message",T:Kh,oneof:"body"},{no:7,name:"style",kind:"message",T:ju,oneof:"body"},{no:8,name:"increase",kind:"message",T:Yu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Gu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Ku,oneof:"body"},{no:11,name:"array_set",kind:"message",T:$h,oneof:"body"}])),fn);const mi=class mi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"key","");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new mi().fromBinary(e,r)}static fromJson(e,r){return new mi().fromJson(e,r)}static fromJsonString(e,r){return new mi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(mi,e,r)}};d(mi,"runtime",v),d(mi,"typeName","yorkie.v1.Operation.Set"),d(mi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:sn},{no:4,name:"executed_at",kind:"message",T:Z}]));let qu=mi;const yi=class yi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new yi().fromBinary(e,r)}static fromJson(e,r){return new yi().fromJson(e,r)}static fromJsonString(e,r){return new yi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(yi,e,r)}};d(yi,"runtime",v),d(yi,"typeName","yorkie.v1.Operation.Add"),d(yi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:sn},{no:4,name:"executed_at",kind:"message",T:Z}]));let Ju=yi;const pi=class pi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new pi().fromBinary(e,r)}static fromJson(e,r){return new pi().fromJson(e,r)}static fromJsonString(e,r){return new pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(pi,e,r)}};d(pi,"runtime",v),d(pi,"typeName","yorkie.v1.Operation.Move"),d(pi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let Pu=pi;const vi=class vi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new vi().fromBinary(e,r)}static fromJson(e,r){return new vi().fromJson(e,r)}static fromJsonString(e,r){return new vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(vi,e,r)}};d(vi,"runtime",v),d(vi,"typeName","yorkie.v1.Operation.Remove"),d(vi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let Hu=vi;const Si=class Si extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"content","");d(this,"executedAt");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Si().fromBinary(e,r)}static fromJson(e,r){return new Si().fromJson(e,r)}static fromJsonString(e,r){return new Si().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Si,e,r)}};d(Si,"runtime",v),d(Si,"typeName","yorkie.v1.Operation.Edit"),d(Si,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:br},{no:3,name:"to",kind:"message",T:br},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Vu=Si;const Ti=class Ti extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ti().fromBinary(e,r)}static fromJson(e,r){return new Ti().fromJson(e,r)}static fromJsonString(e,r){return new Ti().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ti,e,r)}};d(Ti,"runtime",v),d(Ti,"typeName","yorkie.v1.Operation.Select"),d(Ti,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:br},{no:3,name:"to",kind:"message",T:br},{no:4,name:"executed_at",kind:"message",T:Z}]));let Kh=Ti;const bi=class bi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new bi().fromBinary(e,r)}static fromJson(e,r){return new bi().fromJson(e,r)}static fromJsonString(e,r){return new bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(bi,e,r)}};d(bi,"runtime",v),d(bi,"typeName","yorkie.v1.Operation.Style"),d(bi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:br},{no:3,name:"to",kind:"message",T:br},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let ju=bi;const wi=class wi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new wi().fromBinary(e,r)}static fromJson(e,r){return new wi().fromJson(e,r)}static fromJsonString(e,r){return new wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(wi,e,r)}};d(wi,"runtime",v),d(wi,"typeName","yorkie.v1.Operation.Increase"),d(wi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:sn},{no:3,name:"executed_at",kind:"message",T:Z}]));let Yu=wi;const Ai=class Ai extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"contents",[]);d(this,"splitLevel",0);d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ai().fromBinary(e,r)}static fromJson(e,r){return new Ai().fromJson(e,r)}static fromJsonString(e,r){return new Ai().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ai,e,r)}};d(Ai,"runtime",v),d(Ai,"typeName","yorkie.v1.Operation.TreeEdit"),d(Ai,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:ka},{no:3,name:"to",kind:"message",T:ka},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:ec,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let Gu=Ai;const Ei=class Ei extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"attributesToRemove",[]);d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ei().fromBinary(e,r)}static fromJson(e,r){return new Ei().fromJson(e,r)}static fromJsonString(e,r){return new Ei().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ei,e,r)}};d(Ei,"runtime",v),d(Ei,"typeName","yorkie.v1.Operation.TreeStyle"),d(Ei,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:ka},{no:3,name:"to",kind:"message",T:ka},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let Ku=Ei;const xi=class xi extends Y{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new xi().fromBinary(e,r)}static fromJson(e,r){return new xi().fromJson(e,r)}static fromJsonString(e,r){return new xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(xi,e,r)}};d(xi,"runtime",v),d(xi,"typeName","yorkie.v1.Operation.ArraySet"),d(xi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:sn},{no:4,name:"executed_at",kind:"message",T:Z}]));let $h=xi;const Ni=class Ni extends Y{constructor(e){super();d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");d(this,"type",0);d(this,"value",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new Ni().fromBinary(e,r)}static fromJson(e,r){return new Ni().fromJson(e,r)}static fromJsonString(e,r){return new Ni().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ni,e,r)}};d(Ni,"runtime",v),d(Ni,"typeName","yorkie.v1.JSONElementSimple"),d(Ni,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:5,name:"value",kind:"scalar",T:12}]));let sn=Ni;const Di=class Di extends Y{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new Di().fromBinary(e,r)}static fromJson(e,r){return new Di().fromJson(e,r)}static fromJsonString(e,r){return new Di().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Di,e,r)}};d(Di,"runtime",v),d(Di,"typeName","yorkie.v1.JSONElement"),d(Di,"fields",v.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:$u,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Xu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Zu,oneof:"body"},{no:5,name:"text",kind:"message",T:_u,oneof:"body"},{no:6,name:"counter",kind:"message",T:Qu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Fu,oneof:"body"}]));let ze=Di;const Oi=class Oi extends Y{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Oi().fromBinary(e,r)}static fromJson(e,r){return new Oi().fromJson(e,r)}static fromJsonString(e,r){return new Oi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Oi,e,r)}};d(Oi,"runtime",v),d(Oi,"typeName","yorkie.v1.JSONElement.JSONObject"),d(Oi,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:c0,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let $u=Oi;const Ci=class Ci extends Y{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ci().fromBinary(e,r)}static fromJson(e,r){return new Ci().fromJson(e,r)}static fromJsonString(e,r){return new Ci().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ci,e,r)}};d(Ci,"runtime",v),d(Ci,"typeName","yorkie.v1.JSONElement.JSONArray"),d(Ci,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Wu,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let Xu=Ci;const Ri=class Ri extends Y{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ri().fromBinary(e,r)}static fromJson(e,r){return new Ri().fromJson(e,r)}static fromJsonString(e,r){return new Ri().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ri,e,r)}};d(Ri,"runtime",v),d(Ri,"typeName","yorkie.v1.JSONElement.Primitive"),d(Ri,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Zu=Ri;const ki=class ki extends Y{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new ki().fromBinary(e,r)}static fromJson(e,r){return new ki().fromJson(e,r)}static fromJsonString(e,r){return new ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ki,e,r)}};d(ki,"runtime",v),d(ki,"typeName","yorkie.v1.JSONElement.Text"),d(ki,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:tc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let _u=ki;const Bi=class Bi extends Y{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Bi().fromBinary(e,r)}static fromJson(e,r){return new Bi().fromJson(e,r)}static fromJsonString(e,r){return new Bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Bi,e,r)}};d(Bi,"runtime",v),d(Bi,"typeName","yorkie.v1.JSONElement.Counter"),d(Bi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ht)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Qu=Bi;const Ii=class Ii extends Y{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ii().fromBinary(e,r)}static fromJson(e,r){return new Ii().fromJson(e,r)}static fromJsonString(e,r){return new Ii().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ii,e,r)}};d(Ii,"runtime",v),d(Ii,"typeName","yorkie.v1.JSONElement.Tree"),d(Ii,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:_o,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let Fu=Ii;var hn;let c0=(hn=class extends Y{constructor(e){super();d(this,"key","");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new hn().fromBinary(e,r)}static fromJson(e,r){return new hn().fromJson(e,r)}static fromJsonString(e,r){return new hn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hn,e,r)}},d(hn,"runtime",v),d(hn,"typeName","yorkie.v1.RHTNode"),d(hn,"fields",v.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ze}])),hn);const Ln=class Ln extends Y{constructor(e){super();d(this,"next");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ln().fromBinary(e,r)}static fromJson(e,r){return new Ln().fromJson(e,r)}static fromJsonString(e,r){return new Ln().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ln,e,r)}};d(Ln,"runtime",v),d(Ln,"typeName","yorkie.v1.RGANode"),d(Ln,"fields",v.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Ln},{no:2,name:"element",kind:"message",T:ze}]));let Wu=Ln;const zi=class zi extends Y{constructor(e){super();d(this,"value","");d(this,"updatedAt");d(this,"isRemoved",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new zi().fromBinary(e,r)}static fromJson(e,r){return new zi().fromJson(e,r)}static fromJsonString(e,r){return new zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(zi,e,r)}};d(zi,"runtime",v),d(zi,"typeName","yorkie.v1.NodeAttr"),d(zi,"fields",v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Bs=zi;const Mi=class Mi extends Y{constructor(e){super();d(this,"id");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Mi().fromBinary(e,r)}static fromJson(e,r){return new Mi().fromJson(e,r)}static fromJsonString(e,r){return new Mi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Mi,e,r)}};d(Mi,"runtime",v),d(Mi,"typeName","yorkie.v1.TextNode"),d(Mi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Zo},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:Zo},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Bs}}]));let tc=Mi;const Ui=class Ui extends Y{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ui().fromBinary(e,r)}static fromJson(e,r){return new Ui().fromJson(e,r)}static fromJsonString(e,r){return new Ui().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ui,e,r)}};d(Ui,"runtime",v),d(Ui,"typeName","yorkie.v1.TextNodeID"),d(Ui,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let Zo=Ui;const Li=class Li extends Y{constructor(e){super();d(this,"id");d(this,"type","");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"insNextId");d(this,"depth",0);d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Li().fromBinary(e,r)}static fromJson(e,r){return new Li().fromJson(e,r)}static fromJsonString(e,r){return new Li().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Li,e,r)}};d(Li,"runtime",v),d(Li,"typeName","yorkie.v1.TreeNode"),d(Li,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:ea},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:ea},{no:6,name:"ins_next_id",kind:"message",T:ea},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Bs}}]));let _o=Li;const qi=class qi extends Y{constructor(e){super();d(this,"content",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new qi().fromBinary(e,r)}static fromJson(e,r){return new qi().fromJson(e,r)}static fromJsonString(e,r){return new qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(qi,e,r)}};d(qi,"runtime",v),d(qi,"typeName","yorkie.v1.TreeNodes"),d(qi,"fields",v.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:_o,repeated:!0}]));let ec=qi;const Ji=class Ji extends Y{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ji().fromBinary(e,r)}static fromJson(e,r){return new Ji().fromJson(e,r)}static fromJsonString(e,r){return new Ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ji,e,r)}};d(Ji,"runtime",v),d(Ji,"typeName","yorkie.v1.TreeNodeID"),d(Ji,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let ea=Ji;const Pi=class Pi extends Y{constructor(e){super();d(this,"parentId");d(this,"leftSiblingId");v.util.initPartial(e,this)}static fromBinary(e,r){return new Pi().fromBinary(e,r)}static fromJson(e,r){return new Pi().fromJson(e,r)}static fromJsonString(e,r){return new Pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Pi,e,r)}};d(Pi,"runtime",v),d(Pi,"typeName","yorkie.v1.TreePos"),d(Pi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:ea},{no:2,name:"left_sibling_id",kind:"message",T:ea}]));let ka=Pi;const Hi=class Hi extends Y{constructor(e){super();d(this,"id","");d(this,"username","");d(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Hi().fromBinary(e,r)}static fromJson(e,r){return new Hi().fromJson(e,r)}static fromJsonString(e,r){return new Hi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Hi,e,r)}};d(Hi,"runtime",v),d(Hi,"typeName","yorkie.v1.User"),d(Hi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:be}]));let wv=Hi;const Vi=class Vi extends Y{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"publicKey","");d(this,"secretKey","");d(this,"authWebhookUrl","");d(this,"authWebhookMethods",[]);d(this,"eventWebhookUrl","");d(this,"eventWebhookEvents",[]);d(this,"clientDeactivateThreshold","");d(this,"maxSubscribersPerDocument",0);d(this,"maxAttachmentsPerDocument",0);d(this,"maxSizePerDocument",0);d(this,"allowedOrigins",[]);d(this,"createdAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Vi().fromBinary(e,r)}static fromJson(e,r){return new Vi().fromJson(e,r)}static fromJsonString(e,r){return new Vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Vi,e,r)}};d(Vi,"runtime",v),d(Vi,"typeName","yorkie.v1.Project"),d(Vi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:be},{no:13,name:"updated_at",kind:"message",T:be}]));let Av=Vi;const ji=class ji extends Y{constructor(e){super();d(this,"name");d(this,"authWebhookUrl");d(this,"authWebhookMethods");d(this,"eventWebhookUrl");d(this,"eventWebhookEvents");d(this,"clientDeactivateThreshold");d(this,"maxSubscribersPerDocument");d(this,"maxAttachmentsPerDocument");d(this,"maxSizePerDocument");d(this,"allowedOrigins");v.util.initPartial(e,this)}static fromBinary(e,r){return new ji().fromBinary(e,r)}static fromJson(e,r){return new ji().fromJson(e,r)}static fromJsonString(e,r){return new ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ji,e,r)}};d(ji,"runtime",v),d(ji,"typeName","yorkie.v1.UpdatableProjectFields"),d(ji,"fields",v.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ke},{no:2,name:"auth_webhook_url",kind:"message",T:ke},{no:3,name:"auth_webhook_methods",kind:"message",T:Xh},{no:4,name:"event_webhook_url",kind:"message",T:ke},{no:5,name:"event_webhook_events",kind:"message",T:Zh},{no:6,name:"client_deactivate_threshold",kind:"message",T:ke},{no:7,name:"max_subscribers_per_document",kind:"message",T:Ke},{no:8,name:"max_attachments_per_document",kind:"message",T:Ke},{no:10,name:"max_size_per_document",kind:"message",T:Ke},{no:9,name:"allowed_origins",kind:"message",T:_h}]));let Ev=ji;const Yi=class Yi extends Y{constructor(e){super();d(this,"methods",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Yi().fromBinary(e,r)}static fromJson(e,r){return new Yi().fromJson(e,r)}static fromJsonString(e,r){return new Yi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Yi,e,r)}};d(Yi,"runtime",v),d(Yi,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),d(Yi,"fields",v.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Xh=Yi;const Gi=class Gi extends Y{constructor(e){super();d(this,"events",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Gi().fromBinary(e,r)}static fromJson(e,r){return new Gi().fromJson(e,r)}static fromJsonString(e,r){return new Gi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Gi,e,r)}};d(Gi,"runtime",v),d(Gi,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),d(Gi,"fields",v.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let Zh=Gi;const Ki=class Ki extends Y{constructor(e){super();d(this,"origins",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ki().fromBinary(e,r)}static fromJson(e,r){return new Ki().fromJson(e,r)}static fromJsonString(e,r){return new Ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ki,e,r)}};d(Ki,"runtime",v),d(Ki,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),d(Ki,"fields",v.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let _h=Ki;const $i=class $i extends Y{constructor(e){super();d(this,"id","");d(this,"key","");d(this,"snapshot","");d(this,"createdAt");d(this,"accessedAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new $i().fromBinary(e,r)}static fromJson(e,r){return new $i().fromJson(e,r)}static fromJsonString(e,r){return new $i().fromJsonString(e,r)}static equals(e,r){return v.util.equals($i,e,r)}};d($i,"runtime",v),d($i,"typeName","yorkie.v1.DocumentSummary"),d($i,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:be},{no:5,name:"accessed_at",kind:"message",T:be},{no:6,name:"updated_at",kind:"message",T:be}]));let xv=$i;const Xi=class Xi extends Y{constructor(e){super();d(this,"type",0);d(this,"presence");v.util.initPartial(e,this)}static fromBinary(e,r){return new Xi().fromBinary(e,r)}static fromJson(e,r){return new Xi().fromJson(e,r)}static fromJsonString(e,r){return new Xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Xi,e,r)}};d(Xi,"runtime",v),d(Xi,"typeName","yorkie.v1.PresenceChange"),d(Xi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ba)},{no:2,name:"presence",kind:"message",T:xd}]));let Qo=Xi;var Ba=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Ba||{});v.util.setEnumType(Ba,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var dn;let xd=(dn=class extends Y{constructor(e){super();d(this,"data",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new dn().fromBinary(e,r)}static fromJson(e,r){return new dn().fromJson(e,r)}static fromJsonString(e,r){return new dn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dn,e,r)}},d(dn,"runtime",v),d(dn,"typeName","yorkie.v1.Presence"),d(dn,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),dn);var gn;let f0=(gn=class extends Y{constructor(e){super();d(this,"serverSeq",Ht.zero);d(this,"clientSeq",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new gn().fromBinary(e,r)}static fromJson(e,r){return new gn().fromJson(e,r)}static fromJsonString(e,r){return new gn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gn,e,r)}},d(gn,"runtime",v),d(gn,"typeName","yorkie.v1.Checkpoint"),d(gn,"fields",v.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),gn);const Zi=class Zi extends Y{constructor(e){super();d(this,"createdAt");d(this,"offset",0);d(this,"relativeOffset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Zi().fromBinary(e,r)}static fromJson(e,r){return new Zi().fromJson(e,r)}static fromJsonString(e,r){return new Zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Zi,e,r)}};d(Zi,"runtime",v),d(Zi,"typeName","yorkie.v1.TextNodePos"),d(Zi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let br=Zi;var mn;let Z=(mn=class extends Y{constructor(e){super();d(this,"lamport",Ht.zero);d(this,"delimiter",0);d(this,"actorId",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new mn().fromBinary(e,r)}static fromJson(e,r){return new mn().fromJson(e,r)}static fromJsonString(e,r){return new mn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(mn,e,r)}},d(mn,"runtime",v),d(mn,"typeName","yorkie.v1.TimeTicket"),d(mn,"fields",v.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),mn);const _i=class _i extends Y{constructor(e){super();d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new _i().fromBinary(e,r)}static fromJson(e,r){return new _i().fromJson(e,r)}static fromJsonString(e,r){return new _i().fromJsonString(e,r)}static equals(e,r){return v.util.equals(_i,e,r)}};d(_i,"runtime",v),d(_i,"typeName","yorkie.v1.DocEventBody"),d(_i,"fields",v.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Qh=_i;const Qi=class Qi extends Y{constructor(e){super();d(this,"type",0);d(this,"publisher","");d(this,"body");v.util.initPartial(e,this)}static fromBinary(e,r){return new Qi().fromBinary(e,r)}static fromJson(e,r){return new Qi().fromJson(e,r)}static fromJsonString(e,r){return new Qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Qi,e,r)}};d(Qi,"runtime",v),d(Qi,"typeName","yorkie.v1.DocEvent"),d(Qi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ra)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Qh}]));let Fh=Qi;const Fi=class Fi extends Y{constructor(e){super();d(this,"clientKey","");d(this,"metadata",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Fi().fromBinary(e,r)}static fromJson(e,r){return new Fi().fromJson(e,r)}static fromJsonString(e,r){return new Fi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Fi,e,r)}};d(Fi,"runtime",v),d(Fi,"typeName","yorkie.v1.ActivateClientRequest"),d(Fi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Wh=Fi;const Wi=class Wi extends Y{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new Wi().fromBinary(e,r)}static fromJson(e,r){return new Wi().fromJson(e,r)}static fromJsonString(e,r){return new Wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Wi,e,r)}};d(Wi,"runtime",v),d(Wi,"typeName","yorkie.v1.ActivateClientResponse"),d(Wi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let td=Wi;const tr=class tr extends Y{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new tr().fromBinary(e,r)}static fromJson(e,r){return new tr().fromJson(e,r)}static fromJsonString(e,r){return new tr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(tr,e,r)}};d(tr,"runtime",v),d(tr,"typeName","yorkie.v1.DeactivateClientRequest"),d(tr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let ed=tr;const er=class er extends Y{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new er().fromBinary(n,e)}static fromJson(n,e){return new er().fromJson(n,e)}static fromJsonString(n,e){return new er().fromJsonString(n,e)}static equals(n,e){return v.util.equals(er,n,e)}};d(er,"runtime",v),d(er,"typeName","yorkie.v1.DeactivateClientResponse"),d(er,"fields",v.util.newFieldList(()=>[]));let nd=er;const nr=class nr extends Y{constructor(e){super();d(this,"clientId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new nr().fromBinary(e,r)}static fromJson(e,r){return new nr().fromJson(e,r)}static fromJsonString(e,r){return new nr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(nr,e,r)}};d(nr,"runtime",v),d(nr,"typeName","yorkie.v1.AttachDocumentRequest"),d(nr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ar}]));let id=nr;const ir=class ir extends Y{constructor(e){super();d(this,"documentId","");d(this,"maxSizePerDocument",0);d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new ir().fromBinary(e,r)}static fromJson(e,r){return new ir().fromJson(e,r)}static fromJsonString(e,r){return new ir().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ir,e,r)}};d(ir,"runtime",v),d(ir,"typeName","yorkie.v1.AttachDocumentResponse"),d(ir,"fields",v.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:2,name:"change_pack",kind:"message",T:Ar}]));let rd=ir;const rr=class rr extends Y{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"removeIfNotAttached",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new rr().fromBinary(e,r)}static fromJson(e,r){return new rr().fromJson(e,r)}static fromJsonString(e,r){return new rr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(rr,e,r)}};d(rr,"runtime",v),d(rr,"typeName","yorkie.v1.DetachDocumentRequest"),d(rr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let ad=rr;const ar=class ar extends Y{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new ar().fromBinary(e,r)}static fromJson(e,r){return new ar().fromJson(e,r)}static fromJsonString(e,r){return new ar().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ar,e,r)}};d(ar,"runtime",v),d(ar,"typeName","yorkie.v1.DetachDocumentResponse"),d(ar,"fields",v.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Ar}]));let sd=ar;const sr=class sr extends Y{constructor(e){super();d(this,"clientId","");d(this,"documentId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new sr().fromBinary(e,r)}static fromJson(e,r){return new sr().fromJson(e,r)}static fromJsonString(e,r){return new sr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(sr,e,r)}};d(sr,"runtime",v),d(sr,"typeName","yorkie.v1.WatchDocumentRequest"),d(sr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let od=sr;const or=class or extends Y{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new or().fromBinary(e,r)}static fromJson(e,r){return new or().fromJson(e,r)}static fromJsonString(e,r){return new or().fromJsonString(e,r)}static equals(e,r){return v.util.equals(or,e,r)}};d(or,"runtime",v),d(or,"typeName","yorkie.v1.WatchDocumentResponse"),d(or,"fields",v.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:ud,oneof:"body"},{no:2,name:"event",kind:"message",T:Fh,oneof:"body"}]));let ld=or;const lr=class lr extends Y{constructor(e){super();d(this,"clientIds",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new lr().fromBinary(e,r)}static fromJson(e,r){return new lr().fromJson(e,r)}static fromJsonString(e,r){return new lr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(lr,e,r)}};d(lr,"runtime",v),d(lr,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),d(lr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let ud=lr;const ur=class ur extends Y{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new ur().fromBinary(e,r)}static fromJson(e,r){return new ur().fromJson(e,r)}static fromJsonString(e,r){return new ur().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ur,e,r)}};d(ur,"runtime",v),d(ur,"typeName","yorkie.v1.RemoveDocumentRequest"),d(ur,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar}]));let cd=ur;const cr=class cr extends Y{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new cr().fromBinary(e,r)}static fromJson(e,r){return new cr().fromJson(e,r)}static fromJsonString(e,r){return new cr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cr,e,r)}};d(cr,"runtime",v),d(cr,"typeName","yorkie.v1.RemoveDocumentResponse"),d(cr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ar}]));let fd=cr;const fr=class fr extends Y{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"pushOnly",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new fr().fromBinary(e,r)}static fromJson(e,r){return new fr().fromJson(e,r)}static fromJsonString(e,r){return new fr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fr,e,r)}};d(fr,"runtime",v),d(fr,"typeName","yorkie.v1.PushPullChangesRequest"),d(fr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar},{no:4,name:"push_only",kind:"scalar",T:8}]));let hd=fr;const hr=class hr extends Y{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new hr().fromBinary(e,r)}static fromJson(e,r){return new hr().fromJson(e,r)}static fromJsonString(e,r){return new hr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hr,e,r)}};d(hr,"runtime",v),d(hr,"typeName","yorkie.v1.PushPullChangesResponse"),d(hr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ar}]));let dd=hr;const dr=class dr extends Y{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new dr().fromBinary(e,r)}static fromJson(e,r){return new dr().fromJson(e,r)}static fromJsonString(e,r){return new dr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dr,e,r)}};d(dr,"runtime",v),d(dr,"typeName","yorkie.v1.BroadcastRequest"),d(dr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let gd=dr;const gr=class gr extends Y{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new gr().fromBinary(n,e)}static fromJson(n,e){return new gr().fromJson(n,e)}static fromJsonString(n,e){return new gr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(gr,n,e)}};d(gr,"runtime",v),d(gr,"typeName","yorkie.v1.BroadcastResponse"),d(gr,"fields",v.util.newFieldList(()=>[]));let md=gr;const W1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Wh,O:td,kind:Ee.Unary},deactivateClient:{name:"DeactivateClient",I:ed,O:nd,kind:Ee.Unary},attachDocument:{name:"AttachDocument",I:id,O:rd,kind:Ee.Unary},detachDocument:{name:"DetachDocument",I:ad,O:sd,kind:Ee.Unary},removeDocument:{name:"RemoveDocument",I:cd,O:fd,kind:Ee.Unary},pushPullChanges:{name:"PushPullChanges",I:hd,O:dd,kind:Ee.Unary},watchDocument:{name:"WatchDocument",I:od,O:ld,kind:Ee.ServerStreaming},broadcast:{name:"Broadcast",I:gd,O:md,kind:Ee.Unary}}},tw=v.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);v.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:yr}]);v.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:ew,repeated:!0}]);const ew=v.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});v.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:nw,repeated:!0}]);const nw=v.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});v.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:iw,repeated:!0}]);const iw=v.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:aw}],{localName:"BadRequest_FieldViolation"});v.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:rw,repeated:!0}]);const rw=v.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),aw=v.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var N=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(N||{});class O extends Error{constructor(e,r){super(r);d(this,"name","YorkieError");d(this,"stack");this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Qn=(s=>(s.Put="put",s.Clear="clear",s))(Qn||{});const uc="000000000000000000000000",Xn=24;class vn{constructor(n,e,r){d(this,"lamport");d(this,"delimiter");d(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=r}static of(n,e,r){return new vn(n,e,r)}static fromStruct(n){return vn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new vn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const yd=0n,h0=0,Go=9223372036854775807n,Is=new vn(yd,h0,uc);function $n(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class rl{constructor(n){d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Xn),this.getMovedAt()&&(n+=Xn),this.getRemovedAt()&&(n+=Xn),n}}class na extends rl{constructor(n){super(n)}}class Nd{constructor(n,e){d(this,"strKey");d(this,"value");this.strKey=n,this.value=e}static of(n,e){return new Nd(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class Fo{constructor(){d(this,"nodeMapByKey");d(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Fo}set(n,e,r){let l;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(r)&&(l=c.getValue());const h=Nd.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),h),(c==null||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,h),e.setMovedAt(r)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new O(N.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const r=this.nodeMapByCreatedAt.get(n.toIDString());return r.remove(e),r.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new O(N.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(e.getStrKey());e===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const r=this.nodeMapByKey.get(n);if(r!=null&&r.remove(e))return r.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class Ie extends na{constructor(e,r){super(e);d(this,"memberNodes");this.memberNodes=r}static create(e,r){if(!r)return new Ie(e,Fo.create());const l=Fo.create();for(const[c,h]of Object.entries(r))l.set(c,h.deepcopy(),h.getCreatedAt());return new Ie(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,l){return this.memberNodes.set(e,r,l)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){const r=this.memberNodes.get(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.memberNodes.getByID(e);return r==null?void 0:r.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,l]of this)e.push(`"${$n(r)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,l]of this){const{createdAt:c,value:h,type:g}=l.toJSForTest();e[r]={key:r,createdAt:c,value:h,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const r=[];for(const c of e.sort()){const h=(l=this.memberNodes.get(c))==null?void 0:l.getValue();r.push(`"${$n(c)}":${h.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Ie.create(this.getCreatedAt());for(const r of this.memberNodes)e.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const l=r.getValue();if(e(l,this))return;l instanceof na&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const r of this.memberNodes)e.has(r.getStrKey())||(e.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Lt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Lt||{});class Rn{constructor(n,e){d(this,"parentCreatedAt");d(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new O(N.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class d0{constructor(n){d(this,"value");d(this,"left");d(this,"right");d(this,"parent");d(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Wo{constructor(n){d(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new O(N.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new Wo(n.getLeft());e.root&&e.root.setParent();const r=new Wo(n.getRight());if(r.root&&r.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(r.root),r.root&&r.root.setParent(e.root),this.root=e.root}else this.root=r.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const r of e)r.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var yn=null;try{yn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Tt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}Tt.prototype.__isLong__;Object.defineProperty(Tt.prototype,"__isLong__",{value:!0});function we(s){return(s&&s.__isLong__)===!0}function Nv(s){var n=Math.clz32(s&-s);return s?31-n:n}Tt.isLong=we;var Dv={},Ov={};function Ma(s,n){var e,r,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(r=Ov[s],r)?r:(e=Et(s,0,!0),l&&(Ov[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(r=Dv[s],r)?r:(e=Et(s,s<0?-1:0,!1),l&&(Dv[s]=e),e))}Tt.fromInt=Ma;function pn(s,n){if(isNaN(s))return n?vr:Dn;if(n){if(s<0)return vr;if(s>=g0)return p0}else{if(s<=-9223372036854776e3)return Be;if(s+1>=ow)return y0}return s<0?pn(-s,n).neg():Et(s%zs|0,s/zs|0,n)}Tt.fromNumber=pn;function Et(s,n,e){return new Tt(s,n,e)}Tt.fromBits=Et;var nc=Math.pow;function Dd(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?vr:Dn;if(e=e||10,e<2||36<e)throw RangeError("radix");var r;if((r=s.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Dd(s.substring(1),n,e).neg();for(var l=pn(nc(e,8)),c=Dn,h=0;h<s.length;h+=8){var g=Math.min(8,s.length-h),p=parseInt(s.substring(h,h+g),e);if(g<8){var y=pn(nc(e,g));c=c.mul(y).add(pn(p))}else c=c.mul(l),c=c.add(pn(p))}return c.unsigned=n,c}Tt.fromString=Dd;function bn(s,n){return typeof s=="number"?pn(s,n):typeof s=="string"?Dd(s,n):Et(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}Tt.fromValue=bn;var Cv=65536,sw=1<<24,zs=Cv*Cv,g0=zs*zs,ow=g0/2,Rv=Ma(sw),Dn=Ma(0);Tt.ZERO=Dn;var vr=Ma(0,!0);Tt.UZERO=vr;var Es=Ma(1);Tt.ONE=Es;var m0=Ma(1,!0);Tt.UONE=m0;var pd=Ma(-1);Tt.NEG_ONE=pd;var y0=Et(-1,2147483647,!1);Tt.MAX_VALUE=y0;var p0=Et(-1,-1,!0);Tt.MAX_UNSIGNED_VALUE=p0;var Be=Et(0,-2147483648,!1);Tt.MIN_VALUE=Be;var P=Tt.prototype;P.toInt=function(){return this.unsigned?this.low>>>0:this.low};P.toNumber=function(){return this.unsigned?(this.high>>>0)*zs+(this.low>>>0):this.high*zs+(this.low>>>0)};P.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Be)){var e=pn(n),r=this.div(e),l=r.mul(e).sub(this);return r.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=pn(nc(n,6),this.unsigned),h=this,g="";;){var p=h.div(c),y=h.sub(p.mul(c)).toInt()>>>0,T=y.toString(n);if(h=p,h.isZero())return T+g;for(;T.length<6;)T="0"+T;g=""+T+g}};P.getHighBits=function(){return this.high};P.getHighBitsUnsigned=function(){return this.high>>>0};P.getLowBits=function(){return this.low};P.getLowBitsUnsigned=function(){return this.low>>>0};P.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Be)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};P.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};P.isZero=function(){return this.high===0&&this.low===0};P.eqz=P.isZero;P.isNegative=function(){return!this.unsigned&&this.high<0};P.isPositive=function(){return this.unsigned||this.high>=0};P.isOdd=function(){return(this.low&1)===1};P.isEven=function(){return(this.low&1)===0};P.equals=function(n){return we(n)||(n=bn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};P.eq=P.equals;P.notEquals=function(n){return!this.eq(n)};P.neq=P.notEquals;P.ne=P.notEquals;P.lessThan=function(n){return this.comp(n)<0};P.lt=P.lessThan;P.lessThanOrEqual=function(n){return this.comp(n)<=0};P.lte=P.lessThanOrEqual;P.le=P.lessThanOrEqual;P.greaterThan=function(n){return this.comp(n)>0};P.gt=P.greaterThan;P.greaterThanOrEqual=function(n){return this.comp(n)>=0};P.gte=P.greaterThanOrEqual;P.ge=P.greaterThanOrEqual;P.compare=function(n){if(we(n)||(n=bn(n)),this.eq(n))return 0;var e=this.isNegative(),r=n.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};P.comp=P.compare;P.negate=function(){return!this.unsigned&&this.eq(Be)?Be:this.not().add(Es)};P.neg=P.negate;P.add=function(n){we(n)||(n=bn(n));var e=this.high>>>16,r=this.high&65535,l=this.low>>>16,c=this.low&65535,h=n.high>>>16,g=n.high&65535,p=n.low>>>16,y=n.low&65535,T=0,x=0,I=0,R=0;return R+=c+y,I+=R>>>16,R&=65535,I+=l+p,x+=I>>>16,I&=65535,x+=r+g,T+=x>>>16,x&=65535,T+=e+h,T&=65535,Et(I<<16|R,T<<16|x,this.unsigned)};P.subtract=function(n){return we(n)||(n=bn(n)),this.add(n.neg())};P.sub=P.subtract;P.multiply=function(n){if(this.isZero())return this;if(we(n)||(n=bn(n)),yn){var e=yn.mul(this.low,this.high,n.low,n.high);return Et(e,yn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?vr:Dn;if(this.eq(Be))return n.isOdd()?Be:Dn;if(n.eq(Be))return this.isOdd()?Be:Dn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Rv)&&n.lt(Rv))return pn(this.toNumber()*n.toNumber(),this.unsigned);var r=this.high>>>16,l=this.high&65535,c=this.low>>>16,h=this.low&65535,g=n.high>>>16,p=n.high&65535,y=n.low>>>16,T=n.low&65535,x=0,I=0,R=0,H=0;return H+=h*T,R+=H>>>16,H&=65535,R+=c*T,I+=R>>>16,R&=65535,R+=h*y,I+=R>>>16,R&=65535,I+=l*T,x+=I>>>16,I&=65535,I+=c*y,x+=I>>>16,I&=65535,I+=h*p,x+=I>>>16,I&=65535,x+=r*T+l*y+c*p+h*g,x&=65535,Et(R<<16|H,x<<16|I,this.unsigned)};P.mul=P.multiply;P.divide=function(n){if(we(n)||(n=bn(n)),n.isZero())throw Error("division by zero");if(yn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?yn.div_u:yn.div_s)(this.low,this.high,n.low,n.high);return Et(e,yn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?vr:Dn;var r,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return vr;if(n.gt(this.shru(1)))return m0;c=vr}else{if(this.eq(Be)){if(n.eq(Es)||n.eq(pd))return Be;if(n.eq(Be))return Es;var h=this.shr(1);return r=h.div(n).shl(1),r.eq(Dn)?n.isNegative()?Es:pd:(l=this.sub(n.mul(r)),c=r.add(l.div(n)),c)}else if(n.eq(Be))return this.unsigned?vr:Dn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Dn}for(l=this;l.gte(n);){r=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(r)/Math.LN2),p=g<=48?1:nc(2,g-48),y=pn(r),T=y.mul(n);T.isNegative()||T.gt(l);)r-=p,y=pn(r,this.unsigned),T=y.mul(n);y.isZero()&&(y=Es),c=c.add(y),l=l.sub(T)}return c};P.div=P.divide;P.modulo=function(n){if(we(n)||(n=bn(n)),yn){var e=(this.unsigned?yn.rem_u:yn.rem_s)(this.low,this.high,n.low,n.high);return Et(e,yn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};P.mod=P.modulo;P.rem=P.modulo;P.not=function(){return Et(~this.low,~this.high,this.unsigned)};P.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};P.clz=P.countLeadingZeros;P.countTrailingZeros=function(){return this.low?Nv(this.low):Nv(this.high)+32};P.ctz=P.countTrailingZeros;P.and=function(n){return we(n)||(n=bn(n)),Et(this.low&n.low,this.high&n.high,this.unsigned)};P.or=function(n){return we(n)||(n=bn(n)),Et(this.low|n.low,this.high|n.high,this.unsigned)};P.xor=function(n){return we(n)||(n=bn(n)),Et(this.low^n.low,this.high^n.high,this.unsigned)};P.shiftLeft=function(n){return we(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Et(0,this.low<<n-32,this.unsigned)};P.shl=P.shiftLeft;P.shiftRight=function(n){return we(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Et(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};P.shr=P.shiftRight;P.shiftRightUnsigned=function(n){return we(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Et(this.high,0,this.unsigned):Et(this.high>>>n-32,0,this.unsigned)};P.shru=P.shiftRightUnsigned;P.shr_u=P.shiftRightUnsigned;P.rotateLeft=function(n){var e;return we(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,Et(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};P.rotl=P.rotateLeft;P.rotateRight=function(n){var e;return we(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(e=32-n,Et(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,Et(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};P.rotr=P.rotateRight;P.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this};P.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)};P.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};P.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};P.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};Tt.fromBytes=function(n,e,r){return r?Tt.fromBytesLE(n,e):Tt.fromBytesBE(n,e)};Tt.fromBytesLE=function(n,e){return new Tt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};Tt.fromBytesBE=function(n,e){return new Tt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(Tt.fromBigInt=function(n,e){var r=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return Et(r,l,e)},Tt.fromValue=function(n,e){return typeof n=="bigint"?fromBigInt(n,e):bn(n,e)},P.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var ae=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(ae||{});class Xt extends rl{constructor(e,r){super(r);d(this,"valueType");d(this,"value");this.valueType=Xt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new Xt(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const l=new DataView(r.buffer);return r.forEach(function(c,h){l.setUint8(h,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return Tt.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(Tt.fromBytesLE(Array.from(r),!0).toNumber());default:throw new O(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new O(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${$n(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Xt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Tt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Xt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=Tt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new O(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class ic extends d0{constructor(e){super(e);d(this,"prev");d(this,"next");this.value=e}static createAfter(e,r){const l=new ic(r),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class tl{constructor(){d(this,"dummyHead");d(this,"last");d(this,"nodeMapByIndex");d(this,"nodeMapByCreatedAt");const n=Xt.of(0,Is);n.setRemovedAt(Is),this.dummyHead=new ic(n),this.last=this.dummyHead,this.nodeMapByIndex=new Wo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new tl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let r=this.nodeMapByCreatedAt.get(n.toIDString());if(!r)throw new O(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;r.getNext()&&r.getNext().getPositionedAt().after(e);)r=r.getNext();return r}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,r=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,r),c=ic.createAfter(l,e);l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c)}moveAfter(n,e,r){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new O(N.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);const c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new O(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);l!==c&&(!c.getValue().getMovedAt()||r.after(c.getValue().getMovedAt()))&&(this.release(c),this.insertAfter(l.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new O(N.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,r]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||r>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const r=this.nodeMapByCreatedAt.get(n.toIDString()),l=r.isRemoved();return r.remove(e)&&!l&&this.nodeMapByIndex.splayNode(r),r.getValue()}deleteByIndex(n,e){const r=this.getByIndex(n);if(r)return r.remove(e)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const r=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${r}}`):n.push(`[${r}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Xe extends na{constructor(e,r){super(e);d(this,"elements");this.elements=r}static create(e,r){if(!r)return new Xe(e,tl.create());const l=tl.create();for(const c of r)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Xe(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r){this.elements.insertAfter(e,r)}moveAfter(e,r,l){this.elements.moveAfter(e,r,l)}get(e){const r=this.elements.getByIndex(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.elements.getByID(e);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const l=r.getValue();if(e(l,this))return;l instanceof na&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:l,value:c,type:h}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:l,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Xe.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class aa extends Rn{constructor(e,r,l){super(e,l);d(this,"createdAt");this.createdAt=r}static create(e,r,l){return new aa(e,r,l)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof na))throw new O(N.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(r===Lt.UndoRedo){let T=l.getByID(this.createdAt);for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.subPathOf(this.createdAt),h=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(g),{opInfos:l instanceof Xe?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:h}}toReverseOperation(e){if(e instanceof Ie){const r=e.subPathOf(this.createdAt);if(r!==void 0){const l=e.get(r);if(l!==void 0)return Ia.create(r,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Ia extends Rn{constructor(e,r,l,c){super(l,c);d(this,"key");d(this,"value");this.key=e,this.value=r}static create(e,r,l,c){return new Ia(e,r,l,c)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Ie))throw new O(N.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===Lt.UndoRedo){let T=l;for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.get(this.key),h=this.toReverseOperation(c),g=this.value.deepcopy(),p=l.set(this.key,g,this.getExecutedAt());return r===Lt.UndoRedo&&e.findByCreatedAt(g.getCreatedAt())&&e.deregisterElement(g),e.registerElement(g,l),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:h}}toReverseOperation(e){let r=aa.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=Ia.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class al extends Rn{constructor(e,r,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"value");this.prevCreatedAt=r,this.value=l}static create(e,r,l,c){return new al(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Xe))throw new O(N.ErrInvalidArgument,"fail to execute, only array can execute add");const l=r,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Wr extends Rn{constructor(e,r,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"createdAt");this.prevCreatedAt=r,this.createdAt=l}static create(e,r,l,c){return new Wr(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Xe))throw new O(N.ErrInvalidArgument,"fail to execute, only array can execute move");const l=r,c=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class ta{constructor(n,e,r,l){d(this,"key");d(this,"value");d(this,"updatedAt");d(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=r,this._isRemoved=l}static of(n,e,r,l){return new ta(n,e,r,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Xn}}}class wr{constructor(){d(this,"nodeMapByKey");d(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new wr}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,r){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&r.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||r.after(l.getUpdatedAt())){const c=ta.of(n,e,r,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,r,l){const c=ta.of(n,e,r,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const r=this.nodeMapByKey.get(n),l=[];if(r===void 0||e.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const g=ta.of(n,"",e,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(r);const h=ta.of(n,r.getValue(),e,!0);return this.nodeMapByKey.set(n,h),l.push(h),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new wr;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,r]of this.nodeMapByKey)r.isRemoved()||n.push(`"${$n(e)}":"${$n(r.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,r]of this.nodeMapByKey)r.isRemoved()||(n[e]=r.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function xn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const v0=s=>s?Object.entries(s).length===0:!0,Ms=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.stringify(r);return n},Sr=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.parse(r);return n};function lw(s){return s?kv(s.live)+kv(s.gc):0}function kv(s){return s.data+s.meta}function me(s,...n){for(const e of n)s.data+=e.data,s.meta+=e.meta}function Ns(s,n){s.data-=n.data,s.meta-=n.meta}class el{constructor(n){d(this,"attributes");d(this,"content");this.attributes=wr.create(),this.content=n}static create(n){return new el(n)}get length(){return this.content.length}substring(n,e){const r=new el(this.content.substring(n,e));return r.attributes=this.attributes.deepcopy(),r}setAttr(n,e,r){return this.attributes.set(n,e,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const r=e.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}toJSON(){const n=$n(this.content),e=this.attributes.toObject(),r=[];for(const[l,c]of Object.entries(e)){const h=JSON.parse(c),g=typeof h=="string"?`"${$n(l)}":"${$n(h)}"`:`"${$n(l)}":${String(h)}`;r.push(g)}return r.sort(),r.length===0?`{"val":"${n}"}`:`{"attrs":{${r.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof ta&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class Sn extends rl{constructor(e,r){super(r);d(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,r){return new Sn(e,r)}edit(e,r,l,c,h){const g=r?el.create(r):void 0;if(g&&c)for(const[R,H]of Object.entries(c))g.setAttr(R,H,l);const[p,y,T,x]=this.rgaTreeSplit.edit(e,l,g,h);return[x.map(R=>({...R,value:R.value?{attributes:Sr(R.value.getAttributes()),content:R.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,T,[p,p]]}setStyle(e,r,l,c){const h={data:0,meta:0},[,g,p]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,y,T]=this.rgaTreeSplit.findNodeWithSplit(e[0],l);me(h,g,y);const x=[],I=this.rgaTreeSplit.findBetween(T,p),R=[];for(const V of I){const j=V.getCreatedAt().getActorID();let F=Go;c!=null&&(F=c.get(j)?c.get(j):0n),V.canStyle(l,F)&&R.push(V)}const H=[];for(const V of R){if(V.isRemoved())continue;const[j,F]=this.rgaTreeSplit.findIndexesFromRange(V.createPosRange());x.push({type:"style",actor:l.getActorID(),from:j,to:F,value:{attributes:Sr(r)}});for(const[ut,Q]of Object.entries(r)){const[ct]=V.getValue().setAttr(ut,Q,l);ct!==void 0&&H.push({parent:V.getValue(),child:ct});const W=V.getValue().getAttrs().getNodeMapByKey().get(ut);W!==void 0&&me(h,W.getDataSize())}}return[H,h,x]}indexRangeToPosRange(e,r){const l=this.rgaTreeSplit.indexToPos(e);return e===r?[l,l]:[l,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const l=r.getValue();e.push({attributes:Sr(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Sn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const l of r.getValue().getGCPairs())e.push(l)}return e}}class sl extends Rn{constructor(e,r,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"content");d(this,"attributes");this.fromPos=r,this.toPos=l,this.content=c,this.attributes=h}static create(e,r,l,c,h,g){return new sl(e,r,l,c,h,g)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Sn))throw new O(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[g,p,y]=h.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);e.acc(y);for(const T of p)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I})=>({type:"edit",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${r},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class ol extends Rn{constructor(e,r,l,c,h){super(e,h);d(this,"fromPos");d(this,"toPos");d(this,"attributes");this.fromPos=r,this.toPos=l,this.attributes=c}static create(e,r,l,c,h){return new ol(e,r,l,c,h)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Sn))throw new O(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[g,p,y]=h.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);e.acc(p);for(const T of g)e.registerGCPair(T);return{opInfos:y.map(({from:T,to:x,value:I})=>({type:"style",from:T,to:x,value:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${r},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const uw=2,cw="root",Zn="text";function Po(s,n){let e=0;const r=s.children;for(let l=0;l<n;l++){const c=r[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class fw{constructor(n,e=[]){d(this,"type");d(this,"parent");d(this,"_children");d(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new O(N.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const r=e.updateDescendantsSize();e.isRemoved||(n+=r)}return this.size+=n,this.paddedSize}get isText(){return this.type===Zn}get paddedSize(){return this.size+(this.isText?0:uw)}isAncestorOf(n){return hw(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){const r={data:0,meta:0};if(n===0||n===this.size)return[void 0,r];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,r];const h=this.getDataSize();this.value=l;const g=this.cloneText(n+e);return g.value=c,this.parent.insertAfterInternal(g,this),me(r,this.getDataSize(),g.getDataSize()),Ns(r,h),[g,r]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new O(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new O(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new O(N.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const r={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(e);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize();const h=this.children.slice(0,n),g=this.children.slice(n);this._children=h,c._children=g,this.size=this._children.reduce((p,y)=>p+y.paddedSize,0),c.size=c._children.reduce((p,y)=>p+y.paddedSize,0);for(const p of c._children)p.parent=c;return me(r,this.getDataSize(),c.getDataSize()),Ns(r,l),[c,r]}insertAfterInternal(n,e){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new O(N.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1)}insertAtInternal(n,e){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new O(N.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const r=this._children.indexOf(e);if(r!==-1)return r;e=e.parent}return-1}}function hw(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var Qt=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Qt||{});function S0(s,n,e,r){if(n>e)throw new O(N.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new O(N.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new O(N.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const h=c.isText?n-l:n-l-1,g=c.isText?e-l:e-l-1,p=!c.isText&&h<0,y=!c.isText&&g>c.size;(c.isText||p)&&r([c,c.isText?"Text":"Start"],y),S0(c,Math.max(0,h),Math.min(g,c.size),r),y&&r([c,"End"],y)}l+=c.paddedSize}}function T0(s,n,e=0){for(const r of s.children)T0(r,n,e+1);n(s,e)}function cc(s,n,e=0){for(const r of s._children)cc(r,n,e+1);n(s,e)}function vd(s,n,e=!0){if(n>s.size)throw new O(N.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let r=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return vd(c,n-l,e);if(n===l)return{node:s,offset:r};if(!e&&c.paddedSize===n-l)return{node:s,offset:r+1};if(c.paddedSize>n-l)return vd(c,n-l-1,e);l+=c.paddedSize,r+=1}return{node:s,offset:r}}function b0(s){return s.isText||s.children.length===0?s:b0(s.children[0])}function dw(s,n){if(s.size<n)throw new O(N.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const r=s.children[e];if(r.size<n)n-=r.size;else{s=r;break}}return{node:s,offset:n}}class gw{constructor(n){d(this,"root");this.root=n}tokensBetween(n,e,r){S0(this.root,n,e,r)}traverse(n){T0(this.root,n,0)}traverseAll(n){cc(this.root,n,0)}findTreePos(n,e=!0){return vd(this.root,n,e)}treePosToPath(n){const e=[];let r=n.node;if(r.isText){const l=r.parent.findOffset(r);if(l===-1)throw new O(N.ErrInvalidArgument,"invalid treePos");const c=Po(r.parent,l);e.push(c+n.offset),r=r.parent}else if(r.hasTextChild()){const l=Po(r,n.offset);e.push(l)}else e.push(n.offset);for(;r.parent;){const l=r.parent.findOffset(r);if(l===-1)throw new O(N.ErrInvalidArgument,"invalid treePos");e.push(l),r=r.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new O(N.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let r=0;r<n.length-1;r++){const l=n[r];if(e=e.children[l],!e)throw new O(N.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return dw(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new O(N.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:r}=n;if(e.isText){if(e.size===r){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===r?e:b0(e.children[r])}indexOf(n){let{node:e}=n;const{offset:r}=n;let l=0,c=1;if(e.isText){l+=r;const h=e.parent,g=h.findOffset(e);if(g===-1)throw new O(N.ErrInvalidArgument,"invalid pos");l+=Po(h,g),e=e.parent}else l+=Po(e,r);for(;e!=null&&e.parent;){const h=e.parent,g=h.findOffset(e);if(g===-1)throw new O(N.ErrInvalidArgument,"invalid pos");l+=Po(h,g),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const mw=(s,n)=>s===n?0:s<n?-1:1;class yw{constructor(n,e,r){d(this,"key");d(this,"value");d(this,"parent");d(this,"left");d(this,"right");d(this,"isRed");this.key=n,this.value=e,this.isRed=r}}class pw{constructor(n){d(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class w0{constructor(n){d(this,"root");d(this,"comparator");d(this,"counter");this.comparator=typeof n<"u"?n:mw,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new pw(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const r=this.comparator(n,e.key);if(r>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(r<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const r=this.comparator(n,e.key);if(r===0)return e;r<0?e=e.left:r>0&&(e=e.right)}}putInternal(n,e,r){if(!r)return this.counter+=1,new yw(n,e,!0);const l=this.comparator(n,r.key);return l<0?r.left=this.putInternal(n,e,r.left):l>0?r.right=this.putInternal(n,e,r.right):r.value=e,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const r=this.min(n.right);n.value=r.value,n.key=r.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class On{constructor(n,e){d(this,"parentID");d(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new On(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:r}=n,l;return r.isText?(r.parent.children[0]===r&&e===0?l=r.parent:l=r,r=r.parent):e===0?l=r:l=r.children[e-1],On.of(r.id,ye.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return On.of(ye.of(vn.fromStruct(n.parentID.createdAt),n.parentID.offset),ye.of(vn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),r=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(r);if(!l||!c)throw new O(N.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${r.toTestString()})`);return!r.equals(e)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class ye{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new ye(n,e)}static fromStruct(n){return ye.of(vn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const r=n.getCreatedAt().compare(e.getCreatedAt());return r!==0?r:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class $e extends fw{constructor(e,r,l,c,h){super(r);d(this,"id");d(this,"removedAt");d(this,"attrs");d(this,"insPrevID");d(this,"insNextID");d(this,"_value","");this.id=e,this.removedAt=h,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,l,c){return new $e(e,r,l,c)}deepcopy(){var r;const e=new $e(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new O(N.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new O(N.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),r&&this.updateAncestorsSize()}cloneText(e){return new $e(ye.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new $e(ye.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,l){const[c,h]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=e.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return[c,h]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new wr);const l=[];for(const[c,h]of Object.entries(e))l.push(this.attrs.set(c,h,r));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Xn),this.removedAt&&(e.meta+=Xn),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const l=r.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Sd(s){var e;if(s.isText){const r=s;return{type:r.type,value:r.value}}const n={type:s.type,children:s.children.map(Sd)};return s.attrs&&(n.attributes=Sr((e=s.attrs)==null?void 0:e.toObject())),n}function Od(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,r)=>e.getKey().localeCompare(r.getKey())).map(e=>{const r=JSON.parse(e.getValue());return typeof r=="string"?`${e.getKey()}="${r}"`:`${e.getKey()}="${$n(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>Od(e)).join("")}</${s.type}>`}function A0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(A0),size:s.size,isRemoved:s.isRemoved}}class Tn extends rl{constructor(e,r){super(r);d(this,"indexTree");d(this,"nodeMapByID");this.indexTree=new gw(e),this.nodeMapByID=new w0(ye.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,r){return new Tn(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let l={data:0,meta:0};const[c,h]=e.toTreeNodePair(this);let g=h;const p=c===g,y=g.parent&&!p?g.parent:c;if(g.isText){const[,T]=g.split(this,e.getLeftSiblingID().getOffset()-g.id.getOffset());l=T}if(r){const T=y.allChildren,x=p?0:T.indexOf(g)+1;for(let I=x;I<T.length;I++){const R=T[I];if(!R.id.getCreatedAt().after(r))break;g=R}}return[[y,g],l]}style(e,r,l,c){const h={data:0,meta:0},[[g,p],y]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);me(h,I,y);const R=[],H=r?Sr(r):{},V=[];return this.traverseInPosRange(g,p,T,x,([j,F])=>{var ct;const ut=j.getCreatedAt().getActorID();let Q=Go;if(c!=null&&(Q=c.get(ut)?c.get(ut):0n),j.canStyle(l,Q)&&r){const W=j.setAttrs(r,l),tt=W.reduce((At,[,ne])=>(ne&&(At[ne.getKey()]=H[ne.getKey()]),At),{}),yt=j.parent,wt=j.prevSibling||j.parent;Object.keys(tt).length>0&&R.push({type:"style",from:this.toIndex(yt,wt),to:this.toIndex(j,j),fromPath:this.toPath(yt,wt),toPath:this.toPath(j,j),actor:l.getActorID(),value:tt});for(const[At]of W)At&&V.push({parent:j,child:At});for(const[At]of Object.entries(H)){const ne=(ct=j.attrs)==null?void 0:ct.getNodeMapByKey().get(At);ne!==void 0&&F!==Qt.End&&me(h,ne.getDataSize())}}}),[V,R,h]}removeStyle(e,r,l,c){const h={data:0,meta:0},[[g,p],y]=this.findNodesAndSplitText(e[0],l),[[T,x],I]=this.findNodesAndSplitText(e[1],l);me(h,I,y);const R=[],H=[];return this.traverseInPosRange(g,p,T,x,([V])=>{const j=V.getCreatedAt().getActorID();let F=Go;if(c!=null&&(F=c.get(j)?c.get(j):0n),V.canStyle(l,F)&&r){V.attrs||(V.attrs=new wr);for(const ct of r){const W=V.attrs.remove(ct,l);for(const tt of W)H.push({parent:V,child:tt})}const ut=V.parent,Q=V.prevSibling||V.parent;R.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(ut,Q),to:this.toIndex(V,V),fromPath:this.toPath(ut,Q),toPath:this.toPath(V,V),value:r})}}),[H,R,h]}edit(e,r,l,c,h,g){const p={data:0,meta:0},[[y,T],x]=this.findNodesAndSplitText(e[0],c),[[I,R],H]=this.findNodesAndSplitText(e[1],c);me(p,H,x);const V=this.toIndex(y,T),j=this.toPath(y,T),F=[],ut=[],Q=[];this.traverseInPosRange(y,T,I,R,([tt,yt],wt)=>{if(yt===Qt.Start&&!wt)for(const Me of tt.children)Q.push(Me);const At=tt.getCreatedAt().getActorID();let ne=Go;g!=null&&(ne=g.get(At)?g.get(At):0n),(tt.canDelete(c,ne)||F.includes(tt.parent))&&((yt===Qt.Text||yt===Qt.Start)&&F.push(tt),ut.push([tt,yt]))});const ct=this.makeDeletionChanges(ut,c),W=[];for(const tt of F)tt.remove(c),tt.isRemoved&&W.push({parent:this,child:tt});for(const tt of Q)tt.removedAt||y.append(tt);if(l>0){let tt=0,yt=y,wt=T;for(;tt<l;)yt.split(this,yt.findOffset(wt)+1,h),wt=yt,yt=yt.parent,tt++;ct.push({type:"content",from:V,to:V,fromPath:j,toPath:j,actor:c.getActorID()})}if(r!=null&&r.length){const tt=[];let yt=T;for(const wt of r)yt===y?y.insertAt(wt,0):y.insertAfter(wt,yt),yt=wt,cc(wt,At=>{y.isRemoved?(At.remove(c),W.push({parent:this,child:At})):me(p,At.getDataSize()),this.nodeMapByID.put(At.id,At)}),wt.isRemoved||tt.push(wt);if(tt.length){const wt=tt.map(At=>Sd(At));ct.length&&ct[ct.length-1].from===V?ct[ct.length-1].value=wt:ct.push({type:"content",from:V,to:V,fromPath:j,toPath:j,actor:c.getActorID(),value:wt})}}return[ct,W,p]}editT(e,r,l,c,h){const g=this.findPos(e[0]),p=this.findPos(e[1]);this.edit([g,p],r,l,c,h)}move(e,r,l){throw new O(N.ErrUnimplemented,`not implemented: ${e}, ${r}, ${l}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,l=e.insNextID;if(r){const h=this.findFloorNode(r);h.insNextID=l}if(l){const h=this.findFloorNode(l);h.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const l of r.getGCPairs())e.push(l)}),e}findPos(e,r=!0){const l=this.indexTree.findTreePos(e,r);return On.fromTreePos(l)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Od(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(l,c=void 0,h=void 0,g=0)=>{var R,H,V,j;let p,y,T;const x=l.isText?{node:l,offset:0}:c&&h?this.toTreePos(c,h):null;x&&(p=this.indexTree.indexOf(x),y=this.indexTree.treePosToPath(x),T=On.fromTreePos(x).toStruct());const I={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(R=l.removedAt)==null?void 0:R.toTestString(),insPrev:(H=l.insPrevID)==null?void 0:H.toTestString(),insNext:(V=l.insNextID)==null?void 0:V.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?Sr((j=l.attrs)==null?void 0:j.toObject()):void 0,index:p,path:y,pos:T};for(let F=0;F<l.allChildren.length;F++){const ut=F===0?l:l.allChildren[F-1];I.children.push(r(l.allChildren[F],l,ut,g+1))}return I};return r(e)}getRootTreeNode(){return Sd(this.indexTree.getRoot())}toTestTreeNode(){return A0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Tn(e.deepcopy(),this.getCreatedAt())}toPath(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,l]=e,c=this.findPos(r);return r===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[[r,l]]=this.findNodesAndSplitText(e[0]),[[c,h]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,l),this.toPath(c,h)]}posRangeToIndexRange(e){const[[r,l]]=this.findNodesAndSplitText(e[0]),[[c,h]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,l),this.toIndex(c,h)]}traverseInPosRange(e,r,l,c,h){const g=this.toIndex(e,r),p=this.toIndex(l,c);return this.indexTree.tokensBetween(g,p,h)}toTreePos(e,r){if(!e||!r)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let l=e.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,r){const l=[],c=[];let h=null,g=null;for(let p=0;p<e.length;p++){const y=e[p],T=e[p+1];h||(h=y),g=y;const x=this.findRightToken(y);(!x||!T||x[0]!==T[0]||x[1]!==T[1])&&(c.push([h,g]),h=null,g=null)}for(const p of c){const[y,T]=p,[x,I]=this.findLeftToken(y),[R,H]=T,V=I===Qt.Start?x:x.parent,j=H===Qt.Start?R:R.parent,F=this.toIndex(V,x),ut=this.toIndex(j,R);F<ut&&(l.length>0&&F===l[l.length-1].to?(l[l.length-1].to=ut,l[l.length-1].toPath=this.toPath(j,R)):l.push({type:"content",from:F,to:ut,fromPath:this.toPath(V,x),toPath:this.toPath(j,R),actor:r.getActorID()}))}return l.reverse()}findRightToken([e,r]){if(r===Qt.Start){const p=e.allChildren;return p.length>0?[p[0],p[0].isText?Qt.Text:Qt.Start]:[e,Qt.End]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===c.length-1)return[l,Qt.End];const g=c[h+1];return[g,g.isText?Qt.Text:Qt.Start]}findLeftToken([e,r]){if(r===Qt.End){const p=e.allChildren;if(p.length>0){const y=p[p.length-1];return[y,y.isText?Qt.Text:Qt.End]}return[e,Qt.Start]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===0)return[l,Qt.Start];const g=c[h-1];return[g,g.isText?Qt.Text:Qt.End]}}class ll extends Rn{constructor(e,r,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"contents");d(this,"splitLevel");this.fromPos=r,this.toPos=l,this.contents=c,this.splitLevel=h}static create(e,r,l,c,h,g){return new ll(e,r,l,c,h,g)}execute(e,r,l){var x;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Tn))throw new O(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=this.getExecutedAt(),g=c,[p,y,T]=g.edit([this.fromPos,this.toPos],(x=this.contents)==null?void 0:x.map(I=>I.deepcopy()),this.splitLevel,h,(()=>{let I=h.getDelimiter();return this.contents!==void 0&&(I+=this.contents.length),()=>vn.of(h.getLamport(),++I,h.getActorID())})(),l);e.acc(T);for(const I of y)e.registerGCPair(I);return{opInfos:p.map(({from:I,to:R,value:H,splitLevel:V,fromPath:j,toPath:F})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:I,to:R,value:H,splitLevel:V,fromPath:j,toPath:F}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${r},${l},${c.map(h=>Od(h)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ds{constructor(n){d(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[r,l]of n){const c=this.vector.get(r),h=c&&c>l?c:l;e.set(r,h)}for(const[r,l]of this){const c=n.get(r),h=c&&c>l?c:l;e.set(r,h)}return new Ds(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,r]of this.vector)n.set(e,r);return new Ds(n)}filter(n){const e=new Map;for(const[r]of n){const l=this.vector.get(r);l!==void 0&&e.set(r,l)}return new Ds(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const E0=new Ds(new Map);class Nn{constructor(n,e,r,l,c){d(this,"clientSeq");d(this,"serverSeq");d(this,"actor");d(this,"lamport");d(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=yd}static of(n,e,r,l,c){return new Nn(n,e,r,l,c)}next(n=!1){if(n)return new Nn(this.clientSeq+1,this.lamport,this.actor,E0,yd);const e=this.versionVector.deepcopy();return e.set(this.actor,this.lamport+1n),new Nn(this.clientSeq+1,this.lamport+1n,this.actor,e)}syncClocks(n){if(!n.hasClocks())return this;const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,r=this.versionVector.max(n.versionVector),l=new Nn(this.clientSeq,e,this.actor,r);return l.versionVector.set(this.actor,e),l}setClocks(n,e){const r=n>this.lamport?n+1n:this.lamport+1n;e.unset(uc);const l=this.versionVector.max(e);return l.set(this.actor,r),Nn.of(this.clientSeq,r,this.actor,l)}createTimeTicket(n){return vn.of(this.lamport,n,this.actor)}setActor(n){return new Nn(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new Nn(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new Nn(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const vw=new Nn(0,0n,uc,E0);class Us{constructor({id:n,operations:e,presenceChange:r,message:l}){d(this,"id");d(this,"operations");d(this,"presenceChange");d(this,"message");this.id=n,this.operations=e||[],this.presenceChange=r,this.message=l}static create({id:n,operations:e,presenceChange:r,message:l}){return new Us({id:n,operations:e,presenceChange:r,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,r){const l=[],c=[];for(const h of this.operations){const g=h.execute(n,r,this.id.getVersionVector());if(!g)continue;const{opInfos:p,reverseOp:y}=g;l.push(...p),y&&c.unshift(y)}return this.presenceChange&&(this.presenceChange.type===Qn.Put?e.set(this.id.getActorID(),xn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Ft.bytesToHex(Ft.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Ft.bytesToHex(Ft.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:r,presenceChange:l,message:c}=n;return Us.create({id:Ft.bytesToChangeID(Ft.hexToBytes(e)),operations:r==null?void 0:r.map(h=>Ft.bytesToOperation(Ft.hexToBytes(h))),presenceChange:l,message:c})}}class fc{constructor(n,e,r,l,c,h){d(this,"documentKey");d(this,"checkpoint");d(this,"isRemoved");d(this,"changes");d(this,"snapshot");d(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=r,this.changes=l,this.snapshot=h,this.versionVector=c}static create(n,e,r,l,c,h){return new fc(n,e,r,l,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Os{constructor(n,e){d(this,"serverSeq");d(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Os(n,e)}increaseClientSeq(n){return n===0?this:new Os(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,r=Math.max(this.clientSeq,n.clientSeq);return Os.of(e,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const Sw=new Os(0n,0);class _n{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new _n(n,e)}static fromStruct(n){return _n.of(vn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new _n(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const Tw=_n.of(Is,0);class Cn{constructor(n,e){d(this,"id");d(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new Cn(n,e)}static fromStruct(n){const e=_n.fromStruct(n.id);return Cn.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return _n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class ia extends d0{constructor(e,r,l){super(r);d(this,"id");d(this,"removedAt");d(this,"prev");d(this,"next");d(this,"insPrev");d(this,"insNext");this.id=e,this.removedAt=l}static create(e,r){return new ia(e,r)}static createComparator(){return(e,r)=>{const l=e.getCreatedAt().compare(r.getCreatedAt());return l!==0?l:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new ia(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,r){const l=!this.removedAt;return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))?l:!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Cn.of(this.id,0),Cn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Xn),this.removedAt&&(e.meta+=Xn),e}deepcopy(){return new ia(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Ls{constructor(){d(this,"head");d(this,"treeByIndex");d(this,"treeByID");this.head=ia.create(Tw),this.treeByIndex=new Wo,this.treeByID=new w0(ia.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ls}edit(n,e,r,l){const c={data:0,meta:0},[h,g,p]=this.findNodeWithSplit(n[1],e),[y,T,x]=this.findNodeWithSplit(n[0],e);me(c,g,T);const I=this.findBetween(x,p),[R,H]=this.deleteNodes(I,e,l),V=p?p.getID():h.getID();let j=Cn.of(V,0);if(r){const ut=this.posToIndex(y.createPosRange()[1],!0),Q=this.insertAfter(y,ia.create(_n.of(e,0),r));me(c,Q.getDataSize()),R.length&&R[R.length-1].from===ut?R[R.length-1].value=r:R.push({actor:e.getActorID(),from:ut,to:ut,value:r}),j=Cn.of(Q.getID(),Q.getContentLength())}const F=[];for(const[,ut]of H)F.push({parent:this,child:ut});return[j,F,c,R]}indexToPos(n){const[e,r]=this.treeByIndex.find(n),l=e;return Cn.of(l.getID(),r)}findIndexesFromRange(n){const[e,r]=n;return[this.posToIndex(e,!1),this.posToIndex(r,!0)]}posToIndex(n,e){const r=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!l)throw new O(N.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(l),h=l.isRemoved()?0:r.getOffset()-l.getID().getOffset();return c+h}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Ls;let e=this.head.getNext(),r=n.head,l;for(;e;){if(l=n.insertAfter(r,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}r=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const r=n.getNext();return e.setPrev(n),r&&r.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const r=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-l.getID().getOffset(),[,h]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,h,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new O(N.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const r=[];let l=n;for(;l&&l!==e;)r.push(l),l=l.getNext();return r}splitNode(n,e){const r={data:0,meta:0};if(e>n.getContentLength())throw new O(N.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return[n,r];if(e===n.getContentLength())return[n.getNext(),r];const l=n.getDataSize(),c=n.split(e);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const h=n.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(n),me(r,n.getDataSize(),c.getDataSize()),Ns(r,l),[c,r]}deleteNodes(n,e,r){if(!n.length)return[[],new Map];const[l,c]=this.filterNodes(n,e,r),h=new Map,g=this.makeChanges(c,e);for(const p of l)h.set(p.getID().toIDString(),p),p.remove(e);return this.deleteIndexNodes(c),[g,h]}filterNodes(n,e,r){const l=[],c=[],[h,g]=this.findEdgesOfCandidates(n);c.push(h);for(const p of n){const y=p.getCreatedAt().getActorID();let T=Go;r!=null&&(T=r.get(y)?r.get(y):0n),p.canDelete(e,T)?l.push(p):c.push(p)}return c.push(g),[l,c]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const r=[];let l,c;for(let h=0;h<n.length-1;h++){const g=n[h],p=n[h+1];g.getNext()!=p&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&r.push({actor:e.getActorID(),from:l,to:c}))}return r.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const r=n[e],l=n[e+1];r.getNext()!=l&&this.treeByIndex.deleteRange(r,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),r=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(r),r&&r.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const Bv=s=>s<0?Math.ceil(s):Math.floor(s);var Fn=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(Fn||{});class Ze extends rl{constructor(e,r,l){super(l);d(this,"valueType");d(this,"value");switch(this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=Tt.fromNumber(r).toInt():this.value=Bv(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=Tt.fromNumber(r):this.value=r;break;default:throw new O(N.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,l){return new Ze(e,r,l)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return Tt.fromBytesLE(Array.from(r));default:throw new O(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ze.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Tt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ze.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new O(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===ae.Long?this.value=this.value+e.getValue().toInt():this.value=Tt.fromNumber(this.value+Bv(e.getValue())).toInt(),this}}class qs extends Rn{constructor(e,r,l){super(e,l);d(this,"value");this.value=r}static create(e,r,l){return new qs(e,r,l)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ze))throw new O(N.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=r,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===ae.Long?e.getValue().multiply(-1):e.getValue()*-1;return qs.create(this.getParentCreatedAt(),Xt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Tr extends Rn{constructor(e,r,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"attributes");d(this,"attributesToRemove");this.fromPos=r,this.toPos=l,this.attributes=c,this.attributesToRemove=h}static create(e,r,l,c,h){return new Tr(e,r,l,c,[],h)}static createTreeRemoveStyleOperation(e,r,l,c,h){return new Tr(e,r,l,new Map,c,h)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new O(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Tn))throw new O(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=c;let g,p,y={data:0,meta:0};if(this.attributes.size){const T={};[...this.attributes].forEach(([x,I])=>T[x]=I),[p,g,y]=h.style([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}else{const T=this.attributesToRemove;[p,g,y]=h.removeStyle([this.fromPos,this.toPos],T,this.getExecutedAt(),l)}e.acc(y);for(const T of p)e.registerGCPair(T);return{opInfos:g.map(({from:T,to:x,value:I,fromPath:R,toPath:H})=>({type:"tree-style",from:T,to:x,value:this.attributes.size?{attributes:I}:{attributesToRemove:I},fromPath:R,toPath:H,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${l},${Object.entries(this.attributes||{}).map(([c,h])=>`${c}:"${h}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function bw(s){const n=new xd,e=n.data;for(const[r,l]of Object.entries(s))e[r]=JSON.stringify(l);return n}function ww(s){if(s.type===Qn.Put)return new Qo({type:Ba.PUT,presence:bw(s.presence)});if(s.type===Qn.Clear)return new Qo({type:Ba.CLEAR});throw new O(N.ErrUnimplemented,"unimplemented type")}function Aw(s){return new f0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function x0(s){return new oc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Jd(s.getActorID()),versionVector:Cd(s.getVersionVector())})}function nt(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Jd(s.getActorID())})}function Cd(s){if(!s)return;const n=new lc;for(const[e,r]of s)n.vector[e]=BigInt(r.toString());return n}function N0(s){switch(s){case ae.Null:return ht.NULL;case ae.Boolean:return ht.BOOLEAN;case ae.Integer:return ht.INTEGER;case ae.Long:return ht.LONG;case ae.Double:return ht.DOUBLE;case ae.String:return ht.STRING;case ae.Bytes:return ht.BYTES;case ae.Date:return ht.DATE;default:throw new O(N.ErrInvalidType,`unsupported type: ${s}`)}}function D0(s){switch(s){case Fn.Int:return ht.INTEGER_CNT;case Fn.Long:return ht.LONG_CNT;default:throw new O(N.ErrInvalidType,`unsupported type: ${s}`)}}function Jh(s){if(s instanceof Ie)return new sn({type:ht.JSON_OBJECT,createdAt:nt(s.getCreatedAt()),value:P0(s)});if(s instanceof Xe)return new sn({type:ht.JSON_ARRAY,createdAt:nt(s.getCreatedAt()),value:tA(s)});if(s instanceof Sn)return new sn({type:ht.TEXT,createdAt:nt(s.getCreatedAt())});if(s instanceof Xt)return new sn({type:N0(s.getType()),createdAt:nt(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ze)return new sn({type:D0(s.getType()),createdAt:nt(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Tn)return new sn({type:ht.TREE,createdAt:nt(s.getCreatedAt()),value:nA(s)});throw new O(N.ErrUnimplemented,"unimplemented element")}function Ew(s){return new Zo({createdAt:nt(s.getCreatedAt()),offset:s.getOffset()})}function xu(s){return new br({createdAt:nt(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Nu(s){return new ka({parentId:Ko(s.getParentID()),leftSiblingId:Ko(s.getLeftSiblingID())})}function Ko(s){return new ea({createdAt:nt(s.getCreatedAt()),offset:s.getOffset()})}function O0(s){const n=new Ed;if(s instanceof Ia){const e=s,r=new qu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.key=e.getKey(),r.value=Jh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="set",n.body.value=r}else if(s instanceof al){const e=s,r=new Ju;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.prevCreatedAt=nt(e.getPrevCreatedAt()),r.value=Jh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="add",n.body.value=r}else if(s instanceof Wr){const e=s,r=new Pu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.prevCreatedAt=nt(e.getPrevCreatedAt()),r.createdAt=nt(e.getCreatedAt()),r.executedAt=nt(e.getExecutedAt()),n.body.case="move",n.body.value=r}else if(s instanceof aa){const e=s,r=new Hu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.createdAt=nt(e.getCreatedAt()),r.executedAt=nt(e.getExecutedAt()),n.body.case="remove",n.body.value=r}else if(s instanceof sl){const e=s,r=new Vu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=xu(e.getFromPos()),r.to=xu(e.getToPos()),r.content=e.getContent();const l=r.attributes;for(const[c,h]of e.getAttributes())l[c]=h;r.executedAt=nt(e.getExecutedAt()),n.body.case="edit",n.body.value=r}else if(s instanceof ol){const e=s,r=new ju;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=xu(e.getFromPos()),r.to=xu(e.getToPos());const l=r.attributes;for(const[c,h]of e.getAttributes())l[c]=h;r.executedAt=nt(e.getExecutedAt()),n.body.case="style",n.body.value=r}else if(s instanceof qs){const e=s,r=new Yu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.value=Jh(e.getValue()),r.executedAt=nt(e.getExecutedAt()),n.body.case="increase",n.body.value=r}else if(s instanceof ll){const e=s,r=new Gu;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=Nu(e.getFromPos()),r.to=Nu(e.getToPos()),r.contents=kw(e.getContents()),r.splitLevel=e.getSplitLevel(),r.executedAt=nt(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=r}else if(s instanceof Tr){const e=s,r=new Ku;r.parentCreatedAt=nt(e.getParentCreatedAt()),r.from=Nu(e.getFromPos()),r.to=Nu(e.getToPos());const l=e.getAttributesToRemove();if(l.length>0)r.attributesToRemove=l;else{const c=r.attributes;for(const[h,g]of e.getAttributes())c[h]=g}r.executedAt=nt(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=r}else throw new O(N.ErrUnimplemented,"unimplemented operation");return n}function xw(s){const n=[];for(const e of s)n.push(O0(e));return n}function Nw(s){const n=new u0({id:x0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=xw(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=ww(s.getPresenceChange())),n}function Dw(s){const n=[];for(const e of s)n.push(Nw(e));return n}function Ow(s){const n=[];for(const e of s)n.push(new c0({key:e.getStrKey(),element:kd(e.getValue())}));return n}function Cw(s){const n=[];for(const e of s)n.push(new Wu({element:kd(e.getValue())}));return n}function Rw(s){const n=[];for(const e of s){const r=new tc;r.id=Ew(e.getID()),r.value=e.getValue().getContent(),r.removedAt=nt(e.getRemovedAt());const l=r.attributes,c=e.getValue().getAttrs();for(const h of c){const g=new Bs;g.value=h.getValue(),g.updatedAt=nt(h.getUpdatedAt()),l[h.getKey()]=g}n.push(r)}return n}function kw(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new ec({content:Rd(e)}));return n}function Bw(s){const n={};for(const e of s)n[e.getKey()]=new Bs({value:e.getValue(),updatedAt:nt(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function Rd(s){if(!s)return[];const n=[];return cc(s,(e,r)=>{const l=new _o({id:Ko(e.id),type:e.type,removedAt:nt(e.removedAt),depth:r});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=Ko(e.insPrevID)),e.insNextID&&(l.insNextId=Ko(e.insNextID)),e.attrs&&(l.attributes=Bw(e.attrs)),n.push(l)}),n}function Iw(s){const n=new ze;return n.body.case="jsonObject",n.body.value=new $u({nodes:Ow(s.getRHT()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function C0(s){const n=new ze;return n.body.case="jsonArray",n.body.value=new Xu({nodes:Cw(s.getElements()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function zw(s){const n=new ze;return n.body.case="primitive",n.body.value=new Zu({type:N0(s.getType()),value:s.toBytes(),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function Mw(s){const n=new ze;return n.body.case="text",n.body.value=new _u({nodes:Rw(s.getRGATreeSplit()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function Uw(s){const n=new ze;return n.body.case="counter",n.body.value=new Qu({type:D0(s.getType()),value:s.toBytes(),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function R0(s){const n=new ze;return n.body.case="tree",n.body.value=new Fu({nodes:Rd(s.getRoot()),createdAt:nt(s.getCreatedAt()),movedAt:nt(s.getMovedAt()),removedAt:nt(s.getRemovedAt())}),n}function kd(s){if(s instanceof Ie)return Iw(s);if(s instanceof Xe)return C0(s);if(s instanceof Xt)return zw(s);if(s instanceof Sn)return Mw(s);if(s instanceof Ze)return Uw(s);if(s instanceof Tn)return R0(s);throw new O(N.ErrUnimplemented,"unimplemented element")}function Lw(s){return new Ar({documentKey:s.getDocumentKey(),checkpoint:Aw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:Dw(s.getChanges()),snapshot:s.getSnapshot(),versionVector:Cd(s.getVersionVector())})}function Vo(s){if(!(s instanceof Ot))return{};const n=s.findDetails(tw);for(const e of n)return e.metadata;return{}}function _r(s){return Vo(s).code??""}function k0(s){return Nn.of(s.clientSeq,BigInt(s.lamport),Ld(s.actorId),Bd(s.versionVector),BigInt(s.serverSeq))}function Bd(s){if(!s)return;const n=new Ds;return Object.entries(s.vector).forEach(([e,r])=>{n.set(e,BigInt(r.toString()))}),n}function it(s){if(s)return vn.of(BigInt(s.lamport),s.delimiter,Ld(s.actorId))}function Id(s){const n={};return Object.entries(s.data).forEach(([e,r])=>{n[e]=JSON.parse(r)}),n}function qw(s){const n=s.type;if(n===Ba.PUT){const e=Id(s.presence);return{type:Qn.Put,presence:e}}if(n===Ba.CLEAR)return{type:Qn.Clear};throw new O(N.ErrInvalidType,`unsupported type: ${n}`)}function Jw(s){const n=new Map;return Object.entries(s).forEach(([e,r])=>{n.set(e,Id(r))}),n}function B0(s){switch(s){case ht.NULL:return ae.Null;case ht.BOOLEAN:return ae.Boolean;case ht.INTEGER:return ae.Integer;case ht.LONG:return ae.Long;case ht.DOUBLE:return ae.Double;case ht.STRING:return ae.String;case ht.BYTES:return ae.Bytes;case ht.DATE:return ae.Date}throw new O(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function rc(s){switch(s){case ht.INTEGER_CNT:return Fn.Int;case ht.LONG_CNT:return Fn.Long}throw new O(N.ErrUnimplemented,`unimplemented value type: ${s}`)}function Ph(s){switch(s.type){case ht.JSON_OBJECT:return s.value?J0(s.value):Ie.create(it(s.createdAt));case ht.JSON_ARRAY:return s.value?Ww(s.value):Xe.create(it(s.createdAt));case ht.TEXT:return Sn.create(Ls.create(),it(s.createdAt));case ht.TREE:return eA(s.value);case ht.NULL:case ht.BOOLEAN:case ht.INTEGER:case ht.LONG:case ht.DOUBLE:case ht.STRING:case ht.BYTES:case ht.DATE:return Xt.of(Xt.valueFromBytes(B0(s.type),s.value),it(s.createdAt));case ht.INTEGER_CNT:case ht.LONG_CNT:return Ze.create(rc(s.type),Ze.valueFromBytes(rc(s.type),s.value),it(s.createdAt))}}function Du(s){return Cn.of(_n.of(it(s.createdAt),s.offset),s.relativeOffset)}function I0(s){return _n.of(it(s.createdAt),s.offset)}function Pw(s){const n=el.create(s.value);Object.entries(s.attributes).forEach(([r,l])=>{n.setAttr(r,l.value,it(l.updatedAt))});const e=ia.create(I0(s.id),n);return e.remove(it(s.removedAt)),e}function ws(s){return On.of($o(s.parentId),$o(s.leftSiblingId))}function $o(s){return ye.of(it(s.createdAt),s.offset)}function Hw(s){if(!s.length)return;const n=[];return s.forEach(e=>{const r=zd(e.content);n.push(r)}),n}function zd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(jw(l));const e=n[n.length-1],r=new Map;r.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)r.get(s[l].depth-1).prepend(n[l]),r.set(s[l].depth,n[l]);return e.updateDescendantsSize(),Tn.create(e,Is).getRoot()}function Vw(s){const n=wr.create();for(const[e,r]of Object.entries(s))n.setInternal(e,r.value,it(r.updatedAt),r.isRemoved);return n}function jw(s){const n=$o(s.id),e=$e.create(n,s.type),r=Object.entries(s.attributes);return e.isText?e.value=s.value:r.length&&(e.attrs=Vw(s.attributes)),s.insPrevId&&(e.insPrevID=$o(s.insPrevId)),s.insNextId&&(e.insNextID=$o(s.insNextId)),e.removedAt=it(s.removedAt),e}function z0(s){if(s.body.case==="set"){const n=s.body.value;return Ia.create(n.key,Ph(n.value),it(n.parentCreatedAt),it(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return al.create(it(n.parentCreatedAt),it(n.prevCreatedAt),Ph(n.value),it(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Wr.create(it(n.parentCreatedAt),it(n.prevCreatedAt),it(n.createdAt),it(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return aa.create(it(n.parentCreatedAt),it(n.createdAt),it(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),sl.create(it(n.parentCreatedAt),Du(n.from),Du(n.to),n.content,e,it(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),ol.create(it(n.parentCreatedAt),Du(n.from),Du(n.to),e,it(n.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const n=s.body.value;return qs.create(it(n.parentCreatedAt),Ph(n.value),it(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return ll.create(it(n.parentCreatedAt),ws(n.from),ws(n.to),Hw(n.contents),n.splitLevel,it(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,r=n.attributesToRemove;return(r==null?void 0:r.length)>0?Tr.createTreeRemoveStyleOperation(it(n.parentCreatedAt),ws(n.from),ws(n.to),r,it(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{e.set(l,c)}),Tr.create(it(n.parentCreatedAt),ws(n.from),ws(n.to),e,it(n.executedAt)))}else throw new O(N.ErrUnimplemented,"unimplemented operation")}}function Yw(s){const n=[];for(const e of s){const r=z0(e);r&&n.push(r)}return n}function M0(s){const n=[];for(const e of s)n.push(Us.create({id:k0(e.id),operations:Yw(e.operations),presenceChange:e.presenceChange?qw(e.presenceChange):void 0,message:e.message}));return n}function Gw(s){return Os.of(BigInt(s.serverSeq),s.clientSeq)}function Kw(s){return fc.create(s.documentKey,Gw(s.checkpoint),s.isRemoved,M0(s.changes),Bd(s.versionVector),s.snapshot)}function U0(s){const n=new Fo;for(const r of s.nodes){const l=Md(r.element);n.set(r.key,l,l.getPositionedAt())}const e=new Ie(it(s.createdAt),n);return e.setMovedAt(it(s.movedAt)),e.setRemovedAt(it(s.removedAt)),e}function L0(s){const n=new tl;for(const r of s.nodes)n.insert(Md(r.element));const e=new Xe(it(s.createdAt),n);return e.setMovedAt(it(s.movedAt)),e.setRemovedAt(it(s.removedAt)),e}function $w(s){const n=Xt.of(Xt.valueFromBytes(B0(s.type),s.value),it(s.createdAt));return n.setMovedAt(it(s.movedAt)),n.setRemovedAt(it(s.removedAt)),n}function Xw(s){const n=new Ls;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,Pw(l));l.insPrevId&&c.setInsPrev(n.findNode(I0(l.insPrevId))),e=c}const r=new Sn(n,it(s.createdAt));return r.setMovedAt(it(s.movedAt)),r.setRemovedAt(it(s.removedAt)),r}function Zw(s){const n=Ze.create(rc(s.type),Ze.valueFromBytes(rc(s.type),s.value),it(s.createdAt));return n.setMovedAt(it(s.movedAt)),n.setRemovedAt(it(s.removedAt)),n}function q0(s){const n=zd(s.nodes);return Tn.create(n,it(s.createdAt))}function Md(s){if(s.body.case==="jsonObject")return U0(s.body.value);if(s.body.case==="jsonArray")return L0(s.body.value);if(s.body.case==="primitive")return $w(s.body.value);if(s.body.case==="text")return Xw(s.body.value);if(s.body.case==="counter")return Zw(s.body.value);if(s.body.case==="tree")return q0(s.body.value);throw new O(N.ErrUnimplemented,"unimplemented element")}function _w(s){if(!s)return{root:Ie.create(Is),presences:new Map};const n=Gh.fromBinary(s);return{root:Md(n.root),presences:Jw(n.presences)}}function Qw(s){const n=Cd(s);return Ud(n.toBinary())}function Fw(s){const n=qd(s),e=lc.fromBinary(n);return Bd(e)}function J0(s){if(!s)throw new O(N.ErrInvalidArgument,"bytes is empty");const n=ze.fromBinary(s);return U0(n.body.value)}function P0(s){return kd(s).toBinary()}function Ww(s){if(!s)throw new O(N.ErrInvalidArgument,"bytes is empty");const n=ze.fromBinary(s);return L0(n.body.value)}function tA(s){return C0(s).toBinary()}function eA(s){if(!s)throw new O(N.ErrInvalidArgument,"bytes is empty");const n=ze.fromBinary(s);return q0(n.body.value)}function nA(s){return R0(s).toBinary()}function Ud(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Ld(s){return Ud(s)}function qd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function Jd(s){return qd(s)}function iA(s){const n=oc.fromBinary(s);return k0(n)}function rA(s){const n=Ed.fromBinary(s);return z0(n)}const Ft={fromPresence:Id,toChangePack:Lw,fromChangePack:Kw,fromChanges:M0,toTreeNodes:Rd,fromTreeNodes:zd,objectToBytes:P0,bytesToObject:J0,bytesToSnapshot:_w,bytesToHex:Ud,hexToBytes:qd,toHexString:Ld,toUint8Array:Jd,toOperation:O0,toChangeID:x0,PbChangeID:oc,bytesToChangeID:iA,bytesToOperation:rA,versionVectorToHex:Qw,hexToVersionVector:Fw};var Re=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Re||{});let Na=3;function aA(s){Na=s}const et={trivial:(...s)=>{Na>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Na>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Na>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Na>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Na>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Na<=s};function H0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class sA{constructor(n,e,r,l,c){d(this,"reconnectStreamDelay");d(this,"doc");d(this,"docID");d(this,"syncMode");d(this,"remoteChangeEventReceived");d(this,"watchStream");d(this,"watchLoopTimerID");d(this,"watchAbortController");d(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=r,this.syncMode=l,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===Mu.RealtimeSyncOff?!1:this.syncMode===Mu.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Mu.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Hh=()=>{};class oA{constructor(n){d(this,"finalized",!1);d(this,"observers",[]);d(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,r){let l;if(!n)throw new O(N.ErrInvalidArgument,"missing observer");if(this.finalized)throw new O(N.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:r},l.next===void 0&&(l.next=Hh),l.error===void 0&&(l.error=Hh),l.complete===void 0&&(l.complete=Hh);const c=H0(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){et.warn(g)}return h}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(r=>r.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(r){et.error(r)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function lA(s){const n=new oA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class xs{constructor(n,e,r,l){d(this,"prevID");d(this,"nextID");d(this,"delimiter");d(this,"message");d(this,"root");d(this,"operations");d(this,"presenceChange");d(this,"previousPresence");d(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=h0,this.root=e,this.operations=[],this.previousPresence=xn(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,r,l){return new xs(n,e,r,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Us.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const r of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}class nl{constructor(n){d(this,"rootObject");d(this,"elementPairMapByCreatedAt");d(this,"gcElementSetByCreatedAt");d(this,"gcPairMap");d(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof Sn||e instanceof Tn)for(const r of e.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new nl(Ie.create(Is))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const r=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new O(N.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);r.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),me(this.docSize.live,n.getDataSize()),n instanceof na&&n.getDescendants((r,l)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:l,element:r}),me(this.docSize.live,r.getDataSize()),!1))}deregisterElement(n){let e=0;const r=l=>{const c=l.getCreatedAt().toIDString();Ns(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return r(n),n instanceof na&&n.getDescendants(l=>(r(l),!1)),e}registerRemovedElement(n){me(this.docSize.gc,n.getDataSize()),Ns(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Xn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const r=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();me(this.docSize.gc,r),Ns(this.docSize.live,r),n.child instanceof ta||(this.docSize.live.meta+=Xn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const r=this.elementPairMapByCreatedAt.get(e);r.element instanceof na&&r.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new nl(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const r of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(r),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,r]of this.gcPairMap){const l=r.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(r.parent.purge(r.child),this.gcPairMap.delete(r.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){me(this.docSize.live,n)}}function V0(s,n){const e=new il(s);return new Proxy(n,e.getHandlers())}class il{constructor(n){d(this,"context");d(this,"handlers");this.context=n,this.handlers={set:(e,r,l)=>(et.isEnabled(Re.Trivial)&&et.trivial(`obj[${r}]=${JSON.stringify(l)}`),il.setInternal(n,e,r,l),!0),get:(e,r)=>(et.isEnabled(Re.Trivial)&&et.trivial(`obj[${r}]`),r==="getID"?()=>e.getCreatedAt():r==="toJSON"||r==="toString"?()=>e.toJSON():r==="toJS"?()=>e.toJS():r==="toJSForTest"?()=>e.toJSForTest():Da(n,e.get(r))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,r)=>(et.isEnabled(Re.Trivial)&&et.trivial(`obj[${r}]`),il.deleteInternal(n,e,r),!0)}}static setInternal(n,e,r,l){if(r.includes("."))throw new O(N.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),h=ac(n,l,c),g=e.set(r,h,c);n.registerElement(h,e),g&&n.registerRemovedElement(g),n.push(Ia.create(r,h.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const r={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new O(N.ErrInvalidObjectKey,"key must not contain the '.'.");const h=n.issueTimeTicket(),g=ac(n,c,h);r[l]=g}return r}static deleteInternal(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByKey(r,l);c&&(n.push(aa.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function uA(s,n){const e=new Kt(s,n);return new Proxy(n,e.getHandlers())}function cA(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function fA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Kt{constructor(n,e){d(this,"context");d(this,"handlers");d(this,"array");this.context=n,this.array=e,this.handlers={get:(r,l,c)=>l==="getID"?()=>r.getCreatedAt():l==="getElementByID"?h=>{const g=r.getByID(h);if(!(!g||g.isRemoved()))return Qr(n,g)}:l==="getElementByIndex"?h=>{const g=r.get(h);return Qr(n,g)}:l==="getLast"?()=>Qr(n,r.getLast()):l==="deleteByID"?h=>{const g=Kt.deleteInternalByID(n,r,h);return Qr(n,g)}:l==="insertAfter"?(h,g)=>{const p=Kt.insertAfterInternal(n,r,h,g);return Qr(n,p)}:l==="insertBefore"?(h,g)=>{const p=Kt.insertBeforeInternal(n,r,h,g);return Qr(n,p)}:l==="moveBefore"?(h,g)=>{Kt.moveBeforeInternal(n,r,h,g)}:l==="moveAfter"?(h,g)=>{Kt.moveAfterInternal(n,r,h,g)}:l==="moveFront"?h=>{Kt.moveFrontInternal(n,r,h)}:l==="moveLast"?h=>{Kt.moveLastInternal(n,r,h)}:cA(l)?Da(n,r.get(Number(l))):l==="push"?h=>Kt.pushInternal(n,r,h):l==="splice"?(h,g,...p)=>Kt.splice(n,r,h,g,...p):l==="length"?r.length:typeof l=="symbol"&&l===Symbol.iterator?Kt.iteratorInternal.bind(this,n,r):l==="includes"?(h,g)=>Kt.includes(n,r,h,g):l==="indexOf"?(h,g)=>Kt.indexOf(n,r,h,g):l==="lastIndexOf"?(h,g)=>Kt.lastIndexOf(n,r,h,g):l==="toJSForTest"?()=>r.toJSForTest():l==="toTestString"?()=>Kt.toTestString(r):typeof l=="string"&&fA(l)?(...h)=>{const g=Array.from(r).map(p=>Da(n,p));return Array.prototype[l].apply(g,h)}:Reflect.get(r,l,c),deleteProperty:(r,l)=>(et.isEnabled(Re.Trivial)&&et.trivial(`array[${l}]`),Kt.deleteInternalByIndex(n,r,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const r of e)yield Qr(n,r)}static buildArrayElements(n,e){const r=[];for(const l of e){const c=n.issueTimeTicket(),h=ac(n,l,c);r.push(h)}return r}static pushInternal(n,e,r){return Kt.insertAfterInternal(n,e,e.getLastCreatedAt(),r),e.length}static moveBeforeInternal(n,e,r,l){const c=n.issueTimeTicket(),h=e.getPrevCreatedAt(r);e.moveAfter(h,l,c),n.push(Wr.create(e.getCreatedAt(),h,l,c))}static moveAfterInternal(n,e,r,l){const c=n.issueTimeTicket();e.moveAfter(r,l,c),n.push(Wr.create(e.getCreatedAt(),r,l,c))}static moveFrontInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),r,l),n.push(Wr.create(e.getCreatedAt(),c.getCreatedAt(),r,l))}static moveLastInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,r,l),n.push(Wr.create(e.getCreatedAt(),c,r,l))}static insertAfterInternal(n,e,r,l){const c=n.issueTimeTicket(),h=ac(n,l,c);return e.insertAfter(r,h),n.registerElement(h,e),n.push(al.create(e.getCreatedAt(),r,h.deepcopy(),c)),h}static insertBeforeInternal(n,e,r,l){return Kt.insertAfterInternal(n,e,e.getPrevCreatedAt(r),l)}static deleteInternalByIndex(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByIndex(r,l);if(c)return n.push(aa.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,r){const l=n.issueTimeTicket(),c=e.delete(r,l);return n.push(aa.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,r,l,...c){const h=e.length,g=r>=0?Math.min(r,h):Math.max(h+r,0),p=l===void 0?h:l<0?g:Math.min(g+l,h),y=[];for(let T=g;T<p;T++){const x=Kt.deleteInternalByIndex(n,e,g);if(x){const I=x.deepcopy();I.setRemovedAt(),y.push(Da(n,I))}}if(c){let T=g===0?e.getHead().getID():e.get(g-1).getID();for(const x of c)T=Kt.insertAfterInternal(n,e,T,x).getID()}return y}static includes(n,e,r,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return!1;if(Xt.isSupport(r))return Array.from(e).map(y=>Da(n,y)).includes(r,h);for(let p=h;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return!0;return!1}static indexOf(n,e,r,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return-1;if(Xt.isSupport(r))return Array.from(e).map(y=>Da(n,y)).indexOf(r,h);for(let p=h;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return p;return-1}static lastIndexOf(n,e,r,l){var g;const c=e.length,h=l===void 0||l>=c?c-1:l<0?l+c:l;if(h<0)return-1;if(Xt.isSupport(r))return Array.from(e).map(y=>Da(n,y)).lastIndexOf(r,h);for(let p=h;p>0;p--)if(((g=e.get(p))==null?void 0:g.getID())===r.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Pd{constructor(n,e){d(this,"context");d(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,r,l){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);et.isEnabled(Re.Debug)&&et.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${r}`);const h=l?Ms(l):void 0,g=this.context.issueTimeTicket(),[,p,y,T]=this.text.edit(c,r,g,h);this.context.acc(y);for(const x of p)this.context.registerGCPair(x);return this.context.push(new sl(this.text.getCreatedAt(),c[0],c[1],r,h?new Map(Object.entries(h)):new Map,g)),this.text.findIndexesFromRange(T)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,r){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);et.isEnabled(Re.Debug)&&et.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(r)}`);const c=Ms(r),h=this.context.issueTimeTicket(),[g,p]=this.text.setStyle(l,c,h);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);return this.context.push(new ol(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Cn.fromStruct(n[0]),Cn.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new O(N.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let Hd=class{constructor(n,e){d(this,"valueType");d(this,"value");d(this,"context");d(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new O(N.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),r=Xt.of(n,e);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(qs.create(this.counter.getCreatedAt(),r,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new O(N.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Vd(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(e=>Vd(e))};return s.attrs&&(n.attributes=Sr(s.attrs.toObject())),n}function hA(s,n){const e={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Zn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(r=>Vd(r))};return s.attrs?e.attributes=Sr(s.attrs.toObject()):s.isText&&s.parent.attrs&&(e.attributes=Sr(s.parent.attrs.toObject())),e}function dA(s,n){const{node:e}=s,r=[...n].slice(0,-1),l=e.isText?e.parent.getChildrenText().length:e.children.length,c=[...r,l],h=[...r],g=[];h[h.length-1]+=1,n.every((y,T)=>y===c[T])||g.push({fromPath:[...n],toPath:c});const p=hA(e,n[n.length-1]);return p&&g.push({fromPath:h,toPath:h,content:p}),g}function gA(s,n){const{node:e,offset:r}=s,l=e.children[r],c=e.children[r-1],{children:h}=l,g=[...n].slice(0,-1),p=[{fromPath:[...n],toPath:[...g,r+1]}];if(!l.children.length)return p;const y=[...g,r-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],T=h.map(x=>Vd(x));return p.push({fromPath:y,toPath:y,content:T}),p}function jd(s,n,e){const{type:r}=s,l=e.issueTimeTicket();if(r===Zn){j0(s);const{value:c}=s,h=$e.create(ye.of(l,0),r,c);n.append(h)}else{const{children:c=[]}=s,{attributes:h}=s;let g;if(typeof h=="object"&&!v0(h)){const y=Ms(h);g=new wr;for(const[T,x]of Object.entries(y))g.set(T,x,l)}const p=$e.create(ye.of(l,0),r,void 0,g);n.append(p);for(const y of c)jd(y,p,e)}}function mA(s,n){const{type:e}=n,r=s.issueTimeTicket();let l;if(n.type===Zn){const{value:c}=n;l=$e.create(ye.of(r,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:h}=n;let g;if(typeof h=="object"&&!v0(h)){const p=Ms(h);g=new wr;for(const[y,T]of Object.entries(p))g.set(y,T,r)}l=$e.create(ye.of(s.issueTimeTicket(),0),e,void 0,g);for(const p of c)jd(p,l,s)}return l}function j0(s){if(!s.value.length)throw new O(N.ErrInvalidArgument,"text node cannot have empty value");return!0}function Iv(s){if(!s.length)return!0;if(s[0].type===Zn)for(const e of s){const{type:r}=e;if(r!==Zn)throw new O(N.ErrInvalidArgument,"element node and text node cannot be passed together");j0(e)}else for(const e of s){const{type:r}=e;if(r===Zn)throw new O(N.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Yd{constructor(n){d(this,"initialRoot");d(this,"context");d(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return $e.create(ye.of(n.issueTimeTicket(),0),cw);const e=$e.create(ye.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)jd(r,e,n);return e}getSize(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new O(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n),r=dA(e,n);for(const l of r){const{fromPath:c,toPath:h,content:g}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(p,y,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new O(N.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n);if(e.node.isText)throw new O(N.ErrInvalidArgument,"text node cannot be merged");const r=gA(e,n);for(const l of r){const{fromPath:c,toPath:h,content:g}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(p,y,g??[],0)}}styleByPath(n,e){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new O(N.ErrInvalidArgument,"path should not be empty");const[r,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),h=e?Ms(e):void 0,[g,,p]=this.tree.style([r,l],h,c);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);this.context.push(Tr.create(this.tree.getCreatedAt(),r,l,h?new Map(Object.entries(h)):new Map,c))}style(n,e,r){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),g=r?Ms(r):void 0,[p,,y]=this.tree.style([l,c],g,h);this.context.acc(y);for(const T of p)this.context.registerGCPair(T);this.context.push(Tr.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,h))}removeStyle(n,e,r){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),[g,,p]=this.tree.removeStyle([l,c],r,h);this.context.acc(p);for(const y of g)this.context.registerGCPair(y);this.context.push(Tr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,r,h))}editInternal(n,e,r,l=0){var y;if(r.length!==0&&r[0]&&(Iv(r),r[0].type!==Zn))for(const T of r){const{children:x=[]}=T;Iv(x)}const c=this.context.getLastTimeTicket();let h=new Array;if(((y=r[0])==null?void 0:y.type)===Zn){let T="";for(const x of r){const{value:I}=x;T+=I}h.push($e.create(ye.of(this.context.issueTimeTicket(),0),Zn,T))}else h=r.map(T=>T&&mA(this.context,T)).filter(T=>T);const[,g,p]=this.tree.edit([n,e],h.length?h.map(T=>T==null?void 0:T.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(p);for(const T of g)this.context.registerGCPair(T);return this.context.push(ll.create(this.tree.getCreatedAt(),n,e,h.length?h:void 0,l,c)),!0}editByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new O(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new O(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r?[r]:[],l)}editBulkByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new O(N.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new O(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r,l)}edit(n,e,r,l=0){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r?[r]:[],l)}editBulk(n,e,r,l=0){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new O(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r,l)}toXML(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],r=this.tree.indexRangeToPosRange(e);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");const e=[On.fromStruct(n[0]),On.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new O(N.ErrNotInitialized,"Tree is not initialized yet");const e=[On.fromStruct(n[0]),On.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function zv(s,n){return V0(s,n)}function Qr(s,n){if(n){if(n instanceof Xt)return n;if(n instanceof Ie)return V0(s,n);if(n instanceof Xe)return uA(s,n);if(n instanceof Sn)return new Pd(s,n);if(n instanceof Ze){const e=new Hd(Fn.Int,0);return e.initialize(s,n),e}else if(n instanceof Tn){const e=new Yd;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Da(s,n){const e=Qr(s,n);return e instanceof Xt?e.getValue():e}function ac(s,n,e){let r;if(Xt.isSupport(n))r=Xt.of(n,e);else if(Array.isArray(n))r=Xe.create(e,Kt.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Pd?(r=Sn.create(Ls.create(),e),n.initialize(s,r)):n instanceof Hd?(r=Ze.create(n.getValueType(),n.getValue(),e),n.initialize(s,r)):n instanceof Yd?(r=Tn.create(n.buildRoot(s),e),n.initialize(s,r)):r=Ie.create(e,il.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return r}class Vh{constructor(n,e){d(this,"context");d(this,"presence");this.context=n,this.presence=e}set(n,e){for(const r of Object.keys(n))this.presence[r]=n[r];this.context.setPresenceChange({type:Qn.Put,presence:xn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:Qn.Clear})}}const Mv=50;class yA{constructor(){d(this,"undoStack",[]);d(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=Mv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=Mv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const pA="yorkie-devtools-panel",vA="yorkie-devtools-sdk";function SA(s){return[ge.StatusChanged,ge.Snapshot,ge.LocalChange,ge.RemoteChange,ge.Initialized,ge.Watched,ge.Unwatched,ge.PresenceChanged].includes(s.type)}function TA(s){return s.every(SA)}let As="disconnected";const Uv=new Map,zu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=zu);function Ou(s,n){(n!=null&&n.force||As!=="disconnected")&&window.postMessage({source:vA,...s},"*")}function bA(s){if(!s.isEnableDevtools()||typeof window>"u"||Uv.has(s.getKey()))return;zu.set(s.getKey(),[]);const n=s.subscribe("all",e=>{TA(e)&&(zu.get(s.getKey()).push(e),As==="synced"&&Ou({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Uv.set(s.getKey(),[n]),Ou({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==pA)return;switch(e.data.msg){case"devtools::connect":if(As!=="disconnected")break;As="connected",Ou({msg:"doc::available",docKey:s.getKey()}),et.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":As="disconnected",et.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":As="synced",Ou({msg:"doc::sync::full",docKey:s.getKey(),events:zu.get(s.getKey())}),et.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var Fr=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(Fr||{}),ge=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ge||{}),za=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(za||{}),Td=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(Td||{});class Y0{constructor(n,e){d(this,"key");d(this,"status");d(this,"opts");d(this,"changeID");d(this,"checkpoint");d(this,"localChanges");d(this,"maxSizeLimit");d(this,"root");d(this,"clone");d(this,"eventStream");d(this,"eventStreamObserver");d(this,"onlineClients");d(this,"presences");d(this,"history");d(this,"internalHistory");d(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=nl.create(),this.changeID=vw,this.checkpoint=Sw,this.localChanges=[],this.maxSizeLimit=0,this.eventStream=lA(r=>{this.eventStreamObserver=r}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new yA,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},bA(this)}update(n,e){var h;if(this.getStatus()==="removed")throw new O(N.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),l=xs.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},e);try{const g=zv(l,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,n(g,new Vh(l,this.clone.presences.get(r)))}catch(g){throw this.clone=void 0,g}finally{this.isUpdating=!1}const c=lw((h=this.clone)==null?void 0:h.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<c)throw this.clone=void 0,new O(N.ErrDocumentSizeExceedsLimit,`document size exceeded: ${c} > ${this.maxSizeLimit}`);if(l.hasChange()){et.isEnabled(Re.Trivial)&&et.trivial(`trying to update a local change: ${this.toJSON()}`);const g=l.toChange(),{opInfos:p,reverseOps:y}=g.execute(this.root,this.presences,Lt.Local),T=l.getReversePresence();T&&y.push({type:"presence",value:T}),this.localChanges.push(g),y.length>0&&this.internalHistory.pushUndo(y),p.length>0&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const x=[];p.length>0&&x.push({type:"local-change",source:Lt.Local,value:{message:g.getMessage()||"",operations:p,actor:r,clientSeq:g.getID().getClientSeq(),serverSeq:g.getID().getServerSeq()},rawChange:this.isEnableDevtools()?g.toStruct():void 0}),g.hasPresenceChange()&&x.push({type:"presence-changed",source:Lt.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(x),et.isEnabled(Re.Trivial)&&et.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,r,l){if(typeof n=="string"){if(typeof e!="function")throw new O(N.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||g(y)},r,l)}if(n==="my-presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||g(y)},r,l)}if(n==="others"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&g(y)},r,l)}if(n==="connection"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="connection-changed"&&g(y)},r,l)}if(n==="status"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="status-changed"&&g(y)},r,l)}if(n==="sync"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="sync-status-changed"&&g(y)},r,l)}if(n==="local-broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="local-broadcast"&&g(y)},r)}if(n==="broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="broadcast"&&g(y)},r)}if(n==="auth-error"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="auth-error"&&g(y)},r)}if(n==="all"){const g=e;return this.eventStream.subscribe(g,r,l)}const c=n,h=e;return this.eventStream.subscribe(g=>{for(const p of g){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const y=[];for(const T of p.value.operations)this.isSameElementOrChildOf(T.path,c)&&y.push(T);y.length&&h({...p,value:{...p.value,operations:y}})}},r,l)}if(typeof n=="function"){const c=n,h=e,g=r;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,g)}throw new O(N.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const r=n.split(".");return e.split(".").every((c,h)=>c===r[h])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),Lt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),et.isEnabled(Re.Trivial)&&et.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:xn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return fc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=xs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return zv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,r,l=-1){const{root:c,presences:h}=Ft.bytesToSnapshot(r);this.root=new nl(c),this.presences=h,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Lt.Local),this.publish([{type:"snapshot",source:Lt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Ft.bytesToHex(r):void 0,snapshotVector:Ft.versionVectorToHex(e)}}])}applyChanges(n,e){et.isEnabled(Re.Debug)&&et.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),et.isEnabled(Re.Trivial)&&et.trivial(n.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of n)this.applyChange(r,e);et.isEnabled(Re.Debug)&&et.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const r=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const h=n.getPresenceChange();switch(h.type){case Qn.Put:r.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:h.presence}}:{type:"watched",source:Lt.Remote,value:{clientID:l,presence:h.presence}});break;case Qn.Clear:r.push({type:"unwatched",source:Lt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const h=this.isEnableDevtools()?n.toStruct():void 0;r.push(e===Lt.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h})}r.length>0&&this.publish(r)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,r=new Set;for(const l of e)l!==this.changeID.getActorID()&&r.add(l);this.setOnlineClients(r),this.publish([{type:"initialized",source:Lt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:r}=n.body.value,l=[];if(e===Ra.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&l.push({type:"watched",source:Lt.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===Ra.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&l.push({type:"unwatched",source:Lt.Remote,value:{clientID:r,presence:c}})}else if(e===Ra.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:h}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:r,topic:c,payload:JSON.parse(g.decode(h))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(uc),this.publish([{source:n==="removed"?Lt.Remote:Lt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:r,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(r),Ft.hexToVersionVector(l),Ft.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Us.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:r,presence:l}of n.value)e.add(r),this.presences.set(r,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:r}=n.value;this.addOnlineClient(e),this.presences.set(e,r);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:r}=n.value;this.presences.set(e,r)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new O(N.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let r=this.getRoot();for(const l of e)if(r=r[l],r===void 0)return;return r}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?xn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?xn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?xn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:xn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:xn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,r)=>e.clientID>r.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new O(N.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new O(N.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=xs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof Rn)){new Vh(e,xn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.toChange();r.execute(this.clone.root,this.clone.presences,Lt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Lt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushRedo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=e.getNextID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Lt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:g,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Lt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}redo(){if(this.isUpdating)throw new O(N.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new O(N.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=xs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof Rn)){new Vh(e,xn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.toChange();r.execute(this.clone.root,this.clone.presences,Lt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Lt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushUndo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=e.getNextID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Lt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:g,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Lt.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,r){const l={type:"local-broadcast",value:{topic:n,payload:e},options:r};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function wA(s,n){let e=n;return{authInterceptor:c=>async h=>(s&&h.header.set("x-api-key",s),e&&h.header.set("authorization",e),await c(h)),setToken:c=>{e=c}}}const AA="@yorkie-js/sdk",EA="0.6.13",Lv={name:AA,version:EA};function xA(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",Lv.name+"/"+Lv.version),await n(e))}const NA=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var Mu=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Mu||{});const Ho={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},jh={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class G0{constructor(n){d(this,"id");d(this,"key");d(this,"metadata");d(this,"status");d(this,"attachmentMap");d(this,"apiKey");d(this,"authTokenInjector");d(this,"conditions");d(this,"syncLoopDuration");d(this,"reconnectStreamDelay");d(this,"retrySyncLoopDelay");d(this,"rpcClient");d(this,"setAuthToken");d(this,"taskQueue");d(this,"processing",!1);d(this,"keepalive",!1);n=n||Ho;const e=n.rpcAddr||Ho.rpcAddr;this.key=n.key||H0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Ho.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Ho.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Ho.retrySyncLoopDelay;const{authInterceptor:r,setToken:l}=wA(this.apiKey);this.setAuthToken=l,this.rpcClient=R1(W1,F1({baseUrl:e,interceptors:[r,xA(n==null?void 0:n.userAgent)],fetch:(c,h)=>{const g={...h,keepalive:this.keepalive};return fetch(c,g)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),et.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw et.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),et.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw et.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(n.keepalive){this.keepalive=!0;const r=e();return this.keepalive=!1,r}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==Fr.Detached)throw new O(N.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,h)=>h.set(e.initialPresence||{}));const r=n.subscribe("local-broadcast",async c=>{var T;const{topic:h,payload:g}=c.value,p=(T=c.options)==null?void 0:T.error,y=c.options;try{await this.broadcast(n.getKey(),h,g,y)}catch(x){x instanceof Error&&(p==null||p(x))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ft.toChangePack(n.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(c.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(c.maxSizePerDocument);const g=Ft.fromChangePack(c.changePack);if(n.applyChangePack(g),n.getStatus()===Fr.Removed)return n;n.applyStatus(Fr.Attached),this.attachmentMap.set(n.getKey(),new sA(this.reconnectStreamDelay,n,c.documentId,l,r)),l!=="manual"&&await this.runWatchLoop(n.getKey()),et.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const p=n.getRootObject();if(e.initialRoot){const y=e.initialRoot;n.update(T=>{for(const[x,I]of Object.entries(y))if(!p.has(x)){const R=x;T[R]=I}})}return n}catch(c){throw et.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new O(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,h)=>h.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.docID,changePack:Ft.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Ft.fromChangePack(c.changePack);return n.applyChangePack(h),n.getStatus()!==Fr.Removed&&n.applyStatus(Fr.Detached),this.detachInternal(n.getKey()),et.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw et.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new O(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=r.syncMode;return l===e?n:(r.changeSyncMode(e),e==="manual"?(r.cancelWatchStream(),n):(e==="realtime"&&(r.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new O(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async r=>{throw et.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)e.push(this.syncInternal(r,r.syncMode));return Promise.all(e).catch(async r=>{throw et.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(n){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new O(N.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const r=Ft.toChangePack(n.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Ft.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),et.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw et.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,r,l){if(!this.isActive())throw new O(N.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new O(N.ErrDocumentNotAttached,`${n} is not attached`);if(!NA(r))throw new O(N.ErrInvalidArgument,"payload is not serializable");const h=(l==null?void 0:l.maxRetries)??jh.maxRetries,g=jh.maxBackoff;let p=0;const y=x=>Math.min(jh.initialRetryInterval*2**x,g),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),et.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(x){if(et.error(`[BC] c:"${this.getKey()}" err:`,x),await this.handleConnectError(x))if(x instanceof Ot&&_r(x)===N.ErrUnauthenticated&&c.doc.publish([{type:ge.AuthError,value:{reason:Vo(x).reason,method:"Broadcast"}}]),p<h)p++,setTimeout(()=>T(),y(p-1)),et.info(`[BC] c:"${this.getKey()}" retry attempt ${p}/${h}`);else throw et.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),x;else throw x}});return T()}runSyncLoop(){const n=()=>{if(!this.isActive()){et.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,r]of this.attachmentMap)r.needRealtimeSync()&&(r.remoteChangeEventReceived=!1,e.push(this.syncInternal(r,r.syncMode).catch(async l=>{throw l instanceof Ot&&_r(l)===N.ErrUnauthenticated&&r.doc.publish([{type:ge.AuthError,value:{reason:Vo(l).reason,method:"PushPull"}}]),l})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async r=>{et.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};et.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new O(N.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new O(N.ErrClientNotActivated,`${this.key} is not active`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:ge.ConnectionChanged,value:za.Connected}]),et.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((h,g)=>{(async()=>{try{for await(const y of c)this.handleWatchDocumentsResponse(e,y),y.body.case==="initialization"&&h([c,l])}catch(y){e.doc.resetOnlineClients(),e.doc.publish([{type:ge.Initialized,source:Lt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:ge.ConnectionChanged,value:za.Disconnected}]),et.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(y)?(y instanceof Ot&&_r(y)===N.ErrUnauthenticated&&e.doc.publish([{type:ge.AuthError,value:{reason:Vo(y).reason,method:"WatchDocuments"}}]),r()):this.conditions.WatchLoop=!1,g(y)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Ra.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus(Fr.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:r,docID:l}=n,c=r.createChangePack();try{const h=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Ft.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}),g=Ft.fromChangePack(h.changePack);if(g.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return r;r.applyChangePack(g),n.doc.publish([{type:ge.SyncStatusChanged,value:Td.Synced}]),r.getStatus()===Fr.Removed&&this.detachInternal(r.getKey());const p=r.getKey(),y=g.getChangeSize();return et.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${c.getChangeSize()} pull:${y} cp:${g.getCheckpoint().toTestString()}`),r}catch(h){throw r.publish([{type:ge.SyncStatusChanged,value:Td.SyncFailed}]),et.error(`[PP] c:"${this.getKey()}" err :`,h),h}}async handleConnectError(n){if(!(n instanceof Ot))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(_r(n)===N.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(Vo(n).reason);this.setAuthToken(e)}return!0}return _r(n)===N.ErrTooManySubscribers?(et.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(_r(n)===N.ErrTooManyAttachments||(_r(n)===N.ErrClientNotActivated||_r(n)===N.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,r)=>{this.taskQueue.push(()=>n().then(e).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{et.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Fn.Int,Fn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:G0,Document:Y0,Primitive:Xt,Text:Pd,Counter:Hd,Tree:Yd,LogLevel:Re,setLogLevel:aA,IntType:Fn.Int,LongType:Fn.Long});const K0=jt.createContext({client:void 0,loading:!0,error:void 0});function DA(s){const[n,e]=jt.useState(void 0),[r,l]=jt.useState(!0),[c,h]=jt.useState(void 0),[g,p]=jt.useState(!1);return jt.useEffect(()=>{p(!0)},[]),jt.useEffect(()=>{l(!0),h(void 0);async function y(){if(g)try{const T=new G0(s);await T.activate(),e(T)}catch(T){h(T instanceof Error?T:new Error("Failed to activate client"))}finally{l(!1)}}return y(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:r,error:c}}const OA=({children:s,...n})=>{const e=jt.useMemo(()=>({userAgent:$p.name+"/"+$p.version,...n}),[n.apiKey,n.rpcAddr]),{client:r,loading:l,error:c}=DA(e);return kt.jsx(K0.Provider,{value:{client:r,loading:l,error:c},children:s})},CA=()=>{const s=jt.useContext(K0);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function RA(s,n,e,r,l,c){const[h,g]=jt.useState(),[p,y]=jt.useState(!0),[T,x]=jt.useState(),[I,R]=jt.useState(l),[H,V]=jt.useState([]),[j,F]=jt.useState(za.Disconnected);jt.useEffect(()=>{if(e){y(!1),x(e);return}if(!s||n){y(!0);return}y(!0),x(void 0);const Q=new Y0(r),ct=[];ct.push(Q.subscribe(()=>{R(Q.getRoot())})),ct.push(Q.subscribe("presence",()=>{V(Q.getPresences())})),ct.push(Q.subscribe("connection",tt=>{F(tt.value)}));async function W(){try{await(s==null?void 0:s.attach(Q,{initialRoot:l,initialPresence:c})),g(Q),R(Q.getRoot()),V(Q.getPresences())}catch(tt){x(tt instanceof Error?tt:new Error("Failed to attach document"))}finally{y(!1)}}return W(),()=>{s&&s.hasDocument(r)&&s.detach(Q);for(const tt of ct)tt()}},[s,n,e,r]);const ut=jt.useCallback(Q=>{if(h)try{h.update(Q)}catch(ct){x(ct instanceof Error?ct:new Error("Failed to update document"))}},[h]);return{doc:h,root:I,presences:H,connection:j,update:ut,loading:p,error:T}}const hc=jt.createContext(null),kA=({docKey:s,initialRoot:n={},initialPresence:e={},children:r})=>{const{client:l,loading:c,error:h}=CA(),{doc:g,root:p,presences:y,connection:T,update:x,loading:I,error:R}=RA(l,c,h,s,n,e);return kt.jsx(hc.Provider,{value:{doc:g,root:p,presences:y,connection:T,update:x,loading:I,error:R},children:r})},BA=()=>{const s=jt.useContext(hc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{doc:s.doc,root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},IA=()=>{const s=jt.useContext(hc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},$0=()=>{const s=jt.useContext(hc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function zA(){const s=$0();return kt.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===za.Connected?kt.jsx("span",{className:"green",children:" "}):kt.jsx("span",{className:"red",children:" "})]})}function MA(){const s=IA();return kt.jsx("div",{id:"peers-container",children:kt.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>kt.jsxs(wb.Fragment,{children:[kt.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&kt.jsx("span",{children:", "})]},n.clientID))]})})}function UA(){const{root:s,update:n,loading:e,error:r}=BA(),l=$0();return e?kt.jsx("p",{children:"Loading..."}):r?kt.jsxs("div",{id:"error",children:[kt.jsxs("p",{children:["Error Name: ",r.name]}),kt.jsxs("p",{children:["Error Message: ",r.message]})]}):kt.jsxs("div",{className:"counter-side",children:[kt.jsx(zA,{}),kt.jsx(MA,{}),kt.jsxs("div",{id:"counter-container",children:[kt.jsx("h1",{id:"counter",children:"Counter"}),kt.jsx("div",{id:"counter-value",children:s.counter}),kt.jsx("button",{id:"increment",disabled:l===za.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),kt.jsx("div",{id:"error",children:l===za.Disconnected&&kt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function LA(){return kt.jsx(OA,{apiKey:"",rpcAddr:"http://localhost:8080",children:kt.jsx("div",{className:"page-container",children:kt.jsx(kA,{docKey:"react-document-limit",initialRoot:{counter:0},children:kt.jsx(UA,{})})})})}Cb.createRoot(document.getElementById("root")).render(kt.jsx(jt.StrictMode,{children:kt.jsx(LA,{})}));
