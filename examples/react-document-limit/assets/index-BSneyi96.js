var ww=Object.defineProperty;var Aw=(s,n,t)=>n in s?ww(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var h=(s,n,t)=>Aw(s,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Ew(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function xw(){if(Rv)return hl;Rv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:d,ref:o!==void 0?o:null,props:c}}return hl.Fragment=n,hl.jsx=t,hl.jsxs=t,hl}var zv;function Nw(){return zv||(zv=1,fd.exports=xw()),fd.exports}var Ot=Nw(),hd={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Dw(){if(Mv)return ht;Mv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function k(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function j(w,P,X){this.props=w,this.context=P,this.refs=q,this.updater=X||O}j.prototype.isReactComponent={},j.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},j.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function _(){}_.prototype=j.prototype;function lt(w,P,X){this.props=w,this.context=P,this.refs=q,this.updater=X||O}var ct=lt.prototype=new _;ct.constructor=lt,V(ct,j.prototype),ct.isPureReactComponent=!0;var gt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function yt(w,P,X,Y,rt,Nt){return X=Nt.ref,{$$typeof:s,type:w,key:P,ref:X!==void 0?X:null,props:Nt}}function At(w,P){return yt(w.type,P,void 0,void 0,void 0,w.props)}function Et(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function se(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return P[X]})}var ke=/\/+/g;function _t(w,P){return typeof w=="object"&&w!==null&&w.key!=null?se(""+w.key):P.toString(36)}function _e(){}function Ra(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(_e,_e):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function be(w,P,X,Y,rt){var Nt=typeof w;(Nt==="undefined"||Nt==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(Nt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case s:case n:ut=!0;break;case b:return ut=w._init,be(ut(w._payload),P,X,Y,rt)}}if(ut)return rt=rt(w),ut=Y===""?"."+_t(w,0):Y,gt(rt)?(X="",ut!=null&&(X=ut.replace(ke,"$&/")+"/"),be(rt,P,X,"",function(Qi){return Qi})):rt!=null&&(Et(rt)&&(rt=At(rt,X+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(ke,"$&/")+"/")+ut)),P.push(rt)),1;ut=0;var Je=Y===""?".":Y+":";if(gt(w))for(var Vt=0;Vt<w.length;Vt++)Y=w[Vt],Nt=Je+_t(Y,Vt),ut+=be(Y,P,X,Nt,rt);else if(Vt=k(w),typeof Vt=="function")for(w=Vt.call(w),Vt=0;!(Y=w.next()).done;)Y=Y.value,Nt=Je+_t(Y,Vt++),ut+=be(Y,P,X,Nt,rt);else if(Nt==="object"){if(typeof w.then=="function")return be(Ra(w),P,X,Y,rt);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function U(w,P,X){if(w==null)return w;var Y=[],rt=0;return be(w,Y,"","",function(Nt){return P.call(X,Nt,rt++)}),Y}function G(w){if(w._status===-1){var P=w._result;P=P(),P.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var st=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Lt(){}return ht.Children={map:U,forEach:function(w,P,X){U(w,function(){P.apply(this,arguments)},X)},count:function(w){var P=0;return U(w,function(){P++}),P},toArray:function(w){return U(w,function(P){return P})||[]},only:function(w){if(!Et(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ht.Component=j,ht.Fragment=t,ht.Profiler=o,ht.PureComponent=lt,ht.StrictMode=i,ht.Suspense=p,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,ht.__COMPILER_RUNTIME={__proto__:null,c:function(w){return et.H.useMemoCache(w)}},ht.cache=function(w){return function(){return w.apply(null,arguments)}},ht.cloneElement=function(w,P,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Y=V({},w.props),rt=w.key,Nt=void 0;if(P!=null)for(ut in P.ref!==void 0&&(Nt=void 0),P.key!==void 0&&(rt=""+P.key),P)!nt.call(P,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&P.ref===void 0||(Y[ut]=P[ut]);var ut=arguments.length-2;if(ut===1)Y.children=X;else if(1<ut){for(var Je=Array(ut),Vt=0;Vt<ut;Vt++)Je[Vt]=arguments[Vt+2];Y.children=Je}return yt(w.type,rt,void 0,void 0,Nt,Y)},ht.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ht.createElement=function(w,P,X){var Y,rt={},Nt=null;if(P!=null)for(Y in P.key!==void 0&&(Nt=""+P.key),P)nt.call(P,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(rt[Y]=P[Y]);var ut=arguments.length-2;if(ut===1)rt.children=X;else if(1<ut){for(var Je=Array(ut),Vt=0;Vt<ut;Vt++)Je[Vt]=arguments[Vt+2];rt.children=Je}if(w&&w.defaultProps)for(Y in ut=w.defaultProps,ut)rt[Y]===void 0&&(rt[Y]=ut[Y]);return yt(w,Nt,void 0,void 0,null,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(w){return{$$typeof:m,render:w}},ht.isValidElement=Et,ht.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:G}},ht.memo=function(w,P){return{$$typeof:v,type:w,compare:P===void 0?null:P}},ht.startTransition=function(w){var P=et.T,X={};et.T=X;try{var Y=w(),rt=et.S;rt!==null&&rt(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Lt,st)}catch(Nt){st(Nt)}finally{et.T=P}},ht.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},ht.use=function(w){return et.H.use(w)},ht.useActionState=function(w,P,X){return et.H.useActionState(w,P,X)},ht.useCallback=function(w,P){return et.H.useCallback(w,P)},ht.useContext=function(w){return et.H.useContext(w)},ht.useDebugValue=function(){},ht.useDeferredValue=function(w,P){return et.H.useDeferredValue(w,P)},ht.useEffect=function(w,P,X){var Y=et.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(w,P)},ht.useId=function(){return et.H.useId()},ht.useImperativeHandle=function(w,P,X){return et.H.useImperativeHandle(w,P,X)},ht.useInsertionEffect=function(w,P){return et.H.useInsertionEffect(w,P)},ht.useLayoutEffect=function(w,P){return et.H.useLayoutEffect(w,P)},ht.useMemo=function(w,P){return et.H.useMemo(w,P)},ht.useOptimistic=function(w,P){return et.H.useOptimistic(w,P)},ht.useReducer=function(w,P,X){return et.H.useReducer(w,P,X)},ht.useRef=function(w){return et.H.useRef(w)},ht.useState=function(w){return et.H.useState(w)},ht.useSyncExternalStore=function(w,P,X){return et.H.useSyncExternalStore(w,P,X)},ht.useTransition=function(){return et.H.useTransition()},ht.version="19.1.0",ht}var Uv;function pm(){return Uv||(Uv=1,hd.exports=Dw()),hd.exports}var Kt=pm();const kw=Ew(Kt);var dd={exports:{}},dl={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Ow(){return Lv||(Lv=1,function(s){function n(U,G){var st=U.length;U.push(G);t:for(;0<st;){var Lt=st-1>>>1,w=U[Lt];if(0<o(w,G))U[Lt]=G,U[st]=w,st=Lt;else break t}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var G=U[0],st=U.pop();if(st!==G){U[0]=st;t:for(var Lt=0,w=U.length,P=w>>>1;Lt<P;){var X=2*(Lt+1)-1,Y=U[X],rt=X+1,Nt=U[rt];if(0>o(Y,st))rt<w&&0>o(Nt,Y)?(U[Lt]=Nt,U[rt]=st,Lt=rt):(U[Lt]=Y,U[X]=st,Lt=X);else if(rt<w&&0>o(Nt,st))U[Lt]=Nt,U[rt]=st,Lt=rt;else break t}}return G}function o(U,G){var st=U.sortIndex-G.sortIndex;return st!==0?st:U.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],v=[],b=1,x=null,k=3,O=!1,V=!1,q=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function gt(U){for(var G=t(v);G!==null;){if(G.callback===null)i(v);else if(G.startTime<=U)i(v),G.sortIndex=G.expirationTime,n(p,G);else break;G=t(v)}}function et(U){if(q=!1,gt(U),!V)if(t(p)!==null)V=!0,nt||(nt=!0,_t());else{var G=t(v);G!==null&&be(et,G.startTime-U)}}var nt=!1,yt=-1,At=5,Et=-1;function se(){return j?!0:!(s.unstable_now()-Et<At)}function ke(){if(j=!1,nt){var U=s.unstable_now();Et=U;var G=!0;try{t:{V=!1,q&&(q=!1,lt(yt),yt=-1),O=!0;var st=k;try{e:{for(gt(U),x=t(p);x!==null&&!(x.expirationTime>U&&se());){var Lt=x.callback;if(typeof Lt=="function"){x.callback=null,k=x.priorityLevel;var w=Lt(x.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){x.callback=w,gt(U),G=!0;break e}x===t(p)&&i(p),gt(U)}else i(p);x=t(p)}if(x!==null)G=!0;else{var P=t(v);P!==null&&be(et,P.startTime-U),G=!1}}break t}finally{x=null,k=st,O=!1}G=void 0}}finally{G?_t():nt=!1}}}var _t;if(typeof ct=="function")_t=function(){ct(ke)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ra=_e.port2;_e.port1.onmessage=ke,_t=function(){Ra.postMessage(null)}}else _t=function(){_(ke,0)};function be(U,G){yt=_(function(){U(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(U){switch(k){case 1:case 2:case 3:var G=3;break;default:G=k}var st=k;k=G;try{return U()}finally{k=st}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var st=k;k=U;try{return G()}finally{k=st}},s.unstable_scheduleCallback=function(U,G,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=st+w,U={id:b++,callback:G,priorityLevel:U,startTime:st,expirationTime:w,sortIndex:-1},st>Lt?(U.sortIndex=st,n(v,U),t(p)===null&&U===t(v)&&(q?(lt(yt),yt=-1):q=!0,be(et,st-Lt))):(U.sortIndex=w,n(p,U),V||O||(V=!0,nt||(nt=!0,_t()))),U},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(U){var G=k;return function(){var st=k;k=G;try{return U.apply(this,arguments)}finally{k=st}}}}(gd)),gd}var Jv;function Cw(){return Jv||(Jv=1,md.exports=Ow()),md.exports}var yd={exports:{}},Ae={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Iw(){if(qv)return Ae;qv=1;var s=pm();function n(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ae.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(p,v,null,b)},Ae.flushSync=function(p){var v=d.T,b=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=v,i.p=b,i.d.f()}},Ae.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},Ae.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Ae.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:k,fetchPriority:O}):b==="script"&&i.d.X(p,{crossOrigin:x,integrity:k,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ae.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},Ae.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,x=m(b,v.crossOrigin);i.d.L(p,b,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ae.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=m(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},Ae.requestFormReset=function(p){i.d.r(p)},Ae.unstable_batchedUpdates=function(p,v){return p(v)},Ae.useFormState=function(p,v,b){return d.H.useFormState(p,v,b)},Ae.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ae.version="19.1.0",Ae}var Pv;function Bw(){if(Pv)return yd.exports;Pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),yd.exports=Iw(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Rw(){if(Kv)return dl;Kv=1;var s=Cw(),n=pm(),t=Bw();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function d(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(i(188))}function p(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,l=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===l)return m(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=u,l=f;else{for(var g=!1,S=u.child;S;){if(S===a){g=!0,a=u,l=f;break}if(S===l){g=!0,l=u,a=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===a){g=!0,a=f,l=u;break}if(S===l){g=!0,l=f,a=u;break}S=S.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function _t(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Ra(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case j:return"Profiler";case q:return"StrictMode";case et:return"Suspense";case nt:return"SuspenseList";case Et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case gt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return r=e.displayName||null,r!==null?r:Ra(e.type)||"Memo";case At:r=e._payload,e=e._init;try{return Ra(e(r))}catch{}}return null}var be=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],w=-1;function P(e){return{current:e}}function X(e){0>w||(e.current=Lt[w],Lt[w]=null,w--)}function Y(e,r){w++,Lt[w]=e.current,e.current=r}var rt=P(null),Nt=P(null),ut=P(null),Je=P(null);function Vt(e,r){switch(Y(ut,r),Y(Nt,e),Y(rt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?ov(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=ov(r),e=lv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),Y(rt,e)}function Qi(){X(rt),X(Nt),X(ut)}function Fc(e){e.memoizedState!==null&&Y(Je,e);var r=rt.current,a=lv(r,e.type);r!==a&&(Y(Nt,e),Y(rt,a))}function ql(e){Nt.current===e&&(X(rt),X(Nt)),Je.current===e&&(X(Je),ol._currentValue=st)}var Zc=Object.prototype.hasOwnProperty,Qc=s.unstable_scheduleCallback,_c=s.unstable_cancelCallback,tb=s.unstable_shouldYield,eb=s.unstable_requestPaint,Un=s.unstable_now,nb=s.unstable_getCurrentPriorityLevel,Km=s.unstable_ImmediatePriority,Vm=s.unstable_UserBlockingPriority,Pl=s.unstable_NormalPriority,rb=s.unstable_LowPriority,Hm=s.unstable_IdlePriority,ib=s.log,ab=s.unstable_setDisableYieldValue,go=null,qe=null;function _i(e){if(typeof ib=="function"&&ab(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(go,e)}catch{}}var Pe=Math.clz32?Math.clz32:lb,sb=Math.log,ob=Math.LN2;function lb(e){return e>>>=0,e===0?32:31-(sb(e)/ob|0)|0}var Kl=256,Vl=4194304;function za(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hl(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?u=za(l):(g&=S,g!==0?u=za(g):a||(a=S&~e,a!==0&&(u=za(a))))):(S=l&~f,S!==0?u=za(S):g!==0?u=za(g):a||(a=l&~e,a!==0&&(u=za(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function yo(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ub(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(){var e=Kl;return Kl<<=1,(Kl&4194048)===0&&(Kl=256),e}function $m(){var e=Vl;return Vl<<=1,(Vl&62914560)===0&&(Vl=4194304),e}function Wc(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function po(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cb(e,r,a,l,u,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,I=e.hiddenUpdates;for(a=g&~a;0<a;){var M=31-Pe(a),J=1<<M;S[M]=0,T[M]=-1;var B=I[M];if(B!==null)for(I[M]=null,M=0;M<B.length;M++){var R=B[M];R!==null&&(R.lane&=-536870913)}a&=~J}l!==0&&Ym(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~r))}function Ym(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Pe(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Gm(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Pe(a),u=1<<l;u&r|e[l]&r&&(e[l]|=r),a&=~u}}function tf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ef(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xm(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Dv(e.type))}function fb(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Wi=Math.random().toString(36).slice(2),Te="__reactFiber$"+Wi,Oe="__reactProps$"+Wi,os="__reactContainer$"+Wi,nf="__reactEvents$"+Wi,hb="__reactListeners$"+Wi,db="__reactHandles$"+Wi,Fm="__reactResources$"+Wi,vo="__reactMarker$"+Wi;function rf(e){delete e[Te],delete e[Oe],delete e[nf],delete e[hb],delete e[db]}function ls(e){var r=e[Te];if(r)return r;for(var a=e.parentNode;a;){if(r=a[os]||a[Te]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[Te])return a;e=hv(e)}return r}e=a,a=e.parentNode}return null}function us(e){if(e=e[Te]||e[os]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function So(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function cs(e){var r=e[Fm];return r||(r=e[Fm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ue(e){e[vo]=!0}var Zm=new Set,Qm={};function Ma(e,r){fs(e,r),fs(e+"Capture",r)}function fs(e,r){for(Qm[e]=r,e=0;e<r.length;e++)Zm.add(r[e])}var mb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_m={},Wm={};function gb(e){return Zc.call(Wm,e)?!0:Zc.call(_m,e)?!1:mb.test(e)?Wm[e]=!0:(_m[e]=!0,!1)}function jl(e,r,a){if(gb(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function $l(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function nr(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var af,tg;function hs(e){if(af===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);af=r&&r[1]||"",tg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+af+e+tg}var sf=!1;function of(e,r){if(!e||sf)return"";sf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(R){var B=R}Reflect.construct(e,[],J)}else{try{J.call()}catch(R){B=R}e.call(J.prototype)}}else{try{throw Error()}catch(R){B=R}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(R){if(R&&B&&typeof R.stack=="string")return[R.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var T=g.split(`
`),I=S.split(`
`);for(u=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(l===T.length||u===I.length)for(l=T.length-1,u=I.length-1;1<=l&&0<=u&&T[l]!==I[u];)u--;for(;1<=l&&0<=u;l--,u--)if(T[l]!==I[u]){if(l!==1||u!==1)do if(l--,u--,0>u||T[l]!==I[u]){var M=`
`+T[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=u);break}}}finally{sf=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hs(a):""}function yb(e){switch(e.tag){case 26:case 27:case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return of(e.type,!1);case 11:return of(e.type.render,!1);case 1:return of(e.type,!0);case 31:return hs("Activity");default:return""}}function eg(e){try{var r="";do r+=yb(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ng(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pb(e){var r=ng(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Yl(e){e._valueTracker||(e._valueTracker=pb(e))}function rg(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=ng(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vb=/[\n"\\]/g;function tn(e){return e.replace(vb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function lf(e,r,a,l,u,f,g,S){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),r!=null?g==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+We(r)):e.value!==""+We(r)&&(e.value=""+We(r)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),r!=null?uf(e,g,We(r)):a!=null?uf(e,g,We(a)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+We(S):e.removeAttribute("name")}function ig(e,r,a,l,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+We(a):"",r=r!=null?""+We(r):a,S||r===e.value||(e.value=r),e.defaultValue=r}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function uf(e,r,a){r==="number"&&Gl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ds(e,r,a,l){if(e=e.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=r.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),r=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function ag(e,r,a){if(r!=null&&(r=""+We(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+We(a):""}function sg(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(be(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=We(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function ms(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function og(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Sb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function lg(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in r)l=r[u],r.hasOwnProperty(u)&&a[u]!==l&&og(e,u,l)}else for(var f in r)r.hasOwnProperty(f)&&og(e,f,r[f])}function cf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(e){return Tb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ff=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,ys=null;function ug(e){var r=us(e);if(r&&(e=r.stateNode)){var a=e[Oe]||null;t:switch(e=r.stateNode,r.type){case"input":if(lf(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var u=l[Oe]||null;if(!u)throw Error(i(90));lf(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&rg(l)}break t;case"textarea":ag(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ds(e,!!a.multiple,r,!1)}}}var df=!1;function cg(e,r,a){if(df)return e(r,a);df=!0;try{var l=e(r);return l}finally{if(df=!1,(gs!==null||ys!==null)&&(Ru(),gs&&(r=gs,e=ys,ys=gs=null,ug(r),e)))for(r=0;r<e.length;r++)ug(e[r])}}function bo(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=!1;if(rr)try{var To={};Object.defineProperty(To,"passive",{get:function(){mf=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{mf=!1}var ta=null,gf=null,Fl=null;function fg(){if(Fl)return Fl;var e,r=gf,a=r.length,l,u="value"in ta?ta.value:ta.textContent,f=u.length;for(e=0;e<a&&r[e]===u[e];e++);var g=a-e;for(l=1;l<=g&&r[a-l]===u[f-l];l++);return Fl=u.slice(e,1<l?1-l:void 0)}function Zl(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function hg(){return!1}function Ce(e){function r(a,l,u,f,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ql:hg,this.isPropagationStopped=hg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),r}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Ce(Ua),wo=b({},Ua,{view:0,detail:0}),wb=Ce(wo),yf,pf,Ao,Wl=b({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(yf=e.screenX-Ao.screenX,pf=e.screenY-Ao.screenY):pf=yf=0,Ao=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:pf}}),dg=Ce(Wl),Ab=b({},Wl,{dataTransfer:0}),Eb=Ce(Ab),xb=b({},wo,{relatedTarget:0}),vf=Ce(xb),Nb=b({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Db=Ce(Nb),kb=b({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ob=Ce(kb),Cb=b({},Ua,{data:0}),mg=Ce(Cb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Rb[e])?!!r[e]:!1}function Sf(){return zb}var Mb=b({},wo,{key:function(e){if(e.key){var r=Ib[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ub=Ce(Mb),Lb=b({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=Ce(Lb),Jb=b({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),qb=Ce(Jb),Pb=b({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kb=Ce(Pb),Vb=b({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=Ce(Vb),jb=b({},Ua,{newState:0,oldState:0}),$b=Ce(jb),Yb=[9,13,27,32],bf=rr&&"CompositionEvent"in window,Eo=null;rr&&"documentMode"in document&&(Eo=document.documentMode);var Gb=rr&&"TextEvent"in window&&!Eo,yg=rr&&(!bf||Eo&&8<Eo&&11>=Eo),pg=" ",vg=!1;function Sg(e,r){switch(e){case"keyup":return Yb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ps=!1;function Xb(e,r){switch(e){case"compositionend":return bg(r);case"keypress":return r.which!==32?null:(vg=!0,pg);case"textInput":return e=r.data,e===pg&&vg?null:e;default:return null}}function Fb(e,r){if(ps)return e==="compositionend"||!bf&&Sg(e,r)?(e=fg(),Fl=gf=ta=null,ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yg&&r.locale!=="ko"?null:r.data;default:return null}}var Zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Zb[e.type]:r==="textarea"}function wg(e,r,a,l){gs?ys?ys.push(l):ys=[l]:gs=l,r=qu(r,"onChange"),0<r.length&&(a=new _l("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var xo=null,No=null;function Qb(e){nv(e,0)}function tu(e){var r=So(e);if(rg(r))return e}function Ag(e,r){if(e==="change")return r}var Eg=!1;if(rr){var Tf;if(rr){var wf="oninput"in document;if(!wf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),wf=typeof xg.oninput=="function"}Tf=wf}else Tf=!1;Eg=Tf&&(!document.documentMode||9<document.documentMode)}function Ng(){xo&&(xo.detachEvent("onpropertychange",Dg),No=xo=null)}function Dg(e){if(e.propertyName==="value"&&tu(No)){var r=[];wg(r,No,e,hf(e)),cg(Qb,r)}}function _b(e,r,a){e==="focusin"?(Ng(),xo=r,No=a,xo.attachEvent("onpropertychange",Dg)):e==="focusout"&&Ng()}function Wb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(No)}function tT(e,r){if(e==="click")return tu(r)}function eT(e,r){if(e==="input"||e==="change")return tu(r)}function nT(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ke=typeof Object.is=="function"?Object.is:nT;function Do(e,r){if(Ke(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Zc.call(r,u)||!Ke(e[u],r[u]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Og(e,r){var a=kg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Cg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Cg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Gl(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Gl(e.document)}return r}function Af(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var rT=rr&&"documentMode"in document&&11>=document.documentMode,vs=null,Ef=null,ko=null,xf=!1;function Bg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||vs==null||vs!==Gl(l)||(l=vs,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Do(ko,l)||(ko=l,l=qu(Ef,"onSelect"),0<l.length&&(r=new _l("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=vs)))}function La(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ss={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Nf={},Rg={};rr&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Ja(e){if(Nf[e])return Nf[e];if(!Ss[e])return e;var r=Ss[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Rg)return Nf[e]=r[a];return e}var zg=Ja("animationend"),Mg=Ja("animationiteration"),Ug=Ja("animationstart"),iT=Ja("transitionrun"),aT=Ja("transitionstart"),sT=Ja("transitioncancel"),Lg=Ja("transitionend"),Jg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function xn(e,r){Jg.set(e,r),Ma(r,[e])}var qg=new WeakMap;function en(e,r){if(typeof e=="object"&&e!==null){var a=qg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:eg(r)},qg.set(e,r),r)}return{value:e,source:r,stack:eg(r)}}var nn=[],bs=0,kf=0;function eu(){for(var e=bs,r=kf=bs=0;r<e;){var a=nn[r];nn[r++]=null;var l=nn[r];nn[r++]=null;var u=nn[r];nn[r++]=null;var f=nn[r];if(nn[r++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Pg(a,u,f)}}function nu(e,r,a,l){nn[bs++]=e,nn[bs++]=r,nn[bs++]=a,nn[bs++]=l,kf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Of(e,r,a,l){return nu(e,r,a,l),ru(e)}function Ts(e,r){return nu(e,null,null,r),ru(e)}function Pg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&r!==null&&(u=31-Pe(a),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[r]:l.push(r),r.lane=a|536870912),f):null}function ru(e){if(50<Wo)throw Wo=0,Mh=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var ws={};function oT(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,r,a,l){return new oT(e,r,a,l)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ir(e,r){var a=e.alternate;return a===null?(a=Ve(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function iu(e,r,a,l,u,f){var g=0;if(l=e,typeof e=="function")Cf(e)&&(g=1);else if(typeof e=="string")g=uw(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Et:return e=Ve(31,a,r,u),e.elementType=Et,e.lanes=f,e;case V:return qa(a.children,u,f,r);case q:g=8,u|=24;break;case j:return e=Ve(12,a,r,u|2),e.elementType=j,e.lanes=f,e;case et:return e=Ve(13,a,r,u),e.elementType=et,e.lanes=f,e;case nt:return e=Ve(19,a,r,u),e.elementType=nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:case ct:g=10;break t;case lt:g=9;break t;case gt:g=11;break t;case yt:g=14;break t;case At:g=16,l=null;break t}g=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return r=Ve(g,a,r,u),r.elementType=e,r.type=l,r.lanes=f,r}function qa(e,r,a,l){return e=Ve(7,e,l,r),e.lanes=a,e}function If(e,r,a){return e=Ve(6,e,null,r),e.lanes=a,e}function Bf(e,r,a){return r=Ve(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var As=[],Es=0,au=null,su=0,rn=[],an=0,Pa=null,ar=1,sr="";function Ka(e,r){As[Es++]=su,As[Es++]=au,au=e,su=r}function Vg(e,r,a){rn[an++]=ar,rn[an++]=sr,rn[an++]=Pa,Pa=e;var l=ar;e=sr;var u=32-Pe(l)-1;l&=~(1<<u),a+=1;var f=32-Pe(r)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,ar=1<<32-Pe(r)+u|a<<u|l,sr=f+e}else ar=1<<f|a<<u|l,sr=e}function Rf(e){e.return!==null&&(Ka(e,1),Vg(e,1,0))}function zf(e){for(;e===au;)au=As[--Es],As[Es]=null,su=As[--Es],As[Es]=null;for(;e===Pa;)Pa=rn[--an],rn[an]=null,sr=rn[--an],rn[an]=null,ar=rn[--an],rn[an]=null}var De=null,Xt=null,kt=!1,Va=null,Ln=!1,Mf=Error(i(519));function Ha(e){var r=Error(i(418,""));throw Io(en(r,e)),Mf}function Hg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Te]=e,r[Oe]=l,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<el.length;a++)vt(el[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),ig(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),sg(r,l.value,l.defaultValue,l.children),Yl(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||sv(r.textContent,a)?(l.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),l.onScroll!=null&&vt("scroll",r),l.onScrollEnd!=null&&vt("scrollend",r),l.onClick!=null&&(r.onclick=Pu),r=!0):r=!1,r||Ha(e)}function jg(e){for(De=e.return;De;)switch(De.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:De=De.return}}function Oo(e){if(e!==De)return!1;if(!kt)return jg(e),kt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qh(e.type,e.memoizedProps)),a=!a),a&&Xt&&Ha(e),jg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Xt=Dn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Xt=null}}else r===27?(r=Xt,ya(e.type)?(e=ed,ed=null,Xt=e):Xt=r):Xt=De?Dn(e.stateNode.nextSibling):null;return!0}function Co(){Xt=De=null,kt=!1}function $g(){var e=Va;return e!==null&&(Re===null?Re=e:Re.push.apply(Re,e),Va=null),e}function Io(e){Va===null?Va=[e]:Va.push(e)}var Uf=P(null),ja=null,or=null;function ea(e,r,a){Y(Uf,r._currentValue),r._currentValue=a}function lr(e){e._currentValue=Uf.current,X(Uf)}function Lf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Jf(e,r,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<r.length;T++)if(S.context===r[T]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Lf(f.return,a,e),l||(g=null);break t}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(i(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Lf(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Bo(e,r,a,l){e=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var S=u.type;Ke(u.pendingProps.value,g.value)||(e!==null?e.push(S):e=[S])}}else if(u===Je.current){if(g=u.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}u=u.return}e!==null&&Jf(r,e,a,l),r.flags|=262144}function ou(e){for(e=e.firstContext;e!==null;){if(!Ke(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $a(e){ja=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function we(e){return Yg(ja,e)}function lu(e,r){return ja===null&&$a(e),Yg(e,r)}function Yg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(e===null)throw Error(i(308));or=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else or=or.next=r;return a}var lT=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},uT=s.unstable_scheduleCallback,cT=s.unstable_NormalPriority,oe={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new lT,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&uT(cT,function(){e.controller.abort()})}var zo=null,Pf=0,xs=0,Ns=null;function fT(e,r){if(zo===null){var a=zo=[];Pf=0,xs=Vh(),Ns={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,r.then(Gg,Gg),r}function Gg(){if(--Pf===0&&zo!==null){Ns!==null&&(Ns.status="fulfilled");var e=zo;zo=null,xs=0,Ns=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function hT(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Xg=U.S;U.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&fT(e,r),Xg!==null&&Xg(e,r)};var Ya=P(null);function Kf(){var e=Ya.current;return e!==null?e:Pt.pooledCache}function uu(e,r){r===null?Y(Ya,Ya.current):Y(Ya,r.pool)}function Fg(){var e=Kf();return e===null?null:{parent:oe._currentValue,pool:e}}var Mo=Error(i(460)),Zg=Error(i(474)),cu=Error(i(542)),Vf={then:function(){}};function Qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fu(){}function _g(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(fu,fu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ty(e),e;default:if(typeof r.status=="string")r.then(fu,fu);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=l}},function(l){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ty(e),e}throw Uo=r,Mo}}var Uo=null;function Wg(){if(Uo===null)throw Error(i(459));var e=Uo;return Uo=null,e}function ty(e){if(e===Mo||e===cu)throw Error(i(483))}var na=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(It&2)!==0){var u=l.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),l.pending=r,r=ru(e),Pg(e,null,a),r}return nu(e,l,r,a),ru(e)}function Lo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Gm(e,a)}}function $f(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Yf=!1;function Jo(){if(Yf){var e=Ns;if(e!==null)throw e}}function qo(e,r,a,l){Yf=!1;var u=e.updateQueue;na=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,I=T.next;T.next=null,g===null?f=I:g.next=I,g=T;var M=e.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==g&&(S===null?M.firstBaseUpdate=I:S.next=I,M.lastBaseUpdate=T))}if(f!==null){var J=u.baseState;g=0,M=I=T=null,S=f;do{var B=S.lane&-536870913,R=B!==S.lane;if(R?(wt&B)===B:(l&B)===B){B!==0&&B===xs&&(Yf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ot=e,it=S;B=r;var Mt=a;switch(it.tag){case 1:if(ot=it.payload,typeof ot=="function"){J=ot.call(Mt,J,B);break t}J=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=it.payload,B=typeof ot=="function"?ot.call(Mt,J,B):ot,B==null)break t;J=b({},J,B);break t;case 2:na=!0}}B=S.callback,B!==null&&(e.flags|=64,R&&(e.flags|=8192),R=u.callbacks,R===null?u.callbacks=[B]:R.push(B))}else R={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(I=M=R,T=J):M=M.next=R,g|=B;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;R=S,S=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);M===null&&(T=J),u.baseState=T,u.firstBaseUpdate=I,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),ha|=g,e.lanes=g,e.memoizedState=J}}function ey(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function ny(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ey(a[e],r)}var Ds=P(null),hu=P(0);function ry(e,r){e=gr,Y(hu,e),Y(Ds,r),gr=e|r.baseLanes}function Gf(){Y(hu,gr),Y(Ds,Ds.current)}function Xf(){gr=hu.current,X(Ds),X(hu)}var aa=0,dt=null,Rt=null,re=null,du=!1,ks=!1,Ga=!1,mu=0,Po=0,Os=null,dT=0;function Wt(){throw Error(i(321))}function Ff(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Ke(e[a],r[a]))return!1;return!0}function Zf(e,r,a,l,u,f){return aa=f,dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=e===null||e.memoizedState===null?Py:Ky,Ga=!1,f=a(l,u),Ga=!1,ks&&(f=ay(r,a,l,u)),iy(e),f}function iy(e){U.H=bu;var r=Rt!==null&&Rt.next!==null;if(aa=0,re=Rt=dt=null,du=!1,Po=0,Os=null,r)throw Error(i(300));e===null||ce||(e=e.dependencies,e!==null&&ou(e)&&(ce=!0))}function ay(e,r,a,l){dt=e;var u=0;do{if(ks&&(Os=null),Po=0,ks=!1,25<=u)throw Error(i(301));if(u+=1,re=Rt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=bT,f=r(a,l)}while(ks);return f}function mT(){var e=U.H,r=e.useState()[0];return r=typeof r.then=="function"?Ko(r):r,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(dt.flags|=1024),r}function Qf(){var e=mu!==0;return mu=0,e}function _f(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Wf(e){if(du){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}du=!1}aa=0,re=Rt=dt=null,ks=!1,Po=mu=0,Os=null}function Ie(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?dt.memoizedState=re=e:re=re.next=e,re}function ie(){if(Rt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var r=re===null?dt.memoizedState:re.next;if(r!==null)re=r,Rt=e;else{if(e===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},re===null?dt.memoizedState=re=e:re=re.next=e}return re}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var r=Po;return Po+=1,Os===null&&(Os=[]),e=_g(Os,e,r),r=dt,(re===null?r.memoizedState:re.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Py:Ky),e}function gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ct)return we(e)}throw Error(i(438,String(e)))}function eh(e){var r=null,a=dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=th(),dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=se;return r.index++,a}function ur(e,r){return typeof r=="function"?r(e):r}function yu(e){var r=ie();return nh(r,Rt,e)}function nh(e,r,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}r.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{r=u.next;var S=g=null,T=null,I=r,M=!1;do{var J=I.lane&-536870913;if(J!==I.lane?(wt&J)===J:(aa&J)===J){var B=I.revertLane;if(B===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),J===xs&&(M=!0);else if((aa&B)===B){I=I.next,B===xs&&(M=!0);continue}else J={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(S=T=J,g=f):T=T.next=J,dt.lanes|=B,ha|=B;J=I.action,Ga&&a(f,J),f=I.hasEagerState?I.eagerState:a(f,J)}else B={lane:J,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(S=T=B,g=f):T=T.next=B,dt.lanes|=J,ha|=J;I=I.next}while(I!==null&&I!==r);if(T===null?g=f:T.next=S,!Ke(f,e.memoizedState)&&(ce=!0,M&&(a=Ns,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=T,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rh(e){var r=ie(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Ke(f,r.memoizedState)||(ce=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function sy(e,r,a){var l=dt,u=ie(),f=kt;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var g=!Ke((Rt||u).memoizedState,a);g&&(u.memoizedState=a,ce=!0),u=u.queue;var S=uy.bind(null,l,u,e);if(Vo(2048,8,S,[e]),u.getSnapshot!==r||g||re!==null&&re.memoizedState.tag&1){if(l.flags|=2048,Cs(9,pu(),ly.bind(null,l,u,a,r),null),Pt===null)throw Error(i(349));f||(aa&124)!==0||oy(l,r,a)}return a}function oy(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=dt.updateQueue,r===null?(r=th(),dt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function ly(e,r,a,l){r.value=a,r.getSnapshot=l,cy(r)&&fy(e)}function uy(e,r,a){return a(function(){cy(r)&&fy(e)})}function cy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Ke(e,a)}catch{return!0}}function fy(e){var r=Ts(e,2);r!==null&&Ge(r,e,2)}function ih(e){var r=Ie();if(typeof e=="function"){var a=e;if(e=a(),Ga){_i(!0);try{a()}finally{_i(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},r}function hy(e,r,a,l){return e.baseState=a,nh(e,Rt,typeof l=="function"?l:ur)}function gT(e,r,a,l,u){if(Su(e))throw Error(i(485));if(e=r.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,dy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function dy(e,r){var a=r.action,l=r.payload,u=e.state;if(r.isTransition){var f=U.T,g={};U.T=g;try{var S=a(u,l),T=U.S;T!==null&&T(g,S),my(e,r,S)}catch(I){ah(e,r,I)}finally{U.T=f}}else try{f=a(u,l),my(e,r,f)}catch(I){ah(e,r,I)}}function my(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(e,r,l)},function(l){return ah(e,r,l)}):gy(e,r,a)}function gy(e,r,a){r.status="fulfilled",r.value=a,yy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,dy(e,a)))}function ah(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}e.action=null}function yy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function py(e,r){return r}function vy(e,r){if(kt){var a=Pt.formState;if(a!==null){t:{var l=dt;if(kt){if(Xt){e:{for(var u=Xt,f=Ln;u.nodeType!==8;){if(!f){u=null;break e}if(u=Dn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Xt=Dn(u.nextSibling),l=u.data==="F!";break t}}Ha(l)}l=!1}l&&(r=a[0])}}return a=Ie(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:r},a.queue=l,a=Ly.bind(null,dt,l),l.dispatch=a,l=ih(!1),f=ch.bind(null,dt,!1,l.queue),l=Ie(),u={state:r,dispatch:null,action:e,pending:null},l.queue=u,a=gT.bind(null,dt,u,f,a),u.dispatch=a,l.memoizedState=e,[r,a,!1]}function Sy(e){var r=ie();return by(r,Rt,e)}function by(e,r,a){if(r=nh(e,r,py)[0],e=yu(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ko(r)}catch(g){throw g===Mo?cu:g}else l=r;r=ie();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(dt.flags|=2048,Cs(9,pu(),yT.bind(null,u,a),null)),[l,f,e]}function yT(e,r){e.action=r}function Ty(e){var r=ie(),a=Rt;if(a!==null)return by(r,a,e);ie(),r=r.memoizedState,a=ie();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Cs(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=dt.updateQueue,r===null&&(r=th(),dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function pu(){return{destroy:void 0,resource:void 0}}function wy(){return ie().memoizedState}function vu(e,r,a,l){var u=Ie();l=l===void 0?null:l,dt.flags|=e,u.memoizedState=Cs(1|r,pu(),a,l)}function Vo(e,r,a,l){var u=ie();l=l===void 0?null:l;var f=u.memoizedState.inst;Rt!==null&&l!==null&&Ff(l,Rt.memoizedState.deps)?u.memoizedState=Cs(r,f,a,l):(dt.flags|=e,u.memoizedState=Cs(1|r,f,a,l))}function Ay(e,r){vu(8390656,8,e,r)}function Ey(e,r){Vo(2048,8,e,r)}function xy(e,r){return Vo(4,2,e,r)}function Ny(e,r){return Vo(4,4,e,r)}function Dy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ky(e,r,a){a=a!=null?a.concat([e]):null,Vo(4,4,Dy.bind(null,r,e),a)}function sh(){}function Oy(e,r){var a=ie();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Cy(e,r){var a=ie();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=e(),Ga){_i(!0);try{e()}finally{_i(!1)}}return a.memoizedState=[l,r],l}function oh(e,r,a){return a===void 0||(aa&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=Rp(),dt.lanes|=e,ha|=e,a)}function Iy(e,r,a,l){return Ke(a,r)?a:Ds.current!==null?(e=oh(e,a,l),Ke(e,r)||(ce=!0),e):(aa&42)===0?(ce=!0,e.memoizedState=a):(e=Rp(),dt.lanes|=e,ha|=e,r)}function By(e,r,a,l,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=U.T,S={};U.T=S,ch(e,!1,r,a);try{var T=u(),I=U.S;if(I!==null&&I(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var M=hT(T,l);Ho(e,r,M,Ye(e))}else Ho(e,r,l,Ye(e))}catch(J){Ho(e,r,{then:function(){},status:"rejected",reason:J},Ye())}finally{G.p=f,U.T=g}}function pT(){}function lh(e,r,a,l){if(e.tag!==5)throw Error(i(476));var u=Ry(e).queue;By(e,u,r,st,a===null?pT:function(){return zy(e),a(l)})}function Ry(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:st},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function zy(e){var r=Ry(e).next.queue;Ho(e,r,{},Ye())}function uh(){return we(ol)}function My(){return ie().memoizedState}function Uy(){return ie().memoizedState}function vT(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ye();e=ra(a);var l=ia(r,e,a);l!==null&&(Ge(l,r,a),Lo(l,r,a)),r={cache:qf()},e.payload=r;return}r=r.return}}function ST(e,r,a){var l=Ye();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(e)?Jy(r,a):(a=Of(e,r,a,l),a!==null&&(Ge(a,e,l),qy(a,r,l)))}function Ly(e,r,a){var l=Ye();Ho(e,r,a,l)}function Ho(e,r,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(e))Jy(r,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var g=r.lastRenderedState,S=f(g,a);if(u.hasEagerState=!0,u.eagerState=S,Ke(S,g))return nu(e,r,u,0),Pt===null&&eu(),!1}catch{}finally{}if(a=Of(e,r,u,l),a!==null)return Ge(a,e,l),qy(a,r,l),!0}return!1}function ch(e,r,a,l){if(l={lane:2,revertLane:Vh(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(e)){if(r)throw Error(i(479))}else r=Of(e,a,l,2),r!==null&&Ge(r,e,2)}function Su(e){var r=e.alternate;return e===dt||r!==null&&r===dt}function Jy(e,r){ks=du=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function qy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Gm(e,a)}}var bu={readContext:we,use:gu,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},Py={readContext:we,use:gu,useCallback:function(e,r){return Ie().memoizedState=[e,r===void 0?null:r],e},useContext:we,useEffect:Ay,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,vu(4194308,4,Dy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return vu(4194308,4,e,r)},useInsertionEffect:function(e,r){vu(4,2,e,r)},useMemo:function(e,r){var a=Ie();r=r===void 0?null:r;var l=e();if(Ga){_i(!0);try{e()}finally{_i(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=Ie();if(a!==void 0){var u=a(r);if(Ga){_i(!0);try{a(r)}finally{_i(!1)}}}else u=r;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=ST.bind(null,dt,e),[l.memoizedState,e]},useRef:function(e){var r=Ie();return e={current:e},r.memoizedState=e},useState:function(e){e=ih(e);var r=e.queue,a=Ly.bind(null,dt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:sh,useDeferredValue:function(e,r){var a=Ie();return oh(a,e,r)},useTransition:function(){var e=ih(!1);return e=By.bind(null,dt,e.queue,!0,!1),Ie().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=dt,u=Ie();if(kt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(wt&124)!==0||oy(l,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,Ay(uy.bind(null,l,f,e),[e]),l.flags|=2048,Cs(9,pu(),ly.bind(null,l,f,a,r),null),a},useId:function(){var e=Ie(),r=Pt.identifierPrefix;if(kt){var a=sr,l=ar;a=(l&~(1<<32-Pe(l)-1)).toString(32)+a,r=""+r+"R"+a,a=mu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=dT++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:uh,useFormState:vy,useActionState:vy,useOptimistic:function(e){var r=Ie();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ch.bind(null,dt,!0,a),a.dispatch=r,[e,r]},useMemoCache:eh,useCacheRefresh:function(){return Ie().memoizedState=vT.bind(null,dt)}},Ky={readContext:we,use:gu,useCallback:Oy,useContext:we,useEffect:Ey,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:Cy,useReducer:yu,useRef:wy,useState:function(){return yu(ur)},useDebugValue:sh,useDeferredValue:function(e,r){var a=ie();return Iy(a,Rt.memoizedState,e,r)},useTransition:function(){var e=yu(ur)[0],r=ie().memoizedState;return[typeof e=="boolean"?e:Ko(e),r]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:uh,useFormState:Sy,useActionState:Sy,useOptimistic:function(e,r){var a=ie();return hy(a,Rt,e,r)},useMemoCache:eh,useCacheRefresh:Uy},bT={readContext:we,use:gu,useCallback:Oy,useContext:we,useEffect:Ey,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:Cy,useReducer:rh,useRef:wy,useState:function(){return rh(ur)},useDebugValue:sh,useDeferredValue:function(e,r){var a=ie();return Rt===null?oh(a,e,r):Iy(a,Rt.memoizedState,e,r)},useTransition:function(){var e=rh(ur)[0],r=ie().memoizedState;return[typeof e=="boolean"?e:Ko(e),r]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:uh,useFormState:Ty,useActionState:Ty,useOptimistic:function(e,r){var a=ie();return Rt!==null?hy(a,Rt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:eh,useCacheRefresh:Uy},Is=null,jo=0;function Tu(e){var r=jo;return jo+=1,Is===null&&(Is=[]),_g(Is,e,r)}function $o(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function wu(e,r){throw r.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Vy(e){var r=e._init;return r(e._payload)}function Hy(e){function r(D,A){if(e){var C=D.deletions;C===null?(D.deletions=[A],D.flags|=16):C.push(A)}}function a(D,A){if(!e)return null;for(;A!==null;)r(D,A),A=A.sibling;return null}function l(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function u(D,A){return D=ir(D,A),D.index=0,D.sibling=null,D}function f(D,A,C){return D.index=C,e?(C=D.alternate,C!==null?(C=C.index,C<A?(D.flags|=67108866,A):C):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function g(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function S(D,A,C,L){return A===null||A.tag!==6?(A=If(C,D.mode,L),A.return=D,A):(A=u(A,C),A.return=D,A)}function T(D,A,C,L){var F=C.type;return F===V?M(D,A,C.props.children,L,C.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===At&&Vy(F)===A.type)?(A=u(A,C.props),$o(A,C),A.return=D,A):(A=iu(C.type,C.key,C.props,null,D.mode,L),$o(A,C),A.return=D,A)}function I(D,A,C,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Bf(C,D.mode,L),A.return=D,A):(A=u(A,C.children||[]),A.return=D,A)}function M(D,A,C,L,F){return A===null||A.tag!==7?(A=qa(C,D.mode,L,F),A.return=D,A):(A=u(A,C),A.return=D,A)}function J(D,A,C){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=If(""+A,D.mode,C),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case k:return C=iu(A.type,A.key,A.props,null,D.mode,C),$o(C,A),C.return=D,C;case O:return A=Bf(A,D.mode,C),A.return=D,A;case At:var L=A._init;return A=L(A._payload),J(D,A,C)}if(be(A)||_t(A))return A=qa(A,D.mode,C,null),A.return=D,A;if(typeof A.then=="function")return J(D,Tu(A),C);if(A.$$typeof===ct)return J(D,lu(D,A),C);wu(D,A)}return null}function B(D,A,C,L){var F=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return F!==null?null:S(D,A,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case k:return C.key===F?T(D,A,C,L):null;case O:return C.key===F?I(D,A,C,L):null;case At:return F=C._init,C=F(C._payload),B(D,A,C,L)}if(be(C)||_t(C))return F!==null?null:M(D,A,C,L,null);if(typeof C.then=="function")return B(D,A,Tu(C),L);if(C.$$typeof===ct)return B(D,A,lu(D,C),L);wu(D,C)}return null}function R(D,A,C,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return D=D.get(C)||null,S(A,D,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return D=D.get(L.key===null?C:L.key)||null,T(A,D,L,F);case O:return D=D.get(L.key===null?C:L.key)||null,I(A,D,L,F);case At:var mt=L._init;return L=mt(L._payload),R(D,A,C,L,F)}if(be(L)||_t(L))return D=D.get(C)||null,M(A,D,L,F,null);if(typeof L.then=="function")return R(D,A,C,Tu(L),F);if(L.$$typeof===ct)return R(D,A,C,lu(A,L),F);wu(A,L)}return null}function ot(D,A,C,L){for(var F=null,mt=null,Q=A,at=A=0,he=null;Q!==null&&at<C.length;at++){Q.index>at?(he=Q,Q=null):he=Q.sibling;var Dt=B(D,Q,C[at],L);if(Dt===null){Q===null&&(Q=he);break}e&&Q&&Dt.alternate===null&&r(D,Q),A=f(Dt,A,at),mt===null?F=Dt:mt.sibling=Dt,mt=Dt,Q=he}if(at===C.length)return a(D,Q),kt&&Ka(D,at),F;if(Q===null){for(;at<C.length;at++)Q=J(D,C[at],L),Q!==null&&(A=f(Q,A,at),mt===null?F=Q:mt.sibling=Q,mt=Q);return kt&&Ka(D,at),F}for(Q=l(Q);at<C.length;at++)he=R(Q,D,at,C[at],L),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?at:he.key),A=f(he,A,at),mt===null?F=he:mt.sibling=he,mt=he);return e&&Q.forEach(function(Ta){return r(D,Ta)}),kt&&Ka(D,at),F}function it(D,A,C,L){if(C==null)throw Error(i(151));for(var F=null,mt=null,Q=A,at=A=0,he=null,Dt=C.next();Q!==null&&!Dt.done;at++,Dt=C.next()){Q.index>at?(he=Q,Q=null):he=Q.sibling;var Ta=B(D,Q,Dt.value,L);if(Ta===null){Q===null&&(Q=he);break}e&&Q&&Ta.alternate===null&&r(D,Q),A=f(Ta,A,at),mt===null?F=Ta:mt.sibling=Ta,mt=Ta,Q=he}if(Dt.done)return a(D,Q),kt&&Ka(D,at),F;if(Q===null){for(;!Dt.done;at++,Dt=C.next())Dt=J(D,Dt.value,L),Dt!==null&&(A=f(Dt,A,at),mt===null?F=Dt:mt.sibling=Dt,mt=Dt);return kt&&Ka(D,at),F}for(Q=l(Q);!Dt.done;at++,Dt=C.next())Dt=R(Q,D,at,Dt.value,L),Dt!==null&&(e&&Dt.alternate!==null&&Q.delete(Dt.key===null?at:Dt.key),A=f(Dt,A,at),mt===null?F=Dt:mt.sibling=Dt,mt=Dt);return e&&Q.forEach(function(Tw){return r(D,Tw)}),kt&&Ka(D,at),F}function Mt(D,A,C,L){if(typeof C=="object"&&C!==null&&C.type===V&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case k:t:{for(var F=C.key;A!==null;){if(A.key===F){if(F=C.type,F===V){if(A.tag===7){a(D,A.sibling),L=u(A,C.props.children),L.return=D,D=L;break t}}else if(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===At&&Vy(F)===A.type){a(D,A.sibling),L=u(A,C.props),$o(L,C),L.return=D,D=L;break t}a(D,A);break}else r(D,A);A=A.sibling}C.type===V?(L=qa(C.props.children,D.mode,L,C.key),L.return=D,D=L):(L=iu(C.type,C.key,C.props,null,D.mode,L),$o(L,C),L.return=D,D=L)}return g(D);case O:t:{for(F=C.key;A!==null;){if(A.key===F)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){a(D,A.sibling),L=u(A,C.children||[]),L.return=D,D=L;break t}else{a(D,A);break}else r(D,A);A=A.sibling}L=Bf(C,D.mode,L),L.return=D,D=L}return g(D);case At:return F=C._init,C=F(C._payload),Mt(D,A,C,L)}if(be(C))return ot(D,A,C,L);if(_t(C)){if(F=_t(C),typeof F!="function")throw Error(i(150));return C=F.call(C),it(D,A,C,L)}if(typeof C.then=="function")return Mt(D,A,Tu(C),L);if(C.$$typeof===ct)return Mt(D,A,lu(D,C),L);wu(D,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,A!==null&&A.tag===6?(a(D,A.sibling),L=u(A,C),L.return=D,D=L):(a(D,A),L=If(C,D.mode,L),L.return=D,D=L),g(D)):a(D,A)}return function(D,A,C,L){try{jo=0;var F=Mt(D,A,C,L);return Is=null,F}catch(Q){if(Q===Mo||Q===cu)throw Q;var mt=Ve(29,Q,null,D.mode);return mt.lanes=L,mt.return=D,mt}finally{}}}var Bs=Hy(!0),jy=Hy(!1),sn=P(null),Jn=null;function sa(e){var r=e.alternate;Y(le,le.current&1),Y(sn,e),Jn===null&&(r===null||Ds.current!==null||r.memoizedState!==null)&&(Jn=e)}function $y(e){if(e.tag===22){if(Y(le,le.current),Y(sn,e),Jn===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Jn=e)}}else oa()}function oa(){Y(le,le.current),Y(sn,sn.current)}function cr(e){X(sn),Jn===e&&(Jn=null),X(le)}var le=P(0);function Au(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function fh(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hh={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Ye(),u=ra(l);u.payload=r,a!=null&&(u.callback=a),r=ia(e,u,l),r!==null&&(Ge(r,e,l),Lo(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Ye(),u=ra(l);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=ia(e,u,l),r!==null&&(Ge(r,e,l),Lo(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Ye(),l=ra(a);l.tag=2,r!=null&&(l.callback=r),r=ia(e,l,a),r!==null&&(Ge(r,e,a),Lo(r,e,a))}};function Yy(e,r,a,l,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):r.prototype&&r.prototype.isPureReactComponent?!Do(a,l)||!Do(u,f):!0}function Gy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&hh.enqueueReplaceState(r,r.state,null)}function Xa(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Xy(e){Eu(e)}function Fy(e){console.error(e)}function Zy(e){Eu(e)}function xu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function dh(e,r,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){xu(e,r)},a}function _y(e){return e=ra(e),e.tag=3,e}function Wy(e,r,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){Qy(r,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qy(r,a,l),typeof u!="function"&&(da===null?da=new Set([this]):da.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function TT(e,r,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Bo(r,a,u,!0),a=sn.current,a!==null){switch(a.tag){case 13:return Jn===null?Lh():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qh(e,l,u)),!1;case 22:return a.flags|=65536,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qh(e,l,u)),!1}throw Error(i(435,a.tag))}return qh(e,l,u),Lh(),!1}if(kt)return r=sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,l!==Mf&&(e=Error(i(422),{cause:l}),Io(en(e,a)))):(l!==Mf&&(r=Error(i(423),{cause:l}),Io(en(r,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=en(l,a),u=dh(e.stateNode,l,u),$f(e,u),Ft!==4&&(Ft=2)),!1;var f=Error(i(520),{cause:l});if(f=en(f,a),_o===null?_o=[f]:_o.push(f),Ft!==4&&(Ft=2),r===null)return!0;l=en(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=dh(a.stateNode,l,e),$f(a,e),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=_y(u),Wy(u,e,a,l),$f(a,u),!1}a=a.return}while(a!==null);return!1}var tp=Error(i(461)),ce=!1;function ge(e,r,a,l){r.child=e===null?jy(r,null,a,l):Bs(r,e.child,a,l)}function ep(e,r,a,l,u){a=a.render;var f=r.ref;if("ref"in l){var g={};for(var S in l)S!=="ref"&&(g[S]=l[S])}else g=l;return $a(r),l=Zf(e,r,a,g,f,u),S=Qf(),e!==null&&!ce?(_f(e,r,u),fr(e,r,u)):(kt&&S&&Rf(r),r.flags|=1,ge(e,r,l,u),r.child)}function np(e,r,a,l,u){if(e===null){var f=a.type;return typeof f=="function"&&!Cf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,rp(e,r,f,l,u)):(e=iu(a.type,null,l,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,!Th(e,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(g,l)&&e.ref===r.ref)return fr(e,r,u)}return r.flags|=1,e=ir(f,l),e.ref=r.ref,e.return=r,r.child=e}function rp(e,r,a,l,u){if(e!==null){var f=e.memoizedProps;if(Do(f,l)&&e.ref===r.ref)if(ce=!1,r.pendingProps=l=f,Th(e,u))(e.flags&131072)!==0&&(ce=!0);else return r.lanes=e.lanes,fr(e,r,u)}return mh(e,r,a,l,u)}function ip(e,r,a){var l=r.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(u=r.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return ap(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&uu(r,f!==null?f.cachePool:null),f!==null?ry(r,f):Gf(),$y(r);else return r.lanes=r.childLanes=536870912,ap(e,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(uu(r,f.cachePool),ry(r,f),oa(),r.memoizedState=null):(e!==null&&uu(r,null),Gf(),oa());return ge(e,r,u,a),r.child}function ap(e,r,a,l){var u=Kf();return u=u===null?null:{parent:oe._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},e!==null&&uu(r,null),Gf(),$y(r),e!==null&&Bo(e,r,l,!0),null}function Nu(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function mh(e,r,a,l,u){return $a(r),a=Zf(e,r,a,l,void 0,u),l=Qf(),e!==null&&!ce?(_f(e,r,u),fr(e,r,u)):(kt&&l&&Rf(r),r.flags|=1,ge(e,r,a,u),r.child)}function sp(e,r,a,l,u,f){return $a(r),r.updateQueue=null,a=ay(r,l,a,u),iy(e),l=Qf(),e!==null&&!ce?(_f(e,r,f),fr(e,r,f)):(kt&&l&&Rf(r),r.flags|=1,ge(e,r,a,f),r.child)}function op(e,r,a,l,u){if($a(r),r.stateNode===null){var f=ws,g=a.contextType;typeof g=="object"&&g!==null&&(f=we(g)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hh,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Hf(r),g=a.contextType,f.context=typeof g=="object"&&g!==null?we(g):ws,f.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(fh(r,a,g,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&hh.enqueueReplaceState(f,f.state,null),qo(r,l,f,u),Jo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){f=r.stateNode;var S=r.memoizedProps,T=Xa(a,S);f.props=T;var I=f.context,M=a.contextType;g=ws,typeof M=="object"&&M!==null&&(g=we(M));var J=a.getDerivedStateFromProps;M=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||I!==g)&&Gy(r,f,l,g),na=!1;var B=r.memoizedState;f.state=B,qo(r,l,f,u),Jo(),I=r.memoizedState,S||B!==I||na?(typeof J=="function"&&(fh(r,a,J,l),I=r.memoizedState),(T=na||Yy(r,a,T,l,B,I,g))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=I),f.props=l,f.state=I,f.context=g,l=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,jf(e,r),g=r.memoizedProps,M=Xa(a,g),f.props=M,J=r.pendingProps,B=f.context,I=a.contextType,T=ws,typeof I=="object"&&I!==null&&(T=we(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||B!==T)&&Gy(r,f,l,T),na=!1,B=r.memoizedState,f.state=B,qo(r,l,f,u),Jo();var R=r.memoizedState;g!==J||B!==R||na||e!==null&&e.dependencies!==null&&ou(e.dependencies)?(typeof S=="function"&&(fh(r,a,S,l),R=r.memoizedState),(M=na||Yy(r,a,M,l,B,R,T)||e!==null&&e.dependencies!==null&&ou(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,R,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,R,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=R),f.props=l,f.state=R,f.context=T,l=M):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),l=!1)}return f=l,Nu(e,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,e!==null&&l?(r.child=Bs(r,e.child,null,u),r.child=Bs(r,null,a,u)):ge(e,r,a,u),r.memoizedState=f.state,e=r.child):e=fr(e,r,u),e}function lp(e,r,a,l){return Co(),r.flags|=256,ge(e,r,a,l),r.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(e){return{baseLanes:e,cachePool:Fg()}}function ph(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=on),e}function up(e,r,a){var l=r.pendingProps,u=!1,f=(r.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),g&&(u=!0,r.flags&=-129),g=(r.flags&32)!==0,r.flags&=-33,e===null){if(kt){if(u?sa(r):oa(),kt){var S=Xt,T;if(T=S){t:{for(T=S,S=Ln;T.nodeType!==8;){if(!S){S=null;break t}if(T=Dn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:Pa!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},T=Ve(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,De=r,Xt=null,T=!0):T=!1}T||Ha(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return td(S)?r.lanes=32:r.lanes=536870912,null;cr(r)}return S=l.children,l=l.fallback,u?(oa(),u=r.mode,S=Du({mode:"hidden",children:S},u),l=qa(l,u,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,u=r.child,u.memoizedState=yh(a),u.childLanes=ph(e,g,a),r.memoizedState=gh,l):(sa(r),vh(r,S))}if(T=e.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)r.flags&256?(sa(r),r.flags&=-257,r=Sh(e,r,a)):r.memoizedState!==null?(oa(),r.child=e.child,r.flags|=128,r=null):(oa(),u=l.fallback,S=r.mode,l=Du({mode:"visible",children:l.children},S),u=qa(u,S,a,null),u.flags|=2,l.return=r,u.return=r,l.sibling=u,r.child=l,Bs(r,e.child,null,a),l=r.child,l.memoizedState=yh(a),l.childLanes=ph(e,g,a),r.memoizedState=gh,r=u);else if(sa(r),td(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var I=g.dgst;g=I,l=Error(i(419)),l.stack="",l.digest=g,Io({value:l,source:null,stack:null}),r=Sh(e,r,a)}else if(ce||Bo(e,r,a,!1),g=(a&e.childLanes)!==0,ce||g){if(g=Pt,g!==null&&(l=a&-a,l=(l&42)!==0?1:tf(l),l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,Ts(e,l),Ge(g,e,l),tp;S.data==="$?"||Lh(),r=Sh(e,r,a)}else S.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=T.treeContext,Xt=Dn(S.nextSibling),De=r,kt=!0,Va=null,Ln=!1,e!==null&&(rn[an++]=ar,rn[an++]=sr,rn[an++]=Pa,ar=e.id,sr=e.overflow,Pa=r),r=vh(r,l.children),r.flags|=4096);return r}return u?(oa(),u=l.fallback,S=r.mode,T=e.child,I=T.sibling,l=ir(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,I!==null?u=ir(I,u):(u=qa(u,S,a,null),u.flags|=2),u.return=r,l.return=r,l.sibling=u,r.child=l,l=u,u=r.child,S=e.child.memoizedState,S===null?S=yh(a):(T=S.cachePool,T!==null?(I=oe._currentValue,T=T.parent!==I?{parent:I,pool:I}:T):T=Fg(),S={baseLanes:S.baseLanes|a,cachePool:T}),u.memoizedState=S,u.childLanes=ph(e,g,a),r.memoizedState=gh,l):(sa(r),a=e.child,e=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(g=r.deletions,g===null?(r.deletions=[e],r.flags|=16):g.push(e)),r.child=a,r.memoizedState=null,a)}function vh(e,r){return r=Du({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Du(e,r){return e=Ve(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Sh(e,r,a){return Bs(r,e.child,null,a),e=vh(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function cp(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Lf(e.return,r,a)}function bh(e,r,a,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function fp(e,r,a){var l=r.pendingProps,u=l.revealOrder,f=l.tail;if(ge(e,r,l.children,a),l=le.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cp(e,a,r);else if(e.tag===19)cp(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Y(le,l),u){case"forwards":for(a=r.child,u=null;a!==null;)e=a.alternate,e!==null&&Au(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),bh(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&Au(e)===null){r.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}bh(r,!0,a,null,f);break;case"together":bh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),ha|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Bo(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ir(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ir(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Th(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ou(e)))}function wT(e,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),ea(r,oe,e.memoizedState.cache),Co();break;case 27:case 5:Fc(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:ea(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(r),r.flags|=128,null):(a&r.child.childLanes)!==0?up(e,r,a):(sa(r),e=fr(e,r,a),e!==null?e.sibling:null);sa(r);break;case 19:var u=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Bo(e,r,a,!1),l=(a&r.childLanes)!==0),u){if(l)return fp(e,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(le,le.current),l)break;return null;case 22:case 23:return r.lanes=0,ip(e,r,a);case 24:ea(r,oe,e.memoizedState.cache)}return fr(e,r,a)}function hp(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)ce=!0;else{if(!Th(e,a)&&(r.flags&128)===0)return ce=!1,wT(e,r,a);ce=(e.flags&131072)!==0}else ce=!1,kt&&(r.flags&1048576)!==0&&Vg(r,su,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,u=l._init;if(l=u(l._payload),r.type=l,typeof l=="function")Cf(l)?(e=Xa(l,e),r.tag=1,r=op(null,r,l,e,a)):(r.tag=0,r=mh(null,r,l,e,a));else{if(l!=null){if(u=l.$$typeof,u===gt){r.tag=11,r=ep(null,r,l,e,a);break t}else if(u===yt){r.tag=14,r=np(null,r,l,e,a);break t}}throw r=Ra(l)||l,Error(i(306,r,""))}}return r;case 0:return mh(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,u=Xa(l,r.pendingProps),op(e,r,l,u,a);case 3:t:{if(Vt(r,r.stateNode.containerInfo),e===null)throw Error(i(387));l=r.pendingProps;var f=r.memoizedState;u=f.element,jf(e,r),qo(r,l,null,a);var g=r.memoizedState;if(l=g.cache,ea(r,oe,l),l!==f.cache&&Jf(r,[oe],a,!0),Jo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=lp(e,r,l,a);break t}else if(l!==u){u=en(Error(i(424)),r),Io(u),r=lp(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=Dn(e.firstChild),De=r,kt=!0,Va=null,Ln=!0,a=jy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),l===u){r=fr(e,r,a);break t}ge(e,r,l,a)}r=r.child}return r;case 26:return Nu(e,r),e===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:kt||(a=r.type,e=r.pendingProps,l=Ku(ut.current).createElement(a),l[Te]=r,l[Oe]=e,pe(l,a,e),ue(l),r.stateNode=l):r.memoizedState=yv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Fc(r),e===null&&kt&&(l=r.stateNode=dv(r.type,r.pendingProps,ut.current),De=r,Ln=!0,u=Xt,ya(r.type)?(ed=u,Xt=Dn(l.firstChild)):Xt=u),ge(e,r,r.pendingProps.children,a),Nu(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&kt&&((u=l=Xt)&&(l=ZT(l,r.type,r.pendingProps,Ln),l!==null?(r.stateNode=l,De=r,Xt=Dn(l.firstChild),Ln=!1,u=!0):u=!1),u||Ha(r)),Fc(r),u=r.type,f=r.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Qh(u,f)?l=null:g!==null&&Qh(u,g)&&(r.flags|=32),r.memoizedState!==null&&(u=Zf(e,r,mT,null,null,a),ol._currentValue=u),Nu(e,r),ge(e,r,l,a),r.child;case 6:return e===null&&kt&&((e=a=Xt)&&(a=QT(a,r.pendingProps,Ln),a!==null?(r.stateNode=a,De=r,Xt=null,e=!0):e=!1),e||Ha(r)),null;case 13:return up(e,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Bs(r,null,l,a):ge(e,r,l,a),r.child;case 11:return ep(e,r,r.type,r.pendingProps,a);case 7:return ge(e,r,r.pendingProps,a),r.child;case 8:return ge(e,r,r.pendingProps.children,a),r.child;case 12:return ge(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ea(r,r.type,l.value),ge(e,r,l.children,a),r.child;case 9:return u=r.type._context,l=r.pendingProps.children,$a(r),u=we(u),l=l(u),r.flags|=1,ge(e,r,l,a),r.child;case 14:return np(e,r,r.type,r.pendingProps,a);case 15:return rp(e,r,r.type,r.pendingProps,a);case 19:return fp(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Du(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ir(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return ip(e,r,a);case 24:return $a(r),l=we(oe),e===null?(u=Kf(),u===null&&(u=Pt,f=qf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:l,cache:u},Hf(r),ea(r,oe,u)):((e.lanes&a)!==0&&(jf(e,r),qo(r,null,null,a),Jo()),u=e.memoizedState,f=r.memoizedState,u.parent!==l?(u={parent:l,cache:l},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),ea(r,oe,l)):(l=f.cache,ea(r,oe,l),l!==u.cache&&Jf(r,[oe],a,!0))),ge(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function hr(e){e.flags|=4}function dp(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tv(r)){if(r=sn.current,r!==null&&((wt&4194048)===wt?Jn!==null:(wt&62914560)!==wt&&(wt&536870912)===0||r!==Jn))throw Uo=Vf,Zg;e.flags|=8192}}function ku(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?$m():536870912,e.lanes|=r,Us|=r)}function Yo(e,r){if(!kt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Yt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function AT(e,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return Yt(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(oe),Qi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(r)?hr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$g())),Yt(r),null;case 26:return a=r.memoizedState,e===null?(hr(r),a!==null?(Yt(r),dp(r,a)):(Yt(r),r.flags&=-16777217)):a?a!==e.memoizedState?(hr(r),Yt(r),dp(r,a)):(Yt(r),r.flags&=-16777217):(e.memoizedProps!==l&&hr(r),Yt(r),r.flags&=-16777217),null;case 27:ql(r),a=ut.current;var u=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}e=rt.current,Oo(r)?Hg(r):(e=dv(u,l,a),r.stateNode=e,hr(r))}return Yt(r),null;case 5:if(ql(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}if(e=rt.current,Oo(r))Hg(r);else{switch(u=Ku(ut.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}e[Te]=r,e[Oe]=l;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=e;t:switch(pe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&hr(r)}}return Yt(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(e=ut.current,Oo(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,u=De,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Te]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(e.nodeValue,a)),e||Ha(r)}else e=Ku(e).createTextNode(l),e[Te]=r,r.stateNode=e}return Yt(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Oo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Te]=r}else Co(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),u=!1}else u=$g(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(cr(r),r):(cr(r),null)}if(cr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),ku(r,r.updateQueue),Yt(r),null;case 4:return Qi(),e===null&&Yh(r.stateNode.containerInfo),Yt(r),null;case 10:return lr(r.type),Yt(r),null;case 19:if(X(le),u=r.memoizedState,u===null)return Yt(r),null;if(l=(r.flags&128)!==0,f=u.rendering,f===null)if(l)Yo(u,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(f=Au(e),f!==null){for(r.flags|=128,Yo(u,!1),e=f.updateQueue,r.updateQueue=e,ku(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Kg(a,e),a=a.sibling;return Y(le,le.current&1|2),r.child}e=e.sibling}u.tail!==null&&Un()>Iu&&(r.flags|=128,l=!0,Yo(u,!1),r.lanes=4194304)}else{if(!l)if(e=Au(f),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,ku(r,e),Yo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!kt)return Yt(r),null}else 2*Un()-u.renderingStartTime>Iu&&a!==536870912&&(r.flags|=128,l=!0,Yo(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(e=u.last,e!==null?e.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Un(),r.sibling=null,e=le.current,Y(le,l?e&1|2:e&1),r):(Yt(r),null);case 22:case 23:return cr(r),Xf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),a=r.updateQueue,a!==null&&ku(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&X(Ya),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(oe),Yt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function ET(e,r){switch(zf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return lr(oe),Qi(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ql(r),null;case 13:if(cr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Co()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return X(le),null;case 4:return Qi(),null;case 10:return lr(r.type),null;case 22:case 23:return cr(r),Xf(),e!==null&&X(Ya),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return lr(oe),null;case 25:return null;default:return null}}function mp(e,r){switch(zf(r),r.tag){case 3:lr(oe),Qi();break;case 26:case 27:case 5:ql(r);break;case 4:Qi();break;case 13:cr(r);break;case 19:X(le);break;case 10:lr(r.type);break;case 22:case 23:cr(r),Xf(),e!==null&&X(Ya);break;case 24:lr(oe)}}function Go(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==u)}}catch(S){Jt(r,r.return,S)}}function la(e,r,a){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var g=l.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=r;var T=a,I=S;try{I()}catch(M){Jt(u,T,M)}}}l=l.next}while(l!==f)}}catch(M){Jt(r,r.return,M)}}function gp(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ny(r,a)}catch(l){Jt(e,e.return,l)}}}function yp(e,r,a){a.props=Xa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,r,l)}}function Xo(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Jt(e,r,u)}}function qn(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Jt(e,r,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Jt(e,r,u)}else a.current=null}function pp(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Jt(e,e.return,u)}}function wh(e,r,a){try{var l=e.stateNode;$T(l,e.type,a,r),l[Oe]=r}catch(u){Jt(e,e.return,u)}}function vp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function Ah(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eh(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pu));else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Eh(e,r,a),e=e.sibling;e!==null;)Eh(e,r,a),e=e.sibling}function Ou(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ou(e,r,a),e=e.sibling;e!==null;)Ou(e,r,a),e=e.sibling}function Sp(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);pe(r,l,a),r[Te]=e,r[Oe]=a}catch(f){Jt(e,e.return,f)}}var dr=!1,te=!1,xh=!1,bp=typeof WeakSet=="function"?WeakSet:Set,fe=null;function xT(e,r){if(e=e.containerInfo,Fh=Gu,e=Ig(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,S=-1,T=-1,I=0,M=0,J=e,B=null;e:for(;;){for(var R;J!==a||u!==0&&J.nodeType!==3||(S=g+u),J!==f||l!==0&&J.nodeType!==3||(T=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(R=J.firstChild)!==null;)B=J,J=R;for(;;){if(J===e)break e;if(B===a&&++I===u&&(S=g),B===f&&++M===l&&(T=g),(R=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=R}a=S===-1||T===-1?null:{start:S,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zh={focusedElem:e,selectionRange:a},Gu=!1,fe=r;fe!==null;)if(r=fe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,fe=e;else for(;fe!==null;){switch(r=fe,f=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=Xa(a.type,u,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(it){Jt(a,a.return,it)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Wh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,fe=e;break}fe=r.return}}function Tp(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ua(e,a),l&4&&Go(5,a);break;case 1:if(ua(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var u=Xa(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(u,r,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}l&64&&gp(a),l&512&&Xo(a,a.return);break;case 3:if(ua(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ny(e,r)}catch(g){Jt(a,a.return,g)}}break;case 27:r===null&&l&4&&Sp(a);case 26:case 5:ua(e,a),r===null&&l&4&&pp(a),l&512&&Xo(a,a.return);break;case 12:ua(e,a);break;case 13:ua(e,a),l&4&&Ep(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zT.bind(null,a),_T(e,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||te,u=dr;var f=te;dr=l,(te=r)&&!f?ca(e,a,(a.subtreeFlags&8772)!==0):ua(e,a),dr=u,te=f}break;case 30:break;default:ua(e,a)}}function wp(e){var r=e.alternate;r!==null&&(e.alternate=null,wp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&rf(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,Be=!1;function mr(e,r,a){for(a=a.child;a!==null;)Ap(e,r,a),a=a.sibling}function Ap(e,r,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(go,a)}catch{}switch(a.tag){case 26:te||qn(a,r),mr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:te||qn(a,r);var l=Ht,u=Be;ya(a.type)&&(Ht=a.stateNode,Be=!1),mr(e,r,a),rl(a.stateNode),Ht=l,Be=u;break;case 5:te||qn(a,r);case 6:if(l=Ht,u=Be,Ht=null,mr(e,r,a),Ht=l,Be=u,Ht!==null)if(Be)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(a.stateNode)}catch(f){Jt(a,r,f)}else try{Ht.removeChild(a.stateNode)}catch(f){Jt(a,r,f)}break;case 18:Ht!==null&&(Be?(e=Ht,fv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fl(e)):fv(Ht,a.stateNode));break;case 4:l=Ht,u=Be,Ht=a.stateNode.containerInfo,Be=!0,mr(e,r,a),Ht=l,Be=u;break;case 0:case 11:case 14:case 15:te||la(2,a,r),te||la(4,a,r),mr(e,r,a);break;case 1:te||(qn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yp(a,r,l)),mr(e,r,a);break;case 21:mr(e,r,a);break;case 22:te=(l=te)||a.memoizedState!==null,mr(e,r,a),te=l;break;default:mr(e,r,a)}}function Ep(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){Jt(r,r.return,a)}}function NT(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new bp),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new bp),r;default:throw Error(i(435,e.tag))}}function Nh(e,r){var a=NT(e);r.forEach(function(l){var u=MT.bind(null,e,l);a.has(l)||(a.add(l),l.then(u,u))})}function He(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=e,g=r,S=g;t:for(;S!==null;){switch(S.tag){case 27:if(ya(S.type)){Ht=S.stateNode,Be=!1;break t}break;case 5:Ht=S.stateNode,Be=!1;break t;case 3:case 4:Ht=S.stateNode.containerInfo,Be=!0;break t}S=S.return}if(Ht===null)throw Error(i(160));Ap(f,g,u),Ht=null,Be=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)xp(r,e),r=r.sibling}var Nn=null;function xp(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:He(r,e),je(e),l&4&&(la(3,e,e.return),Go(3,e),la(5,e,e.return));break;case 1:He(r,e),je(e),l&512&&(te||a===null||qn(a,a.return)),l&64&&dr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Nn;if(He(r,e),je(e),l&512&&(te||a===null||qn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;e:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[vo]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),pe(f,l,a),f[Te]=e,ue(f),l=f;break t;case"link":var g=Sv("link","href",u).get(l+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break e}}f=u.createElement(l),pe(f,l,a),u.head.appendChild(f);break;case"meta":if(g=Sv("meta","content",u).get(l+(a.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break e}}f=u.createElement(l),pe(f,l,a),u.head.appendChild(f);break;default:throw Error(i(468,l))}f[Te]=e,ue(f),l=f}e.stateNode=l}else bv(u,e.type,e.stateNode);else e.stateNode=vv(u,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?bv(u,e.type,e.stateNode):vv(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&wh(e,e.memoizedProps,a.memoizedProps)}break;case 27:He(r,e),je(e),l&512&&(te||a===null||qn(a,a.return)),a!==null&&l&4&&wh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(He(r,e),je(e),l&512&&(te||a===null||qn(a,a.return)),e.flags&32){u=e.stateNode;try{ms(u,"")}catch(R){Jt(e,e.return,R)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,wh(e,u,a!==null?a.memoizedProps:u)),l&1024&&(xh=!0);break;case 6:if(He(r,e),je(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(R){Jt(e,e.return,R)}}break;case 3:if(ju=null,u=Nn,Nn=Vu(r.containerInfo),He(r,e),Nn=u,je(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(r.containerInfo)}catch(R){Jt(e,e.return,R)}xh&&(xh=!1,Np(e));break;case 4:l=Nn,Nn=Vu(e.stateNode.containerInfo),He(r,e),je(e),Nn=l;break;case 12:He(r,e),je(e);break;case 13:He(r,e),je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bh=Un()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nh(e,l)));break;case 22:u=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,I=dr,M=te;if(dr=I||u,te=M||T,He(r,e),te=M,dr=I,je(e),l&8192)t:for(r=e.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||T||dr||te||Fa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=T.stateNode;var J=T.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(R){Jt(T,T.return,R)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(R){Jt(T,T.return,R)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nh(e,a))));break;case 19:He(r,e),je(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nh(e,l)));break;case 30:break;case 21:break;default:He(r,e),je(e)}}function je(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(vp(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=Ah(e);Ou(e,f,u);break;case 5:var g=a.stateNode;a.flags&32&&(ms(g,""),a.flags&=-33);var S=Ah(e);Ou(e,S,g);break;case 3:case 4:var T=a.stateNode.containerInfo,I=Ah(e);Eh(e,I,T);break;default:throw Error(i(161))}}catch(M){Jt(e,e.return,M)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Np(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Np(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function ua(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tp(e,r.alternate,r),r=r.sibling}function Fa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:la(4,r,r.return),Fa(r);break;case 1:qn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&yp(r,r.return,a),Fa(r);break;case 27:rl(r.stateNode);case 26:case 5:qn(r,r.return),Fa(r);break;case 22:r.memoizedState===null&&Fa(r);break;case 30:Fa(r);break;default:Fa(r)}e=e.sibling}}function ca(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,u=e,f=r,g=f.flags;switch(f.tag){case 0:case 11:case 15:ca(u,f,a),Go(4,f);break;case 1:if(ca(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){Jt(l,l.return,I)}if(l=f,u=l.updateQueue,u!==null){var S=l.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)ey(T[u],S)}catch(I){Jt(l,l.return,I)}}a&&g&64&&gp(f),Xo(f,f.return);break;case 27:Sp(f);case 26:case 5:ca(u,f,a),a&&l===null&&g&4&&pp(f),Xo(f,f.return);break;case 12:ca(u,f,a);break;case 13:ca(u,f,a),a&&g&4&&Ep(u,f);break;case 22:f.memoizedState===null&&ca(u,f,a),Xo(f,f.return);break;case 30:break;default:ca(u,f,a)}r=r.sibling}}function Dh(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ro(a))}function kh(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ro(e))}function Pn(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dp(e,r,a,l),r=r.sibling}function Dp(e,r,a,l){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Pn(e,r,a,l),u&2048&&Go(9,r);break;case 1:Pn(e,r,a,l);break;case 3:Pn(e,r,a,l),u&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ro(e)));break;case 12:if(u&2048){Pn(e,r,a,l),e=r.stateNode;try{var f=r.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Jt(r,r.return,T)}}else Pn(e,r,a,l);break;case 13:Pn(e,r,a,l);break;case 23:break;case 22:f=r.stateNode,g=r.alternate,r.memoizedState!==null?f._visibility&2?Pn(e,r,a,l):Fo(e,r):f._visibility&2?Pn(e,r,a,l):(f._visibility|=2,Rs(e,r,a,l,(r.subtreeFlags&10256)!==0)),u&2048&&Dh(g,r);break;case 24:Pn(e,r,a,l),u&2048&&kh(r.alternate,r);break;default:Pn(e,r,a,l)}}function Rs(e,r,a,l,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=e,g=r,S=a,T=l,I=g.flags;switch(g.tag){case 0:case 11:case 15:Rs(f,g,S,T,u),Go(8,g);break;case 23:break;case 22:var M=g.stateNode;g.memoizedState!==null?M._visibility&2?Rs(f,g,S,T,u):Fo(f,g):(M._visibility|=2,Rs(f,g,S,T,u)),u&&I&2048&&Dh(g.alternate,g);break;case 24:Rs(f,g,S,T,u),u&&I&2048&&kh(g.alternate,g);break;default:Rs(f,g,S,T,u)}r=r.sibling}}function Fo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,u=l.flags;switch(l.tag){case 22:Fo(a,l),u&2048&&Dh(l.alternate,l);break;case 24:Fo(a,l),u&2048&&kh(l.alternate,l);break;default:Fo(a,l)}r=r.sibling}}var Zo=8192;function zs(e){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)kp(e),e=e.sibling}function kp(e){switch(e.tag){case 26:zs(e),e.flags&Zo&&e.memoizedState!==null&&fw(Nn,e.memoizedState,e.memoizedProps);break;case 5:zs(e);break;case 3:case 4:var r=Nn;Nn=Vu(e.stateNode.containerInfo),zs(e),Nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Zo,Zo=16777216,zs(e),Zo=r):zs(e));break;default:zs(e)}}function Op(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Qo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];fe=l,Ip(l,e)}Op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(e),e=e.sibling}function Cp(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&la(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Cu(e)):Qo(e);break;default:Qo(e)}}function Cu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];fe=l,Ip(l,e)}Op(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:la(8,r,r.return),Cu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cu(r));break;default:Cu(r)}e=e.sibling}}function Ip(e,r){for(;fe!==null;){var a=fe;switch(a.tag){case 0:case 11:case 15:la(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ro(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,fe=l;else t:for(a=e;fe!==null;){l=fe;var u=l.sibling,f=l.return;if(wp(l),l===a){fe=null;break t}if(u!==null){u.return=f,fe=u;break t}fe=f}}}var DT={getCacheForType:function(e){var r=we(oe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},kT=typeof WeakMap=="function"?WeakMap:Map,It=0,Pt=null,pt=null,wt=0,Bt=0,$e=null,fa=!1,Ms=!1,Oh=!1,gr=0,Ft=0,ha=0,Za=0,Ch=0,on=0,Us=0,_o=null,Re=null,Ih=!1,Bh=0,Iu=1/0,Bu=null,da=null,ye=0,ma=null,Ls=null,Js=0,Rh=0,zh=null,Bp=null,Wo=0,Mh=null;function Ye(){if((It&2)!==0&&wt!==0)return wt&-wt;if(U.T!==null){var e=xs;return e!==0?e:Vh()}return Xm()}function Rp(){on===0&&(on=(wt&536870912)===0||kt?jm():536870912);var e=sn.current;return e!==null&&(e.flags|=32),on}function Ge(e,r,a){(e===Pt&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)&&(qs(e,0),ga(e,wt,on,!1)),po(e,a),((It&2)===0||e!==Pt)&&(e===Pt&&((It&2)===0&&(Za|=a),Ft===4&&ga(e,wt,on,!1)),Kn(e))}function zp(e,r,a){if((It&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||yo(e,r),u=l?IT(e,r):Jh(e,r,!0),f=l;do{if(u===0){Ms&&!l&&ga(e,r,0,!1);break}else{if(a=e.current.alternate,f&&!OT(a)){u=Jh(e,r,!1),f=!1;continue}if(u===2){if(f=r,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){r=g;t:{var S=e;u=_o;var T=S.current.memoizedState.isDehydrated;if(T&&(qs(S,g).flags|=256),g=Jh(S,g,!1),g!==2){if(Oh&&!T){S.errorRecoveryDisabledLanes|=f,Za|=f,u=4;break t}f=Re,Re=u,f!==null&&(Re===null?Re=f:Re.push.apply(Re,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){qs(e,0),ga(e,r,0,!0);break}t:{switch(l=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ga(l,r,on,!fa);break t;case 2:Re=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=Bh+300-Un(),10<u)){if(ga(l,r,on,!fa),Hl(l,0,!0)!==0)break t;l.timeoutHandle=uv(Mp.bind(null,l,a,Re,Bu,Ih,r,on,Za,Us,fa,f,2,-0,0),u);break t}Mp(l,a,Re,Bu,Ih,r,on,Za,Us,fa,f,0,-0,0)}}break}while(!0);Kn(e)}function Mp(e,r,a,l,u,f,g,S,T,I,M,J,B,R){if(e.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:cw},kp(r),J=hw(),J!==null)){e.cancelPendingCommit=J(Vp.bind(null,e,r,f,a,l,u,g,S,T,M,1,B,R)),ga(e,f,g,!I);return}Vp(e,r,f,a,l,u,g,S,T)}function OT(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!Ke(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ga(e,r,a,l){r&=~Ch,r&=~Za,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var u=r;0<u;){var f=31-Pe(u),g=1<<f;l[f]=-1,u&=~g}a!==0&&Ym(e,a,r)}function Ru(){return(It&6)===0?(tl(0),!1):!0}function Uh(){if(pt!==null){if(Bt===0)var e=pt.return;else e=pt,or=ja=null,Wf(e),Is=null,jo=0,e=pt;for(;e!==null;)mp(e.alternate,e),e=e.return;pt=null}}function qs(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,GT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uh(),Pt=e,pt=a=ir(e.current,null),wt=r,Bt=0,$e=null,fa=!1,Ms=yo(e,r),Oh=!1,Us=on=Ch=Za=ha=Ft=0,Re=_o=null,Ih=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var u=31-Pe(l),f=1<<u;r|=e[u],l&=~f}return gr=r,eu(),a}function Up(e,r){dt=null,U.H=bu,r===Mo||r===cu?(r=Wg(),Bt=3):r===Zg?(r=Wg(),Bt=4):Bt=r===tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$e=r,pt===null&&(Ft=1,xu(e,en(r,e.current)))}function Lp(){var e=U.H;return U.H=bu,e===null?bu:e}function Jp(){var e=U.A;return U.A=DT,e}function Lh(){Ft=4,fa||(wt&4194048)!==wt&&sn.current!==null||(Ms=!0),(ha&134217727)===0&&(Za&134217727)===0||Pt===null||ga(Pt,wt,on,!1)}function Jh(e,r,a){var l=It;It|=2;var u=Lp(),f=Jp();(Pt!==e||wt!==r)&&(Bu=null,qs(e,r)),r=!1;var g=Ft;t:do try{if(Bt!==0&&pt!==null){var S=pt,T=$e;switch(Bt){case 8:Uh(),g=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(r=!0);var I=Bt;if(Bt=0,$e=null,Ps(e,S,T,I),a&&Ms){g=0;break t}break;default:I=Bt,Bt=0,$e=null,Ps(e,S,T,I)}}CT(),g=Ft;break}catch(M){Up(e,M)}while(!0);return r&&e.shellSuspendCounter++,or=ja=null,It=l,U.H=u,U.A=f,pt===null&&(Pt=null,wt=0,eu()),g}function CT(){for(;pt!==null;)qp(pt)}function IT(e,r){var a=It;It|=2;var l=Lp(),u=Jp();Pt!==e||wt!==r?(Bu=null,Iu=Un()+500,qs(e,r)):Ms=yo(e,r);t:do try{if(Bt!==0&&pt!==null){r=pt;var f=$e;e:switch(Bt){case 1:Bt=0,$e=null,Ps(e,r,f,1);break;case 2:case 9:if(Qg(f)){Bt=0,$e=null,Pp(r);break}r=function(){Bt!==2&&Bt!==9||Pt!==e||(Bt=7),Kn(e)},f.then(r,r);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Qg(f)?(Bt=0,$e=null,Pp(r)):(Bt=0,$e=null,Ps(e,r,f,7));break;case 5:var g=null;switch(pt.tag){case 26:g=pt.memoizedState;case 5:case 27:var S=pt;if(!g||Tv(g)){Bt=0,$e=null;var T=S.sibling;if(T!==null)pt=T;else{var I=S.return;I!==null?(pt=I,zu(I)):pt=null}break e}}Bt=0,$e=null,Ps(e,r,f,5);break;case 6:Bt=0,$e=null,Ps(e,r,f,6);break;case 8:Uh(),Ft=6;break t;default:throw Error(i(462))}}BT();break}catch(M){Up(e,M)}while(!0);return or=ja=null,U.H=l,U.A=u,It=a,pt!==null?0:(Pt=null,wt=0,eu(),Ft)}function BT(){for(;pt!==null&&!tb();)qp(pt)}function qp(e){var r=hp(e.alternate,e,gr);e.memoizedProps=e.pendingProps,r===null?zu(e):pt=r}function Pp(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=sp(a,r,r.pendingProps,r.type,void 0,wt);break;case 11:r=sp(a,r,r.pendingProps,r.type.render,r.ref,wt);break;case 5:Wf(r);default:mp(a,r),r=pt=Kg(r,gr),r=hp(a,r,gr)}e.memoizedProps=e.pendingProps,r===null?zu(e):pt=r}function Ps(e,r,a,l){or=ja=null,Wf(r),Is=null,jo=0;var u=r.return;try{if(TT(e,u,r,a,wt)){Ft=1,xu(e,en(a,e.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Ft=1,xu(e,en(a,e.current)),pt=null;return}r.flags&32768?(kt||l===1?e=!0:Ms||(wt&536870912)!==0?e=!1:(fa=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(r,e)):zu(r)}function zu(e){var r=e;do{if((r.flags&32768)!==0){Kp(r,fa);return}e=r.return;var a=AT(r.alternate,r,gr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=e}while(r!==null);Ft===0&&(Ft=5)}function Kp(e,r){do{var a=ET(e.alternate,e);if(a!==null){a.flags&=32767,pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){pt=e;return}pt=e=a}while(e!==null);Ft=6,pt=null}function Vp(e,r,a,l,u,f,g,S,T){e.cancelPendingCommit=null;do Mu();while(ye!==0);if((It&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=kf,cb(e,a,f,g,S,T),e===Pt&&(pt=Pt=null,wt=0),Ls=r,ma=e,Js=a,Rh=f,zh=u,Bp=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UT(Pl,function(){return Gp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,u=G.p,G.p=2,g=It,It|=4;try{xT(e,r,a)}finally{It=g,G.p=u,U.T=l}}ye=1,Hp(),jp(),$p()}}function Hp(){if(ye===1){ye=0;var e=ma,r=Ls,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=G.p;G.p=2;var u=It;It|=4;try{xp(r,e);var f=Zh,g=Ig(e.containerInfo),S=f.focusedElem,T=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&Cg(S.ownerDocument.documentElement,S)){if(T!==null&&Af(S)){var I=T.start,M=T.end;if(M===void 0&&(M=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(M,S.value.length);else{var J=S.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var R=B.getSelection(),ot=S.textContent.length,it=Math.min(T.start,ot),Mt=T.end===void 0?it:Math.min(T.end,ot);!R.extend&&it>Mt&&(g=Mt,Mt=it,it=g);var D=Og(S,it),A=Og(S,Mt);if(D&&A&&(R.rangeCount!==1||R.anchorNode!==D.node||R.anchorOffset!==D.offset||R.focusNode!==A.node||R.focusOffset!==A.offset)){var C=J.createRange();C.setStart(D.node,D.offset),R.removeAllRanges(),it>Mt?(R.addRange(C),R.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),R.addRange(C))}}}}for(J=[],R=S;R=R.parentNode;)R.nodeType===1&&J.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var L=J[S];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Gu=!!Fh,Zh=Fh=null}finally{It=u,G.p=l,U.T=a}}e.current=r,ye=2}}function jp(){if(ye===2){ye=0;var e=ma,r=Ls,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=G.p;G.p=2;var u=It;It|=4;try{Tp(e,r.alternate,r)}finally{It=u,G.p=l,U.T=a}}ye=3}}function $p(){if(ye===4||ye===3){ye=0,eb();var e=ma,r=Ls,a=Js,l=Bp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ye=5:(ye=0,Ls=ma=null,Yp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(da=null),ef(a),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(go,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=U.T,u=G.p,G.p=2,U.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var S=l[g];f(S.value,{componentStack:S.stack})}}finally{U.T=r,G.p=u}}(Js&3)!==0&&Mu(),Kn(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Mh?Wo++:(Wo=0,Mh=e):Wo=0,tl(0)}}function Yp(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Ro(r)))}function Mu(e){return Hp(),jp(),$p(),Gp()}function Gp(){if(ye!==5)return!1;var e=ma,r=Rh;Rh=0;var a=ef(Js),l=U.T,u=G.p;try{G.p=32>a?32:a,U.T=null,a=zh,zh=null;var f=ma,g=Js;if(ye=0,Ls=ma=null,Js=0,(It&6)!==0)throw Error(i(331));var S=It;if(It|=4,Cp(f.current),Dp(f,f.current,g,a),It=S,tl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(go,f)}catch{}return!0}finally{G.p=u,U.T=l,Yp(e,r)}}function Xp(e,r,a){r=en(a,r),r=dh(e.stateNode,r,2),e=ia(e,r,2),e!==null&&(po(e,2),Kn(e))}function Jt(e,r,a){if(e.tag===3)Xp(e,e,a);else for(;r!==null;){if(r.tag===3){Xp(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){e=en(a,e),a=_y(2),l=ia(r,a,2),l!==null&&(Wy(a,l,r,e),po(l,2),Kn(l));break}}r=r.return}}function qh(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new kT;var u=new Set;l.set(r,u)}else u=l.get(r),u===void 0&&(u=new Set,l.set(r,u));u.has(a)||(Oh=!0,u.add(a),e=RT.bind(null,e,r,a),r.then(e,e))}function RT(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(Ft===4||Ft===3&&(wt&62914560)===wt&&300>Un()-Bh?(It&2)===0&&qs(e,0):Ch|=a,Us===wt&&(Us=0)),Kn(e)}function Fp(e,r){r===0&&(r=$m()),e=Ts(e,r),e!==null&&(po(e,r),Kn(e))}function zT(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Fp(e,a)}function MT(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Fp(e,a)}function UT(e,r){return Qc(e,r)}var Uu=null,Ks=null,Ph=!1,Lu=!1,Kh=!1,Qa=0;function Kn(e){e!==Ks&&e.next===null&&(Ks===null?Uu=Ks=e:Ks=Ks.next=e),Lu=!0,Ph||(Ph=!0,JT())}function tl(e,r){if(!Kh&&Lu){Kh=!0;do for(var a=!1,l=Uu;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Pe(42|e)+1)-1,f&=u&~(g&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Wp(l,f))}else f=wt,f=Hl(l,l===Pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||yo(l,f)||(a=!0,Wp(l,f));l=l.next}while(a);Kh=!1}}function LT(){Zp()}function Zp(){Lu=Ph=!1;var e=0;Qa!==0&&(YT()&&(e=Qa),Qa=0);for(var r=Un(),a=null,l=Uu;l!==null;){var u=l.next,f=Qp(l,r);f===0?(l.next=null,a===null?Uu=u:a.next=u,u===null&&(Ks=a)):(a=l,(e!==0||(f&3)!==0)&&(Lu=!0)),l=u}tl(e)}function Qp(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Pe(f),S=1<<g,T=u[g];T===-1?((S&a)===0||(S&l)!==0)&&(u[g]=ub(S,r)):T<=r&&(e.expiredLanes|=S),f&=~S}if(r=Pt,a=wt,a=Hl(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_c(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yo(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&_c(l),ef(a)){case 2:case 8:a=Vm;break;case 32:a=Pl;break;case 268435456:a=Hm;break;default:a=Pl}return l=_p.bind(null,e),a=Qc(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&_c(l),e.callbackPriority=2,e.callbackNode=null,2}function _p(e,r){if(ye!==0&&ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mu()&&e.callbackNode!==a)return null;var l=wt;return l=Hl(e,e===Pt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zp(e,l,r),Qp(e,Un()),e.callbackNode!=null&&e.callbackNode===a?_p.bind(null,e):null)}function Wp(e,r){if(Mu())return null;zp(e,r,!0)}function JT(){XT(function(){(It&6)!==0?Qc(Km,LT):Zp()})}function Vh(){return Qa===0&&(Qa=jm()),Qa}function tv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xl(""+e)}function ev(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function qT(e,r,a,l,u){if(r==="submit"&&a&&a.stateNode===u){var f=tv((u[Oe]||null).action),g=l.submitter;g&&(r=(r=g[Oe]||null)?tv(r.formAction):g.getAttribute("formAction"),r!==null&&(f=r,g=null));var S=new _l("action","action",null,l,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var T=g?ev(u,g):new FormData(u);lh(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=g?ev(u,g):new FormData(u),lh(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Hh=0;Hh<Df.length;Hh++){var jh=Df[Hh],PT=jh.toLowerCase(),KT=jh[0].toUpperCase()+jh.slice(1);xn(PT,"on"+KT)}xn(zg,"onAnimationEnd"),xn(Mg,"onAnimationIteration"),xn(Ug,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(iT,"onTransitionRun"),xn(aT,"onTransitionStart"),xn(sT,"onTransitionCancel"),xn(Lg,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function nv(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;t:{var f=void 0;if(r)for(var g=l.length-1;0<=g;g--){var S=l[g],T=S.instance,I=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=I;try{f(u)}catch(M){Eu(M)}u.currentTarget=null,f=T}else for(g=0;g<l.length;g++){if(S=l[g],T=S.instance,I=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=I;try{f(u)}catch(M){Eu(M)}u.currentTarget=null,f=T}}}}function vt(e,r){var a=r[nf];a===void 0&&(a=r[nf]=new Set);var l=e+"__bubble";a.has(l)||(rv(r,e,2,!1),a.add(l))}function $h(e,r,a){var l=0;r&&(l|=4),rv(a,e,l,r)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Yh(e){if(!e[Ju]){e[Ju]=!0,Zm.forEach(function(a){a!=="selectionchange"&&(VT.has(a)||$h(a,!1,e),$h(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ju]||(r[Ju]=!0,$h("selectionchange",!1,r))}}function rv(e,r,a,l){switch(Dv(r)){case 2:var u=gw;break;case 8:u=yw;break;default:u=sd}a=u.bind(null,r,a,e),u=void 0,!mf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(r,a,{capture:!0,passive:u}):e.addEventListener(r,a,!0):u!==void 0?e.addEventListener(r,a,{passive:u}):e.addEventListener(r,a,!1)}function Gh(e,r,a,l,u){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===u)break;if(g===4)for(g=l.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;S!==null;){if(g=ls(S),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){l=f=g;continue t}S=S.parentNode}}l=l.return}cg(function(){var I=f,M=hf(a),J=[];t:{var B=Jg.get(e);if(B!==void 0){var R=_l,ot=e;switch(e){case"keypress":if(Zl(a)===0)break t;case"keydown":case"keyup":R=Ub;break;case"focusin":ot="focus",R=vf;break;case"focusout":ot="blur",R=vf;break;case"beforeblur":case"afterblur":R=vf;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=qb;break;case zg:case Mg:case Ug:R=Db;break;case Lg:R=Kb;break;case"scroll":case"scrollend":R=wb;break;case"wheel":R=Hb;break;case"copy":case"cut":case"paste":R=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=gg;break;case"toggle":case"beforetoggle":R=$b}var it=(r&4)!==0,Mt=!it&&(e==="scroll"||e==="scrollend"),D=it?B!==null?B+"Capture":null:B;it=[];for(var A=I,C;A!==null;){var L=A;if(C=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||C===null||D===null||(L=bo(A,D),L!=null&&it.push(nl(A,L,C))),Mt)break;A=A.return}0<it.length&&(B=new R(B,ot,null,a,M),J.push({event:B,listeners:it}))}}if((r&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",B&&a!==ff&&(ot=a.relatedTarget||a.fromElement)&&(ls(ot)||ot[os]))break t;if((R||B)&&(B=M.window===M?M:(B=M.ownerDocument)?B.defaultView||B.parentWindow:window,R?(ot=a.relatedTarget||a.toElement,R=I,ot=ot?ls(ot):null,ot!==null&&(Mt=c(ot),it=ot.tag,ot!==Mt||it!==5&&it!==27&&it!==6)&&(ot=null)):(R=null,ot=I),R!==ot)){if(it=dg,L="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(it=gg,L="onPointerLeave",D="onPointerEnter",A="pointer"),Mt=R==null?B:So(R),C=ot==null?B:So(ot),B=new it(L,A+"leave",R,a,M),B.target=Mt,B.relatedTarget=C,L=null,ls(M)===I&&(it=new it(D,A+"enter",ot,a,M),it.target=C,it.relatedTarget=Mt,L=it),Mt=L,R&&ot)e:{for(it=R,D=ot,A=0,C=it;C;C=Vs(C))A++;for(C=0,L=D;L;L=Vs(L))C++;for(;0<A-C;)it=Vs(it),A--;for(;0<C-A;)D=Vs(D),C--;for(;A--;){if(it===D||D!==null&&it===D.alternate)break e;it=Vs(it),D=Vs(D)}it=null}else it=null;R!==null&&iv(J,B,R,it,!1),ot!==null&&Mt!==null&&iv(J,Mt,ot,it,!0)}}t:{if(B=I?So(I):window,R=B.nodeName&&B.nodeName.toLowerCase(),R==="select"||R==="input"&&B.type==="file")var F=Ag;else if(Tg(B))if(Eg)F=eT;else{F=Wb;var mt=_b}else R=B.nodeName,!R||R.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?I&&cf(I.elementType)&&(F=Ag):F=tT;if(F&&(F=F(e,I))){wg(J,F,a,M);break t}mt&&mt(e,B,I),e==="focusout"&&I&&B.type==="number"&&I.memoizedProps.value!=null&&uf(B,"number",B.value)}switch(mt=I?So(I):window,e){case"focusin":(Tg(mt)||mt.contentEditable==="true")&&(vs=mt,Ef=I,ko=null);break;case"focusout":ko=Ef=vs=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Bg(J,a,M);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":Bg(J,a,M)}var Q;if(bf)t:{switch(e){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else ps?Sg(e,a)&&(at="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(yg&&a.locale!=="ko"&&(ps||at!=="onCompositionStart"?at==="onCompositionEnd"&&ps&&(Q=fg()):(ta=M,gf="value"in ta?ta.value:ta.textContent,ps=!0)),mt=qu(I,at),0<mt.length&&(at=new mg(at,e,null,a,M),J.push({event:at,listeners:mt}),Q?at.data=Q:(Q=bg(a),Q!==null&&(at.data=Q)))),(Q=Gb?Xb(e,a):Fb(e,a))&&(at=qu(I,"onBeforeInput"),0<at.length&&(mt=new mg("onBeforeInput","beforeinput",null,a,M),J.push({event:mt,listeners:at}),mt.data=Q)),qT(J,e,I,a,M)}nv(J,r)})}function nl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function qu(e,r){for(var a=r+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=bo(e,a),u!=null&&l.unshift(nl(e,u,f)),u=bo(e,r),u!=null&&l.push(nl(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function iv(e,r,a,l,u){for(var f=r._reactName,g=[];a!==null&&a!==l;){var S=a,T=S.alternate,I=S.stateNode;if(S=S.tag,T!==null&&T===l)break;S!==5&&S!==26&&S!==27||I===null||(T=I,u?(I=bo(a,f),I!=null&&g.unshift(nl(a,I,T))):u||(I=bo(a,f),I!=null&&g.push(nl(a,I,T)))),a=a.return}g.length!==0&&e.push({event:r,listeners:g})}var HT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(jT,"")}function sv(e,r){return r=av(r),av(e)===r}function Pu(){}function zt(e,r,a,l,u,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ms(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ms(e,""+l);break;case"className":$l(e,"class",l);break;case"tabIndex":$l(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,a,l);break;case"style":lg(e,l,f);break;case"data":if(r!=="object"){$l(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xl(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&zt(e,r,"name",u.name,u,null),zt(e,r,"formEncType",u.formEncType,u,null),zt(e,r,"formMethod",u.formMethod,u,null),zt(e,r,"formTarget",u.formTarget,u,null)):(zt(e,r,"encType",u.encType,u,null),zt(e,r,"method",u.method,u,null),zt(e,r,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xl(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"onScroll":l!=null&&vt("scroll",e);break;case"onScrollEnd":l!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":vt("beforetoggle",e),vt("toggle",e),jl(e,"popover",l);break;case"xlinkActuate":nr(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nr(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nr(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nr(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nr(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nr(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nr(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bb.get(a)||a,jl(e,a,l))}}function Xh(e,r,a,l,u,f){switch(a){case"style":lg(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ms(e,l):(typeof l=="number"||typeof l=="bigint")&&ms(e,""+l);break;case"onScroll":l!=null&&vt("scroll",e);break;case"onScrollEnd":l!=null&&vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qm.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=e[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(r,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,u);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):jl(e,a,l)}}}function pe(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,f,g,a,null)}}u&&zt(e,r,"srcSet",a.srcSet,a,null),l&&zt(e,r,"src",a.src,a,null);return;case"input":vt("invalid",e);var S=f=g=u=null,T=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":u=M;break;case"type":g=M;break;case"checked":T=M;break;case"defaultChecked":I=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,r));break;default:zt(e,r,l,M,a,null)}}ig(e,f,S,T,I,g,u,!1),Yl(e);return;case"select":vt("invalid",e),l=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":l=S;default:zt(e,r,u,S,a,null)}r=f,a=g,e.multiple=!!l,r!=null?ds(e,!!l,r,!1):a!=null&&ds(e,!!l,a,!0);return;case"textarea":vt("invalid",e),f=u=l=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":l=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:zt(e,r,g,S,a,null)}sg(e,l,u,f),Yl(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:zt(e,r,T,l,a,null)}return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(l=0;l<el.length;l++)vt(el[l],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,I,l,a,null)}return;default:if(cf(r)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&Xh(e,r,M,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&zt(e,r,S,l,a,null))}function $T(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,T=null,I=null,M=null;for(R in a){var J=a[R];if(a.hasOwnProperty(R)&&J!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":T=J;default:l.hasOwnProperty(R)||zt(e,r,R,null,l,J)}}for(var B in l){var R=l[B];if(J=a[B],l.hasOwnProperty(B)&&(R!=null||J!=null))switch(B){case"type":f=R;break;case"name":u=R;break;case"checked":I=R;break;case"defaultChecked":M=R;break;case"value":g=R;break;case"defaultValue":S=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,r));break;default:R!==J&&zt(e,r,B,R,l,J)}}lf(e,g,S,T,I,M,f,u);return;case"select":R=g=S=B=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":R=T;default:l.hasOwnProperty(f)||zt(e,r,f,null,l,T)}for(u in l)if(f=l[u],T=a[u],l.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==T&&zt(e,r,u,f,l,T)}r=S,a=g,l=R,B!=null?ds(e,!!a,B,!1):!!l!=!!a&&(r!=null?ds(e,!!a,r,!0):ds(e,!!a,a?[]:"",!1));return;case"textarea":R=B=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:zt(e,r,S,null,l,u)}for(g in l)if(u=l[g],f=a[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":B=u;break;case"defaultValue":R=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&zt(e,r,g,u,l,f)}ag(e,B,R);return;case"option":for(var ot in a)if(B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:zt(e,r,ot,null,l,B)}for(T in l)if(B=l[T],R=a[T],l.hasOwnProperty(T)&&B!==R&&(B!=null||R!=null))switch(T){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:zt(e,r,T,B,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in a)B=a[it],a.hasOwnProperty(it)&&B!=null&&!l.hasOwnProperty(it)&&zt(e,r,it,null,l,B);for(I in l)if(B=l[I],R=a[I],l.hasOwnProperty(I)&&B!==R&&(B!=null||R!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:zt(e,r,I,B,l,R)}return;default:if(cf(r)){for(var Mt in a)B=a[Mt],a.hasOwnProperty(Mt)&&B!==void 0&&!l.hasOwnProperty(Mt)&&Xh(e,r,Mt,void 0,l,B);for(M in l)B=l[M],R=a[M],!l.hasOwnProperty(M)||B===R||B===void 0&&R===void 0||Xh(e,r,M,B,l,R);return}}for(var D in a)B=a[D],a.hasOwnProperty(D)&&B!=null&&!l.hasOwnProperty(D)&&zt(e,r,D,null,l,B);for(J in l)B=l[J],R=a[J],!l.hasOwnProperty(J)||B===R||B==null&&R==null||zt(e,r,J,B,l,R)}var Fh=null,Zh=null;function Ku(e){return e.nodeType===9?e:e.ownerDocument}function ov(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Qh(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _h=null;function YT(){var e=window.event;return e&&e.type==="popstate"?e===_h?!1:(_h=e,!0):(_h=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(e){return cv.resolve(null).then(e).catch(FT)}:uv;function FT(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function fv(e,r){var a=r,l=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var g=e.ownerDocument;if(a&1&&rl(g.documentElement),a&2&&rl(g.body),a&4)for(a=g.head,rl(a),g=a.firstChild;g;){var S=g.nextSibling,T=g.nodeName;g[vo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=S}}if(u===0){e.removeChild(f),fl(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);fl(r)}function Wh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wh(a),rf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ZT(e,r,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vo])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function QT(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _T(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var ed=null;function hv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function dv(e,r,a){switch(r=Ku(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function rl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);rf(e)}var ln=new Map,mv=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yr=G.d;G.d={f:WT,r:tw,D:ew,C:nw,L:rw,m:iw,X:sw,S:aw,M:ow};function WT(){var e=yr.f(),r=Ru();return e||r}function tw(e){var r=us(e);r!==null&&r.tag===5&&r.type==="form"?zy(r):yr.r(e)}var Hs=typeof document>"u"?null:document;function gv(e,r,a){var l=Hs;if(l&&typeof r=="string"&&r){var u=tn(r);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),mv.has(u)||(mv.add(u),e={rel:e,crossOrigin:a,href:r},l.querySelector(u)===null&&(r=l.createElement("link"),pe(r,"link",e),ue(r),l.head.appendChild(r)))}}function ew(e){yr.D(e),gv("dns-prefetch",e,null)}function nw(e,r){yr.C(e,r),gv("preconnect",e,r)}function rw(e,r,a){yr.L(e,r,a);var l=Hs;if(l&&e&&r){var u='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+tn(a.imageSizes)+'"]')):u+='[href="'+tn(e)+'"]';var f=u;switch(r){case"style":f=js(e);break;case"script":f=$s(e)}ln.has(f)||(e=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ln.set(f,e),l.querySelector(u)!==null||r==="style"&&l.querySelector(il(f))||r==="script"&&l.querySelector(al(f))||(r=l.createElement("link"),pe(r,"link",e),ue(r),l.head.appendChild(r)))}}function iw(e,r){yr.m(e,r);var a=Hs;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$s(e)}if(!ln.has(f)&&(e=b({rel:"modulepreload",href:e},r),ln.set(f,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(f)))return}l=a.createElement("link"),pe(l,"link",e),ue(l),a.head.appendChild(l)}}}function aw(e,r,a){yr.S(e,r,a);var l=Hs;if(l&&e){var u=cs(l).hoistableStyles,f=js(e);r=r||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=l.querySelector(il(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ln.get(f))&&nd(e,a);var T=g=l.createElement("link");ue(T),pe(T,"link",e),T._p=new Promise(function(I,M){T.onload=I,T.onerror=M}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hu(g,r,l)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function sw(e,r){yr.X(e,r);var a=Hs;if(a&&e){var l=cs(a).hoistableScripts,u=$s(e),f=l.get(u);f||(f=a.querySelector(al(u)),f||(e=b({src:e,async:!0},r),(r=ln.get(u))&&rd(e,r),f=a.createElement("script"),ue(f),pe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function ow(e,r){yr.M(e,r);var a=Hs;if(a&&e){var l=cs(a).hoistableScripts,u=$s(e),f=l.get(u);f||(f=a.querySelector(al(u)),f||(e=b({src:e,async:!0,type:"module"},r),(r=ln.get(u))&&rd(e,r),f=a.createElement("script"),ue(f),pe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yv(e,r,a,l){var u=(u=ut.current)?Vu(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=js(a.href),a=cs(u).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=js(a.href);var f=cs(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(il(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ln.set(e,a),f||lw(u,e,a,g.state))),r&&l===null)throw Error(i(528,""));return g}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(a),a=cs(u).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function js(e){return'href="'+tn(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function pv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function lw(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pe(r,"link",a),ue(r),e.head.appendChild(r))}function $s(e){return'[src="'+tn(e)+'"]'}function al(e){return"script[async]"+e}function vv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return r.instance=l,ue(l),l;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),pe(l,"style",u),Hu(l,a.precedence,e),r.instance=l;case"stylesheet":u=js(a.href);var f=e.querySelector(il(u));if(f)return r.state.loading|=4,r.instance=f,ue(f),f;l=pv(a),(u=ln.get(u))&&nd(l,u),f=(e.ownerDocument||e).createElement("link"),ue(f);var g=f;return g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),pe(f,"link",l),r.state.loading|=4,Hu(f,a.precedence,e),r.instance=f;case"script":return f=$s(a.src),(u=e.querySelector(al(f)))?(r.instance=u,ue(u),u):(l=a,(u=ln.get(f))&&(l=b({},a),rd(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ue(u),pe(u,"link",l),e.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hu(l,a.precedence,e));return r.instance}function Hu(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var S=l[g];if(S.dataset.precedence===r)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function nd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function rd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var ju=null;function Sv(e,r,a){if(ju===null){var l=new Map,u=ju=new Map;u.set(a,l)}else u=ju,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[vo]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(r)||"";g=e+g;var S=l.get(g);S?S.push(f):l.set(g,[f])}}return l}function bv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function uw(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function cw(){}function fw(e,r,a){if(sl===null)throw Error(i(475));var l=sl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=js(a.href),f=e.querySelector(il(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=$u.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=f,ue(f);return}f=e.ownerDocument||e,a=pv(a),(u=ln.get(u))&&nd(a,u),f=f.createElement("link"),ue(f);var g=f;g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),pe(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$u.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function hw(){if(sl===null)throw Error(i(475));var e=sl;return e.stylesheets&&e.count===0&&id(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yu=null;function id(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yu=new Map,r.forEach(dw,e),Yu=null,$u.call(e))}function dw(e,r){if(!(r.state.loading&4)){var a=Yu.get(e);if(a)var l=a.get(null);else{a=new Map,Yu.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}u=r.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,u),a.set(g,u),this.count++,l=$u.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),r.state.loading|=4}}var ol={$$typeof:ct,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function mw(e,r,a,l,u,f,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.hiddenUpdates=Wc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function wv(e,r,a,l,u,f,g,S,T,I,M,J){return e=new mw(e,r,a,g,S,T,I,J),r=1,f===!0&&(r|=24),f=Ve(3,null,null,r),e.current=f,f.stateNode=e,r=qf(),r.refCount++,e.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Hf(f),e}function Av(e){return e?(e=ws,e):ws}function Ev(e,r,a,l,u,f){u=Av(u),l.context===null?l.context=u:l.pendingContext=u,l=ra(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ia(e,l,r),a!==null&&(Ge(a,e,r),Lo(a,e,r))}function xv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function ad(e,r){xv(e,r),(e=e.alternate)&&xv(e,r)}function Nv(e){if(e.tag===13){var r=Ts(e,67108864);r!==null&&Ge(r,e,67108864),ad(e,67108864)}}var Gu=!0;function gw(e,r,a,l){var u=U.T;U.T=null;var f=G.p;try{G.p=2,sd(e,r,a,l)}finally{G.p=f,U.T=u}}function yw(e,r,a,l){var u=U.T;U.T=null;var f=G.p;try{G.p=8,sd(e,r,a,l)}finally{G.p=f,U.T=u}}function sd(e,r,a,l){if(Gu){var u=od(l);if(u===null)Gh(e,r,l,Xu,a),kv(e,l);else if(vw(u,e,r,a,l))l.stopPropagation();else if(kv(e,l),r&4&&-1<pw.indexOf(e)){for(;u!==null;){var f=us(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=za(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var T=1<<31-Pe(g);S.entanglements[1]|=T,g&=~T}Kn(f),(It&6)===0&&(Iu=Un()+500,tl(0))}}break;case 13:S=Ts(f,2),S!==null&&Ge(S,f,2),Ru(),ad(f,2)}if(f=od(l),f===null&&Gh(e,r,l,Xu,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else Gh(e,r,l,null,a)}}function od(e){return e=hf(e),ld(e)}var Xu=null;function ld(e){if(Xu=null,e=ls(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Xu=e,null}function Dv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nb()){case Km:return 2;case Vm:return 8;case Pl:case rb:return 32;case Hm:return 268435456;default:return 32}default:return 32}}var ud=!1,pa=null,va=null,Sa=null,ll=new Map,ul=new Map,ba=[],pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(e,r){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(r.pointerId)}}function cl(e,r,a,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},r!==null&&(r=us(r),r!==null&&Nv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function vw(e,r,a,l,u){switch(r){case"focusin":return pa=cl(pa,e,r,a,l,u),!0;case"dragenter":return va=cl(va,e,r,a,l,u),!0;case"mouseover":return Sa=cl(Sa,e,r,a,l,u),!0;case"pointerover":var f=u.pointerId;return ll.set(f,cl(ll.get(f)||null,e,r,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ul.set(f,cl(ul.get(f)||null,e,r,a,l,u)),!0}return!1}function Ov(e){var r=ls(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){e.blockedOn=r,fb(e.priority,function(){if(a.tag===13){var l=Ye();l=tf(l);var u=Ts(a,l);u!==null&&Ge(u,a,l),ad(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ff=l,a.target.dispatchEvent(l),ff=null}else return r=us(a),r!==null&&Nv(r),e.blockedOn=a,!1;r.shift()}return!0}function Cv(e,r,a){Fu(e)&&a.delete(r)}function Sw(){ud=!1,pa!==null&&Fu(pa)&&(pa=null),va!==null&&Fu(va)&&(va=null),Sa!==null&&Fu(Sa)&&(Sa=null),ll.forEach(Cv),ul.forEach(Cv)}function Zu(e,r){e.blockedOn===r&&(e.blockedOn=null,ud||(ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Sw)))}var Qu=null;function Iv(e){Qu!==e&&(Qu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===e&&(Qu=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],u=e[r+2];if(typeof l!="function"){if(ld(l||a)===null)continue;break}var f=us(a);f!==null&&(e.splice(r,3),r-=3,lh(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function fl(e){function r(T){return Zu(T,e)}pa!==null&&Zu(pa,e),va!==null&&Zu(va,e),Sa!==null&&Zu(Sa,e),ll.forEach(r),ul.forEach(r);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&ba.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],g=u[Oe]||null;if(typeof f=="function")g||Iv(a);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Oe]||null)S=g.formAction;else if(ld(u)!==null)continue}else S=g.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Iv(a)}}}function cd(e){this._internalRoot=e}_u.prototype.render=cd.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=Ye();Ev(a,l,e,r,null,null)},_u.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ev(e.current,2,null,e,null,null),Ru(),r[os]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var r=Xm();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ba.length&&r!==0&&r<ba[a].priority;a++);ba.splice(a,0,e),a===0&&Ov(e)}};var Bv=n.version;if(Bv!=="19.1.0")throw Error(i(527,Bv,"19.1.0"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var bw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{go=Wu.inject(bw),qe=Wu}catch{}}return dl.createRoot=function(e,r){if(!o(e))throw Error(i(299));var a=!1,l="",u=Xy,f=Fy,g=Zy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=wv(e,1,!1,null,null,a,l,u,f,g,S,null),e[os]=r.current,Yh(e),new cd(r)},dl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(i(299));var l=!1,u="",f=Xy,g=Fy,S=Zy,T=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),r=wv(e,1,!0,r,a??null,l,u,f,g,S,T,I),r.context=Av(null),a=r.current,l=Ye(),l=tf(l),u=ra(l),u.callback=null,ia(a,u,l),a=l,r.current.lanes=a,po(r,a),Kn(r),e[os]=r.current,Yh(e),new _u(r)},dl.version="19.1.0",dl}var Vv;function zw(){if(Vv)return dd.exports;Vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),dd.exports=Rw(),dd.exports}var Mw=zw(),St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function Hv(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,t=>"_"+t.toLowerCase())}class Ut extends Error{constructor(n,t=St.Unknown,i,o,c){super(Uw(n,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=t,this.metadata=new Headers(i??{}),this.details=o??[],this.cause=c}static from(n,t=St.Unknown){return n instanceof Ut?n:n instanceof Error?n.name=="AbortError"?new Ut(n.message,St.Canceled):new Ut(n.message,t,void 0,void 0,n):new Ut(String(n),t,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ut.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const t="typeName"in n?{findMessage:o=>o===n.typeName?n:void 0}:n,i=[];for(const o of this.details){if("getType"in o){t.findMessage(o.getType().typeName)&&i.push(o);continue}const c=t.findMessage(o.type);if(c)try{i.push(c.fromBinary(o.value))}catch{}}return i}}function Uw(s,n){return s.length?`[${Hv(n)}] ${s}`:`[${Hv(n)}]`}function Qt(s,n){if(!s)throw new Error(n)}const Lw=34028234663852886e22,Jw=-34028234663852886e22,qw=4294967295,Pw=2147483647,Kw=-2147483648;function oc(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Pw||s<Kw)throw new Error("invalid int 32: "+s)}function Ed(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>qw||s<0)throw new Error("invalid uint 32: "+s)}function H0(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>Lw||s<Jw))throw new Error("invalid float 32: "+s)}const j0=Symbol("@bufbuild/protobuf/enum-type");function Vw(s){const n=s[j0];return Qt(n,"missing enum type on enum object"),n}function $0(s,n,t,i){s[j0]=Y0(n,t.map(o=>({no:o.no,name:o.name,localName:s[o.no]})))}function Y0(s,n,t){const i=Object.create(null),o=Object.create(null),c=[];for(const d of n){const m=G0(d);c.push(m),i[d.name]=m,o[d.no]=m}return{typeName:s,values:c,findName(d){return i[d]},findNumber(d){return o[d]}}}function Hw(s,n,t){const i={};for(const o of n){const c=G0(o);i[c.localName]=c.no,i[c.no]=c.localName}return $0(i,s,n),i}function G0(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class K{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,t){const i=this.getType(),o=i.runtime.bin,c=o.makeReadOptions(t);return o.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,t){const i=this.getType(),o=i.runtime.json,c=o.makeReadOptions(t);return o.readMessage(i,n,c,this),this}fromJsonString(n,t){let i;try{i=JSON.parse(n)}catch(o){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${o instanceof Error?o.message:String(o)}`)}return this.fromJson(i,t)}toBinary(n){const t=this.getType(),i=t.runtime.bin,o=i.makeWriteOptions(n),c=o.writerFactory();return i.writeMessage(this,c,o),c.finish()}toJson(n){const t=this.getType(),i=t.runtime.json,o=i.makeWriteOptions(n);return i.writeMessage(this,o)}toJsonString(n){var t;const i=this.toJson(n);return JSON.stringify(i,null,(t=n==null?void 0:n.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function jw(s,n,t,i){var o;const c=(o=i==null?void 0:i.localName)!==null&&o!==void 0?o:n.substring(n.lastIndexOf(".")+1),d={[c]:function(m){s.util.initFields(this),s.util.initPartial(m,this)}}[c];return Object.setPrototypeOf(d.prototype,new K),Object.assign(d,{runtime:s,typeName:n,fields:s.util.newFieldList(t),fromBinary(m,p){return new d().fromBinary(m,p)},fromJson(m,p){return new d().fromJson(m,p)},fromJsonString(m,p){return new d().fromJsonString(m,p)},equals(m,p){return s.util.equals(d,m,p)}}),d}function $w(){let s=0,n=0;for(let i=0;i<28;i+=7){let o=this.buf[this.pos++];if(s|=(o&127)<<i,(o&128)==0)return this.assertBounds(),[s,n]}let t=this.buf[this.pos++];if(s|=(t&15)<<28,n=(t&112)>>4,(t&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let o=this.buf[this.pos++];if(n|=(o&127)<<i,(o&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function pd(s,n,t){for(let c=0;c<28;c=c+7){const d=s>>>c,m=!(!(d>>>7)&&n==0),p=(m?d|128:d)&255;if(t.push(p),!m)return}const i=s>>>28&15|(n&7)<<4,o=n>>3!=0;if(t.push((o?i|128:i)&255),!!o){for(let c=3;c<31;c=c+7){const d=n>>>c,m=!!(d>>>7),p=(m?d|128:d)&255;if(t.push(p),!m)return}t.push(n>>>31&1)}}const lc=4294967296;function jv(s){const n=s[0]==="-";n&&(s=s.slice(1));const t=1e6;let i=0,o=0;function c(d,m){const p=Number(s.slice(d,m));o*=t,i=i*t+p,i>=lc&&(o=o+(i/lc|0),i=i%lc)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?F0(i,o):vm(i,o)}function Yw(s,n){let t=vm(s,n);const i=t.hi&2147483648;i&&(t=F0(t.lo,t.hi));const o=X0(t.lo,t.hi);return i?"-"+o:o}function X0(s,n){if({lo:s,hi:n}=Gw(s,n),n<=2097151)return String(lc*n+s);const t=s&16777215,i=(s>>>24|n<<8)&16777215,o=n>>16&65535;let c=t+i*6777216+o*6710656,d=i+o*8147497,m=o*2;const p=1e7;return c>=p&&(d+=Math.floor(c/p),c%=p),d>=p&&(m+=Math.floor(d/p),d%=p),m.toString()+$v(d)+$v(c)}function Gw(s,n){return{lo:s>>>0,hi:n>>>0}}function vm(s,n){return{lo:s|0,hi:n|0}}function F0(s,n){return n=~n,s?s=~s+1:n+=1,vm(s,n)}const $v=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Yv(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let t=0;t<9;t++)n.push(s&127|128),s=s>>7;n.push(1)}}function Xw(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let t=5;(s&128)!==0&&t<10;t++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Gv={};function Fw(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Gv!="object"||Gv.BUF_BIGINT_DISABLE!=="1")){const o=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),m=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const v=typeof p=="bigint"?p:BigInt(p);if(v>c||v<o)throw new Error(`int64 invalid: ${p}`);return v},uParse(p){const v=typeof p=="bigint"?p:BigInt(p);if(v>m||v<d)throw new Error(`uint64 invalid: ${p}`);return v},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,v){return s.setInt32(0,p,!0),s.setInt32(4,v,!0),s.getBigInt64(0,!0)},uDec(p,v){return s.setInt32(0,p,!0),s.setInt32(4,v,!0),s.getBigUint64(0,!0)}}}const t=o=>Qt(/^-?[0-9]+$/.test(o),`int64 invalid: ${o}`),i=o=>Qt(/^[0-9]+$/.test(o),`uint64 invalid: ${o}`);return{zero:"0",supported:!1,parse(o){return typeof o!="string"&&(o=o.toString()),t(o),o},uParse(o){return typeof o!="string"&&(o=o.toString()),i(o),o},enc(o){return typeof o!="string"&&(o=o.toString()),t(o),jv(o)},uEnc(o){return typeof o!="string"&&(o=o.toString()),i(o),jv(o)},dec(o,c){return Yw(o,c)},uDec(o,c){return X0(o,c)}}}const Tt=Fw();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var Ia;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(Ia||(Ia={}));function wa(s,n,t){if(n===t)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(t instanceof Uint8Array)||n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==t}return!1}function eo(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Tt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function Z0(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var ne;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ne||(ne={}));class Zw{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let o=0;o<this.chunks.length;o++)n+=this.chunks[o].length;let t=new Uint8Array(n),i=0;for(let o=0;o<this.chunks.length;o++)t.set(this.chunks[o],i),i+=this.chunks[o].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,t){return this.uint32((n<<3|t)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Ed(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return oc(n),Yv(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let t=this.textEncoder.encode(n);return this.uint32(t.byteLength),this.raw(t)}float(n){H0(n);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,n,!0),this.raw(t)}double(n){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,n,!0),this.raw(t)}fixed32(n){Ed(n);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,n,!0),this.raw(t)}sfixed32(n){oc(n);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,n,!0),this.raw(t)}sint32(n){return oc(n),n=(n<<1^n>>31)>>>0,Yv(n,this.buf),this}sfixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),o=Tt.enc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(t)}fixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),o=Tt.uEnc(n);return i.setInt32(0,o.lo,!0),i.setInt32(4,o.hi,!0),this.raw(t)}int64(n){let t=Tt.enc(n);return pd(t.lo,t.hi,this.buf),this}sint64(n){let t=Tt.enc(n),i=t.hi>>31,o=t.lo<<1^i,c=(t.hi<<1|t.lo>>>31)^i;return pd(o,c,this.buf),this}uint64(n){let t=Tt.uEnc(n);return pd(t.lo,t.hi,this.buf),this}}class Qw{constructor(n,t){this.varint64=$w,this.uint32=Xw,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=t??new TextDecoder}tag(){let n=this.uint32(),t=n>>>3,i=n&7;if(t<=0||i<0||i>5)throw new Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(n,t){let i=this.pos;switch(n){case ne.Varint:for(;this.buf[this.pos++]&128;);break;case ne.Bit64:this.pos+=4;case ne.Bit32:this.pos+=4;break;case ne.LengthDelimited:let o=this.uint32();this.pos+=o;break;case ne.StartGroup:for(;;){const[c,d]=this.tag();if(d===ne.EndGroup){if(t!==void 0&&c!==t)throw new Error("invalid end group tag");break}this.skip(d,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Tt.dec(...this.varint64())}uint64(){return Tt.uDec(...this.varint64())}sint64(){let[n,t]=this.varint64(),i=-(n&1);return n=(n>>>1|(t&1)<<31)^i,t=t>>>1^i,Tt.dec(n,t)}bool(){let[n,t]=this.varint64();return n!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Tt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Tt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),t=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(t,t+n)}string(){return this.textDecoder.decode(this.bytes())}}function _w(s,n,t,i){let o;return{typeName:n,extendee:t,get field(){if(!o){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,o=s.util.newFieldList([c]).list()[0]}return o},runtime:s}}function Q0(s){const n=s.field.localName,t=Object.create(null);return t[n]=Ww(s),[t,()=>t[n]]}function Ww(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return eo(n.T,n.L);case"message":const t=n.T,i=new t;return t.fieldWrapper?t.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function t1(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let t=s.length-1;t>=0;--t)if(s[t].no==n.no)return[s[t]];return[]}return s.filter(t=>t.no===n.no)}let Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Kc=[];for(let s=0;s<Ki.length;s++)Kc[Ki[s].charCodeAt(0)]=s;Kc[45]=Ki.indexOf("+");Kc[95]=Ki.indexOf("/");const Sm={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let t=new Uint8Array(n),i=0,o=0,c,d=0;for(let m=0;m<s.length;m++){if(c=Kc[s.charCodeAt(m)],c===void 0)switch(s[m]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:d=c,o=1;break;case 1:t[i++]=d<<2|(c&48)>>4,d=c,o=2;break;case 2:t[i++]=(d&15)<<4|(c&60)>>2,d=c,o=3;break;case 3:t[i++]=(d&3)<<6|c,o=0;break}}if(o==1)throw Error("invalid base64 string.");return t.subarray(0,i)},enc(s){let n="",t=0,i,o=0;for(let c=0;c<s.length;c++)switch(i=s[c],t){case 0:n+=Ki[i>>2],o=(i&3)<<4,t=1;break;case 1:n+=Ki[o|i>>4],o=(i&15)<<2,t=2;break;case 2:n+=Ki[o|i>>6],n+=Ki[i&63],t=0;break}return t&&(n+=Ki[o],n+="=",t==1&&(n+="=")),n}};function e1(s,n,t){W0(n,s);const i=n.runtime.bin.makeReadOptions(t),o=t1(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,d]=Q0(n);for(const m of o)n.runtime.bin.readField(c,i.readerFactory(m.data),n.field,m.wireType,i);return d()}function n1(s,n,t,i){W0(n,s);const o=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(_0(s,n)){const v=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of v)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const d=c.writerFactory();let m=n.field;!m.opt&&!m.repeated&&(m.kind=="enum"||m.kind=="scalar")&&(m=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(m,t,d,c);const p=o.readerFactory(d.finish());for(;p.pos<p.len;){const[v,b]=p.tag(),x=p.skip(b,v);s.getType().runtime.bin.onUnknownField(s,v,b,x)}}function _0(s,n){const t=s.getType();return n.extendee.typeName===t.typeName&&!!t.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function W0(s,n){Qt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function tS(s,n){const t=s.localName;if(s.repeated)return n[t].length>0;if(s.oneof)return n[s.oneof.localName].case===t;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[t]!==void 0:s.kind=="enum"?n[t]!==s.T.values[0].no:!Z0(s.T,n[t]);case"message":return n[t]!==void 0;case"map":return Object.keys(n[t]).length>0}}function Xv(s,n){const t=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[t]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[t]={};break;case"enum":n[t]=i?s.T.values[0].no:void 0;break;case"scalar":n[t]=i?eo(s.T,s.L):void 0;break;case"message":n[t]=void 0;break}}function Vi(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(K.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const t=s.getType();return t===null||typeof t!="function"||!("typeName"in t)||typeof t.typeName!="string"?!1:n===void 0?!0:t.typeName==n.typeName}function eS(s,n){return Vi(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const Fv={ignoreUnknownFields:!1},Zv={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function r1(s){return s?Object.assign(Object.assign({},Fv),s):Fv}function i1(s){return s?Object.assign(Object.assign({},Zv),s):Zv}const dc=Symbol(),uc=Symbol();function a1(){return{makeReadOptions:r1,makeWriteOptions:i1,readMessage(s,n,t,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Hn(n)}`);i=i??new s;const o=new Map,c=t.typeRegistry;for(const[d,m]of Object.entries(n)){const p=s.fields.findJsonName(d);if(p){if(p.oneof){if(m===null&&p.kind=="scalar")continue;const v=o.get(p.oneof);if(v!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${v}", "${d}"`);o.set(p.oneof,d)}Qv(i,m,p,t,s)}else{let v=!1;if(c!=null&&c.findExtension&&d.startsWith("[")&&d.endsWith("]")){const b=c.findExtension(d.substring(1,d.length-1));if(b&&b.extendee.typeName==s.typeName){v=!0;const[x,k]=Q0(b);Qv(x,m,b.field,t,b),n1(i,b,k(),t)}}if(!v&&!t.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${d}" is unknown`)}}return i},writeMessage(s,n){const t=s.getType(),i={};let o;try{for(o of t.fields.byNumber()){if(!tS(o,s)){if(o.req)throw"required field not set";if(!n.emitDefaultValues||!o1(o))continue}const d=o.oneof?s[o.oneof.localName].value:s[o.localName],m=_v(o,d,n);m!==void 0&&(i[n.useProtoFieldName?o.name:o.jsonName]=m)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const d of t.runtime.bin.listUnknownFields(s)){const m=c.findExtensionFor(t.typeName,d.no);if(m&&_0(s,m)){const p=e1(s,m,n),v=_v(m.field,p,n);v!==void 0&&(i[m.field.jsonName]=v)}}}catch(c){const d=o?`cannot encode field ${t.typeName}.${o.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,m=c instanceof Error?c.message:String(c);throw new Error(d+(m.length>0?`: ${m}`:""))}return i},readScalar(s,n,t){return bl(s,n,t??Ia.BIGINT,!0)},writeScalar(s,n,t){if(n!==void 0&&(t||Z0(s,n)))return cc(s,n)},debug:Hn}}function Hn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Qv(s,n,t,i,o){let c=t.localName;if(t.repeated){if(Qt(t.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${o.typeName}.${t.name} from JSON: ${Hn(n)}`);const d=s[c];for(const m of n){if(m===null)throw new Error(`cannot decode field ${o.typeName}.${t.name} from JSON: ${Hn(m)}`);switch(t.kind){case"message":d.push(t.T.fromJson(m,i));break;case"enum":const p=vd(t.T,m,i.ignoreUnknownFields,!0);p!==uc&&d.push(p);break;case"scalar":try{d.push(bl(t.T,m,t.L,!0))}catch(v){let b=`cannot decode field ${o.typeName}.${t.name} from JSON: ${Hn(m)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}}else if(t.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${o.typeName}.${t.name} from JSON: ${Hn(n)}`);const d=s[c];for(const[m,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${o.typeName}.${t.name} from JSON: map value null`);let v;try{v=s1(t.K,m)}catch(b){let x=`cannot decode map key for field ${o.typeName}.${t.name} from JSON: ${Hn(n)}`;throw b instanceof Error&&b.message.length>0&&(x+=`: ${b.message}`),new Error(x)}switch(t.V.kind){case"message":d[v]=t.V.T.fromJson(p,i);break;case"enum":const b=vd(t.V.T,p,i.ignoreUnknownFields,!0);b!==uc&&(d[v]=b);break;case"scalar":try{d[v]=bl(t.V.T,p,Ia.BIGINT,!0)}catch(x){let k=`cannot decode map value for field ${o.typeName}.${t.name} from JSON: ${Hn(n)}`;throw x instanceof Error&&x.message.length>0&&(k+=`: ${x.message}`),new Error(k)}break}}}else switch(t.oneof&&(s=s[t.oneof.localName]={case:c},c="value"),t.kind){case"message":const d=t.T;if(n===null&&d.typeName!="google.protobuf.Value")return;let m=s[c];Vi(m)?m.fromJson(n,i):(s[c]=m=d.fromJson(n,i),d.fieldWrapper&&!t.oneof&&(s[c]=d.fieldWrapper.unwrapField(m)));break;case"enum":const p=vd(t.T,n,i.ignoreUnknownFields,!1);switch(p){case dc:Xv(t,s);break;case uc:break;default:s[c]=p;break}break;case"scalar":try{const v=bl(t.T,n,t.L,!1);switch(v){case dc:Xv(t,s);break;default:s[c]=v;break}}catch(v){let b=`cannot decode field ${o.typeName}.${t.name} from JSON: ${Hn(n)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}function s1(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return bl(s,n,Ia.BIGINT,!0).toString()}function bl(s,n,t,i){if(n===null)return i?eo(s,t):dc;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const o=Number(n);if(Number.isNaN(o)||!Number.isFinite(o))break;return s==z.FLOAT&&H0(o),o;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?Ed(c):oc(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const d=Tt.parse(n);return t?d.toString():d;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const m=Tt.uParse(n);return t?m.toString():m;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return Sm.dec(n)}throw new Error}function vd(s,n,t,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:dc;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const o=s.findName(n);if(o!==void 0)return o.no;if(t)return uc;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Hn(n)}`)}function o1(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function _v(s,n,t){if(s.kind=="map"){Qt(typeof n=="object"&&n!=null);const i={},o=Object.entries(n);switch(s.V.kind){case"scalar":for(const[d,m]of o)i[d.toString()]=cc(s.V.T,m);break;case"message":for(const[d,m]of o)i[d.toString()]=m.toJson(t);break;case"enum":const c=s.V.T;for(const[d,m]of o)i[d.toString()]=Sd(c,m,t.enumAsInteger);break}return t.emitDefaultValues||o.length>0?i:void 0}if(s.repeated){Qt(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let o=0;o<n.length;o++)i.push(cc(s.T,n[o]));break;case"enum":for(let o=0;o<n.length;o++)i.push(Sd(s.T,n[o],t.enumAsInteger));break;case"message":for(let o=0;o<n.length;o++)i.push(n[o].toJson(t));break}return t.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return cc(s.T,n);case"enum":return Sd(s.T,n,t.enumAsInteger);case"message":return eS(s.T,n).toJson(t)}}function Sd(s,n,t){var i;if(Qt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(t)return n;const o=s.findNumber(n);return(i=o==null?void 0:o.name)!==null&&i!==void 0?i:n}function cc(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Qt(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Qt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Qt(typeof n=="string"),n;case z.BOOL:return Qt(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Qt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Qt(n instanceof Uint8Array),Sm.enc(n)}}const Ys=Symbol("@bufbuild/protobuf/unknown-fields"),Wv={readUnknownFields:!0,readerFactory:s=>new Qw(s)},t0={writeUnknownFields:!0,writerFactory:()=>new Zw};function l1(s){return s?Object.assign(Object.assign({},Wv),s):Wv}function u1(s){return s?Object.assign(Object.assign({},t0),s):t0}function c1(){return{makeReadOptions:l1,makeWriteOptions:u1,listUnknownFields(s){var n;return(n=s[Ys])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[Ys]},writeUnknownFields(s,n){const i=s[Ys];if(i)for(const o of i)n.tag(o.no,o.wireType).raw(o.data)},onUnknownField(s,n,t,i){const o=s;Array.isArray(o[Ys])||(o[Ys]=[]),o[Ys].push({no:n,wireType:t,data:i})},readMessage(s,n,t,i,o){const c=s.getType(),d=o?n.len:n.pos+t;let m,p;for(;n.pos<d&&([m,p]=n.tag(),!(o===!0&&p==ne.EndGroup));){const v=c.fields.find(m);if(!v){const b=n.skip(p,m);i.readUnknownFields&&this.onUnknownField(s,m,p,b);continue}e0(s,n,v,p,i)}if(o&&(p!=ne.EndGroup||m!==t))throw new Error("invalid end group tag")},readField:e0,writeMessage(s,n,t){const i=s.getType();for(const o of i.fields.byNumber()){if(!tS(o,s)){if(o.req)throw new Error(`cannot encode field ${i.typeName}.${o.name} to binary: required field not set`);continue}const c=o.oneof?s[o.oneof.localName].value:s[o.localName];n0(o,c,n,t)}return t.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,t,i){n!==void 0&&n0(s,n,t,i)}}}function e0(s,n,t,i,o){let{repeated:c,localName:d}=t;switch(t.oneof&&(s=s[t.oneof.localName],s.case!=d&&delete s.value,s.case=d,d="value"),t.kind){case"scalar":case"enum":const m=t.kind=="enum"?z.INT32:t.T;let p=mc;if(t.kind=="scalar"&&t.L>0&&(p=h1),c){let k=s[d];if(i==ne.LengthDelimited&&m!=z.STRING&&m!=z.BYTES){let V=n.uint32()+n.pos;for(;n.pos<V;)k.push(p(n,m))}else k.push(p(n,m))}else s[d]=p(n,m);break;case"message":const v=t.T;c?s[d].push(fc(n,new v,o,t)):Vi(s[d])?fc(n,s[d],o,t):(s[d]=fc(n,new v,o,t),v.fieldWrapper&&!t.oneof&&!t.repeated&&(s[d]=v.fieldWrapper.unwrapField(s[d])));break;case"map":let[b,x]=f1(t,n,o);s[d][b]=x;break}}function fc(s,n,t,i){const o=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return o.readMessage(n,s,c?i.no:s.uint32(),t,c),n}function f1(s,n,t){const i=n.uint32(),o=n.pos+i;let c,d;for(;n.pos<o;){const[m]=n.tag();switch(m){case 1:c=mc(n,s.K);break;case 2:switch(s.V.kind){case"scalar":d=mc(n,s.V.T);break;case"enum":d=n.int32();break;case"message":d=fc(n,new s.V.T,t,void 0);break}break}}if(c===void 0&&(c=eo(s.K,Ia.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),d===void 0)switch(s.V.kind){case"scalar":d=eo(s.V.T,Ia.BIGINT);break;case"enum":d=s.V.T.values[0].no;break;case"message":d=new s.V.T;break}return[c,d]}function h1(s,n){const t=mc(s,n);return typeof t=="bigint"?t.toString():t}function mc(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function n0(s,n,t,i){Qt(n!==void 0);const o=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(o)if(Qt(Array.isArray(n)),s.packed)m1(t,c,s.no,n);else for(const d of n)Tl(t,c,s.no,d);else Tl(t,c,s.no,n);break;case"message":if(o){Qt(Array.isArray(n));for(const d of n)r0(t,i,s,d)}else r0(t,i,s,n);break;case"map":Qt(typeof n=="object"&&n!=null);for(const[d,m]of Object.entries(n))d1(t,i,s,d,m);break}}function d1(s,n,t,i,o){s.tag(t.no,ne.LengthDelimited),s.fork();let c=i;switch(t.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(i);break;case z.BOOL:Qt(i=="true"||i=="false"),c=i=="true";break}switch(Tl(s,t.K,1,c),t.V.kind){case"scalar":Tl(s,t.V.T,2,o);break;case"enum":Tl(s,z.INT32,2,o);break;case"message":Qt(o!==void 0),s.tag(2,ne.LengthDelimited).bytes(o.toBinary(n));break}s.join()}function r0(s,n,t,i){const o=eS(t.T,i);t.delimited?s.tag(t.no,ne.StartGroup).raw(o.toBinary(n)).tag(t.no,ne.EndGroup):s.tag(t.no,ne.LengthDelimited).bytes(o.toBinary(n))}function Tl(s,n,t,i){Qt(i!==void 0);let[o,c]=nS(n);s.tag(t,o)[c](i)}function m1(s,n,t,i){if(!i.length)return;s.tag(t,ne.LengthDelimited).fork();let[,o]=nS(n);for(let c=0;c<i.length;c++)s[o](i[c]);s.join()}function nS(s){let n=ne.Varint;switch(s){case z.BYTES:case z.STRING:n=ne.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=ne.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=ne.Bit32;break}const t=z[s].toLowerCase();return[n,t]}function g1(){return{setEnumType:$0,initPartial(s,n){if(s===void 0)return;const t=n.getType();for(const i of t.fields.byMember()){const o=i.localName,c=n,d=s;if(d[o]!=null)switch(i.kind){case"oneof":const m=d[o].case;if(m===void 0)continue;const p=i.findField(m);let v=d[o].value;p&&p.kind=="message"&&!Vi(v,p.T)?v=new p.T(v):p&&p.kind==="scalar"&&p.T===z.BYTES&&(v=ml(v)),c[o]={case:m,value:v};break;case"scalar":case"enum":let b=d[o];i.T===z.BYTES&&(b=i.repeated?b.map(ml):ml(b)),c[o]=b;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===z.BYTES)for(const[O,V]of Object.entries(d[o]))c[o][O]=ml(V);else Object.assign(c[o],d[o]);break;case"message":const k=i.V.T;for(const O of Object.keys(d[o])){let V=d[o][O];k.fieldWrapper||(V=new k(V)),c[o][O]=V}break}break;case"message":const x=i.T;if(i.repeated)c[o]=d[o].map(k=>Vi(k,x)?k:new x(k));else{const k=d[o];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?c[o]=ml(k):c[o]=k:c[o]=Vi(k,x)?k:new x(k)}break}}},equals(s,n,t){return n===t?!0:!n||!t?!1:s.fields.byMember().every(i=>{const o=n[i.localName],c=t[i.localName];if(i.repeated){if(o.length!==c.length)return!1;switch(i.kind){case"message":return o.every((d,m)=>i.T.equals(d,c[m]));case"scalar":return o.every((d,m)=>wa(i.T,d,c[m]));case"enum":return o.every((d,m)=>wa(z.INT32,d,c[m]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let d=o,m=c;return i.T.fieldWrapper&&(d!==void 0&&!Vi(d)&&(d=i.T.fieldWrapper.wrapField(d)),m!==void 0&&!Vi(m)&&(m=i.T.fieldWrapper.wrapField(m))),i.T.equals(d,m);case"enum":return wa(z.INT32,o,c);case"scalar":return wa(i.T,o,c);case"oneof":if(o.case!==c.case)return!1;const p=i.findField(o.case);if(p===void 0)return!0;switch(p.kind){case"message":return p.T.equals(o.value,c.value);case"enum":return wa(z.INT32,o.value,c.value);case"scalar":return wa(p.T,o.value,c.value)}throw new Error(`oneof cannot contain ${p.kind}`);case"map":const v=Object.keys(o).concat(Object.keys(c));switch(i.V.kind){case"message":const b=i.V.T;return v.every(k=>b.equals(o[k],c[k]));case"enum":return v.every(k=>wa(z.INT32,o[k],c[k]));case"scalar":const x=i.V.T;return v.every(k=>wa(x,o[k],c[k]))}break}})},clone(s){const n=s.getType(),t=new n,i=t;for(const o of n.fields.byMember()){const c=s[o.localName];let d;if(o.repeated)d=c.map(tc);else if(o.kind=="map"){d=i[o.localName];for(const[m,p]of Object.entries(c))d[m]=tc(p)}else o.kind=="oneof"?d=o.findField(c.case)?{case:c.case,value:tc(c.value)}:{case:void 0}:d=tc(c);i[o.localName]=d}for(const o of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,o.no,o.wireType,o.data);return t}}}function tc(s){if(s===void 0)return s;if(Vi(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function ml(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function y1(s,n,t){return{syntax:s,json:a1(),bin:c1(),util:Object.assign(Object.assign({},g1()),{newFieldList:n,initFields:t}),makeMessageType(i,o,c){return jw(this,i,o,c)},makeEnum:Hw,makeEnumType:Y0,getEnumType:Vw,makeExtension(i,o,c){return _w(this,i,o,c)}}}class p1{constructor(n,t){this._fields=n,this._normalizer=t}findJsonName(n){if(!this.jsonNames){const t={};for(const i of this.list())t[i.jsonName]=t[i.name]=i;this.jsonNames=t}return this.jsonNames[n]}find(n){if(!this.numbers){const t={};for(const i of this.list())t[i.no]=i;this.numbers=t}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,t)=>n.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let t;for(const i of this.list())i.oneof?i.oneof!==t&&(t=i.oneof,n.push(t)):n.push(i)}return this.members}}function rS(s,n){const t=iS(s);return n?t:A1(w1(t))}function v1(s){return rS(s,!1)}const S1=iS;function iS(s){let n=!1;const t=[];for(let i=0;i<s.length;i++){let o=s.charAt(i);switch(o){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(o),n=!1;break;default:n&&(n=!1,o=o.toUpperCase()),t.push(o);break}}return t.join("")}const b1=new Set(["constructor","toString","toJSON","valueOf"]),T1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),aS=s=>`${s}$`,w1=s=>T1.has(s)?aS(s):s,A1=s=>b1.has(s)?aS(s):s;class E1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=v1(n)}addField(n){Qt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[n]}}function x1(s,n){var t,i,o,c,d,m;const p=[];let v;for(const b of typeof s=="function"?s():s){const x=b;if(x.localName=rS(b.name,b.oneof!==void 0),x.jsonName=(t=b.jsonName)!==null&&t!==void 0?t:S1(b.name),x.repeated=(i=b.repeated)!==null&&i!==void 0?i:!1,b.kind=="scalar"&&(x.L=(o=b.L)!==null&&o!==void 0?o:Ia.BIGINT),x.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,x.req=(d=b.req)!==null&&d!==void 0?d:!1,x.opt=(m=b.opt)!==null&&m!==void 0?m:!1,b.packed===void 0&&(x.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=z.BYTES&&b.T!=z.STRING),b.oneof!==void 0){const k=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!v||v.name!=k)&&(v=new E1(k)),x.oneof=v,v.addField(x)}p.push(x)}return p}const y=y1("proto3",s=>new p1(s,n=>x1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const t=n.localName,i=s;if(n.repeated){i[t]=[];continue}switch(n.kind){case"oneof":i[t]={case:void 0};break;case"enum":i[t]=0;break;case"map":i[t]={};break;case"scalar":i[t]=eo(n.T,n.L);break}}});var Zt;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Zt||(Zt={}));var i0;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(i0||(i0={}));class me extends K{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,y.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${y.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const o=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(o))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Tt.parse(o/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const o=(this.nanos+1e9).toString().substring(1);o.substring(3)==="000000"?i="."+o.substring(0,3)+"Z":o.substring(6)==="000"?i="."+o.substring(0,6)+"Z":i="."+o+"Z"}return new Date(t).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return me.fromDate(new Date)}static fromDate(n){const t=n.getTime();return new me({seconds:Tt.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(n,t){return new me().fromBinary(n,t)}static fromJson(n,t){return new me().fromJson(n,t)}static fromJsonString(n,t){return new me().fromJsonString(n,t)}static equals(n,t){return y.util.equals(me,n,t)}}me.runtime=y;me.typeName="google.protobuf.Timestamp";me.fields=y.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Hi extends K{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,y.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${y.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${y.json.debug(n)}`);const o=Number(i[1]);if(o>315576e6||o<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${y.json.debug(n)}`);if(this.seconds=Tt.parse(o),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(o<0||Object.is(o,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),t+="."+i,this.nanos<0&&Number(this.seconds)==0&&(t="-"+t)}return t+"s"}static fromBinary(n,t){return new Hi().fromBinary(n,t)}static fromJson(n,t){return new Hi().fromJson(n,t)}static fromJsonString(n,t){return new Hi().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Hi,n,t)}}Hi.runtime=y;Hi.typeName="google.protobuf.Duration";Hi.fields=y.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class jn extends K{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),y.util.initPartial(n,this)}toJson(n){var t;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),o=(t=n==null?void 0:n.typeRegistry)===null||t===void 0?void 0:t.findMessage(i);if(!o)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=o.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(n,t){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const o=n["@type"];if(typeof o!="string"||o=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(o),d=(i=t==null?void 0:t.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${o} is not in the type registry`);let m;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))m=d.fromJson(n.value,t);else{const p=Object.assign({},n);delete p["@type"],m=d.fromJson(p,t)}return this.packFrom(m),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const t=n.findMessage(this.typeUrlToName(this.typeUrl));if(t)return t.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const t=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,t===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const t=n.lastIndexOf("/"),i=t>=0?n.substring(t+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const t=new jn;return t.packFrom(n),t}static fromBinary(n,t){return new jn().fromBinary(n,t)}static fromJson(n,t){return new jn().fromJson(n,t)}static fromJsonString(n,t){return new jn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(jn,n,t)}}jn.runtime=y;jn.typeName="google.protobuf.Any";jn.fields=y.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class $n extends K{constructor(n){super(),this.value=0,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.DOUBLE,n)}catch(i){let o='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new $n().fromBinary(n,t)}static fromJson(n,t){return new $n().fromJson(n,t)}static fromJsonString(n,t){return new $n().fromJsonString(n,t)}static equals(n,t){return y.util.equals($n,n,t)}}$n.runtime=y;$n.typeName="google.protobuf.DoubleValue";$n.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};class Yn extends K{constructor(n){super(),this.value=0,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.FLOAT,n)}catch(i){let o='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new Yn().fromBinary(n,t)}static fromJson(n,t){return new Yn().fromJson(n,t)}static fromJsonString(n,t){return new Yn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Yn,n,t)}}Yn.runtime=y;Yn.typeName="google.protobuf.FloatValue";Yn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class vn extends K{constructor(n){super(),this.value=Tt.zero,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.INT64,n)}catch(i){let o='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new vn().fromBinary(n,t)}static fromJson(n,t){return new vn().fromJson(n,t)}static fromJsonString(n,t){return new vn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(vn,n,t)}}vn.runtime=y;vn.typeName="google.protobuf.Int64Value";vn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);vn.fieldWrapper={wrapField(s){return new vn({value:s})},unwrapField(s){return s.value}};class Sn extends K{constructor(n){super(),this.value=Tt.zero,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.UINT64,n)}catch(i){let o='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new Sn().fromBinary(n,t)}static fromJson(n,t){return new Sn().fromJson(n,t)}static fromJsonString(n,t){return new Sn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Sn,n,t)}}Sn.runtime=y;Sn.typeName="google.protobuf.UInt64Value";Sn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Sn.fieldWrapper={wrapField(s){return new Sn({value:s})},unwrapField(s){return s.value}};class Xe extends K{constructor(n){super(),this.value=0,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.INT32,n)}catch(i){let o='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new Xe().fromBinary(n,t)}static fromJson(n,t){return new Xe().fromJson(n,t)}static fromJsonString(n,t){return new Xe().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Xe,n,t)}}Xe.runtime=y;Xe.typeName="google.protobuf.Int32Value";Xe.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Gn extends K{constructor(n){super(),this.value=0,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.UINT32,n)}catch(i){let o='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new Gn().fromBinary(n,t)}static fromJson(n,t){return new Gn().fromJson(n,t)}static fromJsonString(n,t){return new Gn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Gn,n,t)}}Gn.runtime=y;Gn.typeName="google.protobuf.UInt32Value";Gn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class bn extends K{constructor(n){super(),this.value=!1,y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.BOOL,n)}catch(i){let o='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new bn().fromBinary(n,t)}static fromJson(n,t){return new bn().fromJson(n,t)}static fromJsonString(n,t){return new bn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(bn,n,t)}}bn.runtime=y;bn.typeName="google.protobuf.BoolValue";bn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);bn.fieldWrapper={wrapField(s){return new bn({value:s})},unwrapField(s){return s.value}};class ae extends K{constructor(n){super(),this.value="",y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.STRING,n)}catch(i){let o='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new ae().fromBinary(n,t)}static fromJson(n,t){return new ae().fromJson(n,t)}static fromJsonString(n,t){return new ae().fromJsonString(n,t)}static equals(n,t){return y.util.equals(ae,n,t)}}ae.runtime=y;ae.typeName="google.protobuf.StringValue";ae.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ae.fieldWrapper={wrapField(s){return new ae({value:s})},unwrapField(s){return s.value}};class Xn extends K{constructor(n){super(),this.value=new Uint8Array(0),y.util.initPartial(n,this)}toJson(n){return y.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,t){try{this.value=y.json.readScalar(z.BYTES,n)}catch(i){let o='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(o+=`: ${i.message}`),new Error(o)}return this}static fromBinary(n,t){return new Xn().fromBinary(n,t)}static fromJson(n,t){return new Xn().fromJson(n,t)}static fromJsonString(n,t){return new Xn().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Xn,n,t)}}Xn.runtime=y;Xn.typeName="google.protobuf.BytesValue";Xn.fields=y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Xn.fieldWrapper={wrapField(s){return new Xn({value:s})},unwrapField(s){return s.value}};function N1(s,n,t){try{const i=Sm.dec(s);return n?n.fromBinary(i,t):i}catch(i){throw Ut.from(i,St.DataLoss)}}function D1(s,n){const t={};for(const[i,o]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},o),{localName:i,service:s}));c!=null&&(t[i]=c)}return t}const a0=1;function s0(s){let n,t=new Uint8Array(0);function i(o){const c=new Uint8Array(t.length+o.length);c.set(t),c.set(o,t.length),t=c}return new ReadableStream({start(){n=s.getReader()},async pull(o){let c;for(;;){if(c===void 0&&t.byteLength>=5){let p=0;for(let v=1;v<5;v++)p=(p<<8)+t[v];c={flags:t[0],length:p}}if(c!==void 0&&t.byteLength>=c.length+5)break;const m=await n.read();if(m.done)break;i(m.value)}if(c===void 0){if(t.byteLength==0){o.close();return}o.error(new Ut("premature end of stream",St.DataLoss));return}const d=t.subarray(5,5+c.length);t=t.subarray(5+c.length),o.enqueue({flags:c.flags,data:d})}})}function o0(s,n){const t=new Uint8Array(n.length+5);t.set(n,5);const i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),t}var k1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(m,p){d=s[c](d),o(m,p,d.done,d.value)})}}function o(c,d,m,p){Promise.resolve(p).then(function(v){c({value:v,done:m})},d)}},Nl=function(s){return this instanceof Nl?(this.v=s,this):new Nl(s)},O1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(O){return function(V){return Promise.resolve(V).then(O,x)}}function m(O,V){i[O]&&(o[O]=function(q){return new Promise(function(j,_){c.push([O,q,j,_])>1||p(O,q)})},V&&(o[O]=V(o[O])))}function p(O,V){try{v(i[O](V))}catch(q){k(c[0][3],q)}}function v(O){O.value instanceof Nl?Promise.resolve(O.value.v).then(b,x):k(c[0][2],O)}function b(O){p("next",O)}function x(O){p("throw",O)}function k(O,V){O(V),c.shift(),c.length&&p(c[0][0],c[0][1])}},C1=function(s){var n,t;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,c){n[o]=s[o]?function(d){return(t=!t)?{value:Nl(s[o](d)),done:!1}:c?c(d):d}:c}};function I1(s){return O1(this,arguments,function*(){yield Nl(yield*C1(k1(s)))})}var sS=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(m,p){d=s[c](d),o(m,p,d.done,d.value)})}}function o(c,d,m,p){Promise.resolve(p).then(function(v){c({value:v,done:m})},d)}},no=function(s){return this instanceof no?(this.v=s,this):new no(s)},B1=function(s){var n,t;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,c){n[o]=s[o]?function(d){return(t=!t)?{value:no(s[o](d)),done:!1}:c?c(d):d}:c}},R1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(O){return function(V){return Promise.resolve(V).then(O,x)}}function m(O,V){i[O]&&(o[O]=function(q){return new Promise(function(j,_){c.push([O,q,j,_])>1||p(O,q)})},V&&(o[O]=V(o[O])))}function p(O,V){try{v(i[O](V))}catch(q){k(c[0][3],q)}}function v(O){O.value instanceof no?Promise.resolve(O.value.v).then(b,x):k(c[0][2],O)}function b(O){p("next",O)}function x(O){p("throw",O)}function k(O,V){O(V),c.shift(),c.length&&p(c[0][0],c[0][1])}};function z1(s,n){return D1(s,t=>{switch(t.kind){case Zt.Unary:return M1(n,s,t);case Zt.ServerStreaming:return U1(n,s,t);case Zt.ClientStreaming:return L1(n,s,t);case Zt.BiDiStreaming:return J1(n,s,t);default:return null}})}function M1(s,n,t){return async function(i,o){var c,d;const m=await s.unary(n,t,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,i,o==null?void 0:o.contextValues);return(c=o==null?void 0:o.onHeader)===null||c===void 0||c.call(o,m.header),(d=o==null?void 0:o.onTrailer)===null||d===void 0||d.call(o,m.trailer),m.message}}function U1(s,n,t){return function(i,o){return oS(s.stream(n,t,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,I1([i]),o==null?void 0:o.contextValues),o)}}function L1(s,n,t){return async function(i,o){var c,d,m,p,v,b;const x=await s.stream(n,t,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,i,o==null?void 0:o.contextValues);(v=o==null?void 0:o.onHeader)===null||v===void 0||v.call(o,x.header);let k,O=0;try{for(var V=!0,q=sS(x.message),j;j=await q.next(),c=j.done,!c;V=!0)p=j.value,V=!1,k=p,O++}catch(_){d={error:_}}finally{try{!V&&!c&&(m=q.return)&&await m.call(q)}finally{if(d)throw d.error}}if(!k)throw new Ut("protocol error: missing response message",St.Unimplemented);if(O>1)throw new Ut("protocol error: received extra messages for client streaming method",St.Unimplemented);return(b=o==null?void 0:o.onTrailer)===null||b===void 0||b.call(o,x.trailer),k}}function J1(s,n,t){return function(i,o){return oS(s.stream(n,t,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,i,o==null?void 0:o.contextValues),o)}}function oS(s,n){const t=function(){return R1(this,arguments,function*(){var i,o;const c=yield no(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield no(yield*B1(sS(c.message))),(o=n==null?void 0:n.onTrailer)===null||o===void 0||o.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>t.next()})}}function q1(...s){const n=new AbortController,t=s.filter(o=>o!==void 0).concat(n.signal);for(const o of t){if(o.aborted){i.apply(o);break}o.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort(lS(this));for(const o of t)o.removeEventListener("abort",i)}return n}function P1(s){const n=new AbortController,t=()=>{n.abort(new Ut("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?t():i=setTimeout(t,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function lS(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function l0(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const bd=128;function u0(s){const n=new Headers,t=new TextDecoder().decode(s).split(`\r
`);for(const i of t){if(i==="")continue;const o=i.indexOf(":");if(o>0){const c=i.substring(0,o).trim(),d=i.substring(o+1).trim();n.append(c,d)}}return n}const K1="Content-Type",V1="Grpc-Timeout",ro="Grpc-Status",uS="Grpc-Message",H1="Grpc-Status-Details-Bin",j1="X-User-Agent",$1="X-Grpc-Web",Y1="application/grpc-web+proto",G1="application/grpc-web+json";class ji extends K{constructor(n){super(),this.code=0,this.message="",this.details=[],y.util.initPartial(n,this)}static fromBinary(n,t){return new ji().fromBinary(n,t)}static fromJson(n,t){return new ji().fromJson(n,t)}static fromJsonString(n,t){return new ji().fromJsonString(n,t)}static equals(n,t){return y.util.equals(ji,n,t)}}ji.runtime=y;ji.typeName="google.rpc.Status";ji.fields=y.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:jn,repeated:!0}]);const X1="0";function cS(s){var n;const t=s.get(H1);if(t!=null){const o=N1(t,ji);if(o.code==0)return;const c=new Ut(o.message,o.code,s);return c.details=o.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),c}const i=s.get(ro);if(i!=null){if(i===X1)return;const o=parseInt(i,10);return o in St?new Ut(decodeURIComponent((n=s.get(uS))!==null&&n!==void 0?n:""),o,s):new Ut(`invalid grpc-status: ${i}`,St.Internal,s)}}function c0(s,n,t){const i=typeof n=="string"?n:n.typeName,o=typeof t=="string"?t:t.name;return s.toString().replace(/\/?$/,`/${i}/${o}`)}function fS(s,n){return n instanceof s?n:new s(n)}function F1(s,n){function t(i){return i.done===!0?i:{done:i.done,value:fS(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),o={next:()=>i.next().then(t)};return i.throw!==void 0&&(o.throw=c=>i.throw(c).then(t)),i.return!==void 0&&(o.return=c=>i.return(c).then(t)),o}}}function hS(s,n){var t;return(t=n==null?void 0:n.concat().reverse().reduce((i,o)=>o(i),s))!==null&&t!==void 0?t:s}function Z1(s){var n;const t=Object.assign({},s);return(n=t.ignoreUnknownFields)!==null&&n!==void 0||(t.ignoreUnknownFields=!0),t}function f0(s,n,t,i){const o=n?h0(s.I,i):d0(s.I,t);return{parse:(n?h0(s.O,i):d0(s.O,t)).parse,serialize:o.serialize}}function h0(s,n){return{parse(t){try{return s.fromBinary(t,n)}catch(i){const o=i instanceof Error?i.message:String(i);throw new Ut(`parse binary: ${o}`,St.Internal)}},serialize(t){try{return t.toBinary(n)}catch(i){const o=i instanceof Error?i.message:String(i);throw new Ut(`serialize binary: ${o}`,St.Internal)}}}}function d0(s,n){var t,i;const o=(t=n==null?void 0:n.textEncoder)!==null&&t!==void 0?t:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=Z1(n);return{parse(m){try{const p=c.decode(m);return s.fromJsonString(p,d)}catch(p){throw Ut.from(p,St.InvalidArgument)}},serialize(m){try{const p=m.toJsonString(d);return o.encode(p)}catch(p){throw Ut.from(p,St.Internal)}}}}function Q1(s){const n=hS(s.next,s.interceptors),[t,i,o]=dS(s),c=Object.assign(Object.assign({},s.req),{message:fS(s.req.method.I,s.req.message),signal:t});return n(c).then(d=>(o(),d),i)}function _1(s){const n=hS(s.next,s.interceptors),[t,i,o]=dS(s),c=Object.assign(Object.assign({},s.req),{message:F1(s.req.method.I,s.req.message),signal:t});let d=!1;return t.addEventListener("abort",function(){var m,p;const v=s.req.message[Symbol.asyncIterator]();d||(m=v.throw)===null||m===void 0||m.call(v,this.reason).catch(()=>{}),(p=v.return)===null||p===void 0||p.call(v).catch(()=>{})}),n(c).then(m=>Object.assign(Object.assign({},m),{message:{[Symbol.asyncIterator](){const p=m.message[Symbol.asyncIterator]();return{next(){return p.next().then(v=>(v.done==!0&&(d=!0,o()),v),i)}}}}}),i)}function dS(s){const{signal:n,cleanup:t}=P1(s.timeoutMs),i=q1(s.signal,n);return[i.signal,function(c){const d=Ut.from(n.aborted?lS(n):c);return i.abort(d),t(),Promise.reject(d)},function(){t(),i.abort()}]}function W1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function m0(s,n){const t=cS(s);if(t)throw n.forEach((i,o)=>{t.metadata.append(o,i)}),t;if(!n.has(ro)&&!s.has(ro))throw new Ut("protocol error: missing status",St.Internal)}function g0(s,n,t,i){const o=new Headers(t??{});return o.set(K1,s?Y1:G1),o.set($1,"1"),o.set(j1,"connect-es/1.6.1"),n!==void 0&&o.set(V1,`${n}m`),o}function tA(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function y0(s,n){var t;if(s>=200&&s<300)return{foundStatus:n.has(ro),headerError:cS(n)};throw new Ut(decodeURIComponent((t=n.get(uS))!==null&&t!==void 0?t:`HTTP ${s}`),tA(s),n)}var ts=function(s){return this instanceof ts?(this.v=s,this):new ts(s)},eA=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(O){return function(V){return Promise.resolve(V).then(O,x)}}function m(O,V){i[O]&&(o[O]=function(q){return new Promise(function(j,_){c.push([O,q,j,_])>1||p(O,q)})},V&&(o[O]=V(o[O])))}function p(O,V){try{v(i[O](V))}catch(q){k(c[0][3],q)}}function v(O){O.value instanceof ts?Promise.resolve(O.value.v).then(b,x):k(c[0][2],O)}function b(O){p("next",O)}function x(O){p("throw",O)}function k(O,V){O(V),c.shift(),c.length&&p(c[0][0],c[0][1])}};function nA(s){var n;W1();const t=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,o,c,d,m,p,v){var b;const{serialize:x,parse:k}=f0(o,t,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await Q1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!1,service:i,method:o,url:c0(s.baseUrl,i,o),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:g0(t,d,m),contextValues:v??l0(),message:p},next:async O=>{var V;const j=await((V=s.fetch)!==null&&V!==void 0?V:globalThis.fetch)(O.url,Object.assign(Object.assign({},O.init),{headers:O.header,signal:O.signal,body:o0(0,x(O.message))})),{headerError:_}=y0(j.status,j.headers);if(!j.body)throw _!==void 0?_:"missing response body";const lt=s0(j.body).getReader();let ct,gt;for(;;){const et=await lt.read();if(et.done)break;const{flags:nt,data:yt}=et.value;if((nt&a0)===a0)throw new Ut("protocol error: received unsupported compressed output",St.Internal);if(nt===bd){if(ct!==void 0)throw"extra trailer";ct=u0(yt);continue}if(gt!==void 0)throw new Ut("extra message",St.Unimplemented);gt=k(yt)}if(ct===void 0)throw _!==void 0?_:new Ut("missing trailer",j.headers.has(ro)?St.Unimplemented:St.Unknown);if(m0(ct,j.headers),gt===void 0)throw new Ut("missing message",ct.has(ro)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:o,header:j.headers,message:gt,trailer:ct}}})},async stream(i,o,c,d,m,p,v){var b;const{serialize:x,parse:k}=f0(o,t,s.jsonOptions,s.binaryOptions);function O(q,j,_,lt,ct){return eA(this,arguments,function*(){const et=s0(q).getReader();if(j){if(!(yield ts(et.read())).done)throw"extra data for trailers-only";return yield ts(void 0)}let nt=!1;for(;;){const yt=yield ts(et.read());if(yt.done)break;const{flags:At,data:Et}=yt.value;if((At&bd)===bd){if(nt)throw"extra trailer";nt=!0;const se=u0(Et);m0(se,lt),se.forEach((ke,_t)=>_.set(_t,ke));continue}if(nt)throw"extra message";yield yield ts(k(Et))}if("throwIfAborted"in ct&&ct.throwIfAborted(),!nt)throw"missing trailer"})}async function V(q){if(o.kind!=Zt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const j=await q[Symbol.asyncIterator]().next();if(j.done==!0)throw"missing request message";return o0(0,x(j.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,_1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!0,service:i,method:o,url:c0(s.baseUrl,i,o),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:g0(t,d,m),contextValues:v??l0(),message:p},next:async q=>{var j;const lt=await((j=s.fetch)!==null&&j!==void 0?j:globalThis.fetch)(q.url,Object.assign(Object.assign({},q.init),{headers:q.header,signal:q.signal,body:await V(q.message)})),{foundStatus:ct,headerError:gt}=y0(lt.status,lt.headers);if(gt!=null)throw gt;if(!lt.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},q),{header:lt.headers,trailer:et,message:O(lt.body,ct,et,lt.headers,q.signal)})}})}}}var ft=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ft||{});y.util.setEnumType(ft,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var io=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(io||{});y.util.setEnumType(io,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const pr=class pr extends K{constructor(t){super();h(this,"root");h(this,"presences",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new pr().fromBinary(t,i)}static fromJson(t,i){return new pr().fromJson(t,i)}static fromJsonString(t,i){return new pr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(pr,t,i)}};h(pr,"runtime",y),h(pr,"typeName","yorkie.v1.Snapshot"),h(pr,"fields",y.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Le},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:so}}]));let xd=pr;var cn;let Zi=(cn=class extends K{constructor(t){super();h(this,"documentKey","");h(this,"checkpoint");h(this,"snapshot",new Uint8Array(0));h(this,"changes",[]);h(this,"minSyncedTicket");h(this,"isRemoved",!1);h(this,"versionVector");y.util.initPartial(t,this)}static fromBinary(t,i){return new cn().fromBinary(t,i)}static fromJson(t,i){return new cn().fromJson(t,i)}static fromJsonString(t,i){return new cn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(cn,t,i)}},h(cn,"runtime",y),h(cn,"typeName","yorkie.v1.ChangePack"),h(cn,"fields",y.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:yS},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:mS,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:Hc}])),cn);var fn;let mS=(fn=class extends K{constructor(t){super();h(this,"id");h(this,"message","");h(this,"operations",[]);h(this,"presenceChange");y.util.initPartial(t,this)}static fromBinary(t,i){return new fn().fromBinary(t,i)}static fromJson(t,i){return new fn().fromJson(t,i)}static fromJsonString(t,i){return new fn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(fn,t,i)}},h(fn,"runtime",y),h(fn,"typeName","yorkie.v1.Change"),h(fn,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Vc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:bm,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Ol}])),fn);var hn;let Vc=(hn=class extends K{constructor(t){super();h(this,"clientSeq",0);h(this,"serverSeq",Tt.zero);h(this,"lamport",Tt.zero);h(this,"actorId",new Uint8Array(0));h(this,"versionVector");y.util.initPartial(t,this)}static fromBinary(t,i){return new hn().fromBinary(t,i)}static fromJson(t,i){return new hn().fromJson(t,i)}static fromJsonString(t,i){return new hn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(hn,t,i)}},h(hn,"runtime",y),h(hn,"typeName","yorkie.v1.ChangeID"),h(hn,"fields",y.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:Hc}])),hn);var dn;let Hc=(dn=class extends K{constructor(t){super();h(this,"vector",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new dn().fromBinary(t,i)}static fromJson(t,i){return new dn().fromJson(t,i)}static fromJsonString(t,i){return new dn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(dn,t,i)}},h(dn,"runtime",y),h(dn,"typeName","yorkie.v1.VersionVector"),h(dn,"fields",y.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),dn);var mn;let bm=(mn=class extends K{constructor(t){super();h(this,"body",{case:void 0});y.util.initPartial(t,this)}static fromBinary(t,i){return new mn().fromBinary(t,i)}static fromJson(t,i){return new mn().fromJson(t,i)}static fromJsonString(t,i){return new mn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(mn,t,i)}},h(mn,"runtime",y),h(mn,"typeName","yorkie.v1.Operation"),h(mn,"fields",y.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:gc,oneof:"body"},{no:2,name:"add",kind:"message",T:yc,oneof:"body"},{no:3,name:"move",kind:"message",T:pc,oneof:"body"},{no:4,name:"remove",kind:"message",T:vc,oneof:"body"},{no:5,name:"edit",kind:"message",T:Sc,oneof:"body"},{no:7,name:"style",kind:"message",T:bc,oneof:"body"},{no:8,name:"increase",kind:"message",T:Tc,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:wc,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Ac,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Ec,oneof:"body"}])),mn);const vr=class vr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"key","");h(this,"value");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new vr().fromBinary(t,i)}static fromJson(t,i){return new vr().fromJson(t,i)}static fromJsonString(t,i){return new vr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(vr,t,i)}};h(vr,"runtime",y),h(vr,"typeName","yorkie.v1.Operation.Set"),h(vr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let gc=vr;const Sr=class Sr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"value");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Sr().fromBinary(t,i)}static fromJson(t,i){return new Sr().fromJson(t,i)}static fromJsonString(t,i){return new Sr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Sr,t,i)}};h(Sr,"runtime",y),h(Sr,"typeName","yorkie.v1.Operation.Add"),h(Sr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let yc=Sr;const br=class br extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"createdAt");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new br().fromBinary(t,i)}static fromJson(t,i){return new br().fromJson(t,i)}static fromJsonString(t,i){return new br().fromJsonString(t,i)}static equals(t,i){return y.util.equals(br,t,i)}};h(br,"runtime",y),h(br,"typeName","yorkie.v1.Operation.Move"),h(br,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let pc=br;const Tr=class Tr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Tr().fromBinary(t,i)}static fromJson(t,i){return new Tr().fromJson(t,i)}static fromJsonString(t,i){return new Tr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Tr,t,i)}};h(Tr,"runtime",y),h(Tr,"typeName","yorkie.v1.Operation.Remove"),h(Tr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let vc=Tr;const wr=class wr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"content","");h(this,"executedAt");h(this,"attributes",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new wr().fromBinary(t,i)}static fromJson(t,i){return new wr().fromJson(t,i)}static fromJsonString(t,i){return new wr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(wr,t,i)}};h(wr,"runtime",y),h(wr,"typeName","yorkie.v1.Operation.Edit"),h(wr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:is},{no:3,name:"to",kind:"message",T:is},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Sc=wr;const Ar=class Ar extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"createdAtMapByActor",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new Ar().fromBinary(t,i)}static fromJson(t,i){return new Ar().fromJson(t,i)}static fromJsonString(t,i){return new Ar().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ar,t,i)}};h(Ar,"runtime",y),h(Ar,"typeName","yorkie.v1.Operation.Style"),h(Ar,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:is},{no:3,name:"to",kind:"message",T:is},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let bc=Ar;const Er=class Er extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"value");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Er().fromBinary(t,i)}static fromJson(t,i){return new Er().fromJson(t,i)}static fromJsonString(t,i){return new Er().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Er,t,i)}};h(Er,"runtime",y),h(Er,"typeName","yorkie.v1.Operation.Increase"),h(Er,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:un},{no:3,name:"executed_at",kind:"message",T:Z}]));let Tc=Er;const xr=class xr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"contents",[]);h(this,"splitLevel",0);h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new xr().fromBinary(t,i)}static fromJson(t,i){return new xr().fromJson(t,i)}static fromJsonString(t,i){return new xr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(xr,t,i)}};h(xr,"runtime",y),h(xr,"typeName","yorkie.v1.Operation.TreeEdit"),h(xr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:ns},{no:3,name:"to",kind:"message",T:ns},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:Rc,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let wc=xr;const Nr=class Nr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"attributesToRemove",[]);h(this,"createdAtMapByActor",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new Nr().fromBinary(t,i)}static fromJson(t,i){return new Nr().fromJson(t,i)}static fromJsonString(t,i){return new Nr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Nr,t,i)}};h(Nr,"runtime",y),h(Nr,"typeName","yorkie.v1.Operation.TreeStyle"),h(Nr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:ns},{no:3,name:"to",kind:"message",T:ns},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let Ac=Nr;const Dr=class Dr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"value");h(this,"executedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Dr().fromBinary(t,i)}static fromJson(t,i){return new Dr().fromJson(t,i)}static fromJsonString(t,i){return new Dr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Dr,t,i)}};h(Dr,"runtime",y),h(Dr,"typeName","yorkie.v1.Operation.ArraySet"),h(Dr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let Ec=Dr;const kr=class kr extends K{constructor(t){super();h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");h(this,"type",0);h(this,"value",new Uint8Array(0));y.util.initPartial(t,this)}static fromBinary(t,i){return new kr().fromBinary(t,i)}static fromJson(t,i){return new kr().fromJson(t,i)}static fromJsonString(t,i){return new kr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(kr,t,i)}};h(kr,"runtime",y),h(kr,"typeName","yorkie.v1.JSONElementSimple"),h(kr,"fields",y.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:y.getEnumType(ft)},{no:5,name:"value",kind:"scalar",T:12}]));let un=kr;const Or=class Or extends K{constructor(t){super();h(this,"body",{case:void 0});y.util.initPartial(t,this)}static fromBinary(t,i){return new Or().fromBinary(t,i)}static fromJson(t,i){return new Or().fromJson(t,i)}static fromJsonString(t,i){return new Or().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Or,t,i)}};h(Or,"runtime",y),h(Or,"typeName","yorkie.v1.JSONElement"),h(Or,"fields",y.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:xc,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Nc,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Dc,oneof:"body"},{no:5,name:"text",kind:"message",T:kc,oneof:"body"},{no:6,name:"counter",kind:"message",T:Oc,oneof:"body"},{no:7,name:"tree",kind:"message",T:Cc,oneof:"body"}]));let Le=Or;const Cr=class Cr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Cr().fromBinary(t,i)}static fromJson(t,i){return new Cr().fromJson(t,i)}static fromJsonString(t,i){return new Cr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Cr,t,i)}};h(Cr,"runtime",y),h(Cr,"typeName","yorkie.v1.JSONElement.JSONObject"),h(Cr,"fields",y.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:gS,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let xc=Cr;const Ir=class Ir extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ir().fromBinary(t,i)}static fromJson(t,i){return new Ir().fromJson(t,i)}static fromJsonString(t,i){return new Ir().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ir,t,i)}};h(Ir,"runtime",y),h(Ir,"typeName","yorkie.v1.JSONElement.JSONArray"),h(Ir,"fields",y.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Ic,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let Nc=Ir;const Br=class Br extends K{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Br().fromBinary(t,i)}static fromJson(t,i){return new Br().fromJson(t,i)}static fromJsonString(t,i){return new Br().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Br,t,i)}};h(Br,"runtime",y),h(Br,"typeName","yorkie.v1.JSONElement.Primitive"),h(Br,"fields",y.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:y.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Dc=Br;const Rr=class Rr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Rr().fromBinary(t,i)}static fromJson(t,i){return new Rr().fromJson(t,i)}static fromJsonString(t,i){return new Rr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Rr,t,i)}};h(Rr,"runtime",y),h(Rr,"typeName","yorkie.v1.JSONElement.Text"),h(Rr,"fields",y.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Bc,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let kc=Rr;const zr=class zr extends K{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new zr().fromBinary(t,i)}static fromJson(t,i){return new zr().fromJson(t,i)}static fromJsonString(t,i){return new zr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(zr,t,i)}};h(zr,"runtime",y),h(zr,"typeName","yorkie.v1.JSONElement.Counter"),h(zr,"fields",y.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:y.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Oc=zr;const Mr=class Mr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Mr().fromBinary(t,i)}static fromJson(t,i){return new Mr().fromJson(t,i)}static fromJsonString(t,i){return new Mr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Mr,t,i)}};h(Mr,"runtime",y),h(Mr,"typeName","yorkie.v1.JSONElement.Tree"),h(Mr,"fields",y.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:kl,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let Cc=Mr;var gn;let gS=(gn=class extends K{constructor(t){super();h(this,"key","");h(this,"element");y.util.initPartial(t,this)}static fromBinary(t,i){return new gn().fromBinary(t,i)}static fromJson(t,i){return new gn().fromJson(t,i)}static fromJsonString(t,i){return new gn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(gn,t,i)}},h(gn,"runtime",y),h(gn,"typeName","yorkie.v1.RHTNode"),h(gn,"fields",y.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Le}])),gn);const Vn=class Vn extends K{constructor(t){super();h(this,"next");h(this,"element");y.util.initPartial(t,this)}static fromBinary(t,i){return new Vn().fromBinary(t,i)}static fromJson(t,i){return new Vn().fromJson(t,i)}static fromJsonString(t,i){return new Vn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Vn,t,i)}};h(Vn,"runtime",y),h(Vn,"typeName","yorkie.v1.RGANode"),h(Vn,"fields",y.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Vn},{no:2,name:"element",kind:"message",T:Le}]));let Ic=Vn;const Ur=class Ur extends K{constructor(t){super();h(this,"value","");h(this,"updatedAt");h(this,"isRemoved",!1);y.util.initPartial(t,this)}static fromBinary(t,i){return new Ur().fromBinary(t,i)}static fromJson(t,i){return new Ur().fromJson(t,i)}static fromJsonString(t,i){return new Ur().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ur,t,i)}};h(Ur,"runtime",y),h(Ur,"typeName","yorkie.v1.NodeAttr"),h(Ur,"fields",y.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let ao=Ur;const Lr=class Lr extends K{constructor(t){super();h(this,"id");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"attributes",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new Lr().fromBinary(t,i)}static fromJson(t,i){return new Lr().fromJson(t,i)}static fromJsonString(t,i){return new Lr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Lr,t,i)}};h(Lr,"runtime",y),h(Lr,"typeName","yorkie.v1.TextNode"),h(Lr,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Dl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:Dl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ao}}]));let Bc=Lr;const Jr=class Jr extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new Jr().fromBinary(t,i)}static fromJson(t,i){return new Jr().fromJson(t,i)}static fromJsonString(t,i){return new Jr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Jr,t,i)}};h(Jr,"runtime",y),h(Jr,"typeName","yorkie.v1.TextNodeID"),h(Jr,"fields",y.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let Dl=Jr;const qr=class qr extends K{constructor(t){super();h(this,"id");h(this,"type","");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"insNextId");h(this,"depth",0);h(this,"attributes",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new qr().fromBinary(t,i)}static fromJson(t,i){return new qr().fromJson(t,i)}static fromJsonString(t,i){return new qr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(qr,t,i)}};h(qr,"runtime",y),h(qr,"typeName","yorkie.v1.TreeNode"),h(qr,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Da},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:Da},{no:6,name:"ins_next_id",kind:"message",T:Da},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ao}}]));let kl=qr;const Pr=class Pr extends K{constructor(t){super();h(this,"content",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Pr().fromBinary(t,i)}static fromJson(t,i){return new Pr().fromJson(t,i)}static fromJsonString(t,i){return new Pr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Pr,t,i)}};h(Pr,"runtime",y),h(Pr,"typeName","yorkie.v1.TreeNodes"),h(Pr,"fields",y.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:kl,repeated:!0}]));let Rc=Pr;const Kr=class Kr extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new Kr().fromBinary(t,i)}static fromJson(t,i){return new Kr().fromJson(t,i)}static fromJsonString(t,i){return new Kr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Kr,t,i)}};h(Kr,"runtime",y),h(Kr,"typeName","yorkie.v1.TreeNodeID"),h(Kr,"fields",y.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let Da=Kr;const Vr=class Vr extends K{constructor(t){super();h(this,"parentId");h(this,"leftSiblingId");y.util.initPartial(t,this)}static fromBinary(t,i){return new Vr().fromBinary(t,i)}static fromJson(t,i){return new Vr().fromJson(t,i)}static fromJsonString(t,i){return new Vr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Vr,t,i)}};h(Vr,"runtime",y),h(Vr,"typeName","yorkie.v1.TreePos"),h(Vr,"fields",y.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Da},{no:2,name:"left_sibling_id",kind:"message",T:Da}]));let ns=Vr;const Hr=class Hr extends K{constructor(t){super();h(this,"id","");h(this,"authProvider","");h(this,"username","");h(this,"createdAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Hr().fromBinary(t,i)}static fromJson(t,i){return new Hr().fromJson(t,i)}static fromJsonString(t,i){return new Hr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Hr,t,i)}};h(Hr,"runtime",y),h(Hr,"typeName","yorkie.v1.User"),h(Hr,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:me}]));let p0=Hr;const jr=class jr extends K{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"publicKey","");h(this,"secretKey","");h(this,"authWebhookUrl","");h(this,"authWebhookMethods",[]);h(this,"authWebhookMaxRetries",Tt.zero);h(this,"authWebhookMinWaitInterval","");h(this,"authWebhookMaxWaitInterval","");h(this,"authWebhookRequestTimeout","");h(this,"eventWebhookUrl","");h(this,"eventWebhookEvents",[]);h(this,"eventWebhookMaxRetries",Tt.zero);h(this,"eventWebhookMinWaitInterval","");h(this,"eventWebhookMaxWaitInterval","");h(this,"eventWebhookRequestTimeout","");h(this,"clientDeactivateThreshold","");h(this,"snapshotThreshold",Tt.zero);h(this,"snapshotInterval",Tt.zero);h(this,"maxSubscribersPerDocument",0);h(this,"maxAttachmentsPerDocument",0);h(this,"maxSizePerDocument",0);h(this,"removeOnDetach",!1);h(this,"autoRevisionEnabled",!1);h(this,"allowedOrigins",[]);h(this,"createdAt");h(this,"updatedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new jr().fromBinary(t,i)}static fromJson(t,i){return new jr().fromJson(t,i)}static fromJsonString(t,i){return new jr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(jr,t,i)}};h(jr,"runtime",y),h(jr,"typeName","yorkie.v1.Project"),h(jr,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:17,name:"auth_webhook_max_retries",kind:"scalar",T:4},{no:18,name:"auth_webhook_min_wait_interval",kind:"scalar",T:9},{no:19,name:"auth_webhook_max_wait_interval",kind:"scalar",T:9},{no:20,name:"auth_webhook_request_timeout",kind:"scalar",T:9},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:21,name:"event_webhook_max_retries",kind:"scalar",T:4},{no:22,name:"event_webhook_min_wait_interval",kind:"scalar",T:9},{no:23,name:"event_webhook_max_wait_interval",kind:"scalar",T:9},{no:24,name:"event_webhook_request_timeout",kind:"scalar",T:9},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:25,name:"snapshot_threshold",kind:"scalar",T:3},{no:26,name:"snapshot_interval",kind:"scalar",T:3},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:16,name:"remove_on_detach",kind:"scalar",T:8},{no:27,name:"auto_revision_enabled",kind:"scalar",T:8},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:me},{no:13,name:"updated_at",kind:"message",T:me}]));let v0=jr;const $r=class $r extends K{constructor(t){super();h(this,"timestamp",Tt.zero);h(this,"value",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new $r().fromBinary(t,i)}static fromJson(t,i){return new $r().fromJson(t,i)}static fromJsonString(t,i){return new $r().fromJsonString(t,i)}static equals(t,i){return y.util.equals($r,t,i)}};h($r,"runtime",y),h($r,"typeName","yorkie.v1.MetricPoint"),h($r,"fields",y.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let S0=$r;const Yr=class Yr extends K{constructor(t){super();h(this,"name");h(this,"authWebhookUrl");h(this,"authWebhookMethods");h(this,"authWebhookMaxRetries");h(this,"authWebhookMinWaitInterval");h(this,"authWebhookMaxWaitInterval");h(this,"authWebhookRequestTimeout");h(this,"eventWebhookUrl");h(this,"eventWebhookEvents");h(this,"eventWebhookMaxRetries");h(this,"eventWebhookMinWaitInterval");h(this,"eventWebhookMaxWaitInterval");h(this,"eventWebhookRequestTimeout");h(this,"snapshotThreshold");h(this,"snapshotInterval");h(this,"clientDeactivateThreshold");h(this,"maxSubscribersPerDocument");h(this,"maxAttachmentsPerDocument");h(this,"maxSizePerDocument");h(this,"removeOnDetach");h(this,"autoRevisionEnabled");h(this,"allowedOrigins");y.util.initPartial(t,this)}static fromBinary(t,i){return new Yr().fromBinary(t,i)}static fromJson(t,i){return new Yr().fromJson(t,i)}static fromJsonString(t,i){return new Yr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Yr,t,i)}};h(Yr,"runtime",y),h(Yr,"typeName","yorkie.v1.UpdatableProjectFields"),h(Yr,"fields",y.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ae},{no:2,name:"auth_webhook_url",kind:"message",T:ae},{no:3,name:"auth_webhook_methods",kind:"message",T:Nd},{no:12,name:"auth_webhook_max_retries",kind:"message",T:Sn},{no:13,name:"auth_webhook_min_wait_interval",kind:"message",T:ae},{no:14,name:"auth_webhook_max_wait_interval",kind:"message",T:ae},{no:15,name:"auth_webhook_request_timeout",kind:"message",T:ae},{no:4,name:"event_webhook_url",kind:"message",T:ae},{no:5,name:"event_webhook_events",kind:"message",T:Dd},{no:16,name:"event_webhook_max_retries",kind:"message",T:Sn},{no:17,name:"event_webhook_min_wait_interval",kind:"message",T:ae},{no:18,name:"event_webhook_max_wait_interval",kind:"message",T:ae},{no:19,name:"event_webhook_request_timeout",kind:"message",T:ae},{no:20,name:"snapshot_threshold",kind:"message",T:vn},{no:21,name:"snapshot_interval",kind:"message",T:vn},{no:6,name:"client_deactivate_threshold",kind:"message",T:ae},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:11,name:"remove_on_detach",kind:"message",T:bn},{no:22,name:"auto_revision_enabled",kind:"message",T:bn},{no:9,name:"allowed_origins",kind:"message",T:kd}]));let b0=Yr;const Gr=class Gr extends K{constructor(t){super();h(this,"methods",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Gr().fromBinary(t,i)}static fromJson(t,i){return new Gr().fromJson(t,i)}static fromJsonString(t,i){return new Gr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Gr,t,i)}};h(Gr,"runtime",y),h(Gr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),h(Gr,"fields",y.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Nd=Gr;const Xr=class Xr extends K{constructor(t){super();h(this,"events",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Xr().fromBinary(t,i)}static fromJson(t,i){return new Xr().fromJson(t,i)}static fromJsonString(t,i){return new Xr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Xr,t,i)}};h(Xr,"runtime",y),h(Xr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),h(Xr,"fields",y.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let Dd=Xr;const Fr=class Fr extends K{constructor(t){super();h(this,"origins",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Fr().fromBinary(t,i)}static fromJson(t,i){return new Fr().fromJson(t,i)}static fromJsonString(t,i){return new Fr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Fr,t,i)}};h(Fr,"runtime",y),h(Fr,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),h(Fr,"fields",y.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let kd=Fr;const Zr=class Zr extends K{constructor(t){super();h(this,"id","");h(this,"key","");h(this,"root","");h(this,"attachedClients",0);h(this,"documentSize");h(this,"schemaKey","");h(this,"presences",{});h(this,"createdAt");h(this,"accessedAt");h(this,"updatedAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new Zr().fromBinary(t,i)}static fromJson(t,i){return new Zr().fromJson(t,i)}static fromJsonString(t,i){return new Zr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Zr,t,i)}};h(Zr,"runtime",y),h(Zr,"typeName","yorkie.v1.DocumentSummary"),h(Zr,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:Bd},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:so}},{no:4,name:"created_at",kind:"message",T:me},{no:5,name:"accessed_at",kind:"message",T:me},{no:6,name:"updated_at",kind:"message",T:me}]));let T0=Zr;const Qr=class Qr extends K{constructor(t){super();h(this,"type",0);h(this,"presence");y.util.initPartial(t,this)}static fromBinary(t,i){return new Qr().fromBinary(t,i)}static fromJson(t,i){return new Qr().fromJson(t,i)}static fromJsonString(t,i){return new Qr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Qr,t,i)}};h(Qr,"runtime",y),h(Qr,"typeName","yorkie.v1.PresenceChange"),h(Qr,"fields",y.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:y.getEnumType(rs)},{no:2,name:"presence",kind:"message",T:so}]));let Ol=Qr;var rs=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(rs||{});y.util.setEnumType(rs,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);const _r=class _r extends K{constructor(t){super();h(this,"data",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new _r().fromBinary(t,i)}static fromJson(t,i){return new _r().fromJson(t,i)}static fromJsonString(t,i){return new _r().fromJsonString(t,i)}static equals(t,i){return y.util.equals(_r,t,i)}};h(_r,"runtime",y),h(_r,"typeName","yorkie.v1.Presence"),h(_r,"fields",y.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let so=_r;const Wr=class Wr extends K{constructor(t){super();h(this,"key","");h(this,"presenceCount",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new Wr().fromBinary(t,i)}static fromJson(t,i){return new Wr().fromJson(t,i)}static fromJsonString(t,i){return new Wr().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Wr,t,i)}};h(Wr,"runtime",y),h(Wr,"typeName","yorkie.v1.ChannelSummary"),h(Wr,"fields",y.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"presence_count",kind:"scalar",T:5}]));let w0=Wr;var yn;let yS=(yn=class extends K{constructor(t){super();h(this,"serverSeq",Tt.zero);h(this,"clientSeq",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new yn().fromBinary(t,i)}static fromJson(t,i){return new yn().fromJson(t,i)}static fromJsonString(t,i){return new yn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(yn,t,i)}},h(yn,"runtime",y),h(yn,"typeName","yorkie.v1.Checkpoint"),h(yn,"fields",y.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),yn);const ti=class ti extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);h(this,"relativeOffset",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new ti().fromBinary(t,i)}static fromJson(t,i){return new ti().fromJson(t,i)}static fromJsonString(t,i){return new ti().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ti,t,i)}};h(ti,"runtime",y),h(ti,"typeName","yorkie.v1.TextNodePos"),h(ti,"fields",y.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let is=ti;var pn;let Z=(pn=class extends K{constructor(t){super();h(this,"lamport",Tt.zero);h(this,"delimiter",0);h(this,"actorId",new Uint8Array(0));y.util.initPartial(t,this)}static fromBinary(t,i){return new pn().fromBinary(t,i)}static fromJson(t,i){return new pn().fromJson(t,i)}static fromJsonString(t,i){return new pn().fromJsonString(t,i)}static equals(t,i){return y.util.equals(pn,t,i)}},h(pn,"runtime",y),h(pn,"typeName","yorkie.v1.TimeTicket"),h(pn,"fields",y.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),pn);const ei=class ei extends K{constructor(t){super();h(this,"topic","");h(this,"payload",new Uint8Array(0));y.util.initPartial(t,this)}static fromBinary(t,i){return new ei().fromBinary(t,i)}static fromJson(t,i){return new ei().fromJson(t,i)}static fromJsonString(t,i){return new ei().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ei,t,i)}};h(ei,"runtime",y),h(ei,"typeName","yorkie.v1.DocEventBody"),h(ei,"fields",y.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Od=ei;const ni=class ni extends K{constructor(t){super();h(this,"type",0);h(this,"publisher","");h(this,"body");y.util.initPartial(t,this)}static fromBinary(t,i){return new ni().fromBinary(t,i)}static fromJson(t,i){return new ni().fromJson(t,i)}static fromJsonString(t,i){return new ni().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ni,t,i)}};h(ni,"runtime",y),h(ni,"typeName","yorkie.v1.DocEvent"),h(ni,"fields",y.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:y.getEnumType(io)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Od}]));let Cd=ni;const ri=class ri extends K{constructor(t){super();h(this,"type",0);h(this,"publisher","");h(this,"count",Tt.zero);h(this,"seq",Tt.zero);h(this,"topic","");h(this,"payload",new Uint8Array(0));y.util.initPartial(t,this)}static fromBinary(t,i){return new ri().fromBinary(t,i)}static fromJson(t,i){return new ri().fromJson(t,i)}static fromJsonString(t,i){return new ri().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ri,t,i)}};h(ri,"runtime",y),h(ri,"typeName","yorkie.v1.ChannelEvent"),h(ri,"fields",y.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:y.getEnumType(jc)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"count",kind:"scalar",T:3},{no:4,name:"seq",kind:"scalar",T:3},{no:5,name:"topic",kind:"scalar",T:9},{no:6,name:"payload",kind:"scalar",T:12}]));let Id=ri;var jc=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PRESENCE=1]="PRESENCE",s[s.BROADCAST=2]="BROADCAST",s))(jc||{});y.util.setEnumType(jc,"yorkie.v1.ChannelEvent.Type",[{no:0,name:"TYPE_UNSPECIFIED"},{no:1,name:"TYPE_PRESENCE"},{no:2,name:"TYPE_BROADCAST"}]);const ii=class ii extends K{constructor(t){super();h(this,"data",0);h(this,"meta",0);y.util.initPartial(t,this)}static fromBinary(t,i){return new ii().fromBinary(t,i)}static fromJson(t,i){return new ii().fromJson(t,i)}static fromJsonString(t,i){return new ii().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ii,t,i)}};h(ii,"runtime",y),h(ii,"typeName","yorkie.v1.DataSize"),h(ii,"fields",y.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let zc=ii;const ai=class ai extends K{constructor(t){super();h(this,"live");h(this,"gc");y.util.initPartial(t,this)}static fromBinary(t,i){return new ai().fromBinary(t,i)}static fromJson(t,i){return new ai().fromJson(t,i)}static fromJsonString(t,i){return new ai().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ai,t,i)}};h(ai,"runtime",y),h(ai,"typeName","yorkie.v1.DocSize"),h(ai,"fields",y.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:zc},{no:2,name:"gc",kind:"message",T:zc}]));let Bd=ai;const si=class si extends K{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"version",0);h(this,"body","");h(this,"rules",[]);h(this,"createdAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new si().fromBinary(t,i)}static fromJson(t,i){return new si().fromJson(t,i)}static fromJsonString(t,i){return new si().fromJsonString(t,i)}static equals(t,i){return y.util.equals(si,t,i)}};h(si,"runtime",y),h(si,"typeName","yorkie.v1.Schema"),h(si,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:Mc,repeated:!0},{no:6,name:"created_at",kind:"message",T:me}]));let A0=si;const oi=class oi extends K{constructor(t){super();h(this,"path","");h(this,"type","");y.util.initPartial(t,this)}static fromBinary(t,i){return new oi().fromBinary(t,i)}static fromJson(t,i){return new oi().fromJson(t,i)}static fromJsonString(t,i){return new oi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(oi,t,i)}};h(oi,"runtime",y),h(oi,"typeName","yorkie.v1.Rule"),h(oi,"fields",y.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let Mc=oi;const li=class li extends K{constructor(t){super();h(this,"id","");h(this,"label","");h(this,"description","");h(this,"snapshot","");h(this,"createdAt");y.util.initPartial(t,this)}static fromBinary(t,i){return new li().fromBinary(t,i)}static fromJson(t,i){return new li().fromJson(t,i)}static fromJsonString(t,i){return new li().fromJsonString(t,i)}static equals(t,i){return y.util.equals(li,t,i)}};h(li,"runtime",y),h(li,"typeName","yorkie.v1.RevisionSummary"),h(li,"fields",y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"label",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"snapshot",kind:"scalar",T:9},{no:5,name:"created_at",kind:"message",T:me}]));let Uc=li;const ui=class ui extends K{constructor(t){super();h(this,"clientKey","");h(this,"metadata",{});y.util.initPartial(t,this)}static fromBinary(t,i){return new ui().fromBinary(t,i)}static fromJson(t,i){return new ui().fromJson(t,i)}static fromJsonString(t,i){return new ui().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ui,t,i)}};h(ui,"runtime",y),h(ui,"typeName","yorkie.v1.ActivateClientRequest"),h(ui,"fields",y.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Rd=ui;const ci=class ci extends K{constructor(t){super();h(this,"clientId","");y.util.initPartial(t,this)}static fromBinary(t,i){return new ci().fromBinary(t,i)}static fromJson(t,i){return new ci().fromJson(t,i)}static fromJsonString(t,i){return new ci().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ci,t,i)}};h(ci,"runtime",y),h(ci,"typeName","yorkie.v1.ActivateClientResponse"),h(ci,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let zd=ci;const fi=class fi extends K{constructor(t){super();h(this,"clientId","");h(this,"synchronous",!1);y.util.initPartial(t,this)}static fromBinary(t,i){return new fi().fromBinary(t,i)}static fromJson(t,i){return new fi().fromJson(t,i)}static fromJsonString(t,i){return new fi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(fi,t,i)}};h(fi,"runtime",y),h(fi,"typeName","yorkie.v1.DeactivateClientRequest"),h(fi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"synchronous",kind:"scalar",T:8}]));let Md=fi;const hi=class hi extends K{constructor(n){super(),y.util.initPartial(n,this)}static fromBinary(n,t){return new hi().fromBinary(n,t)}static fromJson(n,t){return new hi().fromJson(n,t)}static fromJsonString(n,t){return new hi().fromJsonString(n,t)}static equals(n,t){return y.util.equals(hi,n,t)}};h(hi,"runtime",y),h(hi,"typeName","yorkie.v1.DeactivateClientResponse"),h(hi,"fields",y.util.newFieldList(()=>[]));let Ud=hi;const di=class di extends K{constructor(t){super();h(this,"clientId","");h(this,"changePack");h(this,"schemaKey","");y.util.initPartial(t,this)}static fromBinary(t,i){return new di().fromBinary(t,i)}static fromJson(t,i){return new di().fromJson(t,i)}static fromJsonString(t,i){return new di().fromJsonString(t,i)}static equals(t,i){return y.util.equals(di,t,i)}};h(di,"runtime",y),h(di,"typeName","yorkie.v1.AttachDocumentRequest"),h(di,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Zi},{no:3,name:"schema_key",kind:"scalar",T:9}]));let Ld=di;const mi=class mi extends K{constructor(t){super();h(this,"documentId","");h(this,"changePack");h(this,"maxSizePerDocument",0);h(this,"schemaRules",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new mi().fromBinary(t,i)}static fromJson(t,i){return new mi().fromJson(t,i)}static fromJsonString(t,i){return new mi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(mi,t,i)}};h(mi,"runtime",y),h(mi,"typeName","yorkie.v1.AttachDocumentResponse"),h(mi,"fields",y.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Zi},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:Mc,repeated:!0}]));let Jd=mi;const gi=class gi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"removeIfNotAttached",!1);y.util.initPartial(t,this)}static fromBinary(t,i){return new gi().fromBinary(t,i)}static fromJson(t,i){return new gi().fromJson(t,i)}static fromJsonString(t,i){return new gi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(gi,t,i)}};h(gi,"runtime",y),h(gi,"typeName","yorkie.v1.DetachDocumentRequest"),h(gi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Zi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let qd=gi;const yi=class yi extends K{constructor(t){super();h(this,"changePack");y.util.initPartial(t,this)}static fromBinary(t,i){return new yi().fromBinary(t,i)}static fromJson(t,i){return new yi().fromJson(t,i)}static fromJsonString(t,i){return new yi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(yi,t,i)}};h(yi,"runtime",y),h(yi,"typeName","yorkie.v1.DetachDocumentResponse"),h(yi,"fields",y.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Zi}]));let Pd=yi;const pi=class pi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");y.util.initPartial(t,this)}static fromBinary(t,i){return new pi().fromBinary(t,i)}static fromJson(t,i){return new pi().fromJson(t,i)}static fromJsonString(t,i){return new pi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(pi,t,i)}};h(pi,"runtime",y),h(pi,"typeName","yorkie.v1.WatchDocumentRequest"),h(pi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Kd=pi;const vi=class vi extends K{constructor(t){super();h(this,"body",{case:void 0});y.util.initPartial(t,this)}static fromBinary(t,i){return new vi().fromBinary(t,i)}static fromJson(t,i){return new vi().fromJson(t,i)}static fromJsonString(t,i){return new vi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(vi,t,i)}};h(vi,"runtime",y),h(vi,"typeName","yorkie.v1.WatchDocumentResponse"),h(vi,"fields",y.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Hd,oneof:"body"},{no:2,name:"event",kind:"message",T:Cd,oneof:"body"}]));let Vd=vi;const Si=class Si extends K{constructor(t){super();h(this,"clientIds",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Si().fromBinary(t,i)}static fromJson(t,i){return new Si().fromJson(t,i)}static fromJsonString(t,i){return new Si().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Si,t,i)}};h(Si,"runtime",y),h(Si,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),h(Si,"fields",y.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Hd=Si;const bi=class bi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");y.util.initPartial(t,this)}static fromBinary(t,i){return new bi().fromBinary(t,i)}static fromJson(t,i){return new bi().fromJson(t,i)}static fromJsonString(t,i){return new bi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(bi,t,i)}};h(bi,"runtime",y),h(bi,"typeName","yorkie.v1.RemoveDocumentRequest"),h(bi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Zi}]));let jd=bi;const Ti=class Ti extends K{constructor(t){super();h(this,"changePack");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ti().fromBinary(t,i)}static fromJson(t,i){return new Ti().fromJson(t,i)}static fromJsonString(t,i){return new Ti().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ti,t,i)}};h(Ti,"runtime",y),h(Ti,"typeName","yorkie.v1.RemoveDocumentResponse"),h(Ti,"fields",y.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Zi}]));let $d=Ti;const wi=class wi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"pushOnly",!1);y.util.initPartial(t,this)}static fromBinary(t,i){return new wi().fromBinary(t,i)}static fromJson(t,i){return new wi().fromJson(t,i)}static fromJsonString(t,i){return new wi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(wi,t,i)}};h(wi,"runtime",y),h(wi,"typeName","yorkie.v1.PushPullChangesRequest"),h(wi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Zi},{no:4,name:"push_only",kind:"scalar",T:8}]));let Yd=wi;const Ai=class Ai extends K{constructor(t){super();h(this,"changePack");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ai().fromBinary(t,i)}static fromJson(t,i){return new Ai().fromJson(t,i)}static fromJsonString(t,i){return new Ai().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ai,t,i)}};h(Ai,"runtime",y),h(Ai,"typeName","yorkie.v1.PushPullChangesResponse"),h(Ai,"fields",y.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Zi}]));let Gd=Ai;const Ei=class Ei extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"label","");h(this,"description","");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ei().fromBinary(t,i)}static fromJson(t,i){return new Ei().fromJson(t,i)}static fromJsonString(t,i){return new Ei().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ei,t,i)}};h(Ei,"runtime",y),h(Ei,"typeName","yorkie.v1.CreateRevisionRequest"),h(Ei,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"label",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]));let Xd=Ei;const xi=class xi extends K{constructor(t){super();h(this,"revision");y.util.initPartial(t,this)}static fromBinary(t,i){return new xi().fromBinary(t,i)}static fromJson(t,i){return new xi().fromJson(t,i)}static fromJsonString(t,i){return new xi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(xi,t,i)}};h(xi,"runtime",y),h(xi,"typeName","yorkie.v1.CreateRevisionResponse"),h(xi,"fields",y.util.newFieldList(()=>[{no:1,name:"revision",kind:"message",T:Uc}]));let Fd=xi;const Ni=class Ni extends K{constructor(t){super();h(this,"projectId","");h(this,"documentId","");h(this,"pageSize",0);h(this,"offset",0);h(this,"isForward",!1);y.util.initPartial(t,this)}static fromBinary(t,i){return new Ni().fromBinary(t,i)}static fromJson(t,i){return new Ni().fromJson(t,i)}static fromJsonString(t,i){return new Ni().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ni,t,i)}};h(Ni,"runtime",y),h(Ni,"typeName","yorkie.v1.ListRevisionsRequest"),h(Ni,"fields",y.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"offset",kind:"scalar",T:5},{no:5,name:"is_forward",kind:"scalar",T:8}]));let Zd=Ni;const Di=class Di extends K{constructor(t){super();h(this,"revisions",[]);y.util.initPartial(t,this)}static fromBinary(t,i){return new Di().fromBinary(t,i)}static fromJson(t,i){return new Di().fromJson(t,i)}static fromJsonString(t,i){return new Di().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Di,t,i)}};h(Di,"runtime",y),h(Di,"typeName","yorkie.v1.ListRevisionsResponse"),h(Di,"fields",y.util.newFieldList(()=>[{no:1,name:"revisions",kind:"message",T:Uc,repeated:!0}]));let Qd=Di;const ki=class ki extends K{constructor(t){super();h(this,"clientId","");h(this,"revisionId","");y.util.initPartial(t,this)}static fromBinary(t,i){return new ki().fromBinary(t,i)}static fromJson(t,i){return new ki().fromJson(t,i)}static fromJsonString(t,i){return new ki().fromJsonString(t,i)}static equals(t,i){return y.util.equals(ki,t,i)}};h(ki,"runtime",y),h(ki,"typeName","yorkie.v1.RestoreRevisionRequest"),h(ki,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"revision_id",kind:"scalar",T:9}]));let _d=ki;const Oi=class Oi extends K{constructor(n){super(),y.util.initPartial(n,this)}static fromBinary(n,t){return new Oi().fromBinary(n,t)}static fromJson(n,t){return new Oi().fromJson(n,t)}static fromJsonString(n,t){return new Oi().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Oi,n,t)}};h(Oi,"runtime",y),h(Oi,"typeName","yorkie.v1.RestoreRevisionResponse"),h(Oi,"fields",y.util.newFieldList(()=>[]));let Wd=Oi;const Ci=class Ci extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ci().fromBinary(t,i)}static fromJson(t,i){return new Ci().fromJson(t,i)}static fromJsonString(t,i){return new Ci().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ci,t,i)}};h(Ci,"runtime",y),h(Ci,"typeName","yorkie.v1.AttachChannelRequest"),h(Ci,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9}]));let tm=Ci;const Ii=class Ii extends K{constructor(t){super();h(this,"sessionId","");h(this,"count",Tt.zero);y.util.initPartial(t,this)}static fromBinary(t,i){return new Ii().fromBinary(t,i)}static fromJson(t,i){return new Ii().fromJson(t,i)}static fromJsonString(t,i){return new Ii().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ii,t,i)}};h(Ii,"runtime",y),h(Ii,"typeName","yorkie.v1.AttachChannelResponse"),h(Ii,"fields",y.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"count",kind:"scalar",T:3}]));let em=Ii;const Bi=class Bi extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"sessionId","");y.util.initPartial(t,this)}static fromBinary(t,i){return new Bi().fromBinary(t,i)}static fromJson(t,i){return new Bi().fromJson(t,i)}static fromJsonString(t,i){return new Bi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Bi,t,i)}};h(Bi,"runtime",y),h(Bi,"typeName","yorkie.v1.DetachChannelRequest"),h(Bi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}]));let nm=Bi;const Ri=class Ri extends K{constructor(t){super();h(this,"count",Tt.zero);y.util.initPartial(t,this)}static fromBinary(t,i){return new Ri().fromBinary(t,i)}static fromJson(t,i){return new Ri().fromJson(t,i)}static fromJsonString(t,i){return new Ri().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ri,t,i)}};h(Ri,"runtime",y),h(Ri,"typeName","yorkie.v1.DetachChannelResponse"),h(Ri,"fields",y.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let rm=Ri;const zi=class zi extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"sessionId","");y.util.initPartial(t,this)}static fromBinary(t,i){return new zi().fromBinary(t,i)}static fromJson(t,i){return new zi().fromJson(t,i)}static fromJsonString(t,i){return new zi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(zi,t,i)}};h(zi,"runtime",y),h(zi,"typeName","yorkie.v1.RefreshChannelRequest"),h(zi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}]));let im=zi;const Mi=class Mi extends K{constructor(t){super();h(this,"count",Tt.zero);y.util.initPartial(t,this)}static fromBinary(t,i){return new Mi().fromBinary(t,i)}static fromJson(t,i){return new Mi().fromJson(t,i)}static fromJsonString(t,i){return new Mi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Mi,t,i)}};h(Mi,"runtime",y),h(Mi,"typeName","yorkie.v1.RefreshChannelResponse"),h(Mi,"fields",y.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let am=Mi;const Ui=class Ui extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");y.util.initPartial(t,this)}static fromBinary(t,i){return new Ui().fromBinary(t,i)}static fromJson(t,i){return new Ui().fromJson(t,i)}static fromJsonString(t,i){return new Ui().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ui,t,i)}};h(Ui,"runtime",y),h(Ui,"typeName","yorkie.v1.WatchChannelRequest"),h(Ui,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9}]));let sm=Ui;const Li=class Li extends K{constructor(t){super();h(this,"body",{case:void 0});y.util.initPartial(t,this)}static fromBinary(t,i){return new Li().fromBinary(t,i)}static fromJson(t,i){return new Li().fromJson(t,i)}static fromJsonString(t,i){return new Li().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Li,t,i)}};h(Li,"runtime",y),h(Li,"typeName","yorkie.v1.WatchChannelResponse"),h(Li,"fields",y.util.newFieldList(()=>[{no:1,name:"initialized",kind:"message",T:lm,oneof:"body"},{no:2,name:"event",kind:"message",T:Id,oneof:"body"}]));let om=Li;const Ji=class Ji extends K{constructor(t){super();h(this,"count",Tt.zero);h(this,"seq",Tt.zero);y.util.initPartial(t,this)}static fromBinary(t,i){return new Ji().fromBinary(t,i)}static fromJson(t,i){return new Ji().fromJson(t,i)}static fromJsonString(t,i){return new Ji().fromJsonString(t,i)}static equals(t,i){return y.util.equals(Ji,t,i)}};h(Ji,"runtime",y),h(Ji,"typeName","yorkie.v1.WatchChannelInitialized"),h(Ji,"fields",y.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3},{no:2,name:"seq",kind:"scalar",T:3}]));let lm=Ji;const qi=class qi extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"topic","");h(this,"payload",new Uint8Array(0));y.util.initPartial(t,this)}static fromBinary(t,i){return new qi().fromBinary(t,i)}static fromJson(t,i){return new qi().fromJson(t,i)}static fromJsonString(t,i){return new qi().fromJsonString(t,i)}static equals(t,i){return y.util.equals(qi,t,i)}};h(qi,"runtime",y),h(qi,"typeName","yorkie.v1.BroadcastRequest"),h(qi,"fields",y.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let um=qi;const Pi=class Pi extends K{constructor(n){super(),y.util.initPartial(n,this)}static fromBinary(n,t){return new Pi().fromBinary(n,t)}static fromJson(n,t){return new Pi().fromJson(n,t)}static fromJsonString(n,t){return new Pi().fromJsonString(n,t)}static equals(n,t){return y.util.equals(Pi,n,t)}};h(Pi,"runtime",y),h(Pi,"typeName","yorkie.v1.BroadcastResponse"),h(Pi,"fields",y.util.newFieldList(()=>[]));let cm=Pi;const rA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Rd,O:zd,kind:Zt.Unary},deactivateClient:{name:"DeactivateClient",I:Md,O:Ud,kind:Zt.Unary},attachDocument:{name:"AttachDocument",I:Ld,O:Jd,kind:Zt.Unary},detachDocument:{name:"DetachDocument",I:qd,O:Pd,kind:Zt.Unary},removeDocument:{name:"RemoveDocument",I:jd,O:$d,kind:Zt.Unary},pushPullChanges:{name:"PushPullChanges",I:Yd,O:Gd,kind:Zt.Unary},watchDocument:{name:"WatchDocument",I:Kd,O:Vd,kind:Zt.ServerStreaming},createRevision:{name:"CreateRevision",I:Xd,O:Fd,kind:Zt.Unary},listRevisions:{name:"ListRevisions",I:Zd,O:Qd,kind:Zt.Unary},restoreRevision:{name:"RestoreRevision",I:_d,O:Wd,kind:Zt.Unary},attachChannel:{name:"AttachChannel",I:tm,O:em,kind:Zt.Unary},detachChannel:{name:"DetachChannel",I:nm,O:rm,kind:Zt.Unary},refreshChannel:{name:"RefreshChannel",I:im,O:am,kind:Zt.Unary},watchChannel:{name:"WatchChannel",I:sm,O:om,kind:Zt.ServerStreaming},broadcast:{name:"Broadcast",I:um,O:cm,kind:Zt.Unary}}},iA=y.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);y.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Hi}]);y.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);y.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:aA,repeated:!0}]);const aA=y.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});y.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:sA,repeated:!0}]);const sA=y.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});y.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:oA,repeated:!0}]);const oA=y.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:uA}],{localName:"BadRequest_FieldViolation"});y.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);y.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);y.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:lA,repeated:!0}]);const lA=y.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),uA=y.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var E=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrNotAttached="ErrNotAttached",s.ErrNotDetached="ErrNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(E||{});class N extends Error{constructor(t,i){super(i);h(this,"name","YorkieError");h(this,"stack");this.code=t,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Wn=(s=>(s.Put="put",s.Clear="clear",s))(Wn||{});const Tm="000000000000000000000000",Zn=24;class An{constructor(n,t,i){h(this,"lamport");h(this,"delimiter");h(this,"actorID");this.lamport=n,this.delimiter=t,this.actorID=i}static of(n,t,i){return new An(n,t,i)}static fromStruct(n){return An.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new An(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const t=this.actorID.localeCompare(n.actorID);return t!==0?t:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const fm=0n,pS=0,hm=9223372036854775807n,oo=new An(fm,pS,Tm);function Fn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class Ml{constructor(n){h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(n){this.createdAt=n}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.createdAt)&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Zn),this.getMovedAt()&&(n+=Zn),this.getRemovedAt()&&(n+=Zn),n}}class ka extends Ml{constructor(n){super(n)}}class Lc{constructor(n,t){h(this,"strKey");h(this,"value");this.strKey=n,this.value=t}static of(n,t){return new Lc(n,t)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class lo{constructor(){h(this,"nodeMapByKey");h(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new lo}set(n,t,i){let o;const c=this.nodeMapByKey.get(n);c&&!c.isRemoved()&&c.remove(i)&&(o=c.getValue());const d=Lc.of(n,t);return this.nodeMapByCreatedAt.set(t.getCreatedAt().toIDString(),d),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,d),t.setMovedAt(i)),o}delete(n,t){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new N(E.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(t),i.getValue()}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return t.getStrKey()}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new N(E.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(t.getStrKey());t===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}deleteByKey(n,t){const i=this.nodeMapByKey.get(n);if(i&&i.remove(t))return i.getValue()}has(n){const t=this.nodeMapByKey.get(n);return t?!t.isRemoved():!1}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const t=this.nodeMapByKey.get(n);if(!(!t||t.isRemoved()))return t}deepcopy(){const n=lo.create();for(const[,t]of this.nodeMapByCreatedAt)n.nodeMapByCreatedAt.set(t.getValue().getCreatedAt().toIDString(),Lc.of(t.getStrKey(),t.getValue().deepcopy()));for(const[t,i]of this.nodeMapByKey)n.nodeMapByKey.set(t,n.nodeMapByCreatedAt.get(i.getValue().getCreatedAt().toIDString()));return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByCreatedAt)yield n}}class Ee extends ka{constructor(t,i){super(t);h(this,"memberNodes");this.memberNodes=i}static create(t,i){if(!i)return new Ee(t,lo.create());const o=lo.create();for(const[c,d]of Object.entries(i))o.set(c,d.deepcopy(),d.getCreatedAt());return new Ee(t,o)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,i,o){return this.memberNodes.set(t,i,o)}delete(t,i){return this.memberNodes.delete(t,i)}deleteByKey(t,i){return this.memberNodes.deleteByKey(t,i)}get(t){const i=this.memberNodes.get(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.memberNodes.getByID(t);return i==null?void 0:i.getValue()}has(t){return this.memberNodes.has(t)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const[i,o]of this)t.push(`"${Fn(i)}":${o.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[i,o]of this){const{createdAt:c,value:d,type:m}=o.toJSForTest();t[i]={key:i,createdAt:c,value:d,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[i]of this)t.push(i);return t}toSortedJSON(){var o;const t=new Set;for(const[c]of this)t.add(c);const i=[];for(const c of Array.from(t).sort()){const d=(o=this.memberNodes.get(c))==null?void 0:o.getValue();i.push(`"${Fn(c)}":${d.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=Ee.create(this.getCreatedAt());return t.memberNodes=this.memberNodes.deepcopy(),t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getDescendants(t){for(const i of this.memberNodes){const o=i.getValue();if(t(o,this))return;o instanceof ka&&o.getDescendants(t)}}*[Symbol.iterator](){for(const t of this.memberNodes)t.isRemoved()||(yield[t.getStrKey(),t.getValue()])}}var jt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(jt||{});class Mn{constructor(n,t){h(this,"parentCreatedAt");h(this,"executedAt");this.parentCreatedAt=n,this.executedAt=t}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new N(E.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class vS{constructor(n){h(this,"value");h(this,"left");h(this,"right");h(this,"parent");h(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Cl{constructor(n){h(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let t=this.root;for(;;)if(t.hasLeft()&&n<=t.getLeftWeight())t=t.getLeft();else if(t.hasRight()&&t.getLeftWeight()+t.getLength()<n)n-=t.getLeftWeight()+t.getLength(),t=t.getRight();else{n-=t.getLeftWeight();break}if(n>t.getLength())throw new N(E.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${t.getLength()}`);return this.splayNode(t),[t,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,t){return n?(this.splayNode(n),this.root=t,t.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(t),t.setLeft(n),n.setParent(t),n.setRight(),this.updateWeight(n),this.updateWeight(t),t):(this.root=t,t)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const t=new Cl(n.getLeft());t.root&&t.root.setParent();const i=new Cl(n.getRight());if(i.root&&i.root.setParent(),t.root){const o=t.getRightmost();t.splayNode(o),t.root.setRight(i.root),i.root&&i.root.setParent(t.root),this.root=t.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,t){if(!t){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(t),t.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const t=[];this.traversePostorder(n.getRight(),t);for(const i of t)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(t=>`[${t.getWeight()},${t.getLength()}]${t.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const t of n)if(t.getWeight()!=t.getLength()+t.getLeftWeight()+t.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,t){n&&(this.traverseInorder(n.getLeft(),t),t.push(n),this.traverseInorder(n.getRight(),t))}traversePostorder(n,t){n&&(this.traversePostorder(n.getLeft(),t),this.traversePostorder(n.getRight(),t),t.push(n))}rotateLeft(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setRight(n.getLeft()),t.hasRight()&&t.getRight().setParent(t),n.setLeft(t),n.getLeft().setParent(n),this.updateWeight(t),this.updateWeight(n)}rotateRight(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setLeft(n.getRight()),t.hasLeft()&&t.getLeft().setParent(t),n.setRight(t),n.getRight().setParent(n),this.updateWeight(t),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Tn=null;try{Tn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(s,n,t){this.low=s|0,this.high=n|0,this.unsigned=!!t}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ne(s){return(s&&s.__isLong__)===!0}function E0(s){var n=Math.clz32(s&-s);return s?31-n:n}bt.isLong=Ne;var x0={},N0={};function ss(s,n){var t,i,o;return n?(s>>>=0,(o=0<=s&&s<256)&&(i=N0[s],i)?i:(t=xt(s,0,!0),o&&(N0[s]=t),t)):(s|=0,(o=-128<=s&&s<128)&&(i=x0[s],i)?i:(t=xt(s,s<0?-1:0,!1),o&&(x0[s]=t),t))}bt.fromInt=ss;function wn(s,n){if(isNaN(s))return n?$i:In;if(n){if(s<0)return $i;if(s>=SS)return wS}else{if(s<=-k0)return Me;if(s+1>=k0)return TS}return s<0?wn(-s,n).neg():xt(s%uo|0,s/uo|0,n)}bt.fromNumber=wn;function xt(s,n,t){return new bt(s,n,t)}bt.fromBits=xt;var Jc=Math.pow;function wm(s,n,t){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(t=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?$i:In;if(t=t||10,t<2||36<t)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return wm(s.substring(1),n,t).neg();for(var o=wn(Jc(t,8)),c=In,d=0;d<s.length;d+=8){var m=Math.min(8,s.length-d),p=parseInt(s.substring(d,d+m),t);if(m<8){var v=wn(Jc(t,m));c=c.mul(v).add(wn(p))}else c=c.mul(o),c=c.add(wn(p))}return c.unsigned=n,c}bt.fromString=wm;function En(s,n){return typeof s=="number"?wn(s,n):typeof s=="string"?wm(s,n):xt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}bt.fromValue=En;var D0=65536,cA=1<<24,uo=D0*D0,SS=uo*uo,k0=SS/2,O0=ss(cA),In=ss(0);bt.ZERO=In;var $i=ss(0,!0);bt.UZERO=$i;var Qs=ss(1);bt.ONE=Qs;var bS=ss(1,!0);bt.UONE=bS;var dm=ss(-1);bt.NEG_ONE=dm;var TS=xt(-1,2147483647,!1);bt.MAX_VALUE=TS;var wS=xt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=wS;var Me=xt(0,-2147483648,!1);bt.MIN_VALUE=Me;var H=bt.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low};H.toNumber=function(){return this.unsigned?(this.high>>>0)*uo+(this.low>>>0):this.high*uo+(this.low>>>0)};H.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Me)){var t=wn(n),i=this.div(t),o=i.mul(t).sub(this);return i.toString(n)+o.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=wn(Jc(n,6),this.unsigned),d=this,m="";;){var p=d.div(c),v=d.sub(p.mul(c)).toInt()>>>0,b=v.toString(n);if(d=p,d.isZero())return b+m;for(;b.length<6;)b="0"+b;m=""+b+m}};H.getHighBits=function(){return this.high};H.getHighBitsUnsigned=function(){return this.high>>>0};H.getLowBits=function(){return this.low};H.getLowBitsUnsigned=function(){return this.low>>>0};H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Me)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,t=31;t>0&&(n&1<<t)==0;t--);return this.high!=0?t+33:t+1};H.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};H.isZero=function(){return this.high===0&&this.low===0};H.eqz=H.isZero;H.isNegative=function(){return!this.unsigned&&this.high<0};H.isPositive=function(){return this.unsigned||this.high>=0};H.isOdd=function(){return(this.low&1)===1};H.isEven=function(){return(this.low&1)===0};H.equals=function(n){return Ne(n)||(n=En(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};H.eq=H.equals;H.notEquals=function(n){return!this.eq(n)};H.neq=H.notEquals;H.ne=H.notEquals;H.lessThan=function(n){return this.comp(n)<0};H.lt=H.lessThan;H.lessThanOrEqual=function(n){return this.comp(n)<=0};H.lte=H.lessThanOrEqual;H.le=H.lessThanOrEqual;H.greaterThan=function(n){return this.comp(n)>0};H.gt=H.greaterThan;H.greaterThanOrEqual=function(n){return this.comp(n)>=0};H.gte=H.greaterThanOrEqual;H.ge=H.greaterThanOrEqual;H.compare=function(n){if(Ne(n)||(n=En(n)),this.eq(n))return 0;var t=this.isNegative(),i=n.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};H.comp=H.compare;H.negate=function(){return!this.unsigned&&this.eq(Me)?Me:this.not().add(Qs)};H.neg=H.negate;H.add=function(n){Ne(n)||(n=En(n));var t=this.high>>>16,i=this.high&65535,o=this.low>>>16,c=this.low&65535,d=n.high>>>16,m=n.high&65535,p=n.low>>>16,v=n.low&65535,b=0,x=0,k=0,O=0;return O+=c+v,k+=O>>>16,O&=65535,k+=o+p,x+=k>>>16,k&=65535,x+=i+m,b+=x>>>16,x&=65535,b+=t+d,b&=65535,xt(k<<16|O,b<<16|x,this.unsigned)};H.subtract=function(n){return Ne(n)||(n=En(n)),this.add(n.neg())};H.sub=H.subtract;H.multiply=function(n){if(this.isZero())return this;if(Ne(n)||(n=En(n)),Tn){var t=Tn.mul(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?$i:In;if(this.eq(Me))return n.isOdd()?Me:In;if(n.eq(Me))return this.isOdd()?Me:In;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(O0)&&n.lt(O0))return wn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,o=this.high&65535,c=this.low>>>16,d=this.low&65535,m=n.high>>>16,p=n.high&65535,v=n.low>>>16,b=n.low&65535,x=0,k=0,O=0,V=0;return V+=d*b,O+=V>>>16,V&=65535,O+=c*b,k+=O>>>16,O&=65535,O+=d*v,k+=O>>>16,O&=65535,k+=o*b,x+=k>>>16,k&=65535,k+=c*v,x+=k>>>16,k&=65535,k+=d*p,x+=k>>>16,k&=65535,x+=i*b+o*v+c*p+d*m,x&=65535,xt(O<<16|V,x<<16|k,this.unsigned)};H.mul=H.multiply;H.divide=function(n){if(Ne(n)||(n=En(n)),n.isZero())throw Error("division by zero");if(Tn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var t=(this.unsigned?Tn.div_u:Tn.div_s)(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$i:In;var i,o,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return $i;if(n.gt(this.shru(1)))return bS;c=$i}else{if(this.eq(Me)){if(n.eq(Qs)||n.eq(dm))return Me;if(n.eq(Me))return Qs;var d=this.shr(1);return i=d.div(n).shl(1),i.eq(In)?n.isNegative()?Qs:dm:(o=this.sub(n.mul(i)),c=i.add(o.div(n)),c)}else if(n.eq(Me))return this.unsigned?$i:In;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=In}for(o=this;o.gte(n);){i=Math.max(1,Math.floor(o.toNumber()/n.toNumber()));for(var m=Math.ceil(Math.log(i)/Math.LN2),p=m<=48?1:Jc(2,m-48),v=wn(i),b=v.mul(n);b.isNegative()||b.gt(o);)i-=p,v=wn(i,this.unsigned),b=v.mul(n);v.isZero()&&(v=Qs),c=c.add(v),o=o.sub(b)}return c};H.div=H.divide;H.modulo=function(n){if(Ne(n)||(n=En(n)),Tn){var t=(this.unsigned?Tn.rem_u:Tn.rem_s)(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};H.mod=H.modulo;H.rem=H.modulo;H.not=function(){return xt(~this.low,~this.high,this.unsigned)};H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};H.clz=H.countLeadingZeros;H.countTrailingZeros=function(){return this.low?E0(this.low):E0(this.high)+32};H.ctz=H.countTrailingZeros;H.and=function(n){return Ne(n)||(n=En(n)),xt(this.low&n.low,this.high&n.high,this.unsigned)};H.or=function(n){return Ne(n)||(n=En(n)),xt(this.low|n.low,this.high|n.high,this.unsigned)};H.xor=function(n){return Ne(n)||(n=En(n)),xt(this.low^n.low,this.high^n.high,this.unsigned)};H.shiftLeft=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):xt(0,this.low<<n-32,this.unsigned)};H.shl=H.shiftLeft;H.shiftRight=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):xt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};H.shr=H.shiftRight;H.shiftRightUnsigned=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?xt(this.high,0,this.unsigned):xt(this.high>>>n-32,0,this.unsigned)};H.shru=H.shiftRightUnsigned;H.shr_u=H.shiftRightUnsigned;H.rotateLeft=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned)):(n-=32,t=32-n,xt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned))};H.rotl=H.rotateLeft;H.rotateRight=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned)):(n-=32,t=32-n,xt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned))};H.rotr=H.rotateRight;H.toSigned=function(){return this.unsigned?xt(this.low,this.high,!1):this};H.toUnsigned=function(){return this.unsigned?this:xt(this.low,this.high,!0)};H.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};H.toBytesLE=function(){var n=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};H.toBytesBE=function(){var n=this.high,t=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};bt.fromBytes=function(n,t,i){return i?bt.fromBytesLE(n,t):bt.fromBytesBE(n,t)};bt.fromBytesLE=function(n,t){return new bt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)};bt.fromBytesBE=function(n,t){return new bt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)};typeof BigInt=="function"&&(bt.fromBigInt=function(n,t){var i=Number(BigInt.asIntN(32,n)),o=Number(BigInt.asIntN(32,n>>BigInt(32)));return xt(i,o,t)},bt.fromValue=function(n,t){return typeof n=="bigint"?bt.fromBigInt(n,t):En(n,t)},H.toBigInt=function(){var n=BigInt(this.low>>>0),t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|n});var qt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qt||{});class Gt extends Ml{constructor(t,i){super(i);h(this,"valueType");h(this,"value");this.valueType=Gt.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,i){return new Gt(t,i)}static valueFromBytes(t,i){switch(t){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const o=new DataView(i.buffer);return i.forEach(function(c,d){o.setUint8(d,c)}),o.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return bt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(bt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new N(E.ErrUnimplemented,`unimplemented type: ${t}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new N(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Fn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=Gt.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(t)?2:4;case"string":return 5;case"object":if(t===null)return 0;if(t instanceof bt)return 3;if(t instanceof Uint8Array)return 6;if(t instanceof Date)return 7}}static isSupport(t){return Gt.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===2||t===3||t===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 4:{const t=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,t,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const t=this.value,i=bt.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new N(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class qc extends vS{constructor(t){super(t);h(this,"prev");h(this,"next");h(this,"movedFrom");this.value=t}static createAfter(t,i){const o=new qc(i),c=t.next;return t.next=o,o.prev=t,o.next=c,c&&(c.prev=o),o}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(t){this.movedFrom=t}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Il{constructor(){h(this,"dummyHead");h(this,"last");h(this,"nodeMapByIndex");h(this,"nodeMapByCreatedAt");const n=Gt.of(0,oo);n.setRemovedAt(oo),this.dummyHead=new qc(n),this.last=this.dummyHead,this.nodeMapByIndex=new Cl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Il}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,t){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new N(E.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(t)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(t);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,t,i=t.getCreatedAt()){const o=this.findNextBeforeExecutedAt(n,i),c=qc.createAfter(o,t);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(n,t,i){let o=this.nodeMapByCreatedAt.get(n.toIDString());if(!o)throw new N(E.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);let c=this.nodeMapByCreatedAt.get(t.toIDString());if(!c)throw new N(E.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);if(o!==c&&i.after(c.getPositionedAt())){const d=c.getPrev();let m=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d);m&&m.getPositionedAt().after(i);)o=c,c=m,m=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d)}}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return String(this.nodeMapByIndex.indexOf(t))}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new N(E.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(t)}getByIndex(n){if(n>=this.length)return;const[t,i]=this.nodeMapByIndex.find(n);let o=t;if(n===0&&t===this.dummyHead||i>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(n){let t=this.nodeMapByCreatedAt.get(n.toIDString());do t=t.getPrev();while(this.dummyHead!==t&&t.isRemoved());return t.getValue().getCreatedAt()}delete(n,t){const i=this.nodeMapByCreatedAt.get(n.toIDString()),o=i.isRemoved();return i.remove(t)&&!o&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(n,t,i){const o=this.nodeMapByCreatedAt.get(n.toIDString());if(!o)throw new N(E.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);return this.insertAfter(o.getCreatedAt(),t,i),this.delete(n,i)}deleteByIndex(n,t){const i=this.getByIndex(n);if(i)return i.remove(t)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const t of this){const i=`${t.getCreatedAt().toIDString()}:${t.getValue().toJSON()}`;t.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class xe extends ka{constructor(t,i){super(t);h(this,"elements");this.elements=i}static create(t,i){if(!i)return new xe(t,Il.create());const o=Il.create();for(const c of i)o.insertAfter(o.getLastCreatedAt(),c.deepcopy());return new xe(t,o)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,i,o){this.elements.insertAfter(t,i,o)}moveAfter(t,i,o){this.elements.moveAfter(t,i,o)}get(t){const i=this.elements.getByIndex(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.elements.getByID(t);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,i){return this.elements.delete(t,i)}deleteByIndex(t,i){return this.elements.deleteByIndex(t,i)}set(t,i,o){return this.elements.set(t,i,o)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const i of this.elements){const o=i.getValue();if(t(o,this))return;o instanceof ka&&o.getDescendants(t)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const i of this)t.push(i.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let i=0;i<this.length;i++){const{createdAt:o,value:c,type:d}=this.get(i).toJSForTest();t[i]={key:String(i),createdAt:o,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=xe.create(this.getCreatedAt());for(const i of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),i.getValue().deepcopy());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}}class Ba extends Mn{constructor(t,i,o,c){super(t,c);h(this,"prevCreatedAt");h(this,"value");this.prevCreatedAt=i,this.value=o}static create(t,i,o,c){return new Ba(t,i,o,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new N(E.ErrInvalidArgument,"fail to execute, only array can execute add");const o=i,c=this.value.deepcopy();return o.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),t.registerElement(c,o),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(o.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return tr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(t){this.prevCreatedAt=t}}class tr extends Mn{constructor(t,i,o){super(t,o);h(this,"createdAt");this.createdAt=i}static create(t,i,o){return new tr(t,i,o)}execute(t,i){var v;const o=t.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof ka))throw new N(E.ErrInvalidArgument,`only object and array can execute remove: ${o}`);if(i===jt.UndoRedo){let b=o.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=o.subPathOf(this.createdAt),d=this.toReverseOperation(o),m=o.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(m),{opInfos:o instanceof xe?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:c}],reverseOp:d}}toReverseOperation(t){if(t instanceof xe){const i=t.getByID(this.createdAt);if(i!==void 0){const o=t.getPrevCreatedAt(this.createdAt);return Ba.create(this.getParentCreatedAt(),o,i.deepcopy())}}if(t instanceof Ee){const i=t.subPathOf(this.createdAt);if(i!==void 0){const o=t.get(i);if(o!==void 0)return as.create(i,o.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(t){this.createdAt=t}}class as extends Mn{constructor(t,i,o,c){super(o,c);h(this,"key");h(this,"value");this.key=t,this.value=i}static create(t,i,o,c){return new as(t,i,o,c)}execute(t,i){var v;const o=t.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ee))throw new N(E.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===jt.UndoRedo){let b=o;for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=o.get(this.key),d=this.toReverseOperation(c),m=this.value.deepcopy(),p=o.set(this.key,m,this.getExecutedAt());return i===jt.UndoRedo&&t.findByCreatedAt(m.getCreatedAt())&&t.deregisterElement(m),t.registerElement(m,o),p&&t.registerRemovedElement(p),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(t){let i=tr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(i=as.create(this.key,t.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Bn extends Mn{constructor(t,i,o,c){super(t,c);h(this,"prevCreatedAt");h(this,"createdAt");this.prevCreatedAt=i,this.createdAt=o}static create(t,i,o,c){return new Bn(t,i,o,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new N(E.ErrInvalidArgument,"fail to execute, only array can execute move");const o=i,c=this.toReverseOperation(o),d=Number(o.subPathOf(this.createdAt));o.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const m=Number(o.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:m,previousIndex:d}],reverseOp:c}}toReverseOperation(t){const i=t.getPrevCreatedAt(this.createdAt);return Bn.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(t){this.prevCreatedAt=t}setCreatedAt(t){this.createdAt=t}}class Na{constructor(n,t,i,o){h(this,"key");h(this,"value");h(this,"updatedAt");h(this,"_isRemoved");this.key=n,this.value=t,this.updatedAt=i,this._isRemoved=o}static of(n,t,i,o){return new Na(n,t,i,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Zn}}}class Xi{constructor(){h(this,"nodeMapByKey");h(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Xi}getNodeMapByKey(){return this.nodeMapByKey}set(n,t,i){const o=this.nodeMapByKey.get(n);if(o&&o.isRemoved()&&i.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||i.after(o.getUpdatedAt())){const c=Na.of(n,t,i,!1);return this.nodeMapByKey.set(n,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(n,t,i,o){const c=Na.of(n,t,i,o);this.nodeMapByKey.set(n,c),o&&this.numberOfRemovedElement++}remove(n,t){const i=this.nodeMapByKey.get(n),o=[];if(i===void 0||t.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const m=Na.of(n,"",t,!0);return this.nodeMapByKey.set(n,m),o.push(m),o}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(i);const d=Na.of(n,i.getValue(),t,!0);return this.nodeMapByKey.set(n,d),o.push(d),o}return o}has(n){if(this.nodeMapByKey.has(n)){const t=this.nodeMapByKey.get(n);return t!==void 0&&!t.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Xi;for(const[,t]of this.nodeMapByKey)n.setInternal(t.getKey(),t.getValue(),t.getUpdatedAt(),t.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[t,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Fn(t)}":"${Fn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[t,i]of this.nodeMapByKey)i.isRemoved()||(n[t]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const t=this.nodeMapByKey.get(n.getKey());t==null||t.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function On(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const AS=s=>s?Object.entries(s).length===0:!0,co=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.stringify(i);return n},Yi=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.parse(i);return n};function fA(s){return s?C0(s.live)+C0(s.gc):0}function C0(s){return s.data+s.meta}function ve(s,...n){for(const t of n)s.data+=t.data,s.meta+=t.meta}function es(s,n){s.data-=n.data,s.meta-=n.meta}class Bl{constructor(n){h(this,"attributes");h(this,"content");this.attributes=Xi.create(),this.content=n}static create(n){return new Bl(n)}get length(){return this.content.length}substring(n,t){const i=new Bl(this.content.substring(n,t));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,t,i){return this.attributes.set(n,t,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const t of this.attributes){const i=t.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Fn(this.content),t=this.attributes.toObject(),i=[];for(const[o,c]of Object.entries(t)){const d=JSON.parse(c),m=typeof d=="string"?`"${Fn(o)}":"${Fn(d)}"`:`"${Fn(o)}":${String(d)}`;i.push(m)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof Na&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const t of this.attributes)t.getRemovedAt()&&n.push({parent:this,child:t});return n}}class Ze extends Ml{constructor(t,i){super(i);h(this,"rgaTreeSplit");this.rgaTreeSplit=t}static create(t,i){return new Ze(t,i)}edit(t,i,o,c,d){const m=i?Bl.create(i):void 0;if(m&&c)for(const[O,V]of Object.entries(c))m.setAttr(O,V,o);const[p,v,b,x]=this.rgaTreeSplit.edit(t,o,m,d);return[x.map(O=>({...O,value:O.value?{attributes:Yi(O.value.getAttributes()),content:O.value.getContent()}:{attributes:void 0,content:""},type:"content"})),v,b,[p,p]]}setStyle(t,i,o,c){const d={data:0,meta:0},[,m,p]=this.rgaTreeSplit.findNodeWithSplit(t[1],o),[,v,b]=this.rgaTreeSplit.findNodeWithSplit(t[0],o);ve(d,m,v);const x=[],k=this.rgaTreeSplit.findBetween(b,p),O=[];for(const q of k){const j=q.getCreatedAt().getActorID();let _=hm;c!=null&&(_=c.get(j)?c.get(j):0n),q.canStyle(o,_)&&O.push(q)}const V=[];for(const q of O){if(q.isRemoved())continue;const[j,_]=this.rgaTreeSplit.findIndexesFromRange(q.createPosRange());x.push({type:"style",actor:o.getActorID(),from:j,to:_,value:{attributes:Yi(i)}});for(const[lt,ct]of Object.entries(i)){const[gt]=q.getValue().setAttr(lt,ct,o);gt!==void 0&&V.push({parent:q.getValue(),child:gt});const et=q.getValue().getAttrs().getNodeMapByKey().get(lt);et!==void 0&&ve(d,et.getDataSize())}}return[V,d,x]}indexRangeToPosRange(t,i){const o=this.rgaTreeSplit.indexToPos(t);return t===i?[o,o]:[o,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const t={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const o=i.getDataSize();t.data+=o.data,t.meta+=o.meta}return{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){const t=[];for(const i of this.rgaTreeSplit)i.isRemoved()||t.push(i.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const o=i.getValue();t.push({attributes:Yi(o.getAttributes()),content:o.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const t=new Ze(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}getGCPairs(){const t=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&t.push({parent:this.rgaTreeSplit,child:i});for(const o of i.getValue().getGCPairs())t.push(o)}return t}}class Ul extends Mn{constructor(t,i,o,c,d,m){super(t,m);h(this,"fromPos");h(this,"toPos");h(this,"content");h(this,"attributes");this.fromPos=i,this.toPos=o,this.content=c,this.attributes=d}static create(t,i,o,c,d,m){return new Ul(t,i,o,c,d,m)}execute(t,i,o){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Ze))throw new N(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[m,p,v]=d.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),o);t.acc(v);for(const b of p)t.registerGCPair(b);return{opInfos:m.map(({from:b,to:x,value:k})=>({type:"edit",from:b,to:x,value:k,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),o=this.toPos.toTestString(),c=this.content;return`${t}.EDIT(${i},${o},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Ll extends Mn{constructor(t,i,o,c,d){super(t,d);h(this,"fromPos");h(this,"toPos");h(this,"attributes");this.fromPos=i,this.toPos=o,this.attributes=c}static create(t,i,o,c,d){return new Ll(t,i,o,c,d)}execute(t,i,o){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Ze))throw new N(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[m,p,v]=d.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),o);t.acc(p);for(const b of m)t.registerGCPair(b);return{opInfos:v.map(({from:b,to:x,value:k})=>({type:"style",from:b,to:x,value:k,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),o=this.toPos.toTestString(),c=this.attributes;return`${t}.STYL(${i},${o},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const hA=2,dA="root",Qn="text";function gl(s,n,t=!1){let i=0;const o=t?s.allChildren:s.children;for(let c=0;c<n;c++){const d=o[c];!d||!t&&d.isRemoved||(i+=d.paddedSize(t))}return i}class mA{constructor(n,t=[]){h(this,"type");h(this,"parent");h(this,"_children");h(this,"visibleSize");h(this,"totalSize");if(this.type=n,this.visibleSize=0,this.totalSize=0,this._children=t,this.isText&&this._children.length>0)throw new N(E.ErrRefused,"Text node cannot have children")}updateAncestorsSize(n,t=!1){let i=this.parent;for(;i;){if(t)i.totalSize+=n;else if(i.visibleSize+=n,i.isRemoved)break;i=i.parent}}updateDescendantsSize(n=!1){let t=0;for(const i of this._children){const o=i.updateDescendantsSize(n);!n&&i.isRemoved||(t+=o)}return n?this.totalSize+=t:this.visibleSize+=t,this.paddedSize(n)}get isText(){return this.type===Qn}paddedSize(n=!1){let t=this.visibleSize;return n&&(t=this.totalSize),this.isText||(t+=hA),t}isAncestorOf(n){return gA(this,n)}get nextSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n+1];if(t)return t}get prevSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n-1];if(t)return t}splitText(n,t){const i={data:0,meta:0};if(n===0||n===this.visibleSize)return[void 0,i];const o=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,i];const d=this.getDataSize();this.value=o;const m=this.cloneText(n+t);return m.value=c,this.parent.insertAfterInternal(m,this),ve(i,this.getDataSize(),m.getDataSize()),es(i,d),[m,i]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const t of n)t.parent=this,t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}prepend(...n){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const t of n)t.parent=this}insertBefore(n,t){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new N(E.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAfter(n,t){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new N(E.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAt(n,t){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,t),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}removeChild(n){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");const t=this._children.indexOf(n);if(t===-1)throw new N(E.ErrInvalidArgument,"child not found");this._children.splice(t,1),n.updateAncestorsSize(-n.paddedSize(!0),!0),n.parent=void 0}splitElement(n,t){const i={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(t);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const d=this.children.slice(0,n),m=this.children.slice(n);this._children=d,c._children=m,this.visibleSize=this._children.reduce((p,v)=>p+v.paddedSize(),0),this.totalSize=this._children.reduce((p,v)=>p+v.paddedSize(!0),0),c.visibleSize=c._children.reduce((p,v)=>p+v.paddedSize(!0),0),c.totalSize=c._children.reduce((p,v)=>p+v.paddedSize(!0),0);for(const p of c._children)p.parent=c;return ve(i,this.getDataSize(),c.getDataSize()),es(i,o),[c,i]}insertAfterInternal(n,t){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new N(E.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,t){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");this._children.splice(t,0,n),n.parent=this}findOffset(n,t=!1){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");if(t)return this._children.indexOf(n);if(n.isRemoved){const i=this._children.indexOf(n);return this.allChildren.splice(0,i).filter(c=>!c.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new N(E.ErrRefused,"Text node cannot have children");let t=n;for(;t;){const i=this._children.indexOf(t);if(i!==-1)return i;t=t.parent}return-1}}function gA(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var ee=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(ee||{});function ES(s,n,t,i,o=!1){if(n>t)throw new N(E.ErrInvalidArgument,`from is greater than to: ${n} > ${t}`);const c=o?s.totalSize:s.visibleSize;if(n>c)throw new N(E.ErrInvalidArgument,`from is out of range: ${n} > ${c}`);if(t>c)throw new N(E.ErrInvalidArgument,`to is out of range: ${t} > ${c}`);if(n===t)return;let d=0;const m=o?s._children:s.children;for(const p of m){if(n-p.paddedSize(o)<d&&d<t){const v=p.isText?n-d:n-d-1,b=p.isText?t-d:t-d-1,x=o?p.totalSize:p.visibleSize,k=!p.isText&&v<0,O=!p.isText&&b>x;(p.isText||k)&&i([p,p.isText?"Text":"Start"],O),ES(p,Math.max(0,v),Math.min(b,x),i,o),O&&i([p,"End"],O)}d+=p.paddedSize(o)}}function xS(s,n,t=0){for(const i of s.children)xS(i,n,t+1);n(s,t)}function $c(s,n,t=0){for(const i of s._children)$c(i,n,t+1);n(s,t)}function mm(s,n,t=!0){if(n>s.visibleSize)throw new N(E.ErrInvalidArgument,`index is out of range: ${n} > ${s.visibleSize}`);if(s.isText)return{node:s,offset:n};let i=0,o=0;for(const c of s.children){if(t&&c.isText&&c.visibleSize>=n-o)return mm(c,n-o,t);if(n===o)return{node:s,offset:i};if(!t&&c.paddedSize()===n-o)return{node:s,offset:i+1};if(c.paddedSize()>n-o)return mm(c,n-o-1,t);o+=c.paddedSize(),i+=1}return{node:s,offset:i}}function NS(s){return s.isText||s.children.length===0?s:NS(s.children[0])}function yA(s,n){if(s.visibleSize<n)throw new N(E.ErrInvalidArgument,"unacceptable path");for(let t=0;t<s.children.length;t++){const i=s.children[t];if(i.visibleSize<n)n-=i.visibleSize;else{s=i;break}}return{node:s,offset:n}}class pA{constructor(n){h(this,"root");this.root=n}tokensBetween(n,t,i,o=!1){ES(this.root,n,t,i,o)}traverse(n){xS(this.root,n,0)}traverseAll(n){$c(this.root,n,0)}findTreePos(n,t=!0){return mm(this.root,n,t)}treePosToPath(n){const t=[];let i=n.node;if(i.isText){const o=i.parent.findOffset(i);if(o===-1)throw new N(E.ErrInvalidArgument,"invalid treePos");const c=gl(i.parent,o);t.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const o=gl(i,n.offset);t.push(o)}else t.push(n.offset);for(;i.parent;){const o=i.parent.findOffset(i);if(o===-1)throw new N(E.ErrInvalidArgument,"invalid treePos");t.push(o),i=i.parent}return t.reverse()}pathToIndex(n){const t=this.pathToTreePos(n);return this.indexOf(t)}pathToTreePos(n){if(!n.length)throw new N(E.ErrInvalidArgument,"unacceptable path");let t=this.root;for(let i=0;i<n.length-1;i++){const o=n[i];if(t=t.children[o],!t)throw new N(E.ErrInvalidArgument,"unacceptable path")}if(t.hasTextChild())return yA(t,n[n.length-1]);if(t.children.length<n[n.length-1])throw new N(E.ErrInvalidArgument,"unacceptable path");return{node:t,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(n){const{node:t,offset:i}=n;if(t.isText){if(t.visibleSize===i){const o=t.nextSibling;return o||t.parent}return t}return t.children.length===i?t:NS(t.children[i])}indexOf(n,t=!1){let{node:i}=n;const{offset:o}=n;let c=0,d=1;if(i.isText){c+=o;const m=i.parent,p=m.findOffset(i,t);if(p===-1)throw new N(E.ErrInvalidArgument,"invalid pos");c+=gl(m,p,t),i=i.parent}else c+=gl(i,o,t);for(;i!=null&&i.parent;){const m=i.parent,p=m.findOffset(i,t);if(p===-1)throw new N(E.ErrInvalidArgument,"invalid pos");c+=gl(m,p,t),d++,i=i.parent}return c+d-1}indexToPath(n){const t=this.findTreePos(n);return this.treePosToPath(t)}}const vA=(s,n)=>s===n?0:s<n?-1:1;class SA{constructor(n,t,i){h(this,"key");h(this,"value");h(this,"left");h(this,"right");h(this,"isRed");this.key=n,this.value=t,this.isRed=i}}class bA{constructor(n){h(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class DS{constructor(n){h(this,"root");h(this,"comparator");h(this,"counter");this.comparator=typeof n<"u"?n:vA,this.counter=0}put(n,t){return this.root=this.putInternal(n,t,this.root),this.root.isRed=!1,t}get(n){const t=this.getInternal(n,this.root);return t?t.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new bA(this.root)}values(){const n=[];for(const t of this.getIterator().stack)n.push(t.value);return n}floorEntry(n){let t=this.root,i;for(;t;){const o=this.comparator(n,t.key);if(o===0)return t;o<0?t=t.left:(i=t,t=t.right)}return i}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,t){for(;t;){const i=this.comparator(n,t.key);if(i===0)return t;i<0?t=t.left:i>0&&(t=t.right)}}putInternal(n,t,i){if(!i)return this.counter+=1,new SA(n,t,!0);const o=this.comparator(n,i.key);return o<0?i.left=this.putInternal(n,t,i.left):o>0?i.right=this.putInternal(n,t,i.right):i.value=t,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,t){if(this.comparator(t,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,t);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(t,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(t,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,t)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const t=n.right;return n.right=t.left,t.left=n,t.isRed=t.left.isRed,t.left.isRed=!0,t}rotateRight(n){const t=n.left;return n.left=t.right,t.right=n,t.isRed=t.right.isRed,t.right.isRed=!0,t}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class Rn{constructor(n,t){h(this,"parentID");h(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=t}static of(n,t){return new Rn(n,t)}static fromTreePos(n){const{offset:t}=n;let{node:i}=n,o;return i.isText?(i.parent.children[0]===i&&t===0?o=i.parent:o=i,i=i.parent):t===0?o=i:o=i.children[t-1],Rn.of(i.id,Se.of(o.getCreatedAt(),o.getOffset()+t))}getParentID(){return this.parentID}static fromStruct(n){return Rn.of(Se.of(An.fromStruct(n.parentID.createdAt),n.parentID.offset),Se.of(An.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const t=this.getParentID(),i=this.getLeftSiblingID(),o=n.findFloorNode(t);let c=n.findFloorNode(i);if(!o||!c)throw new N(E.ErrRefused,`cannot find node of CRDTTreePos(${t.toTestString()}, ${i.toTestString()})`);return!i.equals(t)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class Se{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new Se(n,t)}static fromStruct(n){return Se.of(An.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,t)=>{const i=n.getCreatedAt().compare(t.getCreatedAt());return i!==0?i:n.getOffset()>t.getOffset()?1:n.getOffset()<t.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Fe extends mA{constructor(t,i,o,c,d){super(i);h(this,"id");h(this,"removedAt");h(this,"attrs");h(this,"insPrevID");h(this,"insNextID");h(this,"_value","");this.id=t,this.removedAt=d,c&&(this.attrs=c),typeof o=="string"?this.value=o:Array.isArray(o)&&(this._children=o)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(t,i,o,c){return new Fe(t,i,o,c)}deepcopy(){var i;const t=new Fe(this.id,this.type);return t.removedAt=this.removedAt,t._value=this._value,t.visibleSize=this.visibleSize,t.totalSize=this.totalSize,t.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),t._children=this._children.map(o=>{const c=o.deepcopy();return c.parent=t,c}),t.insPrevID=this.insPrevID,t.insNextID=this.insNextID,t}get value(){if(!this.isText)throw new N(E.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new N(E.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=t,this.visibleSize=t.length,this.totalSize=t.length}get isRemoved(){return!!this.removedAt}remove(t){return this.removedAt?(t.after(this.removedAt)&&(this.removedAt=t),!1):(this.removedAt=t,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(t){return new Fe(Se.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new Fe(Se.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,i,o){const[c,d]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,o);if(c){if(c.insPrevID=this.id,this.insNextID){const m=t.findFloorNode(this.insNextID);m.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,t.registerNode(c)}return[c,d]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,i,o){return i?!!(!this.removedAt||!o&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setAttrs(t,i){this.attrs||(this.attrs=new Xi);const o=[];for(const[c,d]of Object.entries(t))o.push(this.attrs.set(c,d,i));return o}purge(t){this.attrs&&this.attrs.purge(t)}getDataSize(){const t={data:0,meta:0};if(this.isText&&(t.data+=this.visibleSize*2),this.id&&(t.meta+=Zn),this.removedAt&&(t.meta+=Zn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const o=i.getDataSize();t.meta+=o.meta,t.data+=o.data}return t}getGCPairs(){const t=[];if(!this.attrs)return t;for(const i of this.attrs)i.getRemovedAt()&&t.push({parent:this,child:i});return t}}function gm(s){var t;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(gm)};return s.attrs&&(n.attributes=Yi((t=s.attrs)==null?void 0:t.toObject())),n}function Am(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(t=>!t.isRemoved()).sort((t,i)=>t.getKey().localeCompare(i.getKey())).map(t=>{const i=JSON.parse(t.getValue());return typeof i=="string"?`${t.getKey()}="${i}"`:`${t.getKey()}="${Fn(t.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(t=>Am(t)).join("")}</${s.type}>`}function kS(s){if(s.isText){const n=s;return{type:n.type,value:n.value,visibleSize:n.visibleSize,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(kS),visibleSize:s.visibleSize,isRemoved:s.isRemoved}}class Qe extends Ml{constructor(t,i){super(i);h(this,"indexTree");h(this,"nodeMapByID");this.indexTree=new pA(t),this.nodeMapByID=new DS(Se.createComparator()),this.indexTree.traverseAll(o=>{this.nodeMapByID.put(o.id,o)})}static create(t,i){return new Qe(t,i)}findFloorNode(t){const i=this.nodeMapByID.floorEntry(t);if(!(!i||!i.key.getCreatedAt().equals(t.getCreatedAt())))return i.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,i){let o={data:0,meta:0};const[c,d]=t.toTreeNodePair(this);let m=d;const p=c===m,v=m.parent&&!p?m.parent:c;if(m.isText){const[,b]=m.split(this,t.getLeftSiblingID().getOffset()-m.id.getOffset());o=b}if(i){const b=v.allChildren,x=p?0:b.indexOf(m)+1;for(let k=x;k<b.length;k++){const O=b[k];if(!O.id.getCreatedAt().after(i))break;m=O}}return[[v,m],o]}style(t,i,o,c){const d={data:0,meta:0},[[m,p],v]=this.findNodesAndSplitText(t[0],o),[[b,x],k]=this.findNodesAndSplitText(t[1],o);ve(d,k,v);const O=[],V=i?Yi(i):{},q=[];return this.traverseInPosRange(m,p,b,x,([j,_])=>{var gt;const lt=j.getCreatedAt().getActorID();let ct=hm;if(c!=null&&(ct=c.get(lt)?c.get(lt):0n),j.canStyle(o,ct)&&i){const et=j.setAttrs(i,o),nt=et.reduce((Et,[,se])=>(se&&(Et[se.getKey()]=V[se.getKey()]),Et),{}),yt=j.parent,At=j.prevSibling||j.parent;Object.keys(nt).length>0&&O.push({type:"style",from:this.toIndex(yt,At),to:this.toIndex(j,j),fromPath:this.toPath(yt,At),toPath:this.toPath(j,j),actor:o.getActorID(),value:nt});for(const[Et]of et)Et&&q.push({parent:j,child:Et});for(const[Et]of Object.entries(V)){const se=(gt=j.attrs)==null?void 0:gt.getNodeMapByKey().get(Et);se!==void 0&&_!==ee.End&&ve(d,se.getDataSize())}}}),[q,O,d]}removeStyle(t,i,o,c){const d={data:0,meta:0},[[m,p],v]=this.findNodesAndSplitText(t[0],o),[[b,x],k]=this.findNodesAndSplitText(t[1],o);ve(d,k,v);const O=[],V=[];return this.traverseInPosRange(m,p,b,x,([q])=>{const j=q.getCreatedAt().getActorID();let _=hm;if(c!=null&&(_=c.get(j)?c.get(j):0n),q.canStyle(o,_)&&i){q.attrs||(q.attrs=new Xi);for(const gt of i){const et=q.attrs.remove(gt,o);for(const nt of et)V.push({parent:q,child:nt})}const lt=q.parent,ct=q.prevSibling||q.parent;O.push({actor:o.getActorID(),type:"removeStyle",from:this.toIndex(lt,ct),to:this.toIndex(q,q),fromPath:this.toPath(lt,ct),toPath:this.toPath(q,q),value:i})}}),[V,O,d]}edit(t,i,o,c,d,m){const p={data:0,meta:0},[[v,b],x]=this.findNodesAndSplitText(t[0],c),[[k,O],V]=this.findNodesAndSplitText(t[1],c);ve(p,V,x);const q=this.toIndex(v,b),j=this.toPath(v,b),_=[],lt=[],ct=[];this.traverseInPosRange(v,b,k,O,([nt,yt],At)=>{if(yt===ee.Start&&!At)for(const _e of nt.children)ct.push(_e);const Et=m===void 0;let se=!1;const ke=m==null?void 0:m.get(nt.id.getCreatedAt().getActorID());se=Et||ke!==void 0&&ke>=nt.id.getCreatedAt().getLamport();let _t=!1;if(nt.removedAt){const _e=m==null?void 0:m.get(nt.removedAt.getActorID());_t=Et||_e!==void 0&&_e>=nt.removedAt.getLamport()}(nt.canDelete(c,se,_t)||_.includes(nt.parent))&&((yt===ee.Text||yt===ee.Start)&&_.push(nt),lt.push([nt,yt]))},!0);const gt=this.makeDeletionChanges(lt,c),et=[];for(const nt of _)nt.remove(c),nt.isRemoved&&et.push({parent:this,child:nt});for(const nt of ct)nt.removedAt||v.append(nt);if(o>0){let nt=0,yt=v,At=b;for(;nt<o;)yt.split(this,yt.findOffset(At)+1,d),At=yt,yt=yt.parent,nt++;gt.push({type:"content",from:q,to:q,fromPath:j,toPath:j,actor:c.getActorID()})}if(i!=null&&i.length){const nt=[];let yt=b;for(const At of i)yt===v?v.insertAt(At,0):v.insertAfter(At,yt),yt=At,$c(At,Et=>{v.isRemoved?(Et.remove(c),et.push({parent:this,child:Et})):ve(p,Et.getDataSize()),this.nodeMapByID.put(Et.id,Et)}),At.isRemoved||nt.push(At);if(nt.length){const At=nt.map(Et=>gm(Et));gt.length&&gt[gt.length-1].from===q?gt[gt.length-1].value=At:gt.push({type:"content",from:q,to:q,fromPath:j,toPath:j,actor:c.getActorID(),value:At})}}return[gt,et,p]}editT(t,i,o,c,d){const m=this.findPos(t[0]),p=this.findPos(t[1]);return this.edit([m,p],i,o,c,d)}move(t,i,o){throw new N(E.ErrUnimplemented,`not implemented: ${t}, ${i}, ${o}`)}pathToTreePos(t){return this.indexTree.pathToTreePos(t)}purge(t){var c;(c=t.parent)==null||c.removeChild(t),this.nodeMapByID.remove(t.id);const i=t.insPrevID,o=t.insNextID;if(i){const d=this.findFloorNode(i);d.insNextID=o}if(o){const d=this.findFloorNode(o);d.insPrevID=i}t.insPrevID=void 0,t.insNextID=void 0}getGCPairs(){const t=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&t.push({parent:this,child:i});for(const o of i.getGCPairs())t.push(o)}),t}findPos(t,i=!0){const o=this.indexTree.findTreePos(t,i);return Rn.fromTreePos(o)}pathToPosRange(t){const i=this.pathToIndex(t);return[this.findPos(i),this.findPos(i+1)]}pathToPos(t){const i=this.indexTree.pathToIndex(t);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Am(this.indexTree.getRoot())}getDataSize(){const t={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const o=i.getDataSize();t.data+=o.data,t.meta+=o.meta}),{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),i=(o,c=void 0,d=void 0,m=0)=>{var O,V,q,j;let p,v,b;const x=o.isText?{node:o,offset:0}:c&&d?this.toTreePos(c,d):null;x&&(p=this.indexTree.indexOf(x),v=this.indexTree.treePosToPath(x),b=Rn.fromTreePos(x).toStruct());const k={type:o.type,parent:c==null?void 0:c.id.toTestString(),size:o.visibleSize,id:o.id.toTestString(),removedAt:(O=o.removedAt)==null?void 0:O.toTestString(),insPrev:(V=o.insPrevID)==null?void 0:V.toTestString(),insNext:(q=o.insNextID)==null?void 0:q.toTestString(),value:o.isText?o.value:void 0,isRemoved:o.isRemoved,children:[],depth:m,attributes:o.attrs?Yi((j=o.attrs)==null?void 0:j.toObject()):void 0,index:p,path:v,pos:b};for(let _=0;_<o.allChildren.length;_++){const lt=_===0?o:o.allChildren[_-1];k.children.push(i(o.allChildren[_],o,lt,m+1))}return k};return i(t)}getRootTreeNode(){return gm(this.indexTree.getRoot())}toTestTreeNode(){return kS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot(),i=new Qe(t.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(t,i){const o=this.toTreePos(t,i);return o?this.indexTree.treePosToPath(o):[]}toIndex(t,i,o=!1){const c=this.toTreePos(t,i,o);return c?this.indexTree.indexOf(c,o):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const i=this.findPos(t[0]);return t[0]===t[1]?[i,i]:[i,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[i,o]=t,c=this.findPos(i);return i===o?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(o).toStruct()]}posRangeToPathRange(t){const[[i,o]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toPath(i,o),this.toPath(c,d)]}posRangeToIndexRange(t){const[[i,o]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toIndex(i,o),this.toIndex(c,d)]}traverseInPosRange(t,i,o,c,d,m=!1){const p=this.toIndex(t,i,m),v=this.toIndex(o,c,m);this.indexTree.tokensBetween(p,v,d,m)}toTreePos(t,i,o=!1){if(!t||!i)return;if(!o&&t.isRemoved){let d;for(;t.isRemoved;)d=t,t=d.parent;const m=t.findOffset(d,o);return{node:t,offset:m}}if(t===i)return{node:t,offset:0};let c=t.findOffset(i,o);if(o||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(o)};c++}return{node:t,offset:c}}makeDeletionChanges(t,i){const o=[],c=[];let d=null,m=null;for(let p=0;p<t.length;p++){const v=t[p],b=t[p+1];d||(d=v),m=v;const x=this.findRightToken(v);(!x||!b||x[0]!==b[0]||x[1]!==b[1])&&(c.push([d,m]),d=null,m=null)}for(const p of c){const[v,b]=p,[x,k]=this.findLeftToken(v),[O,V]=b,q=k===ee.Start?x:x.parent,j=V===ee.Start?O:O.parent,_=this.toIndex(q,x),lt=this.toIndex(j,O);_<lt&&(o.length>0&&_===o[o.length-1].to?(o[o.length-1].to=lt,o[o.length-1].toPath=this.toPath(j,O)):o.push({type:"content",from:_,to:lt,fromPath:this.toPath(q,x),toPath:this.toPath(j,O),actor:i.getActorID()}))}return o.reverse()}findRightToken([t,i]){if(i===ee.Start){const p=t.allChildren;return p.length>0?[p[0],p[0].isText?ee.Text:ee.Start]:[t,ee.End]}const o=t.parent,c=o.allChildren,d=c.indexOf(t);if(o&&d===c.length-1)return[o,ee.End];const m=c[d+1];return[m,m.isText?ee.Text:ee.Start]}findLeftToken([t,i]){if(i===ee.End){const p=t.allChildren;if(p.length>0){const v=p[p.length-1];return[v,v.isText?ee.Text:ee.End]}return[t,ee.Start]}const o=t.parent,c=o.allChildren,d=c.indexOf(t);if(o&&d===0)return[o,ee.Start];const m=c[d-1];return[m,m.isText?ee.Text:ee.End]}}class Jl extends Mn{constructor(t,i,o,c,d,m){super(t,m);h(this,"fromPos");h(this,"toPos");h(this,"contents");h(this,"splitLevel");this.fromPos=i,this.toPos=o,this.contents=c,this.splitLevel=d}static create(t,i,o,c,d,m){return new Jl(t,i,o,c,d,m)}execute(t,i,o){var x;const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new N(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=this.getExecutedAt(),m=c,[p,v,b]=m.edit([this.fromPos,this.toPos],(x=this.contents)==null?void 0:x.map(k=>k.deepcopy()),this.splitLevel,d,(()=>{let k=d.getDelimiter();return this.contents!==void 0&&(k+=this.contents.length),()=>An.of(d.getLamport(),++k,d.getActorID())})(),o);t.acc(b);for(const k of v)t.registerGCPair(k);return{opInfos:p.map(({from:k,to:O,value:V,splitLevel:q,fromPath:j,toPath:_})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:k,to:O,value:V,splitLevel:q,fromPath:j,toPath:_}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${t}.EDIT(${i},${o},${c.map(d=>Am(d)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ws{constructor(n){h(this,"vector");this.vector=n||new Map}set(n,t){this.vector.set(n,t)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}has(n){return this.vector.has(n)}maxLamport(){let n=BigInt(0);for(const[,t]of this)t>n&&(n=t);return n}max(n){const t=new Map;for(const[i,o]of n){const c=this.vector.get(i),d=c&&c>o?c:o;t.set(i,d)}for(const[i,o]of this){const c=n.get(i),d=c&&c>o?c:o;t.set(i,d)}return new Ws(t)}afterOrEqual(n){const t=this.vector.get(n.getActorID());return t===void 0?!1:t>=n.getLamport()}deepcopy(){const n=new Map;for(const[t,i]of this.vector)n.set(t,i);return new Ws(n)}filter(n){const t=new Map;for(const[i]of n){const o=this.vector.get(i);o!==void 0&&t.set(i,o)}return new Ws(t)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,t]of this.vector)yield[n,t]}}const OS=new Ws(new Map);class Cn{constructor(n,t,i,o,c){h(this,"clientSeq");h(this,"serverSeq");h(this,"actor");h(this,"lamport");h(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=t,this.versionVector=o,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=fm}static of(n,t,i,o,c){return new Cn(n,t,i,o,c)}next(n=!1){if(n)return new Cn(this.clientSeq+1,this.lamport,this.actor,OS,fm);const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new Cn(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(n){if(!n.hasClocks())return this;const t=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,i=this.versionVector.max(n.versionVector),o=new Cn(this.clientSeq,t,this.actor,i);return o.versionVector.set(this.actor,t),o}setClocks(n,t){const i=n>this.lamport?n+1n:this.lamport+1n,o=this.versionVector.max(t);return o.set(this.actor,i),Cn.of(this.clientSeq,i,this.actor,o)}createTimeTicket(n){return An.of(this.lamport,n,this.actor)}setActor(n){return new Cn(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new Cn(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new Cn(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const TA=new Cn(0,0n,Tm,OS);class fo{constructor({id:n,operations:t,presenceChange:i,message:o}){h(this,"id");h(this,"operations");h(this,"presenceChange");h(this,"message");this.id=n,this.operations=t||[],this.presenceChange=i,this.message=o}static create({id:n,operations:t,presenceChange:i,message:o}){return new fo({id:n,operations:t,presenceChange:i,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const t of this.operations)t.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,t,i){const o=[],c=[];for(const d of this.operations){const m=d.execute(n,i,this.id.getVersionVector());if(!m)continue;const{opInfos:p,reverseOp:v}=m;o.push(...p),v&&c.unshift(v)}return this.presenceChange&&(this.presenceChange.type===Wn.Put?t.set(this.id.getActorID(),On(this.presenceChange.presence)):t.delete(this.id.getActorID())),{opInfos:o,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:$t.bytesToHex($t.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>$t.bytesToHex($t.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:t,operations:i,presenceChange:o,message:c}=n;return fo.create({id:$t.bytesToChangeID($t.hexToBytes(t)),operations:i==null?void 0:i.map(d=>$t.bytesToOperation($t.hexToBytes(d))),presenceChange:o,message:c})}}class Yc{constructor(n,t,i,o,c,d){h(this,"documentKey");h(this,"checkpoint");h(this,"isRemoved");h(this,"changes");h(this,"snapshot");h(this,"versionVector");this.documentKey=n,this.checkpoint=t,this.isRemoved=i,this.changes=o,this.snapshot=d,this.versionVector=c}static create(n,t,i,o,c,d){return new Yc(n,t,i,o,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class to{constructor(n,t){h(this,"serverSeq");h(this,"clientSeq");this.serverSeq=n,this.clientSeq=t}static of(n,t){return new to(n,t)}increaseClientSeq(n){return n===0?this:new to(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const t=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return to.of(t,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const wA=new to(0n,0);class _n{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new _n(n,t)}static fromStruct(n){return _n.of(An.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new _n(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const AA=_n.of(oo,0);class zn{constructor(n,t){h(this,"id");h(this,"relativeOffset");this.id=n,this.relativeOffset=t}static of(n,t){return new zn(n,t)}static fromStruct(n){const t=_n.fromStruct(n.id);return zn.of(t,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return _n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class Oa extends vS{constructor(t,i,o){super(i);h(this,"id");h(this,"removedAt");h(this,"prev");h(this,"next");h(this,"insPrev");h(this,"insNext");this.id=t,this.removedAt=o}static create(t,i){return new Oa(t,i)}static createComparator(){return(t,i)=>{const o=t.getCreatedAt().compare(i.getCreatedAt());return o!==0?o:t.getOffset()>i.getOffset()?1:t.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new Oa(this.id.split(t),this.splitValue(t),this.removedAt)}canRemove(t,i,o){return i?!!(!this.removedAt||!o&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setRemovedAt(t){this.removedAt=t}remove(t){if(!this.removedAt){this.removedAt=t;return}t.after(this.removedAt)&&(this.removedAt=t)}createPosRange(){return[zn.of(this.id,0),zn.of(this.id,this.getLength())]}getDataSize(){const t=this.value.getDataSize();return this.id&&(t.meta+=Zn),this.removedAt&&(t.meta+=Zn),t}deepcopy(){return new Oa(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const i=this.value;return this.value=i.substring(0,t),i.substring(t,i.length)}toIDString(){return this.id.toIDString()}}class ho{constructor(){h(this,"head");h(this,"treeByIndex");h(this,"treeByID");this.head=Oa.create(AA),this.treeByIndex=new Cl,this.treeByID=new DS(Oa.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ho}edit(n,t,i,o){const c={data:0,meta:0},[d,m,p]=this.findNodeWithSplit(n[1],t),[v,b,x]=this.findNodeWithSplit(n[0],t);ve(c,m,b);const k=this.findBetween(x,p),[O,V]=this.deleteNodes(k,t,o),q=p?p.getID():d.getID();let j=zn.of(q,0);if(i){const lt=this.posToIndex(v.createPosRange()[1],!0),ct=this.insertAfter(v,Oa.create(_n.of(t,0),i));ve(c,ct.getDataSize()),O.length&&O[O.length-1].from===lt?O[O.length-1].value=i:O.push({actor:t.getActorID(),from:lt,to:lt,value:i}),j=zn.of(ct.getID(),ct.getContentLength())}const _=[];for(const[,lt]of V)_.push({parent:this,child:lt});return[j,_,c,O]}indexToPos(n){const[t,i]=this.treeByIndex.find(n),o=t;return zn.of(o.getID(),i)}findIndexesFromRange(n){const[t,i]=n;return[this.posToIndex(t,!1),this.posToIndex(i,!0)]}posToIndex(n,t){const i=n.getAbsoluteID(),o=t?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!o)throw new N(E.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(o),d=o.isRemoved()?0:i.getOffset()-o.getID().getOffset();return c+d}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const t of this)t.isRemoved()||n.push(t.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new ho;let t=this.head.getNext(),i=n.head,o;for(;t;){if(o=n.insertAfter(i,t.deepcopy()),t.hasInsPrev()){const c=n.findNode(t.getInsPrevID());o.setInsPrev(c)}i=o,t=t.getNext()}return n}toTestString(){const n=[];let t=this.head;for(;t;)t.isRemoved()?n.push(`{${t.toTestString()}}`):n.push(`[${t.toTestString()}]`),t=t.getNext();return n.join("")}insertAfter(n,t){const i=n.getNext();return t.setPrev(n),i&&i.setPrev(t),this.treeByID.put(t.getID(),t),this.treeByIndex.insertAfter(n,t),t}findNodeWithSplit(n,t){const i=n.getAbsoluteID();let o=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-o.getID().getOffset(),[,d]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(t);)o=o.getNext();return[o,d,o.getNext()]}findFloorNodePreferToLeft(n){let t=this.findFloorNode(n);if(!t)throw new N(E.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&t.getID().getOffset()==n.getOffset()){if(!t.hasInsPrev())return t;t=t.getInsPrev()}return t}findFloorNode(n){const t=this.treeByID.floorEntry(n);if(t&&!(!t.key.equals(n)&&!t.key.hasSameCreatedAt(n)))return t.value}findBetween(n,t){const i=[];let o=n;for(;o&&o!==t;)i.push(o),o=o.getNext();return i}splitNode(n,t){const i={data:0,meta:0};if(t>n.getContentLength())throw new N(E.ErrInvalidArgument,"offset should be less than or equal to length");if(t===0)return[n,i];if(t===n.getContentLength())return[n.getNext(),i];const o=n.getDataSize(),c=n.split(t);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const d=n.getInsNext();return d&&d.setInsPrev(c),c.setInsPrev(n),ve(i,n.getDataSize(),c.getDataSize()),es(i,o),[c,i]}deleteNodes(n,t,i){if(!n.length)return[[],new Map];const o=i===void 0||i.size()===0,c=[],d=[],[m,p]=this.findEdgesOfCandidates(n);d.push(m);for(const x of n){let k=!1;if(o)k=!0;else{const V=i==null?void 0:i.get(x.getCreatedAt().getActorID());V&&V>=x.getCreatedAt().getLamport()&&(k=!0)}let O=!1;if(x.getRemovedAt()){const V=i==null?void 0:i.get(x.getRemovedAt().getActorID());(o||V&&V>=x.getRemovedAt().getLamport())&&(O=!0)}x.canRemove(t,k,O)?c.push(x):d.push(x)}d.push(p);const v=this.makeChanges(d,t),b=new Map;for(const x of c)b.set(x.getID().toIDString(),x),x.remove(t);return this.deleteIndexNodes(d),[v,b]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,t){const i=[];let o,c;for(let d=0;d<n.length-1;d++){const m=n[d],p=n[d+1];m.getNext()!=p&&([o]=this.findIndexesFromRange(m.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&i.push({actor:t.getActorID(),from:o,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let t=0;t<n.length-1;t++){const i=n[t],o=n[t+1];i.getNext()!=o&&this.treeByIndex.deleteRange(i,o)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const t=n.getPrev(),i=n.getNext(),o=n.getInsPrev(),c=n.getInsNext();t&&t.setNext(i),i&&i.setPrev(t),n.setPrev(void 0),n.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),n.setInsPrev(void 0),n.setInsNext(void 0)}}const I0=s=>s<0?Math.ceil(s):Math.floor(s);var er=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(er||{});class Ue extends Ml{constructor(t,i,o){super(o);h(this,"valueType");h(this,"value");switch(this.valueType=t,t){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=bt.fromNumber(i).toInt():this.value=I0(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=bt.fromNumber(i):this.value=i;break;default:throw new N(E.ErrUnimplemented,`unimplemented type: ${t}`)}}static create(t,i,o){return new Ue(t,i,o)}static valueFromBytes(t,i){switch(t){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return bt.fromBytesLE(Array.from(i));default:throw new N(E.ErrUnimplemented,`unimplemented type: ${t}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=Ue.create(this.valueType,this.value,this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof bt?1:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?1:0;default:return}}static isSupport(t){return!!Ue.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===0||t===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new N(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function i(o){if(!o.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof o.getValue()}`)}return i(this),i(t),this.valueType===1?this.value=this.value.add(t.getValue()):t.getType()===qt.Long?this.value=this.value+t.getValue().toInt():this.value=bt.fromNumber(this.value+I0(t.getValue())).toInt(),this}}class mo extends Mn{constructor(t,i,o){super(t,o);h(this,"value");this.value=i}static create(t,i,o){return new mo(t,i,o)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ue))throw new N(E.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const o=i,c=this.value.deepcopy();return o.increase(c),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),o=t.getType()===qt.Long?t.getValue().multiply(-1):t.getValue()*-1;return mo.create(this.getParentCreatedAt(),Gt.of(o,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Gi extends Mn{constructor(t,i,o,c,d,m){super(t,m);h(this,"fromPos");h(this,"toPos");h(this,"attributes");h(this,"attributesToRemove");this.fromPos=i,this.toPos=o,this.attributes=c,this.attributesToRemove=d}static create(t,i,o,c,d){return new Gi(t,i,o,c,[],d)}static createTreeRemoveStyleOperation(t,i,o,c,d){return new Gi(t,i,o,new Map,c,d)}execute(t,i,o){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new N(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=c;let m,p,v={data:0,meta:0};if(this.attributes.size){const b={};[...this.attributes].forEach(([x,k])=>b[x]=k),[p,m,v]=d.style([this.fromPos,this.toPos],b,this.getExecutedAt(),o)}else{const b=this.attributesToRemove;[p,m,v]=d.removeStyle([this.fromPos,this.toPos],b,this.getExecutedAt(),o)}t.acc(v);for(const b of p)t.registerGCPair(b);return{opInfos:m.map(({from:b,to:x,value:k,fromPath:O,toPath:V})=>({type:"tree-style",from:b,to:x,value:this.attributes.size?{attributes:k}:{attributesToRemove:k},fromPath:O,toPath:V,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${i},${o},${Object.entries(this.attributes||{}).map(([c,d])=>`${c}:"${d}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Fi extends Mn{constructor(t,i,o,c){super(t,c);h(this,"createdAt");h(this,"value");this.createdAt=i,this.value=o}static create(t,i,o,c){return new Fi(t,i,o,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new N(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new N(E.ErrInvalidArgument,"fail to execute, only array can execute set");const o=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,o),d=this.value.deepcopy();return i.insertAfter(this.createdAt,d,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),t.registerElement(d),{opInfos:[{type:"array-set",path:t.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(t,i){return Fi.create(this.getParentCreatedAt(),t.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(t){this.createdAt=t}}function EA(s){const n=new so,t=n.data;for(const[i,o]of Object.entries(s))t[i]=JSON.stringify(o);return n}function xA(s){if(s.type===Wn.Put)return new Ol({type:rs.PUT,presence:EA(s.presence)});if(s.type===Wn.Clear)return new Ol({type:rs.CLEAR});throw new N(E.ErrUnimplemented,"unimplemented type")}function NA(s){return new yS({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function CS(s){return new Vc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Xc(s.getActorID()),versionVector:Em(s.getVersionVector())})}function W(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Xc(s.getActorID())})}function Em(s){if(!s)return;const n=new Hc;for(const[t,i]of s){const o=uE(Xc(t));n.vector[o]=BigInt(i.toString())}return n}function IS(s){switch(s){case qt.Null:return ft.NULL;case qt.Boolean:return ft.BOOLEAN;case qt.Integer:return ft.INTEGER;case qt.Long:return ft.LONG;case qt.Double:return ft.DOUBLE;case qt.String:return ft.STRING;case qt.Bytes:return ft.BYTES;case qt.Date:return ft.DATE;default:throw new N(E.ErrInvalidType,`unsupported type: ${s}`)}}function BS(s){switch(s){case er.Int:return ft.INTEGER_CNT;case er.Long:return ft.LONG_CNT;default:throw new N(E.ErrInvalidType,`unsupported type: ${s}`)}}function ec(s){if(s instanceof Ee)return new un({type:ft.JSON_OBJECT,createdAt:W(s.getCreatedAt()),value:$S(s)});if(s instanceof xe)return new un({type:ft.JSON_ARRAY,createdAt:W(s.getCreatedAt()),value:aE(s)});if(s instanceof Ze)return new un({type:ft.TEXT,createdAt:W(s.getCreatedAt())});if(s instanceof Gt)return new un({type:IS(s.getType()),createdAt:W(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ue)return new un({type:BS(s.getType()),createdAt:W(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Qe)return new un({type:ft.TREE,createdAt:W(s.getCreatedAt()),value:oE(s)});throw new N(E.ErrUnimplemented,"unimplemented element")}function DA(s){return new Dl({createdAt:W(s.getCreatedAt()),offset:s.getOffset()})}function nc(s){return new is({createdAt:W(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function rc(s){return new ns({parentId:wl(s.getParentID()),leftSiblingId:wl(s.getLeftSiblingID())})}function wl(s){return new Da({createdAt:W(s.getCreatedAt()),offset:s.getOffset()})}function RS(s){const n=new bm;if(s instanceof as){const t=s,i=new gc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.key=t.getKey(),i.value=ec(t.getValue()),i.executedAt=W(t.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof Ba){const t=s,i=new yc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.prevCreatedAt=W(t.getPrevCreatedAt()),i.value=ec(t.getValue()),i.executedAt=W(t.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof Bn){const t=s,i=new pc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.prevCreatedAt=W(t.getPrevCreatedAt()),i.createdAt=W(t.getCreatedAt()),i.executedAt=W(t.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof tr){const t=s,i=new vc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.createdAt=W(t.getCreatedAt()),i.executedAt=W(t.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof Ul){const t=s,i=new Sc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.from=nc(t.getFromPos()),i.to=nc(t.getToPos()),i.content=t.getContent();const o=i.attributes;for(const[c,d]of t.getAttributes())o[c]=d;i.executedAt=W(t.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof Ll){const t=s,i=new bc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.from=nc(t.getFromPos()),i.to=nc(t.getToPos());const o=i.attributes;for(const[c,d]of t.getAttributes())o[c]=d;i.executedAt=W(t.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof mo){const t=s,i=new Tc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.value=ec(t.getValue()),i.executedAt=W(t.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof Jl){const t=s,i=new wc;i.parentCreatedAt=W(t.getParentCreatedAt()),i.from=rc(t.getFromPos()),i.to=rc(t.getToPos()),i.contents=zA(t.getContents()),i.splitLevel=t.getSplitLevel(),i.executedAt=W(t.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof Gi){const t=s,i=new Ac;i.parentCreatedAt=W(t.getParentCreatedAt()),i.from=rc(t.getFromPos()),i.to=rc(t.getToPos());const o=t.getAttributesToRemove();if(o.length>0)i.attributesToRemove=o;else{const c=i.attributes;for(const[d,m]of t.getAttributes())c[d]=m}i.executedAt=W(t.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else if(s instanceof Fi){const t=s,i=new Ec;i.parentCreatedAt=W(t.getParentCreatedAt()),i.createdAt=W(t.getCreatedAt()),i.value=ec(t.getValue()),i.executedAt=W(t.getExecutedAt()),n.body.case="arraySet",n.body.value=i}else throw new N(E.ErrUnimplemented,"unimplemented operation");return n}function kA(s){const n=[];for(const t of s)n.push(RS(t));return n}function OA(s){const n=new mS({id:CS(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=kA(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=xA(s.getPresenceChange())),n}function CA(s){const n=[];for(const t of s)n.push(OA(t));return n}function IA(s){const n=[];for(const t of s)n.push(new gS({key:t.getStrKey(),element:Nm(t.getValue())}));return n}function BA(s){const n=[];for(const t of s)n.push(new Ic({element:Nm(t.getValue())}));return n}function RA(s){const n=[];for(const t of s){const i=new Bc;i.id=DA(t.getID()),i.value=t.getValue().getContent(),i.removedAt=W(t.getRemovedAt());const o=i.attributes,c=t.getValue().getAttrs();for(const d of c){const m=new ao;m.value=d.getValue(),m.updatedAt=W(d.getUpdatedAt()),o[d.getKey()]=m}n.push(i)}return n}function zA(s){const n=[];if(!s||!s.length)return n;for(const t of s)n.push(new Rc({content:xm(t)}));return n}function MA(s){const n={};for(const t of s)n[t.getKey()]=new ao({value:t.getValue(),updatedAt:W(t.getUpdatedAt()),isRemoved:t.isRemoved()});return n}function xm(s){if(!s)return[];const n=[];return $c(s,(t,i)=>{const o=new kl({id:wl(t.id),type:t.type,removedAt:W(t.removedAt),depth:i});t.isText&&(o.value=t.value),t.insPrevID&&(o.insPrevId=wl(t.insPrevID)),t.insNextID&&(o.insNextId=wl(t.insNextID)),t.attrs&&(o.attributes=MA(t.attrs)),n.push(o)}),n}function UA(s){const n=new Le;return n.body.case="jsonObject",n.body.value=new xc({nodes:IA(s.getRHT()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function zS(s){const n=new Le;return n.body.case="jsonArray",n.body.value=new Nc({nodes:BA(s.getElements()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function LA(s){const n=new Le;return n.body.case="primitive",n.body.value=new Dc({type:IS(s.getType()),value:s.toBytes(),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function JA(s){const n=new Le;return n.body.case="text",n.body.value=new kc({nodes:RA(s.getRGATreeSplit()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function qA(s){const n=new Le;return n.body.case="counter",n.body.value=new Oc({type:BS(s.getType()),value:s.toBytes(),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function MS(s){const n=new Le;return n.body.case="tree",n.body.value=new Cc({nodes:xm(s.getRoot()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function Nm(s){if(s instanceof Ee)return UA(s);if(s instanceof xe)return zS(s);if(s instanceof Gt)return LA(s);if(s instanceof Ze)return JA(s);if(s instanceof Ue)return qA(s);if(s instanceof Qe)return MS(s);throw new N(E.ErrUnimplemented,"unimplemented element")}function PA(s){return new Zi({documentKey:s.getDocumentKey(),checkpoint:NA(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:CA(s.getChanges()),snapshot:s.getSnapshot(),versionVector:Em(s.getVersionVector())})}function KA(s){var n;return{id:s.id,label:s.label,description:s.description,snapshot:s.snapshot,createdAt:((n=s.createdAt)==null?void 0:n.toDate())||new Date}}function pl(s){if(!(s instanceof Ut))return{};const n=s.findDetails(iA);for(const t of n)return t.metadata;return{}}function Fs(s){return pl(s).code??""}function Td(s,n){return s instanceof Ut&&Fs(s)===n}function US(s){return Cn.of(s.clientSeq,BigInt(s.lamport),Im(s.actorId),Dm(s.versionVector),BigInt(s.serverSeq))}function Dm(s){if(!s)return;const n=new Ws;return Object.entries(s.vector).forEach(([t,i])=>{const o=Gc(lE(t));n.set(o,BigInt(i.toString()))}),n}function tt(s){if(s)return An.of(BigInt(s.lamport),s.delimiter,Im(s.actorId))}function km(s){const n={};return Object.entries(s.data).forEach(([t,i])=>{n[t]=JSON.parse(i)}),n}function VA(s){const n=s.type;if(n===rs.PUT){const t=km(s.presence);return{type:Wn.Put,presence:t}}if(n===rs.CLEAR)return{type:Wn.Clear};throw new N(E.ErrInvalidType,`unsupported type: ${n}`)}function HA(s){const n=new Map;return Object.entries(s).forEach(([t,i])=>{n.set(t,km(i))}),n}function LS(s){switch(s){case ft.NULL:return qt.Null;case ft.BOOLEAN:return qt.Boolean;case ft.INTEGER:return qt.Integer;case ft.LONG:return qt.Long;case ft.DOUBLE:return qt.Double;case ft.STRING:return qt.String;case ft.BYTES:return qt.Bytes;case ft.DATE:return qt.Date}throw new N(E.ErrUnimplemented,`unimplemented value type: ${s}`)}function Pc(s){switch(s){case ft.INTEGER_CNT:return er.Int;case ft.LONG_CNT:return er.Long}throw new N(E.ErrUnimplemented,`unimplemented value type: ${s}`)}function ic(s){switch(s.type){case ft.JSON_OBJECT:return s.value?jS(s.value):Ee.create(tt(s.createdAt));case ft.JSON_ARRAY:return s.value?iE(s.value):xe.create(tt(s.createdAt));case ft.TEXT:return Ze.create(ho.create(),tt(s.createdAt));case ft.TREE:return sE(s.value);case ft.NULL:case ft.BOOLEAN:case ft.INTEGER:case ft.LONG:case ft.DOUBLE:case ft.STRING:case ft.BYTES:case ft.DATE:return Gt.of(Gt.valueFromBytes(LS(s.type),s.value),tt(s.createdAt));case ft.INTEGER_CNT:case ft.LONG_CNT:return Ue.create(Pc(s.type),Ue.valueFromBytes(Pc(s.type),s.value),tt(s.createdAt))}}function ac(s){return zn.of(_n.of(tt(s.createdAt),s.offset),s.relativeOffset)}function JS(s){return _n.of(tt(s.createdAt),s.offset)}function jA(s){const n=Bl.create(s.value);Object.entries(s.attributes).forEach(([i,o])=>{n.setAttr(i,o.value,tt(o.updatedAt))});const t=Oa.create(JS(s.id),n);return t.setRemovedAt(tt(s.removedAt)),t}function Gs(s){return Rn.of(Al(s.parentId),Al(s.leftSiblingId))}function Al(s){return Se.of(tt(s.createdAt),s.offset)}function $A(s){if(!s.length)return;const n=[];return s.forEach(t=>{const i=Om(t.content);n.push(i)}),n}function Om(s){if(s.length===0)return;const n=[];for(const o of s)n.push(GA(o));const t=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let o=n.length-2;o>=0;o--)i.get(s[o].depth-1).prepend(n[o]),i.set(s[o].depth,n[o]);return t.updateDescendantsSize(),t.updateDescendantsSize(!0),Qe.create(t,oo).getRoot()}function YA(s){const n=Xi.create();for(const[t,i]of Object.entries(s))n.setInternal(t,i.value,tt(i.updatedAt),i.isRemoved);return n}function GA(s){const n=Al(s.id),t=Fe.create(n,s.type),i=Object.entries(s.attributes);return t.isText?t.value=s.value:i.length&&(t.attrs=YA(s.attributes)),s.insPrevId&&(t.insPrevID=Al(s.insPrevId)),s.insNextId&&(t.insNextID=Al(s.insNextId)),t.removedAt=tt(s.removedAt),t}function qS(s){if(s.body.case==="set"){const n=s.body.value;return as.create(n.key,ic(n.value),tt(n.parentCreatedAt),tt(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return Ba.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),ic(n.value),tt(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Bn.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return tr.create(tt(n.parentCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,o])=>{t.set(i,o)}),Ul.create(tt(n.parentCreatedAt),ac(n.from),ac(n.to),n.content,t,tt(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,o])=>{t.set(i,o)}),Ll.create(tt(n.parentCreatedAt),ac(n.from),ac(n.to),t,tt(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return mo.create(tt(n.parentCreatedAt),ic(n.value),tt(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return Jl.create(tt(n.parentCreatedAt),Gs(n.from),Gs(n.to),$A(n.contents),n.splitLevel,tt(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,t=new Map,i=n.attributesToRemove;return(i==null?void 0:i.length)>0?Gi.createTreeRemoveStyleOperation(tt(n.parentCreatedAt),Gs(n.from),Gs(n.to),i,tt(n.executedAt)):(Object.entries(n.attributes).forEach(([o,c])=>{t.set(o,c)}),Gi.create(tt(n.parentCreatedAt),Gs(n.from),Gs(n.to),t,tt(n.executedAt)))}else if(s.body.case==="arraySet"){const n=s.body.value;return Fi.create(tt(n.parentCreatedAt),tt(n.createdAt),ic(n.value),tt(n.executedAt))}else throw new N(E.ErrUnimplemented,"unimplemented operation")}function XA(s){const n=[];for(const t of s){const i=qS(t);i&&n.push(i)}return n}function PS(s){const n=[];for(const t of s)n.push(fo.create({id:US(t.id),operations:XA(t.operations),presenceChange:t.presenceChange?VA(t.presenceChange):void 0,message:t.message}));return n}function FA(s){return to.of(BigInt(s.serverSeq),s.clientSeq)}function ZA(s){return Yc.create(s.documentKey,FA(s.checkpoint),s.isRemoved,PS(s.changes),Dm(s.versionVector),s.snapshot)}function KS(s){const n=new lo;for(const i of s.nodes){const o=Cm(i.element);n.set(i.key,o,o.getPositionedAt())}const t=new Ee(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function VS(s){const n=new Il;for(const i of s.nodes)n.insert(Cm(i.element));const t=new xe(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function QA(s){const n=Gt.of(Gt.valueFromBytes(LS(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function _A(s){const n=new ho;let t=n.getHead();for(const o of s.nodes){const c=n.insertAfter(t,jA(o));o.insPrevId&&c.setInsPrev(n.findNode(JS(o.insPrevId))),t=c}const i=new Ze(n,tt(s.createdAt));return i.setMovedAt(tt(s.movedAt)),i.setRemovedAt(tt(s.removedAt)),i}function WA(s){const n=Ue.create(Pc(s.type),Ue.valueFromBytes(Pc(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function HS(s){const n=Om(s.nodes);return Qe.create(n,tt(s.createdAt))}function Cm(s){if(s.body.case==="jsonObject")return KS(s.body.value);if(s.body.case==="jsonArray")return VS(s.body.value);if(s.body.case==="primitive")return QA(s.body.value);if(s.body.case==="text")return _A(s.body.value);if(s.body.case==="counter")return WA(s.body.value);if(s.body.case==="tree")return HS(s.body.value);throw new N(E.ErrUnimplemented,"unimplemented element")}function tE(s){return s.map(n=>({path:n.path,type:n.type}))}function eE(s){if(!s)return{root:Ee.create(oo),presences:new Map};const n=xd.fromBinary(s);return{root:Cm(n.root),presences:HA(n.presences)}}function nE(s){const n=Em(s);return Gc(n.toBinary())}function rE(s){const n=Bm(s),t=Hc.fromBinary(n);return Dm(t)}function jS(s){if(!s)throw new N(E.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return KS(n.body.value)}function $S(s){return Nm(s).toBinary()}function iE(s){if(!s)throw new N(E.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return VS(n.body.value)}function aE(s){return zS(s).toBinary()}function sE(s){if(!s)throw new N(E.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return HS(n.body.value)}function oE(s){return MS(s).toBinary()}function Gc(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Im(s){return Gc(s)}function Bm(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function lE(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),t=n.length,i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=n.charCodeAt(o);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function Xc(s){return Bm(s)}function uE(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let t=0;t<s.byteLength;t++)n+=String.fromCharCode(s[t]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function cE(s){const n=Vc.fromBinary(s);return US(n)}function fE(s){const n=bm.fromBinary(s);return qS(n)}const $t={fromPresence:km,toChangePack:PA,fromChangePack:ZA,fromChanges:PS,toTreeNodes:xm,fromTreeNodes:Om,objectToBytes:$S,bytesToObject:jS,bytesToSnapshot:eE,bytesToHex:Gc,hexToBytes:Bm,toHexString:Im,toUint8Array:Xc,toOperation:RS,toChangeID:CS,PbChangeID:Vc,bytesToChangeID:cE,bytesToOperation:fE,versionVectorToHex:nE,hexToVersionVector:rE,fromSchemaRules:tE,toRevisionSummary:KA};var ze=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(ze||{});let _a=3;function hE(s){_a=s}const $={trivial:(...s)=>{_a>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{_a>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{_a>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{_a>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{_a>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>_a<=s};function YS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}const wd=()=>{};class dE{constructor(n){h(this,"finalized",!1);h(this,"observers",[]);h(this,"finalError");try{n(this)}catch(t){this.error(t)}}next(n){this.forEachObserver(t=>{t.next(n)})}error(n){this.forEachObserver(t=>{t.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,t,i){let o;if(!n)throw new N(E.ErrInvalidArgument,"missing observer");if(this.finalized)throw new N(E.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?o=n:o={next:n,error:t,complete:i},o.next===void 0&&(o.next=wd),o.error===void 0&&(o.error=wd),o.complete===void 0&&(o.complete=wd);const c=YS(),d=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(m){$.warn(m)}return d}unsubscribeOne(n){var t;this.observers=(t=this.observers)==null?void 0:t.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,n)}sendOne(n,t){if(this.observers!==void 0&&this.observers[n]!==void 0)try{t(this.observers[n].observer)}catch(i){$.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function GS(s){const n=new dE(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class El{constructor(n,t,i,o){h(this,"prevID");h(this,"nextID");h(this,"delimiter");h(this,"message");h(this,"root");h(this,"operations");h(this,"presenceChange");h(this,"previousPresence");h(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=pS,this.root=t,this.operations=[],this.previousPresence=On(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(n,t,i,o){return new El(n,t,i,o)}push(n){this.operations.push(n)}registerElement(n,t){this.root.registerElement(n,t)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return fo.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,t){for(const i of Object.keys(n))t!=null&&t.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const t of this.reversePresenceKeys)n[t]=this.previousPresence[t];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}function XS(s,n){const t=new Rl(s);return new Proxy(n,t.getHandlers())}class Rl{constructor(n){h(this,"context");h(this,"handlers");this.context=n,this.handlers={set:(t,i,o)=>($.isEnabled(ze.Trivial)&&$.trivial(`obj[${i}]=${JSON.stringify(o)}`),Rl.setInternal(n,t,i,o),!0),get:(t,i)=>($.isEnabled(ze.Trivial)&&$.trivial(`obj[${i}]`),i==="getID"?()=>t.getCreatedAt():i==="toJSON"||i==="toString"?()=>t.toJSON():i==="toJS"?()=>t.toJS():i==="toJSForTest"?()=>t.toJSForTest():Wa(n,t.get(i))),ownKeys:t=>t.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(t,i)=>($.isEnabled(ze.Trivial)&&$.trivial(`obj[${i}]`),Rl.deleteInternal(n,t,i),!0)}}static setInternal(n,t,i,o){if(i.includes("."))throw new N(E.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),d=xl(n,o,c),m=t.set(i,d,c);n.registerElement(d,t),m&&n.registerRemovedElement(m),n.push(as.create(i,d.deepcopy(),t.getCreatedAt(),c))}static buildObjectMembers(n,t){const i={};for(const[o,c]of Object.entries(t)){if(o.includes("."))throw new N(E.ErrInvalidObjectKey,"key must not contain the '.'.");const d=n.issueTimeTicket(),m=xl(n,c,d);i[o]=m}return i}static deleteInternal(n,t,i){const o=n.issueTimeTicket(),c=t.deleteByKey(i,o);c&&(n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function mE(s,n){const t=new Ct(s,n);return new Proxy(n,t.getHandlers())}function B0(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function gE(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ct{constructor(n,t){h(this,"context");h(this,"handlers");h(this,"array");this.context=n,this.array=t,this.handlers={get:(i,o,c)=>o==="getID"?()=>i.getCreatedAt():o==="getElementByID"?d=>{const m=i.getByID(d);if(!(!m||m.isRemoved()))return kn(n,m)}:o==="getElementByIndex"?d=>{const m=i.get(d);return kn(n,m)}:o==="getLast"?()=>kn(n,i.getLast()):o==="delete"?d=>{const m=Ct.deleteInternalByIndex(n,i,d);return kn(n,m)}:o==="deleteByID"?d=>{const m=Ct.deleteInternalByID(n,i,d);return kn(n,m)}:o==="insertAfter"?(d,m)=>{const p=Ct.insertAfterInternal(n,i,d,m);return kn(n,p)}:o==="insertIntegerAfter"?(d,m)=>{const p=Ct.insertIntegerAfterInternal(n,i,d,m);return kn(n,p)}:o==="insertBefore"?(d,m)=>{const p=Ct.insertBeforeInternal(n,i,d,m);return kn(n,p)}:o==="setValue"?(d,m)=>{const p=Ct.setValueInternal(n,i,d,m);return kn(n,p)}:o==="moveBefore"?(d,m)=>{Ct.moveBeforeInternal(n,i,d,m)}:o==="moveAfter"?(d,m)=>{Ct.moveAfterInternal(n,i,d,m)}:o==="moveAfterByIndex"?(d,m)=>{Ct.moveAfterByIndexInternal(n,i,d,m)}:o==="moveFront"?d=>{Ct.moveFrontInternal(n,i,d)}:o==="moveLast"?d=>{Ct.moveLastInternal(n,i,d)}:B0(o)?Wa(n,i.get(Number(o))):o==="push"?d=>Ct.pushInternal(n,i,d):o==="splice"?(d,m,...p)=>Ct.splice(n,i,d,m,...p):o==="length"?i.length:typeof o=="symbol"&&o===Symbol.iterator?Ct.iteratorInternal.bind(this,n,i):o==="includes"?(d,m)=>Ct.includes(n,i,d,m):o==="indexOf"?(d,m)=>Ct.indexOf(n,i,d,m):o==="lastIndexOf"?(d,m)=>Ct.lastIndexOf(n,i,d,m):o==="toJSForTest"?()=>i.toJSForTest():o==="toTestString"?()=>Ct.toTestString(i):typeof o=="string"&&gE(o)?(...d)=>{const m=Array.from(i).map(p=>Wa(n,p));return Array.prototype[o].apply(m,d)}:Reflect.get(i,o,c),set:(i,o,c)=>{if(B0(o)){const d=Number(o);return Ct.setValueInternal(n,i,d,c),!0}return Reflect.set(i,o,c)},deleteProperty:(i,o)=>($.isEnabled(ze.Trivial)&&$.trivial(`array[${o}]`),Ct.deleteInternalByIndex(n,i,Number.parseInt(o)),!0)}}static*iteratorInternal(n,t){for(const i of t)yield kn(n,i)}static buildArrayElements(n,t){const i=[];for(const o of t){const c=n.issueTimeTicket(),d=xl(n,o,c);i.push(d)}return i}static pushInternal(n,t,i){return Ct.insertAfterInternal(n,t,t.getLastCreatedAt(),i),t.length}static moveBeforeInternal(n,t,i,o){const c=n.issueTimeTicket(),d=t.getPrevCreatedAt(i);t.moveAfter(d,o,c),n.push(Bn.create(t.getCreatedAt(),d,o,c))}static moveAfterInternal(n,t,i,o){const c=n.issueTimeTicket();n.push(Bn.create(t.getCreatedAt(),i,o,c)),t.moveAfter(i,o,c)}static moveAfterByIndexInternal(n,t,i,o){const c=t.get(i);if(!c)throw new N(E.ErrInvalidArgument,`index out of bounds: ${i}`);const d=t.get(o);if(!d)throw new N(E.ErrInvalidArgument,`index out of bounds: ${o}`);Ct.moveAfterInternal(n,t,c.getCreatedAt(),d.getCreatedAt())}static moveFrontInternal(n,t,i){const o=n.issueTimeTicket(),c=t.getHead();t.moveAfter(c.getCreatedAt(),i,o),n.push(Bn.create(t.getCreatedAt(),c.getCreatedAt(),i,o))}static moveLastInternal(n,t,i){const o=n.issueTimeTicket(),c=t.getLastCreatedAt();t.moveAfter(c,i,o),n.push(Bn.create(t.getCreatedAt(),c,i,o))}static insertAfterInternal(n,t,i,o){const c=n.issueTimeTicket(),d=xl(n,o,c);return t.insertAfter(i,d),n.registerElement(d,t),n.push(Ba.create(t.getCreatedAt(),i,d.deepcopy(),c)),d}static insertIntegerAfterInternal(n,t,i,o){const c=t.get(i);if(!c)throw new N(E.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.insertAfterInternal(n,t,c.getCreatedAt(),o),t}static insertBeforeInternal(n,t,i,o){return Ct.insertAfterInternal(n,t,t.getPrevCreatedAt(i),o)}static setValueInternal(n,t,i,o){const c=t.get(i);if(!c)throw new N(E.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.setByIndexInternal(n,t,c.getCreatedAt(),o),t}static setByIndexInternal(n,t,i,o){const c=n.issueTimeTicket(),d=xl(n,o,c),m=d.deepcopy();return n.push(Fi.create(t.getCreatedAt(),i,m,c)),t.set(i,d,c),n.registerElement(d,t),d}static deleteInternalByIndex(n,t,i){const o=n.issueTimeTicket(),c=t.deleteByIndex(i,o);if(c)return n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c),c}static deleteInternalByID(n,t,i){const o=n.issueTimeTicket(),c=t.delete(i,o);return n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c),c}static splice(n,t,i,o,...c){const d=t.length,m=i>=0?Math.min(i,d):Math.max(d+i,0),p=o===void 0?d:o<0?m:Math.min(m+o,d),v=[];for(let b=m;b<p;b++){const x=Ct.deleteInternalByIndex(n,t,m);if(x){const k=x.deepcopy();k.setRemovedAt(),v.push(Wa(n,k))}}if(c){let b=m===0?t.getHead().getID():t.get(m-1).getID();for(const x of c)b=Ct.insertAfterInternal(n,t,b,x).getID()}return v}static includes(n,t,i,o){var m;const c=t.length,d=o===void 0?0:o<0?Math.max(o+c,0):o;if(d>=c)return!1;if(Gt.isSupport(i))return Array.from(t).map(v=>Wa(n,v)).includes(i,d);for(let p=d;p<c;p++)if(((m=t.get(p))==null?void 0:m.getID())===i.getID())return!0;return!1}static indexOf(n,t,i,o){var m;const c=t.length,d=o===void 0?0:o<0?Math.max(o+c,0):o;if(d>=c)return-1;if(Gt.isSupport(i))return Array.from(t).map(v=>Wa(n,v)).indexOf(i,d);for(let p=d;p<c;p++)if(((m=t.get(p))==null?void 0:m.getID())===i.getID())return p;return-1}static lastIndexOf(n,t,i,o){var m;const c=t.length,d=o===void 0||o>=c?c-1:o<0?o+c:o;if(d<0)return-1;if(Gt.isSupport(i))return Array.from(t).map(v=>Wa(n,v)).lastIndexOf(i,d);for(let p=d;p>0;p--)if(((m=t.get(p))==null?void 0:m.getID())===i.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Rm{constructor(n,t){h(this,"context");h(this,"text");this.context=n,this.text=t}initialize(n,t){this.context=n,this.text=t}getID(){return this.text.getID()}edit(n,t,i,o){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,t);$.isEnabled(ze.Debug)&&$.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${t}->${c[1].toTestString()} c:${i}`);const d=o?co(o):void 0,m=this.context.issueTimeTicket(),[,p,v,b]=this.text.edit(c,i,m,d);this.context.acc(v);for(const x of p)this.context.registerGCPair(x);return this.context.push(new Ul(this.text.getCreatedAt(),c[0],c[1],i,d?new Map(Object.entries(d)):new Map,m)),this.text.findIndexesFromRange(b)}delete(n,t){return this.edit(n,t,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,t,i){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(n,t);$.isEnabled(ze.Debug)&&$.debug(`STYL: f:${n}->${o[0].toTestString()}, t:${t}->${o[1].toTestString()} a:${JSON.stringify(i)}`);const c=co(i),d=this.context.issueTimeTicket(),[m,p]=this.text.setStyle(o,c,d);this.context.acc(p);for(const v of m)this.context.registerGCPair(v);return this.context.push(new Ll(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),d)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");const t=this.text.indexRangeToPosRange(n[0],n[1]);return[t[0].toStruct(),t[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");const t=this.text.findIndexesFromRange([zn.fromStruct(n[0]),zn.fromStruct(n[1])]);return[t[0],t[1]]}toTestString(){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,t){if(!this.context||!this.text)throw new N(E.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,t)}}let zm=class{constructor(n,t){h(this,"valueType");h(this,"value");h(this,"context");h(this,"counter");this.valueType=n,this.value=t}initialize(n,t){this.valueType=t.getValueType(),this.context=n,this.counter=t,this.value=t.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new N(E.ErrNotInitialized,"Counter is not initialized yet");const t=this.context.issueTimeTicket(),i=Gt.of(n,t);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(mo.create(this.counter.getCreatedAt(),i,t)),this}toJSForTest(){if(!this.context||!this.counter)throw new N(E.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Mm(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(t=>Mm(t))};return s.attrs&&(n.attributes=Yi(s.attrs.toObject())),n}function yE(s,n){const t={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Qn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(i=>Mm(i))};return s.attrs?t.attributes=Yi(s.attrs.toObject()):s.isText&&s.parent.attrs&&(t.attributes=Yi(s.parent.attrs.toObject())),t}function pE(s,n){const{node:t}=s,i=[...n].slice(0,-1),o=t.isText?t.parent.getChildrenText().length:t.children.length,c=[...i,o],d=[...i],m=[];d[d.length-1]+=1,n.every((v,b)=>v===c[b])||m.push({fromPath:[...n],toPath:c});const p=yE(t,n[n.length-1]);return p&&m.push({fromPath:d,toPath:d,content:p}),m}function vE(s,n){const{node:t,offset:i}=s,o=t.children[i],c=t.children[i-1],{children:d}=o,m=[...n].slice(0,-1),p=[{fromPath:[...n],toPath:[...m,i+1]}];if(!o.children.length)return p;const v=[...m,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=d.map(x=>Mm(x));return p.push({fromPath:v,toPath:v,content:b}),p}function Um(s,n,t){const{type:i}=s,o=t.issueTimeTicket();if(i===Qn){FS(s);const{value:c}=s,d=Fe.create(Se.of(o,0),i,c);n.append(d)}else{const{children:c=[]}=s,{attributes:d}=s;let m;if(typeof d=="object"&&!AS(d)){const v=co(d);m=new Xi;for(const[b,x]of Object.entries(v))m.set(b,x,o)}const p=Fe.create(Se.of(o,0),i,void 0,m);n.append(p);for(const v of c)Um(v,p,t)}}function SE(s,n){const{type:t}=n,i=s.issueTimeTicket();let o;if(n.type===Qn){const{value:c}=n;o=Fe.create(Se.of(i,0),t,c)}else if(n){const{children:c=[]}=n,{attributes:d}=n;let m;if(typeof d=="object"&&!AS(d)){const p=co(d);m=new Xi;for(const[v,b]of Object.entries(p))m.set(v,b,i)}o=Fe.create(Se.of(s.issueTimeTicket(),0),t,void 0,m);for(const p of c)Um(p,o,s)}return o}function FS(s){if(!s.value.length)throw new N(E.ErrInvalidArgument,"text node cannot have empty value");return!0}function R0(s){if(!s.length)return!0;if(s[0].type===Qn)for(const t of s){const{type:i}=t;if(i!==Qn)throw new N(E.ErrInvalidArgument,"element node and text node cannot be passed together");FS(t)}else for(const t of s){const{type:i}=t;if(i===Qn)throw new N(E.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Lm{constructor(n){h(this,"initialRoot");h(this,"context");h(this,"tree");this.initialRoot=n}initialize(n,t){this.context=n,this.tree=t}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Fe.create(Se.of(n.issueTimeTicket(),0),dA);const t=Fe.create(Se.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Um(i,t,n);return t}getSize(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new N(E.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n),i=pE(t,n);for(const o of i){const{fromPath:c,toPath:d,content:m}=o,p=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(p,v,m?[m]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new N(E.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n);if(t.node.isText)throw new N(E.ErrInvalidArgument,"text node cannot be merged");const i=vE(t,n);for(const o of i){const{fromPath:c,toPath:d,content:m}=o,p=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(p,v,m??[],0)}}styleByPath(n,t){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new N(E.ErrInvalidArgument,"path should not be empty");const[i,o]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),d=t?co(t):void 0,[m,,p]=this.tree.style([i,o],d,c);this.context.acc(p);for(const v of m)this.context.registerGCPair(v);this.context.push(Gi.create(this.tree.getCreatedAt(),i,o,d?new Map(Object.entries(d)):new Map,c))}style(n,t,i){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),m=i?co(i):void 0,[p,,v]=this.tree.style([o,c],m,d);this.context.acc(v);for(const b of p)this.context.registerGCPair(b);this.context.push(Gi.create(this.tree.getCreatedAt(),o,c,m?new Map(Object.entries(m)):new Map,d))}removeStyle(n,t,i){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),[m,,p]=this.tree.removeStyle([o,c],i,d);this.context.acc(p);for(const v of m)this.context.registerGCPair(v);this.context.push(Gi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,i,d))}editInternal(n,t,i,o=0){var v;if(i.length!==0&&i[0]&&(R0(i),i[0].type!==Qn))for(const b of i){const{children:x=[]}=b;R0(x)}const c=this.context.getLastTimeTicket();let d=new Array;if(((v=i[0])==null?void 0:v.type)===Qn){let b="";for(const x of i){const{value:k}=x;b+=k}d.push(Fe.create(Se.of(this.context.issueTimeTicket(),0),Qn,b))}else d=i.map(b=>b&&SE(this.context,b)).filter(b=>b);const[,m,p]=this.tree.edit([n,t],d.length?d.map(b=>b==null?void 0:b.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(p);for(const b of m)this.context.registerGCPair(b);return this.context.push(Jl.create(this.tree.getCreatedAt(),n,t,d.length?d:void 0,o,c)),!0}editByPath(n,t,i,o=0){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new N(E.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new N(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i?[i]:[],o)}editBulkByPath(n,t,i,o=0){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new N(E.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new N(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i,o)}edit(n,t,i,o=0){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i?[i]:[],o)}editBulk(n,t,i,o=0){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new N(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i,o)}toXML(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");const t=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(t);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");const t=[Rn.fromStruct(n[0]),Rn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(t)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new N(E.ErrNotInitialized,"Tree is not initialized yet");const t=[Rn.fromStruct(n[0]),Rn.fromStruct(n[1])];return this.tree.posRangeToPathRange(t)}}function z0(s,n){return XS(s,n)}function kn(s,n){if(n){if(n instanceof Gt)return n;if(n instanceof Ee)return XS(s,n);if(n instanceof xe)return mE(s,n);if(n instanceof Ze)return new Rm(s,n);if(n instanceof Ue){const t=new zm(er.Int,0);return t.initialize(s,n),t}else if(n instanceof Qe){const t=new Lm;return t.initialize(s,n),t}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Wa(s,n){const t=kn(s,n);return t instanceof Gt?t.getValue():t}function xl(s,n,t){let i;if(Gt.isSupport(n))i=Gt.of(n,t);else if(Array.isArray(n))i=xe.create(t,Ct.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Rm?(i=Ze.create(ho.create(),t),n.initialize(s,i)):n instanceof zm?(i=Ue.create(n.getValueType(),n.getValue(),t),n.initialize(s,i)):n instanceof Lm?(i=Qe.create(n.buildRoot(s),t),n.initialize(s,i)):i=Ee.create(t,Rl.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}class zl{constructor(n){h(this,"rootObject");h(this,"elementPairMapByCreatedAt");h(this,"gcElementSetByCreatedAt");h(this,"gcPairMap");h(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(t=>{if(t.getRemovedAt()&&this.registerRemovedElement(t),t instanceof Ze||t instanceof Qe)for(const i of t.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new zl(Ee.create(oo))}findByCreatedAt(n){const t=this.elementPairMapByCreatedAt.get(n.toIDString());if(t)return t.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let t=this.elementPairMapByCreatedAt.get(n.toIDString());if(!t)return[];const i=[];for(;t.parent;){const o=t.element.getCreatedAt(),c=t.parent.subPathOf(o);if(c===void 0)throw new N(E.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);i.unshift(c),t=this.elementPairMapByCreatedAt.get(t.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,t){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:t,element:n}),ve(this.docSize.live,n.getDataSize()),n instanceof ka&&n.getDescendants((i,o)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:o,element:i}),ve(this.docSize.live,i.getDataSize()),!1))}deregisterElement(n){let t=0;const i=o=>{const c=o.getCreatedAt().toIDString();es(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),t++};return i(n),n instanceof ka&&n.getDescendants(o=>(i(o),!1)),t}registerRemovedElement(n){ve(this.docSize.gc,n.getDataSize()),es(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Zn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const i=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ve(this.docSize.gc,i),es(this.docSize.live,i),n.child instanceof Na||(this.docSize.live.meta+=Zn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const t of this.gcElementSetByCreatedAt){n.add(t);const i=this.elementPairMapByCreatedAt.get(t);i.element instanceof ka&&i.element.getDescendants(o=>(n.add(o.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new zl(this.rootObject.deepcopy())}garbageCollect(n){let t=0;for(const i of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(i),c=o.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(o.parent.purge(o.element),t+=this.deregisterElement(o.element))}for(const[,i]of this.gcPairMap){const o=i.child.getRemovedAt();o&&(n!=null&&n.afterOrEqual(o))&&(i.parent.purge(i.child),es(this.docSize.gc,i.child.getDataSize()),this.gcPairMap.delete(i.child.toIDString()),t+=1)}return t}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ve(this.docSize.live,n)}*getGCElementPairs(){for(const n of this.gcElementSetByCreatedAt){const t=this.elementPairMapByCreatedAt.get(n);t&&(yield t)}}}let M0=class{constructor(n,t){h(this,"context");h(this,"presence");this.context=n,this.presence=t}set(n,t){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:Wn.Put,presence:On(this.presence)}),this.context.setReversePresence(n,t)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:Wn.Clear})}};const U0=50;class bE{constructor(){h(this,"undoStack",[]);h(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=U0&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=U0&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(n,t){const i=o=>{for(const c of o)for(const d of c)(d instanceof Fi||d instanceof tr||d instanceof Bn)&&d.getCreatedAt()===n&&d.setCreatedAt(t),(d instanceof Ba||d instanceof Bn)&&d.getPrevCreatedAt()===n&&d.setPrevCreatedAt(t)};i(this.undoStack),i(this.redoStack)}}function TE(s,n){const t=[];for(const i of n){const o=wE(s,i.path),c=AE(o,i);if(!c.valid)for(const d of c.errors||[])t.push(d)}return{valid:t.length===0,errors:t}}function wE(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const t=n.split(".");let i=s;for(let o=1;o<t.length;o++){const c=t[o];if(!(i instanceof Ee))return;i=i.get(c)}return i}function AE(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return xE(s,n);case"object":if(!(s instanceof Ee))return{valid:!1,errors:[{path:n.path,message:`expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof xe))return{valid:!1,errors:[{path:n.path,message:`expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Ze))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Ue))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function EE(s){switch(s){case"null":return qt.Null;case"boolean":return qt.Boolean;case"integer":return qt.Integer;case"long":return qt.Long;case"double":return qt.Double;case"string":return qt.String;case"bytes":return qt.Bytes;case"date":return qt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function xE(s,n){return s instanceof Gt&&s.getType()===EE(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`expected ${n.type} at path ${n.path}`}]}}const NE="yorkie-devtools-panel",DE="yorkie-devtools-sdk";function kE(s){return[de.StatusChanged,de.Snapshot,de.LocalChange,de.RemoteChange,de.Initialized,de.Watched,de.Unwatched,de.PresenceChanged].includes(s.type)}function OE(s){return s.every(kE)}let Zs="disconnected";const L0=new Map,hc=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=hc);function sc(s,n){(n!=null&&n.force||Zs!=="disconnected")&&window.postMessage({source:DE,...s},"*")}function CE(s){if(!s.isEnableDevtools()||typeof window>"u"||L0.has(s.getKey()))return;hc.set(s.getKey(),[]);const n=s.subscribe("all",t=>{OE(t)&&(hc.get(s.getKey()).push(t),Zs==="synced"&&sc({msg:"doc::sync::partial",docKey:s.getKey(),event:t}))});L0.set(s.getKey(),[n]),sc({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",t=>{var o;if(((o=t.data)==null?void 0:o.source)!==NE)return;switch(t.data.msg){case"devtools::connect":if(Zs!=="disconnected")break;Zs="connected",sc({msg:"doc::available",docKey:s.getKey()}),$.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Zs="disconnected",$.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Zs="synced",sc({msg:"doc::sync::full",docKey:s.getKey(),events:hc.get(s.getKey())}),$.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var Aa=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(Aa||{}),de=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.AuthError="auth-error",s))(de||{}),Ca=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Ca||{}),ym=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(ym||{});class xa{constructor(n,t){h(this,"key");h(this,"status");h(this,"opts");h(this,"maxSizeLimit");h(this,"schemaRules");h(this,"changeID");h(this,"checkpoint");h(this,"localChanges");h(this,"root");h(this,"presences");h(this,"clone");h(this,"internalHistory");h(this,"isUpdating");h(this,"onlineClients");h(this,"eventStream");h(this,"eventStreamObserver");h(this,"history");this.key=n,this.status="detached",this.opts=t||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=TA,this.checkpoint=wA,this.localChanges=[],this.root=zl.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new bE,this.isUpdating=!1,this.eventStream=GS(i=>this.eventStreamObserver=i),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},CE(this)}update(n,t){var m,p,v;if(this.getStatus()==="removed")throw new N(E.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),o=El.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},t);try{const b=z0(o,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(b,new M0(o,this.clone.presences.get(i)))}catch(b){throw this.clone=void 0,b}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const b=TE((m=this.clone)==null?void 0:m.root.getObject(),c);if(!b.valid)throw this.clone=void 0,new N(E.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(p=b.errors)==null?void 0:p.map(x=>x.message).join(", ")}`)}const d=fA((v=this.clone)==null?void 0:v.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<d)throw this.clone=void 0,new N(E.ErrDocumentSizeExceedsLimit,`document size exceeded: ${d} > ${this.maxSizeLimit}`);if(o.hasChange()){$.isEnabled(ze.Trivial)&&$.trivial(`trying to update a local change: ${this.toJSON()}`);const b=o.toChange(),{opInfos:x,reverseOps:k}=b.execute(this.root,this.presences,jt.Local);for(const q of b.getOperations())q instanceof Fi&&this.internalHistory.reconcileCreatedAt(q.getCreatedAt(),q.getValue().getCreatedAt());const O=o.getReversePresence();O&&k.push({type:"presence",value:O}),this.localChanges.push(b),k.length&&this.internalHistory.pushUndo(k),x.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const V=[];x.length&&V.push({type:"local-change",source:jt.Local,value:{message:b.getMessage()||"",operations:x,actor:i,clientSeq:b.getID().getClientSeq(),serverSeq:b.getID().getServerSeq()},rawChange:this.isEnableDevtools()?b.toStruct():void 0}),b.hasPresenceChange()&&V.push({type:"presence-changed",source:jt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(V),$.isEnabled(ze.Trivial)&&$.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,t,i,o){if(typeof n=="string"){if(typeof t!="function")throw new N(E.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type!=="initialized"&&v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||m(v)},i,o)}if(n==="my-presence"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type!=="initialized"&&v.type!=="presence-changed"||v.type==="presence-changed"&&v.value.clientID!==this.changeID.getActorID()||m(v)},i,o)}if(n==="others"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||v.value.clientID!==this.changeID.getActorID()&&m(v)},i,o)}if(n==="connection"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type==="connection-changed"&&m(v)},i,o)}if(n==="status"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type==="status-changed"&&m(v)},i,o)}if(n==="sync"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type==="sync-status-changed"&&m(v)},i,o)}if(n==="auth-error"){const m=t;return this.eventStream.subscribe(p=>{for(const v of p)v.type==="auth-error"&&m(v)},i)}if(n==="all"){const m=t;return this.eventStream.subscribe(m,i,o)}const c=n,d=t;return this.eventStream.subscribe(m=>{for(const p of m){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const v=[];for(const b of p.value.operations)this.isSameElementOrChildOf(b.path,c)&&v.push(b);v.length&&d({...p,value:{...p.value,operations:v}})}},i,o)}if(typeof n=="function"){const c=n,d=t,m=i;return this.eventStream.subscribe(p=>{for(const v of p)v.type!=="snapshot"&&v.type!=="local-change"&&v.type!=="remote-change"||c(v)},d,m)}throw new N(E.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}applyChangePack(n){n.hasSnapshot()?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),jt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),n.hasSnapshot()||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),$.isEnabled(ze.Trivial)&&$.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:On(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),t=this.checkpoint.increaseClientSeq(n.length);return Yc.create(this.key,t,!1,n,this.getVersionVector())}setActor(n){for(const t of this.localChanges)t.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=El.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return z0(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,t,i,o=-1){const{root:c,presences:d}=$t.bytesToSnapshot(i);this.root=new zl(c),this.presences=d,this.changeID=this.changeID.setClocks(t.maxLamport(),t),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,jt.Local),this.publish([{type:"snapshot",source:jt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?$t.bytesToHex(i):void 0,snapshotVector:$t.versionVectorToHex(t)}}])}applyChanges(n,t){$.isEnabled(ze.Debug)&&$.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),$.isEnabled(ze.Trivial)&&$.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,t);$.isEnabled(ze.Debug)&&$.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,t){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,t);const i=[],o=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(o)){const d=n.getPresenceChange();switch(d.type){case Wn.Put:i.push(this.presences.has(o)?{type:"presence-changed",source:t,value:{clientID:o,presence:d.presence}}:{type:"watched",source:jt.Remote,value:{clientID:o,presence:d.presence}});break;case Wn.Clear:i.push({type:"unwatched",source:jt.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c}=n.execute(this.root,this.presences,t);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length){const d=this.isEnableDevtools()?n.toStruct():void 0;i.push(t===jt.Remote?{type:"remote-change",source:t,value:{actor:o,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:t,value:{actor:o,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d})}i.length&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const t=n.body.value.clientIds,i=new Set;for(const o of t)o!==this.changeID.getActorID()&&i.add(o);this.setOnlineClients(i),this.publish([{type:"initialized",source:jt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:t,publisher:i}=n.body.value,o=[];if(t===io.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&o.push({type:"watched",source:jt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(t===io.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&o.push({type:"unwatched",source:jt.Remote,value:{clientID:i,presence:c}})}o.length&&this.publish(o)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(Tm),this.publish([{source:n==="removed"?jt.Remote:jt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventsForReplay(n){for(const t of n){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);continue}if(t.type==="snapshot"){const{snapshot:i,serverSeq:o,snapshotVector:c}=t.value;if(!i)continue;this.applySnapshot(BigInt(o),$t.hexToVersionVector(c),$t.hexToBytes(i));continue}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)continue;const i=fo.fromStruct(t.rawChange);this.applyChange(i,t.source)}if(t.type==="initialized"){const i=new Set;for(const{clientID:o,presence:c}of t.value)i.add(o),this.presences.set(o,c);this.setOnlineClients(i)}else if(t.type==="watched"){const{clientID:i,presence:o}=t.value;this.addOnlineClient(i),this.presences.set(i,o)}else if(t.type==="unwatched"){const{clientID:i}=t.value;this.removeOnlineClient(i),this.presences.delete(i)}else if(t.type==="presence-changed"){const{clientID:i,presence:o}=t.value;this.presences.set(i,o)}}}getValueByPath(n){if(!n.startsWith("$"))throw new N(E.ErrInvalidArgument,'path must start with "$"');const t=n.split(".");t.shift();let i=this.getRoot();for(const o of t)if(i=i[o],!i)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?On(n):{}}getOthersPresences(){const n=[],t=this.changeID.getActorID();for(const i of this.onlineClients)i!==t&&this.presences.has(i)&&n.push({clientID:i,presence:On(this.presences.get(i))});return n}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const t=this.presences.get(n);return t?On(t):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:On(this.getMyPresence())});for(const t of this.onlineClients)this.presences.has(t)&&n.push({clientID:t,presence:On(this.presences.get(t))});return n}getPresenceForTest(n){const t=this.presences.get(n);return t?On(t):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(t=>t.clientID!==n).sort((t,i)=>t.clientID>i.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(n,t){if(t===n)return!0;const i=n.split(".");return t.split(".").every((o,c)=>o===i[c])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}executeUndoRedo(n){if(this.isUpdating)throw new N(E.ErrRefused,`${n?"Undo":"Redo"} is not allowed during an update`);const t=n?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!t)throw new N(E.ErrRefused,`There is no operation to be ${n?"undone":"redone"}`);this.ensureClone();const i=El.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const b of t){if(!(b instanceof Mn)){new M0(i,On(this.clone.presences.get(this.changeID.getActorID()))).set(b.value,{addToHistory:!0});continue}const x=i.issueTimeTicket();if(b.setExecutedAt(x),b instanceof Fi){const k=b.getCreatedAt();b.getValue().setCreatedAt(x),this.internalHistory.reconcileCreatedAt(k,x)}else if(b instanceof Ba){const k=b.getValue().getCreatedAt();b.getValue().setCreatedAt(x),this.internalHistory.reconcileCreatedAt(k,x)}i.push(b)}const o=i.toChange();o.execute(this.clone.root,this.clone.presences,jt.UndoRedo);const{opInfos:c,reverseOps:d}=o.execute(this.root,this.presences,jt.UndoRedo),m=i.getReversePresence();if(m&&d.push({type:"presence",value:m}),d.length&&(n?this.internalHistory.pushRedo(d):this.internalHistory.pushUndo(d)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=i.getNextID();const p=this.changeID.getActorID(),v=[];c.length&&v.push({type:"local-change",source:jt.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:p,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&v.push({type:"presence-changed",source:jt.UndoRedo,value:{clientID:p,presence:this.getPresence(p)}}),this.publish(v)}}class J0{constructor(n,t,i,o){h(this,"resource");h(this,"resourceID");h(this,"syncMode");h(this,"changeEventReceived");h(this,"lastHeartbeatTime");h(this,"reconnectStreamDelay");h(this,"cancelled");h(this,"watchStream");h(this,"watchLoopTimerID");h(this,"watchAbortController");this.reconnectStreamDelay=n,this.resource=t,this.resourceID=i,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===Sl.RealtimeSyncOff?!1:this.syncMode===Sl.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Sl.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(n){return this.resource instanceof xa?this.needRealtimeSync():this.syncMode===Sl.Manual?!1:Date.now()-this.lastHeartbeatTime>=n}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(n){const t=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(t,this.reconnectStreamDelay))})}catch{}};await t()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function IE(s,n){let t=n;return{authInterceptor:c=>async d=>(s&&d.header.set("x-api-key",s),t&&d.header.set("authorization",t),await c(d)),setToken:c=>{t=c}}}const BE="@yorkie-js/sdk",RE="0.6.40",q0={name:BE,version:RE};function zE(s){return n=>async t=>(s?t.header.set("x-yorkie-user-agent",s):t.header.set("x-yorkie-user-agent",q0.name+"/"+q0.version),await n(t))}const ME=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var vl=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(vl||{}),_s=(s=>(s.PresenceChanged="presence-changed",s.Initialized="initialized",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(_s||{});const yl=".";class Ea{constructor(n){h(this,"key");h(this,"status");h(this,"actorID");h(this,"sessionID");h(this,"count");h(this,"seq");h(this,"eventStream");h(this,"eventStreamObserver");this.validateChannelKey(n),this.key=n,this.status="detached",this.count=0,this.seq=0,this.eventStream=GS(t=>this.eventStreamObserver=t)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(yl)[0]}getStatus(){return this.status}applyStatus(n){this.status=n}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(n){this.actorID=n}getSessionID(){return this.sessionID}setSessionID(n){this.sessionID=n}getPresenceCount(){return this.count}updateCount(n,t){return t===0||t>this.seq?(this.count=n,this.seq=t,!0):!1}hasLocalChanges(){return!1}subscribe(n,t){if(typeof n=="function")return this.eventStream.subscribe(n);const i=n,o=t;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(i==="broadcast")return this.eventStream.subscribe(d=>{d.type==="broadcast"&&o(d)});if(i==="local-broadcast")return this.eventStream.subscribe(d=>{d.type==="local-broadcast"&&o(d)});if(i==="auth-error")return this.eventStream.subscribe(d=>{d.type==="auth-error"&&o(d)});if(i==="presence")return this.eventStream.subscribe(d=>{(d.type==="presence-changed"||d.type==="initialized")&&o(d)});if(i==="all")return this.eventStream.subscribe(o);const c=i;return this.eventStream.subscribe(d=>{d.type==="broadcast"&&d.topic===c&&o(d)})}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}broadcast(n,t,i){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:n,payload:t,options:i})}validateChannelKey(n){if(n==="")throw new Error("channel key must not be empty");if(n.includes(" "))throw new Error("channel key must not contain a whitespace");if(n.startsWith(yl))throw new Error("channel key must not start with a period");if(n.endsWith(yl))throw new Error("channel key must not end with a period");if(n.includes(`${yl}${yl}`))throw new Error("channel key path must not empty")}}var Sl=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Sl||{});const Xs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Ad={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class ZS{constructor(n){h(this,"id");h(this,"key");h(this,"metadata");h(this,"status");h(this,"attachmentMap");h(this,"apiKey");h(this,"authTokenInjector");h(this,"conditions");h(this,"syncLoopDuration");h(this,"reconnectStreamDelay");h(this,"retrySyncLoopDelay");h(this,"channelHeartbeatInterval");h(this,"rpcClient");h(this,"setAuthToken");h(this,"taskQueue");h(this,"processing",!1);h(this,"keepalive",!1);n=n||Xs;const t=n.rpcAddr||Xs.rpcAddr;this.key=n.key||YS(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Xs.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Xs.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Xs.retrySyncLoopDelay,this.channelHeartbeatInterval=n.channelHeartbeatInterval??Xs.channelHeartbeatInterval;const{authInterceptor:i,setToken:o}=IE(this.apiKey);this.setAuthToken=o,this.rpcClient=z1(rA,nA({baseUrl:t,interceptors:[i,zE(n==null?void 0:n.userAgent)],fetch:(c,d)=>fetch(c,{...d,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),$.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw $.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const t=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:n.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),$.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw $.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=t();return this.keepalive=!1,i}return this.enqueueTask(t)}has(n){return this.attachmentMap.has(n)}attach(n,t){return n instanceof Ea?this.attachChannel(n,t):this.attachDocument(n,t)}attachDocument(n,t={}){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==Aa.Detached)throw new N(E.ErrNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((o,c)=>c.set(t.initialPresence||{}));const i=t.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:$t.toChangePack(n.createChangePack()),schemaKey:t.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(o.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&n.setSchemaRules($t.fromSchemaRules(o.schemaRules));const d=$t.fromChangePack(o.changePack);if(n.applyChangePack(d),n.getStatus()===Aa.Removed)return n;n.applyStatus(Aa.Attached),this.attachmentMap.set(n.getKey(),new J0(this.reconnectStreamDelay,n,o.documentId,i)),i!=="manual"&&await this.runWatchLoop(n.getKey()),$.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const m=n.getRootObject();if(t.initialRoot){const p=t.initialRoot;n.update(v=>{for(const[b,x]of Object.entries(p))if(!m.has(b)){const k=b;v[k]=x}})}return n}catch(o){throw $.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(n,t){return n instanceof Ea?this.detachChannel(n):this.detachDocument(n,t)}detachDocument(n,t={keepalive:!1}){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);n.update((c,d)=>d.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.resourceID,changePack:$t.toChangePack(n.createChangePack()),removeIfNotAttached:t.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),d=$t.fromChangePack(c.changePack);return n.applyChangePack(d),n.getStatus()!==Aa.Removed&&n.applyStatus(Aa.Detached),this.detachInternal(n.getKey()),$.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw $.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(t.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(n,t={}){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==vl.Detached)throw new N(E.ErrNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id);const i=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:n.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${n.getFirstKeyPath()}`}});n.setSessionID(o.sessionId),n.updateCount(Number(o.count),0),n.applyStatus(vl.Attached);const c=t.isRealtime!==!1?"realtime":"manual",d=new J0(this.reconnectStreamDelay,n,o.sessionId,c);return n.subscribe("local-broadcast",m=>{const{topic:p,payload:v,options:b}=m;this.broadcast(n.getKey(),p,v,b).catch(x=>{b!=null&&b.error&&b.error(x),$.error(`[BC] c:"${this.getKey()}" failed: ${x}`)})}),this.attachmentMap.set(n.getKey(),d),c==="realtime"&&await this.runWatchLoop(n.getKey()),$.info(`[AP] c:"${this.getKey()}" attaches p:"${n.getKey()}" mode:${c} count:${n.getPresenceCount()}`),n}catch(o){throw $.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(i)}async detachChannel(n){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(n.getKey()))throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);const t=async()=>{try{const i=await this.rpcClient.detachChannel({clientId:this.id,channelKey:n.getKey(),sessionId:n.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${n.getFirstKeyPath()}`}});return n.updateCount(Number(i.count),0),n.applyStatus(vl.Detached),this.detachInternal(n.getKey()),$.info(`[DP] c:"${this.getKey()}" detaches p:"${n.getKey()}" count:${n.getPresenceCount()}`),n}catch(i){throw $.error(`[DP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(t)}async changeSyncMode(n,t){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);const o=i.syncMode;return o===t?n:(i.changeSyncMode(t),t==="manual"?(i.cancelWatchStream(),n):(t==="realtime"&&(i.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);if(n instanceof Ea){const t=this.attachmentMap.get(n.getKey());if(!t)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t).catch(async i=>{throw $.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}if(n instanceof xa){const t=this.attachmentMap.get(n.getKey());if(!t)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t,"realtime").catch(async i=>{throw $.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.syncMode!==void 0&&i.resource instanceof xa&&t.push(this.syncInternal(i,i.syncMode));return Promise.all(t).catch(async i=>{throw $.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const t=this.attachmentMap.get(n.getKey());if(!t)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=$t.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:t.resourceID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=$t.fromChangePack(o.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),$.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(o){throw $.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}async createRevision(n,t,i){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(n.getKey());if(!o)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);const c=async()=>{try{const d=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:t,description:i||""},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});if(!d.revision)throw new N(E.ErrInvalidArgument,"revision is not returned");return $.info(`[CR] c:"${this.getKey()}" creates revision d:"${n.getKey()}" l:"${t}"`),$t.toRevisionSummary(d.revision)}catch(d){throw $.error(`[CR] c:"${this.getKey()}" err :`,d),await this.handleConnectError(d),d}};return this.enqueueTask(c)}async listRevisions(n,t){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({projectId:"",documentId:i.resourceID,pageSize:(t==null?void 0:t.pageSize)||10,offset:(t==null?void 0:t.offset)||0,isForward:(t==null?void 0:t.isForward)??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});return $.info(`[LR] c:"${this.getKey()}" lists revisions d:"${n.getKey()}" count:${c.revisions.length}`),c.revisions.map($t.toRevisionSummary)}catch(c){throw $.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(n,t){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.get(n.getKey()))throw new N(E.ErrNotAttached,`${n.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,revisionId:t},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),$.info(`[RR] c:"${this.getKey()}" restores revision d:"${n.getKey()}" r:"${t}"`)}catch(c){throw $.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(n,t,i,o){if(!this.isActive())throw new N(E.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new N(E.ErrNotAttached,`${n} is not attached`);if(!ME(i))throw new N(E.ErrInvalidArgument,"payload is not serializable");const d=c.resource,m=(o==null?void 0:o.maxRetries)??Ad.maxRetries,p=Ad.maxBackoff;let v=0;const b=k=>Math.min(Ad.initialRetryInterval*2**k,p),x=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:n,topic:t,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${d.getFirstKeyPath()}`}}),$.info(`[BC] c:"${this.getKey()}" broadcasts p:"${n}" t:"${t}"`)}catch(k){if($.error(`[BC] c:"${this.getKey()}" err:`,k),await this.handleConnectError(k))if(Td(k,E.ErrUnauthenticated)&&c.resource instanceof Ea&&c.resource.publish({type:_s.AuthError,reason:pl(k).reason||"unauthenticated",method:"Broadcast"}),v<m)v++,setTimeout(()=>x(),b(v-1)),$.info(`[BC] c:"${this.getKey()}" retry attempt ${v}/${m}`);else throw $.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),k}});return x()}runSyncLoop(){const n=async()=>{if(!this.isActive()){$.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.needSync(this.channelHeartbeatInterval)&&(i.changeEventReceived!==void 0&&(i.changeEventReceived=!1),t.push(this.syncInternal(i,i.syncMode).catch(o=>{throw Td(o,E.ErrUnauthenticated)&&i.resource.publish([{type:de.AuthError,value:{reason:pl(o).reason,method:"PushPull"}}]),o})));await Promise.all(t),setTimeout(n,this.syncLoopDuration)})}catch(t){$.error(`[SL] c:"${this.getKey()}" sync failed:`,t),await this.handleConnectError(t)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};$.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const t=this.attachmentMap.get(n);if(!t)throw new N(E.ErrNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,t.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new N(E.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(n))return this.conditions.WatchLoop=!1,Promise.reject(new N(E.ErrNotAttached,`${n} is not attached`));const o=new AbortController;return t.resource instanceof xa?this.createDocumentWatchStream(t,n,o,i):t.resource instanceof Ea?this.createChannelWatchStream(t,n,o,i):Promise.reject(new N(E.ErrClientNotActivated,`Unknown resource type for ${n}`))})}createDocumentWatchStream(n,t,i,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:n.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:i.signal});return n.resource.publish([{type:de.ConnectionChanged,value:Ca.Connected}]),$.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),n.changeEventReceived!==void 0&&(n.changeEventReceived=!0),new Promise((d,m)=>{(async()=>{try{for await(const v of c)this.handleWatchDocumentResponse(n,v),v.body.case==="initialization"&&d([c,i]);n.resource.resetOnlineClients(),n.resource.publish([{type:de.Initialized,source:jt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:de.ConnectionChanged,value:Ca.Disconnected}]),$.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(v){n.resource.resetOnlineClients(),n.resource.publish([{type:de.Initialized,source:jt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:de.ConnectionChanged,value:Ca.Disconnected}]),$.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(v)?(Td(v,E.ErrUnauthenticated)&&n.resource.publish([{type:de.AuthError,value:{reason:pl(v).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,m(v)}})()})}createChannelWatchStream(n,t,i,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:t},{headers:{"x-shard-key":`${this.apiKey}/${n.resource.getFirstKeyPath()}`},signal:i.signal});return $.info(`[WP] c:"${this.getKey()}" watches p:"${t}"`),new Promise((d,m)=>{(async()=>{try{let v=!0;for await(const b of c)this.handleWatchChannelResponse(n,b),v&&(v=!1,d([c,i]));$.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream ended`),o()}catch(v){if(v instanceof Error&&v.name==="AbortError"){$.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream aborted`);return}$.debug(`[WP] c:"${this.getKey()}" p:"${t}" err:`,v),await this.handleConnectError(v)?o():this.conditions.WatchLoop=!1,m(v)}})()})}handleWatchChannelResponse(n,t){const i=n.resource;if(t.body.case==="initialized"){const{count:o,seq:c}=t.body.value;i.updateCount(Number(o),Number(c))&&i.publish({type:_s.Initialized,count:Number(o)})}else if(t.body.case==="event"){const o=t.body.value;if(o.type===jc.BROADCAST){const c=new TextDecoder;try{const d=JSON.parse(c.decode(o.payload));i.publish({type:_s.Broadcast,clientID:o.publisher,topic:o.topic,payload:d})}catch(d){$.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,d)}return}i.updateCount(Number(o.count),Number(o.seq))&&i.publish({type:_s.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(n,t){if(t.body.case==="event"&&t.body.value.type===io.DOCUMENT_CHANGED){n.changeEventReceived!==void 0&&(n.changeEventReceived=!0);return}n.resource.applyWatchStream(t)}deactivateInternal(){this.status="deactivated";for(const[n,t]of this.attachmentMap)this.detachInternal(n),t.resource instanceof xa?t.resource.applyStatus(Aa.Detached):t.resource instanceof Ea&&t.resource.applyStatus(vl.Detached)}detachInternal(n){const t=this.attachmentMap.get(n);t&&(t.cancelWatchStream(),t.resource instanceof xa&&t.resource.resetOnlineClients(),this.attachmentMap.delete(n))}async syncInternal(n,t){const{resource:i}=n;if(i instanceof Ea){try{const m=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.updateCount(Number(m.count),0),n.updateHeartbeatTime(),$.debug(`[RP] c:"${this.getKey()}" refreshes p:"${i.getKey()}" mode:${n.syncMode}`)}catch(m){throw $.error(`[RP] c:"${this.getKey()}" err :`,m),m}return i}const o=i,{resourceID:c}=n,d=o.createChangePack();try{const m=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:$t.toChangePack(d),pushOnly:t==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),p=$t.fromChangePack(m.changePack);if(p.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return o;o.applyChangePack(p),n.resource.publish([{type:de.SyncStatusChanged,value:ym.Synced}]),o.getStatus()===Aa.Removed&&this.detachInternal(o.getKey());const v=o.getKey(),b=p.getChangeSize();return $.info(`[PP] c:"${this.getKey()}" sync d:"${v}", push:${d.getChangeSize()} pull:${b} cp:${p.getCheckpoint().toTestString()}`),o}catch(m){throw o.publish([{type:de.SyncStatusChanged,value:ym.SyncFailed}]),$.error(`[PP] c:"${this.getKey()}" err :`,m),m}}async handleConnectError(n){if(!(n instanceof Ut))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(Fs(n)===E.ErrUnauthenticated){if(this.authTokenInjector){const t=await this.authTokenInjector(pl(n).reason);this.setAuthToken(t)}return!0}return Fs(n)===E.ErrTooManySubscribers?($.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Fs(n)===E.ErrTooManyAttachments||(Fs(n)===E.ErrClientNotActivated||Fs(n)===E.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((t,i)=>{this.taskQueue.push(()=>n().then(t).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{$.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}er.Int,er.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:ZS,Document:xa,Primitive:Gt,Text:Rm,Counter:zm,Tree:Lm,Channel:Ea,ChannelEventType:_s,LogLevel:ze,setLogLevel:hE,IntType:er.Int,LongType:er.Long});const UE="@yorkie-js/react",LE="0.6.40",P0={name:UE,version:LE},QS=Kt.createContext({client:void 0,loading:!0,error:void 0});function JE(s){const[n,t]=Kt.useState(void 0),[i,o]=Kt.useState(!0),[c,d]=Kt.useState(void 0),[m,p]=Kt.useState(!1);return Kt.useEffect(()=>{p(!0)},[]),Kt.useEffect(()=>{o(!0),d(void 0);async function v(){if(m)try{const b=new ZS(s);await b.activate(),t(b)}catch(b){d(b instanceof Error?b:new Error("Failed to activate client"))}finally{o(!1)}}return v(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,m]),{client:n,loading:i,error:c}}const qE=({children:s,...n})=>{const t=Kt.useMemo(()=>({userAgent:P0.name+"/"+P0.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:o,error:c}=JE(t);return Ot.jsx(QS.Provider,{value:{client:i,loading:o,error:c},children:s})},PE=()=>{const s=Kt.useContext(QS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function KE(s){const n=new Set;let t=s;const i=()=>{n.forEach(p=>p(t))};return{subscribe:p=>(n.add(p),()=>n.delete(p)),getSnapshot:()=>t,setState:p=>{const v=t;t=typeof p=="function"?p(v):p,v!==t&&i()},destroy:()=>{n.clear()}}}const VE=s=>KE(s);function Jm(s,n,t=Object.is){const i=Kt.useRef(n),o=Kt.useRef(t),c=Kt.useRef(void 0);i.current=n,o.current=t;const d=()=>{const m=s.getSnapshot(),p=i.current?i.current(m):m;return c.current!==void 0&&o.current(c.current,p)?c.current:(c.current=p,p)};return Kt.useSyncExternalStore(s.subscribe,d,d)}function K0(s){return s!=null&&typeof s[Symbol.iterator]=="function"}function V0(s){return"entries"in s&&typeof s.entries=="function"}function HE(s,n){const t=s instanceof Map?s:new Map(s.entries()),i=n instanceof Map?n:new Map(n.entries());if(t.size!==i.size)return!1;for(const[o,c]of t)if(!i.has(o)||!Object.is(c,i.get(o)))return!1;return!0}function jE(s,n){const t=s[Symbol.iterator](),i=n[Symbol.iterator]();let o=t.next(),c=i.next();for(;!o.done&&!c.done;){if(!Object.is(o.value,c.value))return!1;o=t.next(),c=i.next()}return o.done===c.done}function $E(s,n){const t=Object.keys(s),i=Object.keys(n);if(t.length!==i.length)return!1;for(const o of t)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(s[o],n[o]))return!1;return!0}function YE(s,n){if(Object.is(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null||Object.getPrototypeOf(s)!==Object.getPrototypeOf(n))return!1;const t=K0(s),i=K0(n);return t!==i?!1:t&&i?V0(s)&&V0(n)?HE(s,n):jE(s,n):$E(s,n)}function GE(s,n,t,i,o,c,d,m){const p=Kt.useRef(o),v=Kt.useRef(c),[b,x]=Kt.useState(!1);Kt.useEffect(()=>{x(!0)},[]),Kt.useEffect(()=>{if(t){m.setState(q=>({...q,loading:!1,error:t}));return}if(!s||n||!b){m.setState(q=>({...q,loading:!0}));return}m.setState(q=>({...q,loading:!0,error:void 0}));const k=new xa(i,{enableDevtools:d}),O=[];O.push(k.subscribe(()=>{m.setState(q=>({...q,root:k.getRoot()}))})),O.push(k.subscribe("presence",()=>{m.setState(q=>({...q,presences:k.getPresences()}))})),O.push(k.subscribe("connection",q=>{m.setState(j=>({...j,connection:q.value}))}));async function V(){try{await(s==null?void 0:s.attach(k,{initialRoot:p.current,initialPresence:v.current}));const q=j=>{try{k.update(j)}catch(_){m.setState(lt=>({...lt,error:_ instanceof Error?_:new Error("Failed to update document")}))}};m.setState(j=>({...j,doc:k,root:k.getRoot(),presences:k.getPresences(),update:q}))}catch(q){m.setState(j=>({...j,error:q instanceof Error?q:new Error("Failed to attach document")}))}finally{m.setState(q=>({...q,loading:!1}))}}return V(),()=>{s&&s.has(i)&&s.detach(k);for(const q of O)q()}},[s,n,t,i,m,b])}const qm=Kt.createContext(void 0),XE=({docKey:s,initialRoot:n={},initialPresence:t={},enableDevtools:i=!1,children:o})=>{const{client:c,loading:d,error:m}=PE(),p=Kt.useRef(void 0);p.current||(p.current=VE({doc:void 0,root:n,presences:[],connection:Ca.Disconnected,update:()=>{},loading:!0,error:void 0}));const v=p.current;return GE(c,d,m,s,n,t,i,v),Ot.jsx(qm.Provider,{value:v,children:o})},FE=()=>(s,n=YE)=>{const t=Kt.useContext(qm);if(!t)throw new Error("useDocument must be used within a DocumentProvider");return Jm(t,s,n)},ZE=()=>{const s=WS("usePresences");return Jm(s,n=>n.presences)},_S=()=>{const s=WS("useConnection");return Jm(s,n=>n.connection)},WS=s=>{const n=Kt.useContext(qm);if(!n)throw new Error(`${s} must be used within a DocumentProvider`);return n};Kt.createContext(void 0);function QE(){const s=_S();return Ot.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",s===Ca.Connected?Ot.jsx("span",{className:"green",children:" "}):Ot.jsx("span",{className:"red",children:" "})]})}function _E(){const s=ZE();return Ot.jsx("div",{id:"peers-container",children:Ot.jsxs("p",{children:["Peers:"," ",s.map((n,t)=>Ot.jsxs(kw.Fragment,{children:[Ot.jsx("span",{children:n.clientID.slice(-2)}),t<s.length-1&&Ot.jsx("span",{children:", "})]},n.clientID))]})})}const Pm=FE();function WE(){const{counter:s}=Pm(({root:n})=>({counter:n.counter}));return Ot.jsx("div",{id:"counter-value",children:s})}function tx(){const{update:s,connection:n}=Pm(({update:t,connection:i})=>({update:t,connection:i}));return Ot.jsx("button",{id:"increment",disabled:n===Ca.Disconnected,onClick:()=>s(t=>t.counter+=1),children:"Increment"})}function ex(){const{loading:s,error:n}=Pm(({loading:i,error:o})=>({loading:i,error:o})),t=_S();return s?Ot.jsx("p",{children:"Loading..."}):n?Ot.jsxs("div",{id:"error",children:[Ot.jsxs("p",{children:["Error Name: ",n.name]}),Ot.jsxs("p",{children:["Error Message: ",n.message]})]}):Ot.jsxs("div",{className:"counter-side",children:[Ot.jsx(QE,{}),Ot.jsx(_E,{}),Ot.jsxs("div",{id:"counter-container",children:[Ot.jsx("h1",{id:"counter",children:"Counter"}),Ot.jsx(WE,{}),Ot.jsx(tx,{})]}),Ot.jsx("div",{id:"error",children:t===Ca.Disconnected&&Ot.jsx("p",{children:"Stream subscription is disconnected"})})]})}function nx(){return Ot.jsx(qE,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:Ot.jsx("div",{className:"page-container",children:Ot.jsx(XE,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ot.jsx(ex,{})})})})}Mw.createRoot(document.getElementById("root")).render(Ot.jsx(Kt.StrictMode,{children:Ot.jsx(nx,{})}));
