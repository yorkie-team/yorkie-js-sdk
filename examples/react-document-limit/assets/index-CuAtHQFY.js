var sT=Object.defineProperty;var oT=(s,n,e)=>n in s?sT(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var d=(s,n,e)=>oT(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function lT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nh={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function uT(){if(Cp)return Io;Cp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return Io.Fragment=n,Io.jsx=e,Io.jsxs=e,Io}var Rp;function cT(){return Rp||(Rp=1,Nh.exports=uT()),Nh.exports}var Rt=cT(),xh={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function fT(){if(Bp)return ht;Bp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function I(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,j={};function Y(A,H,X){this.props=A,this.context=H,this.refs=j,this.updater=X||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},Y.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=Y.prototype;function ut(A,H,X){this.props=A,this.context=H,this.refs=j,this.updater=X||k}var Q=ut.prototype=new F;Q.constructor=ut,q(Q,Y.prototype),Q.isPureReactComponent=!0;var mt=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function dt(A,H,X,G,rt,Et){return X=Et.ref,{$$typeof:s,type:A,key:H,ref:X!==void 0?X:null,props:Et}}function Tt(A,H){return dt(A.type,H,void 0,void 0,void 0,A.props)}function Vt(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function ce(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return H[X]})}var ye=/\/+/g;function Zt(A,H){return typeof A=="object"&&A!==null&&A.key!=null?ce(""+A.key):H.toString(36)}function na(){}function ra(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(na,na):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function pe(A,H,X,G,rt){var Et=typeof A;(Et==="undefined"||Et==="boolean")&&(A=null);var ct=!1;if(A===null)ct=!0;else switch(Et){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(A.$$typeof){case s:case n:ct=!0;break;case b:return ct=A._init,pe(ct(A._payload),H,X,G,rt)}}if(ct)return rt=rt(A),ct=G===""?"."+Zt(A,0):G,mt(rt)?(X="",ct!=null&&(X=ct.replace(ye,"$&/")+"/"),pe(rt,H,X,"",function(Si){return Si})):rt!=null&&(Vt(rt)&&(rt=Tt(rt,X+(rt.key==null||A&&A.key===rt.key?"":(""+rt.key).replace(ye,"$&/")+"/")+ct)),H.push(rt)),1;ct=0;var Me=G===""?".":G+":";if(mt(A))for(var qt=0;qt<A.length;qt++)G=A[qt],Et=Me+Zt(G,qt),ct+=pe(G,H,X,Et,rt);else if(qt=I(A),typeof qt=="function")for(A=qt.call(A),qt=0;!(G=A.next()).done;)G=G.value,Et=Me+Zt(G,qt++),ct+=pe(G,H,X,Et,rt);else if(Et==="object"){if(typeof A.then=="function")return pe(ra(A),H,X,G,rt);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ct}function U(A,H,X){if(A==null)return A;var G=[],rt=0;return pe(A,G,"","",function(Et){return H.call(X,Et,rt++)}),G}function $(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var ot=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Mt(){}return ht.Children={map:U,forEach:function(A,H,X){U(A,function(){H.apply(this,arguments)},X)},count:function(A){var H=0;return U(A,function(){H++}),H},toArray:function(A){return U(A,function(H){return H})||[]},only:function(A){if(!Vt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ht.Component=Y,ht.Fragment=e,ht.Profiler=l,ht.PureComponent=ut,ht.StrictMode=i,ht.Suspense=p,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ht.__COMPILER_RUNTIME={__proto__:null,c:function(A){return K.H.useMemoCache(A)}},ht.cache=function(A){return function(){return A.apply(null,arguments)}},ht.cloneElement=function(A,H,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var G=q({},A.props),rt=A.key,Et=void 0;if(H!=null)for(ct in H.ref!==void 0&&(Et=void 0),H.key!==void 0&&(rt=""+H.key),H)!st.call(H,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&H.ref===void 0||(G[ct]=H[ct]);var ct=arguments.length-2;if(ct===1)G.children=X;else if(1<ct){for(var Me=Array(ct),qt=0;qt<ct;qt++)Me[qt]=arguments[qt+2];G.children=Me}return dt(A.type,rt,void 0,void 0,Et,G)},ht.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},ht.createElement=function(A,H,X){var G,rt={},Et=null;if(H!=null)for(G in H.key!==void 0&&(Et=""+H.key),H)st.call(H,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(rt[G]=H[G]);var ct=arguments.length-2;if(ct===1)rt.children=X;else if(1<ct){for(var Me=Array(ct),qt=0;qt<ct;qt++)Me[qt]=arguments[qt+2];rt.children=Me}if(A&&A.defaultProps)for(G in ct=A.defaultProps,ct)rt[G]===void 0&&(rt[G]=ct[G]);return dt(A,Et,void 0,void 0,null,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(A){return{$$typeof:g,render:A}},ht.isValidElement=Vt,ht.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:$}},ht.memo=function(A,H){return{$$typeof:y,type:A,compare:H===void 0?null:H}},ht.startTransition=function(A){var H=K.T,X={};K.T=X;try{var G=A(),rt=K.S;rt!==null&&rt(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Mt,ot)}catch(Et){ot(Et)}finally{K.T=H}},ht.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ht.use=function(A){return K.H.use(A)},ht.useActionState=function(A,H,X){return K.H.useActionState(A,H,X)},ht.useCallback=function(A,H){return K.H.useCallback(A,H)},ht.useContext=function(A){return K.H.useContext(A)},ht.useDebugValue=function(){},ht.useDeferredValue=function(A,H){return K.H.useDeferredValue(A,H)},ht.useEffect=function(A,H,X){var G=K.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(A,H)},ht.useId=function(){return K.H.useId()},ht.useImperativeHandle=function(A,H,X){return K.H.useImperativeHandle(A,H,X)},ht.useInsertionEffect=function(A,H){return K.H.useInsertionEffect(A,H)},ht.useLayoutEffect=function(A,H){return K.H.useLayoutEffect(A,H)},ht.useMemo=function(A,H){return K.H.useMemo(A,H)},ht.useOptimistic=function(A,H){return K.H.useOptimistic(A,H)},ht.useReducer=function(A,H,X){return K.H.useReducer(A,H,X)},ht.useRef=function(A){return K.H.useRef(A)},ht.useState=function(A){return K.H.useState(A)},ht.useSyncExternalStore=function(A,H,X){return K.H.useSyncExternalStore(A,H,X)},ht.useTransition=function(){return K.H.useTransition()},ht.version="19.1.0",ht}var kp;function gd(){return kp||(kp=1,xh.exports=fT()),xh.exports}var Pt=gd();const hT=lT(Pt);var Dh={exports:{}},Mo={},Oh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function dT(){return Ip||(Ip=1,function(s){function n(U,$){var ot=U.length;U.push($);t:for(;0<ot;){var Mt=ot-1>>>1,A=U[Mt];if(0<l(A,$))U[Mt]=$,U[ot]=A,ot=Mt;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var $=U[0],ot=U.pop();if(ot!==$){U[0]=ot;t:for(var Mt=0,A=U.length,H=A>>>1;Mt<H;){var X=2*(Mt+1)-1,G=U[X],rt=X+1,Et=U[rt];if(0>l(G,ot))rt<A&&0>l(Et,G)?(U[Mt]=Et,U[rt]=ot,Mt=rt):(U[Mt]=G,U[X]=ot,Mt=X);else if(rt<A&&0>l(Et,ot))U[Mt]=Et,U[rt]=ot,Mt=rt;else break t}}return $}function l(U,$){var ot=U.sortIndex-$.sortIndex;return ot!==0?ot:U.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var p=[],y=[],b=1,E=null,I=3,k=!1,q=!1,j=!1,Y=!1,F=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function mt(U){for(var $=e(y);$!==null;){if($.callback===null)i(y);else if($.startTime<=U)i(y),$.sortIndex=$.expirationTime,n(p,$);else break;$=e(y)}}function K(U){if(j=!1,mt(U),!q)if(e(p)!==null)q=!0,st||(st=!0,Zt());else{var $=e(y);$!==null&&pe(K,$.startTime-U)}}var st=!1,dt=-1,Tt=5,Vt=-1;function ce(){return Y?!0:!(s.unstable_now()-Vt<Tt)}function ye(){if(Y=!1,st){var U=s.unstable_now();Vt=U;var $=!0;try{t:{q=!1,j&&(j=!1,ut(dt),dt=-1),k=!0;var ot=I;try{e:{for(mt(U),E=e(p);E!==null&&!(E.expirationTime>U&&ce());){var Mt=E.callback;if(typeof Mt=="function"){E.callback=null,I=E.priorityLevel;var A=Mt(E.expirationTime<=U);if(U=s.unstable_now(),typeof A=="function"){E.callback=A,mt(U),$=!0;break e}E===e(p)&&i(p),mt(U)}else i(p);E=e(p)}if(E!==null)$=!0;else{var H=e(y);H!==null&&pe(K,H.startTime-U),$=!1}}break t}finally{E=null,I=ot,k=!1}$=void 0}}finally{$?Zt():st=!1}}}var Zt;if(typeof Q=="function")Zt=function(){Q(ye)};else if(typeof MessageChannel<"u"){var na=new MessageChannel,ra=na.port2;na.port1.onmessage=ye,Zt=function(){ra.postMessage(null)}}else Zt=function(){F(ye,0)};function pe(U,$){dt=F(function(){U(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(U){switch(I){case 1:case 2:case 3:var $=3;break;default:$=I}var ot=I;I=$;try{return U()}finally{I=ot}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ot=I;I=U;try{return $()}finally{I=ot}},s.unstable_scheduleCallback=function(U,$,ot){var Mt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Mt+ot:Mt):ot=Mt,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ot+A,U={id:b++,callback:$,priorityLevel:U,startTime:ot,expirationTime:A,sortIndex:-1},ot>Mt?(U.sortIndex=ot,n(y,U),e(p)===null&&U===e(y)&&(j?(ut(dt),dt=-1):j=!0,pe(K,ot-Mt))):(U.sortIndex=A,n(p,U),q||k||(q=!0,st||(st=!0,Zt()))),U},s.unstable_shouldYield=ce,s.unstable_wrapCallback=function(U){var $=I;return function(){var ot=I;I=$;try{return U.apply(this,arguments)}finally{I=ot}}}}(Ch)),Ch}var Mp;function gT(){return Mp||(Mp=1,Oh.exports=dT()),Oh.exports}var Rh={exports:{}},be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function mT(){if(zp)return be;zp=1;var s=gd();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:y,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,be.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,b)},be.flushSync=function(p){var y=h.T,b=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=y,i.p=b,i.d.f()}},be.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},be.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},be.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,E=g(b,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:I,fetchPriority:k}):b==="script"&&i.d.X(p,{crossOrigin:E,integrity:I,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},be.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},be.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=g(b,y.crossOrigin);i.d.L(p,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},be.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},be.requestFormReset=function(p){i.d.r(p)},be.unstable_batchedUpdates=function(p,y){return p(y)},be.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},be.useFormStatus=function(){return h.H.useHostTransitionStatus()},be.version="19.1.0",be}var Up;function yT(){if(Up)return Rh.exports;Up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Rh.exports=mT(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function pT(){if(Lp)return Mo;Lp=1;var s=gT(),n=gd(),e=yT();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,o=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),t;if(f===o)return g(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,v=u.child;v;){if(v===a){m=!0,a=u,o=f;break}if(v===o){m=!0,o=u,a=f;break}v=v.sibling}if(!m){for(v=f.child;v;){if(v===a){m=!0,a=f,o=u;break}if(v===o){m=!0,o=f,a=u;break}v=v.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Vt=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Zt(t){return t===null||typeof t!="object"?null:(t=ye&&t[ye]||t["@@iterator"],typeof t=="function"?t:null)}var na=Symbol.for("react.client.reference");function ra(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===na?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case Y:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case st:return"SuspenseList";case Vt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case mt:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dt:return r=t.displayName||null,r!==null?r:ra(t.type)||"Memo";case Tt:r=t._payload,t=t._init;try{return ra(t(r))}catch{}}return null}var pe=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Mt=[],A=-1;function H(t){return{current:t}}function X(t){0>A||(t.current=Mt[A],Mt[A]=null,A--)}function G(t,r){A++,Mt[A]=t.current,t.current=r}var rt=H(null),Et=H(null),ct=H(null),Me=H(null);function qt(t,r){switch(G(ct,r),G(Et,t),G(rt,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?rp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=rp(r),t=ip(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(rt),G(rt,t)}function Si(){X(rt),X(Et),X(ct)}function uc(t){t.memoizedState!==null&&G(Me,t);var r=rt.current,a=ip(r,t.type);r!==a&&(G(Et,t),G(rt,a))}function al(t){Et.current===t&&(X(rt),X(Et)),Me.current===t&&(X(Me),Oo._currentValue=ot)}var cc=Object.prototype.hasOwnProperty,fc=s.unstable_scheduleCallback,hc=s.unstable_cancelCallback,q0=s.unstable_shouldYield,J0=s.unstable_requestPaint,Cn=s.unstable_now,H0=s.unstable_getCurrentPriorityLevel,Ld=s.unstable_ImmediatePriority,qd=s.unstable_UserBlockingPriority,sl=s.unstable_NormalPriority,V0=s.unstable_LowPriority,Jd=s.unstable_IdlePriority,j0=s.log,P0=s.unstable_setDisableYieldValue,zs=null,ze=null;function bi(t){if(typeof j0=="function"&&P0(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zs,t)}catch{}}var Ue=Math.clz32?Math.clz32:K0,Y0=Math.log,G0=Math.LN2;function K0(t){return t>>>=0,t===0?32:31-(Y0(t)/G0|0)|0}var ol=256,ll=4194304;function ia(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ul(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?u=ia(o):(m&=v,m!==0?u=ia(m):a||(a=v&~t,a!==0&&(u=ia(a))))):(v=o&~f,v!==0?u=ia(v):m!==0?u=ia(m):a||(a=o&~t,a!==0&&(u=ia(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function Us(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function $0(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(){var t=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),t}function Vd(){var t=ll;return ll<<=1,(ll&62914560)===0&&(ll=4194304),t}function dc(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ls(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function X0(t,r,a,o,u,f){var m=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,T=t.expirationTimes,O=t.hiddenUpdates;for(a=m&~a;0<a;){var z=31-Ue(a),J=1<<z;v[z]=0,T[z]=-1;var R=O[z];if(R!==null)for(O[z]=null,z=0;z<R.length;z++){var B=R[z];B!==null&&(B.lane&=-536870913)}a&=~J}o!==0&&jd(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~r))}function jd(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ue(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Pd(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-Ue(a),u=1<<o;u&r|t[o]&r&&(t[o]|=r),a&=~u}}function gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yd(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:wp(t.type))}function Z0(t,r){var a=$.p;try{return $.p=t,r()}finally{$.p=a}}var Ti=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ti,Ne="__reactProps$"+Ti,Ia="__reactContainer$"+Ti,yc="__reactEvents$"+Ti,Q0="__reactListeners$"+Ti,_0="__reactHandles$"+Ti,Gd="__reactResources$"+Ti,qs="__reactMarker$"+Ti;function pc(t){delete t[ve],delete t[Ne],delete t[yc],delete t[Q0],delete t[_0]}function Ma(t){var r=t[ve];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ia]||a[ve]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=lp(t);t!==null;){if(a=t[ve])return a;t=lp(t)}return r}t=a,a=t.parentNode}return null}function za(t){if(t=t[ve]||t[Ia]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Js(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ua(t){var r=t[Gd];return r||(r=t[Gd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function se(t){t[qs]=!0}var Kd=new Set,$d={};function aa(t,r){La(t,r),La(t+"Capture",r)}function La(t,r){for($d[t]=r,t=0;t<r.length;t++)Kd.add(r[t])}var F0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},Zd={};function W0(t){return cc.call(Zd,t)?!0:cc.call(Xd,t)?!1:F0.test(t)?Zd[t]=!0:(Xd[t]=!0,!1)}function cl(t,r,a){if(W0(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function fl(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Zn(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}var vc,Qd;function qa(t){if(vc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vc=r&&r[1]||"",Qd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vc+t+Qd}var Sc=!1;function bc(t,r){if(!t||Sc)return"";Sc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var R=B}Reflect.construct(t,[],J)}else{try{J.call()}catch(B){R=B}t.call(J.prototype)}}else{try{throw Error()}catch(B){R=B}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],v=f[1];if(m&&v){var T=m.split(`
`),O=v.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===O.length)for(o=T.length-1,u=O.length-1;1<=o&&0<=u&&T[o]!==O[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==O[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==O[u]){var z=`
`+T[o].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=o&&0<=u);break}}}finally{Sc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qa(a):""}function tS(t){switch(t.tag){case 26:case 27:case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return bc(t.type,!1);case 11:return bc(t.type.render,!1);case 1:return bc(t.type,!0);case 31:return qa("Activity");default:return""}}function _d(t){try{var r="";do r+=tS(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fd(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eS(t){var r=Fd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function hl(t){t._valueTracker||(t._valueTracker=eS(t))}function Wd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=Fd(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nS=/[\n"\\]/g;function Ze(t){return t.replace(nS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tc(t,r,a,o,u,f,m,v){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),r!=null?m==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Xe(r)):t.value!==""+Xe(r)&&(t.value=""+Xe(r)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),r!=null?Ac(t,m,Xe(r)):a!=null?Ac(t,m,Xe(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Xe(v):t.removeAttribute("name")}function tg(t,r,a,o,u,f,m,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Xe(a):"",r=r!=null?""+Xe(r):a,v||r===t.value||(t.value=r),t.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Ac(t,r,a){r==="number"&&dl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ja(t,r,a,o){if(t=t.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=r.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),r=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}r!==null||t[u].disabled||(r=t[u])}r!==null&&(r.selected=!0)}}function eg(t,r,a){if(r!=null&&(r=""+Xe(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Xe(a):""}function ng(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(pe(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=Xe(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Ha(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var rS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rg(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||rS.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ig(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&a[u]!==o&&rg(t,u,o)}else for(var f in r)r.hasOwnProperty(f)&&rg(t,f,r[f])}function wc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(t){return aS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ec=null;function Nc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,ja=null;function ag(t){var r=za(t);if(r&&(t=r.stateNode)){var a=t[Ne]||null;t:switch(t=r.stateNode,r.type){case"input":if(Tc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ze(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var u=o[Ne]||null;if(!u)throw Error(i(90));Tc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&Wd(o)}break t;case"textarea":eg(t,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ja(t,!!a.multiple,r,!1)}}}var xc=!1;function sg(t,r,a){if(xc)return t(r,a);xc=!0;try{var o=t(r);return o}finally{if(xc=!1,(Va!==null||ja!==null)&&(Wl(),Va&&(r=Va,t=ja,ja=Va=null,ag(r),t)))for(r=0;r<t.length;r++)ag(t[r])}}function Hs(t,r){var a=t.stateNode;if(a===null)return null;var o=a[Ne]||null;if(o===null)return null;a=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(Qn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Dc=!1}var Ai=null,Oc=null,ml=null;function og(){if(ml)return ml;var t,r=Oc,a=r.length,o,u="value"in Ai?Ai.value:Ai.textContent,f=u.length;for(t=0;t<a&&r[t]===u[t];t++);var m=a-t;for(o=1;o<=m&&r[a-o]===u[f-o];o++);return ml=u.slice(t,1<o?1-o:void 0)}function yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function lg(){return!1}function xe(t){function r(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pl:lg,this.isPropagationStopped=lg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),r}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=xe(sa),js=b({},sa,{view:0,detail:0}),sS=xe(js),Cc,Rc,Ps,Sl=b({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ps&&(Ps&&t.type==="mousemove"?(Cc=t.screenX-Ps.screenX,Rc=t.screenY-Ps.screenY):Rc=Cc=0,Ps=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),ug=xe(Sl),oS=b({},Sl,{dataTransfer:0}),lS=xe(oS),uS=b({},js,{relatedTarget:0}),Bc=xe(uS),cS=b({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=xe(cS),hS=b({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=xe(hS),gS=b({},sa,{data:0}),cg=xe(gS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=pS[t])?!!r[t]:!1}function kc(){return vS}var SS=b({},js,{key:function(t){if(t.key){var r=mS[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bS=xe(SS),TS=b({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fg=xe(TS),AS=b({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),wS=xe(AS),ES=b({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=xe(ES),xS=b({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DS=xe(xS),OS=b({},sa,{newState:0,oldState:0}),CS=xe(OS),RS=[9,13,27,32],Ic=Qn&&"CompositionEvent"in window,Ys=null;Qn&&"documentMode"in document&&(Ys=document.documentMode);var BS=Qn&&"TextEvent"in window&&!Ys,hg=Qn&&(!Ic||Ys&&8<Ys&&11>=Ys),dg=" ",gg=!1;function mg(t,r){switch(t){case"keyup":return RS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function kS(t,r){switch(t){case"compositionend":return yg(r);case"keypress":return r.which!==32?null:(gg=!0,dg);case"textInput":return t=r.data,t===dg&&gg?null:t;default:return null}}function IS(t,r){if(Pa)return t==="compositionend"||!Ic&&mg(t,r)?(t=og(),ml=Oc=Ai=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hg&&r.locale!=="ko"?null:r.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!MS[t.type]:r==="textarea"}function vg(t,r,a,o){Va?ja?ja.push(o):ja=[o]:Va=o,r=au(r,"onChange"),0<r.length&&(a=new vl("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Gs=null,Ks=null;function zS(t){Fy(t,0)}function bl(t){var r=Js(t);if(Wd(r))return t}function Sg(t,r){if(t==="change")return r}var bg=!1;if(Qn){var Mc;if(Qn){var zc="oninput"in document;if(!zc){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),zc=typeof Tg.oninput=="function"}Mc=zc}else Mc=!1;bg=Mc&&(!document.documentMode||9<document.documentMode)}function Ag(){Gs&&(Gs.detachEvent("onpropertychange",wg),Ks=Gs=null)}function wg(t){if(t.propertyName==="value"&&bl(Ks)){var r=[];vg(r,Ks,t,Nc(t)),sg(zS,r)}}function US(t,r,a){t==="focusin"?(Ag(),Gs=r,Ks=a,Gs.attachEvent("onpropertychange",wg)):t==="focusout"&&Ag()}function LS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bl(Ks)}function qS(t,r){if(t==="click")return bl(r)}function JS(t,r){if(t==="input"||t==="change")return bl(r)}function HS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Le=typeof Object.is=="function"?Object.is:HS;function $s(t,r){if(Le(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!cc.call(r,u)||!Le(t[u],r[u]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,r){var a=Eg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Eg(a)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=dl(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=dl(t.document)}return r}function Uc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var VS=Qn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Lc=null,Xs=null,qc=!1;function Og(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qc||Ya==null||Ya!==dl(o)||(o=Ya,"selectionStart"in o&&Uc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xs&&$s(Xs,o)||(Xs=o,o=au(Lc,"onSelect"),0<o.length&&(r=new vl("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=Ya)))}function oa(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ga={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Jc={},Cg={};Qn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function la(t){if(Jc[t])return Jc[t];if(!Ga[t])return t;var r=Ga[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Cg)return Jc[t]=r[a];return t}var Rg=la("animationend"),Bg=la("animationiteration"),kg=la("animationstart"),jS=la("transitionrun"),PS=la("transitionstart"),YS=la("transitioncancel"),Ig=la("transitionend"),Mg=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function bn(t,r){Mg.set(t,r),aa(r,[t])}var zg=new WeakMap;function Qe(t,r){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_d(r)},zg.set(t,r),r)}return{value:t,source:r,stack:_d(r)}}var _e=[],Ka=0,Vc=0;function Tl(){for(var t=Ka,r=Vc=Ka=0;r<t;){var a=_e[r];_e[r++]=null;var o=_e[r];_e[r++]=null;var u=_e[r];_e[r++]=null;var f=_e[r];if(_e[r++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Ug(a,u,f)}}function Al(t,r,a,o){_e[Ka++]=t,_e[Ka++]=r,_e[Ka++]=a,_e[Ka++]=o,Vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function jc(t,r,a,o){return Al(t,r,a,o),wl(t)}function $a(t,r){return Al(t,null,null,r),wl(t)}function Ug(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&r!==null&&(u=31-Ue(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[r]:o.push(r),r.lane=a|536870912),f):null}function wl(t){if(50<bo)throw bo=0,Zf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function GS(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,r,a,o){return new GS(t,r,a,o)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _n(t,r){var a=t.alternate;return a===null?(a=qe(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function El(t,r,a,o,u,f){var m=0;if(o=t,typeof t=="function")Pc(t)&&(m=1);else if(typeof t=="string")m=$b(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Vt:return t=qe(31,a,r,u),t.elementType=Vt,t.lanes=f,t;case q:return ua(a.children,u,f,r);case j:m=8,u|=24;break;case Y:return t=qe(12,a,r,u|2),t.elementType=Y,t.lanes=f,t;case K:return t=qe(13,a,r,u),t.elementType=K,t.lanes=f,t;case st:return t=qe(19,a,r,u),t.elementType=st,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case Q:m=10;break t;case ut:m=9;break t;case mt:m=11;break t;case dt:m=14;break t;case Tt:m=16,o=null;break t}m=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=qe(m,a,r,u),r.elementType=t,r.type=o,r.lanes=f,r}function ua(t,r,a,o){return t=qe(7,t,o,r),t.lanes=a,t}function Yc(t,r,a){return t=qe(6,t,null,r),t.lanes=a,t}function Gc(t,r,a){return r=qe(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Za=[],Qa=0,Nl=null,xl=0,Fe=[],We=0,ca=null,Fn=1,Wn="";function fa(t,r){Za[Qa++]=xl,Za[Qa++]=Nl,Nl=t,xl=r}function qg(t,r,a){Fe[We++]=Fn,Fe[We++]=Wn,Fe[We++]=ca,ca=t;var o=Fn;t=Wn;var u=32-Ue(o)-1;o&=~(1<<u),a+=1;var f=32-Ue(r)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,Fn=1<<32-Ue(r)+u|a<<u|o,Wn=f+t}else Fn=1<<f|a<<u|o,Wn=t}function Kc(t){t.return!==null&&(fa(t,1),qg(t,1,0))}function $c(t){for(;t===Nl;)Nl=Za[--Qa],Za[Qa]=null,xl=Za[--Qa],Za[Qa]=null;for(;t===ca;)ca=Fe[--We],Fe[We]=null,Wn=Fe[--We],Fe[We]=null,Fn=Fe[--We],Fe[We]=null}var we=null,Yt=null,xt=!1,ha=null,Rn=!1,Xc=Error(i(519));function da(t){var r=Error(i(418,""));throw _s(Qe(r,t)),Xc}function Jg(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[ve]=t,r[Ne]=o,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Ao.length;a++)vt(Ao[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),tg(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),hl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),ng(r,o.value,o.defaultValue,o.children),hl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||np(r.textContent,a)?(o.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),o.onScroll!=null&&vt("scroll",r),o.onScrollEnd!=null&&vt("scrollend",r),o.onClick!=null&&(r.onclick=su),r=!0):r=!1,r||da(t)}function Hg(t){for(we=t.return;we;)switch(we.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:we=we.return}}function Zs(t){if(t!==we)return!1;if(!xt)return Hg(t),xt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fh(t.type,t.memoizedProps)),a=!a),a&&Yt&&da(t),Hg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Yt=An(t.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Yt=null}}else r===27?(r=Yt,qi(t.type)?(t=mh,mh=null,Yt=t):Yt=r):Yt=we?An(t.stateNode.nextSibling):null;return!0}function Qs(){Yt=we=null,xt=!1}function Vg(){var t=ha;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),ha=null),t}function _s(t){ha===null?ha=[t]:ha.push(t)}var Zc=H(null),ga=null,tr=null;function wi(t,r,a){G(Zc,r._currentValue),r._currentValue=a}function er(t){t._currentValue=Zc.current,X(Zc)}function Qc(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function _c(t,r,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=u;for(var T=0;T<r.length;T++)if(v.context===r[T]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Qc(f.return,a,t),o||(m=null);break t}f=v.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),Qc(m,a,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function Fs(t,r,a,o){t=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var v=u.type;Le(u.pendingProps.value,m.value)||(t!==null?t.push(v):t=[v])}}else if(u===Me.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}u=u.return}t!==null&&_c(r,t,a,o),r.flags|=262144}function Dl(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){ga=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Se(t){return jg(ga,t)}function Ol(t,r){return ga===null&&ma(t),jg(t,r)}function jg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(i(308));tr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else tr=tr.next=r;return a}var KS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},$S=s.unstable_scheduleCallback,XS=s.unstable_NormalPriority,re={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new KS,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&$S(XS,function(){t.controller.abort()})}var to=null,Wc=0,_a=0,Fa=null;function ZS(t,r){if(to===null){var a=to=[];Wc=0,_a=nh(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wc++,r.then(Pg,Pg),r}function Pg(){if(--Wc===0&&to!==null){Fa!==null&&(Fa.status="fulfilled");var t=to;to=null,_a=0,Fa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function QS(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Yg=U.S;U.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZS(t,r),Yg!==null&&Yg(t,r)};var ya=H(null);function tf(){var t=ya.current;return t!==null?t:Lt.pooledCache}function Cl(t,r){r===null?G(ya,ya.current):G(ya,r.pool)}function Gg(){var t=tf();return t===null?null:{parent:re._currentValue,pool:t}}var eo=Error(i(460)),Kg=Error(i(474)),Rl=Error(i(542)),ef={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bl(){}function Xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Bl,Bl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qg(t),t;default:if(typeof r.status=="string")r.then(Bl,Bl);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qg(t),t}throw no=r,eo}}var no=null;function Zg(){if(no===null)throw Error(i(459));var t=no;return no=null,t}function Qg(t){if(t===eo||t===Rl)throw Error(i(483))}var Ei=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xi(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ot&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=wl(t),Ug(t,null,a),r}return Al(t,o,r,a),wl(t)}function ro(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Pd(t,a)}}function af(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var sf=!1;function io(){if(sf){var t=Fa;if(t!==null)throw t}}function ao(t,r,a,o){sf=!1;var u=t.updateQueue;Ei=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var T=v,O=T.next;T.next=null,m===null?f=O:m.next=O,m=T;var z=t.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==m&&(v===null?z.firstBaseUpdate=O:v.next=O,z.lastBaseUpdate=T))}if(f!==null){var J=u.baseState;m=0,z=O=T=null,v=f;do{var R=v.lane&-536870913,B=R!==v.lane;if(B?(At&R)===R:(o&R)===R){R!==0&&R===_a&&(sf=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var lt=t,it=v;R=r;var It=a;switch(it.tag){case 1:if(lt=it.payload,typeof lt=="function"){J=lt.call(It,J,R);break t}J=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=it.payload,R=typeof lt=="function"?lt.call(It,J,R):lt,R==null)break t;J=b({},J,R);break t;case 2:Ei=!0}}R=v.callback,R!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[R]:B.push(R))}else B={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(O=z=B,T=J):z=z.next=B,m|=R;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;B=v,v=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);z===null&&(T=J),u.baseState=T,u.firstBaseUpdate=O,u.lastBaseUpdate=z,f===null&&(u.shared.lanes=0),Mi|=m,t.lanes=m,t.memoizedState=J}}function _g(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Fg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_g(a[t],r)}var Wa=H(null),kl=H(0);function Wg(t,r){t=lr,G(kl,t),G(Wa,r),lr=t|r.baseLanes}function of(){G(kl,lr),G(Wa,Wa.current)}function lf(){lr=kl.current,X(Wa),X(kl)}var Di=0,gt=null,Bt=null,te=null,Il=!1,ts=!1,pa=!1,Ml=0,so=0,es=null,_S=0;function Qt(){throw Error(i(321))}function uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Le(t[a],r[a]))return!1;return!0}function cf(t,r,a,o,u,f){return Di=f,gt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?Um:Lm,pa=!1,f=a(o,u),pa=!1,ts&&(f=em(r,a,o,u)),tm(t),f}function tm(t){U.H=Hl;var r=Bt!==null&&Bt.next!==null;if(Di=0,te=Bt=gt=null,Il=!1,so=0,es=null,r)throw Error(i(300));t===null||oe||(t=t.dependencies,t!==null&&Dl(t)&&(oe=!0))}function em(t,r,a,o){gt=t;var u=0;do{if(ts&&(es=null),so=0,ts=!1,25<=u)throw Error(i(301));if(u+=1,te=Bt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=ib,f=r(a,o)}while(ts);return f}function FS(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?oo(r):r,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(gt.flags|=1024),r}function ff(){var t=Ml!==0;return Ml=0,t}function hf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function df(t){if(Il){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Il=!1}Di=0,te=Bt=gt=null,ts=!1,so=Ml=0,es=null}function De(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?gt.memoizedState=te=t:te=te.next=t,te}function ee(){if(Bt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var r=te===null?gt.memoizedState:te.next;if(r!==null)te=r,Bt=t;else{if(t===null)throw gt.alternate===null?Error(i(467)):Error(i(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},te===null?gt.memoizedState=te=t:te=te.next=t}return te}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(t){var r=so;return so+=1,es===null&&(es=[]),t=Xg(es,t,r),r=gt,(te===null?r.memoizedState:te.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Um:Lm),t}function zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return oo(t);if(t.$$typeof===Q)return Se(t)}throw Error(i(438,String(t)))}function mf(t){var r=null,a=gt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gf(),gt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=ce;return r.index++,a}function nr(t,r){return typeof r=="function"?r(t):r}function Ul(t){var r=ee();return yf(r,Bt,t)}function yf(t,r,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}r.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{r=u.next;var v=m=null,T=null,O=r,z=!1;do{var J=O.lane&-536870913;if(J!==O.lane?(At&J)===J:(Di&J)===J){var R=O.revertLane;if(R===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),J===_a&&(z=!0);else if((Di&R)===R){O=O.next,R===_a&&(z=!0);continue}else J={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(v=T=J,m=f):T=T.next=J,gt.lanes|=R,Mi|=R;J=O.action,pa&&a(f,J),f=O.hasEagerState?O.eagerState:a(f,J)}else R={lane:J,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(v=T=R,m=f):T=T.next=R,gt.lanes|=J,Mi|=J;O=O.next}while(O!==null&&O!==r);if(T===null?m=f:T.next=v,!Le(f,t.memoizedState)&&(oe=!0,z&&(a=Fa,a!==null)))throw a;t.memoizedState=f,t.baseState=m,t.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function pf(t){var r=ee(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=t(f,m.action),m=m.next;while(m!==u);Le(f,r.memoizedState)||(oe=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function nm(t,r,a){var o=gt,u=ee(),f=xt;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var m=!Le((Bt||u).memoizedState,a);m&&(u.memoizedState=a,oe=!0),u=u.queue;var v=am.bind(null,o,u,t);if(lo(2048,8,v,[t]),u.getSnapshot!==r||m||te!==null&&te.memoizedState.tag&1){if(o.flags|=2048,ns(9,Ll(),im.bind(null,o,u,a,r),null),Lt===null)throw Error(i(349));f||(Di&124)!==0||rm(o,r,a)}return a}function rm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=gt.updateQueue,r===null?(r=gf(),gt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function im(t,r,a,o){r.value=a,r.getSnapshot=o,sm(r)&&om(t)}function am(t,r,a){return a(function(){sm(r)&&om(t)})}function sm(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Le(t,a)}catch{return!0}}function om(t){var r=$a(t,2);r!==null&&Pe(r,t,2)}function vf(t){var r=De();if(typeof t=="function"){var a=t;if(t=a(),pa){bi(!0);try{a()}finally{bi(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},r}function lm(t,r,a,o){return t.baseState=a,yf(t,Bt,typeof o=="function"?o:nr)}function WS(t,r,a,o,u){if(Jl(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,um(r,f)):(f.next=a.next,r.pending=a.next=f)}}function um(t,r){var a=r.action,o=r.payload,u=t.state;if(r.isTransition){var f=U.T,m={};U.T=m;try{var v=a(u,o),T=U.S;T!==null&&T(m,v),cm(t,r,v)}catch(O){Sf(t,r,O)}finally{U.T=f}}else try{f=a(u,o),cm(t,r,f)}catch(O){Sf(t,r,O)}}function cm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fm(t,r,o)},function(o){return Sf(t,r,o)}):fm(t,r,a)}function fm(t,r,a){r.status="fulfilled",r.value=a,hm(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,um(t,a)))}function Sf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,hm(r),r=r.next;while(r!==o)}t.action=null}function hm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dm(t,r){return r}function gm(t,r){if(xt){var a=Lt.formState;if(a!==null){t:{var o=gt;if(xt){if(Yt){e:{for(var u=Yt,f=Rn;u.nodeType!==8;){if(!f){u=null;break e}if(u=An(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Yt=An(u.nextSibling),o=u.data==="F!";break t}}da(o)}o=!1}o&&(r=a[0])}}return a=De(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:r},a.queue=o,a=Im.bind(null,gt,o),o.dispatch=a,o=vf(!1),f=Ef.bind(null,gt,!1,o.queue),o=De(),u={state:r,dispatch:null,action:t,pending:null},o.queue=u,a=WS.bind(null,gt,u,f,a),u.dispatch=a,o.memoizedState=t,[r,a,!1]}function mm(t){var r=ee();return ym(r,Bt,t)}function ym(t,r,a){if(r=yf(t,r,dm)[0],t=Ul(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=oo(r)}catch(m){throw m===eo?Rl:m}else o=r;r=ee();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(gt.flags|=2048,ns(9,Ll(),tb.bind(null,u,a),null)),[o,f,t]}function tb(t,r){t.action=r}function pm(t){var r=ee(),a=Bt;if(a!==null)return ym(r,a,t);ee(),r=r.memoizedState,a=ee();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function ns(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=gt.updateQueue,r===null&&(r=gf(),gt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function Ll(){return{destroy:void 0,resource:void 0}}function vm(){return ee().memoizedState}function ql(t,r,a,o){var u=De();o=o===void 0?null:o,gt.flags|=t,u.memoizedState=ns(1|r,Ll(),a,o)}function lo(t,r,a,o){var u=ee();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&uf(o,Bt.memoizedState.deps)?u.memoizedState=ns(r,f,a,o):(gt.flags|=t,u.memoizedState=ns(1|r,f,a,o))}function Sm(t,r){ql(8390656,8,t,r)}function bm(t,r){lo(2048,8,t,r)}function Tm(t,r){return lo(4,2,t,r)}function Am(t,r){return lo(4,4,t,r)}function wm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Em(t,r,a){a=a!=null?a.concat([t]):null,lo(4,4,wm.bind(null,r,t),a)}function bf(){}function Nm(t,r){var a=ee();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&uf(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function xm(t,r){var a=ee();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&uf(r,o[1]))return o[0];if(o=t(),pa){bi(!0);try{t()}finally{bi(!1)}}return a.memoizedState=[o,r],o}function Tf(t,r,a){return a===void 0||(Di&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Cy(),gt.lanes|=t,Mi|=t,a)}function Dm(t,r,a,o){return Le(a,r)?a:Wa.current!==null?(t=Tf(t,a,o),Le(t,r)||(oe=!0),t):(Di&42)===0?(oe=!0,t.memoizedState=a):(t=Cy(),gt.lanes|=t,Mi|=t,r)}function Om(t,r,a,o,u){var f=$.p;$.p=f!==0&&8>f?f:8;var m=U.T,v={};U.T=v,Ef(t,!1,r,a);try{var T=u(),O=U.S;if(O!==null&&O(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=QS(T,o);uo(t,r,z,je(t))}else uo(t,r,o,je(t))}catch(J){uo(t,r,{then:function(){},status:"rejected",reason:J},je())}finally{$.p=f,U.T=m}}function eb(){}function Af(t,r,a,o){if(t.tag!==5)throw Error(i(476));var u=Cm(t).queue;Om(t,u,r,ot,a===null?eb:function(){return Rm(t),a(o)})}function Cm(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ot},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Rm(t){var r=Cm(t).next.queue;uo(t,r,{},je())}function wf(){return Se(Oo)}function Bm(){return ee().memoizedState}function km(){return ee().memoizedState}function nb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=je();t=Ni(a);var o=xi(r,t,a);o!==null&&(Pe(o,r,a),ro(o,r,a)),r={cache:Fc()},t.payload=r;return}r=r.return}}function rb(t,r,a){var o=je();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jl(t)?Mm(r,a):(a=jc(t,r,a,o),a!==null&&(Pe(a,t,o),zm(a,r,o)))}function Im(t,r,a){var o=je();uo(t,r,a,o)}function uo(t,r,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jl(t))Mm(r,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,v=f(m,a);if(u.hasEagerState=!0,u.eagerState=v,Le(v,m))return Al(t,r,u,0),Lt===null&&Tl(),!1}catch{}finally{}if(a=jc(t,r,u,o),a!==null)return Pe(a,t,o),zm(a,r,o),!0}return!1}function Ef(t,r,a,o){if(o={lane:2,revertLane:nh(),action:o,hasEagerState:!1,eagerState:null,next:null},Jl(t)){if(r)throw Error(i(479))}else r=jc(t,a,o,2),r!==null&&Pe(r,t,2)}function Jl(t){var r=t.alternate;return t===gt||r!==null&&r===gt}function Mm(t,r){ts=Il=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zm(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Pd(t,a)}}var Hl={readContext:Se,use:zl,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Um={readContext:Se,use:zl,useCallback:function(t,r){return De().memoizedState=[t,r===void 0?null:r],t},useContext:Se,useEffect:Sm,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ql(4194308,4,wm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ql(4194308,4,t,r)},useInsertionEffect:function(t,r){ql(4,2,t,r)},useMemo:function(t,r){var a=De();r=r===void 0?null:r;var o=t();if(pa){bi(!0);try{t()}finally{bi(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=De();if(a!==void 0){var u=a(r);if(pa){bi(!0);try{a(r)}finally{bi(!1)}}}else u=r;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=rb.bind(null,gt,t),[o.memoizedState,t]},useRef:function(t){var r=De();return t={current:t},r.memoizedState=t},useState:function(t){t=vf(t);var r=t.queue,a=Im.bind(null,gt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,r){var a=De();return Tf(a,t,r)},useTransition:function(){var t=vf(!1);return t=Om.bind(null,gt,t.queue,!0,!1),De().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=gt,u=De();if(xt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Lt===null)throw Error(i(349));(At&124)!==0||rm(o,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,Sm(am.bind(null,o,f,t),[t]),o.flags|=2048,ns(9,Ll(),im.bind(null,o,f,a,r),null),a},useId:function(){var t=De(),r=Lt.identifierPrefix;if(xt){var a=Wn,o=Fn;a=(o&~(1<<32-Ue(o)-1)).toString(32)+a,r=""+r+"R"+a,a=Ml++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=_S++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:wf,useFormState:gm,useActionState:gm,useOptimistic:function(t){var r=De();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ef.bind(null,gt,!0,a),a.dispatch=r,[t,r]},useMemoCache:mf,useCacheRefresh:function(){return De().memoizedState=nb.bind(null,gt)}},Lm={readContext:Se,use:zl,useCallback:Nm,useContext:Se,useEffect:bm,useImperativeHandle:Em,useInsertionEffect:Tm,useLayoutEffect:Am,useMemo:xm,useReducer:Ul,useRef:vm,useState:function(){return Ul(nr)},useDebugValue:bf,useDeferredValue:function(t,r){var a=ee();return Dm(a,Bt.memoizedState,t,r)},useTransition:function(){var t=Ul(nr)[0],r=ee().memoizedState;return[typeof t=="boolean"?t:oo(t),r]},useSyncExternalStore:nm,useId:Bm,useHostTransitionStatus:wf,useFormState:mm,useActionState:mm,useOptimistic:function(t,r){var a=ee();return lm(a,Bt,t,r)},useMemoCache:mf,useCacheRefresh:km},ib={readContext:Se,use:zl,useCallback:Nm,useContext:Se,useEffect:bm,useImperativeHandle:Em,useInsertionEffect:Tm,useLayoutEffect:Am,useMemo:xm,useReducer:pf,useRef:vm,useState:function(){return pf(nr)},useDebugValue:bf,useDeferredValue:function(t,r){var a=ee();return Bt===null?Tf(a,t,r):Dm(a,Bt.memoizedState,t,r)},useTransition:function(){var t=pf(nr)[0],r=ee().memoizedState;return[typeof t=="boolean"?t:oo(t),r]},useSyncExternalStore:nm,useId:Bm,useHostTransitionStatus:wf,useFormState:pm,useActionState:pm,useOptimistic:function(t,r){var a=ee();return Bt!==null?lm(a,Bt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:km},rs=null,co=0;function Vl(t){var r=co;return co+=1,rs===null&&(rs=[]),Xg(rs,t,r)}function fo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function jl(t,r){throw r.$$typeof===E?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function qm(t){var r=t._init;return r(t._payload)}function Jm(t){function r(N,w){if(t){var x=N.deletions;x===null?(N.deletions=[w],N.flags|=16):x.push(w)}}function a(N,w){if(!t)return null;for(;w!==null;)r(N,w),w=w.sibling;return null}function o(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function u(N,w){return N=_n(N,w),N.index=0,N.sibling=null,N}function f(N,w,x){return N.index=x,t?(x=N.alternate,x!==null?(x=x.index,x<w?(N.flags|=67108866,w):x):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function m(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function v(N,w,x,L){return w===null||w.tag!==6?(w=Yc(x,N.mode,L),w.return=N,w):(w=u(w,x),w.return=N,w)}function T(N,w,x,L){var Z=x.type;return Z===q?z(N,w,x.props.children,L,x.key):w!==null&&(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Tt&&qm(Z)===w.type)?(w=u(w,x.props),fo(w,x),w.return=N,w):(w=El(x.type,x.key,x.props,null,N.mode,L),fo(w,x),w.return=N,w)}function O(N,w,x,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Gc(x,N.mode,L),w.return=N,w):(w=u(w,x.children||[]),w.return=N,w)}function z(N,w,x,L,Z){return w===null||w.tag!==7?(w=ua(x,N.mode,L,Z),w.return=N,w):(w=u(w,x),w.return=N,w)}function J(N,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Yc(""+w,N.mode,x),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case I:return x=El(w.type,w.key,w.props,null,N.mode,x),fo(x,w),x.return=N,x;case k:return w=Gc(w,N.mode,x),w.return=N,w;case Tt:var L=w._init;return w=L(w._payload),J(N,w,x)}if(pe(w)||Zt(w))return w=ua(w,N.mode,x,null),w.return=N,w;if(typeof w.then=="function")return J(N,Vl(w),x);if(w.$$typeof===Q)return J(N,Ol(N,w),x);jl(N,w)}return null}function R(N,w,x,L){var Z=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Z!==null?null:v(N,w,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case I:return x.key===Z?T(N,w,x,L):null;case k:return x.key===Z?O(N,w,x,L):null;case Tt:return Z=x._init,x=Z(x._payload),R(N,w,x,L)}if(pe(x)||Zt(x))return Z!==null?null:z(N,w,x,L,null);if(typeof x.then=="function")return R(N,w,Vl(x),L);if(x.$$typeof===Q)return R(N,w,Ol(N,x),L);jl(N,x)}return null}function B(N,w,x,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(x)||null,v(w,N,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return N=N.get(L.key===null?x:L.key)||null,T(w,N,L,Z);case k:return N=N.get(L.key===null?x:L.key)||null,O(w,N,L,Z);case Tt:var yt=L._init;return L=yt(L._payload),B(N,w,x,L,Z)}if(pe(L)||Zt(L))return N=N.get(x)||null,z(w,N,L,Z,null);if(typeof L.then=="function")return B(N,w,x,Vl(L),Z);if(L.$$typeof===Q)return B(N,w,x,Ol(w,L),Z);jl(w,L)}return null}function lt(N,w,x,L){for(var Z=null,yt=null,tt=w,at=w=0,ue=null;tt!==null&&at<x.length;at++){tt.index>at?(ue=tt,tt=null):ue=tt.sibling;var Nt=R(N,tt,x[at],L);if(Nt===null){tt===null&&(tt=ue);break}t&&tt&&Nt.alternate===null&&r(N,tt),w=f(Nt,w,at),yt===null?Z=Nt:yt.sibling=Nt,yt=Nt,tt=ue}if(at===x.length)return a(N,tt),xt&&fa(N,at),Z;if(tt===null){for(;at<x.length;at++)tt=J(N,x[at],L),tt!==null&&(w=f(tt,w,at),yt===null?Z=tt:yt.sibling=tt,yt=tt);return xt&&fa(N,at),Z}for(tt=o(tt);at<x.length;at++)ue=B(tt,N,at,x[at],L),ue!==null&&(t&&ue.alternate!==null&&tt.delete(ue.key===null?at:ue.key),w=f(ue,w,at),yt===null?Z=ue:yt.sibling=ue,yt=ue);return t&&tt.forEach(function(Pi){return r(N,Pi)}),xt&&fa(N,at),Z}function it(N,w,x,L){if(x==null)throw Error(i(151));for(var Z=null,yt=null,tt=w,at=w=0,ue=null,Nt=x.next();tt!==null&&!Nt.done;at++,Nt=x.next()){tt.index>at?(ue=tt,tt=null):ue=tt.sibling;var Pi=R(N,tt,Nt.value,L);if(Pi===null){tt===null&&(tt=ue);break}t&&tt&&Pi.alternate===null&&r(N,tt),w=f(Pi,w,at),yt===null?Z=Pi:yt.sibling=Pi,yt=Pi,tt=ue}if(Nt.done)return a(N,tt),xt&&fa(N,at),Z;if(tt===null){for(;!Nt.done;at++,Nt=x.next())Nt=J(N,Nt.value,L),Nt!==null&&(w=f(Nt,w,at),yt===null?Z=Nt:yt.sibling=Nt,yt=Nt);return xt&&fa(N,at),Z}for(tt=o(tt);!Nt.done;at++,Nt=x.next())Nt=B(tt,N,at,Nt.value,L),Nt!==null&&(t&&Nt.alternate!==null&&tt.delete(Nt.key===null?at:Nt.key),w=f(Nt,w,at),yt===null?Z=Nt:yt.sibling=Nt,yt=Nt);return t&&tt.forEach(function(aT){return r(N,aT)}),xt&&fa(N,at),Z}function It(N,w,x,L){if(typeof x=="object"&&x!==null&&x.type===q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case I:t:{for(var Z=x.key;w!==null;){if(w.key===Z){if(Z=x.type,Z===q){if(w.tag===7){a(N,w.sibling),L=u(w,x.props.children),L.return=N,N=L;break t}}else if(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Tt&&qm(Z)===w.type){a(N,w.sibling),L=u(w,x.props),fo(L,x),L.return=N,N=L;break t}a(N,w);break}else r(N,w);w=w.sibling}x.type===q?(L=ua(x.props.children,N.mode,L,x.key),L.return=N,N=L):(L=El(x.type,x.key,x.props,null,N.mode,L),fo(L,x),L.return=N,N=L)}return m(N);case k:t:{for(Z=x.key;w!==null;){if(w.key===Z)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){a(N,w.sibling),L=u(w,x.children||[]),L.return=N,N=L;break t}else{a(N,w);break}else r(N,w);w=w.sibling}L=Gc(x,N.mode,L),L.return=N,N=L}return m(N);case Tt:return Z=x._init,x=Z(x._payload),It(N,w,x,L)}if(pe(x))return lt(N,w,x,L);if(Zt(x)){if(Z=Zt(x),typeof Z!="function")throw Error(i(150));return x=Z.call(x),it(N,w,x,L)}if(typeof x.then=="function")return It(N,w,Vl(x),L);if(x.$$typeof===Q)return It(N,w,Ol(N,x),L);jl(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(a(N,w.sibling),L=u(w,x),L.return=N,N=L):(a(N,w),L=Yc(x,N.mode,L),L.return=N,N=L),m(N)):a(N,w)}return function(N,w,x,L){try{co=0;var Z=It(N,w,x,L);return rs=null,Z}catch(tt){if(tt===eo||tt===Rl)throw tt;var yt=qe(29,tt,null,N.mode);return yt.lanes=L,yt.return=N,yt}finally{}}}var is=Jm(!0),Hm=Jm(!1),tn=H(null),Bn=null;function Oi(t){var r=t.alternate;G(ie,ie.current&1),G(tn,t),Bn===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(Bn=t)}function Vm(t){if(t.tag===22){if(G(ie,ie.current),G(tn,t),Bn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Bn=t)}}else Ci()}function Ci(){G(ie,ie.current),G(tn,tn.current)}function rr(t){X(tn),Bn===t&&(Bn=null),X(ie)}var ie=H(0);function Pl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gh(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Nf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xf={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=je(),u=Ni(o);u.payload=r,a!=null&&(u.callback=a),r=xi(t,u,o),r!==null&&(Pe(r,t,o),ro(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=je(),u=Ni(o);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=xi(t,u,o),r!==null&&(Pe(r,t,o),ro(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=je(),o=Ni(a);o.tag=2,r!=null&&(o.callback=r),r=xi(t,o,a),r!==null&&(Pe(r,t,a),ro(r,t,a))}};function jm(t,r,a,o,u,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,m):r.prototype&&r.prototype.isPureReactComponent?!$s(a,o)||!$s(u,f):!0}function Pm(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&xf.enqueueReplaceState(r,r.state,null)}function va(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Yl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ym(t){Yl(t)}function Gm(t){console.error(t)}function Km(t){Yl(t)}function Gl(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function $m(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Df(t,r,a){return a=Ni(a),a.tag=3,a.payload={element:null},a.callback=function(){Gl(t,r)},a}function Xm(t){return t=Ni(t),t.tag=3,t}function Zm(t,r,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){$m(r,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){$m(r,a,o),typeof u!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function ab(t,r,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&Fs(r,a,u,!0),a=tn.current,a!==null){switch(a.tag){case 13:return Bn===null?_f():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===ef?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Wf(t,o,u)),!1;case 22:return a.flags|=65536,o===ef?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Wf(t,o,u)),!1}throw Error(i(435,a.tag))}return Wf(t,o,u),_f(),!1}if(xt)return r=tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==Xc&&(t=Error(i(422),{cause:o}),_s(Qe(t,a)))):(o!==Xc&&(r=Error(i(423),{cause:o}),_s(Qe(r,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Qe(o,a),u=Df(t.stateNode,o,u),af(t,u),Gt!==4&&(Gt=2)),!1;var f=Error(i(520),{cause:o});if(f=Qe(f,a),So===null?So=[f]:So.push(f),Gt!==4&&(Gt=2),r===null)return!0;o=Qe(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Df(a.stateNode,o,t),af(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zi===null||!zi.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Xm(u),Zm(u,t,a,o),af(a,u),!1}a=a.return}while(a!==null);return!1}var Qm=Error(i(461)),oe=!1;function fe(t,r,a,o){r.child=t===null?Hm(r,null,a,o):is(r,t.child,a,o)}function _m(t,r,a,o,u){a=a.render;var f=r.ref;if("ref"in o){var m={};for(var v in o)v!=="ref"&&(m[v]=o[v])}else m=o;return ma(r),o=cf(t,r,a,m,f,u),v=ff(),t!==null&&!oe?(hf(t,r,u),ir(t,r,u)):(xt&&v&&Kc(r),r.flags|=1,fe(t,r,o,u),r.child)}function Fm(t,r,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!Pc(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Wm(t,r,f,o,u)):(t=El(a.type,null,o,r,r.mode,u),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!zf(t,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(m,o)&&t.ref===r.ref)return ir(t,r,u)}return r.flags|=1,t=_n(f,o),t.ref=r.ref,t.return=r,r.child=t}function Wm(t,r,a,o,u){if(t!==null){var f=t.memoizedProps;if($s(f,o)&&t.ref===r.ref)if(oe=!1,r.pendingProps=o=f,zf(t,u))(t.flags&131072)!==0&&(oe=!0);else return r.lanes=t.lanes,ir(t,r,u)}return Of(t,r,a,o,u)}function ty(t,r,a){var o=r.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=r.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return ey(t,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cl(r,f!==null?f.cachePool:null),f!==null?Wg(r,f):of(),Vm(r);else return r.lanes=r.childLanes=536870912,ey(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Cl(r,f.cachePool),Wg(r,f),Ci(),r.memoizedState=null):(t!==null&&Cl(r,null),of(),Ci());return fe(t,r,u,a),r.child}function ey(t,r,a,o){var u=tf();return u=u===null?null:{parent:re._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},t!==null&&Cl(r,null),of(),Vm(r),t!==null&&Fs(t,r,o,!0),null}function Kl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Of(t,r,a,o,u){return ma(r),a=cf(t,r,a,o,void 0,u),o=ff(),t!==null&&!oe?(hf(t,r,u),ir(t,r,u)):(xt&&o&&Kc(r),r.flags|=1,fe(t,r,a,u),r.child)}function ny(t,r,a,o,u,f){return ma(r),r.updateQueue=null,a=em(r,o,a,u),tm(t),o=ff(),t!==null&&!oe?(hf(t,r,f),ir(t,r,f)):(xt&&o&&Kc(r),r.flags|=1,fe(t,r,a,f),r.child)}function ry(t,r,a,o,u){if(ma(r),r.stateNode===null){var f=Xa,m=a.contextType;typeof m=="object"&&m!==null&&(f=Se(m)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},nf(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?Se(m):Xa,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Nf(r,a,m,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&xf.enqueueReplaceState(f,f.state,null),ao(r,o,f,u),io(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){f=r.stateNode;var v=r.memoizedProps,T=va(a,v);f.props=T;var O=f.context,z=a.contextType;m=Xa,typeof z=="object"&&z!==null&&(m=Se(z));var J=a.getDerivedStateFromProps;z=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||O!==m)&&Pm(r,f,o,m),Ei=!1;var R=r.memoizedState;f.state=R,ao(r,o,f,u),io(),O=r.memoizedState,v||R!==O||Ei?(typeof J=="function"&&(Nf(r,a,J,o),O=r.memoizedState),(T=Ei||jm(r,a,T,o,R,O,m))?(z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=O),f.props=o,f.state=O,f.context=m,o=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,rf(t,r),m=r.memoizedProps,z=va(a,m),f.props=z,J=r.pendingProps,R=f.context,O=a.contextType,T=Xa,typeof O=="object"&&O!==null&&(T=Se(O)),v=a.getDerivedStateFromProps,(O=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==J||R!==T)&&Pm(r,f,o,T),Ei=!1,R=r.memoizedState,f.state=R,ao(r,o,f,u),io();var B=r.memoizedState;m!==J||R!==B||Ei||t!==null&&t.dependencies!==null&&Dl(t.dependencies)?(typeof v=="function"&&(Nf(r,a,v,o),B=r.memoizedState),(z=Ei||jm(r,a,z,o,R,B,T)||t!==null&&t.dependencies!==null&&Dl(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=T,o=z):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),o=!1)}return f=o,Kl(t,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&o?(r.child=is(r,t.child,null,u),r.child=is(r,null,a,u)):fe(t,r,a,u),r.memoizedState=f.state,t=r.child):t=ir(t,r,u),t}function iy(t,r,a,o){return Qs(),r.flags|=256,fe(t,r,a,o),r.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Gg()}}function Bf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=en),t}function ay(t,r,a){var o=r.pendingProps,u=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(ie.current&2)!==0),m&&(u=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,t===null){if(xt){if(u?Oi(r):Ci(),xt){var v=Yt,T;if(T=v){t:{for(T=v,v=Rn;T.nodeType!==8;){if(!v){v=null;break t}if(T=An(T.nextSibling),T===null){v=null;break t}}v=T}v!==null?(r.memoizedState={dehydrated:v,treeContext:ca!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},T=qe(18,null,null,0),T.stateNode=v,T.return=r,r.child=T,we=r,Yt=null,T=!0):T=!1}T||da(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return gh(v)?r.lanes=32:r.lanes=536870912,null;rr(r)}return v=o.children,o=o.fallback,u?(Ci(),u=r.mode,v=$l({mode:"hidden",children:v},u),o=ua(o,u,a,null),v.return=r,o.return=r,v.sibling=o,r.child=v,u=r.child,u.memoizedState=Rf(a),u.childLanes=Bf(t,m,a),r.memoizedState=Cf,o):(Oi(r),kf(r,v))}if(T=t.memoizedState,T!==null&&(v=T.dehydrated,v!==null)){if(f)r.flags&256?(Oi(r),r.flags&=-257,r=If(t,r,a)):r.memoizedState!==null?(Ci(),r.child=t.child,r.flags|=128,r=null):(Ci(),u=o.fallback,v=r.mode,o=$l({mode:"visible",children:o.children},v),u=ua(u,v,a,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,is(r,t.child,null,a),o=r.child,o.memoizedState=Rf(a),o.childLanes=Bf(t,m,a),r.memoizedState=Cf,r=u);else if(Oi(r),gh(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var O=m.dgst;m=O,o=Error(i(419)),o.stack="",o.digest=m,_s({value:o,source:null,stack:null}),r=If(t,r,a)}else if(oe||Fs(t,r,a,!1),m=(a&t.childLanes)!==0,oe||m){if(m=Lt,m!==null&&(o=a&-a,o=(o&42)!==0?1:gc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==T.retryLane))throw T.retryLane=o,$a(t,o),Pe(m,t,o),Qm;v.data==="$?"||_f(),r=If(t,r,a)}else v.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=T.treeContext,Yt=An(v.nextSibling),we=r,xt=!0,ha=null,Rn=!1,t!==null&&(Fe[We++]=Fn,Fe[We++]=Wn,Fe[We++]=ca,Fn=t.id,Wn=t.overflow,ca=r),r=kf(r,o.children),r.flags|=4096);return r}return u?(Ci(),u=o.fallback,v=r.mode,T=t.child,O=T.sibling,o=_n(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,O!==null?u=_n(O,u):(u=ua(u,v,a,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,v=t.child.memoizedState,v===null?v=Rf(a):(T=v.cachePool,T!==null?(O=re._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Gg(),v={baseLanes:v.baseLanes|a,cachePool:T}),u.memoizedState=v,u.childLanes=Bf(t,m,a),r.memoizedState=Cf,o):(Oi(r),a=t.child,t=a.sibling,a=_n(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(m=r.deletions,m===null?(r.deletions=[t],r.flags|=16):m.push(t)),r.child=a,r.memoizedState=null,a)}function kf(t,r){return r=$l({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function $l(t,r){return t=qe(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function If(t,r,a){return is(r,t.child,null,a),t=kf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function sy(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Qc(t.return,r,a)}function Mf(t,r,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function oy(t,r,a){var o=r.pendingProps,u=o.revealOrder,f=o.tail;if(fe(t,r,o.children,a),o=ie.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,a,r);else if(t.tag===19)sy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(ie,o),u){case"forwards":for(a=r.child,u=null;a!==null;)t=a.alternate,t!==null&&Pl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),Mf(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(t=u.alternate,t!==null&&Pl(t)===null){r.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Mf(r,!0,a,null,f);break;case"together":Mf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Mi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fs(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=_n(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=_n(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function zf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Dl(t)))}function sb(t,r,a){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),wi(r,re,t.memoizedState.cache),Qs();break;case 27:case 5:uc(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Oi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ay(t,r,a):(Oi(r),t=ir(t,r,a),t!==null?t.sibling:null);Oi(r);break;case 19:var u=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(Fs(t,r,a,!1),o=(a&r.childLanes)!==0),u){if(o)return oy(t,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(ie,ie.current),o)break;return null;case 22:case 23:return r.lanes=0,ty(t,r,a);case 24:wi(r,re,t.memoizedState.cache)}return ir(t,r,a)}function ly(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)oe=!0;else{if(!zf(t,a)&&(r.flags&128)===0)return oe=!1,sb(t,r,a);oe=(t.flags&131072)!==0}else oe=!1,xt&&(r.flags&1048576)!==0&&qg(r,xl,r.index);switch(r.lanes=0,r.tag){case 16:t:{t=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")Pc(o)?(t=va(o,t),r.tag=1,r=ry(null,r,o,t,a)):(r.tag=0,r=Of(null,r,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===mt){r.tag=11,r=_m(null,r,o,t,a);break t}else if(u===dt){r.tag=14,r=Fm(null,r,o,t,a);break t}}throw r=ra(o)||o,Error(i(306,r,""))}}return r;case 0:return Of(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,u=va(o,r.pendingProps),ry(t,r,o,u,a);case 3:t:{if(qt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;u=f.element,rf(t,r),ao(r,o,null,a);var m=r.memoizedState;if(o=m.cache,wi(r,re,o),o!==f.cache&&_c(r,[re],a,!0),io(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=iy(t,r,o,a);break t}else if(o!==u){u=Qe(Error(i(424)),r),_s(u),r=iy(t,r,o,a);break t}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Yt=An(t.firstChild),we=r,xt=!0,ha=null,Rn=!0,a=Hm(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),o===u){r=ir(t,r,a);break t}fe(t,r,o,a)}r=r.child}return r;case 26:return Kl(t,r),t===null?(a=hp(r.type,null,r.pendingProps,null))?r.memoizedState=a:xt||(a=r.type,t=r.pendingProps,o=ou(ct.current).createElement(a),o[ve]=r,o[Ne]=t,de(o,a,t),se(o),r.stateNode=o):r.memoizedState=hp(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return uc(r),t===null&&xt&&(o=r.stateNode=up(r.type,r.pendingProps,ct.current),we=r,Rn=!0,u=Yt,qi(r.type)?(mh=u,Yt=An(o.firstChild)):Yt=u),fe(t,r,r.pendingProps.children,a),Kl(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&xt&&((u=o=Yt)&&(o=Mb(o,r.type,r.pendingProps,Rn),o!==null?(r.stateNode=o,we=r,Yt=An(o.firstChild),Rn=!1,u=!0):u=!1),u||da(r)),uc(r),u=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,o=f.children,fh(u,f)?o=null:m!==null&&fh(u,m)&&(r.flags|=32),r.memoizedState!==null&&(u=cf(t,r,FS,null,null,a),Oo._currentValue=u),Kl(t,r),fe(t,r,o,a),r.child;case 6:return t===null&&xt&&((t=a=Yt)&&(a=zb(a,r.pendingProps,Rn),a!==null?(r.stateNode=a,we=r,Yt=null,t=!0):t=!1),t||da(r)),null;case 13:return ay(t,r,a);case 4:return qt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=is(r,null,o,a):fe(t,r,o,a),r.child;case 11:return _m(t,r,r.type,r.pendingProps,a);case 7:return fe(t,r,r.pendingProps,a),r.child;case 8:return fe(t,r,r.pendingProps.children,a),r.child;case 12:return fe(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,wi(r,r.type,o.value),fe(t,r,o.children,a),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,ma(r),u=Se(u),o=o(u),r.flags|=1,fe(t,r,o,a),r.child;case 14:return Fm(t,r,r.type,r.pendingProps,a);case 15:return Wm(t,r,r.type,r.pendingProps,a);case 19:return oy(t,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},t===null?(a=$l(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=_n(t.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return ty(t,r,a);case 24:return ma(r),o=Se(re),t===null?(u=tf(),u===null&&(u=Lt,f=Fc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:o,cache:u},nf(r),wi(r,re,u)):((t.lanes&a)!==0&&(rf(t,r),ao(r,null,null,a),io()),u=t.memoizedState,f=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),wi(r,re,o)):(o=f.cache,wi(r,re,o),o!==u.cache&&_c(r,[re],a,!0))),fe(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ar(t){t.flags|=4}function uy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pp(r)){if(r=tn.current,r!==null&&((At&4194048)===At?Bn!==null:(At&62914560)!==At&&(At&536870912)===0||r!==Bn))throw no=ef,Kg;t.flags|=8192}}function Xl(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vd():536870912,t.lanes|=r,ls|=r)}function ho(t,r){if(!xt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function jt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function ob(t,r,a){var o=r.pendingProps;switch($c(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),er(re),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(r)?ar(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vg())),jt(r),null;case 26:return a=r.memoizedState,t===null?(ar(r),a!==null?(jt(r),uy(r,a)):(jt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(ar(r),jt(r),uy(r,a)):(jt(r),r.flags&=-16777217):(t.memoizedProps!==o&&ar(r),jt(r),r.flags&=-16777217),null;case 27:al(r),a=ct.current;var u=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&ar(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return jt(r),null}t=rt.current,Zs(r)?Jg(r):(t=up(u,o,a),r.stateNode=t,ar(r))}return jt(r),null;case 5:if(al(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&ar(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return jt(r),null}if(t=rt.current,Zs(r))Jg(r);else{switch(u=ou(ct.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[ve]=r,t[Ne]=o;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=t;t:switch(de(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ar(r)}}return jt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&ar(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ct.current,Zs(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,u=we,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[ve]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||np(t.nodeValue,a)),t||da(r)}else t=ou(t).createTextNode(o),t[ve]=r,r.stateNode=t}return jt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Zs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ve]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),u=!1}else u=Vg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Xl(r,r.updateQueue),jt(r),null;case 4:return Si(),t===null&&sh(r.stateNode.containerInfo),jt(r),null;case 10:return er(r.type),jt(r),null;case 19:if(X(ie),u=r.memoizedState,u===null)return jt(r),null;if(o=(r.flags&128)!==0,f=u.rendering,f===null)if(o)ho(u,!1);else{if(Gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Pl(t),f!==null){for(r.flags|=128,ho(u,!1),t=f.updateQueue,r.updateQueue=t,Xl(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Lg(a,t),a=a.sibling;return G(ie,ie.current&1|2),r.child}t=t.sibling}u.tail!==null&&Cn()>_l&&(r.flags|=128,o=!0,ho(u,!1),r.lanes=4194304)}else{if(!o)if(t=Pl(f),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Xl(r,t),ho(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!xt)return jt(r),null}else 2*Cn()-u.renderingStartTime>_l&&a!==536870912&&(r.flags|=128,o=!0,ho(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(t=u.last,t!==null?t.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Cn(),r.sibling=null,t=ie.current,G(ie,o?t&1|2:t&1),r):(jt(r),null);case 22:case 23:return rr(r),lf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),a=r.updateQueue,a!==null&&Xl(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&X(ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(re),jt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function lb(t,r){switch($c(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return er(re),Si(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return al(r),null;case 13:if(rr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(ie),null;case 4:return Si(),null;case 10:return er(r.type),null;case 22:case 23:return rr(r),lf(),t!==null&&X(ya),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return er(re),null;case 25:return null;default:return null}}function cy(t,r){switch($c(r),r.tag){case 3:er(re),Si();break;case 26:case 27:case 5:al(r);break;case 4:Si();break;case 13:rr(r);break;case 19:X(ie);break;case 10:er(r.type);break;case 22:case 23:rr(r),lf(),t!==null&&X(ya);break;case 24:er(re)}}function go(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(v){zt(r,r.return,v)}}function Ri(t,r,a){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var m=o.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,u=r;var T=a,O=v;try{O()}catch(z){zt(u,T,z)}}}o=o.next}while(o!==f)}}catch(z){zt(r,r.return,z)}}function fy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Fg(r,a)}catch(o){zt(t,t.return,o)}}}function hy(t,r,a){a.props=va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){zt(t,r,o)}}function mo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){zt(t,r,u)}}function kn(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){zt(t,r,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){zt(t,r,u)}else a.current=null}function dy(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){zt(t,t.return,u)}}function Uf(t,r,a){try{var o=t.stateNode;Cb(o,t.type,a,r),o[Ne]=r}catch(u){zt(t,t.return,u)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qi(t.type)||t.tag===4}function Lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=su));else if(o!==4&&(o===27&&qi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(qf(t,r,a),t=t.sibling;t!==null;)qf(t,r,a),t=t.sibling}function Zl(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Zl(t,r,a),t=t.sibling;t!==null;)Zl(t,r,a),t=t.sibling}function my(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);de(r,o,a),r[ve]=t,r[Ne]=a}catch(f){zt(t,t.return,f)}}var sr=!1,_t=!1,Jf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,le=null;function ub(t,r){if(t=t.containerInfo,uh=du,t=Dg(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,v=-1,T=-1,O=0,z=0,J=t,R=null;e:for(;;){for(var B;J!==a||u!==0&&J.nodeType!==3||(v=m+u),J!==f||o!==0&&J.nodeType!==3||(T=m+o),J.nodeType===3&&(m+=J.nodeValue.length),(B=J.firstChild)!==null;)R=J,J=B;for(;;){if(J===t)break e;if(R===a&&++O===u&&(v=m),R===f&&++z===o&&(T=m),(B=J.nextSibling)!==null)break;J=R,R=J.parentNode}J=B}a=v===-1||T===-1?null:{start:v,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(ch={focusedElem:t,selectionRange:a},du=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){switch(r=le,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=va(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(it){zt(a,a.return,it)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)dh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}}function py(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),o&4&&go(5,a);break;case 1:if(Bi(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(m){zt(a,a.return,m)}else{var u=va(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(u,r,t.__reactInternalSnapshotBeforeUpdate)}catch(m){zt(a,a.return,m)}}o&64&&fy(a),o&512&&mo(a,a.return);break;case 3:if(Bi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Fg(t,r)}catch(m){zt(a,a.return,m)}}break;case 27:r===null&&o&4&&my(a);case 26:case 5:Bi(t,a),r===null&&o&4&&dy(a),o&512&&mo(a,a.return);break;case 12:Bi(t,a);break;case 13:Bi(t,a),o&4&&by(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vb.bind(null,a),Ub(t,a))));break;case 22:if(o=a.memoizedState!==null||sr,!o){r=r!==null&&r.memoizedState!==null||_t,u=sr;var f=_t;sr=o,(_t=r)&&!f?ki(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),sr=u,_t=f}break;case 30:break;default:Bi(t,a)}}function vy(t){var r=t.alternate;r!==null&&(t.alternate=null,vy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&pc(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,Oe=!1;function or(t,r,a){for(a=a.child;a!==null;)Sy(t,r,a),a=a.sibling}function Sy(t,r,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zs,a)}catch{}switch(a.tag){case 26:_t||kn(a,r),or(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||kn(a,r);var o=Jt,u=Oe;qi(a.type)&&(Jt=a.stateNode,Oe=!1),or(t,r,a),Eo(a.stateNode),Jt=o,Oe=u;break;case 5:_t||kn(a,r);case 6:if(o=Jt,u=Oe,Jt=null,or(t,r,a),Jt=o,Oe=u,Jt!==null)if(Oe)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(f){zt(a,r,f)}else try{Jt.removeChild(a.stateNode)}catch(f){zt(a,r,f)}break;case 18:Jt!==null&&(Oe?(t=Jt,op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ko(t)):op(Jt,a.stateNode));break;case 4:o=Jt,u=Oe,Jt=a.stateNode.containerInfo,Oe=!0,or(t,r,a),Jt=o,Oe=u;break;case 0:case 11:case 14:case 15:_t||Ri(2,a,r),_t||Ri(4,a,r),or(t,r,a);break;case 1:_t||(kn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,r,o)),or(t,r,a);break;case 21:or(t,r,a);break;case 22:_t=(o=_t)||a.memoizedState!==null,or(t,r,a),_t=o;break;default:or(t,r,a)}}function by(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ko(t)}catch(a){zt(r,r.return,a)}}function cb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new yy),r;default:throw Error(i(435,t.tag))}}function Hf(t,r){var a=cb(t);r.forEach(function(o){var u=Sb.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function Je(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,m=r,v=m;t:for(;v!==null;){switch(v.tag){case 27:if(qi(v.type)){Jt=v.stateNode,Oe=!1;break t}break;case 5:Jt=v.stateNode,Oe=!1;break t;case 3:case 4:Jt=v.stateNode.containerInfo,Oe=!0;break t}v=v.return}if(Jt===null)throw Error(i(160));Sy(f,m,u),Jt=null,Oe=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ty(r,t),r=r.sibling}var Tn=null;function Ty(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Je(r,t),He(t),o&4&&(Ri(3,t,t.return),go(3,t),Ri(5,t,t.return));break;case 1:Je(r,t),He(t),o&512&&(_t||a===null||kn(a,a.return)),o&64&&sr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=Tn;if(Je(r,t),He(t),o&512&&(_t||a===null||kn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qs]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),de(f,o,a),f[ve]=t,se(f),o=f;break t;case"link":var m=mp("link","href",u).get(o+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(f=m[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;case"meta":if(m=mp("meta","content",u).get(o+(a.content||""))){for(v=0;v<m.length;v++)if(f=m[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break e}}f=u.createElement(o),de(f,o,a),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[ve]=t,se(f),o=f}t.stateNode=o}else yp(u,t.type,t.stateNode);else t.stateNode=gp(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?yp(u,t.type,t.stateNode):gp(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Je(r,t),He(t),o&512&&(_t||a===null||kn(a,a.return)),a!==null&&o&4&&Uf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Je(r,t),He(t),o&512&&(_t||a===null||kn(a,a.return)),t.flags&32){u=t.stateNode;try{Ha(u,"")}catch(B){zt(t,t.return,B)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Uf(t,u,a!==null?a.memoizedProps:u)),o&1024&&(Jf=!0);break;case 6:if(Je(r,t),He(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){zt(t,t.return,B)}}break;case 3:if(cu=null,u=Tn,Tn=lu(r.containerInfo),Je(r,t),Tn=u,He(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ko(r.containerInfo)}catch(B){zt(t,t.return,B)}Jf&&(Jf=!1,Ay(t));break;case 4:o=Tn,Tn=lu(t.stateNode.containerInfo),Je(r,t),He(t),Tn=o;break;case 12:Je(r,t),He(t);break;case 13:Je(r,t),He(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=Cn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 22:u=t.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,O=sr,z=_t;if(sr=O||u,_t=z||T,Je(r,t),_t=z,sr=O,He(t),o&8192)t:for(r=t.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||T||sr||_t||Sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=T.stateNode;var J=T.memoizedProps.style,R=J!=null&&J.hasOwnProperty("display")?J.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(B){zt(T,T.return,B)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(B){zt(T,T.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Hf(t,a))));break;case 19:Je(r,t),He(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 30:break;case 21:break;default:Je(r,t),He(t)}}function He(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(gy(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=Lf(t);Zl(t,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(Ha(m,""),a.flags&=-33);var v=Lf(t);Zl(t,v,m);break;case 3:case 4:var T=a.stateNode.containerInfo,O=Lf(t);qf(t,O,T);break;default:throw Error(i(161))}}catch(z){zt(t,t.return,z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ay(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)py(t,r.alternate,r),r=r.sibling}function Sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ri(4,r,r.return),Sa(r);break;case 1:kn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&hy(r,r.return,a),Sa(r);break;case 27:Eo(r.stateNode);case 26:case 5:kn(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}t=t.sibling}}function ki(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=t,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:ki(u,f,a),go(4,f);break;case 1:if(ki(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){zt(o,o.return,O)}if(o=f,u=o.updateQueue,u!==null){var v=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)_g(T[u],v)}catch(O){zt(o,o.return,O)}}a&&m&64&&fy(f),mo(f,f.return);break;case 27:my(f);case 26:case 5:ki(u,f,a),a&&o===null&&m&4&&dy(f),mo(f,f.return);break;case 12:ki(u,f,a);break;case 13:ki(u,f,a),a&&m&4&&by(u,f);break;case 22:f.memoizedState===null&&ki(u,f,a),mo(f,f.return);break;case 30:break;default:ki(u,f,a)}r=r.sibling}}function Vf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ws(a))}function jf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ws(t))}function In(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wy(t,r,a,o),r=r.sibling}function wy(t,r,a,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:In(t,r,a,o),u&2048&&go(9,r);break;case 1:In(t,r,a,o);break;case 3:In(t,r,a,o),u&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ws(t)));break;case 12:if(u&2048){In(t,r,a,o),t=r.stateNode;try{var f=r.memoizedProps,m=f.id,v=f.onPostCommit;typeof v=="function"&&v(m,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){zt(r,r.return,T)}}else In(t,r,a,o);break;case 13:In(t,r,a,o);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?In(t,r,a,o):yo(t,r):f._visibility&2?In(t,r,a,o):(f._visibility|=2,as(t,r,a,o,(r.subtreeFlags&10256)!==0)),u&2048&&Vf(m,r);break;case 24:In(t,r,a,o),u&2048&&jf(r.alternate,r);break;default:In(t,r,a,o)}}function as(t,r,a,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,m=r,v=a,T=o,O=m.flags;switch(m.tag){case 0:case 11:case 15:as(f,m,v,T,u),go(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?as(f,m,v,T,u):yo(f,m):(z._visibility|=2,as(f,m,v,T,u)),u&&O&2048&&Vf(m.alternate,m);break;case 24:as(f,m,v,T,u),u&&O&2048&&jf(m.alternate,m);break;default:as(f,m,v,T,u)}r=r.sibling}}function yo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,u=o.flags;switch(o.tag){case 22:yo(a,o),u&2048&&Vf(o.alternate,o);break;case 24:yo(a,o),u&2048&&jf(o.alternate,o);break;default:yo(a,o)}r=r.sibling}}var po=8192;function ss(t){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ey(t),t=t.sibling}function Ey(t){switch(t.tag){case 26:ss(t),t.flags&po&&t.memoizedState!==null&&Zb(Tn,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var r=Tn;Tn=lu(t.stateNode.containerInfo),ss(t),Tn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=po,po=16777216,ss(t),po=r):ss(t));break;default:ss(t)}}function Ny(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];le=o,Dy(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:vo(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:vo(t);break;case 12:vo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ql(t)):vo(t);break;default:vo(t)}}function Ql(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];le=o,Dy(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ri(8,r,r.return),Ql(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ql(r));break;default:Ql(r)}t=t.sibling}}function Dy(t,r){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:Ri(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ws(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,le=o;else t:for(a=t;le!==null;){o=le;var u=o.sibling,f=o.return;if(vy(o),o===a){le=null;break t}if(u!==null){u.return=f,le=u;break t}le=f}}}var fb={getCacheForType:function(t){var r=Se(re),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},hb=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Lt=null,pt=null,At=0,Ct=0,Ve=null,Ii=!1,os=!1,Pf=!1,lr=0,Gt=0,Mi=0,ba=0,Yf=0,en=0,ls=0,So=null,Ce=null,Gf=!1,Kf=0,_l=1/0,Fl=null,zi=null,he=0,Ui=null,us=null,cs=0,$f=0,Xf=null,Oy=null,bo=0,Zf=null;function je(){if((Ot&2)!==0&&At!==0)return At&-At;if(U.T!==null){var t=_a;return t!==0?t:nh()}return Yd()}function Cy(){en===0&&(en=(At&536870912)===0||xt?Hd():536870912);var t=tn.current;return t!==null&&(t.flags|=32),en}function Pe(t,r,a){(t===Lt&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)&&(fs(t,0),Li(t,At,en,!1)),Ls(t,a),((Ot&2)===0||t!==Lt)&&(t===Lt&&((Ot&2)===0&&(ba|=a),Gt===4&&Li(t,At,en,!1)),Mn(t))}function Ry(t,r,a){if((Ot&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Us(t,r),u=o?mb(t,r):Ff(t,r,!0),f=o;do{if(u===0){os&&!o&&Li(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!db(a)){u=Ff(t,r,!1),f=!1;continue}if(u===2){if(f=r,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;t:{var v=t;u=So;var T=v.current.memoizedState.isDehydrated;if(T&&(fs(v,m).flags|=256),m=Ff(v,m,!1),m!==2){if(Pf&&!T){v.errorRecoveryDisabledLanes|=f,ba|=f,u=4;break t}f=Ce,Ce=u,f!==null&&(Ce===null?Ce=f:Ce.push.apply(Ce,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){fs(t,0),Li(t,r,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Li(o,r,en,!Ii);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=Kf+300-Cn(),10<u)){if(Li(o,r,en,!Ii),ul(o,0,!0)!==0)break t;o.timeoutHandle=ap(By.bind(null,o,a,Ce,Fl,Gf,r,en,ba,ls,Ii,f,2,-0,0),u);break t}By(o,a,Ce,Fl,Gf,r,en,ba,ls,Ii,f,0,-0,0)}}break}while(!0);Mn(t)}function By(t,r,a,o,u,f,m,v,T,O,z,J,R,B){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:Xb},Ey(r),J=Qb(),J!==null)){t.cancelPendingCommit=J(qy.bind(null,t,r,f,a,o,u,m,v,T,z,1,R,B)),Li(t,f,m,!O);return}qy(t,r,f,a,o,u,m,v,T)}function db(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Le(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Li(t,r,a,o){r&=~Yf,r&=~ba,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var u=r;0<u;){var f=31-Ue(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&jd(t,a,r)}function Wl(){return(Ot&6)===0?(To(0),!1):!0}function Qf(){if(pt!==null){if(Ct===0)var t=pt.return;else t=pt,tr=ga=null,df(t),rs=null,co=0,t=pt;for(;t!==null;)cy(t.alternate,t),t=t.return;pt=null}}function fs(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qf(),Lt=t,pt=a=_n(t.current,null),At=r,Ct=0,Ve=null,Ii=!1,os=Us(t,r),Pf=!1,ls=en=Yf=ba=Mi=Gt=0,Ce=So=null,Gf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var u=31-Ue(o),f=1<<u;r|=t[u],o&=~f}return lr=r,Tl(),a}function ky(t,r){gt=null,U.H=Hl,r===eo||r===Rl?(r=Zg(),Ct=3):r===Kg?(r=Zg(),Ct=4):Ct=r===Qm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ve=r,pt===null&&(Gt=1,Gl(t,Qe(r,t.current)))}function Iy(){var t=U.H;return U.H=Hl,t===null?Hl:t}function My(){var t=U.A;return U.A=fb,t}function _f(){Gt=4,Ii||(At&4194048)!==At&&tn.current!==null||(os=!0),(Mi&134217727)===0&&(ba&134217727)===0||Lt===null||Li(Lt,At,en,!1)}function Ff(t,r,a){var o=Ot;Ot|=2;var u=Iy(),f=My();(Lt!==t||At!==r)&&(Fl=null,fs(t,r)),r=!1;var m=Gt;t:do try{if(Ct!==0&&pt!==null){var v=pt,T=Ve;switch(Ct){case 8:Qf(),m=6;break t;case 3:case 2:case 9:case 6:tn.current===null&&(r=!0);var O=Ct;if(Ct=0,Ve=null,hs(t,v,T,O),a&&os){m=0;break t}break;default:O=Ct,Ct=0,Ve=null,hs(t,v,T,O)}}gb(),m=Gt;break}catch(z){ky(t,z)}while(!0);return r&&t.shellSuspendCounter++,tr=ga=null,Ot=o,U.H=u,U.A=f,pt===null&&(Lt=null,At=0,Tl()),m}function gb(){for(;pt!==null;)zy(pt)}function mb(t,r){var a=Ot;Ot|=2;var o=Iy(),u=My();Lt!==t||At!==r?(Fl=null,_l=Cn()+500,fs(t,r)):os=Us(t,r);t:do try{if(Ct!==0&&pt!==null){r=pt;var f=Ve;e:switch(Ct){case 1:Ct=0,Ve=null,hs(t,r,f,1);break;case 2:case 9:if($g(f)){Ct=0,Ve=null,Uy(r);break}r=function(){Ct!==2&&Ct!==9||Lt!==t||(Ct=7),Mn(t)},f.then(r,r);break t;case 3:Ct=7;break t;case 4:Ct=5;break t;case 7:$g(f)?(Ct=0,Ve=null,Uy(r)):(Ct=0,Ve=null,hs(t,r,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var v=pt;if(!m||pp(m)){Ct=0,Ve=null;var T=v.sibling;if(T!==null)pt=T;else{var O=v.return;O!==null?(pt=O,tu(O)):pt=null}break e}}Ct=0,Ve=null,hs(t,r,f,5);break;case 6:Ct=0,Ve=null,hs(t,r,f,6);break;case 8:Qf(),Gt=6;break t;default:throw Error(i(462))}}yb();break}catch(z){ky(t,z)}while(!0);return tr=ga=null,U.H=o,U.A=u,Ot=a,pt!==null?0:(Lt=null,At=0,Tl(),Gt)}function yb(){for(;pt!==null&&!q0();)zy(pt)}function zy(t){var r=ly(t.alternate,t,lr);t.memoizedProps=t.pendingProps,r===null?tu(t):pt=r}function Uy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=ny(a,r,r.pendingProps,r.type,void 0,At);break;case 11:r=ny(a,r,r.pendingProps,r.type.render,r.ref,At);break;case 5:df(r);default:cy(a,r),r=pt=Lg(r,lr),r=ly(a,r,lr)}t.memoizedProps=t.pendingProps,r===null?tu(t):pt=r}function hs(t,r,a,o){tr=ga=null,df(r),rs=null,co=0;var u=r.return;try{if(ab(t,u,r,a,At)){Gt=1,Gl(t,Qe(a,t.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Gt=1,Gl(t,Qe(a,t.current)),pt=null;return}r.flags&32768?(xt||o===1?t=!0:os||(At&536870912)!==0?t=!1:(Ii=t=!0,(o===2||o===9||o===3||o===6)&&(o=tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(r,t)):tu(r)}function tu(t){var r=t;do{if((r.flags&32768)!==0){Ly(r,Ii);return}t=r.return;var a=ob(r.alternate,r,lr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=t}while(r!==null);Gt===0&&(Gt=5)}function Ly(t,r){do{var a=lb(t.alternate,t);if(a!==null){a.flags&=32767,pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){pt=t;return}pt=t=a}while(t!==null);Gt=6,pt=null}function qy(t,r,a,o,u,f,m,v,T){t.cancelPendingCommit=null;do eu();while(he!==0);if((Ot&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=Vc,X0(t,a,f,m,v,T),t===Lt&&(pt=Lt=null,At=0),us=r,Ui=t,cs=a,$f=f,Xf=u,Oy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bb(sl,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=$.p,$.p=2,m=Ot,Ot|=4;try{ub(t,r,a)}finally{Ot=m,$.p=u,U.T=o}}he=1,Jy(),Hy(),Vy()}}function Jy(){if(he===1){he=0;var t=Ui,r=us,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=$.p;$.p=2;var u=Ot;Ot|=4;try{Ty(r,t);var f=ch,m=Dg(t.containerInfo),v=f.focusedElem,T=f.selectionRange;if(m!==v&&v&&v.ownerDocument&&xg(v.ownerDocument.documentElement,v)){if(T!==null&&Uc(v)){var O=T.start,z=T.end;if(z===void 0&&(z=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(z,v.value.length);else{var J=v.ownerDocument||document,R=J&&J.defaultView||window;if(R.getSelection){var B=R.getSelection(),lt=v.textContent.length,it=Math.min(T.start,lt),It=T.end===void 0?it:Math.min(T.end,lt);!B.extend&&it>It&&(m=It,It=it,it=m);var N=Ng(v,it),w=Ng(v,It);if(N&&w&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==w.node||B.focusOffset!==w.offset)){var x=J.createRange();x.setStart(N.node,N.offset),B.removeAllRanges(),it>It?(B.addRange(x),B.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),B.addRange(x))}}}}for(J=[],B=v;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<J.length;v++){var L=J[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}du=!!uh,ch=uh=null}finally{Ot=u,$.p=o,U.T=a}}t.current=r,he=2}}function Hy(){if(he===2){he=0;var t=Ui,r=us,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=$.p;$.p=2;var u=Ot;Ot|=4;try{py(t,r.alternate,r)}finally{Ot=u,$.p=o,U.T=a}}he=3}}function Vy(){if(he===4||he===3){he=0,J0();var t=Ui,r=us,a=cs,o=Oy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?he=5:(he=0,us=Ui=null,jy(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(zi=null),mc(a),r=r.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zs,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=U.T,u=$.p,$.p=2,U.T=null;try{for(var f=t.onRecoverableError,m=0;m<o.length;m++){var v=o[m];f(v.value,{componentStack:v.stack})}}finally{U.T=r,$.p=u}}(cs&3)!==0&&eu(),Mn(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===Zf?bo++:(bo=0,Zf=t):bo=0,To(0)}}function jy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ws(r)))}function eu(t){return Jy(),Hy(),Vy(),Py()}function Py(){if(he!==5)return!1;var t=Ui,r=$f;$f=0;var a=mc(cs),o=U.T,u=$.p;try{$.p=32>a?32:a,U.T=null,a=Xf,Xf=null;var f=Ui,m=cs;if(he=0,us=Ui=null,cs=0,(Ot&6)!==0)throw Error(i(331));var v=Ot;if(Ot|=4,xy(f.current),wy(f,f.current,m,a),Ot=v,To(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zs,f)}catch{}return!0}finally{$.p=u,U.T=o,jy(t,r)}}function Yy(t,r,a){r=Qe(a,r),r=Df(t.stateNode,r,2),t=xi(t,r,2),t!==null&&(Ls(t,2),Mn(t))}function zt(t,r,a){if(t.tag===3)Yy(t,t,a);else for(;r!==null;){if(r.tag===3){Yy(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zi===null||!zi.has(o))){t=Qe(a,t),a=Xm(2),o=xi(r,a,2),o!==null&&(Zm(a,o,r,t),Ls(o,2),Mn(o));break}}r=r.return}}function Wf(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hb;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(Pf=!0,u.add(a),t=pb.bind(null,t,r,a),r.then(t,t))}function pb(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Lt===t&&(At&a)===a&&(Gt===4||Gt===3&&(At&62914560)===At&&300>Cn()-Kf?(Ot&2)===0&&fs(t,0):Yf|=a,ls===At&&(ls=0)),Mn(t)}function Gy(t,r){r===0&&(r=Vd()),t=$a(t,r),t!==null&&(Ls(t,r),Mn(t))}function vb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Gy(t,a)}function Sb(t,r){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Gy(t,a)}function bb(t,r){return fc(t,r)}var nu=null,ds=null,th=!1,ru=!1,eh=!1,Ta=0;function Mn(t){t!==ds&&t.next===null&&(ds===null?nu=ds=t:ds=ds.next=t),ru=!0,th||(th=!0,Ab())}function To(t,r){if(!eh&&ru){eh=!0;do for(var a=!1,o=nu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Ue(42|t)+1)-1,f&=u&~(m&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(o,f))}else f=At,f=ul(o,o===Lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Us(o,f)||(a=!0,Zy(o,f));o=o.next}while(a);eh=!1}}function Tb(){Ky()}function Ky(){ru=th=!1;var t=0;Ta!==0&&(Rb()&&(t=Ta),Ta=0);for(var r=Cn(),a=null,o=nu;o!==null;){var u=o.next,f=$y(o,r);f===0?(o.next=null,a===null?nu=u:a.next=u,u===null&&(ds=a)):(a=o,(t!==0||(f&3)!==0)&&(ru=!0)),o=u}To(t)}function $y(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-Ue(f),v=1<<m,T=u[m];T===-1?((v&a)===0||(v&o)!==0)&&(u[m]=$0(v,r)):T<=r&&(t.expiredLanes|=v),f&=~v}if(r=Lt,a=At,a=ul(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Us(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&hc(o),mc(a)){case 2:case 8:a=qd;break;case 32:a=sl;break;case 268435456:a=Jd;break;default:a=sl}return o=Xy.bind(null,t),a=fc(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&hc(o),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,r){if(he!==0&&he!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eu()&&t.callbackNode!==a)return null;var o=At;return o=ul(t,t===Lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ry(t,o,r),$y(t,Cn()),t.callbackNode!=null&&t.callbackNode===a?Xy.bind(null,t):null)}function Zy(t,r){if(eu())return null;Ry(t,r,!0)}function Ab(){kb(function(){(Ot&6)!==0?fc(Ld,Tb):Ky()})}function nh(){return Ta===0&&(Ta=Hd()),Ta}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gl(""+t)}function _y(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function wb(t,r,a,o,u){if(r==="submit"&&a&&a.stateNode===u){var f=Qy((u[Ne]||null).action),m=o.submitter;m&&(r=(r=m[Ne]||null)?Qy(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var v=new vl("action","action",null,o,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ta!==0){var T=m?_y(u,m):new FormData(u);Af(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(v.preventDefault(),T=m?_y(u,m):new FormData(u),Af(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var rh=0;rh<Hc.length;rh++){var ih=Hc[rh],Eb=ih.toLowerCase(),Nb=ih[0].toUpperCase()+ih.slice(1);bn(Eb,"on"+Nb)}bn(Rg,"onAnimationEnd"),bn(Bg,"onAnimationIteration"),bn(kg,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(jS,"onTransitionRun"),bn(PS,"onTransitionStart"),bn(YS,"onTransitionCancel"),bn(Ig,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function Fy(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(r)for(var m=o.length-1;0<=m;m--){var v=o[m],T=v.instance,O=v.currentTarget;if(v=v.listener,T!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=O;try{f(u)}catch(z){Yl(z)}u.currentTarget=null,f=T}else for(m=0;m<o.length;m++){if(v=o[m],T=v.instance,O=v.currentTarget,v=v.listener,T!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=O;try{f(u)}catch(z){Yl(z)}u.currentTarget=null,f=T}}}}function vt(t,r){var a=r[yc];a===void 0&&(a=r[yc]=new Set);var o=t+"__bubble";a.has(o)||(Wy(r,t,2,!1),a.add(o))}function ah(t,r,a){var o=0;r&&(o|=4),Wy(a,t,o,r)}var iu="_reactListening"+Math.random().toString(36).slice(2);function sh(t){if(!t[iu]){t[iu]=!0,Kd.forEach(function(a){a!=="selectionchange"&&(xb.has(a)||ah(a,!1,t),ah(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[iu]||(r[iu]=!0,ah("selectionchange",!1,r))}}function Wy(t,r,a,o){switch(wp(r)){case 2:var u=Wb;break;case 8:u=tT;break;default:u=bh}a=u.bind(null,r,a,t),u=void 0,!Dc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(r,a,{capture:!0,passive:u}):t.addEventListener(r,a,!0):u!==void 0?t.addEventListener(r,a,{passive:u}):t.addEventListener(r,a,!1)}function oh(t,r,a,o,u){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var v=o.stateNode.containerInfo;if(v===u)break;if(m===4)for(m=o.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;v!==null;){if(m=Ma(v),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){o=f=m;continue t}v=v.parentNode}}o=o.return}sg(function(){var O=f,z=Nc(a),J=[];t:{var R=Mg.get(t);if(R!==void 0){var B=vl,lt=t;switch(t){case"keypress":if(yl(a)===0)break t;case"keydown":case"keyup":B=bS;break;case"focusin":lt="focus",B=Bc;break;case"focusout":lt="blur",B=Bc;break;case"beforeblur":case"afterblur":B=Bc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=wS;break;case Rg:case Bg:case kg:B=fS;break;case Ig:B=NS;break;case"scroll":case"scrollend":B=sS;break;case"wheel":B=DS;break;case"copy":case"cut":case"paste":B=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=fg;break;case"toggle":case"beforetoggle":B=CS}var it=(r&4)!==0,It=!it&&(t==="scroll"||t==="scrollend"),N=it?R!==null?R+"Capture":null:R;it=[];for(var w=O,x;w!==null;){var L=w;if(x=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||x===null||N===null||(L=Hs(w,N),L!=null&&it.push(wo(w,L,x))),It)break;w=w.return}0<it.length&&(R=new B(R,lt,null,a,z),J.push({event:R,listeners:it}))}}if((r&7)===0){t:{if(R=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",R&&a!==Ec&&(lt=a.relatedTarget||a.fromElement)&&(Ma(lt)||lt[Ia]))break t;if((B||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,B?(lt=a.relatedTarget||a.toElement,B=O,lt=lt?Ma(lt):null,lt!==null&&(It=c(lt),it=lt.tag,lt!==It||it!==5&&it!==27&&it!==6)&&(lt=null)):(B=null,lt=O),B!==lt)){if(it=ug,L="onMouseLeave",N="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(it=fg,L="onPointerLeave",N="onPointerEnter",w="pointer"),It=B==null?R:Js(B),x=lt==null?R:Js(lt),R=new it(L,w+"leave",B,a,z),R.target=It,R.relatedTarget=x,L=null,Ma(z)===O&&(it=new it(N,w+"enter",lt,a,z),it.target=x,it.relatedTarget=It,L=it),It=L,B&&lt)e:{for(it=B,N=lt,w=0,x=it;x;x=gs(x))w++;for(x=0,L=N;L;L=gs(L))x++;for(;0<w-x;)it=gs(it),w--;for(;0<x-w;)N=gs(N),x--;for(;w--;){if(it===N||N!==null&&it===N.alternate)break e;it=gs(it),N=gs(N)}it=null}else it=null;B!==null&&tp(J,R,B,it,!1),lt!==null&&It!==null&&tp(J,It,lt,it,!0)}}t:{if(R=O?Js(O):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var Z=Sg;else if(pg(R))if(bg)Z=JS;else{Z=LS;var yt=US}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&wc(O.elementType)&&(Z=Sg):Z=qS;if(Z&&(Z=Z(t,O))){vg(J,Z,a,z);break t}yt&&yt(t,R,O),t==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&Ac(R,"number",R.value)}switch(yt=O?Js(O):window,t){case"focusin":(pg(yt)||yt.contentEditable==="true")&&(Ya=yt,Lc=O,Xs=null);break;case"focusout":Xs=Lc=Ya=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,Og(J,a,z);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Og(J,a,z)}var tt;if(Ic)t:{switch(t){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else Pa?mg(t,a)&&(at="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(hg&&a.locale!=="ko"&&(Pa||at!=="onCompositionStart"?at==="onCompositionEnd"&&Pa&&(tt=og()):(Ai=z,Oc="value"in Ai?Ai.value:Ai.textContent,Pa=!0)),yt=au(O,at),0<yt.length&&(at=new cg(at,t,null,a,z),J.push({event:at,listeners:yt}),tt?at.data=tt:(tt=yg(a),tt!==null&&(at.data=tt)))),(tt=BS?kS(t,a):IS(t,a))&&(at=au(O,"onBeforeInput"),0<at.length&&(yt=new cg("onBeforeInput","beforeinput",null,a,z),J.push({event:yt,listeners:at}),yt.data=tt)),wb(J,t,O,a,z)}Fy(J,r)})}function wo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function au(t,r){for(var a=r+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Hs(t,a),u!=null&&o.unshift(wo(t,u,f)),u=Hs(t,r),u!=null&&o.push(wo(t,u,f))),t.tag===3)return o;t=t.return}return[]}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tp(t,r,a,o,u){for(var f=r._reactName,m=[];a!==null&&a!==o;){var v=a,T=v.alternate,O=v.stateNode;if(v=v.tag,T!==null&&T===o)break;v!==5&&v!==26&&v!==27||O===null||(T=O,u?(O=Hs(a,f),O!=null&&m.unshift(wo(a,O,T))):u||(O=Hs(a,f),O!=null&&m.push(wo(a,O,T)))),a=a.return}m.length!==0&&t.push({event:r,listeners:m})}var Db=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function ep(t){return(typeof t=="string"?t:""+t).replace(Db,`
`).replace(Ob,"")}function np(t,r){return r=ep(r),ep(t)===r}function su(){}function kt(t,r,a,o,u,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Ha(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Ha(t,""+o);break;case"className":fl(t,"class",o);break;case"tabIndex":fl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(t,a,o);break;case"style":ig(t,o,f);break;case"data":if(r!=="object"){fl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=gl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&kt(t,r,"name",u.name,u,null),kt(t,r,"formEncType",u.formEncType,u,null),kt(t,r,"formMethod",u.formMethod,u,null),kt(t,r,"formTarget",u.formTarget,u,null)):(kt(t,r,"encType",u.encType,u,null),kt(t,r,"method",u.method,u,null),kt(t,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=gl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=su);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=gl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":vt("beforetoggle",t),vt("toggle",t),cl(t,"popover",o);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iS.get(a)||a,cl(t,a,o))}}function lh(t,r,a,o,u,f){switch(a){case"style":ig(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Ha(t,o):(typeof o=="number"||typeof o=="bigint")&&Ha(t,""+o);break;case"onScroll":o!=null&&vt("scroll",t);break;case"onScrollEnd":o!=null&&vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$d.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=t[Ne]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):cl(t,a,o)}}}function de(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(t,r,f,m,a,null)}}u&&kt(t,r,"srcSet",a.srcSet,a,null),o&&kt(t,r,"src",a.src,a,null);return;case"input":vt("invalid",t);var v=f=m=u=null,T=null,O=null;for(o in a)if(a.hasOwnProperty(o)){var z=a[o];if(z!=null)switch(o){case"name":u=z;break;case"type":m=z;break;case"checked":T=z;break;case"defaultChecked":O=z;break;case"value":f=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,r));break;default:kt(t,r,o,z,a,null)}}tg(t,f,v,T,O,m,u,!1),hl(t);return;case"select":vt("invalid",t),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":m=v;break;case"multiple":o=v;default:kt(t,r,u,v,a,null)}r=f,a=m,t.multiple=!!o,r!=null?Ja(t,!!o,r,!1):a!=null&&Ja(t,!!o,a,!0);return;case"textarea":vt("invalid",t),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":o=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:kt(t,r,m,v,a,null)}ng(t,o,u,f),hl(t);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(o=a[T],o!=null))switch(T){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:kt(t,r,T,o,a,null)}return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(o=0;o<Ao.length;o++)vt(Ao[o],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:kt(t,r,O,o,a,null)}return;default:if(wc(r)){for(z in a)a.hasOwnProperty(z)&&(o=a[z],o!==void 0&&lh(t,r,z,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&kt(t,r,v,o,a,null))}function Cb(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,v=null,T=null,O=null,z=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=J;default:o.hasOwnProperty(B)||kt(t,r,B,null,o,J)}}for(var R in o){var B=o[R];if(J=a[R],o.hasOwnProperty(R)&&(B!=null||J!=null))switch(R){case"type":f=B;break;case"name":u=B;break;case"checked":O=B;break;case"defaultChecked":z=B;break;case"value":m=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==J&&kt(t,r,R,B,o,J)}}Tc(t,m,v,T,O,z,f,u);return;case"select":B=m=v=R=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":B=T;default:o.hasOwnProperty(f)||kt(t,r,f,null,o,T)}for(u in o)if(f=o[u],T=a[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":R=f;break;case"defaultValue":v=f;break;case"multiple":m=f;default:f!==T&&kt(t,r,u,f,o,T)}r=v,a=m,o=B,R!=null?Ja(t,!!a,R,!1):!!o!=!!a&&(r!=null?Ja(t,!!a,r,!0):Ja(t,!!a,a?[]:"",!1));return;case"textarea":B=R=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:kt(t,r,v,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":R=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&kt(t,r,m,u,o,f)}eg(t,R,B);return;case"option":for(var lt in a)if(R=a[lt],a.hasOwnProperty(lt)&&R!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:kt(t,r,lt,null,o,R)}for(T in o)if(R=o[T],B=a[T],o.hasOwnProperty(T)&&R!==B&&(R!=null||B!=null))switch(T){case"selected":t.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:kt(t,r,T,R,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in a)R=a[it],a.hasOwnProperty(it)&&R!=null&&!o.hasOwnProperty(it)&&kt(t,r,it,null,o,R);for(O in o)if(R=o[O],B=a[O],o.hasOwnProperty(O)&&R!==B&&(R!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,r));break;default:kt(t,r,O,R,o,B)}return;default:if(wc(r)){for(var It in a)R=a[It],a.hasOwnProperty(It)&&R!==void 0&&!o.hasOwnProperty(It)&&lh(t,r,It,void 0,o,R);for(z in o)R=o[z],B=a[z],!o.hasOwnProperty(z)||R===B||R===void 0&&B===void 0||lh(t,r,z,R,o,B);return}}for(var N in a)R=a[N],a.hasOwnProperty(N)&&R!=null&&!o.hasOwnProperty(N)&&kt(t,r,N,null,o,R);for(J in o)R=o[J],B=a[J],!o.hasOwnProperty(J)||R===B||R==null&&B==null||kt(t,r,J,R,o,B)}var uh=null,ch=null;function ou(t){return t.nodeType===9?t:t.ownerDocument}function rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function fh(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hh=null;function Rb(){var t=window.event;return t&&t.type==="popstate"?t===hh?!1:(hh=t,!0):(hh=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(Ib)}:ap;function Ib(t){setTimeout(function(){throw t})}function qi(t){return t==="head"}function op(t,r){var a=r,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=t.ownerDocument;if(a&1&&Eo(m.documentElement),a&2&&Eo(m.body),a&4)for(a=m.head,Eo(a),m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[qs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}if(u===0){t.removeChild(f),ko(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ko(r)}function dh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dh(a),pc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mb(t,r,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function zb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=An(t.nextSibling),t===null))return null;return t}function gh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ub(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function An(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var mh=null;function lp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function up(t,r,a){switch(r=ou(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Eo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pc(t)}var nn=new Map,cp=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=$.d;$.d={f:Lb,r:qb,D:Jb,C:Hb,L:Vb,m:jb,X:Yb,S:Pb,M:Gb};function Lb(){var t=ur.f(),r=Wl();return t||r}function qb(t){var r=za(t);r!==null&&r.tag===5&&r.type==="form"?Rm(r):ur.r(t)}var ms=typeof document>"u"?null:document;function fp(t,r,a){var o=ms;if(o&&typeof r=="string"&&r){var u=Ze(r);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),cp.has(u)||(cp.add(u),t={rel:t,crossOrigin:a,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),de(r,"link",t),se(r),o.head.appendChild(r)))}}function Jb(t){ur.D(t),fp("dns-prefetch",t,null)}function Hb(t,r){ur.C(t,r),fp("preconnect",t,r)}function Vb(t,r,a){ur.L(t,r,a);var o=ms;if(o&&t&&r){var u='link[rel="preload"][as="'+Ze(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ze(a.imageSizes)+'"]')):u+='[href="'+Ze(t)+'"]';var f=u;switch(r){case"style":f=ys(t);break;case"script":f=ps(t)}nn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),nn.set(f,t),o.querySelector(u)!==null||r==="style"&&o.querySelector(No(f))||r==="script"&&o.querySelector(xo(f))||(r=o.createElement("link"),de(r,"link",t),se(r),o.head.appendChild(r)))}}function jb(t,r){ur.m(t,r);var a=ms;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+Ze(o)+'"][href="'+Ze(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!nn.has(f)&&(t=b({rel:"modulepreload",href:t},r),nn.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xo(f)))return}o=a.createElement("link"),de(o,"link",t),se(o),a.head.appendChild(o)}}}function Pb(t,r,a){ur.S(t,r,a);var o=ms;if(o&&t){var u=Ua(o).hoistableStyles,f=ys(t);r=r||"default";var m=u.get(f);if(!m){var v={loading:0,preload:null};if(m=o.querySelector(No(f)))v.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=nn.get(f))&&yh(t,a);var T=m=o.createElement("link");se(T),de(T,"link",t),T._p=new Promise(function(O,z){T.onload=O,T.onerror=z}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,uu(m,r,o)}m={type:"stylesheet",instance:m,count:1,state:v},u.set(f,m)}}}function Yb(t,r){ur.X(t,r);var a=ms;if(a&&t){var o=Ua(a).hoistableScripts,u=ps(t),f=o.get(u);f||(f=a.querySelector(xo(u)),f||(t=b({src:t,async:!0},r),(r=nn.get(u))&&ph(t,r),f=a.createElement("script"),se(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Gb(t,r){ur.M(t,r);var a=ms;if(a&&t){var o=Ua(a).hoistableScripts,u=ps(t),f=o.get(u);f||(f=a.querySelector(xo(u)),f||(t=b({src:t,async:!0,type:"module"},r),(r=nn.get(u))&&ph(t,r),f=a.createElement("script"),se(f),de(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function hp(t,r,a,o){var u=(u=ct.current)?lu(u):null;if(!u)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ys(a.href),a=Ua(u).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ys(a.href);var f=Ua(u).hoistableStyles,m=f.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=u.querySelector(No(t)))&&!f._p&&(m.instance=f,m.state.loading=5),nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nn.set(t,a),f||Kb(u,t,a,m.state))),r&&o===null)throw Error(i(528,""));return m}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ps(a),a=Ua(u).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ys(t){return'href="'+Ze(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function dp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),de(r,"link",a),se(r),t.head.appendChild(r))}function ps(t){return'[src="'+Ze(t)+'"]'}function xo(t){return"script[async]"+t}function gp(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Ze(a.href)+'"]');if(o)return r.instance=o,se(o),o;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),se(o),de(o,"style",u),uu(o,a.precedence,t),r.instance=o;case"stylesheet":u=ys(a.href);var f=t.querySelector(No(u));if(f)return r.state.loading|=4,r.instance=f,se(f),f;o=dp(a),(u=nn.get(u))&&yh(o,u),f=(t.ownerDocument||t).createElement("link"),se(f);var m=f;return m._p=new Promise(function(v,T){m.onload=v,m.onerror=T}),de(f,"link",o),r.state.loading|=4,uu(f,a.precedence,t),r.instance=f;case"script":return f=ps(a.src),(u=t.querySelector(xo(f)))?(r.instance=u,se(u),u):(o=a,(u=nn.get(f))&&(o=b({},a),ph(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),se(u),de(u,"link",o),t.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,uu(o,a.precedence,t));return r.instance}function uu(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var v=o[m];if(v.dataset.precedence===r)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function yh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function ph(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var cu=null;function mp(t,r,a){if(cu===null){var o=new Map,u=cu=new Map;u.set(a,o)}else u=cu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[qs]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=t+m;var v=o.get(m);v?v.push(f):o.set(m,[f])}}return o}function yp(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function $b(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Do=null;function Xb(){}function Zb(t,r,a){if(Do===null)throw Error(i(475));var o=Do;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=ys(a.href),f=t.querySelector(No(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=fu.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=f,se(f);return}f=t.ownerDocument||t,a=dp(a),(u=nn.get(u))&&yh(a,u),f=f.createElement("link"),se(f);var m=f;m._p=new Promise(function(v,T){m.onload=v,m.onerror=T}),de(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=fu.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function Qb(){if(Do===null)throw Error(i(475));var t=Do;return t.stylesheets&&t.count===0&&vh(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function fu(){if(this.count--,this.count===0){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function vh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,r.forEach(_b,t),hu=null,fu.call(t))}function _b(t,r){if(!(r.state.loading&4)){var a=hu.get(t);if(a)var o=a.get(null);else{a=new Map,hu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=r.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=fu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),r.state.loading|=4}}var Oo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function Fb(t,r,a,o,u,f,m,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.hiddenUpdates=dc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function vp(t,r,a,o,u,f,m,v,T,O,z,J){return t=new Fb(t,r,a,m,v,T,O,J),r=1,f===!0&&(r|=24),f=qe(3,null,null,r),t.current=f,f.stateNode=t,r=Fc(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},nf(f),t}function Sp(t){return t?(t=Xa,t):Xa}function bp(t,r,a,o,u,f){u=Sp(u),o.context===null?o.context=u:o.pendingContext=u,o=Ni(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xi(t,o,r),a!==null&&(Pe(a,t,r),ro(a,t,r))}function Tp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Sh(t,r){Tp(t,r),(t=t.alternate)&&Tp(t,r)}function Ap(t){if(t.tag===13){var r=$a(t,67108864);r!==null&&Pe(r,t,67108864),Sh(t,67108864)}}var du=!0;function Wb(t,r,a,o){var u=U.T;U.T=null;var f=$.p;try{$.p=2,bh(t,r,a,o)}finally{$.p=f,U.T=u}}function tT(t,r,a,o){var u=U.T;U.T=null;var f=$.p;try{$.p=8,bh(t,r,a,o)}finally{$.p=f,U.T=u}}function bh(t,r,a,o){if(du){var u=Th(o);if(u===null)oh(t,r,o,gu,a),Ep(t,o);else if(nT(u,t,r,a,o))o.stopPropagation();else if(Ep(t,o),r&4&&-1<eT.indexOf(t)){for(;u!==null;){var f=za(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=ia(f.pendingLanes);if(m!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var T=1<<31-Ue(m);v.entanglements[1]|=T,m&=~T}Mn(f),(Ot&6)===0&&(_l=Cn()+500,To(0))}}break;case 13:v=$a(f,2),v!==null&&Pe(v,f,2),Wl(),Sh(f,2)}if(f=Th(o),f===null&&oh(t,r,o,gu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else oh(t,r,o,null,a)}}function Th(t){return t=Nc(t),Ah(t)}var gu=null;function Ah(t){if(gu=null,t=Ma(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return gu=t,null}function wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(H0()){case Ld:return 2;case qd:return 8;case sl:case V0:return 32;case Jd:return 268435456;default:return 32}default:return 32}}var wh=!1,Ji=null,Hi=null,Vi=null,Co=new Map,Ro=new Map,ji=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(t,r){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Co.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(r.pointerId)}}function Bo(t,r,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},r!==null&&(r=za(r),r!==null&&Ap(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),t)}function nT(t,r,a,o,u){switch(r){case"focusin":return Ji=Bo(Ji,t,r,a,o,u),!0;case"dragenter":return Hi=Bo(Hi,t,r,a,o,u),!0;case"mouseover":return Vi=Bo(Vi,t,r,a,o,u),!0;case"pointerover":var f=u.pointerId;return Co.set(f,Bo(Co.get(f)||null,t,r,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Ro.set(f,Bo(Ro.get(f)||null,t,r,a,o,u)),!0}return!1}function Np(t){var r=Ma(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Z0(t.priority,function(){if(a.tag===13){var o=je();o=gc(o);var u=$a(a,o);u!==null&&Pe(u,a,o),Sh(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Th(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ec=o,a.target.dispatchEvent(o),Ec=null}else return r=za(a),r!==null&&Ap(r),t.blockedOn=a,!1;r.shift()}return!0}function xp(t,r,a){mu(t)&&a.delete(r)}function rT(){wh=!1,Ji!==null&&mu(Ji)&&(Ji=null),Hi!==null&&mu(Hi)&&(Hi=null),Vi!==null&&mu(Vi)&&(Vi=null),Co.forEach(xp),Ro.forEach(xp)}function yu(t,r){t.blockedOn===r&&(t.blockedOn=null,wh||(wh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rT)))}var pu=null;function Dp(t){pu!==t&&(pu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],u=t[r+2];if(typeof o!="function"){if(Ah(o||a)===null)continue;break}var f=za(a);f!==null&&(t.splice(r,3),r-=3,Af(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function ko(t){function r(T){return yu(T,t)}Ji!==null&&yu(Ji,t),Hi!==null&&yu(Hi,t),Vi!==null&&yu(Vi,t),Co.forEach(r),Ro.forEach(r);for(var a=0;a<ji.length;a++){var o=ji[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)Np(a),a.blockedOn===null&&ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[Ne]||null;if(typeof f=="function")m||Dp(a);else if(m){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[Ne]||null)v=m.formAction;else if(Ah(u)!==null)continue}else v=m.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Dp(a)}}}function Eh(t){this._internalRoot=t}vu.prototype.render=Eh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=je();bp(a,o,t,r,null,null)},vu.prototype.unmount=Eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;bp(t.current,2,null,t,null,null),Wl(),r[Ia]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var r=Yd();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ji.length&&r!==0&&r<ji[a].priority;a++);ji.splice(a,0,t),a===0&&Np(t)}};var Op=n.version;if(Op!=="19.1.0")throw Error(i(527,Op,"19.1.0"));$.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var iT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{zs=Su.inject(iT),ze=Su}catch{}}return Mo.createRoot=function(t,r){if(!l(t))throw Error(i(299));var a=!1,o="",u=Ym,f=Gm,m=Km,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=vp(t,1,!1,null,null,a,o,u,f,m,v,null),t[Ia]=r.current,sh(t),new Eh(r)},Mo.hydrateRoot=function(t,r,a){if(!l(t))throw Error(i(299));var o=!1,u="",f=Ym,m=Gm,v=Km,T=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),r=vp(t,1,!0,r,a??null,o,u,f,m,v,T,O),r.context=Sp(null),a=r.current,o=je(),o=gc(o),u=Ni(o),u.callback=null,xi(a,u,o),a=o,r.current.lanes=a,Ls(r,a),Mn(r),t[Ia]=r.current,sh(t),new vu(r)},Mo.version="19.1.0",Mo}var qp;function vT(){if(qp)return Dh.exports;qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Dh.exports=pT(),Dh.exports}var ST=vT();const bT="@yorkie-js/react",TT="0.6.8",Jp={name:bT,version:TT};var St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function Hp(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Dt extends Error{constructor(n,e=St.Unknown,i,l,c){super(AT(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(n,e=St.Unknown){return n instanceof Dt?n:n instanceof Error?n.name=="AbortError"?new Dt(n.message,St.Canceled):new Dt(n.message,e,void 0,void 0,n):new Dt(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Dt.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,i=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&i.push(l);continue}const c=e.findMessage(l.type);if(c)try{i.push(c.fromBinary(l.value))}catch{}}return i}}function AT(s,n){return s.length?`[${Hp(n)}] ${s}`:`[${Hp(n)}]`}function $t(s,n){if(!s)throw new Error(n)}const wT=34028234663852886e22,ET=-34028234663852886e22,NT=4294967295,xT=2147483647,DT=-2147483648;function Nu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>xT||s<DT)throw new Error("invalid int 32: "+s)}function Hh(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>NT||s<0)throw new Error("invalid uint 32: "+s)}function Cv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>wT||s<ET))throw new Error("invalid float 32: "+s)}const Rv=Symbol("@bufbuild/protobuf/enum-type");function OT(s){const n=s[Rv];return $t(n,"missing enum type on enum object"),n}function Bv(s,n,e,i){s[Rv]=kv(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function kv(s,n,e){const i=Object.create(null),l=Object.create(null),c=[];for(const h of n){const g=Iv(h);c.push(g),i[h.name]=g,l[h.no]=g}return{typeName:s,values:c,findName(h){return i[h]},findNumber(h){return l[h]}}}function CT(s,n,e){const i={};for(const l of n){const c=Iv(l);i[c.localName]=c.no,i[c.no]=c.localName}return Bv(i,s,n),i}function Iv(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class P{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const i=this.getType(),l=i.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const i=this.getType(),l=i.runtime.json,c=l.makeReadOptions(e);return l.readMessage(i,n,c,this),this}fromJsonString(n,e){let i;try{i=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(i,e)}toBinary(n){const e=this.getType(),i=e.runtime.bin,l=i.makeWriteOptions(n),c=l.writerFactory();return i.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),i=e.runtime.json,l=i.makeWriteOptions(n);return i.writeMessage(this,l)}toJsonString(n){var e;const i=this.toJson(n);return JSON.stringify(i,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function RT(s,n,e,i){var l;const c=(l=i==null?void 0:i.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),h={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(h.prototype,new P),Object.assign(h,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(g,p){return new h().fromBinary(g,p)},fromJson(g,p){return new h().fromJson(g,p)},fromJsonString(g,p){return new h().fromJsonString(g,p)},equals(g,p){return s.util.equals(h,g,p)}}),h}function BT(){let s=0,n=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function Bh(s,n,e){for(let c=0;c<28;c=c+7){const h=s>>>c,g=!(!(h>>>7)&&n==0),p=(g?h|128:h)&255;if(e.push(p),!g)return}const i=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const h=n>>>c,g=!!(h>>>7),p=(g?h|128:h)&255;if(e.push(p),!g)return}e.push(n>>>31&1)}}const xu=4294967296;function Vp(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let i=0,l=0;function c(h,g){const p=Number(s.slice(h,g));l*=e,i=i*e+p,i>=xu&&(l=l+(i/xu|0),i=i%xu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?zv(i,l):md(i,l)}function kT(s,n){let e=md(s,n);const i=e.hi&2147483648;i&&(e=zv(e.lo,e.hi));const l=Mv(e.lo,e.hi);return i?"-"+l:l}function Mv(s,n){if({lo:s,hi:n}=IT(s,n),n<=2097151)return String(xu*n+s);const e=s&16777215,i=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+i*6777216+l*6710656,h=i+l*8147497,g=l*2;const p=1e7;return c>=p&&(h+=Math.floor(c/p),c%=p),h>=p&&(g+=Math.floor(h/p),h%=p),g.toString()+jp(h)+jp(c)}function IT(s,n){return{lo:s>>>0,hi:n>>>0}}function md(s,n){return{lo:s|0,hi:n|0}}function zv(s,n){return n=~n,s?s=~s+1:n+=1,md(s,n)}const jp=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Pp(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function MT(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Yp={};function zT(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Yp!="object"||Yp.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),h=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>c||y<l)throw new Error(`int64 invalid: ${p}`);return y},uParse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>g||y<h)throw new Error(`uint64 invalid: ${p}`);return y},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigInt64(0,!0)},uDec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigUint64(0,!0)}}}const e=l=>$t(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),i=l=>$t(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),i(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),Vp(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),i(l),Vp(l)},dec(l,c){return kT(l,c)},uDec(l,c){return Mv(l,c)}}}const Ht=zT();var M;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(M||(M={}));var Wi;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(Wi||(Wi={}));function Yi(s,n,e){if(n===e)return!0;if(s==M.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return!0}switch(s){case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==e}return!1}function xs(s,n){switch(s){case M.BOOL:return!1;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==0?Ht.zero:"0";case M.DOUBLE:case M.FLOAT:return 0;case M.BYTES:return new Uint8Array(0);case M.STRING:return"";default:return 0}}function Uv(s,n){switch(s){case M.BOOL:return n===!1;case M.STRING:return n==="";case M.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var Wt;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(Wt||(Wt={}));class UT{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),i=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Hh(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Nu(n),Pp(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){Cv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){Hh(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Nu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Nu(n),n=(n<<1^n>>31)>>>0,Pp(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Ht.enc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),i=new DataView(e.buffer),l=Ht.uEnc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=Ht.enc(n);return Bh(e.lo,e.hi,this.buf),this}sint64(n){let e=Ht.enc(n),i=e.hi>>31,l=e.lo<<1^i,c=(e.hi<<1|e.lo>>>31)^i;return Bh(l,c,this.buf),this}uint64(n){let e=Ht.uEnc(n);return Bh(e.lo,e.hi,this.buf),this}}class LT{constructor(n,e){this.varint64=BT,this.uint32=MT,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,i=n&7;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(n,e){let i=this.pos;switch(n){case Wt.Varint:for(;this.buf[this.pos++]&128;);break;case Wt.Bit64:this.pos+=4;case Wt.Bit32:this.pos+=4;break;case Wt.LengthDelimited:let l=this.uint32();this.pos+=l;break;case Wt.StartGroup:for(;;){const[c,h]=this.tag();if(h===Wt.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Ht.dec(...this.varint64())}uint64(){return Ht.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),i=-(n&1);return n=(n>>>1|(e&1)<<31)^i,e=e>>>1^i,Ht.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ht.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ht.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function qT(s,n,e,i){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function Lv(s){const n=s.field.localName,e=Object.create(null);return e[n]=JT(s),[e,()=>e[n]]}function JT(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return xs(n.T,n.L);case"message":const e=n.T,i=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function HT(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),nc=[];for(let s=0;s<ci.length;s++)nc[ci[s].charCodeAt(0)]=s;nc[45]=ci.indexOf("+");nc[95]=ci.indexOf("/");const yd={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),i=0,l=0,c,h=0;for(let g=0;g<s.length;g++){if(c=nc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:h=c,l=1;break;case 1:e[i++]=h<<2|(c&48)>>4,h=c,l=2;break;case 2:e[i++]=(h&15)<<4|(c&60)>>2,h=c,l=3;break;case 3:e[i++]=(h&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,i)},enc(s){let n="",e=0,i,l=0;for(let c=0;c<s.length;c++)switch(i=s[c],e){case 0:n+=ci[i>>2],l=(i&3)<<4,e=1;break;case 1:n+=ci[l|i>>4],l=(i&15)<<2,e=2;break;case 2:n+=ci[l|i>>6],n+=ci[i&63],e=0;break}return e&&(n+=ci[l],n+="=",e==1&&(n+="=")),n}};function VT(s,n,e){Jv(n,s);const i=n.runtime.bin.makeReadOptions(e),l=HT(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,h]=Lv(n);for(const g of l)n.runtime.bin.readField(c,i.readerFactory(g.data),n.field,g.wireType,i);return h()}function jT(s,n,e,i){Jv(n,s);const l=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(qv(s,n)){const y=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of y)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const h=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,e,h,c);const p=l.readerFactory(h.finish());for(;p.pos<p.len;){const[y,b]=p.tag(),E=p.skip(b,y);s.getType().runtime.bin.onUnknownField(s,y,b,E)}}function qv(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function Jv(s,n){$t(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function Hv(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!Uv(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function Gp(s,n){const e=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=i?s.T.values[0].no:void 0;break;case"scalar":n[e]=i?xs(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function xa(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(P.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function Vv(s,n){return xa(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}M.DOUBLE,M.FLOAT,M.INT64,M.UINT64,M.INT32,M.UINT32,M.BOOL,M.STRING,M.BYTES;const Kp={ignoreUnknownFields:!1},$p={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function PT(s){return s?Object.assign(Object.assign({},Kp),s):Kp}function YT(s){return s?Object.assign(Object.assign({},$p),s):$p}const ku=Symbol(),Du=Symbol();function GT(){return{makeReadOptions:PT,makeWriteOptions:YT,readMessage(s,n,e,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Un(n)}`);i=i??new s;const l=new Map,c=e.typeRegistry;for(const[h,g]of Object.entries(n)){const p=s.fields.findJsonName(h);if(p){if(p.oneof){if(g===null&&p.kind=="scalar")continue;const y=l.get(p.oneof);if(y!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${y}", "${h}"`);l.set(p.oneof,h)}Xp(i,g,p,e,s)}else{let y=!1;if(c!=null&&c.findExtension&&h.startsWith("[")&&h.endsWith("]")){const b=c.findExtension(h.substring(1,h.length-1));if(b&&b.extendee.typeName==s.typeName){y=!0;const[E,I]=Lv(b);Xp(E,g,b.field,e,b),jT(i,b,I(),e)}}if(!y&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${h}" is unknown`)}}return i},writeMessage(s,n){const e=s.getType(),i={};let l;try{for(l of e.fields.byNumber()){if(!Hv(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!$T(l))continue}const h=l.oneof?s[l.oneof.localName].value:s[l.localName],g=Zp(l,h,n);g!==void 0&&(i[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const h of e.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(e.typeName,h.no);if(g&&qv(s,g)){const p=VT(s,g,n),y=Zp(g.field,p,n);y!==void 0&&(i[g.field.jsonName]=y)}}}catch(c){const h=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(h+(g.length>0?`: ${g}`:""))}return i},readScalar(s,n,e){return Jo(s,n,e??Wi.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||Uv(s,n)))return Ou(s,n)},debug:Un}}function Un(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Xp(s,n,e,i,l){let c=e.localName;if(e.repeated){if($t(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Un(n)}`);const h=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Un(g)}`);switch(e.kind){case"message":h.push(e.T.fromJson(g,i));break;case"enum":const p=kh(e.T,g,i.ignoreUnknownFields,!0);p!==Du&&h.push(p);break;case"scalar":try{h.push(Jo(e.T,g,e.L,!0))}catch(y){let b=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Un(g)}`;throw y instanceof Error&&y.message.length>0&&(b+=`: ${y.message}`),new Error(b)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Un(n)}`);const h=s[c];for(const[g,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let y;try{y=KT(e.K,g)}catch(b){let E=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${Un(n)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}switch(e.V.kind){case"message":h[y]=e.V.T.fromJson(p,i);break;case"enum":const b=kh(e.V.T,p,i.ignoreUnknownFields,!0);b!==Du&&(h[y]=b);break;case"scalar":try{h[y]=Jo(e.V.T,p,Wi.BIGINT,!0)}catch(E){let I=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${Un(n)}`;throw E instanceof Error&&E.message.length>0&&(I+=`: ${E.message}`),new Error(I)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const h=e.T;if(n===null&&h.typeName!="google.protobuf.Value")return;let g=s[c];xa(g)?g.fromJson(n,i):(s[c]=g=h.fromJson(n,i),h.fieldWrapper&&!e.oneof&&(s[c]=h.fieldWrapper.unwrapField(g)));break;case"enum":const p=kh(e.T,n,i.ignoreUnknownFields,!1);switch(p){case ku:Gp(e,s);break;case Du:break;default:s[c]=p;break}break;case"scalar":try{const y=Jo(e.T,n,e.L,!1);switch(y){case ku:Gp(e,s);break;default:s[c]=y;break}}catch(y){let b=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Un(n)}`;throw y instanceof Error&&y.message.length>0&&(b+=`: ${y.message}`),new Error(b)}break}}function KT(s,n){if(s===M.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Jo(s,n,Wi.BIGINT,!0).toString()}function Jo(s,n,e,i){if(n===null)return i?xs(s,e):ku;switch(s){case M.DOUBLE:case M.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==M.FLOAT&&Cv(l),l;case M.INT32:case M.FIXED32:case M.SFIXED32:case M.SINT32:case M.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==M.UINT32||s==M.FIXED32?Hh(c):Nu(c),c;case M.INT64:case M.SFIXED64:case M.SINT64:if(typeof n!="number"&&typeof n!="string")break;const h=Ht.parse(n);return e?h.toString():h;case M.FIXED64:case M.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Ht.uParse(n);return e?g.toString():g;case M.BOOL:if(typeof n!="boolean")break;return n;case M.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case M.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return yd.dec(n)}throw new Error}function kh(s,n,e,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:ku;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return Du;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Un(n)}`)}function $T(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function Zp(s,n,e){if(s.kind=="map"){$t(typeof n=="object"&&n!=null);const i={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[h,g]of l)i[h.toString()]=Ou(s.V.T,g);break;case"message":for(const[h,g]of l)i[h.toString()]=g.toJson(e);break;case"enum":const c=s.V.T;for(const[h,g]of l)i[h.toString()]=Ih(c,g,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?i:void 0}if(s.repeated){$t(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)i.push(Ou(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)i.push(Ih(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)i.push(n[l].toJson(e));break}return e.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return Ou(s.T,n);case"enum":return Ih(s.T,n,e.enumAsInteger);case"message":return Vv(s.T,n).toJson(e)}}function Ih(s,n,e){var i;if($t(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:n}function Ou(s,n){switch(s){case M.INT32:case M.SFIXED32:case M.SINT32:case M.FIXED32:case M.UINT32:return $t(typeof n=="number"),n;case M.FLOAT:case M.DOUBLE:return $t(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case M.STRING:return $t(typeof n=="string"),n;case M.BOOL:return $t(typeof n=="boolean"),n;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return $t(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case M.BYTES:return $t(n instanceof Uint8Array),yd.enc(n)}}const vs=Symbol("@bufbuild/protobuf/unknown-fields"),Qp={readUnknownFields:!0,readerFactory:s=>new LT(s)},_p={writeUnknownFields:!0,writerFactory:()=>new UT};function XT(s){return s?Object.assign(Object.assign({},Qp),s):Qp}function ZT(s){return s?Object.assign(Object.assign({},_p),s):_p}function QT(){return{makeReadOptions:XT,makeWriteOptions:ZT,listUnknownFields(s){var n;return(n=s[vs])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[vs]},writeUnknownFields(s,n){const i=s[vs];if(i)for(const l of i)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,i){const l=s;Array.isArray(l[vs])||(l[vs]=[]),l[vs].push({no:n,wireType:e,data:i})},readMessage(s,n,e,i,l){const c=s.getType(),h=l?n.len:n.pos+e;let g,p;for(;n.pos<h&&([g,p]=n.tag(),!(l===!0&&p==Wt.EndGroup));){const y=c.fields.find(g);if(!y){const b=n.skip(p,g);i.readUnknownFields&&this.onUnknownField(s,g,p,b);continue}Fp(s,n,y,p,i)}if(l&&(p!=Wt.EndGroup||g!==e))throw new Error("invalid end group tag")},readField:Fp,writeMessage(s,n,e){const i=s.getType();for(const l of i.fields.byNumber()){if(!Hv(l,s)){if(l.req)throw new Error(`cannot encode field ${i.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];Wp(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,i){n!==void 0&&Wp(s,n,e,i)}}}function Fp(s,n,e,i,l){let{repeated:c,localName:h}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=h&&delete s.value,s.case=h,h="value"),e.kind){case"scalar":case"enum":const g=e.kind=="enum"?M.INT32:e.T;let p=Iu;if(e.kind=="scalar"&&e.L>0&&(p=FT),c){let I=s[h];if(i==Wt.LengthDelimited&&g!=M.STRING&&g!=M.BYTES){let q=n.uint32()+n.pos;for(;n.pos<q;)I.push(p(n,g))}else I.push(p(n,g))}else s[h]=p(n,g);break;case"message":const y=e.T;c?s[h].push(Cu(n,new y,l,e)):xa(s[h])?Cu(n,s[h],l,e):(s[h]=Cu(n,new y,l,e),y.fieldWrapper&&!e.oneof&&!e.repeated&&(s[h]=y.fieldWrapper.unwrapField(s[h])));break;case"map":let[b,E]=_T(e,n,l);s[h][b]=E;break}}function Cu(s,n,e,i){const l=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return l.readMessage(n,s,c?i.no:s.uint32(),e,c),n}function _T(s,n,e){const i=n.uint32(),l=n.pos+i;let c,h;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=Iu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":h=Iu(n,s.V.T);break;case"enum":h=n.int32();break;case"message":h=Cu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=xs(s.K,Wi.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),h===void 0)switch(s.V.kind){case"scalar":h=xs(s.V.T,Wi.BIGINT);break;case"enum":h=s.V.T.values[0].no;break;case"message":h=new s.V.T;break}return[c,h]}function FT(s,n){const e=Iu(s,n);return typeof e=="bigint"?e.toString():e}function Iu(s,n){switch(n){case M.STRING:return s.string();case M.BOOL:return s.bool();case M.DOUBLE:return s.double();case M.FLOAT:return s.float();case M.INT32:return s.int32();case M.INT64:return s.int64();case M.UINT64:return s.uint64();case M.FIXED64:return s.fixed64();case M.BYTES:return s.bytes();case M.FIXED32:return s.fixed32();case M.SFIXED32:return s.sfixed32();case M.SFIXED64:return s.sfixed64();case M.SINT64:return s.sint64();case M.UINT32:return s.uint32();case M.SINT32:return s.sint32()}}function Wp(s,n,e,i){$t(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?M.INT32:s.T;if(l)if($t(Array.isArray(n)),s.packed)tA(e,c,s.no,n);else for(const h of n)Ho(e,c,s.no,h);else Ho(e,c,s.no,n);break;case"message":if(l){$t(Array.isArray(n));for(const h of n)tv(e,i,s,h)}else tv(e,i,s,n);break;case"map":$t(typeof n=="object"&&n!=null);for(const[h,g]of Object.entries(n))WT(e,i,s,h,g);break}}function WT(s,n,e,i,l){s.tag(e.no,Wt.LengthDelimited),s.fork();let c=i;switch(e.K){case M.INT32:case M.FIXED32:case M.UINT32:case M.SFIXED32:case M.SINT32:c=Number.parseInt(i);break;case M.BOOL:$t(i=="true"||i=="false"),c=i=="true";break}switch(Ho(s,e.K,1,c),e.V.kind){case"scalar":Ho(s,e.V.T,2,l);break;case"enum":Ho(s,M.INT32,2,l);break;case"message":$t(l!==void 0),s.tag(2,Wt.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function tv(s,n,e,i){const l=Vv(e.T,i);e.delimited?s.tag(e.no,Wt.StartGroup).raw(l.toBinary(n)).tag(e.no,Wt.EndGroup):s.tag(e.no,Wt.LengthDelimited).bytes(l.toBinary(n))}function Ho(s,n,e,i){$t(i!==void 0);let[l,c]=jv(n);s.tag(e,l)[c](i)}function tA(s,n,e,i){if(!i.length)return;s.tag(e,Wt.LengthDelimited).fork();let[,l]=jv(n);for(let c=0;c<i.length;c++)s[l](i[c]);s.join()}function jv(s){let n=Wt.Varint;switch(s){case M.BYTES:case M.STRING:n=Wt.LengthDelimited;break;case M.DOUBLE:case M.FIXED64:case M.SFIXED64:n=Wt.Bit64;break;case M.FIXED32:case M.SFIXED32:case M.FLOAT:n=Wt.Bit32;break}const e=M[s].toLowerCase();return[n,e]}function eA(){return{setEnumType:Bv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const i of e.fields.byMember()){const l=i.localName,c=n,h=s;if(h[l]!=null)switch(i.kind){case"oneof":const g=h[l].case;if(g===void 0)continue;const p=i.findField(g);let y=h[l].value;p&&p.kind=="message"&&!xa(y,p.T)?y=new p.T(y):p&&p.kind==="scalar"&&p.T===M.BYTES&&(y=zo(y)),c[l]={case:g,value:y};break;case"scalar":case"enum":let b=h[l];i.T===M.BYTES&&(b=i.repeated?b.map(zo):zo(b)),c[l]=b;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===M.BYTES)for(const[k,q]of Object.entries(h[l]))c[l][k]=zo(q);else Object.assign(c[l],h[l]);break;case"message":const I=i.V.T;for(const k of Object.keys(h[l])){let q=h[l][k];I.fieldWrapper||(q=new I(q)),c[l][k]=q}break}break;case"message":const E=i.T;if(i.repeated)c[l]=h[l].map(I=>xa(I,E)?I:new E(I));else{const I=h[l];E.fieldWrapper?E.typeName==="google.protobuf.BytesValue"?c[l]=zo(I):c[l]=I:c[l]=xa(I,E)?I:new E(I)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(i=>{const l=n[i.localName],c=e[i.localName];if(i.repeated){if(l.length!==c.length)return!1;switch(i.kind){case"message":return l.every((h,g)=>i.T.equals(h,c[g]));case"scalar":return l.every((h,g)=>Yi(i.T,h,c[g]));case"enum":return l.every((h,g)=>Yi(M.INT32,h,c[g]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(l,c);case"enum":return Yi(M.INT32,l,c);case"scalar":return Yi(i.T,l,c);case"oneof":if(l.case!==c.case)return!1;const h=i.findField(l.case);if(h===void 0)return!0;switch(h.kind){case"message":return h.T.equals(l.value,c.value);case"enum":return Yi(M.INT32,l.value,c.value);case"scalar":return Yi(h.T,l.value,c.value)}throw new Error(`oneof cannot contain ${h.kind}`);case"map":const g=Object.keys(l).concat(Object.keys(c));switch(i.V.kind){case"message":const p=i.V.T;return g.every(b=>p.equals(l[b],c[b]));case"enum":return g.every(b=>Yi(M.INT32,l[b],c[b]));case"scalar":const y=i.V.T;return g.every(b=>Yi(y,l[b],c[b]))}break}})},clone(s){const n=s.getType(),e=new n,i=e;for(const l of n.fields.byMember()){const c=s[l.localName];let h;if(l.repeated)h=c.map(bu);else if(l.kind=="map"){h=i[l.localName];for(const[g,p]of Object.entries(c))h[g]=bu(p)}else l.kind=="oneof"?h=l.findField(c.case)?{case:c.case,value:bu(c.value)}:{case:void 0}:h=bu(c);i[l.localName]=h}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,l.no,l.wireType,l.data);return e}}}function bu(s){if(s===void 0)return s;if(xa(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function zo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function nA(s,n,e){return{syntax:s,json:GT(),bin:QT(),util:Object.assign(Object.assign({},eA()),{newFieldList:n,initFields:e}),makeMessageType(i,l,c){return RT(this,i,l,c)},makeEnum:CT,makeEnumType:kv,getEnumType:OT,makeExtension(i,l,c){return qT(this,i,l,c)}}}class rA{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const i of this.list())e[i.jsonName]=e[i.name]=i;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const i of this.list())e[i.no]=i;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const i of this.list())i.oneof?i.oneof!==e&&(e=i.oneof,n.push(e)):n.push(i)}return this.members}}function Pv(s,n){const e=Yv(s);return n?e:uA(lA(e))}function iA(s){return Pv(s,!1)}const aA=Yv;function Yv(s){let n=!1;const e=[];for(let i=0;i<s.length;i++){let l=s.charAt(i);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const sA=new Set(["constructor","toString","toJSON","valueOf"]),oA=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Gv=s=>`${s}$`,lA=s=>oA.has(s)?Gv(s):s,uA=s=>sA.has(s)?Gv(s):s;class cA{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=iA(n)}addField(n){$t(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function fA(s,n){var e,i,l,c,h,g;const p=[];let y;for(const b of typeof s=="function"?s():s){const E=b;if(E.localName=Pv(b.name,b.oneof!==void 0),E.jsonName=(e=b.jsonName)!==null&&e!==void 0?e:aA(b.name),E.repeated=(i=b.repeated)!==null&&i!==void 0?i:!1,b.kind=="scalar"&&(E.L=(l=b.L)!==null&&l!==void 0?l:Wi.BIGINT),E.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,E.req=(h=b.req)!==null&&h!==void 0?h:!1,E.opt=(g=b.opt)!==null&&g!==void 0?g:!1,b.packed===void 0&&(E.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=M.BYTES&&b.T!=M.STRING),b.oneof!==void 0){const I=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!y||y.name!=I)&&(y=new cA(I)),E.oneof=y,y.addField(E)}p.push(E)}return p}const S=nA("proto3",s=>new rA(s,n=>fA(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,i=s;if(n.repeated){i[e]=[];continue}switch(n.kind){case"oneof":i[e]={case:void 0};break;case"enum":i[e]=0;break;case"map":i[e]={};break;case"scalar":i[e]=xs(n.T,n.L);break}}});var Ee;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Ee||(Ee={}));var ev;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(ev||(ev={}));class Te extends P{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,S.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${S.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ht.parse(l/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?i="."+l.substring(0,3)+"Z":l.substring(6)==="000"?i="."+l.substring(0,6)+"Z":i="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Te.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new Te({seconds:Ht.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new Te().fromBinary(n,e)}static fromJson(n,e){return new Te().fromJson(n,e)}static fromJsonString(n,e){return new Te().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Te,n,e)}}Te.runtime=S;Te.typeName="google.protobuf.Timestamp";Te.fields=S.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class fi extends P{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,S.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);const l=Number(i[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);if(this.seconds=Ht.parse(l),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),e+="."+i,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new fi().fromBinary(n,e)}static fromJson(n,e){return new fi().fromJson(n,e)}static fromJsonString(n,e){return new fi().fromJsonString(n,e)}static equals(n,e){return S.util.equals(fi,n,e)}}fi.runtime=S;fi.typeName="google.protobuf.Duration";fi.fields=S.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Ln extends P{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),S.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(i);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let h=l.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||h===null||Array.isArray(h)||typeof h!="object")&&(h={value:h}),h["@type"]=this.typeUrl,h}fromJson(n,e){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),h=(i=e==null?void 0:e.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!h)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=h.fromJson(n.value,e);else{const p=Object.assign({},n);delete p["@type"],g=h.fromJson(p,e)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,e===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),i=e>=0?n.substring(e+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const e=new Ln;return e.packFrom(n),e}static fromBinary(n,e){return new Ln().fromBinary(n,e)}static fromJson(n,e){return new Ln().fromJson(n,e)}static fromJsonString(n,e){return new Ln().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Ln,n,e)}}Ln.runtime=S;Ln.typeName="google.protobuf.Any";Ln.fields=S.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class qn extends P{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.DOUBLE,n)}catch(i){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new qn().fromBinary(n,e)}static fromJson(n,e){return new qn().fromJson(n,e)}static fromJsonString(n,e){return new qn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(qn,n,e)}}qn.runtime=S;qn.typeName="google.protobuf.DoubleValue";qn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);qn.fieldWrapper={wrapField(s){return new qn({value:s})},unwrapField(s){return s.value}};class Jn extends P{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.FLOAT,n)}catch(i){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Jn().fromBinary(n,e)}static fromJson(n,e){return new Jn().fromJson(n,e)}static fromJsonString(n,e){return new Jn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Jn,n,e)}}Jn.runtime=S;Jn.typeName="google.protobuf.FloatValue";Jn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Jn.fieldWrapper={wrapField(s){return new Jn({value:s})},unwrapField(s){return s.value}};class Hn extends P{constructor(n){super(),this.value=Ht.zero,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.INT64,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.INT64,n)}catch(i){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Hn,n,e)}}Hn.runtime=S;Hn.typeName="google.protobuf.Int64Value";Hn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class Vn extends P{constructor(n){super(),this.value=Ht.zero,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.UINT64,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.UINT64,n)}catch(i){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Vn,n,e)}}Vn.runtime=S;Vn.typeName="google.protobuf.UInt64Value";Vn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class jn extends P{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.INT32,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.INT32,n)}catch(i){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(jn,n,e)}}jn.runtime=S;jn.typeName="google.protobuf.Int32Value";jn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};class Pn extends P{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.UINT32,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.UINT32,n)}catch(i){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Pn,n,e)}}Pn.runtime=S;Pn.typeName="google.protobuf.UInt32Value";Pn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Pn.fieldWrapper={wrapField(s){return new Pn({value:s})},unwrapField(s){return s.value}};class Yn extends P{constructor(n){super(),this.value=!1,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.BOOL,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.BOOL,n)}catch(i){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Yn,n,e)}}Yn.runtime=S;Yn.typeName="google.protobuf.BoolValue";Yn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Ye extends P{constructor(n){super(),this.value="",S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.STRING,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.STRING,n)}catch(i){let l='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Ye().fromBinary(n,e)}static fromJson(n,e){return new Ye().fromJson(n,e)}static fromJsonString(n,e){return new Ye().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Ye,n,e)}}Ye.runtime=S;Ye.typeName="google.protobuf.StringValue";Ye.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ye.fieldWrapper={wrapField(s){return new Ye({value:s})},unwrapField(s){return s.value}};class Gn extends P{constructor(n){super(),this.value=new Uint8Array(0),S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.BYTES,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.BYTES,n)}catch(i){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Gn,n,e)}}Gn.runtime=S;Gn.typeName="google.protobuf.BytesValue";Gn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};function hA(s,n,e){try{const i=yd.dec(s);return n?n.fromBinary(i,e):i}catch(i){throw Dt.from(i,St.DataLoss)}}function dA(s,n){const e={};for(const[i,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:i,service:s}));c!=null&&(e[i]=c)}return e}const nv=1;function rv(s){let n,e=new Uint8Array(0);function i(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let p=0;for(let y=1;y<5;y++)p=(p<<8)+e[y];c={flags:e[0],length:p}}if(c!==void 0&&e.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;i(g.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new Dt("premature end of stream",St.DataLoss));return}const h=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:h})}})}function iv(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),e}var gA=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(h){return new Promise(function(g,p){h=s[c](h),l(g,p,h.done,h.value)})}}function l(c,h,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},h)}},Yo=function(s){return this instanceof Yo?(this.v=s,this):new Yo(s)},mA=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(j){return new Promise(function(Y,F){c.push([k,j,Y,F])>1||p(k,j)})},q&&(l[k]=q(l[k])))}function p(k,q){try{y(i[k](q))}catch(j){I(c[0][3],j)}}function y(k){k.value instanceof Yo?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){p("next",k)}function E(k){p("throw",k)}function I(k,q){k(q),c.shift(),c.length&&p(c[0][0],c[0][1])}},yA=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Yo(s[l](h)),done:!1}:c?c(h):h}:c}};function pA(s){return mA(this,arguments,function*(){yield Yo(yield*yA(gA(s)))})}var Kv=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(c){e[c]=s[c]&&function(h){return new Promise(function(g,p){h=s[c](h),l(g,p,h.done,h.value)})}}function l(c,h,g,p){Promise.resolve(p).then(function(y){c({value:y,done:g})},h)}},Ds=function(s){return this instanceof Ds?(this.v=s,this):new Ds(s)},vA=function(s){var n,e;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Ds(s[l](h)),done:!1}:c?c(h):h}:c}},SA=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(j){return new Promise(function(Y,F){c.push([k,j,Y,F])>1||p(k,j)})},q&&(l[k]=q(l[k])))}function p(k,q){try{y(i[k](q))}catch(j){I(c[0][3],j)}}function y(k){k.value instanceof Ds?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){p("next",k)}function E(k){p("throw",k)}function I(k,q){k(q),c.shift(),c.length&&p(c[0][0],c[0][1])}};function bA(s,n){return dA(s,e=>{switch(e.kind){case Ee.Unary:return TA(n,s,e);case Ee.ServerStreaming:return AA(n,s,e);case Ee.ClientStreaming:return wA(n,s,e);case Ee.BiDiStreaming:return EA(n,s,e);default:return null}})}function TA(s,n,e){return async function(i,l){var c,h;const g=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(h=l==null?void 0:l.onTrailer)===null||h===void 0||h.call(l,g.trailer),g.message}}function AA(s,n,e){return function(i,l){return $v(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,pA([i]),l==null?void 0:l.contextValues),l)}}function wA(s,n,e){return async function(i,l){var c,h,g,p,y,b;const E=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);(y=l==null?void 0:l.onHeader)===null||y===void 0||y.call(l,E.header);let I,k=0;try{for(var q=!0,j=Kv(E.message),Y;Y=await j.next(),c=Y.done,!c;q=!0)p=Y.value,q=!1,I=p,k++}catch(F){h={error:F}}finally{try{!q&&!c&&(g=j.return)&&await g.call(j)}finally{if(h)throw h.error}}if(!I)throw new Dt("protocol error: missing response message",St.Unimplemented);if(k>1)throw new Dt("protocol error: received extra messages for client streaming method",St.Unimplemented);return(b=l==null?void 0:l.onTrailer)===null||b===void 0||b.call(l,E.trailer),I}}function EA(s,n,e){return function(i,l){return $v(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues),l)}}function $v(s,n){const e=function(){return SA(this,arguments,function*(){var i,l;const c=yield Ds(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield Ds(yield*vA(Kv(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function NA(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort(Xv(this));for(const l of e)l.removeEventListener("abort",i)}return n}function xA(s){const n=new AbortController,e=()=>{n.abort(new Dt("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?e():i=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function Xv(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function av(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const Mh=128;function sv(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const i of e){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),h=i.substring(l+1).trim();n.append(c,h)}}return n}const DA="Content-Type",OA="Grpc-Timeout",Os="Grpc-Status",Zv="Grpc-Message",CA="Grpc-Status-Details-Bin",RA="X-User-Agent",BA="X-Grpc-Web",kA="application/grpc-web+proto",IA="application/grpc-web+json";class hi extends P{constructor(n){super(),this.code=0,this.message="",this.details=[],S.util.initPartial(n,this)}static fromBinary(n,e){return new hi().fromBinary(n,e)}static fromJson(n,e){return new hi().fromJson(n,e)}static fromJsonString(n,e){return new hi().fromJsonString(n,e)}static equals(n,e){return S.util.equals(hi,n,e)}}hi.runtime=S;hi.typeName="google.rpc.Status";hi.fields=S.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Ln,repeated:!0}]);const MA="0";function Qv(s){var n;const e=s.get(CA);if(e!=null){const l=hA(e,hi);if(l.code==0)return;const c=new Dt(l.message,l.code,s);return c.details=l.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const i=s.get(Os);if(i!=null){if(i===MA)return;const l=parseInt(i,10);return l in St?new Dt(decodeURIComponent((n=s.get(Zv))!==null&&n!==void 0?n:""),l,s):new Dt(`invalid grpc-status: ${i}`,St.Internal,s)}}function ov(s,n,e){const i=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${i}/${l}`)}function _v(s,n){return n instanceof s?n:new s(n)}function zA(s,n){function e(i){return i.done===!0?i:{done:i.done,value:_v(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),l={next:()=>i.next().then(e)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(e)),i.return!==void 0&&(l.return=c=>i.return(c).then(e)),l}}}function Fv(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((i,l)=>l(i),s))!==null&&e!==void 0?e:s}function UA(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function lv(s,n,e,i){const l=n?uv(s.I,i):cv(s.I,e);return{parse:(n?uv(s.O,i):cv(s.O,e)).parse,serialize:l.serialize}}function uv(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Dt(`parse binary: ${l}`,St.Internal)}},serialize(e){try{return e.toBinary(n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Dt(`serialize binary: ${l}`,St.Internal)}}}}function cv(s,n){var e,i;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,h=UA(n);return{parse(g){try{const p=c.decode(g);return s.fromJsonString(p,h)}catch(p){throw Dt.from(p,St.InvalidArgument)}},serialize(g){try{const p=g.toJsonString(h);return l.encode(p)}catch(p){throw Dt.from(p,St.Internal)}}}}function LA(s){const n=Fv(s.next,s.interceptors),[e,i,l]=Wv(s),c=Object.assign(Object.assign({},s.req),{message:_v(s.req.method.I,s.req.message),signal:e});return n(c).then(h=>(l(),h),i)}function qA(s){const n=Fv(s.next,s.interceptors),[e,i,l]=Wv(s),c=Object.assign(Object.assign({},s.req),{message:zA(s.req.method.I,s.req.message),signal:e});let h=!1;return e.addEventListener("abort",function(){var g,p;const y=s.req.message[Symbol.asyncIterator]();h||(g=y.throw)===null||g===void 0||g.call(y,this.reason).catch(()=>{}),(p=y.return)===null||p===void 0||p.call(y).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const p=g.message[Symbol.asyncIterator]();return{next(){return p.next().then(y=>(y.done==!0&&(h=!0,l()),y),i)}}}}}),i)}function Wv(s){const{signal:n,cleanup:e}=xA(s.timeoutMs),i=NA(s.signal,n);return[i.signal,function(c){const h=Dt.from(n.aborted?Xv(n):c);return i.abort(h),e(),Promise.reject(h)},function(){e(),i.abort()}]}function JA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function fv(s,n){const e=Qv(s);if(e)throw n.forEach((i,l)=>{e.metadata.append(l,i)}),e;if(!n.has(Os)&&!s.has(Os))throw new Dt("protocol error: missing status",St.Internal)}function hv(s,n,e,i){const l=new Headers(e??{});return l.set(DA,s?kA:IA),l.set(BA,"1"),l.set(RA,"connect-es/1.6.1"),n!==void 0&&l.set(OA,`${n}m`),l}function HA(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function dv(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(Os),headerError:Qv(n)};throw new Dt(decodeURIComponent((e=n.get(Zv))!==null&&e!==void 0?e:`HTTP ${s}`),HA(s),n)}var Ea=function(s){return this instanceof Ea?(this.v=s,this):new Ea(s)},VA=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(k){return function(q){return Promise.resolve(q).then(k,E)}}function g(k,q){i[k]&&(l[k]=function(j){return new Promise(function(Y,F){c.push([k,j,Y,F])>1||p(k,j)})},q&&(l[k]=q(l[k])))}function p(k,q){try{y(i[k](q))}catch(j){I(c[0][3],j)}}function y(k){k.value instanceof Ea?Promise.resolve(k.value.v).then(b,E):I(c[0][2],k)}function b(k){p("next",k)}function E(k){p("throw",k)}function I(k,q){k(q),c.shift(),c.length&&p(c[0][0],c[0][1])}};function jA(s){var n;JA();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,l,c,h,g,p,y){var b;const{serialize:E,parse:I}=lv(l,e,s.jsonOptions,s.binaryOptions);return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,await LA({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!1,service:i,method:l,url:ov(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:hv(e,h,g),contextValues:y??av(),message:p},next:async k=>{var q;const Y=await((q=s.fetch)!==null&&q!==void 0?q:globalThis.fetch)(k.url,Object.assign(Object.assign({},k.init),{headers:k.header,signal:k.signal,body:iv(0,E(k.message))})),{headerError:F}=dv(Y.status,Y.headers);if(!Y.body)throw F!==void 0?F:"missing response body";const ut=rv(Y.body).getReader();let Q,mt;for(;;){const K=await ut.read();if(K.done)break;const{flags:st,data:dt}=K.value;if((st&nv)===nv)throw new Dt("protocol error: received unsupported compressed output",St.Internal);if(st===Mh){if(Q!==void 0)throw"extra trailer";Q=sv(dt);continue}if(mt!==void 0)throw new Dt("extra message",St.Unimplemented);mt=I(dt)}if(Q===void 0)throw F!==void 0?F:new Dt("missing trailer",Y.headers.has(Os)?St.Unimplemented:St.Unknown);if(fv(Q,Y.headers),mt===void 0)throw new Dt("missing message",Q.has(Os)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:l,header:Y.headers,message:mt,trailer:Q}}})},async stream(i,l,c,h,g,p,y){var b;const{serialize:E,parse:I}=lv(l,e,s.jsonOptions,s.binaryOptions);function k(j,Y,F,ut,Q){return VA(this,arguments,function*(){const K=rv(j).getReader();if(Y){if(!(yield Ea(K.read())).done)throw"extra data for trailers-only";return yield Ea(void 0)}let st=!1;for(;;){const dt=yield Ea(K.read());if(dt.done)break;const{flags:Tt,data:Vt}=dt.value;if((Tt&Mh)===Mh){if(st)throw"extra trailer";st=!0;const ce=sv(Vt);fv(ce,ut),ce.forEach((ye,Zt)=>F.set(Zt,ye));continue}if(st)throw"extra message";yield yield Ea(I(Vt))}if("throwIfAborted"in Q&&Q.throwIfAborted(),!st)throw"missing trailer"})}async function q(j){if(l.kind!=Ee.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Y=await j[Symbol.asyncIterator]().next();if(Y.done==!0)throw"missing request message";return iv(0,E(Y.value))}return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,qA({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!0,service:i,method:l,url:ov(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:hv(e,h,g),contextValues:y??av(),message:p},next:async j=>{var Y;const ut=await((Y=s.fetch)!==null&&Y!==void 0?Y:globalThis.fetch)(j.url,Object.assign(Object.assign({},j.init),{headers:j.header,signal:j.signal,body:await q(j.message)})),{foundStatus:Q,headerError:mt}=dv(ut.status,ut.headers);if(mt!=null)throw mt;if(!ut.body)throw"missing response body";const K=new Headers;return Object.assign(Object.assign({},j),{header:ut.headers,trailer:K,message:k(ut.body,Q,K,ut.headers,j.signal)})}})}}}var ft=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ft||{});S.util.setEnumType(ft,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Da=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Da||{});S.util.setEnumType(Da,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const cr=class cr extends P{constructor(e){super();d(this,"root");d(this,"presences",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new cr().fromBinary(e,i)}static fromJson(e,i){return new cr().fromJson(e,i)}static fromJsonString(e,i){return new cr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(cr,e,i)}};d(cr,"runtime",S),d(cr,"typeName","yorkie.v1.Snapshot"),d(cr,"fields",S.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Ie},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:vd}}]));let Vh=cr;var an;let vi=(an=class extends P{constructor(e){super();d(this,"documentKey","");d(this,"checkpoint");d(this,"snapshot",new Uint8Array(0));d(this,"changes",[]);d(this,"minSyncedTicket");d(this,"isRemoved",!1);d(this,"versionVector");S.util.initPartial(e,this)}static fromBinary(e,i){return new an().fromBinary(e,i)}static fromJson(e,i){return new an().fromJson(e,i)}static fromJsonString(e,i){return new an().fromJsonString(e,i)}static equals(e,i){return S.util.equals(an,e,i)}},d(an,"runtime",S),d(an,"typeName","yorkie.v1.ChangePack"),d(an,"fields",S.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:n0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:t0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:_},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:ic}])),an);var sn;let t0=(sn=class extends P{constructor(e){super();d(this,"id");d(this,"message","");d(this,"operations",[]);d(this,"presenceChange");S.util.initPartial(e,this)}static fromBinary(e,i){return new sn().fromBinary(e,i)}static fromJson(e,i){return new sn().fromJson(e,i)}static fromJsonString(e,i){return new sn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(sn,e,i)}},d(sn,"runtime",S),d(sn,"typeName","yorkie.v1.Change"),d(sn,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:rc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:pd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:$o}])),sn);var on;let rc=(on=class extends P{constructor(e){super();d(this,"clientSeq",0);d(this,"serverSeq",Ht.zero);d(this,"lamport",Ht.zero);d(this,"actorId",new Uint8Array(0));d(this,"versionVector");S.util.initPartial(e,this)}static fromBinary(e,i){return new on().fromBinary(e,i)}static fromJson(e,i){return new on().fromJson(e,i)}static fromJsonString(e,i){return new on().fromJsonString(e,i)}static equals(e,i){return S.util.equals(on,e,i)}},d(on,"runtime",S),d(on,"typeName","yorkie.v1.ChangeID"),d(on,"fields",S.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:ic}])),on);var ln;let ic=(ln=class extends P{constructor(e){super();d(this,"vector",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new ln().fromBinary(e,i)}static fromJson(e,i){return new ln().fromJson(e,i)}static fromJsonString(e,i){return new ln().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ln,e,i)}},d(ln,"runtime",S),d(ln,"typeName","yorkie.v1.VersionVector"),d(ln,"fields",S.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),ln);var un;let pd=(un=class extends P{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,i){return new un().fromBinary(e,i)}static fromJson(e,i){return new un().fromJson(e,i)}static fromJsonString(e,i){return new un().fromJsonString(e,i)}static equals(e,i){return S.util.equals(un,e,i)}},d(un,"runtime",S),d(un,"typeName","yorkie.v1.Operation"),d(un,"fields",S.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Mu,oneof:"body"},{no:2,name:"add",kind:"message",T:zu,oneof:"body"},{no:3,name:"move",kind:"message",T:Uu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Lu,oneof:"body"},{no:5,name:"edit",kind:"message",T:qu,oneof:"body"},{no:6,name:"select",kind:"message",T:jh,oneof:"body"},{no:7,name:"style",kind:"message",T:Ju,oneof:"body"},{no:8,name:"increase",kind:"message",T:Hu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Vu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:ju,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Ph,oneof:"body"}])),un);const fr=class fr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"key","");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new fr().fromBinary(e,i)}static fromJson(e,i){return new fr().fromJson(e,i)}static fromJsonString(e,i){return new fr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(fr,e,i)}};d(fr,"runtime",S),d(fr,"typeName","yorkie.v1.Operation.Set"),d(fr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:rn},{no:4,name:"executed_at",kind:"message",T:_}]));let Mu=fr;const hr=class hr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new hr().fromBinary(e,i)}static fromJson(e,i){return new hr().fromJson(e,i)}static fromJsonString(e,i){return new hr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(hr,e,i)}};d(hr,"runtime",S),d(hr,"typeName","yorkie.v1.Operation.Add"),d(hr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"prev_created_at",kind:"message",T:_},{no:3,name:"value",kind:"message",T:rn},{no:4,name:"executed_at",kind:"message",T:_}]));let zu=hr;const dr=class dr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"createdAt");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new dr().fromBinary(e,i)}static fromJson(e,i){return new dr().fromJson(e,i)}static fromJsonString(e,i){return new dr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(dr,e,i)}};d(dr,"runtime",S),d(dr,"typeName","yorkie.v1.Operation.Move"),d(dr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"prev_created_at",kind:"message",T:_},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"executed_at",kind:"message",T:_}]));let Uu=dr;const gr=class gr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new gr().fromBinary(e,i)}static fromJson(e,i){return new gr().fromJson(e,i)}static fromJsonString(e,i){return new gr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(gr,e,i)}};d(gr,"runtime",S),d(gr,"typeName","yorkie.v1.Operation.Remove"),d(gr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"executed_at",kind:"message",T:_}]));let Lu=gr;const mr=class mr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"content","");d(this,"executedAt");d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new mr().fromBinary(e,i)}static fromJson(e,i){return new mr().fromJson(e,i)}static fromJsonString(e,i){return new mr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(mr,e,i)}};d(mr,"runtime",S),d(mr,"typeName","yorkie.v1.Operation.Edit"),d(mr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yi},{no:3,name:"to",kind:"message",T:yi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:_},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let qu=mr;const yr=class yr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new yr().fromBinary(e,i)}static fromJson(e,i){return new yr().fromJson(e,i)}static fromJsonString(e,i){return new yr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(yr,e,i)}};d(yr,"runtime",S),d(yr,"typeName","yorkie.v1.Operation.Select"),d(yr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yi},{no:3,name:"to",kind:"message",T:yi},{no:4,name:"executed_at",kind:"message",T:_}]));let jh=yr;const pr=class pr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"createdAtMapByActor",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new pr().fromBinary(e,i)}static fromJson(e,i){return new pr().fromJson(e,i)}static fromJsonString(e,i){return new pr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(pr,e,i)}};d(pr,"runtime",S),d(pr,"typeName","yorkie.v1.Operation.Style"),d(pr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yi},{no:3,name:"to",kind:"message",T:yi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:_},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}}]));let Ju=pr;const vr=class vr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new vr().fromBinary(e,i)}static fromJson(e,i){return new vr().fromJson(e,i)}static fromJsonString(e,i){return new vr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(vr,e,i)}};d(vr,"runtime",S),d(vr,"typeName","yorkie.v1.Operation.Increase"),d(vr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"value",kind:"message",T:rn},{no:3,name:"executed_at",kind:"message",T:_}]));let Hu=vr;const Sr=class Sr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"contents",[]);d(this,"splitLevel",0);d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Sr().fromBinary(e,i)}static fromJson(e,i){return new Sr().fromJson(e,i)}static fromJsonString(e,i){return new Sr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Sr,e,i)}};d(Sr,"runtime",S),d(Sr,"typeName","yorkie.v1.Operation.TreeEdit"),d(Sr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:Oa},{no:3,name:"to",kind:"message",T:Oa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}},{no:5,name:"contents",kind:"message",T:_u,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:_}]));let Vu=Sr;const br=class br extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"attributesToRemove",[]);d(this,"createdAtMapByActor",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new br().fromBinary(e,i)}static fromJson(e,i){return new br().fromJson(e,i)}static fromJsonString(e,i){return new br().fromJsonString(e,i)}static equals(e,i){return S.util.equals(br,e,i)}};d(br,"runtime",S),d(br,"typeName","yorkie.v1.Operation.TreeStyle"),d(br,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:Oa},{no:3,name:"to",kind:"message",T:Oa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:_},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}}]));let ju=br;const Tr=class Tr extends P{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Tr().fromBinary(e,i)}static fromJson(e,i){return new Tr().fromJson(e,i)}static fromJsonString(e,i){return new Tr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Tr,e,i)}};d(Tr,"runtime",S),d(Tr,"typeName","yorkie.v1.Operation.ArraySet"),d(Tr,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"value",kind:"message",T:rn},{no:4,name:"executed_at",kind:"message",T:_}]));let Ph=Tr;const Ar=class Ar extends P{constructor(e){super();d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");d(this,"type",0);d(this,"value",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,i){return new Ar().fromBinary(e,i)}static fromJson(e,i){return new Ar().fromJson(e,i)}static fromJsonString(e,i){return new Ar().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Ar,e,i)}};d(Ar,"runtime",S),d(Ar,"typeName","yorkie.v1.JSONElementSimple"),d(Ar,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"moved_at",kind:"message",T:_},{no:3,name:"removed_at",kind:"message",T:_},{no:4,name:"type",kind:"enum",T:S.getEnumType(ft)},{no:5,name:"value",kind:"scalar",T:12}]));let rn=Ar;const wr=class wr extends P{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,i){return new wr().fromBinary(e,i)}static fromJson(e,i){return new wr().fromJson(e,i)}static fromJsonString(e,i){return new wr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(wr,e,i)}};d(wr,"runtime",S),d(wr,"typeName","yorkie.v1.JSONElement"),d(wr,"fields",S.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Pu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Yu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Gu,oneof:"body"},{no:5,name:"text",kind:"message",T:Ku,oneof:"body"},{no:6,name:"counter",kind:"message",T:$u,oneof:"body"},{no:7,name:"tree",kind:"message",T:Xu,oneof:"body"}]));let Ie=wr;const Er=class Er extends P{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Er().fromBinary(e,i)}static fromJson(e,i){return new Er().fromJson(e,i)}static fromJsonString(e,i){return new Er().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Er,e,i)}};d(Er,"runtime",S),d(Er,"typeName","yorkie.v1.JSONElement.JSONObject"),d(Er,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:e0,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Pu=Er;const Nr=class Nr extends P{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Nr().fromBinary(e,i)}static fromJson(e,i){return new Nr().fromJson(e,i)}static fromJsonString(e,i){return new Nr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Nr,e,i)}};d(Nr,"runtime",S),d(Nr,"typeName","yorkie.v1.JSONElement.JSONArray"),d(Nr,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Zu,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Yu=Nr;const xr=class xr extends P{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new xr().fromBinary(e,i)}static fromJson(e,i){return new xr().fromJson(e,i)}static fromJsonString(e,i){return new xr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(xr,e,i)}};d(xr,"runtime",S),d(xr,"typeName","yorkie.v1.JSONElement.Primitive"),d(xr,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"moved_at",kind:"message",T:_},{no:5,name:"removed_at",kind:"message",T:_}]));let Gu=xr;const Dr=class Dr extends P{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Dr().fromBinary(e,i)}static fromJson(e,i){return new Dr().fromJson(e,i)}static fromJsonString(e,i){return new Dr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Dr,e,i)}};d(Dr,"runtime",S),d(Dr,"typeName","yorkie.v1.JSONElement.Text"),d(Dr,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Qu,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Ku=Dr;const Or=class Or extends P{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Or().fromBinary(e,i)}static fromJson(e,i){return new Or().fromJson(e,i)}static fromJsonString(e,i){return new Or().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Or,e,i)}};d(Or,"runtime",S),d(Or,"typeName","yorkie.v1.JSONElement.Counter"),d(Or,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"moved_at",kind:"message",T:_},{no:5,name:"removed_at",kind:"message",T:_}]));let $u=Or;const Cr=class Cr extends P{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Cr().fromBinary(e,i)}static fromJson(e,i){return new Cr().fromJson(e,i)}static fromJsonString(e,i){return new Cr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Cr,e,i)}};d(Cr,"runtime",S),d(Cr,"typeName","yorkie.v1.JSONElement.Tree"),d(Cr,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Ko,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Xu=Cr;var cn;let e0=(cn=class extends P{constructor(e){super();d(this,"key","");d(this,"element");S.util.initPartial(e,this)}static fromBinary(e,i){return new cn().fromBinary(e,i)}static fromJson(e,i){return new cn().fromJson(e,i)}static fromJsonString(e,i){return new cn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(cn,e,i)}},d(cn,"runtime",S),d(cn,"typeName","yorkie.v1.RHTNode"),d(cn,"fields",S.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Ie}])),cn);const zn=class zn extends P{constructor(e){super();d(this,"next");d(this,"element");S.util.initPartial(e,this)}static fromBinary(e,i){return new zn().fromBinary(e,i)}static fromJson(e,i){return new zn().fromJson(e,i)}static fromJsonString(e,i){return new zn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(zn,e,i)}};d(zn,"runtime",S),d(zn,"typeName","yorkie.v1.RGANode"),d(zn,"fields",S.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:zn},{no:2,name:"element",kind:"message",T:Ie}]));let Zu=zn;const Rr=class Rr extends P{constructor(e){super();d(this,"value","");d(this,"updatedAt");d(this,"isRemoved",!1);S.util.initPartial(e,this)}static fromBinary(e,i){return new Rr().fromBinary(e,i)}static fromJson(e,i){return new Rr().fromJson(e,i)}static fromJsonString(e,i){return new Rr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Rr,e,i)}};d(Rr,"runtime",S),d(Rr,"typeName","yorkie.v1.NodeAttr"),d(Rr,"fields",S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:_},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Cs=Rr;const Br=class Br extends P{constructor(e){super();d(this,"id");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new Br().fromBinary(e,i)}static fromJson(e,i){return new Br().fromJson(e,i)}static fromJsonString(e,i){return new Br().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Br,e,i)}};d(Br,"runtime",S),d(Br,"typeName","yorkie.v1.TextNode"),d(Br,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Go},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:_},{no:4,name:"ins_prev_id",kind:"message",T:Go},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Cs}}]));let Qu=Br;const kr=class kr extends P{constructor(e){super();d(this,"createdAt");d(this,"offset",0);S.util.initPartial(e,this)}static fromBinary(e,i){return new kr().fromBinary(e,i)}static fromJson(e,i){return new kr().fromJson(e,i)}static fromJsonString(e,i){return new kr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(kr,e,i)}};d(kr,"runtime",S),d(kr,"typeName","yorkie.v1.TextNodeID"),d(kr,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5}]));let Go=kr;const Ir=class Ir extends P{constructor(e){super();d(this,"id");d(this,"type","");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"insNextId");d(this,"depth",0);d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new Ir().fromBinary(e,i)}static fromJson(e,i){return new Ir().fromJson(e,i)}static fromJsonString(e,i){return new Ir().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Ir,e,i)}};d(Ir,"runtime",S),d(Ir,"typeName","yorkie.v1.TreeNode"),d(Ir,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Zi},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:_},{no:5,name:"ins_prev_id",kind:"message",T:Zi},{no:6,name:"ins_next_id",kind:"message",T:Zi},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Cs}}]));let Ko=Ir;const Mr=class Mr extends P{constructor(e){super();d(this,"content",[]);S.util.initPartial(e,this)}static fromBinary(e,i){return new Mr().fromBinary(e,i)}static fromJson(e,i){return new Mr().fromJson(e,i)}static fromJsonString(e,i){return new Mr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Mr,e,i)}};d(Mr,"runtime",S),d(Mr,"typeName","yorkie.v1.TreeNodes"),d(Mr,"fields",S.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:Ko,repeated:!0}]));let _u=Mr;const zr=class zr extends P{constructor(e){super();d(this,"createdAt");d(this,"offset",0);S.util.initPartial(e,this)}static fromBinary(e,i){return new zr().fromBinary(e,i)}static fromJson(e,i){return new zr().fromJson(e,i)}static fromJsonString(e,i){return new zr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(zr,e,i)}};d(zr,"runtime",S),d(zr,"typeName","yorkie.v1.TreeNodeID"),d(zr,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5}]));let Zi=zr;const Ur=class Ur extends P{constructor(e){super();d(this,"parentId");d(this,"leftSiblingId");S.util.initPartial(e,this)}static fromBinary(e,i){return new Ur().fromBinary(e,i)}static fromJson(e,i){return new Ur().fromJson(e,i)}static fromJsonString(e,i){return new Ur().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Ur,e,i)}};d(Ur,"runtime",S),d(Ur,"typeName","yorkie.v1.TreePos"),d(Ur,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Zi},{no:2,name:"left_sibling_id",kind:"message",T:Zi}]));let Oa=Ur;const Lr=class Lr extends P{constructor(e){super();d(this,"id","");d(this,"username","");d(this,"createdAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Lr().fromBinary(e,i)}static fromJson(e,i){return new Lr().fromJson(e,i)}static fromJsonString(e,i){return new Lr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Lr,e,i)}};d(Lr,"runtime",S),d(Lr,"typeName","yorkie.v1.User"),d(Lr,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:Te}]));let gv=Lr;const qr=class qr extends P{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"publicKey","");d(this,"secretKey","");d(this,"authWebhookUrl","");d(this,"authWebhookMethods",[]);d(this,"clientDeactivateThreshold","");d(this,"createdAt");d(this,"updatedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new qr().fromBinary(e,i)}static fromJson(e,i){return new qr().fromJson(e,i)}static fromJsonString(e,i){return new qr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(qr,e,i)}};d(qr,"runtime",S),d(qr,"typeName","yorkie.v1.Project"),d(qr,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:Te},{no:9,name:"updated_at",kind:"message",T:Te}]));let mv=qr;const Jr=class Jr extends P{constructor(e){super();d(this,"name");d(this,"authWebhookUrl");d(this,"authWebhookMethods");d(this,"clientDeactivateThreshold");S.util.initPartial(e,this)}static fromBinary(e,i){return new Jr().fromBinary(e,i)}static fromJson(e,i){return new Jr().fromJson(e,i)}static fromJsonString(e,i){return new Jr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Jr,e,i)}};d(Jr,"runtime",S),d(Jr,"typeName","yorkie.v1.UpdatableProjectFields"),d(Jr,"fields",S.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Ye},{no:2,name:"auth_webhook_url",kind:"message",T:Ye},{no:3,name:"auth_webhook_methods",kind:"message",T:Yh},{no:4,name:"client_deactivate_threshold",kind:"message",T:Ye}]));let yv=Jr;const Hr=class Hr extends P{constructor(e){super();d(this,"methods",[]);S.util.initPartial(e,this)}static fromBinary(e,i){return new Hr().fromBinary(e,i)}static fromJson(e,i){return new Hr().fromJson(e,i)}static fromJsonString(e,i){return new Hr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Hr,e,i)}};d(Hr,"runtime",S),d(Hr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),d(Hr,"fields",S.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Yh=Hr;const Vr=class Vr extends P{constructor(e){super();d(this,"id","");d(this,"key","");d(this,"snapshot","");d(this,"createdAt");d(this,"accessedAt");d(this,"updatedAt");S.util.initPartial(e,this)}static fromBinary(e,i){return new Vr().fromBinary(e,i)}static fromJson(e,i){return new Vr().fromJson(e,i)}static fromJsonString(e,i){return new Vr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Vr,e,i)}};d(Vr,"runtime",S),d(Vr,"typeName","yorkie.v1.DocumentSummary"),d(Vr,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Te},{no:5,name:"accessed_at",kind:"message",T:Te},{no:6,name:"updated_at",kind:"message",T:Te}]));let pv=Vr;const jr=class jr extends P{constructor(e){super();d(this,"type",0);d(this,"presence");S.util.initPartial(e,this)}static fromBinary(e,i){return new jr().fromBinary(e,i)}static fromJson(e,i){return new jr().fromJson(e,i)}static fromJsonString(e,i){return new jr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(jr,e,i)}};d(jr,"runtime",S),d(jr,"typeName","yorkie.v1.PresenceChange"),d(jr,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(Ca)},{no:2,name:"presence",kind:"message",T:vd}]));let $o=jr;var Ca=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Ca||{});S.util.setEnumType(Ca,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var fn;let vd=(fn=class extends P{constructor(e){super();d(this,"data",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new fn().fromBinary(e,i)}static fromJson(e,i){return new fn().fromJson(e,i)}static fromJsonString(e,i){return new fn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(fn,e,i)}},d(fn,"runtime",S),d(fn,"typeName","yorkie.v1.Presence"),d(fn,"fields",S.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),fn);var hn;let n0=(hn=class extends P{constructor(e){super();d(this,"serverSeq",Ht.zero);d(this,"clientSeq",0);S.util.initPartial(e,this)}static fromBinary(e,i){return new hn().fromBinary(e,i)}static fromJson(e,i){return new hn().fromJson(e,i)}static fromJsonString(e,i){return new hn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(hn,e,i)}},d(hn,"runtime",S),d(hn,"typeName","yorkie.v1.Checkpoint"),d(hn,"fields",S.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),hn);const Pr=class Pr extends P{constructor(e){super();d(this,"createdAt");d(this,"offset",0);d(this,"relativeOffset",0);S.util.initPartial(e,this)}static fromBinary(e,i){return new Pr().fromBinary(e,i)}static fromJson(e,i){return new Pr().fromJson(e,i)}static fromJsonString(e,i){return new Pr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Pr,e,i)}};d(Pr,"runtime",S),d(Pr,"typeName","yorkie.v1.TextNodePos"),d(Pr,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let yi=Pr;var dn;let _=(dn=class extends P{constructor(e){super();d(this,"lamport",Ht.zero);d(this,"delimiter",0);d(this,"actorId",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,i){return new dn().fromBinary(e,i)}static fromJson(e,i){return new dn().fromJson(e,i)}static fromJsonString(e,i){return new dn().fromJsonString(e,i)}static equals(e,i){return S.util.equals(dn,e,i)}},d(dn,"runtime",S),d(dn,"typeName","yorkie.v1.TimeTicket"),d(dn,"fields",S.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),dn);const Yr=class Yr extends P{constructor(e){super();d(this,"topic","");d(this,"payload",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,i){return new Yr().fromBinary(e,i)}static fromJson(e,i){return new Yr().fromJson(e,i)}static fromJsonString(e,i){return new Yr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Yr,e,i)}};d(Yr,"runtime",S),d(Yr,"typeName","yorkie.v1.DocEventBody"),d(Yr,"fields",S.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Gh=Yr;const Gr=class Gr extends P{constructor(e){super();d(this,"type",0);d(this,"publisher","");d(this,"body");S.util.initPartial(e,this)}static fromBinary(e,i){return new Gr().fromBinary(e,i)}static fromJson(e,i){return new Gr().fromJson(e,i)}static fromJsonString(e,i){return new Gr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Gr,e,i)}};d(Gr,"runtime",S),d(Gr,"typeName","yorkie.v1.DocEvent"),d(Gr,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(Da)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Gh}]));let Kh=Gr;const Kr=class Kr extends P{constructor(e){super();d(this,"clientKey","");d(this,"metadata",{});S.util.initPartial(e,this)}static fromBinary(e,i){return new Kr().fromBinary(e,i)}static fromJson(e,i){return new Kr().fromJson(e,i)}static fromJsonString(e,i){return new Kr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Kr,e,i)}};d(Kr,"runtime",S),d(Kr,"typeName","yorkie.v1.ActivateClientRequest"),d(Kr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let $h=Kr;const $r=class $r extends P{constructor(e){super();d(this,"clientId","");S.util.initPartial(e,this)}static fromBinary(e,i){return new $r().fromBinary(e,i)}static fromJson(e,i){return new $r().fromJson(e,i)}static fromJsonString(e,i){return new $r().fromJsonString(e,i)}static equals(e,i){return S.util.equals($r,e,i)}};d($r,"runtime",S),d($r,"typeName","yorkie.v1.ActivateClientResponse"),d($r,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Xh=$r;const Xr=class Xr extends P{constructor(e){super();d(this,"clientId","");S.util.initPartial(e,this)}static fromBinary(e,i){return new Xr().fromBinary(e,i)}static fromJson(e,i){return new Xr().fromJson(e,i)}static fromJsonString(e,i){return new Xr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Xr,e,i)}};d(Xr,"runtime",S),d(Xr,"typeName","yorkie.v1.DeactivateClientRequest"),d(Xr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Zh=Xr;const Zr=class Zr extends P{constructor(n){super(),S.util.initPartial(n,this)}static fromBinary(n,e){return new Zr().fromBinary(n,e)}static fromJson(n,e){return new Zr().fromJson(n,e)}static fromJsonString(n,e){return new Zr().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Zr,n,e)}};d(Zr,"runtime",S),d(Zr,"typeName","yorkie.v1.DeactivateClientResponse"),d(Zr,"fields",S.util.newFieldList(()=>[]));let Qh=Zr;const Qr=class Qr extends P{constructor(e){super();d(this,"clientId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new Qr().fromBinary(e,i)}static fromJson(e,i){return new Qr().fromJson(e,i)}static fromJsonString(e,i){return new Qr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Qr,e,i)}};d(Qr,"runtime",S),d(Qr,"typeName","yorkie.v1.AttachDocumentRequest"),d(Qr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:vi}]));let _h=Qr;const _r=class _r extends P{constructor(e){super();d(this,"documentId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new _r().fromBinary(e,i)}static fromJson(e,i){return new _r().fromJson(e,i)}static fromJsonString(e,i){return new _r().fromJsonString(e,i)}static equals(e,i){return S.util.equals(_r,e,i)}};d(_r,"runtime",S),d(_r,"typeName","yorkie.v1.AttachDocumentResponse"),d(_r,"fields",S.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:vi}]));let Fh=_r;const Fr=class Fr extends P{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"removeIfNotAttached",!1);S.util.initPartial(e,this)}static fromBinary(e,i){return new Fr().fromBinary(e,i)}static fromJson(e,i){return new Fr().fromJson(e,i)}static fromJsonString(e,i){return new Fr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Fr,e,i)}};d(Fr,"runtime",S),d(Fr,"typeName","yorkie.v1.DetachDocumentRequest"),d(Fr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Wh=Fr;const Wr=class Wr extends P{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new Wr().fromBinary(e,i)}static fromJson(e,i){return new Wr().fromJson(e,i)}static fromJsonString(e,i){return new Wr().fromJsonString(e,i)}static equals(e,i){return S.util.equals(Wr,e,i)}};d(Wr,"runtime",S),d(Wr,"typeName","yorkie.v1.DetachDocumentResponse"),d(Wr,"fields",S.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:vi}]));let td=Wr;const ti=class ti extends P{constructor(e){super();d(this,"clientId","");d(this,"documentId","");S.util.initPartial(e,this)}static fromBinary(e,i){return new ti().fromBinary(e,i)}static fromJson(e,i){return new ti().fromJson(e,i)}static fromJsonString(e,i){return new ti().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ti,e,i)}};d(ti,"runtime",S),d(ti,"typeName","yorkie.v1.WatchDocumentRequest"),d(ti,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let ed=ti;const ei=class ei extends P{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,i){return new ei().fromBinary(e,i)}static fromJson(e,i){return new ei().fromJson(e,i)}static fromJsonString(e,i){return new ei().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ei,e,i)}};d(ei,"runtime",S),d(ei,"typeName","yorkie.v1.WatchDocumentResponse"),d(ei,"fields",S.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:rd,oneof:"body"},{no:2,name:"event",kind:"message",T:Kh,oneof:"body"}]));let nd=ei;const ni=class ni extends P{constructor(e){super();d(this,"clientIds",[]);S.util.initPartial(e,this)}static fromBinary(e,i){return new ni().fromBinary(e,i)}static fromJson(e,i){return new ni().fromJson(e,i)}static fromJsonString(e,i){return new ni().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ni,e,i)}};d(ni,"runtime",S),d(ni,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),d(ni,"fields",S.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let rd=ni;const ri=class ri extends P{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new ri().fromBinary(e,i)}static fromJson(e,i){return new ri().fromJson(e,i)}static fromJsonString(e,i){return new ri().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ri,e,i)}};d(ri,"runtime",S),d(ri,"typeName","yorkie.v1.RemoveDocumentRequest"),d(ri,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vi}]));let id=ri;const ii=class ii extends P{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new ii().fromBinary(e,i)}static fromJson(e,i){return new ii().fromJson(e,i)}static fromJsonString(e,i){return new ii().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ii,e,i)}};d(ii,"runtime",S),d(ii,"typeName","yorkie.v1.RemoveDocumentResponse"),d(ii,"fields",S.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:vi}]));let ad=ii;const ai=class ai extends P{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"pushOnly",!1);S.util.initPartial(e,this)}static fromBinary(e,i){return new ai().fromBinary(e,i)}static fromJson(e,i){return new ai().fromJson(e,i)}static fromJsonString(e,i){return new ai().fromJsonString(e,i)}static equals(e,i){return S.util.equals(ai,e,i)}};d(ai,"runtime",S),d(ai,"typeName","yorkie.v1.PushPullChangesRequest"),d(ai,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vi},{no:4,name:"push_only",kind:"scalar",T:8}]));let sd=ai;const si=class si extends P{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,i){return new si().fromBinary(e,i)}static fromJson(e,i){return new si().fromJson(e,i)}static fromJsonString(e,i){return new si().fromJsonString(e,i)}static equals(e,i){return S.util.equals(si,e,i)}};d(si,"runtime",S),d(si,"typeName","yorkie.v1.PushPullChangesResponse"),d(si,"fields",S.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:vi}]));let od=si;const oi=class oi extends P{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"topic","");d(this,"payload",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,i){return new oi().fromBinary(e,i)}static fromJson(e,i){return new oi().fromJson(e,i)}static fromJsonString(e,i){return new oi().fromJsonString(e,i)}static equals(e,i){return S.util.equals(oi,e,i)}};d(oi,"runtime",S),d(oi,"typeName","yorkie.v1.BroadcastRequest"),d(oi,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let ld=oi;const li=class li extends P{constructor(n){super(),S.util.initPartial(n,this)}static fromBinary(n,e){return new li().fromBinary(n,e)}static fromJson(n,e){return new li().fromJson(n,e)}static fromJsonString(n,e){return new li().fromJsonString(n,e)}static equals(n,e){return S.util.equals(li,n,e)}};d(li,"runtime",S),d(li,"typeName","yorkie.v1.BroadcastResponse"),d(li,"fields",S.util.newFieldList(()=>[]));let ud=li;const PA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:$h,O:Xh,kind:Ee.Unary},deactivateClient:{name:"DeactivateClient",I:Zh,O:Qh,kind:Ee.Unary},attachDocument:{name:"AttachDocument",I:_h,O:Fh,kind:Ee.Unary},detachDocument:{name:"DetachDocument",I:Wh,O:td,kind:Ee.Unary},removeDocument:{name:"RemoveDocument",I:id,O:ad,kind:Ee.Unary},pushPullChanges:{name:"PushPullChanges",I:sd,O:od,kind:Ee.Unary},watchDocument:{name:"WatchDocument",I:ed,O:nd,kind:Ee.ServerStreaming},broadcast:{name:"Broadcast",I:ld,O:ud,kind:Ee.Unary}}},YA=S.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);S.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:fi}]);S.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:GA,repeated:!0}]);const GA=S.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});S.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:KA,repeated:!0}]);const KA=S.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});S.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:$A,repeated:!0}]);const $A=S.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:ZA}],{localName:"BadRequest_FieldViolation"});S.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:XA,repeated:!0}]);const XA=S.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),ZA=S.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var D=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(D||{});class C extends Error{constructor(e,i){super(i);d(this,"name","YorkieError");d(this,"stack");this.code=e,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function wn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const r0=s=>s?Object.entries(s).length===0:!0,Rs=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.stringify(i);return n},ws=s=>{const n={};for(const[e,i]of Object.entries(s))n[e]=JSON.parse(i);return n};var ta=(s=>(s.Put="put",s.Clear="clear",s))(ta||{});class zh{constructor(n,e){d(this,"context");d(this,"presence");this.context=n,this.presence=e}set(n,e){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:"put",presence:wn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ac="000000000000000000000000",Qi=24;class yn{constructor(n,e,i){d(this,"lamport");d(this,"delimiter");d(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=i}static of(n,e,i){return new yn(n,e,i)}static fromStruct(n){return yn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new yn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const i0=0,Vo=9223372036854775807n,xn=new yn(0n,i0,ac);function Kn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class tl{constructor(n){d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Qi),this.getMovedAt()&&(n+=Qi),this.getRemovedAt()&&(n+=Qi),n}}class _i extends tl{constructor(n){super(n)}}class Sd{constructor(n,e){d(this,"strKey");d(this,"value");this.strKey=n,this.value=e}static of(n,e){return new Sd(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class Xo{constructor(){d(this,"nodeMapByKey");d(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Xo}set(n,e,i){let l;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const h=Sd.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),h),(c==null||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,h),e.setMovedAt(i)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new C(D.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(e),i.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(D.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(e.getStrKey());e===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const i=this.nodeMapByKey.get(n);if(i!=null&&i.remove(e))return i.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class ke extends _i{constructor(e,i){super(e);d(this,"memberNodes");this.memberNodes=i}static create(e,i){if(!i)return new ke(e,Xo.create());const l=Xo.create();for(const[c,h]of Object.entries(i))l.set(c,h.deepcopy(),h.getCreatedAt());return new ke(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,i,l){return this.memberNodes.set(e,i,l)}delete(e,i){return this.memberNodes.delete(e,i)}deleteByKey(e,i){return this.memberNodes.deleteByKey(e,i)}get(e){const i=this.memberNodes.get(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.memberNodes.getByID(e);return i==null?void 0:i.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[i,l]of this)e.push(`"${Kn(i)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[i,l]of this){const{createdAt:c,value:h,type:g}=l.toJSForTest();e[i]={key:i,createdAt:c,value:h,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[i]of this)e.push(i);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const i=[];for(const c of e.sort()){const h=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Kn(c)}":${h.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=ke.create(this.getCreatedAt());for(const i of this.memberNodes)e.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const i of this.memberNodes){const l=i.getValue();if(e(l,this))return;l instanceof _i&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const i of this.memberNodes)e.has(i.getStrKey())||(e.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var Ut=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Ut||{});class On{constructor(n,e){d(this,"parentCreatedAt");d(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new C(D.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class a0{constructor(n){d(this,"value");d(this,"left");d(this,"right");d(this,"parent");d(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Zo{constructor(n){d(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new C(D.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new Zo(n.getLeft());e.root&&e.root.setParent();const i=new Zo(n.getRight());if(i.root&&i.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(i.root),i.root&&i.root.setParent(e.root),this.root=e.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const i of e)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var gn=null;try{gn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ae(s){return(s&&s.__isLong__)===!0}function vv(s){var n=Math.clz32(s&-s);return s?31-n:n}bt.isLong=Ae;var Sv={},bv={};function ka(s,n){var e,i,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(i=bv[s],i)?i:(e=wt(s,0,!0),l&&(bv[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(i=Sv[s],i)?i:(e=wt(s,s<0?-1:0,!1),l&&(Sv[s]=e),e))}bt.fromInt=ka;function mn(s,n){if(isNaN(s))return n?di:En;if(n){if(s<0)return di;if(s>=s0)return u0}else{if(s<=-9223372036854776e3)return Be;if(s+1>=_A)return l0}return s<0?mn(-s,n).neg():wt(s%Bs|0,s/Bs|0,n)}bt.fromNumber=mn;function wt(s,n,e){return new bt(s,n,e)}bt.fromBits=wt;var Fu=Math.pow;function bd(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?di:En;if(e=e||10,e<2||36<e)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return bd(s.substring(1),n,e).neg();for(var l=mn(Fu(e,8)),c=En,h=0;h<s.length;h+=8){var g=Math.min(8,s.length-h),p=parseInt(s.substring(h,h+g),e);if(g<8){var y=mn(Fu(e,g));c=c.mul(y).add(mn(p))}else c=c.mul(l),c=c.add(mn(p))}return c.unsigned=n,c}bt.fromString=bd;function Sn(s,n){return typeof s=="number"?mn(s,n):typeof s=="string"?bd(s,n):wt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}bt.fromValue=Sn;var Tv=65536,QA=1<<24,Bs=Tv*Tv,s0=Bs*Bs,_A=s0/2,Av=ka(QA),En=ka(0);bt.ZERO=En;var di=ka(0,!0);bt.UZERO=di;var Ts=ka(1);bt.ONE=Ts;var o0=ka(1,!0);bt.UONE=o0;var cd=ka(-1);bt.NEG_ONE=cd;var l0=wt(-1,2147483647,!1);bt.MAX_VALUE=l0;var u0=wt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=u0;var Be=wt(0,-2147483648,!1);bt.MIN_VALUE=Be;var V=bt.prototype;V.toInt=function(){return this.unsigned?this.low>>>0:this.low};V.toNumber=function(){return this.unsigned?(this.high>>>0)*Bs+(this.low>>>0):this.high*Bs+(this.low>>>0)};V.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Be)){var e=mn(n),i=this.div(e),l=i.mul(e).sub(this);return i.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=mn(Fu(n,6),this.unsigned),h=this,g="";;){var p=h.div(c),y=h.sub(p.mul(c)).toInt()>>>0,b=y.toString(n);if(h=p,h.isZero())return b+g;for(;b.length<6;)b="0"+b;g=""+b+g}};V.getHighBits=function(){return this.high};V.getHighBitsUnsigned=function(){return this.high>>>0};V.getLowBits=function(){return this.low};V.getLowBitsUnsigned=function(){return this.low>>>0};V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Be)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};V.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};V.isZero=function(){return this.high===0&&this.low===0};V.eqz=V.isZero;V.isNegative=function(){return!this.unsigned&&this.high<0};V.isPositive=function(){return this.unsigned||this.high>=0};V.isOdd=function(){return(this.low&1)===1};V.isEven=function(){return(this.low&1)===0};V.equals=function(n){return Ae(n)||(n=Sn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};V.eq=V.equals;V.notEquals=function(n){return!this.eq(n)};V.neq=V.notEquals;V.ne=V.notEquals;V.lessThan=function(n){return this.comp(n)<0};V.lt=V.lessThan;V.lessThanOrEqual=function(n){return this.comp(n)<=0};V.lte=V.lessThanOrEqual;V.le=V.lessThanOrEqual;V.greaterThan=function(n){return this.comp(n)>0};V.gt=V.greaterThan;V.greaterThanOrEqual=function(n){return this.comp(n)>=0};V.gte=V.greaterThanOrEqual;V.ge=V.greaterThanOrEqual;V.compare=function(n){if(Ae(n)||(n=Sn(n)),this.eq(n))return 0;var e=this.isNegative(),i=n.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};V.comp=V.compare;V.negate=function(){return!this.unsigned&&this.eq(Be)?Be:this.not().add(Ts)};V.neg=V.negate;V.add=function(n){Ae(n)||(n=Sn(n));var e=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,h=n.high>>>16,g=n.high&65535,p=n.low>>>16,y=n.low&65535,b=0,E=0,I=0,k=0;return k+=c+y,I+=k>>>16,k&=65535,I+=l+p,E+=I>>>16,I&=65535,E+=i+g,b+=E>>>16,E&=65535,b+=e+h,b&=65535,wt(I<<16|k,b<<16|E,this.unsigned)};V.subtract=function(n){return Ae(n)||(n=Sn(n)),this.add(n.neg())};V.sub=V.subtract;V.multiply=function(n){if(this.isZero())return this;if(Ae(n)||(n=Sn(n)),gn){var e=gn.mul(this.low,this.high,n.low,n.high);return wt(e,gn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?di:En;if(this.eq(Be))return n.isOdd()?Be:En;if(n.eq(Be))return this.isOdd()?Be:En;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Av)&&n.lt(Av))return mn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,h=this.low&65535,g=n.high>>>16,p=n.high&65535,y=n.low>>>16,b=n.low&65535,E=0,I=0,k=0,q=0;return q+=h*b,k+=q>>>16,q&=65535,k+=c*b,I+=k>>>16,k&=65535,k+=h*y,I+=k>>>16,k&=65535,I+=l*b,E+=I>>>16,I&=65535,I+=c*y,E+=I>>>16,I&=65535,I+=h*p,E+=I>>>16,I&=65535,E+=i*b+l*y+c*p+h*g,E&=65535,wt(k<<16|q,E<<16|I,this.unsigned)};V.mul=V.multiply;V.divide=function(n){if(Ae(n)||(n=Sn(n)),n.isZero())throw Error("division by zero");if(gn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?gn.div_u:gn.div_s)(this.low,this.high,n.low,n.high);return wt(e,gn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?di:En;var i,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return di;if(n.gt(this.shru(1)))return o0;c=di}else{if(this.eq(Be)){if(n.eq(Ts)||n.eq(cd))return Be;if(n.eq(Be))return Ts;var h=this.shr(1);return i=h.div(n).shl(1),i.eq(En)?n.isNegative()?Ts:cd:(l=this.sub(n.mul(i)),c=i.add(l.div(n)),c)}else if(n.eq(Be))return this.unsigned?di:En;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=En}for(l=this;l.gte(n);){i=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(i)/Math.LN2),p=g<=48?1:Fu(2,g-48),y=mn(i),b=y.mul(n);b.isNegative()||b.gt(l);)i-=p,y=mn(i,this.unsigned),b=y.mul(n);y.isZero()&&(y=Ts),c=c.add(y),l=l.sub(b)}return c};V.div=V.divide;V.modulo=function(n){if(Ae(n)||(n=Sn(n)),gn){var e=(this.unsigned?gn.rem_u:gn.rem_s)(this.low,this.high,n.low,n.high);return wt(e,gn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};V.mod=V.modulo;V.rem=V.modulo;V.not=function(){return wt(~this.low,~this.high,this.unsigned)};V.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};V.clz=V.countLeadingZeros;V.countTrailingZeros=function(){return this.low?vv(this.low):vv(this.high)+32};V.ctz=V.countTrailingZeros;V.and=function(n){return Ae(n)||(n=Sn(n)),wt(this.low&n.low,this.high&n.high,this.unsigned)};V.or=function(n){return Ae(n)||(n=Sn(n)),wt(this.low|n.low,this.high|n.high,this.unsigned)};V.xor=function(n){return Ae(n)||(n=Sn(n)),wt(this.low^n.low,this.high^n.high,this.unsigned)};V.shiftLeft=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?wt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):wt(0,this.low<<n-32,this.unsigned)};V.shl=V.shiftLeft;V.shiftRight=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?wt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):wt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};V.shr=V.shiftRight;V.shiftRightUnsigned=function(n){return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?wt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?wt(this.high,0,this.unsigned):wt(this.high>>>n-32,0,this.unsigned)};V.shru=V.shiftRightUnsigned;V.shr_u=V.shiftRightUnsigned;V.rotateLeft=function(n){var e;return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?wt(this.high,this.low,this.unsigned):n<32?(e=32-n,wt(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,wt(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};V.rotl=V.rotateLeft;V.rotateRight=function(n){var e;return Ae(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?wt(this.high,this.low,this.unsigned):n<32?(e=32-n,wt(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,wt(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};V.rotr=V.rotateRight;V.toSigned=function(){return this.unsigned?wt(this.low,this.high,!1):this};V.toUnsigned=function(){return this.unsigned?this:wt(this.low,this.high,!0)};V.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};V.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};V.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};bt.fromBytes=function(n,e,i){return i?bt.fromBytesLE(n,e):bt.fromBytesBE(n,e)};bt.fromBytesLE=function(n,e){return new bt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};bt.fromBytesBE=function(n,e){return new bt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(bt.fromBigInt=function(n,e){var i=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return wt(i,l,e)},bt.fromValue=function(n,e){return typeof n=="bigint"?fromBigInt(n,e):Sn(n,e)},V.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var ae=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(ae||{});class Xt extends tl{constructor(e,i){super(i);d(this,"valueType");d(this,"value");this.valueType=Xt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,i){return new Xt(e,i)}static valueFromBytes(e,i){switch(e){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,h){l.setUint8(h,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return bt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(bt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new C(D.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new C(D.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Kn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Xt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof bt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Xt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const e=this.value,i=bt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new C(D.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Wu extends a0{constructor(e){super(e);d(this,"prev");d(this,"next");this.value=e}static createAfter(e,i){const l=new Wu(i),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Qo{constructor(){d(this,"dummyHead");d(this,"last");d(this,"nodeMapByIndex");d(this,"nodeMapByCreatedAt");const n=Xt.of(0,xn);n.setRemovedAt(xn),this.dummyHead=new Wu(n),this.last=this.dummyHead,this.nodeMapByIndex=new Zo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Qo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new C(D.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(e);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,i=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,i),c=Wu.createAfter(l,e);l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c)}moveAfter(n,e,i){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new C(D.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);const c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new C(D.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);l!==c&&(!c.getValue().getMovedAt()||i.after(c.getValue().getMovedAt()))&&(this.release(c),this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(D.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,i]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||i>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const i=this.nodeMapByCreatedAt.get(n.toIDString()),l=i.isRemoved();return i.remove(e)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(n,e){const i=this.getByIndex(n);if(i)return i.remove(e)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const i=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Ke extends _i{constructor(e,i){super(e);d(this,"elements");this.elements=i}static create(e,i){if(!i)return new Ke(e,Qo.create());const l=Qo.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Ke(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,i){this.elements.insertAfter(e,i)}moveAfter(e,i,l){this.elements.moveAfter(e,i,l)}get(e){const i=this.elements.getByIndex(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.elements.getByID(e);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,i){return this.elements.delete(e,i)}deleteByIndex(e,i){return this.elements.deleteByIndex(e,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const i of this.elements){const l=i.getValue();if(e(l,this))return;l instanceof _i&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const i of this)e.push(i.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:h}=this.get(i).toJSForTest();e[i]={key:String(i),createdAt:l,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Ke.create(this.getCreatedAt());for(const i of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),i.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class ea extends On{constructor(e,i,l){super(e,l);d(this,"createdAt");this.createdAt=i}static create(e,i,l){return new ea(e,i,l)}execute(e,i){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof _i))throw new C(D.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===Ut.UndoRedo){let b=l.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(y=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:y.parent}}const c=l.subPathOf(this.createdAt),h=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(g),{opInfos:l instanceof Ke?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:h}}toReverseOperation(e){if(e instanceof ke){const i=e.subPathOf(this.createdAt);if(i!==void 0){const l=e.get(i);if(l!==void 0)return Ra.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Ra extends On{constructor(e,i,l,c){super(l,c);d(this,"key");d(this,"value");this.key=e,this.value=i}static create(e,i,l,c){return new Ra(e,i,l,c)}execute(e,i){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof ke))throw new C(D.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===Ut.UndoRedo){let b=l;for(;b;){if(b.getRemovedAt())return;b=(y=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:y.parent}}const c=l.get(this.key),h=this.toReverseOperation(c),g=this.value.deepcopy(),p=l.set(this.key,g,this.getExecutedAt());return i===Ut.UndoRedo&&e.findByCreatedAt(g.getCreatedAt())&&e.deregisterElement(g),e.registerElement(g,l),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:h}}toReverseOperation(e){let i=ea.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(i=Ra.create(this.key,e.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class el extends On{constructor(e,i,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"value");this.prevCreatedAt=i,this.value=l}static create(e,i,l,c){return new el(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ke))throw new C(D.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Xi extends On{constructor(e,i,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(e,i,l,c){return new Xi(e,i,l,c)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ke))throw new C(D.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Na{constructor(n,e,i,l){d(this,"key");d(this,"value");d(this,"updatedAt");d(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=i,this._isRemoved=l}static of(n,e,i,l){return new Na(n,e,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Qi}}}class pi{constructor(){d(this,"nodeMapByKey");d(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new pi}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,i){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=Na.of(n,e,i,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,i,l){const c=Na.of(n,e,i,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const i=this.nodeMapByKey.get(n),l=[];if(i===void 0||e.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const g=Na.of(n,"",e,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const h=Na.of(n,i.getValue(),e,!0);return this.nodeMapByKey.set(n,h),l.push(h),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new pi;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Kn(e)}":"${Kn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,i]of this.nodeMapByKey)i.isRemoved()||(n[e]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}class _o{constructor(n){d(this,"attributes");d(this,"content");this.attributes=pi.create(),this.content=n}static create(n){return new _o(n)}get length(){return this.content.length}substring(n,e){const i=new _o(this.content.substring(n,e));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,e,i){return this.attributes.set(n,e,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const i=e.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Kn(this.content),e=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(e)){const h=JSON.parse(c),g=typeof h=="string"?`"${Kn(l)}":"${Kn(h)}"`:`"${Kn(l)}":${String(h)}`;i.push(g)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof Na&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class pn extends tl{constructor(e,i){super(i);d(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,i){return new pn(e,i)}edit(e,i,l,c,h,g){const p=i?_o.create(i):void 0;if(p&&c)for(const[q,j]of Object.entries(c))p.setAttr(q,j,l);const[y,b,E,I]=this.rgaTreeSplit.edit(e,l,p,h,g),k=I.map(q=>({...q,value:q.value?{attributes:ws(q.value.getAttributes()),content:q.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[b,k,E,[y,y]]}setStyle(e,i,l,c,h){const[,g]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,p]=this.rgaTreeSplit.findNodeWithSplit(e[0],l),y=[],b=this.rgaTreeSplit.findBetween(p,g),E=new Map,I=[];for(const q of b){const j=q.getCreatedAt().getActorID();let Y,F=0n;if(h===void 0&&c===void 0?F=Vo:h.size()>0?F=h.get(j)?h.get(j):0n:Y=c.has(j)?c.get(j):xn,q.canStyle(l,Y,F)){const ut=E.get(j),Q=q.getCreatedAt();(!ut||Q.after(ut))&&E.set(j,Q),I.push(q)}}const k=[];for(const q of I){if(q.isRemoved())continue;const[j,Y]=this.rgaTreeSplit.findIndexesFromRange(q.createPosRange());y.push({type:"style",actor:l.getActorID(),from:j,to:Y,value:{attributes:ws(i)}});for(const[F,ut]of Object.entries(i)){const[Q]=q.getValue().setAttr(F,ut,l);Q!==void 0&&k.push({parent:q.getValue(),child:Q})}}return[E,k,y]}indexRangeToPosRange(e,i){const l=this.rgaTreeSplit.indexToPos(e);return e===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const i of this.rgaTreeSplit)i.isRemoved()||e.push(i.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();e.push({attributes:ws(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new pn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())e.push(l)}return e}}class nl extends On{constructor(e,i,l,c,h,g,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"content");d(this,"attributes");this.fromPos=i,this.toPos=l,this.maxCreatedAtMapByActor=c,this.content=h,this.attributes=g}static create(e,i,l,c,h,g,p){return new nl(e,i,l,c,h,g,p)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof pn))throw new C(D.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[,g,p]=h.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,l);for(const y of p)e.registerGCPair(y);return{opInfos:g.map(({from:y,to:b,value:E})=>({type:"edit",from:y,to:b,value:E,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class rl extends On{constructor(e,i,l,c,h,g){super(e,g);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"attributes");this.fromPos=i,this.toPos=l,this.maxCreatedAtMapByActor=c,this.attributes=h}static create(e,i,l,c,h,g){return new rl(e,i,l,c,h,g)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof pn))throw new C(D.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[,g,p]=h.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,l);for(const y of g)e.registerGCPair(y);return{opInfos:p.map(({from:y,to:b,value:E})=>({type:"style",from:y,to:b,value:E,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const FA=2,WA="root",gi="text";function Uo(s,n){let e=0;const i=s.children;for(let l=0;l<n;l++){const c=i[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class t1{constructor(n,e=[]){d(this,"type");d(this,"parent");d(this,"_children");d(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new C(D.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const i=e.updateDescendantsSize();e.isRemoved||(n+=i)}return this.size+=n,this.paddedSize}get isText(){return this.type===gi}get paddedSize(){return this.size+(this.isText?0:FA)}isAncestorOf(n){return e1(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){if(n===0||n===this.size)return;const i=this.value.slice(0,n),l=this.value.slice(n);if(!l.length)return;this.value=i;const c=this.cloneText(n+e);return c.value=l,this.parent.insertAfterInternal(c,this),c}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}append(...n){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new C(D.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new C(D.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new C(D.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const i=this.cloneElement(e);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const l=this.children.slice(0,n),c=this.children.slice(n);this._children=l,i._children=c,this.size=this._children.reduce((h,g)=>h+g.paddedSize,0),i.size=i._children.reduce((h,g)=>h+g.paddedSize,0);for(const h of i._children)h.parent=i;return i}insertAfterInternal(n,e){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new C(D.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,e){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new C(D.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const i=this._children.indexOf(e);if(i!==-1)return i;e=e.parent}return-1}}function e1(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var ne=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(ne||{});function c0(s,n,e,i){if(n>e)throw new C(D.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new C(D.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new C(D.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const h=c.isText?n-l:n-l-1,g=c.isText?e-l:e-l-1,p=!c.isText&&h<0,y=!c.isText&&g>c.size;(c.isText||p)&&i([c,c.isText?"Text":"Start"],y),c0(c,Math.max(0,h),Math.min(g,c.size),i),y&&i([c,"End"],y)}l+=c.paddedSize}}function f0(s,n,e=0){for(const i of s.children)f0(i,n,e+1);n(s,e)}function sc(s,n,e=0){for(const i of s._children)sc(i,n,e+1);n(s,e)}function fd(s,n,e=!0){if(n>s.size)throw new C(D.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let i=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return fd(c,n-l,e);if(n===l)return{node:s,offset:i};if(!e&&c.paddedSize===n-l)return{node:s,offset:i+1};if(c.paddedSize>n-l)return fd(c,n-l-1,e);l+=c.paddedSize,i+=1}return{node:s,offset:i}}function h0(s){return s.isText||s.children.length===0?s:h0(s.children[0])}function n1(s,n){if(s.size<n)throw new C(D.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const i=s.children[e];if(i.size<n)n-=i.size;else{s=i;break}}return{node:s,offset:n}}class r1{constructor(n){d(this,"root");this.root=n}tokensBetween(n,e,i){c0(this.root,n,e,i)}traverse(n){f0(this.root,n,0)}traverseAll(n){sc(this.root,n,0)}findTreePos(n,e=!0){return fd(this.root,n,e)}treePosToPath(n){const e=[];let i=n.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new C(D.ErrInvalidArgument,"invalid treePos");const c=Uo(i.parent,l);e.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const l=Uo(i,n.offset);e.push(l)}else e.push(n.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new C(D.ErrInvalidArgument,"invalid treePos");e.push(l),i=i.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new C(D.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let i=0;i<n.length-1;i++){const l=n[i];if(e=e.children[l],!e)throw new C(D.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return n1(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new C(D.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:i}=n;if(e.isText){if(e.size===i){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===i?e:h0(e.children[i])}indexOf(n){let{node:e}=n;const{offset:i}=n;let l=0,c=1;if(e.isText){l+=i;const h=e.parent,g=h.findOffset(e);if(g===-1)throw new C(D.ErrInvalidArgument,"invalid pos");l+=Uo(h,g),e=e.parent}else l+=Uo(e,i);for(;e!=null&&e.parent;){const h=e.parent,g=h.findOffset(e);if(g===-1)throw new C(D.ErrInvalidArgument,"invalid pos");l+=Uo(h,g),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const i1=(s,n)=>s===n?0:s<n?-1:1;class a1{constructor(n,e,i){d(this,"key");d(this,"value");d(this,"parent");d(this,"left");d(this,"right");d(this,"isRed");this.key=n,this.value=e,this.isRed=i}}class s1{constructor(n){d(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class d0{constructor(n){d(this,"root");d(this,"comparator");d(this,"counter");this.comparator=typeof n<"u"?n:i1,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new s1(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const i=this.comparator(n,e.key);if(i>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(i<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const i=this.comparator(n,e.key);if(i===0)return e;i<0?e=e.left:i>0&&(e=e.right)}}putInternal(n,e,i){if(!i)return this.counter+=1,new a1(n,e,!0);const l=this.comparator(n,i.key);return l<0?i.left=this.putInternal(n,e,i.left):l>0?i.right=this.putInternal(n,e,i.right):i.value=e,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class Nn{constructor(n,e){d(this,"parentID");d(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new Nn(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:i}=n,l;return i.isText?(i.parent.children[0]===i&&e===0?l=i.parent:l=i,i=i.parent):e===0?l=i:l=i.children[e-1],Nn.of(i.id,me.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return Nn.of(me.of(yn.fromStruct(n.parentID.createdAt),n.parentID.offset),me.of(yn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),i=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(i);if(!l||!c)throw new C(D.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${i.toTestString()})`);return!i.equals(e)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class me{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new me(n,e)}static fromStruct(n){return me.of(yn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const i=n.getCreatedAt().compare(e.getCreatedAt());return i!==0?i:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ge extends t1{constructor(e,i,l,c,h){super(i);d(this,"id");d(this,"removedAt");d(this,"attrs");d(this,"insPrevID");d(this,"insNextID");d(this,"_value","");this.id=e,this.removedAt=h,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,i,l,c){return new Ge(e,i,l,c)}deepcopy(){var i;const e=new Ge(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new C(D.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new C(D.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),i&&this.updateAncestorsSize()}cloneText(e){return new Ge(me.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ge(me.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,i,l){const c=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return c}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,i,l){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=l)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,i,l){return this.isText?!1:(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=l)&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,i){this.attrs||(this.attrs=new pi);const l=[];for(const[c,h]of Object.entries(e))l.push(this.attrs.set(c,h,i));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Qi),this.removedAt&&(e.meta+=Qi),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const i of this.attrs)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}function hd(s){var e;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(hd)};return s.attrs&&(n.attributes=ws((e=s.attrs)==null?void 0:e.toObject())),n}function Td(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,i)=>e.getKey().localeCompare(i.getKey())).map(e=>{const i=JSON.parse(e.getValue());return typeof i=="string"?`${e.getKey()}="${i}"`:`${e.getKey()}="${Kn(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>Td(e)).join("")}</${s.type}>`}function g0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(g0),size:s.size,isRemoved:s.isRemoved}}class vn extends tl{constructor(e,i){super(i);d(this,"indexTree");d(this,"nodeMapByID");this.indexTree=new r1(e),this.nodeMapByID=new d0(me.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,i){return new vn(e,i)}findFloorNode(e){const i=this.nodeMapByID.floorEntry(e);if(!(!i||!i.key.getCreatedAt().equals(e.getCreatedAt())))return i.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,i){const[l,c]=e.toTreeNodePair(this);let h=c;const g=l===h,p=h.parent&&!g?h.parent:l;if(h.isText&&h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset()),i){const y=p.allChildren,b=g?0:y.indexOf(h)+1;for(let E=b;E<y.length;E++){const I=y[E];if(!I.id.getCreatedAt().after(i))break;h=I}}return[p,h]}style(e,i,l,c,h){const[g,p]=this.findNodesAndSplitText(e[0],l),[y,b]=this.findNodesAndSplitText(e[1],l),E=[],I=i?ws(i):{},k=new Map,q=[];return this.traverseInPosRange(g,p,y,b,([j])=>{const Y=j.getCreatedAt().getActorID();let F,ut=0n;if(h===void 0&&c===void 0?ut=Vo:h.size()>0?ut=h.get(Y)?h.get(Y):0n:F=c.has(Y)?c.get(Y):xn,j.canStyle(l,F,ut)&&i){const Q=k.get(Y),mt=j.getCreatedAt();(!Q||mt.after(Q))&&k.set(Y,mt);const K=j.setAttrs(i,l),st=K.reduce((Vt,[,ce])=>(ce&&(Vt[ce.getKey()]=I[ce.getKey()]),Vt),{}),dt=j.parent,Tt=j.prevSibling||j.parent;Object.keys(st).length>0&&E.push({type:"style",from:this.toIndex(dt,Tt),to:this.toIndex(j,j),fromPath:this.toPath(dt,Tt),toPath:this.toPath(j,j),actor:l.getActorID(),value:st});for(const[Vt]of K)Vt&&q.push({parent:j,child:Vt})}}),[k,q,E]}removeStyle(e,i,l,c,h){const[g,p]=this.findNodesAndSplitText(e[0],l),[y,b]=this.findNodesAndSplitText(e[1],l),E=[],I=new Map,k=[];return this.traverseInPosRange(g,p,y,b,([q])=>{const j=q.getCreatedAt().getActorID();let Y,F=0n;if(h===void 0&&c===void 0?F=Vo:h.size()>0?F=h.get(j)?h.get(j):0n:Y=c.has(j)?c.get(j):xn,q.canStyle(l,Y,F)&&i){const ut=I.get(j),Q=q.getCreatedAt();(!ut||Q.after(ut))&&I.set(j,Q),q.attrs||(q.attrs=new pi);for(const st of i){const dt=q.attrs.remove(st,l);for(const Tt of dt)k.push({parent:q,child:Tt})}const mt=q.parent,K=q.prevSibling||q.parent;E.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(mt,K),to:this.toIndex(q,q),fromPath:this.toPath(mt,K),toPath:this.toPath(q,q),value:i})}}),[I,k,E]}edit(e,i,l,c,h,g,p){const[y,b]=this.findNodesAndSplitText(e[0],c),[E,I]=this.findNodesAndSplitText(e[1],c),k=this.toIndex(y,b),q=this.toPath(y,b),j=[],Y=[],F=[],ut=new Map;this.traverseInPosRange(y,b,E,I,([K,st],dt)=>{if(st===ne.Start&&!dt)for(const ye of K.children)F.push(ye);const Tt=K.getCreatedAt().getActorID();let Vt,ce=0n;if(p===void 0&&g===void 0?ce=Vo:p.size()>0?ce=p.get(Tt)?p.get(Tt):0n:Vt=g.has(Tt)?g.get(Tt):xn,K.canDelete(c,Vt,ce)||j.includes(K.parent)){const ye=ut.get(Tt),Zt=K.getCreatedAt();(!ye||Zt.after(ye))&&ut.set(Tt,Zt),(st===ne.Text||st===ne.Start)&&j.push(K),Y.push([K,st])}});const Q=this.makeDeletionChanges(Y,c),mt=[];for(const K of j)K.remove(c),K.isRemoved&&mt.push({parent:this,child:K});for(const K of F)K.removedAt||y.append(K);if(l>0){let K=0,st=y,dt=b;for(;K<l;)st.split(this,st.findOffset(dt)+1,h),dt=st,st=st.parent,K++;Q.push({type:"content",from:k,to:k,fromPath:q,toPath:q,actor:c.getActorID()})}if(i!=null&&i.length){const K=[];let st=b;for(const dt of i)st===y?y.insertAt(dt,0):y.insertAfter(dt,st),st=dt,sc(dt,Tt=>{y.isRemoved&&(Tt.remove(c),mt.push({parent:this,child:Tt})),this.nodeMapByID.put(Tt.id,Tt)}),dt.isRemoved||K.push(dt);if(K.length){const dt=K.map(Tt=>hd(Tt));Q.length&&Q[Q.length-1].from===k?Q[Q.length-1].value=dt:Q.push({type:"content",from:k,to:k,fromPath:q,toPath:q,actor:c.getActorID(),value:dt})}}return[Q,mt,ut]}editT(e,i,l,c,h){const g=this.findPos(e[0]),p=this.findPos(e[1]);this.edit([g,p],i,l,c,h)}move(e,i,l){throw new C(D.ErrUnimplemented,`not implemented: ${e}, ${i}, ${l}`)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,l=e.insNextID;if(i){const h=this.findFloorNode(i);h.insNextID=l}if(l){const h=this.findFloorNode(l);h.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&e.push({parent:this,child:i});for(const l of i.getGCPairs())e.push(l)}),e}findPos(e,i=!0){const l=this.indexTree.findTreePos(e,i);return Nn.fromTreePos(l)}pathToPosRange(e){const i=this.pathToIndex(e);return[this.findPos(i),this.findPos(i+1)]}pathToPos(e){const i=this.indexTree.pathToIndex(e);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Td(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),i=(l,c=void 0,h=void 0,g=0)=>{var k,q,j,Y;let p,y,b;const E=l.isText?{node:l,offset:0}:c&&h?this.toTreePos(c,h):null;E&&(p=this.indexTree.indexOf(E),y=this.indexTree.treePosToPath(E),b=Nn.fromTreePos(E).toStruct());const I={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(k=l.removedAt)==null?void 0:k.toTestString(),insPrev:(q=l.insPrevID)==null?void 0:q.toTestString(),insNext:(j=l.insNextID)==null?void 0:j.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?ws((Y=l.attrs)==null?void 0:Y.toObject()):void 0,index:p,path:y,pos:b};for(let F=0;F<l.allChildren.length;F++){const ut=F===0?l:l.allChildren[F-1];I.children.push(i(l.allChildren[F],l,ut,g+1))}return I};return i(e)}getRootTreeNode(){return hd(this.indexTree.getRoot())}toTestTreeNode(){return g0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new vn(e.deepcopy(),this.getCreatedAt())}toPath(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,i){const l=this.toTreePos(e,i);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const i=this.findPos(e[0]);return e[0]===e[1]?[i,i]:[i,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[i,l]=e,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[i,l]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toPath(i,l),this.toPath(c,h)]}posRangeToIndexRange(e){const[i,l]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toIndex(i,l),this.toIndex(c,h)]}traverseInPosRange(e,i,l,c,h){const g=this.toIndex(e,i),p=this.toIndex(l,c);return this.indexTree.tokensBetween(g,p,h)}toTreePos(e,i){if(!e||!i)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c);return{node:e,offset:h}}if(e===i)return{node:e,offset:0};let l=e.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,i){const l=[],c=[];let h=null,g=null;for(let p=0;p<e.length;p++){const y=e[p],b=e[p+1];h||(h=y),g=y;const E=this.findRightToken(y);(!E||!b||E[0]!==b[0]||E[1]!==b[1])&&(c.push([h,g]),h=null,g=null)}for(const p of c){const[y,b]=p,[E,I]=this.findLeftToken(y),[k,q]=b,j=I===ne.Start?E:E.parent,Y=q===ne.Start?k:k.parent,F=this.toIndex(j,E),ut=this.toIndex(Y,k);F<ut&&(l.length>0&&F===l[l.length-1].to?(l[l.length-1].to=ut,l[l.length-1].toPath=this.toPath(Y,k)):l.push({type:"content",from:F,to:ut,fromPath:this.toPath(j,E),toPath:this.toPath(Y,k),actor:i.getActorID()}))}return l.reverse()}findRightToken([e,i]){if(i===ne.Start){const p=e.allChildren;return p.length>0?[p[0],p[0].isText?ne.Text:ne.Start]:[e,ne.End]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===c.length-1)return[l,ne.End];const g=c[h+1];return[g,g.isText?ne.Text:ne.Start]}findLeftToken([e,i]){if(i===ne.End){const p=e.allChildren;if(p.length>0){const y=p[p.length-1];return[y,y.isText?ne.Text:ne.End]}return[e,ne.Start]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===0)return[l,ne.Start];const g=c[h-1];return[g,g.isText?ne.Text:ne.End]}}class il extends On{constructor(e,i,l,c,h,g,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"contents");d(this,"splitLevel");d(this,"maxCreatedAtMapByActor");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=h,this.maxCreatedAtMapByActor=g}static create(e,i,l,c,h,g,p){return new il(e,i,l,c,h,g,p)}execute(e,i,l){var b;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof vn))throw new C(D.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=this.getExecutedAt(),g=c,[p,y]=g.edit([this.fromPos,this.toPos],(b=this.contents)==null?void 0:b.map(E=>E.deepcopy()),this.splitLevel,h,(()=>{let E=h.getDelimiter();return this.contents!==void 0&&(E+=this.contents.length),()=>yn.of(h.getLamport(),++E,h.getActorID())})(),this.maxCreatedAtMapByActor,l);for(const E of y)e.registerGCPair(E);return{opInfos:p.map(({from:E,to:I,value:k,splitLevel:q,fromPath:j,toPath:Y})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:E,to:I,value:k,splitLevel:q,fromPath:j,toPath:Y}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${i},${l},${c.map(h=>Td(h)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Es{constructor(n){d(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[i,l]of n){const c=this.vector.get(i),h=c&&c>l?c:l;e.set(i,h)}for(const[i,l]of this){const c=n.get(i),h=c&&c>l?c:l;e.set(i,h)}return new Es(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,i]of this.vector)n.set(e,i);return new Es(n)}filter(n){const e=new Map;for(const[i]of n){const l=this.vector.get(i);l!==void 0&&e.set(i,l)}return new Es(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const o1=new Es(new Map);class ui{constructor(n,e,i,l,c){d(this,"clientSeq");d(this,"serverSeq");d(this,"lamport");d(this,"actor");d(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=i}static of(n,e,i,l,c){return new ui(n,e,i,l,c)}next(){const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new ui(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(n){const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n;let i=n.versionVector;i.size()===0&&(i=i.deepcopy(),i.set(n.actor,n.lamport));const l=this.versionVector.max(i),c=new ui(this.clientSeq,e,this.actor,l);return c.versionVector.set(this.actor,e),c}setClocks(n,e){const i=n>this.lamport?n+1n:this.lamport+1n;e.unset(ac);const l=this.versionVector.max(e);return l.set(this.actor,i),ui.of(this.clientSeq,i,this.actor,l)}createTimeTicket(n){return yn.of(this.lamport,n,this.actor)}setActor(n){return new ui(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setVersionVector(n){return new ui(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const l1=new ui(0,0n,ac,o1);class ks{constructor({id:n,operations:e,presenceChange:i,message:l}){d(this,"id");d(this,"operations");d(this,"presenceChange");d(this,"message");this.id=n,this.operations=e||[],this.presenceChange=i,this.message=l}static create({id:n,operations:e,presenceChange:i,message:l}){return new ks({id:n,operations:e,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,i){const l=[],c=[];for(const h of this.operations){const g=h.execute(n,i,this.id.getVersionVector());if(!g)continue;const{opInfos:p,reverseOp:y}=g;l.push(...p),y&&c.unshift(y)}return this.presenceChange&&(this.presenceChange.type===ta.Put?e.set(this.id.getActorID(),wn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Ft.bytesToHex(Ft.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Ft.bytesToHex(Ft.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:i,presenceChange:l,message:c}=n;return ks.create({id:Ft.bytesToChangeID(Ft.hexToBytes(e)),operations:i==null?void 0:i.map(h=>Ft.bytesToOperation(Ft.hexToBytes(h))),presenceChange:l,message:c})}}class oc{constructor(n,e,i,l,c,h,g){d(this,"documentKey");d(this,"checkpoint");d(this,"isRemoved");d(this,"changes");d(this,"snapshot");d(this,"minSyncedTicket");d(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=i,this.changes=l,this.snapshot=h,this.minSyncedTicket=g,this.versionVector=c}static create(n,e,i,l,c,h,g){return new oc(n,e,i,l,c,h,g)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class Ns{constructor(n,e){d(this,"serverSeq");d(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Ns(n,e)}increaseClientSeq(n){return n===0?this:new Ns(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return Ns.of(e,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const u1=new Ns(0n,0);class $n{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new $n(n,e)}static fromStruct(n){return $n.of(yn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new $n(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const c1=$n.of(xn,0);class Dn{constructor(n,e){d(this,"id");d(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new Dn(n,e)}static fromStruct(n){const e=$n.fromStruct(n.id);return Dn.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return $n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class Fi extends a0{constructor(e,i,l){super(i);d(this,"id");d(this,"removedAt");d(this,"prev");d(this,"next");d(this,"insPrev");d(this,"insNext");this.id=e,this.removedAt=l}static create(e,i){return new Fi(e,i)}static createComparator(){return(e,i)=>{const l=e.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Fi(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,i,l){const c=!this.removedAt;return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=l)&&(!this.removedAt||e.after(this.removedAt))?c:!1}canStyle(e,i,l){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=l)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Dn.of(this.id,0),Dn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Qi),this.removedAt&&(e.meta+=Qi),e}deepcopy(){return new Fi(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const i=this.value;return this.value=i.substring(0,e),i.substring(e,i.length)}toIDString(){return this.id.toIDString()}}class Is{constructor(){d(this,"head");d(this,"treeByIndex");d(this,"treeByID");this.head=Fi.create(c1),this.treeByIndex=new Zo,this.treeByID=new d0(Fi.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Is}edit(n,e,i,l,c){const[h,g]=this.findNodeWithSplit(n[1],e),[p,y]=this.findNodeWithSplit(n[0],e),b=this.findBetween(y,g),[E,I,k]=this.deleteNodes(b,e,l,c),q=g?g.getID():h.getID();let j=Dn.of(q,0);if(i){const F=this.posToIndex(p.createPosRange()[1],!0),ut=this.insertAfter(p,Fi.create($n.of(e,0),i));E.length&&E[E.length-1].from===F?E[E.length-1].value=i:E.push({actor:e.getActorID(),from:F,to:F,value:i}),j=Dn.of(ut.getID(),ut.getContentLength())}const Y=[];for(const[,F]of k)Y.push({parent:this,child:F});return[j,I,Y,E]}indexToPos(n){const[e,i]=this.treeByIndex.find(n),l=e;return Dn.of(l.getID(),i)}findIndexesFromRange(n){const[e,i]=n;return[this.posToIndex(e,!1),this.posToIndex(i,!0)]}posToIndex(n,e){const i=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new C(D.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),h=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+h}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Is;let e=this.head.getNext(),i=n.head,l;for(;e;){if(l=n.insertAfter(i,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}i=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const i=n.getNext();return e.setPrev(n),i&&i.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const i=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset();for(this.splitNode(l,c);l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new C(D.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const i=[];let l=n;for(;l&&l!==e;)i.push(l),l=l.getNext();return i}splitNode(n,e){if(e>n.getContentLength())throw new C(D.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return n;if(e===n.getContentLength())return n.getNext();const i=n.split(e);this.treeByIndex.updateWeight(i),this.insertAfter(n,i);const l=n.getInsNext();return l&&l.setInsPrev(i),i.setInsPrev(n),i}deleteNodes(n,e,i,l){if(!n.length)return[[],new Map,new Map];const[c,h]=this.filterNodes(n,e,i,l),g=new Map,p=new Map,y=this.makeChanges(h,e);for(const b of c){const E=b.getCreatedAt().getActorID();(!g.has(E)||b.getID().getCreatedAt().after(g.get(E)))&&g.set(E,b.getID().getCreatedAt()),p.set(b.getID().toIDString(),b),b.remove(e)}return this.deleteIndexNodes(h),[y,g,p]}filterNodes(n,e,i,l){const c=[],h=[],[g,p]=this.findEdgesOfCandidates(n);h.push(g);for(const y of n){const b=y.getCreatedAt().getActorID();let E,I=0n;l===void 0&&i===void 0?I=Vo:l.size()>0?I=l.get(b)?l.get(b):0n:E=i.has(b)?i.get(b):xn,y.canDelete(e,E,I)?c.push(y):h.push(y)}return h.push(p),[c,h]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const i=[];let l,c;for(let h=0;h<n.length-1;h++){const g=n[h],p=n[h+1];g.getNext()!=p&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:e.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const i=n[e],l=n[e+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),i=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(i),i&&i.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const wv=s=>s<0?Math.ceil(s):Math.floor(s);var Xn=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(Xn||{});class $e extends tl{constructor(e,i,l){super(l);d(this,"valueType");d(this,"value");switch(this.valueType=e,e){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=bt.fromNumber(i).toInt():this.value=wv(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=bt.fromNumber(i):this.value=i;break;default:throw new C(D.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,i,l){return new $e(e,i,l)}static valueFromBytes(e,i){switch(e){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return bt.fromBytesLE(Array.from(i));default:throw new C(D.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=$e.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof bt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!$e.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new C(D.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===ae.Long?this.value=this.value+e.getValue().toInt():this.value=bt.fromNumber(this.value+wv(e.getValue())).toInt(),this}}class Ms extends On{constructor(e,i,l){super(e,l);d(this,"value");this.value=i}static create(e,i,l){return new Ms(e,i,l)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof $e))throw new C(D.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===ae.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ms.create(this.getParentCreatedAt(),Xt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class mi extends On{constructor(e,i,l,c,h,g,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"attributes");d(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.maxCreatedAtMapByActor=c,this.attributes=h,this.attributesToRemove=g}static create(e,i,l,c,h,g){return new mi(e,i,l,c,h,[],g)}static createTreeRemoveStyleOperation(e,i,l,c,h,g){return new mi(e,i,l,c,new Map,h,g)}execute(e,i,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(D.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof vn))throw new C(D.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=c;let g,p;if(this.attributes.size){const y={};[...this.attributes].forEach(([b,E])=>y[b]=E),[,p,g]=h.style([this.fromPos,this.toPos],y,this.getExecutedAt(),this.maxCreatedAtMapByActor,l)}else{const y=this.attributesToRemove;[,p,g]=h.removeStyle([this.fromPos,this.toPos],y,this.getExecutedAt(),this.maxCreatedAtMapByActor,l)}for(const y of p)e.registerGCPair(y);return{opInfos:g.map(({from:y,to:b,value:E,fromPath:I,toPath:k})=>({type:"tree-style",from:y,to:b,value:this.attributes.size?{attributes:E}:{attributesToRemove:E},fromPath:I,toPath:k,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,h])=>`${c}:"${h}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function f1(s){const n=new vd,e=n.data;for(const[i,l]of Object.entries(s))e[i]=JSON.stringify(l);return n}function h1(s){if(s.type===ta.Put)return new $o({type:Ca.PUT,presence:f1(s.presence)});if(s.type===ta.Clear)return new $o({type:Ca.CLEAR});throw new C(D.ErrUnimplemented,"unimplemented type")}function d1(s){return new n0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function m0(s){return new rc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:kd(s.getActorID()),versionVector:Ad(s.getVersionVector())})}function W(s){if(s)return new _({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:kd(s.getActorID())})}function Ad(s){if(!s)return;const n=new ic;for(const[e,i]of s)n.vector[e]=BigInt(i.toString());return n}function y0(s){switch(s){case ae.Null:return ft.NULL;case ae.Boolean:return ft.BOOLEAN;case ae.Integer:return ft.INTEGER;case ae.Long:return ft.LONG;case ae.Double:return ft.DOUBLE;case ae.String:return ft.STRING;case ae.Bytes:return ft.BYTES;case ae.Date:return ft.DATE;default:throw new C(D.ErrInvalidType,`unsupported type: ${s}`)}}function p0(s){switch(s){case Xn.Int:return ft.INTEGER_CNT;case Xn.Long:return ft.LONG_CNT;default:throw new C(D.ErrInvalidType,`unsupported type: ${s}`)}}function Uh(s){if(s instanceof ke)return new rn({type:ft.JSON_OBJECT,createdAt:W(s.getCreatedAt()),value:R0(s)});if(s instanceof Ke)return new rn({type:ft.JSON_ARRAY,createdAt:W(s.getCreatedAt()),value:Y1(s)});if(s instanceof pn)return new rn({type:ft.TEXT,createdAt:W(s.getCreatedAt())});if(s instanceof Xt)return new rn({type:y0(s.getType()),createdAt:W(s.getCreatedAt()),value:s.toBytes()});if(s instanceof $e)return new rn({type:p0(s.getType()),createdAt:W(s.getCreatedAt()),value:s.toBytes()});if(s instanceof vn)return new rn({type:ft.TREE,createdAt:W(s.getCreatedAt()),value:K1(s)});throw new C(D.ErrUnimplemented,"unimplemented element")}function g1(s){return new Go({createdAt:W(s.getCreatedAt()),offset:s.getOffset()})}function Tu(s){return new yi({createdAt:W(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Au(s){return new Oa({parentId:jo(s.getParentID()),leftSiblingId:jo(s.getLeftSiblingID())})}function jo(s){return new Zi({createdAt:W(s.getCreatedAt()),offset:s.getOffset()})}function v0(s){const n=new pd;if(s instanceof Ra){const e=s,i=new Mu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.key=e.getKey(),i.value=Uh(e.getValue()),i.executedAt=W(e.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof el){const e=s,i=new zu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.prevCreatedAt=W(e.getPrevCreatedAt()),i.value=Uh(e.getValue()),i.executedAt=W(e.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof Xi){const e=s,i=new Uu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.prevCreatedAt=W(e.getPrevCreatedAt()),i.createdAt=W(e.getCreatedAt()),i.executedAt=W(e.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof ea){const e=s,i=new Lu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.createdAt=W(e.getCreatedAt()),i.executedAt=W(e.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof nl){const e=s,i=new qu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.from=Tu(e.getFromPos()),i.to=Tu(e.getToPos());const l=i.createdAtMapByActor;for(const[h,g]of e.getMaxCreatedAtMapByActor())l[h]=W(g);i.content=e.getContent();const c=i.attributes;for(const[h,g]of e.getAttributes())c[h]=g;i.executedAt=W(e.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof rl){const e=s,i=new Ju;i.parentCreatedAt=W(e.getParentCreatedAt()),i.from=Tu(e.getFromPos()),i.to=Tu(e.getToPos());const l=i.createdAtMapByActor;for(const[h,g]of e.getMaxCreatedAtMapByActor())l[h]=W(g);const c=i.attributes;for(const[h,g]of e.getAttributes())c[h]=g;i.executedAt=W(e.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof Ms){const e=s,i=new Hu;i.parentCreatedAt=W(e.getParentCreatedAt()),i.value=Uh(e.getValue()),i.executedAt=W(e.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof il){const e=s,i=new Vu,l=i.createdAtMapByActor;for(const[c,h]of e.getMaxCreatedAtMapByActor())l[c]=W(h);i.parentCreatedAt=W(e.getParentCreatedAt()),i.from=Au(e.getFromPos()),i.to=Au(e.getToPos()),i.contents=T1(e.getContents()),i.splitLevel=e.getSplitLevel(),i.executedAt=W(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof mi){const e=s,i=new ju;i.parentCreatedAt=W(e.getParentCreatedAt()),i.from=Au(e.getFromPos()),i.to=Au(e.getToPos());const l=i.createdAtMapByActor;for(const[h,g]of e.getMaxCreatedAtMapByActor())l[h]=W(g);const c=e.getAttributesToRemove();if(c.length>0)i.attributesToRemove=c;else{const h=i.attributes;for(const[g,p]of e.getAttributes())h[g]=p}i.executedAt=W(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else throw new C(D.ErrUnimplemented,"unimplemented operation");return n}function m1(s){const n=[];for(const e of s)n.push(v0(e));return n}function y1(s){const n=new t0({id:m0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=m1(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=h1(s.getPresenceChange())),n}function p1(s){const n=[];for(const e of s)n.push(y1(e));return n}function v1(s){const n=[];for(const e of s)n.push(new e0({key:e.getStrKey(),element:Ed(e.getValue())}));return n}function S1(s){const n=[];for(const e of s)n.push(new Zu({element:Ed(e.getValue())}));return n}function b1(s){const n=[];for(const e of s){const i=new Qu;i.id=g1(e.getID()),i.value=e.getValue().getContent(),i.removedAt=W(e.getRemovedAt());const l=i.attributes,c=e.getValue().getAttrs();for(const h of c){const g=new Cs;g.value=h.getValue(),g.updatedAt=W(h.getUpdatedAt()),l[h.getKey()]=g}n.push(i)}return n}function T1(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new _u({content:wd(e)}));return n}function A1(s){const n={};for(const e of s)n[e.getKey()]=new Cs({value:e.getValue(),updatedAt:W(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function wd(s){if(!s)return[];const n=[];return sc(s,(e,i)=>{const l=new Ko({id:jo(e.id),type:e.type,removedAt:W(e.removedAt),depth:i});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=jo(e.insPrevID)),e.insNextID&&(l.insNextId=jo(e.insNextID)),e.attrs&&(l.attributes=A1(e.attrs)),n.push(l)}),n}function w1(s){const n=new Ie;return n.body.case="jsonObject",n.body.value=new Pu({nodes:v1(s.getRHT()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function S0(s){const n=new Ie;return n.body.case="jsonArray",n.body.value=new Yu({nodes:S1(s.getElements()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function E1(s){const n=new Ie;return n.body.case="primitive",n.body.value=new Gu({type:y0(s.getType()),value:s.toBytes(),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function N1(s){const n=new Ie;return n.body.case="text",n.body.value=new Ku({nodes:b1(s.getRGATreeSplit()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function x1(s){const n=new Ie;return n.body.case="counter",n.body.value=new $u({type:p0(s.getType()),value:s.toBytes(),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function b0(s){const n=new Ie;return n.body.case="tree",n.body.value=new Xu({nodes:wd(s.getRoot()),createdAt:W(s.getCreatedAt()),movedAt:W(s.getMovedAt()),removedAt:W(s.getRemovedAt())}),n}function Ed(s){if(s instanceof ke)return w1(s);if(s instanceof Ke)return S0(s);if(s instanceof Xt)return E1(s);if(s instanceof pn)return N1(s);if(s instanceof $e)return x1(s);if(s instanceof vn)return b0(s);throw new C(D.ErrUnimplemented,"unimplemented element")}function D1(s){return new vi({documentKey:s.getDocumentKey(),checkpoint:d1(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:p1(s.getChanges()),snapshot:s.getSnapshot(),versionVector:Ad(s.getVersionVector()),minSyncedTicket:W(s.getMinSyncedTicket())})}function qo(s){if(!(s instanceof Dt))return{};const n=s.findDetails(YA);for(const e of n)return e.metadata;return{}}function Gi(s){return qo(s).code??""}function T0(s){return ui.of(s.clientSeq,BigInt(s.lamport),Rd(s.actorId),Nd(s.versionVector),BigInt(s.serverSeq))}function Nd(s){if(!s)return;const n=new Es;return Object.entries(s.vector).forEach(([e,i])=>{n.set(e,BigInt(i.toString()))}),n}function et(s){if(s)return yn.of(BigInt(s.lamport),s.delimiter,Rd(s.actorId))}function xd(s){const n={};return Object.entries(s.data).forEach(([e,i])=>{n[e]=JSON.parse(i)}),n}function O1(s){const n=s.type;if(n===Ca.PUT){const e=xd(s.presence);return{type:ta.Put,presence:e}}if(n===Ca.CLEAR)return{type:ta.Clear};throw new C(D.ErrInvalidType,`unsupported type: ${n}`)}function C1(s){const n=new Map;return Object.entries(s).forEach(([e,i])=>{n.set(e,xd(i))}),n}function A0(s){switch(s){case ft.NULL:return ae.Null;case ft.BOOLEAN:return ae.Boolean;case ft.INTEGER:return ae.Integer;case ft.LONG:return ae.Long;case ft.DOUBLE:return ae.Double;case ft.STRING:return ae.String;case ft.BYTES:return ae.Bytes;case ft.DATE:return ae.Date}throw new C(D.ErrUnimplemented,`unimplemented value type: ${s}`)}function tc(s){switch(s){case ft.INTEGER_CNT:return Xn.Int;case ft.LONG_CNT:return Xn.Long}throw new C(D.ErrUnimplemented,`unimplemented value type: ${s}`)}function Lh(s){switch(s.type){case ft.JSON_OBJECT:return s.value?C0(s.value):ke.create(et(s.createdAt));case ft.JSON_ARRAY:return s.value?P1(s.value):Ke.create(et(s.createdAt));case ft.TEXT:return pn.create(Is.create(),et(s.createdAt));case ft.TREE:return G1(s.value);case ft.NULL:case ft.BOOLEAN:case ft.INTEGER:case ft.LONG:case ft.DOUBLE:case ft.STRING:case ft.BYTES:case ft.DATE:return Xt.of(Xt.valueFromBytes(A0(s.type),s.value),et(s.createdAt));case ft.INTEGER_CNT:case ft.LONG_CNT:return $e.create(tc(s.type),$e.valueFromBytes(tc(s.type),s.value),et(s.createdAt))}}function wu(s){return Dn.of($n.of(et(s.createdAt),s.offset),s.relativeOffset)}function w0(s){return $n.of(et(s.createdAt),s.offset)}function R1(s){const n=_o.create(s.value);Object.entries(s.attributes).forEach(([i,l])=>{n.setAttr(i,l.value,et(l.updatedAt))});const e=Fi.create(w0(s.id),n);return e.remove(et(s.removedAt)),e}function Ss(s){return Nn.of(Po(s.parentId),Po(s.leftSiblingId))}function Po(s){return me.of(et(s.createdAt),s.offset)}function B1(s){if(!s.length)return;const n=[];return s.forEach(e=>{const i=Dd(e.content);n.push(i)}),n}function Dd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(I1(l));const e=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)i.get(s[l].depth-1).prepend(n[l]),i.set(s[l].depth,n[l]);return e.updateDescendantsSize(),vn.create(e,xn).getRoot()}function k1(s){const n=pi.create();for(const[e,i]of Object.entries(s))n.setInternal(e,i.value,et(i.updatedAt),i.isRemoved);return n}function I1(s){const n=Po(s.id),e=Ge.create(n,s.type),i=Object.entries(s.attributes);return e.isText?e.value=s.value:i.length&&(e.attrs=k1(s.attributes)),s.insPrevId&&(e.insPrevID=Po(s.insPrevId)),s.insNextId&&(e.insNextID=Po(s.insNextId)),e.removedAt=et(s.removedAt),e}function E0(s){if(s.body.case==="set"){const n=s.body.value;return Ra.create(n.key,Lh(n.value),et(n.parentCreatedAt),et(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return el.create(et(n.parentCreatedAt),et(n.prevCreatedAt),Lh(n.value),et(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Xi.create(et(n.parentCreatedAt),et(n.prevCreatedAt),et(n.createdAt),et(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return ea.create(et(n.parentCreatedAt),et(n.createdAt),et(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;Object.entries(n.createdAtMapByActor).forEach(([l,c])=>{e.set(l,et(c))});const i=new Map;return Object.entries(n.attributes).forEach(([l,c])=>{i.set(l,c)}),nl.create(et(n.parentCreatedAt),wu(n.from),wu(n.to),e,n.content,i,et(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;Object.entries(n.createdAtMapByActor).forEach(([l,c])=>{e.set(l,et(c))});const i=new Map;return Object.entries(n.attributes).forEach(([l,c])=>{i.set(l,c)}),rl.create(et(n.parentCreatedAt),wu(n.from),wu(n.to),e,i,et(n.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const n=s.body.value;return Ms.create(et(n.parentCreatedAt),Lh(n.value),et(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value,e=new Map;return Object.entries(n.createdAtMapByActor).forEach(([i,l])=>{e.set(i,et(l))}),il.create(et(n.parentCreatedAt),Ss(n.from),Ss(n.to),B1(n.contents),n.splitLevel,e,et(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,i=n.attributesToRemove,l=new Map;return n!=null&&n.createdAtMapByActor&&Object.entries(n.createdAtMapByActor).forEach(([c,h])=>{l.set(c,et(h))}),(i==null?void 0:i.length)>0?mi.createTreeRemoveStyleOperation(et(n.parentCreatedAt),Ss(n.from),Ss(n.to),l,i,et(n.executedAt)):(Object.entries(n.attributes).forEach(([c,h])=>{e.set(c,h)}),mi.create(et(n.parentCreatedAt),Ss(n.from),Ss(n.to),l,e,et(n.executedAt)))}else throw new C(D.ErrUnimplemented,"unimplemented operation")}}function M1(s){const n=[];for(const e of s){const i=E0(e);i&&n.push(i)}return n}function N0(s){const n=[];for(const e of s)n.push(ks.create({id:T0(e.id),operations:M1(e.operations),presenceChange:e.presenceChange?O1(e.presenceChange):void 0,message:e.message}));return n}function z1(s){return Ns.of(BigInt(s.serverSeq),s.clientSeq)}function U1(s){return oc.create(s.documentKey,z1(s.checkpoint),s.isRemoved,N0(s.changes),Nd(s.versionVector),s.snapshot,et(s.minSyncedTicket))}function x0(s){const n=new Xo;for(const i of s.nodes){const l=Od(i.element);n.set(i.key,l,l.getPositionedAt())}const e=new ke(et(s.createdAt),n);return e.setMovedAt(et(s.movedAt)),e.setRemovedAt(et(s.removedAt)),e}function D0(s){const n=new Qo;for(const i of s.nodes)n.insert(Od(i.element));const e=new Ke(et(s.createdAt),n);return e.setMovedAt(et(s.movedAt)),e.setRemovedAt(et(s.removedAt)),e}function L1(s){const n=Xt.of(Xt.valueFromBytes(A0(s.type),s.value),et(s.createdAt));return n.setMovedAt(et(s.movedAt)),n.setRemovedAt(et(s.removedAt)),n}function q1(s){const n=new Is;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,R1(l));l.insPrevId&&c.setInsPrev(n.findNode(w0(l.insPrevId))),e=c}const i=new pn(n,et(s.createdAt));return i.setMovedAt(et(s.movedAt)),i.setRemovedAt(et(s.removedAt)),i}function J1(s){const n=$e.create(tc(s.type),$e.valueFromBytes(tc(s.type),s.value),et(s.createdAt));return n.setMovedAt(et(s.movedAt)),n.setRemovedAt(et(s.removedAt)),n}function O0(s){const n=Dd(s.nodes);return vn.create(n,et(s.createdAt))}function Od(s){if(s.body.case==="jsonObject")return x0(s.body.value);if(s.body.case==="jsonArray")return D0(s.body.value);if(s.body.case==="primitive")return L1(s.body.value);if(s.body.case==="text")return q1(s.body.value);if(s.body.case==="counter")return J1(s.body.value);if(s.body.case==="tree")return O0(s.body.value);throw new C(D.ErrUnimplemented,"unimplemented element")}function H1(s){if(!s)return{root:ke.create(xn),presences:new Map};const n=Vh.fromBinary(s);return{root:Od(n.root),presences:C1(n.presences)}}function V1(s){const n=Ad(s);return Cd(n.toBinary())}function j1(s){const n=Bd(s),e=ic.fromBinary(n);return Nd(e)}function C0(s){if(!s)throw new C(D.ErrInvalidArgument,"bytes is empty");const n=Ie.fromBinary(s);return x0(n.body.value)}function R0(s){return Ed(s).toBinary()}function P1(s){if(!s)throw new C(D.ErrInvalidArgument,"bytes is empty");const n=Ie.fromBinary(s);return D0(n.body.value)}function Y1(s){return S0(s).toBinary()}function G1(s){if(!s)throw new C(D.ErrInvalidArgument,"bytes is empty");const n=Ie.fromBinary(s);return O0(n.body.value)}function K1(s){return b0(s).toBinary()}function Cd(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Rd(s){return Cd(s)}function Bd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function kd(s){return Bd(s)}function $1(s){const n=rc.fromBinary(s);return T0(n)}function X1(s){const n=pd.fromBinary(s);return E0(n)}const Ft={fromPresence:xd,toChangePack:D1,fromChangePack:U1,fromChanges:N0,toTreeNodes:wd,fromTreeNodes:Dd,objectToBytes:R0,bytesToObject:C0,bytesToSnapshot:H1,bytesToHex:Cd,hexToBytes:Bd,toHexString:Rd,toUint8Array:kd,toOperation:v0,toChangeID:m0,PbChangeID:rc,bytesToChangeID:$1,bytesToOperation:X1,versionVectorToHex:V1,hexToVersionVector:j1};var Re=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Re||{});let Aa=3;function Z1(s){Aa=s}const nt={trivial:(...s)=>{Aa>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Aa>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Aa>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Aa>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Aa>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Aa<=s};function B0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class Q1{constructor(n,e,i,l,c){d(this,"reconnectStreamDelay");d(this,"doc");d(this,"docID");d(this,"syncMode");d(this,"remoteChangeEventReceived");d(this,"watchStream");d(this,"watchLoopTimerID");d(this,"watchAbortController");d(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=i,this.syncMode=l,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===Bu.RealtimeSyncOff?!1:this.syncMode===Bu.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Bu.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const qh=()=>{};class _1{constructor(n){d(this,"finalized",!1);d(this,"observers",[]);d(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,i){let l;if(!n)throw new C(D.ErrInvalidArgument,"missing observer");if(this.finalized)throw new C(D.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:i},l.next===void 0&&(l.next=qh),l.error===void 0&&(l.error=qh),l.complete===void 0&&(l.complete=qh);const c=B0(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){nt.warn(g)}return h}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(i){nt.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function F1(s){const n=new _1(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class As{constructor(n,e,i,l){d(this,"id");d(this,"delimiter");d(this,"message");d(this,"root");d(this,"operations");d(this,"presenceChange");d(this,"previousPresence");d(this,"reversePresenceKeys");this.id=n,this.delimiter=i0,this.root=e,this.operations=[],this.previousPresence=wn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,i,l){return new As(n,e,i,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getChange(){return ks.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const i of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Fo{constructor(n){d(this,"rootObject");d(this,"elementPairMapByCreatedAt");d(this,"gcElementSetByCreatedAt");d(this,"gcPairMap");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof pn||e instanceof vn)for(const i of e.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Fo(ke.create(xn))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const i=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new C(D.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),n instanceof _i&&n.getDescendants((i,l)=>(this.registerElement(i,l),!1))}deregisterElement(n){let e=0;const i=l=>{const c=l.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return i(n),n instanceof _i&&n.getDescendants(l=>(i(l),!1)),e}registerRemovedElement(n){this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const i=this.elementPairMapByCreatedAt.get(e);i.element instanceof _i&&i.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){const n={live:{data:0,meta:0},gc:{data:0,meta:0}};for(const[e,i]of this.elementPairMapByCreatedAt)this.gcElementSetByCreatedAt.has(e)?(n.gc.data+=i.element.getDataSize().data,n.gc.meta+=i.element.getDataSize().meta):(n.live.data+=i.element.getDataSize().data,n.live.meta+=i.element.getDataSize().meta);for(const e of this.gcPairMap.values()){const i=e.child.getDataSize();n.gc.data+=i.data,n.gc.meta+=i.meta}return n}deepcopy(){return new Fo(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function k0(s,n){const e=new Wo(s);return new Proxy(n,e.getHandlers())}class Wo{constructor(n){d(this,"context");d(this,"handlers");this.context=n,this.handlers={set:(e,i,l)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${i}]=${JSON.stringify(l)}`),Wo.setInternal(n,e,i,l),!0),get:(e,i)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${i}]`),i==="getID"?()=>e.getCreatedAt():i==="toJSON"||i==="toString"?()=>e.toJSON():i==="toJS"?()=>e.toJS():i==="toJSForTest"?()=>e.toJSForTest():wa(n,e.get(i))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,i)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${i}]`),Wo.deleteInternal(n,e,i),!0)}}static setInternal(n,e,i,l){if(i.includes("."))throw new C(D.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),h=ec(n,l,c),g=e.set(i,h,c);n.registerElement(h,e),g&&n.registerRemovedElement(g),n.push(Ra.create(i,h.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const i={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new C(D.ErrInvalidObjectKey,"key must not contain the '.'.");const h=n.issueTimeTicket(),g=ec(n,c,h);i[l]=g}return i}static deleteInternal(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByKey(i,l);c&&(n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function W1(s,n){const e=new Kt(s,n);return new Proxy(n,e.getHandlers())}function tw(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function ew(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Kt{constructor(n,e){d(this,"context");d(this,"handlers");d(this,"array");this.context=n,this.array=e,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?h=>{const g=i.getByID(h);if(!(!g||g.isRemoved()))return Ki(n,g)}:l==="getElementByIndex"?h=>{const g=i.get(h);return Ki(n,g)}:l==="getLast"?()=>Ki(n,i.getLast()):l==="deleteByID"?h=>{const g=Kt.deleteInternalByID(n,i,h);return Ki(n,g)}:l==="insertAfter"?(h,g)=>{const p=Kt.insertAfterInternal(n,i,h,g);return Ki(n,p)}:l==="insertBefore"?(h,g)=>{const p=Kt.insertBeforeInternal(n,i,h,g);return Ki(n,p)}:l==="moveBefore"?(h,g)=>{Kt.moveBeforeInternal(n,i,h,g)}:l==="moveAfter"?(h,g)=>{Kt.moveAfterInternal(n,i,h,g)}:l==="moveFront"?h=>{Kt.moveFrontInternal(n,i,h)}:l==="moveLast"?h=>{Kt.moveLastInternal(n,i,h)}:tw(l)?wa(n,i.get(Number(l))):l==="push"?h=>Kt.pushInternal(n,i,h):l==="splice"?(h,g,...p)=>Kt.splice(n,i,h,g,...p):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?Kt.iteratorInternal.bind(this,n,i):l==="includes"?(h,g)=>Kt.includes(n,i,h,g):l==="indexOf"?(h,g)=>Kt.indexOf(n,i,h,g):l==="lastIndexOf"?(h,g)=>Kt.lastIndexOf(n,i,h,g):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>Kt.toTestString(i):typeof l=="string"&&ew(l)?(...h)=>{const g=Array.from(i).map(p=>wa(n,p));return Array.prototype[l].apply(g,h)}:Reflect.get(i,l,c),deleteProperty:(i,l)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`array[${l}]`),Kt.deleteInternalByIndex(n,i,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const i of e)yield Ki(n,i)}static buildArrayElements(n,e){const i=[];for(const l of e){const c=n.issueTimeTicket(),h=ec(n,l,c);i.push(h)}return i}static pushInternal(n,e,i){return Kt.insertAfterInternal(n,e,e.getLastCreatedAt(),i),e.length}static moveBeforeInternal(n,e,i,l){const c=n.issueTimeTicket(),h=e.getPrevCreatedAt(i);e.moveAfter(h,l,c),n.push(Xi.create(e.getCreatedAt(),h,l,c))}static moveAfterInternal(n,e,i,l){const c=n.issueTimeTicket();e.moveAfter(i,l,c),n.push(Xi.create(e.getCreatedAt(),i,l,c))}static moveFrontInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),i,l),n.push(Xi.create(e.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(n,e,i){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,i,l),n.push(Xi.create(e.getCreatedAt(),c,i,l))}static insertAfterInternal(n,e,i,l){const c=n.issueTimeTicket(),h=ec(n,l,c);return e.insertAfter(i,h),n.registerElement(h,e),n.push(el.create(e.getCreatedAt(),i,h.deepcopy(),c)),h}static insertBeforeInternal(n,e,i,l){return Kt.insertAfterInternal(n,e,e.getPrevCreatedAt(i),l)}static deleteInternalByIndex(n,e,i){const l=n.issueTimeTicket(),c=e.deleteByIndex(i,l);if(c)return n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,i){const l=n.issueTimeTicket(),c=e.delete(i,l);return n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,i,l,...c){const h=e.length,g=i>=0?Math.min(i,h):Math.max(h+i,0),p=l===void 0?h:l<0?g:Math.min(g+l,h),y=[];for(let b=g;b<p;b++){const E=Kt.deleteInternalByIndex(n,e,g);if(E){const I=E.deepcopy();I.setRemovedAt(),y.push(wa(n,I))}}if(c){let b=g===0?e.getHead().getID():e.get(g-1).getID();for(const E of c)b=Kt.insertAfterInternal(n,e,b,E).getID()}return y}static includes(n,e,i,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return!1;if(Xt.isSupport(i))return Array.from(e).map(y=>wa(n,y)).includes(i,h);for(let p=h;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===i.getID())return!0;return!1}static indexOf(n,e,i,l){var g;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return-1;if(Xt.isSupport(i))return Array.from(e).map(y=>wa(n,y)).indexOf(i,h);for(let p=h;p<c;p++)if(((g=e.get(p))==null?void 0:g.getID())===i.getID())return p;return-1}static lastIndexOf(n,e,i,l){var g;const c=e.length,h=l===void 0||l>=c?c-1:l<0?l+c:l;if(h<0)return-1;if(Xt.isSupport(i))return Array.from(e).map(y=>wa(n,y)).lastIndexOf(i,h);for(let p=h;p>0;p--)if(((g=e.get(p))==null?void 0:g.getID())===i.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Id{constructor(n,e){d(this,"context");d(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,i,l){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);nt.isEnabled(Re.Debug)&&nt.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${i}`);const h=l?Rs(l):void 0,g=this.context.issueTimeTicket(),[p,,y,b]=this.text.edit(c,i,g,h);for(const E of y)this.context.registerGCPair(E);return this.context.push(new nl(this.text.getCreatedAt(),c[0],c[1],p,i,h?new Map(Object.entries(h)):new Map,g)),this.text.findIndexesFromRange(b)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,i){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);nt.isEnabled(Re.Debug)&&nt.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=Rs(i),h=this.context.issueTimeTicket(),[g,p]=this.text.setStyle(l,c,h);for(const y of p)this.context.registerGCPair(y);return this.context.push(new rl(this.text.getCreatedAt(),l[0],l[1],g,new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Dn.fromStruct(n[0]),Dn.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new C(D.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let Md=class{constructor(n,e){d(this,"valueType");d(this,"value");d(this,"context");d(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new C(D.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),i=Xt.of(n,e);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(Ms.create(this.counter.getCreatedAt(),i,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new C(D.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function zd(s,n,e){const{type:i}=s,l=e.issueTimeTicket();if(i===gi){I0(s);const{value:c}=s,h=Ge.create(me.of(l,0),i,c);n.append(h)}else{const{children:c=[]}=s,{attributes:h}=s;let g;if(typeof h=="object"&&!r0(h)){const y=Rs(h);g=new pi;for(const[b,E]of Object.entries(y))g.set(b,E,l)}const p=Ge.create(me.of(l,0),i,void 0,g);n.append(p);for(const y of c)zd(y,p,e)}}function nw(s,n){const{type:e}=n,i=s.issueTimeTicket();let l;if(n.type===gi){const{value:c}=n;l=Ge.create(me.of(i,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:h}=n;let g;if(typeof h=="object"&&!r0(h)){const p=Rs(h);g=new pi;for(const[y,b]of Object.entries(p))g.set(y,b,i)}l=Ge.create(me.of(s.issueTimeTicket(),0),e,void 0,g);for(const p of c)zd(p,l,s)}return l}function I0(s){if(!s.value.length)throw new C(D.ErrInvalidArgument,"text node cannot have empty value");return!0}function Ev(s){if(!s.length)return!0;if(s[0].type===gi)for(const e of s){const{type:i}=e;if(i!==gi)throw new C(D.ErrInvalidArgument,"element node and text node cannot be passed together");I0(e)}else for(const e of s){const{type:i}=e;if(i===gi)throw new C(D.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Ud{constructor(n){d(this,"initialRoot");d(this,"context");d(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ge.create(me.of(n.issueTimeTicket(),0),WA);const e=Ge.create(me.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)zd(i,e,n);return e}getSize(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(n,e){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(D.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),h=e?Rs(e):void 0,[g]=this.tree.style([i,l],h,c);this.context.push(mi.create(this.tree.getCreatedAt(),i,l,g,h?new Map(Object.entries(h)):new Map,c))}style(n,e,i){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),g=i?Rs(i):void 0,[p,y]=this.tree.style([l,c],g,h);for(const b of y)this.context.registerGCPair(b);this.context.push(mi.create(this.tree.getCreatedAt(),l,c,p,g?new Map(Object.entries(g)):new Map,h))}removeStyle(n,e,i){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),[g,p]=this.tree.removeStyle([l,c],i,h);for(const y of p)this.context.registerGCPair(y);this.context.push(mi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,g,i,h))}editInternal(n,e,i,l=0){var y;if(i.length!==0&&i[0]&&(Ev(i),i[0].type!==gi))for(const b of i){const{children:E=[]}=b;Ev(E)}const c=this.context.getLastTimeTicket();let h=new Array;if(((y=i[0])==null?void 0:y.type)===gi){let b="";for(const E of i){const{value:I}=E;b+=I}h.push(Ge.create(me.of(this.context.issueTimeTicket(),0),gi,b))}else h=i.map(b=>b&&nw(this.context,b)).filter(b=>b);const[,g,p]=this.tree.edit([n,e],h.length?h.map(b=>b==null?void 0:b.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());for(const b of g)this.context.registerGCPair(b);return this.context.push(il.create(this.tree.getCreatedAt(),n,e,h.length?h:void 0,l,p,c)),!0}editByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(D.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(D.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,i?[i]:[],l)}editBulkByPath(n,e,i,l=0){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(D.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(D.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,i,l)}edit(n,e,i,l=0){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,i?[i]:[],l)}editBulk(n,e,i,l=0){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(D.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,i,l)}toXML(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(e);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");const e=[Nn.fromStruct(n[0]),Nn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new C(D.ErrNotInitialized,"Tree is not initialized yet");const e=[Nn.fromStruct(n[0]),Nn.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function Nv(s,n){return k0(s,n)}function Ki(s,n){if(n){if(n instanceof Xt)return n;if(n instanceof ke)return k0(s,n);if(n instanceof Ke)return W1(s,n);if(n instanceof pn)return new Id(s,n);if(n instanceof $e){const e=new Md(Xn.Int,0);return e.initialize(s,n),e}else if(n instanceof vn){const e=new Ud;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function wa(s,n){const e=Ki(s,n);return e instanceof Xt?e.getValue():e}function ec(s,n,e){let i;if(Xt.isSupport(n))i=Xt.of(n,e);else if(Array.isArray(n))i=Ke.create(e,Kt.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Id?(i=pn.create(Is.create(),e),n.initialize(s,i)):n instanceof Md?(i=$e.create(n.getValueType(),n.getValue(),e),n.initialize(s,i)):n instanceof Ud?(i=vn.create(n.buildRoot(s),e),n.initialize(s,i)):i=ke.create(e,Wo.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}const xv=50;class rw{constructor(){d(this,"undoStack",[]);d(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=xv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=xv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const iw="yorkie-devtools-panel",aw="yorkie-devtools-sdk";function sw(s){return[ge.StatusChanged,ge.Snapshot,ge.LocalChange,ge.RemoteChange,ge.Initialized,ge.Watched,ge.Unwatched,ge.PresenceChanged].includes(s.type)}function ow(s){return s.every(sw)}let bs="disconnected";const Dv=new Map,Ru=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ru);function Eu(s,n){(n!=null&&n.force||bs!=="disconnected")&&window.postMessage({source:aw,...s},"*")}function lw(s){if(!s.isEnableDevtools()||typeof window>"u"||Dv.has(s.getKey()))return;Ru.set(s.getKey(),[]);const n=s.subscribe("all",e=>{ow(e)&&(Ru.get(s.getKey()).push(e),bs==="synced"&&Eu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Dv.set(s.getKey(),[n]),Eu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==iw)return;switch(e.data.msg){case"devtools::connect":if(bs!=="disconnected")break;bs="connected",Eu({msg:"doc::available",docKey:s.getKey()}),nt.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":bs="disconnected",nt.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":bs="synced",Eu({msg:"doc::sync::full",docKey:s.getKey(),events:Ru.get(s.getKey())}),nt.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var $i=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))($i||{}),ge=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ge||{}),Ba=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Ba||{}),dd=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(dd||{});class M0{constructor(n,e){d(this,"key");d(this,"status");d(this,"opts");d(this,"changeID");d(this,"checkpoint");d(this,"localChanges");d(this,"root");d(this,"clone");d(this,"eventStream");d(this,"eventStreamObserver");d(this,"onlineClients");d(this,"presences");d(this,"history");d(this,"internalHistory");d(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=Fo.create(),this.changeID=l1,this.checkpoint=u1,this.localChanges=[],this.eventStream=F1(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new rw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},lw(this)}update(n,e){if(this.getStatus()==="removed")throw new C(D.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=As.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},e);try{const c=Nv(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(c,new zh(l,this.clone.presences.get(i)))}catch(c){throw this.clone=void 0,c}finally{this.isUpdating=!1}if(l.hasChange()){nt.isEnabled(Re.Trivial)&&nt.trivial(`trying to update a local change: ${this.toJSON()}`);const c=l.getChange(),{opInfos:h,reverseOps:g}=c.execute(this.root,this.presences,Ut.Local),p=l.getReversePresence();p&&g.push({type:"presence",value:p}),this.localChanges.push(c),g.length>0&&this.internalHistory.pushUndo(g),h.length>0&&this.internalHistory.clearRedo(),this.changeID=c.getID();const y=[];h.length>0&&y.push({type:"local-change",source:Ut.Local,value:{message:c.getMessage()||"",operations:h,actor:i,clientSeq:c.getID().getClientSeq(),serverSeq:c.getID().getServerSeq()},rawChange:this.isEnableDevtools()?c.toStruct():void 0}),c.hasPresenceChange()&&y.push({type:"presence-changed",source:Ut.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(y),nt.isEnabled(Re.Trivial)&&nt.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,i,l){if(typeof n=="string"){if(typeof e!="function")throw new C(D.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||g(y)},i,l)}if(n==="my-presence"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||g(y)},i,l)}if(n==="others"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&g(y)},i,l)}if(n==="connection"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="connection-changed"&&g(y)},i,l)}if(n==="status"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="status-changed"&&g(y)},i,l)}if(n==="sync"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="sync-status-changed"&&g(y)},i,l)}if(n==="local-broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="local-broadcast"&&g(y)},i)}if(n==="broadcast"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="broadcast"&&g(y)},i)}if(n==="auth-error"){const g=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="auth-error"&&g(y)},i)}if(n==="all"){const g=e;return this.eventStream.subscribe(g,i,l)}const c=n,h=e;return this.eventStream.subscribe(g=>{for(const p of g){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const y=[];for(const b of p.value.operations)this.isSameElementOrChildOf(b.path,c)&&y.push(b);y.length&&h({...p,value:{...p.value,operations:y}})}},i,l)}if(typeof n=="function"){const c=n,h=e,g=i;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,g)}throw new C(D.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const i=n.split(".");return e.split(".").every((c,h)=>c===i[h])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),Ut.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),nt.isEnabled(Re.Trivial)&&nt.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:wn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return oc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=As.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Nv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,i,l=-1){const{root:c,presences:h}=Ft.bytesToSnapshot(i);this.root=new Fo(c),this.presences=h,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Ut.Local),this.publish([{type:"snapshot",source:Ut.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Ft.bytesToHex(i):void 0,snapshotVector:Ft.versionVectorToHex(e)}}])}applyChanges(n,e){nt.isEnabled(Re.Debug)&&nt.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),nt.isEnabled(Re.Trivial)&&nt.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,e);nt.isEnabled(Re.Debug)&&nt.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const i=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const h=n.getPresenceChange();switch(h.type){case ta.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:h.presence}}:{type:"watched",source:Ut.Remote,value:{clientID:l,presence:h.presence}});break;case ta.Clear:i.push({type:"unwatched",source:Ut.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const h=this.isEnableDevtools()?n.toStruct():void 0;i.push(e===Ut.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h})}i.length>0&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,i=new Set;for(const l of e)l!==this.changeID.getActorID()&&i.add(l);this.setOnlineClients(i),this.publish([{type:"initialized",source:Ut.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:i}=n.body.value,l=[];if(e===Da.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&l.push({type:"watched",source:Ut.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(e===Da.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&l.push({type:"unwatched",source:Ut.Remote,value:{clientID:i,presence:c}})}else if(e===Da.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:h}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:i,topic:c,payload:JSON.parse(g.decode(h))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(ac),this.publish([{source:n==="removed"?Ut.Remote:Ut.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:i,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(i),Ft.hexToVersionVector(l),Ft.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=ks.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:i,presence:l}of n.value)e.add(i),this.presences.set(i,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:i}=n.value;this.addOnlineClient(e),this.presences.set(e,i);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:i}=n.value;this.presences.set(e,i)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new C(D.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let i=this.getRoot();for(const l of e)if(i=i[l],i===void 0)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?wn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?wn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?wn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:wn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:wn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,i)=>e.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(n){const i=this.changeID.getVersionVector().filter(n);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new C(D.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new C(D.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=As.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof On)){new zh(e,wn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();y.setExecutedAt(b),e.push(y)}const i=e.getChange();i.execute(this.clone.root,this.clone.presences,Ut.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,Ut.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushRedo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Ut.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:Ut.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}redo(){if(this.isUpdating)throw new C(D.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new C(D.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=As.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof On)){new zh(e,wn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();y.setExecutedAt(b),e.push(y)}const i=e.getChange();i.execute(this.clone.root,this.clone.presences,Ut.UndoRedo);const{opInfos:l,reverseOps:c}=i.execute(this.root,this.presences,Ut.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushUndo(c),!i.hasPresenceChange()&&l.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const g=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Ut.UndoRedo,value:{message:i.getMessage()||"",operations:l,actor:g,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&p.push({type:"presence-changed",source:Ut.UndoRedo,value:{clientID:g,presence:this.getPresence(g)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,i){const l={type:"local-broadcast",value:{topic:n,payload:e},options:i};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function uw(s,n){let e=n;return{authInterceptor:c=>async h=>(s&&h.header.set("x-api-key",s),e&&h.header.set("authorization",e),await c(h)),setToken:c=>{e=c}}}const cw="@yorkie-js/sdk",fw="0.6.8",Ov={name:cw,version:fw};function hw(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",Ov.name+"/"+Ov.version),await n(e))}const dw=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var Bu=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Bu||{});const Lo={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Jh={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class z0{constructor(n){d(this,"id");d(this,"key");d(this,"metadata");d(this,"status");d(this,"attachmentMap");d(this,"apiKey");d(this,"authTokenInjector");d(this,"conditions");d(this,"syncLoopDuration");d(this,"reconnectStreamDelay");d(this,"retrySyncLoopDelay");d(this,"rpcClient");d(this,"setAuthToken");d(this,"taskQueue");d(this,"processing",!1);d(this,"keepalive",!1);n=n||Lo;const e=n.rpcAddr||Lo.rpcAddr;this.key=n.key||B0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Lo.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Lo.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Lo.retrySyncLoopDelay;const{authInterceptor:i,setToken:l}=uw(this.apiKey);this.setAuthToken=l,this.rpcClient=bA(PA,jA({baseUrl:e,interceptors:[i,hw(n==null?void 0:n.userAgent)],fetch:(c,h)=>{const g={...h,keepalive:this.keepalive};return fetch(c,g)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),nt.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw nt.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),nt.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw nt.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=e();return this.keepalive=!1,i}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==$i.Detached)throw new C(D.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,h)=>h.set(e.initialPresence||{}));const i=n.subscribe("local-broadcast",async c=>{var b;const{topic:h,payload:g}=c.value,p=(b=c.options)==null?void 0:b.error,y=c.options;try{await this.broadcast(n.getKey(),h,g,y)}catch(E){E instanceof Error&&(p==null||p(E))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ft.toChangePack(n.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Ft.fromChangePack(c.changePack);if(n.applyChangePack(h),n.getStatus()===$i.Removed)return n;n.applyStatus($i.Attached),this.attachmentMap.set(n.getKey(),new Q1(this.reconnectStreamDelay,n,c.documentId,l,i)),l!=="manual"&&await this.runWatchLoop(n.getKey()),nt.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const g=n.getRootObject();if(e.initialRoot){const p=e.initialRoot;n.update(y=>{for(const[b,E]of Object.entries(p))if(!g.has(b)){const I=b;y[I]=E}})}return n}catch(c){throw nt.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new C(D.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,h)=>h.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Ft.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Ft.fromChangePack(c.changePack);return n.applyChangePack(h),n.getStatus()!==$i.Removed&&n.applyStatus($i.Detached),this.detachInternal(n.getKey()),nt.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw nt.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new C(D.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=i.syncMode;return l===e?n:(i.changeSyncMode(e),e==="manual"?(i.cancelWatchStream(),n):(e==="realtime"&&(i.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(D.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async i=>{throw nt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const e=[];for(const[,i]of this.attachmentMap)e.push(this.syncInternal(i,i.syncMode));return Promise.all(e).catch(async i=>{throw nt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(D.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=Ft.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Ft.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),nt.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw nt.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,i,l){if(!this.isActive())throw new C(D.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new C(D.ErrDocumentNotAttached,`${n} is not attached`);if(!dw(i))throw new C(D.ErrInvalidArgument,"payload is not serializable");const h=(l==null?void 0:l.maxRetries)??Jh.maxRetries,g=Jh.maxBackoff;let p=0;const y=E=>Math.min(Jh.initialRetryInterval*2**E,g),b=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),nt.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(E){if(nt.error(`[BC] c:"${this.getKey()}" err:`,E),await this.handleConnectError(E))if(E instanceof Dt&&Gi(E)===D.ErrUnauthenticated&&c.doc.publish([{type:ge.AuthError,value:{reason:qo(E).reason,method:"Broadcast"}}]),p<h)p++,setTimeout(()=>b(),y(p-1)),nt.info(`[BC] c:"${this.getKey()}" retry attempt ${p}/${h}`);else throw nt.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),E;else throw E}});return b()}runSyncLoop(){const n=()=>{if(!this.isActive()){nt.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,e.push(this.syncInternal(i,i.syncMode).catch(async l=>{throw l instanceof Dt&&Gi(l)===D.ErrUnauthenticated&&i.doc.publish([{type:ge.AuthError,value:{reason:qo(l).reason,method:"PushPull"}}]),l})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async i=>{nt.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};nt.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new C(D.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new C(D.ErrClientNotActivated,`${this.key} is not active`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:ge.ConnectionChanged,value:Ba.Connected}]),nt.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((h,g)=>{(async()=>{try{for await(const y of c)this.handleWatchDocumentsResponse(e,y),y.body.case==="initialization"&&h([c,l])}catch(y){e.doc.resetOnlineClients(),e.doc.publish([{type:ge.Initialized,source:Ut.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:ge.ConnectionChanged,value:Ba.Disconnected}]),nt.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(y)?(y instanceof Dt&&Gi(y)===D.ErrUnauthenticated&&e.doc.publish([{type:ge.AuthError,value:{reason:qo(y).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,g(y)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Da.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus($i.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:i,docID:l}=n,c=i.createChangePack();try{const h=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Ft.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),g=Ft.fromChangePack(h.changePack);if(g.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return i;i.applyChangePack(g),n.doc.publish([{type:ge.SyncStatusChanged,value:dd.Synced}]),i.getStatus()===$i.Removed&&this.detachInternal(i.getKey());const p=i.getKey(),y=g.getChangeSize();return nt.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${c.getChangeSize()} pull:${y} cp:${g.getCheckpoint().toTestString()}`),i}catch(h){throw i.publish([{type:ge.SyncStatusChanged,value:dd.SyncFailed}]),nt.error(`[PP] c:"${this.getKey()}" err :`,h),h}}async handleConnectError(n){if(!(n instanceof Dt))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(Gi(n)===D.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(qo(n).reason);this.setAuthToken(e)}return!0}return Gi(n)===D.ErrTooManySubscribers?(nt.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Gi(n)===D.ErrTooManyAttachments||(Gi(n)===D.ErrClientNotActivated||Gi(n)===D.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,i)=>{this.taskQueue.push(()=>n().then(e).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{nt.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Xn.Int,Xn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:z0,Document:M0,Primitive:Xt,Text:Id,Counter:Md,Tree:Ud,LogLevel:Re,setLogLevel:Z1,IntType:Xn.Int,LongType:Xn.Long});const U0=Pt.createContext({client:void 0,loading:!0,error:void 0});function gw(s){const[n,e]=Pt.useState(void 0),[i,l]=Pt.useState(!0),[c,h]=Pt.useState(void 0),[g,p]=Pt.useState(!1);return Pt.useEffect(()=>{p(!0)},[]),Pt.useEffect(()=>{l(!0),h(void 0);async function y(){if(g)try{const b=new z0(s);await b.activate(),e(b)}catch(b){h(b instanceof Error?b:new Error("Failed to activate client"))}finally{l(!1)}}return y(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:i,error:c}}const mw=({children:s,...n})=>{const e=Pt.useMemo(()=>({userAgent:Jp.name+"/"+Jp.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:l,error:c}=gw(e);return Rt.jsx(U0.Provider,{value:{client:i,loading:l,error:c},children:s})},yw=()=>{const s=Pt.useContext(U0);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function pw(s,n,e,i,l,c){const[h,g]=Pt.useState(),[p,y]=Pt.useState(!0),[b,E]=Pt.useState(),[I,k]=Pt.useState(l),[q,j]=Pt.useState([]),[Y,F]=Pt.useState(Ba.Disconnected);Pt.useEffect(()=>{if(e){y(!1),E(e);return}if(!s||n){y(!0);return}y(!0),E(void 0);const Q=new M0(i),mt=[];mt.push(Q.subscribe(()=>{k(Q.getRoot())})),mt.push(Q.subscribe("presence",()=>{j(Q.getPresences())})),mt.push(Q.subscribe("connection",st=>{F(st.value)}));async function K(){try{await(s==null?void 0:s.attach(Q,{initialRoot:l,initialPresence:c})),g(Q),k(Q.getRoot()),j(Q.getPresences())}catch(st){E(st instanceof Error?st:new Error("Failed to attach document"))}finally{y(!1)}}return K(),()=>{s&&s.hasDocument(i)&&s.detach(Q);for(const st of mt)st()}},[s,n,e,i]);const ut=Pt.useCallback(Q=>{if(h)try{h.update(Q)}catch(mt){E(mt instanceof Error?mt:new Error("Failed to update document"))}},[h]);return{doc:h,root:I,presences:q,connection:Y,update:ut,loading:p,error:b}}const lc=Pt.createContext(null),vw=({docKey:s,initialRoot:n={},initialPresence:e={},children:i})=>{const{client:l,loading:c,error:h}=yw(),{doc:g,root:p,presences:y,connection:b,update:E,loading:I,error:k}=pw(l,c,h,s,n,e);return Rt.jsx(lc.Provider,{value:{doc:g,root:p,presences:y,connection:b,update:E,loading:I,error:k},children:i})},Sw=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{doc:s.doc,root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},bw=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},L0=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function Tw(){const s=L0();return Rt.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===Ba.Connected?Rt.jsx("span",{className:"green",children:" "}):Rt.jsx("span",{className:"red",children:" "})]})}function Aw(){const s=bw();return Rt.jsx("div",{id:"peers-container",children:Rt.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Rt.jsxs(hT.Fragment,{children:[Rt.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Rt.jsx("span",{children:", "})]},n.clientID))]})})}function ww(){const{root:s,update:n,loading:e,error:i}=Sw(),l=L0();return e?Rt.jsx("p",{children:"Loading..."}):i?Rt.jsxs("div",{id:"error",children:[Rt.jsxs("p",{children:["Error Name: ",i.name]}),Rt.jsxs("p",{children:["Error Message: ",i.message]})]}):Rt.jsxs("div",{className:"counter-side",children:[Rt.jsx(Tw,{}),Rt.jsx(Aw,{}),Rt.jsxs("div",{id:"counter-container",children:[Rt.jsx("h1",{id:"counter",children:"Counter"}),Rt.jsx("div",{id:"counter-value",children:s.counter}),Rt.jsx("button",{id:"increment",disabled:l===Ba.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),Rt.jsx("div",{id:"error",children:l===Ba.Disconnected&&Rt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function Ew(){return Rt.jsx(mw,{apiKey:"",rpcAddr:"http://localhost:8080",children:Rt.jsx("div",{className:"page-container",children:Rt.jsx(vw,{docKey:"react-document-limit",initialRoot:{counter:0},children:Rt.jsx(ww,{})})})})}ST.createRoot(document.getElementById("root")).render(Rt.jsx(Pt.StrictMode,{children:Rt.jsx(Ew,{})}));
