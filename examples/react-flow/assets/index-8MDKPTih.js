(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function SA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wh={exports:{}},Wo={};var Bv;function Kx(){if(Bv)return Wo;Bv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:a,key:c,ref:o!==void 0?o:null,props:u}}return Wo.Fragment=e,Wo.jsx=i,Wo.jsxs=i,Wo}var Lv;function Hx(){return Lv||(Lv=1,Wh.exports=Kx()),Wh.exports}var $=Hx(),Xh={exports:{}},Xo={},Kh={exports:{}},Hh={};var zv;function Fx(){return zv||(zv=1,(function(t){function e(T,O){var Y=T.length;T.push(O);e:for(;0<Y;){var H=Y-1>>>1,re=T[H];if(0<o(re,O))T[H]=O,T[Y]=re,Y=H;else break e}}function i(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var O=T[0],Y=T.pop();if(Y!==O){T[0]=Y;e:for(var H=0,re=T.length,C=re>>>1;H<C;){var L=2*(H+1)-1,ee=T[L],ie=L+1,fe=T[ie];if(0>o(ee,Y))ie<re&&0>o(fe,ee)?(T[H]=fe,T[ie]=Y,H=ie):(T[H]=ee,T[L]=Y,H=L);else if(ie<re&&0>o(fe,Y))T[H]=fe,T[ie]=Y,H=ie;else break e}}return O}function o(T,O){var Y=T.sortIndex-O.sortIndex;return Y!==0?Y:T.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],h=[],p=1,y=null,v=3,S=!1,E=!1,A=!1,I=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(T){for(var O=i(h);O!==null;){if(O.callback===null)a(h);else if(O.startTime<=T)a(h),O.sortIndex=O.expirationTime,e(m,O);else break;O=i(h)}}function V(T){if(A=!1,R(T),!E)if(i(m)!==null)E=!0,B||(B=!0,te());else{var O=i(h);O!==null&&K(V,O.startTime-T)}}var B=!1,M=-1,X=5,q=-1;function de(){return I?!0:!(t.unstable_now()-q<X)}function ne(){if(I=!1,B){var T=t.unstable_now();q=T;var O=!0;try{e:{E=!1,A&&(A=!1,U(M),M=-1),S=!0;var Y=v;try{t:{for(R(T),y=i(m);y!==null&&!(y.expirationTime>T&&de());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var re=H(y.expirationTime<=T);if(T=t.unstable_now(),typeof re=="function"){y.callback=re,R(T),O=!0;break t}y===i(m)&&a(m),R(T)}else a(m);y=i(m)}if(y!==null)O=!0;else{var C=i(h);C!==null&&K(V,C.startTime-T),O=!1}}break e}finally{y=null,v=Y,S=!1}O=void 0}}finally{O?te():B=!1}}}var te;if(typeof N=="function")te=function(){N(ne)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,_=le.port2;le.port1.onmessage=ne,te=function(){_.postMessage(null)}}else te=function(){x(ne,0)};function K(T,O){M=x(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(T){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var Y=v;v=O;try{return T()}finally{v=Y}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Y=v;v=T;try{return O()}finally{v=Y}},t.unstable_scheduleCallback=function(T,O,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,T={id:p++,callback:O,priorityLevel:T,startTime:Y,expirationTime:re,sortIndex:-1},Y>H?(T.sortIndex=Y,e(h,T),i(m)===null&&T===i(h)&&(A?(U(M),M=-1):A=!0,K(V,Y-H))):(T.sortIndex=re,e(m,T),E||S||(E=!0,B||(B=!0,te()))),T},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(T){var O=v;return function(){var Y=v;v=O;try{return T.apply(this,arguments)}finally{v=Y}}}})(Hh)),Hh}var Uv;function Jx(){return Uv||(Uv=1,Kh.exports=Fx()),Kh.exports}var Fh={exports:{}},Re={};var Yv;function jx(){if(Yv)return Re;Yv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function x(C,L,ee){this.props=C,this.context=L,this.refs=I,this.updater=ee||E}x.prototype.isReactComponent={},x.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=x.prototype;function N(C,L,ee){this.props=C,this.context=L,this.refs=I,this.updater=ee||E}var R=N.prototype=new U;R.constructor=N,A(R,x.prototype),R.isPureReactComponent=!0;var V=Array.isArray;function B(){}var M={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function q(C,L,ee){var ie=ee.ref;return{$$typeof:t,type:C,key:L,ref:ie!==void 0?ie:null,props:ee}}function de(C,L){return q(C.type,L,C.props)}function ne(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function te(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return L[ee]})}var le=/\/+/g;function _(C,L){return typeof C=="object"&&C!==null&&C.key!=null?te(""+C.key):L.toString(36)}function K(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(B,B):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function T(C,L,ee,ie,fe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case t:case e:he=!0;break;case p:return he=C._init,T(he(C._payload),L,ee,ie,fe)}}if(he)return fe=fe(C),he=ie===""?"."+_(C,0):ie,V(fe)?(ee="",he!=null&&(ee=he.replace(le,"$&/")+"/"),T(fe,L,ee,"",function(_e){return _e})):fe!=null&&(ne(fe)&&(fe=de(fe,ee+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(le,"$&/")+"/")+he)),L.push(fe)),1;he=0;var ce=ie===""?".":ie+":";if(V(C))for(var me=0;me<C.length;me++)ie=C[me],ge=ce+_(ie,me),he+=T(ie,L,ee,ge,fe);else if(me=S(C),typeof me=="function")for(C=me.call(C),me=0;!(ie=C.next()).done;)ie=ie.value,ge=ce+_(ie,me++),he+=T(ie,L,ee,ge,fe);else if(ge==="object"){if(typeof C.then=="function")return T(K(C),L,ee,ie,fe);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return he}function O(C,L,ee){if(C==null)return C;var ie=[],fe=0;return T(C,ie,"","",function(ge){return L.call(ee,ge,fe++)}),ie}function Y(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var H=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},re={map:O,forEach:function(C,L,ee){O(C,function(){L.apply(this,arguments)},ee)},count:function(C){var L=0;return O(C,function(){L++}),L},toArray:function(C){return O(C,function(L){return L})||[]},only:function(C){if(!ne(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Re.Activity=y,Re.Children=re,Re.Component=x,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=N,Re.StrictMode=a,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Re.__COMPILER_RUNTIME={__proto__:null,c:function(C){return M.H.useMemoCache(C)}},Re.cache=function(C){return function(){return C.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(C,L,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=A({},C.props),fe=C.key;if(L!=null)for(ge in L.key!==void 0&&(fe=""+L.key),L)!X.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(ie[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)ie.children=ee;else if(1<ge){for(var he=Array(ge),ce=0;ce<ge;ce++)he[ce]=arguments[ce+2];ie.children=he}return q(C.type,fe,ie)},Re.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Re.createElement=function(C,L,ee){var ie,fe={},ge=null;if(L!=null)for(ie in L.key!==void 0&&(ge=""+L.key),L)X.call(L,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=L[ie]);var he=arguments.length-2;if(he===1)fe.children=ee;else if(1<he){for(var ce=Array(he),me=0;me<he;me++)ce[me]=arguments[me+2];fe.children=ce}if(C&&C.defaultProps)for(ie in he=C.defaultProps,he)fe[ie]===void 0&&(fe[ie]=he[ie]);return q(C,ge,fe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(C){return{$$typeof:d,render:C}},Re.isValidElement=ne,Re.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:Y}},Re.memo=function(C,L){return{$$typeof:h,type:C,compare:L===void 0?null:L}},Re.startTransition=function(C){var L=M.T,ee={};M.T=ee;try{var ie=C(),fe=M.S;fe!==null&&fe(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(B,H)}catch(ge){H(ge)}finally{L!==null&&ee.types!==null&&(L.types=ee.types),M.T=L}},Re.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Re.use=function(C){return M.H.use(C)},Re.useActionState=function(C,L,ee){return M.H.useActionState(C,L,ee)},Re.useCallback=function(C,L){return M.H.useCallback(C,L)},Re.useContext=function(C){return M.H.useContext(C)},Re.useDebugValue=function(){},Re.useDeferredValue=function(C,L){return M.H.useDeferredValue(C,L)},Re.useEffect=function(C,L){return M.H.useEffect(C,L)},Re.useEffectEvent=function(C){return M.H.useEffectEvent(C)},Re.useId=function(){return M.H.useId()},Re.useImperativeHandle=function(C,L,ee){return M.H.useImperativeHandle(C,L,ee)},Re.useInsertionEffect=function(C,L){return M.H.useInsertionEffect(C,L)},Re.useLayoutEffect=function(C,L){return M.H.useLayoutEffect(C,L)},Re.useMemo=function(C,L){return M.H.useMemo(C,L)},Re.useOptimistic=function(C,L){return M.H.useOptimistic(C,L)},Re.useReducer=function(C,L,ee){return M.H.useReducer(C,L,ee)},Re.useRef=function(C){return M.H.useRef(C)},Re.useState=function(C){return M.H.useState(C)},Re.useSyncExternalStore=function(C,L,ee){return M.H.useSyncExternalStore(C,L,ee)},Re.useTransition=function(){return M.H.useTransition()},Re.version="19.2.1",Re}var Zv;function Dl(){return Zv||(Zv=1,Fh.exports=jx()),Fh.exports}var Jh={exports:{}},Gt={};var Gv;function $x(){if(Gv)return Gt;Gv=1;var t=Dl();function e(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gt.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(m,h,null,p)},Gt.flushSync=function(m){var h=c.T,p=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=h,a.p=p,a.d.f()}},Gt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Gt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Gt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):p==="script"&&a.d.X(m,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Gt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin);a.d.L(m,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gt.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=d(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Gt.requestFormReset=function(m){a.d.r(m)},Gt.unstable_batchedUpdates=function(m,h){return m(h)},Gt.useFormState=function(m,h,p){return c.H.useFormState(m,h,p)},Gt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Gt.version="19.2.1",Gt}var kv;function AA(){if(kv)return Jh.exports;kv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jh.exports=$x(),Jh.exports}var Wv;function Px(){if(Wv)return Xo;Wv=1;var t=Jx(),e=Dl(),i=AA();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(a(188))}function h(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,l=r;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return m(f),n;if(g===l)return m(f),r;g=g.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=g;else{for(var b=!1,w=f.child;w;){if(w===s){b=!0,s=f,l=g;break}if(w===l){b=!0,l=f,s=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===s){b=!0,s=g,l=f;break}if(w===l){b=!0,l=g,s=f;break}w=w.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var le=Symbol.for("react.client.reference");function _(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case x:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case N:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case R:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:_(n.type)||"Memo";case X:r=n._payload,n=n._init;try{return _(n(r))}catch{}}return null}var K=Array.isArray,T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},H=[],re=-1;function C(n){return{current:n}}function L(n){0>re||(n.current=H[re],H[re]=null,re--)}function ee(n,r){re++,H[re]=n.current,n.current=r}var ie=C(null),fe=C(null),ge=C(null),he=C(null);function ce(n,r){switch(ee(ge,r),ee(fe,n),ee(ie,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?rv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=rv(r),n=av(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(ie),ee(ie,n)}function me(){L(ie),L(fe),L(ge)}function _e(n){n.memoizedState!==null&&ee(he,n);var r=ie.current,s=av(r,n.type);r!==s&&(ee(fe,n),ee(ie,s))}function Ie(n){fe.current===n&&(L(ie),L(fe)),he.current===n&&(L(he),Yo._currentValue=Y)}var Ne,Te;function Ye(n){if(Ne===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ne=r&&r[1]||"",Te=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+n+Te}var Qe=!1;function qe(n,r){if(!n||Qe)return"";Qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var j=Q}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(Q){j=Q}n.call(oe.prototype)}}else{try{throw Error()}catch(Q){j=Q}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&j&&typeof Q.stack=="string")return[Q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var D=b.split(`
`),J=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===J.length)for(l=D.length-1,f=J.length-1;1<=l&&0<=f&&D[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==J[f]){var ae=`
`+D[l].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=l&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Ye(s):""}function Tt(n,r){switch(n.tag){case 26:case 27:case 5:return Ye(n.type);case 16:return Ye("Lazy");case 13:return n.child!==r&&r!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return qe(n.type,!1);case 11:return qe(n.type.render,!1);case 1:return qe(n.type,!0);case 31:return Ye("Activity");default:return""}}function bn(n){try{var r="",s=null;do r+=Tt(n,s),s=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Bn=Object.prototype.hasOwnProperty,$i=t.unstable_scheduleCallback,Pi=t.unstable_cancelCallback,Zr=t.unstable_shouldYield,Gr=t.unstable_requestPaint,Ot=t.unstable_now,Na=t.unstable_getCurrentPriorityLevel,yi=t.unstable_ImmediatePriority,Qi=t.unstable_UserBlockingPriority,kr=t.unstable_NormalPriority,Tf=t.unstable_LowPriority,xa=t.unstable_IdlePriority,Cf=t.log,Rf=t.unstable_setDisableYieldValue,Wr=null,Kt=null;function ei(n){if(typeof Cf=="function"&&Rf(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Wr,n)}catch{}}var Ht=Math.clz32?Math.clz32:_f,If=Math.log,Df=Math.LN2;function _f(n){return n>>>=0,n===0?32:31-(If(n)/Df|0)|0}var Ta=256,Ca=262144,Ra=4194304;function vi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ia(n,r,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~g,l!==0?f=vi(l):(b&=w,b!==0?f=vi(b):s||(s=w&~n,s!==0&&(f=vi(s))))):(w=l&~g,w!==0?f=vi(w):b!==0?f=vi(b):s||(s=l&~n,s!==0&&(f=vi(s)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,s=r&-r,g>=s||g===32&&(s&4194048)!==0)?r:f}function Xr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Of(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var n=Ra;return Ra<<=1,(Ra&62914560)===0&&(Ra=4194304),n}function js(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Kr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vf(n,r,s,l,f,g){var b=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,J=n.hiddenUpdates;for(s=b&~s;0<s;){var ae=31-Ht(s),oe=1<<ae;w[ae]=0,D[ae]=-1;var j=J[ae];if(j!==null)for(J[ae]=null,ae=0;ae<j.length;ae++){var Q=j[ae];Q!==null&&(Q.lane&=-536870913)}s&=~oe}l!==0&&Xl(n,l,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~r))}function Xl(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Ht(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Kl(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-Ht(s),f=1<<l;f&r|n[l]&r&&(n[l]|=r),s&=~f}}function Hl(n,r){var s=r&-r;return s=(s&42)!==0?1:$s(s),(s&(n.suspendedLanes|r))!==0?0:s}function $s(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ps(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fl(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function Jl(n,r){var s=O.p;try{return O.p=n,r()}finally{O.p=s}}var ti=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ti,Yt="__reactProps$"+ti,bi="__reactContainer$"+ti,Da="__reactEvents$"+ti,jl="__reactListeners$"+ti,Mf="__reactHandles$"+ti,$l="__reactResources$"+ti,Hr="__reactMarker$"+ti;function Qs(n){delete n[Ct],delete n[Yt],delete n[Da],delete n[jl],delete n[Mf]}function qi(n){var r=n[Ct];if(r)return r;for(var s=n.parentNode;s;){if(r=s[bi]||s[Ct]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=dv(n);n!==null;){if(s=n[Ct])return s;n=dv(n)}return r}n=s,s=n.parentNode}return null}function er(n){if(n=n[Ct]||n[bi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function tr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function nr(n){var r=n[$l];return r||(r=n[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(n){n[Hr]=!0}var Pl=new Set,Ql={};function Si(n,r){ir(n,r),ir(n+"Capture",r)}function ir(n,r){for(Ql[n]=r,n=0;n<r.length;n++)Pl.add(r[n])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},ql={};function Lf(n){return Bn.call(ql,n)?!0:Bn.call(qs,n)?!1:Bf.test(n)?ql[n]=!0:(qs[n]=!0,!1)}function _a(n,r,s){if(Lf(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Oa(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function Ln(n,r,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+l)}}function Jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zf(n,r,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){s=""+b,g.call(this,b)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Va(n){if(!n._valueTracker){var r=eu(n)?"checked":"value";n._valueTracker=zf(n,r,""+n[r])}}function tu(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return n&&(l=eu(n)?n.checked?"true":"false":n.value),n=l,n!==s?(r.setValue(n),!0):!1}function Ma(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Uf=/[\n"\\]/g;function Zt(n){return n.replace(Uf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function eo(n,r,s,l,f,g,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),r!=null?b==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Jt(r)):n.value!==""+Jt(r)&&(n.value=""+Jt(r)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),r!=null?Ba(n,b,Jt(r)):s!=null?Ba(n,b,Jt(s)):l!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Jt(w):n.removeAttribute("name")}function nu(n,r,s,l,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Va(n);return}s=s!=null?""+Jt(s):"",r=r!=null?""+Jt(r):s,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Va(n)}function Ba(n,r,s){r==="number"&&Ma(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function La(n,r,s,l){if(n=n.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=r.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Jt(s),r=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function qm(n,r,s){if(r!=null&&(r=""+Jt(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Jt(s):""}function ep(n,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(K(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Jt(r),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Va(n)}function za(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var Zw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(n,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,s):typeof s!="number"||s===0||Zw.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function np(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&tp(n,f,l)}else for(var g in r)r.hasOwnProperty(g)&&tp(n,g,r[g])}function Yf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(n){return kw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ai(){}var Zf=null;function Gf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ua=null,Ya=null;function ip(n){var r=er(n);if(r&&(n=r.stateNode)){var s=n[Yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(eo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==n&&l.form===n.form){var f=l[Yt]||null;if(!f)throw Error(a(90));eo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===n.form&&tu(l)}break e;case"textarea":qm(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&La(n,!!s.multiple,r,!1)}}}var kf=!1;function rp(n,r,s){if(kf)return n(r,s);kf=!0;try{var l=n(r);return l}finally{if(kf=!1,(Ua!==null||Ya!==null)&&(Xu(),Ua&&(r=Ua,n=Ya,Ya=Ua=null,ip(r),n)))for(r=0;r<n.length;r++)ip(n[r])}}function to(n,r){var s=n.stateNode;if(s===null)return null;var l=s[Yt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=!1;if(Ei)try{var no={};Object.defineProperty(no,"passive",{get:function(){Wf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Wf=!1}var rr=null,Xf=null,ru=null;function ap(){if(ru)return ru;var n,r=Xf,s=r.length,l,f="value"in rr?rr.value:rr.textContent,g=f.length;for(n=0;n<s&&r[n]===f[n];n++);var b=s-n;for(l=1;l<=b&&r[s-l]===f[g-l];l++);return ru=f.slice(n,1<l?1-l:void 0)}function au(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function su(){return!0}function sp(){return!1}function jt(n){function r(s,l,f,g,b){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?su:sp,this.isPropagationStopped=sp,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),r}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=jt(Fr),io=y({},Fr,{view:0,detail:0}),Ww=jt(io),Kf,Hf,ro,lu=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ro&&(ro&&n.type==="mousemove"?(Kf=n.screenX-ro.screenX,Hf=n.screenY-ro.screenY):Hf=Kf=0,ro=n),Kf)},movementY:function(n){return"movementY"in n?n.movementY:Hf}}),op=jt(lu),Xw=y({},lu,{dataTransfer:0}),Kw=jt(Xw),Hw=y({},io,{relatedTarget:0}),Ff=jt(Hw),Fw=y({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jw=jt(Fw),jw=y({},Fr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$w=jt(jw),Pw=y({},Fr,{data:0}),lp=jt(Pw),Qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tN(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=eN[n])?!!r[n]:!1}function Jf(){return tN}var nN=y({},io,{key:function(n){if(n.key){var r=Qw[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=au(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(n){return n.type==="keypress"?au(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?au(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),iN=jt(nN),rN=y({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=jt(rN),aN=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),sN=jt(aN),oN=y({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lN=jt(oN),uN=y({},lu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),cN=jt(uN),fN=y({},Fr,{newState:0,oldState:0}),dN=jt(fN),hN=[9,13,27,32],jf=Ei&&"CompositionEvent"in window,ao=null;Ei&&"documentMode"in document&&(ao=document.documentMode);var gN=Ei&&"TextEvent"in window&&!ao,cp=Ei&&(!jf||ao&&8<ao&&11>=ao),fp=" ",dp=!1;function hp(n,r){switch(n){case"keyup":return hN.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function mN(n,r){switch(n){case"compositionend":return gp(r);case"keypress":return r.which!==32?null:(dp=!0,fp);case"textInput":return n=r.data,n===fp&&dp?null:n;default:return null}}function pN(n,r){if(Za)return n==="compositionend"||!jf&&hp(n,r)?(n=ap(),ru=Xf=rr=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cp&&r.locale!=="ko"?null:r.data;default:return null}}var yN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!yN[n.type]:r==="textarea"}function pp(n,r,s,l){Ua?Ya?Ya.push(l):Ya=[l]:Ua=l,r=Pu(r,"onChange"),0<r.length&&(s=new ou("onChange","change",null,s,l),n.push({event:s,listeners:r}))}var so=null,oo=null;function vN(n){Q0(n,0)}function uu(n){var r=tr(n);if(tu(r))return n}function yp(n,r){if(n==="change")return r}var vp=!1;if(Ei){var $f;if(Ei){var Pf="oninput"in document;if(!Pf){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Pf=typeof bp.oninput=="function"}$f=Pf}else $f=!1;vp=$f&&(!document.documentMode||9<document.documentMode)}function Sp(){so&&(so.detachEvent("onpropertychange",Ap),oo=so=null)}function Ap(n){if(n.propertyName==="value"&&uu(oo)){var r=[];pp(r,oo,n,Gf(n)),rp(vN,r)}}function bN(n,r,s){n==="focusin"?(Sp(),so=r,oo=s,so.attachEvent("onpropertychange",Ap)):n==="focusout"&&Sp()}function SN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uu(oo)}function AN(n,r){if(n==="click")return uu(r)}function EN(n,r){if(n==="input"||n==="change")return uu(r)}function wN(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var on=typeof Object.is=="function"?Object.is:wN;function lo(n,r){if(on(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Bn.call(r,f)||!on(n[f],r[f]))return!1}return!0}function Ep(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wp(n,r){var s=Ep(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=r&&l>=r)return{node:s,offset:r-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ep(s)}}function Np(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Np(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function xp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ma(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Ma(n.document)}return r}function Qf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var NN=Ei&&"documentMode"in document&&11>=document.documentMode,Ga=null,qf=null,uo=null,ed=!1;function Tp(n,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ed||Ga==null||Ga!==Ma(l)||(l=Ga,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),uo&&lo(uo,l)||(uo=l,l=Pu(qf,"onSelect"),0<l.length&&(r=new ou("onSelect","select",null,r,s),n.push({event:r,listeners:l}),r.target=Ga)))}function Jr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var ka={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},td={},Cp={};Ei&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function jr(n){if(td[n])return td[n];if(!ka[n])return n;var r=ka[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Cp)return td[n]=r[s];return n}var Rp=jr("animationend"),Ip=jr("animationiteration"),Dp=jr("animationstart"),xN=jr("transitionrun"),TN=jr("transitionstart"),CN=jr("transitioncancel"),_p=jr("transitionend"),Op=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function zn(n,r){Op.set(n,r),Si(r,[n])}var cu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],Wa=0,id=0;function fu(){for(var n=Wa,r=id=Wa=0;r<n;){var s=Sn[r];Sn[r++]=null;var l=Sn[r];Sn[r++]=null;var f=Sn[r];Sn[r++]=null;var g=Sn[r];if(Sn[r++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}g!==0&&Vp(s,f,g)}}function du(n,r,s,l){Sn[Wa++]=n,Sn[Wa++]=r,Sn[Wa++]=s,Sn[Wa++]=l,id|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function rd(n,r,s,l){return du(n,r,s,l),hu(n)}function $r(n,r){return du(n,null,null,r),hu(n)}function Vp(n,r,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,g=n.return;g!==null;)g.childLanes|=s,l=g.alternate,l!==null&&(l.childLanes|=s),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&r!==null&&(f=31-Ht(s),n=g.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=s|536870912),g):null}function hu(n){if(50<Oo)throw Oo=0,hh=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Xa={};function RN(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,r,s,l){return new RN(n,r,s,l)}function ad(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,r){var s=n.alternate;return s===null?(s=ln(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Mp(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function gu(n,r,s,l,f,g){var b=0;if(l=n,typeof n=="function")ad(n)&&(b=1);else if(typeof n=="string")b=Vx(n,s,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=ln(31,s,r,f),n.elementType=q,n.lanes=g,n;case A:return Pr(s.children,f,g,r);case I:b=8,f|=24;break;case x:return n=ln(12,s,r,f|2),n.elementType=x,n.lanes=g,n;case V:return n=ln(13,s,r,f),n.elementType=V,n.lanes=g,n;case B:return n=ln(19,s,r,f),n.elementType=B,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:b=10;break e;case U:b=9;break e;case R:b=11;break e;case M:b=14;break e;case X:b=16,l=null;break e}b=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return r=ln(b,s,r,f),r.elementType=n,r.type=l,r.lanes=g,r}function Pr(n,r,s,l){return n=ln(7,n,l,r),n.lanes=s,n}function sd(n,r,s){return n=ln(6,n,null,r),n.lanes=s,n}function Bp(n){var r=ln(18,null,null,0);return r.stateNode=n,r}function od(n,r,s){return r=ln(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Lp=new WeakMap;function An(n,r){if(typeof n=="object"&&n!==null){var s=Lp.get(n);return s!==void 0?s:(r={value:n,source:r,stack:bn(r)},Lp.set(n,r),r)}return{value:n,source:r,stack:bn(r)}}var Ka=[],Ha=0,mu=null,co=0,En=[],wn=0,ar=null,ni=1,ii="";function Ni(n,r){Ka[Ha++]=co,Ka[Ha++]=mu,mu=n,co=r}function zp(n,r,s){En[wn++]=ni,En[wn++]=ii,En[wn++]=ar,ar=n;var l=ni;n=ii;var f=32-Ht(l)-1;l&=~(1<<f),s+=1;var g=32-Ht(r)+f;if(30<g){var b=f-f%5;g=(l&(1<<b)-1).toString(32),l>>=b,f-=b,ni=1<<32-Ht(r)+f|s<<f|l,ii=g+n}else ni=1<<g|s<<f|l,ii=n}function ld(n){n.return!==null&&(Ni(n,1),zp(n,1,0))}function ud(n){for(;n===mu;)mu=Ka[--Ha],Ka[Ha]=null,co=Ka[--Ha],Ka[Ha]=null;for(;n===ar;)ar=En[--wn],En[wn]=null,ii=En[--wn],En[wn]=null,ni=En[--wn],En[wn]=null}function Up(n,r){En[wn++]=ni,En[wn++]=ii,En[wn++]=ar,ni=r.id,ii=r.overflow,ar=n}var Vt=null,at=null,ke=!1,sr=null,Nn=!1,cd=Error(a(519));function or(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(An(r,n)),cd}function Yp(n){var r=n.stateNode,s=n.type,l=n.memoizedProps;switch(r[Ct]=n,r[Yt]=l,s){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<Mo.length;s++)ze(Mo[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),nu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),ep(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||nv(r.textContent,s)?(l.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),l.onScroll!=null&&ze("scroll",r),l.onScrollEnd!=null&&ze("scrollend",r),l.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||or(n,!0)}function Zp(n){for(Vt=n.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Vt=Vt.return}}function Fa(n){if(n!==Vt)return!1;if(!ke)return Zp(n),ke=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Rh(n.type,n.memoizedProps)),s=!s),s&&at&&or(n),Zp(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));at=fv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));at=fv(n)}else r===27?(r=at,Ar(n.type)?(n=Vh,Vh=null,at=n):at=r):at=Vt?Tn(n.stateNode.nextSibling):null;return!0}function Qr(){at=Vt=null,ke=!1}function fd(){var n=sr;return n!==null&&(qt===null?qt=n:qt.push.apply(qt,n),sr=null),n}function fo(n){sr===null?sr=[n]:sr.push(n)}var dd=C(null),qr=null,xi=null;function lr(n,r,s){ee(dd,r._currentValue),r._currentValue=s}function Ti(n){n._currentValue=dd.current,L(dd)}function hd(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function gd(n,r,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var D=0;D<r.length;D++)if(w.context===r[D]){g.lanes|=s,w=g.alternate,w!==null&&(w.lanes|=s),hd(g.return,s,n),l||(b=null);break e}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(a(341));b.lanes|=s,g=b.alternate,g!==null&&(g.lanes|=s),hd(b,s,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ja(n,r,s,l){n=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var w=f.type;on(f.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(f===he.current){if(b=f.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yo):n=[Yo])}f=f.return}n!==null&&gd(r,n,s,l),r.flags|=262144}function pu(n){for(n=n.firstContext;n!==null;){if(!on(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ea(n){qr=n,xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mt(n){return Gp(qr,n)}function yu(n,r){return qr===null&&ea(n),Gp(n,r)}function Gp(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},xi===null){if(n===null)throw Error(a(308));xi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else xi=xi.next=r;return s}var IN=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},DN=t.unstable_scheduleCallback,_N=t.unstable_NormalPriority,At={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new IN,data:new Map,refCount:0}}function ho(n){n.refCount--,n.refCount===0&&DN(_N,function(){n.controller.abort()})}var go=null,pd=0,ja=0,$a=null;function ON(n,r){if(go===null){var s=go=[];pd=0,ja=bh(),$a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return pd++,r.then(kp,kp),r}function kp(){if(--pd===0&&go!==null){$a!==null&&($a.status="fulfilled");var n=go;go=null,ja=0,$a=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function VN(n,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Wp=T.S;T.S=function(n,r){T0=Ot(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ON(n,r),Wp!==null&&Wp(n,r)};var ta=C(null);function yd(){var n=ta.current;return n!==null?n:it.pooledCache}function vu(n,r){r===null?ee(ta,ta.current):ee(ta,r.pool)}function Xp(){var n=yd();return n===null?null:{parent:At._currentValue,pool:n}}var Pa=Error(a(460)),vd=Error(a(474)),bu=Error(a(542)),Su={then:function(){}};function Kp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hp(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(Ai,Ai),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jp(n),n;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Jp(n),n}throw ia=r,Pa}}function na(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ia=s,Pa):s}}var ia=null;function Fp(){if(ia===null)throw Error(a(459));var n=ia;return ia=null,n}function Jp(n){if(n===Pa||n===bu)throw Error(a(483))}var Qa=null,mo=0;function Au(n){var r=mo;return mo+=1,Qa===null&&(Qa=[]),Hp(Qa,n,r)}function po(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Eu(n,r){throw r.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function jp(n){function r(k,z){if(n){var F=k.deletions;F===null?(k.deletions=[z],k.flags|=16):F.push(z)}}function s(k,z){if(!n)return null;for(;z!==null;)r(k,z),z=z.sibling;return null}function l(k){for(var z=new Map;k!==null;)k.key!==null?z.set(k.key,k):z.set(k.index,k),k=k.sibling;return z}function f(k,z){return k=wi(k,z),k.index=0,k.sibling=null,k}function g(k,z,F){return k.index=F,n?(F=k.alternate,F!==null?(F=F.index,F<z?(k.flags|=67108866,z):F):(k.flags|=67108866,z)):(k.flags|=1048576,z)}function b(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function w(k,z,F,se){return z===null||z.tag!==6?(z=sd(F,k.mode,se),z.return=k,z):(z=f(z,F),z.return=k,z)}function D(k,z,F,se){var Ae=F.type;return Ae===A?ae(k,z,F.props.children,se,F.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&na(Ae)===z.type)?(z=f(z,F.props),po(z,F),z.return=k,z):(z=gu(F.type,F.key,F.props,null,k.mode,se),po(z,F),z.return=k,z)}function J(k,z,F,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=od(F,k.mode,se),z.return=k,z):(z=f(z,F.children||[]),z.return=k,z)}function ae(k,z,F,se,Ae){return z===null||z.tag!==7?(z=Pr(F,k.mode,se,Ae),z.return=k,z):(z=f(z,F),z.return=k,z)}function oe(k,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sd(""+z,k.mode,F),z.return=k,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return F=gu(z.type,z.key,z.props,null,k.mode,F),po(F,z),F.return=k,F;case E:return z=od(z,k.mode,F),z.return=k,z;case X:return z=na(z),oe(k,z,F)}if(K(z)||te(z))return z=Pr(z,k.mode,F,null),z.return=k,z;if(typeof z.then=="function")return oe(k,Au(z),F);if(z.$$typeof===N)return oe(k,yu(k,z),F);Eu(k,z)}return null}function j(k,z,F,se){var Ae=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ae!==null?null:w(k,z,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===Ae?D(k,z,F,se):null;case E:return F.key===Ae?J(k,z,F,se):null;case X:return F=na(F),j(k,z,F,se)}if(K(F)||te(F))return Ae!==null?null:ae(k,z,F,se,null);if(typeof F.then=="function")return j(k,z,Au(F),se);if(F.$$typeof===N)return j(k,z,yu(k,F),se);Eu(k,F)}return null}function Q(k,z,F,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return k=k.get(F)||null,w(z,k,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return k=k.get(se.key===null?F:se.key)||null,D(z,k,se,Ae);case E:return k=k.get(se.key===null?F:se.key)||null,J(z,k,se,Ae);case X:return se=na(se),Q(k,z,F,se,Ae)}if(K(se)||te(se))return k=k.get(F)||null,ae(z,k,se,Ae,null);if(typeof se.then=="function")return Q(k,z,F,Au(se),Ae);if(se.$$typeof===N)return Q(k,z,F,yu(z,se),Ae);Eu(z,se)}return null}function ye(k,z,F,se){for(var Ae=null,Ke=null,ve=z,Oe=z=0,Ge=null;ve!==null&&Oe<F.length;Oe++){ve.index>Oe?(Ge=ve,ve=null):Ge=ve.sibling;var He=j(k,ve,F[Oe],se);if(He===null){ve===null&&(ve=Ge);break}n&&ve&&He.alternate===null&&r(k,ve),z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He,ve=Ge}if(Oe===F.length)return s(k,ve),ke&&Ni(k,Oe),Ae;if(ve===null){for(;Oe<F.length;Oe++)ve=oe(k,F[Oe],se),ve!==null&&(z=g(ve,z,Oe),Ke===null?Ae=ve:Ke.sibling=ve,Ke=ve);return ke&&Ni(k,Oe),Ae}for(ve=l(ve);Oe<F.length;Oe++)Ge=Q(ve,k,Oe,F[Oe],se),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Oe:Ge.key),z=g(Ge,z,Oe),Ke===null?Ae=Ge:Ke.sibling=Ge,Ke=Ge);return n&&ve.forEach(function(Tr){return r(k,Tr)}),ke&&Ni(k,Oe),Ae}function xe(k,z,F,se){if(F==null)throw Error(a(151));for(var Ae=null,Ke=null,ve=z,Oe=z=0,Ge=null,He=F.next();ve!==null&&!He.done;Oe++,He=F.next()){ve.index>Oe?(Ge=ve,ve=null):Ge=ve.sibling;var Tr=j(k,ve,He.value,se);if(Tr===null){ve===null&&(ve=Ge);break}n&&ve&&Tr.alternate===null&&r(k,ve),z=g(Tr,z,Oe),Ke===null?Ae=Tr:Ke.sibling=Tr,Ke=Tr,ve=Ge}if(He.done)return s(k,ve),ke&&Ni(k,Oe),Ae;if(ve===null){for(;!He.done;Oe++,He=F.next())He=oe(k,He.value,se),He!==null&&(z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He);return ke&&Ni(k,Oe),Ae}for(ve=l(ve);!He.done;Oe++,He=F.next())He=Q(ve,k,Oe,He.value,se),He!==null&&(n&&He.alternate!==null&&ve.delete(He.key===null?Oe:He.key),z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He);return n&&ve.forEach(function(Xx){return r(k,Xx)}),ke&&Ni(k,Oe),Ae}function nt(k,z,F,se){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var Ae=F.key;z!==null;){if(z.key===Ae){if(Ae=F.type,Ae===A){if(z.tag===7){s(k,z.sibling),se=f(z,F.props.children),se.return=k,k=se;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&na(Ae)===z.type){s(k,z.sibling),se=f(z,F.props),po(se,F),se.return=k,k=se;break e}s(k,z);break}else r(k,z);z=z.sibling}F.type===A?(se=Pr(F.props.children,k.mode,se,F.key),se.return=k,k=se):(se=gu(F.type,F.key,F.props,null,k.mode,se),po(se,F),se.return=k,k=se)}return b(k);case E:e:{for(Ae=F.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(k,z.sibling),se=f(z,F.children||[]),se.return=k,k=se;break e}else{s(k,z);break}else r(k,z);z=z.sibling}se=od(F,k.mode,se),se.return=k,k=se}return b(k);case X:return F=na(F),nt(k,z,F,se)}if(K(F))return ye(k,z,F,se);if(te(F)){if(Ae=te(F),typeof Ae!="function")throw Error(a(150));return F=Ae.call(F),xe(k,z,F,se)}if(typeof F.then=="function")return nt(k,z,Au(F),se);if(F.$$typeof===N)return nt(k,z,yu(k,F),se);Eu(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(s(k,z.sibling),se=f(z,F),se.return=k,k=se):(s(k,z),se=sd(F,k.mode,se),se.return=k,k=se),b(k)):s(k,z)}return function(k,z,F,se){try{mo=0;var Ae=nt(k,z,F,se);return Qa=null,Ae}catch(ve){if(ve===Pa||ve===bu)throw ve;var Ke=ln(29,ve,null,k.mode);return Ke.lanes=se,Ke.return=k,Ke}finally{}}}var ra=jp(!0),$p=jp(!1),ur=!1;function bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function cr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fr(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hu(n),Vp(n,null,s),r}return du(n,l,r,s),hu(n)}function yo(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Kl(n,s)}}function Ad(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,s=s.next}while(s!==null);g===null?f=g=r:g=g.next=r}else f=g=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var Ed=!1;function vo(){if(Ed){var n=$a;if(n!==null)throw n}}function bo(n,r,s,l){Ed=!1;var f=n.updateQueue;ur=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,J=D.next;D.next=null,b===null?g=J:b.next=J,b=D;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,w=ae.lastBaseUpdate,w!==b&&(w===null?ae.firstBaseUpdate=J:w.next=J,ae.lastBaseUpdate=D))}if(g!==null){var oe=f.baseState;b=0,ae=J=D=null,w=g;do{var j=w.lane&-536870913,Q=j!==w.lane;if(Q?(Ze&j)===j:(l&j)===j){j!==0&&j===ja&&(Ed=!0),ae!==null&&(ae=ae.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=n,xe=w;j=r;var nt=s;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){oe=ye.call(nt,oe,j);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,j=typeof ye=="function"?ye.call(nt,oe,j):ye,j==null)break e;oe=y({},oe,j);break e;case 2:ur=!0}}j=w.callback,j!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[j]:Q.push(j))}else Q={lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ae===null?(J=ae=Q,D=oe):ae=ae.next=Q,b|=j;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ae===null&&(D=oe),f.baseState=D,f.firstBaseUpdate=J,f.lastBaseUpdate=ae,g===null&&(f.shared.lanes=0),pr|=b,n.lanes=b,n.memoizedState=oe}}function Pp(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Qp(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Pp(s[n],r)}var qa=C(null),wu=C(0);function qp(n,r){n=Bi,ee(wu,n),ee(qa,r),Bi=n|r.baseLanes}function wd(){ee(wu,Bi),ee(qa,qa.current)}function Nd(){Bi=wu.current,L(qa),L(wu)}var un=C(null),xn=null;function dr(n){var r=n.alternate;ee(pt,pt.current&1),ee(un,n),xn===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(xn=n)}function xd(n){ee(pt,pt.current),ee(un,n),xn===null&&(xn=n)}function ey(n){n.tag===22?(ee(pt,pt.current),ee(un,n),xn===null&&(xn=n)):hr()}function hr(){ee(pt,pt.current),ee(un,un.current)}function cn(n){L(un),xn===n&&(xn=null),L(pt)}var pt=C(0);function Nu(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_h(s)||Oh(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ci=0,De=null,et=null,Et=null,xu=!1,es=!1,aa=!1,Tu=0,So=0,ts=null,MN=0;function gt(){throw Error(a(321))}function Td(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!on(n[s],r[s]))return!1;return!0}function Cd(n,r,s,l,f,g){return Ci=g,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,T.H=n===null||n.memoizedState===null?zy:kd,aa=!1,g=s(l,f),aa=!1,es&&(g=ny(r,s,l,f)),ty(n),g}function ty(n){T.H=wo;var r=et!==null&&et.next!==null;if(Ci=0,Et=et=De=null,xu=!1,So=0,ts=null,r)throw Error(a(300));n===null||wt||(n=n.dependencies,n!==null&&pu(n)&&(wt=!0))}function ny(n,r,s,l){De=n;var f=0;do{if(es&&(ts=null),So=0,es=!1,25<=f)throw Error(a(301));if(f+=1,Et=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}T.H=Uy,g=r(s,l)}while(es);return g}function BN(){var n=T.H,r=n.useState()[0];return r=typeof r.then=="function"?Ao(r):r,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(De.flags|=1024),r}function Rd(){var n=Tu!==0;return Tu=0,n}function Id(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function Dd(n){if(xu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}xu=!1}Ci=0,Et=et=De=null,es=!1,So=Tu=0,ts=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=n:Et=Et.next=n,Et}function yt(){if(et===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,et=n;else{if(n===null)throw De.alternate===null?Error(a(467)):Error(a(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Et===null?De.memoizedState=Et=n:Et=Et.next=n}return Et}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(n){var r=So;return So+=1,ts===null&&(ts=[]),n=Hp(ts,n,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,T.H=r===null||r.memoizedState===null?zy:kd),n}function Ru(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ao(n);if(n.$$typeof===N)return Mt(n)}throw Error(a(438,String(n)))}function _d(n){var r=null,s=De.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Cu(),De.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),l=0;l<n;l++)s[l]=de;return r.index++,s}function Ri(n,r){return typeof r=="function"?r(n):r}function Iu(n){var r=yt();return Od(r,et,n)}function Od(n,r,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,g=l.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,l.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{r=f.next;var w=b=null,D=null,J=r,ae=!1;do{var oe=J.lane&-536870913;if(oe!==J.lane?(Ze&oe)===oe:(Ci&oe)===oe){var j=J.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),oe===ja&&(ae=!0);else if((Ci&j)===j){J=J.next,j===ja&&(ae=!0);continue}else oe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=oe,b=g):D=D.next=oe,De.lanes|=j,pr|=j;oe=J.action,aa&&s(g,oe),g=J.hasEagerState?J.eagerState:s(g,oe)}else j={lane:oe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=j,b=g):D=D.next=j,De.lanes|=oe,pr|=oe;J=J.next}while(J!==null&&J!==r);if(D===null?b=g:D.next=w,!on(g,n.memoizedState)&&(wt=!0,ae&&(s=$a,s!==null)))throw s;n.memoizedState=g,n.baseState=b,n.baseQueue=D,l.lastRenderedState=g}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Vd(n){var r=yt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,g=r.memoizedState;if(f!==null){s.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);on(g,r.memoizedState)||(wt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,l]}function iy(n,r,s){var l=De,f=yt(),g=ke;if(g){if(s===void 0)throw Error(a(407));s=s()}else s=r();var b=!on((et||f).memoizedState,s);if(b&&(f.memoizedState=s,wt=!0),f=f.queue,Ld(sy.bind(null,l,f,n),[n]),f.getSnapshot!==r||b||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,ns(9,{destroy:void 0},ay.bind(null,l,f,s,r),null),it===null)throw Error(a(349));g||(Ci&127)!==0||ry(l,r,s)}return s}function ry(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=De.updateQueue,r===null?(r=Cu(),De.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function ay(n,r,s,l){r.value=s,r.getSnapshot=l,oy(r)&&ly(n)}function sy(n,r,s){return s(function(){oy(r)&&ly(n)})}function oy(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!on(n,s)}catch{return!0}}function ly(n){var r=$r(n,2);r!==null&&en(r,n,2)}function Md(n){var r=Ft();if(typeof n=="function"){var s=n;if(n=s(),aa){ei(!0);try{s()}finally{ei(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},r}function uy(n,r,s,l){return n.baseState=s,Od(n,et,typeof l=="function"?l:Ri)}function LN(n,r,s,l,f){if(Ou(n))throw Error(a(485));if(n=r.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};T.T!==null?s(!0):g.isTransition=!1,l(g),s=r.pending,s===null?(g.next=r.pending=g,cy(r,g)):(g.next=s.next,r.pending=s.next=g)}}function cy(n,r){var s=r.action,l=r.payload,f=n.state;if(r.isTransition){var g=T.T,b={};T.T=b;try{var w=s(f,l),D=T.S;D!==null&&D(b,w),fy(n,r,w)}catch(J){Bd(n,r,J)}finally{g!==null&&b.types!==null&&(g.types=b.types),T.T=g}}else try{g=s(f,l),fy(n,r,g)}catch(J){Bd(n,r,J)}}function fy(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dy(n,r,l)},function(l){return Bd(n,r,l)}):dy(n,r,s)}function dy(n,r,s){r.status="fulfilled",r.value=s,hy(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,cy(n,s)))}function Bd(n,r,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,hy(r),r=r.next;while(r!==l)}n.action=null}function hy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gy(n,r){return r}function my(n,r){if(ke){var s=it.formState;if(s!==null){e:{var l=De;if(ke){if(at){t:{for(var f=at,g=Nn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Tn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){at=Tn(f.nextSibling),l=f.data==="F!";break e}}or(l)}l=!1}l&&(r=s[0])}}return s=Ft(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},s.queue=l,s=My.bind(null,De,l),l.dispatch=s,l=Md(!1),g=Gd.bind(null,De,!1,l.queue),l=Ft(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,s=LN.bind(null,De,f,g,s),f.dispatch=s,l.memoizedState=n,[r,s,!1]}function py(n){var r=yt();return yy(r,et,n)}function yy(n,r,s){if(r=Od(n,r,gy)[0],n=Iu(Ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ao(r)}catch(b){throw b===Pa?bu:b}else l=r;r=yt();var f=r.queue,g=f.dispatch;return s!==r.memoizedState&&(De.flags|=2048,ns(9,{destroy:void 0},zN.bind(null,f,s),null)),[l,g,n]}function zN(n,r){n.action=r}function vy(n){var r=yt(),s=et;if(s!==null)return yy(r,s,n);yt(),r=r.memoizedState,s=yt();var l=s.queue.dispatch;return s.memoizedState=n,[r,l,!1]}function ns(n,r,s,l){return n={tag:n,create:s,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Cu(),De.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n),n}function by(){return yt().memoizedState}function Du(n,r,s,l){var f=Ft();De.flags|=n,f.memoizedState=ns(1|r,{destroy:void 0},s,l===void 0?null:l)}function _u(n,r,s,l){var f=yt();l=l===void 0?null:l;var g=f.memoizedState.inst;et!==null&&l!==null&&Td(l,et.memoizedState.deps)?f.memoizedState=ns(r,g,s,l):(De.flags|=n,f.memoizedState=ns(1|r,g,s,l))}function Sy(n,r){Du(8390656,8,n,r)}function Ld(n,r){_u(2048,8,n,r)}function UN(n){De.flags|=4;var r=De.updateQueue;if(r===null)r=Cu(),De.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function Ay(n){var r=yt().memoizedState;return UN({ref:r,nextImpl:n}),function(){if((Fe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Ey(n,r){return _u(4,2,n,r)}function wy(n,r){return _u(4,4,n,r)}function Ny(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xy(n,r,s){s=s!=null?s.concat([n]):null,_u(4,4,Ny.bind(null,r,n),s)}function zd(){}function Ty(n,r){var s=yt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Td(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function Cy(n,r){var s=yt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Td(r,l[1]))return l[0];if(l=n(),aa){ei(!0);try{n()}finally{ei(!1)}}return s.memoizedState=[l,r],l}function Ud(n,r,s){return s===void 0||(Ci&1073741824)!==0&&(Ze&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=R0(),De.lanes|=n,pr|=n,s)}function Ry(n,r,s,l){return on(s,r)?s:qa.current!==null?(n=Ud(n,s,l),on(n,r)||(wt=!0),n):(Ci&42)===0||(Ci&1073741824)!==0&&(Ze&261930)===0?(wt=!0,n.memoizedState=s):(n=R0(),De.lanes|=n,pr|=n,r)}function Iy(n,r,s,l,f){var g=O.p;O.p=g!==0&&8>g?g:8;var b=T.T,w={};T.T=w,Gd(n,!1,r,s);try{var D=f(),J=T.S;if(J!==null&&J(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ae=VN(D,l);Eo(n,r,ae,hn(n))}else Eo(n,r,l,hn(n))}catch(oe){Eo(n,r,{then:function(){},status:"rejected",reason:oe},hn())}finally{O.p=g,b!==null&&w.types!==null&&(b.types=w.types),T.T=b}}function YN(){}function Yd(n,r,s,l){if(n.tag!==5)throw Error(a(476));var f=Dy(n).queue;Iy(n,f,r,Y,s===null?YN:function(){return _y(n),s(l)})}function Dy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Y},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function _y(n){var r=Dy(n);r.next===null&&(r=n.alternate.memoizedState),Eo(n,r.next.queue,{},hn())}function Zd(){return Mt(Yo)}function Oy(){return yt().memoizedState}function Vy(){return yt().memoizedState}function ZN(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=hn();n=cr(s);var l=fr(r,n,s);l!==null&&(en(l,r,s),yo(l,r,s)),r={cache:md()},n.payload=r;return}r=r.return}}function GN(n,r,s){var l=hn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ou(n)?By(r,s):(s=rd(n,r,s,l),s!==null&&(en(s,n,l),Ly(s,r,l)))}function My(n,r,s){var l=hn();Eo(n,r,s,l)}function Eo(n,r,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ou(n))By(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,s);if(f.hasEagerState=!0,f.eagerState=w,on(w,b))return du(n,r,f,0),it===null&&fu(),!1}catch{}finally{}if(s=rd(n,r,f,l),s!==null)return en(s,n,l),Ly(s,r,l),!0}return!1}function Gd(n,r,s,l){if(l={lane:2,revertLane:bh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(n)){if(r)throw Error(a(479))}else r=rd(n,s,l,2),r!==null&&en(r,n,2)}function Ou(n){var r=n.alternate;return n===De||r!==null&&r===De}function By(n,r){es=xu=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Ly(n,r,s){if((s&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Kl(n,s)}}var wo={readContext:Mt,use:Ru,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};wo.useEffectEvent=gt;var zy={readContext:Mt,use:Ru,useCallback:function(n,r){return Ft().memoizedState=[n,r===void 0?null:r],n},useContext:Mt,useEffect:Sy,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Du(4194308,4,Ny.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Du(4194308,4,n,r)},useInsertionEffect:function(n,r){Du(4,2,n,r)},useMemo:function(n,r){var s=Ft();r=r===void 0?null:r;var l=n();if(aa){ei(!0);try{n()}finally{ei(!1)}}return s.memoizedState=[l,r],l},useReducer:function(n,r,s){var l=Ft();if(s!==void 0){var f=s(r);if(aa){ei(!0);try{s(r)}finally{ei(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=GN.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=Ft();return n={current:n},r.memoizedState=n},useState:function(n){n=Md(n);var r=n.queue,s=My.bind(null,De,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:zd,useDeferredValue:function(n,r){var s=Ft();return Ud(s,n,r)},useTransition:function(){var n=Md(!1);return n=Iy.bind(null,De,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var l=De,f=Ft();if(ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),it===null)throw Error(a(349));(Ze&127)!==0||ry(l,r,s)}f.memoizedState=s;var g={value:s,getSnapshot:r};return f.queue=g,Sy(sy.bind(null,l,g,n),[n]),l.flags|=2048,ns(9,{destroy:void 0},ay.bind(null,l,g,s,r),null),s},useId:function(){var n=Ft(),r=it.identifierPrefix;if(ke){var s=ii,l=ni;s=(l&~(1<<32-Ht(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Tu++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=MN++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Zd,useFormState:my,useActionState:my,useOptimistic:function(n){var r=Ft();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Gd.bind(null,De,!0,s),s.dispatch=r,[n,r]},useMemoCache:_d,useCacheRefresh:function(){return Ft().memoizedState=ZN.bind(null,De)},useEffectEvent:function(n){var r=Ft(),s={impl:n};return r.memoizedState=s,function(){if((Fe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},kd={readContext:Mt,use:Ru,useCallback:Ty,useContext:Mt,useEffect:Ld,useImperativeHandle:xy,useInsertionEffect:Ey,useLayoutEffect:wy,useMemo:Cy,useReducer:Iu,useRef:by,useState:function(){return Iu(Ri)},useDebugValue:zd,useDeferredValue:function(n,r){var s=yt();return Ry(s,et.memoizedState,n,r)},useTransition:function(){var n=Iu(Ri)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:Ao(n),r]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:Zd,useFormState:py,useActionState:py,useOptimistic:function(n,r){var s=yt();return uy(s,et,n,r)},useMemoCache:_d,useCacheRefresh:Vy};kd.useEffectEvent=Ay;var Uy={readContext:Mt,use:Ru,useCallback:Ty,useContext:Mt,useEffect:Ld,useImperativeHandle:xy,useInsertionEffect:Ey,useLayoutEffect:wy,useMemo:Cy,useReducer:Vd,useRef:by,useState:function(){return Vd(Ri)},useDebugValue:zd,useDeferredValue:function(n,r){var s=yt();return et===null?Ud(s,n,r):Ry(s,et.memoizedState,n,r)},useTransition:function(){var n=Vd(Ri)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:Ao(n),r]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:Zd,useFormState:vy,useActionState:vy,useOptimistic:function(n,r){var s=yt();return et!==null?uy(s,et,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Vy};Uy.useEffectEvent=Ay;function Wd(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:y({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Xd={enqueueSetState:function(n,r,s){n=n._reactInternals;var l=hn(),f=cr(l);f.payload=r,s!=null&&(f.callback=s),r=fr(n,f,l),r!==null&&(en(r,n,l),yo(r,n,l))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=hn(),f=cr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=fr(n,f,l),r!==null&&(en(r,n,l),yo(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=hn(),l=cr(s);l.tag=2,r!=null&&(l.callback=r),r=fr(n,l,s),r!==null&&(en(r,n,s),yo(r,n,s))}};function Yy(n,r,s,l,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,g,b):r.prototype&&r.prototype.isPureReactComponent?!lo(s,l)||!lo(f,g):!0}function Zy(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&Xd.enqueueReplaceState(r,r.state,null)}function sa(n,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(n=n.defaultProps){s===r&&(s=y({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function Gy(n){cu(n)}function ky(n){console.error(n)}function Wy(n){cu(n)}function Vu(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(n,r,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kd(n,r,s){return s=cr(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(n,r)},s}function Ky(n){return n=cr(n),n.tag=3,n}function Hy(n,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;n.payload=function(){return f(g)},n.callback=function(){Xy(r,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Xy(r,s,l),typeof f!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function kN(n,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Ja(r,s,f,!0),s=un.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?Ku():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Su?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),ph(n,l,f)),!1;case 22:return s.flags|=65536,l===Su?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),ph(n,l,f)),!1}throw Error(a(435,s.tag))}return ph(n,l,f),Ku(),!1}if(ke)return r=un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==cd&&(n=Error(a(422),{cause:l}),fo(An(n,s)))):(l!==cd&&(r=Error(a(423),{cause:l}),fo(An(r,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=An(l,s),f=Kd(n.stateNode,l,f),Ad(n,f),mt!==4&&(mt=2)),!1;var g=Error(a(520),{cause:l});if(g=An(g,s),_o===null?_o=[g]:_o.push(g),mt!==4&&(mt=2),r===null)return!0;l=An(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Kd(s.stateNode,l,n),Ad(s,n),!1;case 1:if(r=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yr===null||!yr.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ky(f),Hy(f,n,s,l),Ad(s,f),!1}s=s.return}while(s!==null);return!1}var Hd=Error(a(461)),wt=!1;function Bt(n,r,s,l){r.child=n===null?$p(r,null,s,l):ra(r,n.child,s,l)}function Fy(n,r,s,l,f){s=s.render;var g=r.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return ea(r),l=Cd(n,r,s,b,g,f),w=Rd(),n!==null&&!wt?(Id(n,r,f),Ii(n,r,f)):(ke&&w&&ld(r),r.flags|=1,Bt(n,r,l,f),r.child)}function Jy(n,r,s,l,f){if(n===null){var g=s.type;return typeof g=="function"&&!ad(g)&&g.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=g,jy(n,r,g,l,f)):(n=gu(s.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!eh(n,f)){var b=g.memoizedProps;if(s=s.compare,s=s!==null?s:lo,s(b,l)&&n.ref===r.ref)return Ii(n,r,f)}return r.flags|=1,n=wi(g,l),n.ref=r.ref,n.return=r,r.child=n}function jy(n,r,s,l,f){if(n!==null){var g=n.memoizedProps;if(lo(g,l)&&n.ref===r.ref)if(wt=!1,r.pendingProps=l=g,eh(n,f))(n.flags&131072)!==0&&(wt=!0);else return r.lanes=n.lanes,Ii(n,r,f)}return Fd(n,r,s,l,f)}function $y(n,r,s,l){var f=l.children,g=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~g}else l=0,r.child=null;return Py(n,r,g,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&vu(r,g!==null?g.cachePool:null),g!==null?qp(r,g):wd(),ey(r);else return l=r.lanes=536870912,Py(n,r,g!==null?g.baseLanes|s:s,s,l)}else g!==null?(vu(r,g.cachePool),qp(r,g),hr(),r.memoizedState=null):(n!==null&&vu(r,null),wd(),hr());return Bt(n,r,f,s),r.child}function No(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Py(n,r,s,l,f){var g=yd();return g=g===null?null:{parent:At._currentValue,pool:g},r.memoizedState={baseLanes:s,cachePool:g},n!==null&&vu(r,null),wd(),ey(r),n!==null&&Ja(n,r,l,!0),r.childLanes=f,null}function Mu(n,r){return r=Lu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Qy(n,r,s){return ra(r,n.child,null,s),n=Mu(r,r.pendingProps),n.flags|=2,cn(r),r.memoizedState=null,n}function WN(n,r,s){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(ke){if(l.mode==="hidden")return n=Mu(r,l),r.lanes=536870912,No(null,n);if(xd(r),(n=at)?(n=cv(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ar!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},s=Bp(n),s.return=r,r.child=s,Vt=r,at=null)):n=null,n===null)throw or(r);return r.lanes=536870912,null}return Mu(r,l)}var g=n.memoizedState;if(g!==null){var b=g.dehydrated;if(xd(r),f)if(r.flags&256)r.flags&=-257,r=Qy(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(wt||Ja(n,r,s,!1),f=(s&n.childLanes)!==0,wt||f){if(l=it,l!==null&&(b=Hl(l,s),b!==0&&b!==g.retryLane))throw g.retryLane=b,$r(n,b),en(l,n,b),Hd;Ku(),r=Qy(n,r,s)}else n=g.treeContext,at=Tn(b.nextSibling),Vt=r,ke=!0,sr=null,Nn=!1,n!==null&&Up(r,n),r=Mu(r,l),r.flags|=4096;return r}return n=wi(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Bu(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Fd(n,r,s,l,f){return ea(r),s=Cd(n,r,s,l,void 0,f),l=Rd(),n!==null&&!wt?(Id(n,r,f),Ii(n,r,f)):(ke&&l&&ld(r),r.flags|=1,Bt(n,r,s,f),r.child)}function qy(n,r,s,l,f,g){return ea(r),r.updateQueue=null,s=ny(r,l,s,f),ty(n),l=Rd(),n!==null&&!wt?(Id(n,r,g),Ii(n,r,g)):(ke&&l&&ld(r),r.flags|=1,Bt(n,r,s,g),r.child)}function e0(n,r,s,l,f){if(ea(r),r.stateNode===null){var g=Xa,b=s.contextType;typeof b=="object"&&b!==null&&(g=Mt(b)),g=new s(l,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=l,g.state=r.memoizedState,g.refs={},bd(r),b=s.contextType,g.context=typeof b=="object"&&b!==null?Mt(b):Xa,g.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Wd(r,s,b,l),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Xd.enqueueReplaceState(g,g.state,null),bo(r,l,g,f),vo(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){g=r.stateNode;var w=r.memoizedProps,D=sa(s,w);g.props=D;var J=g.context,ae=s.contextType;b=Xa,typeof ae=="object"&&ae!==null&&(b=Mt(ae));var oe=s.getDerivedStateFromProps;ae=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||J!==b)&&Zy(r,g,l,b),ur=!1;var j=r.memoizedState;g.state=j,bo(r,l,g,f),vo(),J=r.memoizedState,w||j!==J||ur?(typeof oe=="function"&&(Wd(r,s,oe,l),J=r.memoizedState),(D=ur||Yy(r,s,D,l,j,J,b))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=J),g.props=l,g.state=J,g.context=b,l=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{g=r.stateNode,Sd(n,r),b=r.memoizedProps,ae=sa(s,b),g.props=ae,oe=r.pendingProps,j=g.context,J=s.contextType,D=Xa,typeof J=="object"&&J!==null&&(D=Mt(J)),w=s.getDerivedStateFromProps,(J=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||j!==D)&&Zy(r,g,l,D),ur=!1,j=r.memoizedState,g.state=j,bo(r,l,g,f),vo();var Q=r.memoizedState;b!==oe||j!==Q||ur||n!==null&&n.dependencies!==null&&pu(n.dependencies)?(typeof w=="function"&&(Wd(r,s,w,l),Q=r.memoizedState),(ae=ur||Yy(r,s,ae,l,j,Q,D)||n!==null&&n.dependencies!==null&&pu(n.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,Q,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),g.props=l,g.state=Q,g.context=D,l=ae):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return g=l,Bu(n,r),l=(r.flags&128)!==0,g||l?(g=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&l?(r.child=ra(r,n.child,null,f),r.child=ra(r,null,s,f)):Bt(n,r,s,f),r.memoizedState=g.state,n=r.child):n=Ii(n,r,f),n}function t0(n,r,s,l){return Qr(),r.flags|=256,Bt(n,r,s,l),r.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(n){return{baseLanes:n,cachePool:Xp()}}function $d(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=dn),n}function n0(n,r,s){var l=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(pt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,n===null){if(ke){if(f?dr(r):hr(),(n=at)?(n=cv(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ar!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},s=Bp(n),s.return=r,r.child=s,Vt=r,at=null)):n=null,n===null)throw or(r);return Oh(n)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(hr(),f=r.mode,w=Lu({mode:"hidden",children:w},f),l=Pr(l,f,s,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=jd(s),l.childLanes=$d(n,b,s),r.memoizedState=Jd,No(null,l)):(dr(r),Pd(r,w))}var D=n.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(g)r.flags&256?(dr(r),r.flags&=-257,r=Qd(n,r,s)):r.memoizedState!==null?(hr(),r.child=n.child,r.flags|=128,r=null):(hr(),w=l.fallback,f=r.mode,l=Lu({mode:"visible",children:l.children},f),w=Pr(w,f,s,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,ra(r,n.child,null,s),l=r.child,l.memoizedState=jd(s),l.childLanes=$d(n,b,s),r.memoizedState=Jd,r=No(null,l));else if(dr(r),Oh(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var J=b.dgst;b=J,l=Error(a(419)),l.stack="",l.digest=b,fo({value:l,source:null,stack:null}),r=Qd(n,r,s)}else if(wt||Ja(n,r,s,!1),b=(s&n.childLanes)!==0,wt||b){if(b=it,b!==null&&(l=Hl(b,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,$r(n,l),en(b,n,l),Hd;_h(w)||Ku(),r=Qd(n,r,s)}else _h(w)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,at=Tn(w.nextSibling),Vt=r,ke=!0,sr=null,Nn=!1,n!==null&&Up(r,n),r=Pd(r,l.children),r.flags|=4096);return r}return f?(hr(),w=l.fallback,f=r.mode,D=n.child,J=D.sibling,l=wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,J!==null?w=wi(J,w):(w=Pr(w,f,s,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,No(null,l),l=r.child,w=n.child.memoizedState,w===null?w=jd(s):(f=w.cachePool,f!==null?(D=At._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Xp(),w={baseLanes:w.baseLanes|s,cachePool:f}),l.memoizedState=w,l.childLanes=$d(n,b,s),r.memoizedState=Jd,No(n.child,l)):(dr(r),s=n.child,n=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,n!==null&&(b=r.deletions,b===null?(r.deletions=[n],r.flags|=16):b.push(n)),r.child=s,r.memoizedState=null,s)}function Pd(n,r){return r=Lu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Lu(n,r){return n=ln(22,n,null,r),n.lanes=0,n}function Qd(n,r,s){return ra(r,n.child,null,s),n=Pd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function i0(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),hd(n.return,r,s)}function qd(n,r,s,l,f,g){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=f,b.treeForkCount=g)}function r0(n,r,s){var l=r.pendingProps,f=l.revealOrder,g=l.tail;l=l.children;var b=pt.current,w=(b&2)!==0;if(w?(b=b&1|2,r.flags|=128):b&=1,ee(pt,b),Bt(n,r,l,s),l=ke?co:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i0(n,s,r);else if(n.tag===19)i0(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)n=s.alternate,n!==null&&Nu(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),qd(r,!1,f,s,g,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Nu(n)===null){r.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}qd(r,!0,s,null,g,l);break;case"together":qd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ii(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),pr|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Ja(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=wi(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=wi(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function eh(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pu(n)))}function XN(n,r,s){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),lr(r,At,n.memoizedState.cache),Qr();break;case 27:case 5:_e(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:lr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?n0(n,r,s):(dr(r),n=Ii(n,r,s),n!==null?n.sibling:null);dr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Ja(n,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return r0(n,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(pt,pt.current),l)break;return null;case 22:return r.lanes=0,$y(n,r,s,r.pendingProps);case 24:lr(r,At,n.memoizedState.cache)}return Ii(n,r,s)}function a0(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)wt=!0;else{if(!eh(n,s)&&(r.flags&128)===0)return wt=!1,XN(n,r,s);wt=(n.flags&131072)!==0}else wt=!1,ke&&(r.flags&1048576)!==0&&zp(r,co,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=na(r.elementType),r.type=n,typeof n=="function")ad(n)?(l=sa(n,l),r.tag=1,r=e0(null,r,n,l,s)):(r.tag=0,r=Fd(null,r,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===R){r.tag=11,r=Fy(null,r,n,l,s);break e}else if(f===M){r.tag=14,r=Jy(null,r,n,l,s);break e}}throw r=_(n)||n,Error(a(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=sa(l,r.pendingProps),e0(n,r,l,f,s);case 3:e:{if(ce(r,r.stateNode.containerInfo),n===null)throw Error(a(387));l=r.pendingProps;var g=r.memoizedState;f=g.element,Sd(n,r),bo(r,l,null,s);var b=r.memoizedState;if(l=b.cache,lr(r,At,l),l!==g.cache&&gd(r,[At],s,!0),vo(),l=b.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=t0(n,r,l,s);break e}else if(l!==f){f=An(Error(a(424)),r),fo(f),r=t0(n,r,l,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=Tn(n.firstChild),Vt=r,ke=!0,sr=null,Nn=!0,s=$p(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qr(),l===f){r=Ii(n,r,s);break e}Bt(n,r,l,s)}r=r.child}return r;case 26:return Bu(n,r),n===null?(s=pv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ke||(s=r.type,n=r.pendingProps,l=Qu(ge.current).createElement(s),l[Ct]=r,l[Yt]=n,Lt(l,s,n),St(l),r.stateNode=l):r.memoizedState=pv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return _e(r),n===null&&ke&&(l=r.stateNode=hv(r.type,r.pendingProps,ge.current),Vt=r,Nn=!0,f=at,Ar(r.type)?(Vh=f,at=Tn(l.firstChild)):at=f),Bt(n,r,r.pendingProps.children,s),Bu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ke&&((f=l=at)&&(l=Sx(l,r.type,r.pendingProps,Nn),l!==null?(r.stateNode=l,Vt=r,at=Tn(l.firstChild),Nn=!1,f=!0):f=!1),f||or(r)),_e(r),f=r.type,g=r.pendingProps,b=n!==null?n.memoizedProps:null,l=g.children,Rh(f,g)?l=null:b!==null&&Rh(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Cd(n,r,BN,null,null,s),Yo._currentValue=f),Bu(n,r),Bt(n,r,l,s),r.child;case 6:return n===null&&ke&&((n=s=at)&&(s=Ax(s,r.pendingProps,Nn),s!==null?(r.stateNode=s,Vt=r,at=null,n=!0):n=!1),n||or(r)),null;case 13:return n0(n,r,s);case 4:return ce(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ra(r,null,l,s):Bt(n,r,l,s),r.child;case 11:return Fy(n,r,r.type,r.pendingProps,s);case 7:return Bt(n,r,r.pendingProps,s),r.child;case 8:return Bt(n,r,r.pendingProps.children,s),r.child;case 12:return Bt(n,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,lr(r,r.type,l.value),Bt(n,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ea(r),f=Mt(f),l=l(f),r.flags|=1,Bt(n,r,l,s),r.child;case 14:return Jy(n,r,r.type,r.pendingProps,s);case 15:return jy(n,r,r.type,r.pendingProps,s);case 19:return r0(n,r,s);case 31:return WN(n,r,s);case 22:return $y(n,r,s,r.pendingProps);case 24:return ea(r),l=Mt(At),n===null?(f=yd(),f===null&&(f=it,g=md(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),r.memoizedState={parent:l,cache:f},bd(r),lr(r,At,f)):((n.lanes&s)!==0&&(Sd(n,r),bo(r,null,null,s),vo()),f=n.memoizedState,g=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),lr(r,At,l)):(l=g.cache,lr(r,At,l),l!==f.cache&&gd(r,[At],s,!0))),Bt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Di(n){n.flags|=4}function th(n,r,s,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(O0())n.flags|=8192;else throw ia=Su,vd}else n.flags&=-16777217}function s0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Av(r))if(O0())n.flags|=8192;else throw ia=Su,vd}function zu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Wl():536870912,n.lanes|=r,ss|=r)}function xo(n,r){if(!ke)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function KN(n,r,s){var l=r.pendingProps;switch(ud(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return s=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ti(At),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Fa(r)?Di(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fd())),st(r),null;case 26:var f=r.type,g=r.memoizedState;return n===null?(Di(r),g!==null?(st(r),s0(r,g)):(st(r),th(r,f,null,l,s))):g?g!==n.memoizedState?(Di(r),st(r),s0(r,g)):(st(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&Di(r),st(r),th(r,f,n,l,s)),null;case 27:if(Ie(r),s=ge.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Di(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return st(r),null}n=ie.current,Fa(r)?Yp(r):(n=hv(f,l,s),r.stateNode=n,Di(r))}return st(r),null;case 5:if(Ie(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Di(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return st(r),null}if(g=ie.current,Fa(r))Yp(r);else{var b=Qu(ge.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}g[Ct]=r,g[Yt]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(Lt(g,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Di(r)}}return st(r),th(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Di(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(n=ge.current,Fa(r)){if(n=r.stateNode,s=r.memoizedProps,l=null,f=Vt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=r,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||nv(n.nodeValue,s)),n||or(r,!0)}else n=Qu(n).createTextNode(l),n[Ct]=r,r.stateNode=n}return st(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(l=Fa(r),s!==null){if(n===null){if(!l)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Ct]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),n=!1}else s=fd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(cn(r),r):(cn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fa(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ct]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=fd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(cn(r),r):(cn(r),null)}return cn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),zu(r,r.updateQueue),st(r),null);case 4:return me(),n===null&&wh(r.stateNode.containerInfo),st(r),null;case 10:return Ti(r.type),st(r),null;case 19:if(L(pt),l=r.memoizedState,l===null)return st(r),null;if(f=(r.flags&128)!==0,g=l.rendering,g===null)if(f)xo(l,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=Nu(n),g!==null){for(r.flags|=128,xo(l,!1),n=g.updateQueue,r.updateQueue=n,zu(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Mp(s,n),s=s.sibling;return ee(pt,pt.current&1|2),ke&&Ni(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&Ot()>ku&&(r.flags|=128,f=!0,xo(l,!1),r.lanes=4194304)}else{if(!f)if(n=Nu(g),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,zu(r,n),xo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!ke)return st(r),null}else 2*Ot()-l.renderingStartTime>ku&&s!==536870912&&(r.flags|=128,f=!0,xo(l,!1),r.lanes=4194304);l.isBackwards?(g.sibling=r.child,r.child=g):(n=l.last,n!==null?n.sibling=g:r.child=g,l.last=g)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ot(),n.sibling=null,s=pt.current,ee(pt,f?s&1|2:s&1),ke&&Ni(r,l.treeForkCount),n):(st(r),null);case 22:case 23:return cn(r),Nd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),s=r.updateQueue,s!==null&&zu(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),n!==null&&L(ta),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Ti(At),st(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function HN(n,r){switch(ud(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ti(At),me(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 31:if(r.memoizedState!==null){if(cn(r),r.alternate===null)throw Error(a(340));Qr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(cn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Qr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return L(pt),null;case 4:return me(),null;case 10:return Ti(r.type),null;case 22:case 23:return cn(r),Nd(),n!==null&&L(ta),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ti(At),null;case 25:return null;default:return null}}function o0(n,r){switch(ud(r),r.tag){case 3:Ti(At),me();break;case 26:case 27:case 5:Ie(r);break;case 4:me();break;case 31:r.memoizedState!==null&&cn(r);break;case 13:cn(r);break;case 19:L(pt);break;case 10:Ti(r.type);break;case 22:case 23:cn(r),Nd(),n!==null&&L(ta);break;case 24:Ti(At)}}function To(n,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var g=s.create,b=s.inst;l=g(),b.destroy=l}s=s.next}while(s!==f)}}catch(w){$e(r,r.return,w)}}function gr(n,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=r;var D=s,J=w;try{J()}catch(ae){$e(f,D,ae)}}}l=l.next}while(l!==g)}}catch(ae){$e(r,r.return,ae)}}function l0(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{Qp(r,s)}catch(l){$e(n,n.return,l)}}}function u0(n,r,s){s.props=sa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){$e(n,r,l)}}function Co(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){$e(n,r,f)}}function ri(n,r){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){$e(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){$e(n,r,f)}else s.current=null}function c0(n){var r=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){$e(n,n.return,f)}}function nh(n,r,s){try{var l=n.stateNode;gx(l,n.type,s,r),l[Yt]=r}catch(f){$e(n,n.return,f)}}function f0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ar(n.type)||n.tag===4}function ih(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||f0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ar(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rh(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ai));else if(l!==4&&(l===27&&Ar(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(rh(n,r,s),n=n.sibling;n!==null;)rh(n,r,s),n=n.sibling}function Uu(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(l!==4&&(l===27&&Ar(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Uu(n,r,s),n=n.sibling;n!==null;)Uu(n,r,s),n=n.sibling}function d0(n){var r=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Lt(r,l,s),r[Ct]=n,r[Yt]=s}catch(g){$e(n,n.return,g)}}var _i=!1,Nt=!1,ah=!1,h0=typeof WeakSet=="function"?WeakSet:Set,It=null;function FN(n,r){if(n=n.containerInfo,Th=ac,n=xp(n),Qf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var b=0,w=-1,D=-1,J=0,ae=0,oe=n,j=null;t:for(;;){for(var Q;oe!==s||f!==0&&oe.nodeType!==3||(w=b+f),oe!==g||l!==0&&oe.nodeType!==3||(D=b+l),oe.nodeType===3&&(b+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)j=oe,oe=Q;for(;;){if(oe===n)break t;if(j===s&&++J===f&&(w=b),j===g&&++ae===l&&(D=b),(Q=oe.nextSibling)!==null)break;oe=j,j=oe.parentNode}oe=Q}s=w===-1||D===-1?null:{start:w,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ch={focusedElem:n,selectionRange:s},ac=!1,It=r;It!==null;)if(r=It,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,It=n;else for(;It!==null;){switch(r=It,g=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,s=r,f=g.memoizedProps,g=g.memoizedState,l=s.stateNode;try{var ye=sa(s.type,f);n=l.getSnapshotBeforeUpdate(ye,g),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){$e(s,s.return,xe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)Dh(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,It=n;break}It=r.return}}function g0(n,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(n,s),l&4&&To(5,s);break;case 1:if(Vi(n,s),l&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(b){$e(s,s.return,b)}else{var f=sa(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){$e(s,s.return,b)}}l&64&&l0(s),l&512&&Co(s,s.return);break;case 3:if(Vi(n,s),l&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Qp(n,r)}catch(b){$e(s,s.return,b)}}break;case 27:r===null&&l&4&&d0(s);case 26:case 5:Vi(n,s),r===null&&l&4&&c0(s),l&512&&Co(s,s.return);break;case 12:Vi(n,s);break;case 31:Vi(n,s),l&4&&y0(n,s);break;case 13:Vi(n,s),l&4&&v0(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=nx.bind(null,s),Ex(n,s))));break;case 22:if(l=s.memoizedState!==null||_i,!l){r=r!==null&&r.memoizedState!==null||Nt,f=_i;var g=Nt;_i=l,(Nt=r)&&!g?Mi(n,s,(s.subtreeFlags&8772)!==0):Vi(n,s),_i=f,Nt=g}break;case 30:break;default:Vi(n,s)}}function m0(n){var r=n.alternate;r!==null&&(n.alternate=null,m0(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Qs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,$t=!1;function Oi(n,r,s){for(s=s.child;s!==null;)p0(n,r,s),s=s.sibling}function p0(n,r,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Wr,s)}catch{}switch(s.tag){case 26:Nt||ri(s,r),Oi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||ri(s,r);var l=ot,f=$t;Ar(s.type)&&(ot=s.stateNode,$t=!1),Oi(n,r,s),Lo(s.stateNode),ot=l,$t=f;break;case 5:Nt||ri(s,r);case 6:if(l=ot,f=$t,ot=null,Oi(n,r,s),ot=l,$t=f,ot!==null)if($t)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(g){$e(s,r,g)}else try{ot.removeChild(s.stateNode)}catch(g){$e(s,r,g)}break;case 18:ot!==null&&($t?(n=ot,lv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),gs(n)):lv(ot,s.stateNode));break;case 4:l=ot,f=$t,ot=s.stateNode.containerInfo,$t=!0,Oi(n,r,s),ot=l,$t=f;break;case 0:case 11:case 14:case 15:gr(2,s,r),Nt||gr(4,s,r),Oi(n,r,s);break;case 1:Nt||(ri(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&u0(s,r,l)),Oi(n,r,s);break;case 21:Oi(n,r,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,Oi(n,r,s),Nt=l;break;default:Oi(n,r,s)}}function y0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{gs(n)}catch(s){$e(r,r.return,s)}}}function v0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gs(n)}catch(s){$e(r,r.return,s)}}function JN(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new h0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new h0),r;default:throw Error(a(435,n.tag))}}function Yu(n,r){var s=JN(n);r.forEach(function(l){if(!s.has(l)){s.add(l);var f=ix.bind(null,n,l);l.then(f,f)}})}function Pt(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],g=n,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ar(w.type)){ot=w.stateNode,$t=!1;break e}break;case 5:ot=w.stateNode,$t=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(ot===null)throw Error(a(160));p0(g,b,f),ot=null,$t=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)b0(r,n),r=r.sibling}var Un=null;function b0(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pt(r,n),Qt(n),l&4&&(gr(3,n,n.return),To(3,n),gr(5,n,n.return));break;case 1:Pt(r,n),Qt(n),l&512&&(Nt||s===null||ri(s,s.return)),l&64&&_i&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Un;if(Pt(r,n),Qt(n),l&512&&(Nt||s===null||ri(s,s.return)),l&4){var g=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Hr]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),Lt(g,l,s),g[Ct]=n,St(g),l=g;break e;case"link":var b=bv("link","href",f).get(l+(s.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(w,1);break t}}g=f.createElement(l),Lt(g,l,s),f.head.appendChild(g);break;case"meta":if(b=bv("meta","content",f).get(l+(s.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(w,1);break t}}g=f.createElement(l),Lt(g,l,s),f.head.appendChild(g);break;default:throw Error(a(468,l))}g[Ct]=n,St(g),l=g}n.stateNode=l}else Sv(f,n.type,n.stateNode);else n.stateNode=vv(f,l,n.memoizedProps);else g!==l?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,l===null?Sv(f,n.type,n.stateNode):vv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&nh(n,n.memoizedProps,s.memoizedProps)}break;case 27:Pt(r,n),Qt(n),l&512&&(Nt||s===null||ri(s,s.return)),s!==null&&l&4&&nh(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Pt(r,n),Qt(n),l&512&&(Nt||s===null||ri(s,s.return)),n.flags&32){f=n.stateNode;try{za(f,"")}catch(ye){$e(n,n.return,ye)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,nh(n,f,s!==null?s.memoizedProps:f)),l&1024&&(ah=!0);break;case 6:if(Pt(r,n),Qt(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(ye){$e(n,n.return,ye)}}break;case 3:if(tc=null,f=Un,Un=qu(r.containerInfo),Pt(r,n),Un=f,Qt(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{gs(r.containerInfo)}catch(ye){$e(n,n.return,ye)}ah&&(ah=!1,S0(n));break;case 4:l=Un,Un=qu(n.stateNode.containerInfo),Pt(r,n),Qt(n),Un=l;break;case 12:Pt(r,n),Qt(n);break;case 31:Pt(r,n),Qt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yu(n,l)));break;case 13:Pt(r,n),Qt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=Ot()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yu(n,l)));break;case 22:f=n.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,J=_i,ae=Nt;if(_i=J||f,Nt=ae||D,Pt(r,n),Nt=ae,_i=J,Qt(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||D||_i||Nt||oa(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(g=D.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var oe=D.memoizedProps.style,j=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ye){$e(D,D.return,ye)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ye){$e(D,D.return,ye)}}}else if(r.tag===18){if(s===null){D=r;try{var Q=D.stateNode;f?uv(Q,!0):uv(D.stateNode,!1)}catch(ye){$e(D,D.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yu(n,s))));break;case 19:Pt(r,n),Qt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yu(n,l)));break;case 30:break;case 21:break;default:Pt(r,n),Qt(n)}}function Qt(n){var r=n.flags;if(r&2){try{for(var s,l=n.return;l!==null;){if(f0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,g=ih(n);Uu(n,g,f);break;case 5:var b=s.stateNode;s.flags&32&&(za(b,""),s.flags&=-33);var w=ih(n);Uu(n,w,b);break;case 3:case 4:var D=s.stateNode.containerInfo,J=ih(n);rh(n,J,D);break;default:throw Error(a(161))}}catch(ae){$e(n,n.return,ae)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function S0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;S0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Vi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g0(n,r.alternate,r),r=r.sibling}function oa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:gr(4,r,r.return),oa(r);break;case 1:ri(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&u0(r,r.return,s),oa(r);break;case 27:Lo(r.stateNode);case 26:case 5:ri(r,r.return),oa(r);break;case 22:r.memoizedState===null&&oa(r);break;case 30:oa(r);break;default:oa(r)}n=n.sibling}}function Mi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Mi(f,g,s),To(4,g);break;case 1:if(Mi(f,g,s),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){$e(l,l.return,J)}if(l=g,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Pp(D[f],w)}catch(J){$e(l,l.return,J)}}s&&b&64&&l0(g),Co(g,g.return);break;case 27:d0(g);case 26:case 5:Mi(f,g,s),s&&l===null&&b&4&&c0(g),Co(g,g.return);break;case 12:Mi(f,g,s);break;case 31:Mi(f,g,s),s&&b&4&&y0(f,g);break;case 13:Mi(f,g,s),s&&b&4&&v0(f,g);break;case 22:g.memoizedState===null&&Mi(f,g,s),Co(g,g.return);break;case 30:break;default:Mi(f,g,s)}r=r.sibling}}function sh(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ho(s))}function oh(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ho(n))}function Yn(n,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A0(n,r,s,l),r=r.sibling}function A0(n,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Yn(n,r,s,l),f&2048&&To(9,r);break;case 1:Yn(n,r,s,l);break;case 3:Yn(n,r,s,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ho(n)));break;case 12:if(f&2048){Yn(n,r,s,l),n=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){$e(r,r.return,D)}}else Yn(n,r,s,l);break;case 31:Yn(n,r,s,l);break;case 13:Yn(n,r,s,l);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Yn(n,r,s,l):Ro(n,r):g._visibility&2?Yn(n,r,s,l):(g._visibility|=2,is(n,r,s,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sh(b,r);break;case 24:Yn(n,r,s,l),f&2048&&oh(r.alternate,r);break;default:Yn(n,r,s,l)}}function is(n,r,s,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=n,b=r,w=s,D=l,J=b.flags;switch(b.tag){case 0:case 11:case 15:is(g,b,w,D,f),To(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?is(g,b,w,D,f):Ro(g,b):(ae._visibility|=2,is(g,b,w,D,f)),f&&J&2048&&sh(b.alternate,b);break;case 24:is(g,b,w,D,f),f&&J&2048&&oh(b.alternate,b);break;default:is(g,b,w,D,f)}r=r.sibling}}function Ro(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,l=r,f=l.flags;switch(l.tag){case 22:Ro(s,l),f&2048&&sh(l.alternate,l);break;case 24:Ro(s,l),f&2048&&oh(l.alternate,l);break;default:Ro(s,l)}r=r.sibling}}var Io=8192;function rs(n,r,s){if(n.subtreeFlags&Io)for(n=n.child;n!==null;)E0(n,r,s),n=n.sibling}function E0(n,r,s){switch(n.tag){case 26:rs(n,r,s),n.flags&Io&&n.memoizedState!==null&&Mx(s,Un,n.memoizedState,n.memoizedProps);break;case 5:rs(n,r,s);break;case 3:case 4:var l=Un;Un=qu(n.stateNode.containerInfo),rs(n,r,s),Un=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Io,Io=16777216,rs(n,r,s),Io=l):rs(n,r,s));break;default:rs(n,r,s)}}function w0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Do(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];It=l,x0(l,n)}w0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)N0(n),n=n.sibling}function N0(n){switch(n.tag){case 0:case 11:case 15:Do(n),n.flags&2048&&gr(9,n,n.return);break;case 3:Do(n);break;case 12:Do(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Zu(n)):Do(n);break;default:Do(n)}}function Zu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];It=l,x0(l,n)}w0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:gr(8,r,r.return),Zu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(r));break;default:Zu(r)}n=n.sibling}}function x0(n,r){for(;It!==null;){var s=It;switch(s.tag){case 0:case 11:case 15:gr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ho(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,It=l;else e:for(s=n;It!==null;){l=It;var f=l.sibling,g=l.return;if(m0(l),l===s){It=null;break e}if(f!==null){f.return=g,It=f;break e}It=g}}}var jN={getCacheForType:function(n){var r=Mt(At),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return Mt(At).controller.signal}},$N=typeof WeakMap=="function"?WeakMap:Map,Fe=0,it=null,Le=null,Ze=0,je=0,fn=null,mr=!1,as=!1,lh=!1,Bi=0,mt=0,pr=0,la=0,uh=0,dn=0,ss=0,_o=null,qt=null,ch=!1,Gu=0,T0=0,ku=1/0,Wu=null,yr=null,Rt=0,vr=null,os=null,Li=0,fh=0,dh=null,C0=null,Oo=0,hh=null;function hn(){return(Fe&2)!==0&&Ze!==0?Ze&-Ze:T.T!==null?bh():Fl()}function R0(){if(dn===0)if((Ze&536870912)===0||ke){var n=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),dn=n}else dn=536870912;return n=un.current,n!==null&&(n.flags|=32),dn}function en(n,r,s){(n===it&&(je===2||je===9)||n.cancelPendingCommit!==null)&&(ls(n,0),br(n,Ze,dn,!1)),Kr(n,s),((Fe&2)===0||n!==it)&&(n===it&&((Fe&2)===0&&(la|=s),mt===4&&br(n,Ze,dn,!1)),ai(n))}function I0(n,r,s){if((Fe&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Xr(n,r),f=l?qN(n,r):mh(n,r,!0),g=l;do{if(f===0){as&&!l&&br(n,r,0,!1);break}else{if(s=n.current.alternate,g&&!PN(s)){f=mh(n,r,!1),g=!1;continue}if(f===2){if(g=r,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=n;f=_o;var D=w.current.memoizedState.isDehydrated;if(D&&(ls(w,b).flags|=256),b=mh(w,b,!1),b!==2){if(lh&&!D){w.errorRecoveryDisabledLanes|=g,la|=g,f=4;break e}g=qt,qt=f,g!==null&&(qt===null?qt=g:qt.push.apply(qt,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){ls(n,0),br(n,r,0,!0);break}e:{switch(l=n,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:br(l,r,dn,!mr);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Gu+300-Ot(),10<f)){if(br(l,r,dn,!mr),Ia(l,0,!0)!==0)break e;Li=r,l.timeoutHandle=sv(D0.bind(null,l,s,qt,Wu,ch,r,dn,la,ss,mr,g,"Throttled",-0,0),f);break e}D0(l,s,qt,Wu,ch,r,dn,la,ss,mr,g,null,-0,0)}}break}while(!0);ai(n)}function D0(n,r,s,l,f,g,b,w,D,J,ae,oe,j,Q){if(n.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},E0(r,g,oe);var ye=(g&62914560)===g?Gu-Ot():(g&4194048)===g?T0-Ot():0;if(ye=Bx(oe,ye),ye!==null){Li=g,n.cancelPendingCommit=ye(U0.bind(null,n,r,g,s,l,f,b,w,D,ae,oe,null,j,Q)),br(n,g,b,!J);return}}U0(n,r,g,s,l,f,b,w,D)}function PN(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],g=f.getSnapshot;f=f.value;try{if(!on(g(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(n,r,s,l){r&=~uh,r&=~la,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var g=31-Ht(f),b=1<<g;l[g]=-1,f&=~b}s!==0&&Xl(n,s,r)}function Xu(){return(Fe&6)===0?(Vo(0),!1):!0}function gh(){if(Le!==null){if(je===0)var n=Le.return;else n=Le,xi=qr=null,Dd(n),Qa=null,mo=0,n=Le;for(;n!==null;)o0(n.alternate,n),n=n.return;Le=null}}function ls(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,yx(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Li=0,gh(),it=n,Le=s=wi(n.current,null),Ze=r,je=0,fn=null,mr=!1,as=Xr(n,r),lh=!1,ss=dn=uh=la=pr=mt=0,qt=_o=null,ch=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Ht(l),g=1<<f;r|=n[f],l&=~g}return Bi=r,fu(),s}function _0(n,r){De=null,T.H=wo,r===Pa||r===bu?(r=Fp(),je=3):r===vd?(r=Fp(),je=4):je=r===Hd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fn=r,Le===null&&(mt=1,Vu(n,An(r,n.current)))}function O0(){var n=un.current;return n===null?!0:(Ze&4194048)===Ze?xn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?n===xn:!1}function V0(){var n=T.H;return T.H=wo,n===null?wo:n}function M0(){var n=T.A;return T.A=jN,n}function Ku(){mt=4,mr||(Ze&4194048)!==Ze&&un.current!==null||(as=!0),(pr&134217727)===0&&(la&134217727)===0||it===null||br(it,Ze,dn,!1)}function mh(n,r,s){var l=Fe;Fe|=2;var f=V0(),g=M0();(it!==n||Ze!==r)&&(Wu=null,ls(n,r)),r=!1;var b=mt;e:do try{if(je!==0&&Le!==null){var w=Le,D=fn;switch(je){case 8:gh(),b=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(r=!0);var J=je;if(je=0,fn=null,us(n,w,D,J),s&&as){b=0;break e}break;default:J=je,je=0,fn=null,us(n,w,D,J)}}QN(),b=mt;break}catch(ae){_0(n,ae)}while(!0);return r&&n.shellSuspendCounter++,xi=qr=null,Fe=l,T.H=f,T.A=g,Le===null&&(it=null,Ze=0,fu()),b}function QN(){for(;Le!==null;)B0(Le)}function qN(n,r){var s=Fe;Fe|=2;var l=V0(),f=M0();it!==n||Ze!==r?(Wu=null,ku=Ot()+500,ls(n,r)):as=Xr(n,r);e:do try{if(je!==0&&Le!==null){r=Le;var g=fn;t:switch(je){case 1:je=0,fn=null,us(n,r,g,1);break;case 2:case 9:if(Kp(g)){je=0,fn=null,L0(r);break}r=function(){je!==2&&je!==9||it!==n||(je=7),ai(n)},g.then(r,r);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Kp(g)?(je=0,fn=null,L0(r)):(je=0,fn=null,us(n,r,g,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var w=Le;if(b?Av(b):w.stateNode.complete){je=0,fn=null;var D=w.sibling;if(D!==null)Le=D;else{var J=w.return;J!==null?(Le=J,Hu(J)):Le=null}break t}}je=0,fn=null,us(n,r,g,5);break;case 6:je=0,fn=null,us(n,r,g,6);break;case 8:gh(),mt=6;break e;default:throw Error(a(462))}}ex();break}catch(ae){_0(n,ae)}while(!0);return xi=qr=null,T.H=l,T.A=f,Fe=s,Le!==null?0:(it=null,Ze=0,fu(),mt)}function ex(){for(;Le!==null&&!Zr();)B0(Le)}function B0(n){var r=a0(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,r===null?Hu(n):Le=r}function L0(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=qy(s,r,r.pendingProps,r.type,void 0,Ze);break;case 11:r=qy(s,r,r.pendingProps,r.type.render,r.ref,Ze);break;case 5:Dd(r);default:o0(s,r),r=Le=Mp(r,Bi),r=a0(s,r,Bi)}n.memoizedProps=n.pendingProps,r===null?Hu(n):Le=r}function us(n,r,s,l){xi=qr=null,Dd(r),Qa=null,mo=0;var f=r.return;try{if(kN(n,f,r,s,Ze)){mt=1,Vu(n,An(s,n.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;mt=1,Vu(n,An(s,n.current)),Le=null;return}r.flags&32768?(ke||l===1?n=!0:as||(Ze&536870912)!==0?n=!1:(mr=n=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),z0(r,n)):Hu(r)}function Hu(n){var r=n;do{if((r.flags&32768)!==0){z0(r,mr);return}n=r.return;var s=KN(r.alternate,r,Bi);if(s!==null){Le=s;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=n}while(r!==null);mt===0&&(mt=5)}function z0(n,r){do{var s=HN(n.alternate,n);if(s!==null){s.flags&=32767,Le=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Le=n;return}Le=n=s}while(n!==null);mt=6,Le=null}function U0(n,r,s,l,f,g,b,w,D){n.cancelPendingCommit=null;do Fu();while(Rt!==0);if((Fe&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(g=r.lanes|r.childLanes,g|=id,Vf(n,s,g,b,w,D),n===it&&(Le=it=null,Ze=0),os=r,vr=n,Li=s,fh=g,dh=f,C0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rx(kr,function(){return W0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,f=O.p,O.p=2,b=Fe,Fe|=4;try{FN(n,r,s)}finally{Fe=b,O.p=f,T.T=l}}Rt=1,Y0(),Z0(),G0()}}function Y0(){if(Rt===1){Rt=0;var n=vr,r=os,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=T.T,T.T=null;var l=O.p;O.p=2;var f=Fe;Fe|=4;try{b0(r,n);var g=Ch,b=xp(n.containerInfo),w=g.focusedElem,D=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&Np(w.ownerDocument.documentElement,w)){if(D!==null&&Qf(w)){var J=D.start,ae=D.end;if(ae===void 0&&(ae=J),"selectionStart"in w)w.selectionStart=J,w.selectionEnd=Math.min(ae,w.value.length);else{var oe=w.ownerDocument||document,j=oe&&oe.defaultView||window;if(j.getSelection){var Q=j.getSelection(),ye=w.textContent.length,xe=Math.min(D.start,ye),nt=D.end===void 0?xe:Math.min(D.end,ye);!Q.extend&&xe>nt&&(b=nt,nt=xe,xe=b);var k=wp(w,xe),z=wp(w,nt);if(k&&z&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var F=oe.createRange();F.setStart(k.node,k.offset),Q.removeAllRanges(),xe>nt?(Q.addRange(F),Q.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),Q.addRange(F))}}}}for(oe=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var se=oe[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}ac=!!Th,Ch=Th=null}finally{Fe=f,O.p=l,T.T=s}}n.current=r,Rt=2}}function Z0(){if(Rt===2){Rt=0;var n=vr,r=os,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=T.T,T.T=null;var l=O.p;O.p=2;var f=Fe;Fe|=4;try{g0(n,r.alternate,r)}finally{Fe=f,O.p=l,T.T=s}}Rt=3}}function G0(){if(Rt===4||Rt===3){Rt=0,Gr();var n=vr,r=os,s=Li,l=C0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rt=5:(Rt=0,os=vr=null,k0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(yr=null),Ps(s),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Wr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=T.T,f=O.p,O.p=2,T.T=null;try{for(var g=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];g(w.value,{componentStack:w.stack})}}finally{T.T=r,O.p=f}}(Li&3)!==0&&Fu(),ai(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===hh?Oo++:(Oo=0,hh=n):Oo=0,Vo(0)}}function k0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ho(r)))}function Fu(){return Y0(),Z0(),G0(),W0()}function W0(){if(Rt!==5)return!1;var n=vr,r=fh;fh=0;var s=Ps(Li),l=T.T,f=O.p;try{O.p=32>s?32:s,T.T=null,s=dh,dh=null;var g=vr,b=Li;if(Rt=0,os=vr=null,Li=0,(Fe&6)!==0)throw Error(a(331));var w=Fe;if(Fe|=4,N0(g.current),A0(g,g.current,b,s),Fe=w,Vo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Wr,g)}catch{}return!0}finally{O.p=f,T.T=l,k0(n,r)}}function X0(n,r,s){r=An(s,r),r=Kd(n.stateNode,r,2),n=fr(n,r,2),n!==null&&(Kr(n,2),ai(n))}function $e(n,r,s){if(n.tag===3)X0(n,n,s);else for(;r!==null;){if(r.tag===3){X0(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){n=An(s,n),s=Ky(2),l=fr(r,s,2),l!==null&&(Hy(s,l,r,n),Kr(l,2),ai(l));break}}r=r.return}}function ph(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new $N;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(lh=!0,f.add(s),n=tx.bind(null,n,r,s),r.then(n,n))}function tx(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,it===n&&(Ze&s)===s&&(mt===4||mt===3&&(Ze&62914560)===Ze&&300>Ot()-Gu?(Fe&2)===0&&ls(n,0):uh|=s,ss===Ze&&(ss=0)),ai(n)}function K0(n,r){r===0&&(r=Wl()),n=$r(n,r),n!==null&&(Kr(n,r),ai(n))}function nx(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),K0(n,s)}function ix(n,r){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),K0(n,s)}function rx(n,r){return $i(n,r)}var Ju=null,cs=null,yh=!1,ju=!1,vh=!1,Sr=0;function ai(n){n!==cs&&n.next===null&&(cs===null?Ju=cs=n:cs=cs.next=n),ju=!0,yh||(yh=!0,sx())}function Vo(n,r){if(!vh&&ju){vh=!0;do for(var s=!1,l=Ju;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var b=l.suspendedLanes,w=l.pingedLanes;g=(1<<31-Ht(42|n)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,j0(l,g))}else g=Ze,g=Ia(l,l===it?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Xr(l,g)||(s=!0,j0(l,g));l=l.next}while(s);vh=!1}}function ax(){H0()}function H0(){ju=yh=!1;var n=0;Sr!==0&&px()&&(n=Sr);for(var r=Ot(),s=null,l=Ju;l!==null;){var f=l.next,g=F0(l,r);g===0?(l.next=null,s===null?Ju=f:s.next=f,f===null&&(cs=s)):(s=l,(n!==0||(g&3)!==0)&&(ju=!0)),l=f}Rt!==0&&Rt!==5||Vo(n),Sr!==0&&(Sr=0)}function F0(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Ht(g),w=1<<b,D=f[b];D===-1?((w&s)===0||(w&l)!==0)&&(f[b]=Of(w,r)):D<=r&&(n.expiredLanes|=w),g&=~w}if(r=it,s=Ze,s=Ia(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===r&&(je===2||je===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Pi(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Xr(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(l!==null&&Pi(l),Ps(s)){case 2:case 8:s=Qi;break;case 32:s=kr;break;case 268435456:s=xa;break;default:s=kr}return l=J0.bind(null,n),s=$i(s,l),n.callbackPriority=r,n.callbackNode=s,r}return l!==null&&l!==null&&Pi(l),n.callbackPriority=2,n.callbackNode=null,2}function J0(n,r){if(Rt!==0&&Rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Fu()&&n.callbackNode!==s)return null;var l=Ze;return l=Ia(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(I0(n,l,r),F0(n,Ot()),n.callbackNode!=null&&n.callbackNode===s?J0.bind(null,n):null)}function j0(n,r){if(Fu())return null;I0(n,r,!0)}function sx(){vx(function(){(Fe&6)!==0?$i(yi,ax):H0()})}function bh(){if(Sr===0){var n=ja;n===0&&(n=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Sr=n}return Sr}function $0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:iu(""+n)}function P0(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function ox(n,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var g=$0((f[Yt]||null).action),b=l.submitter;b&&(r=(r=b[Yt]||null)?$0(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new ou("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sr!==0){var D=b?P0(f,b):new FormData(f);Yd(s,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=b?P0(f,b):new FormData(f),Yd(s,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var Sh=0;Sh<nd.length;Sh++){var Ah=nd[Sh],lx=Ah.toLowerCase(),ux=Ah[0].toUpperCase()+Ah.slice(1);zn(lx,"on"+ux)}zn(Rp,"onAnimationEnd"),zn(Ip,"onAnimationIteration"),zn(Dp,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(xN,"onTransitionRun"),zn(TN,"onTransitionStart"),zn(CN,"onTransitionCancel"),zn(_p,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function Q0(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var g=void 0;if(r)for(var b=l.length-1;0<=b;b--){var w=l[b],D=w.instance,J=w.currentTarget;if(w=w.listener,D!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(ae){cu(ae)}f.currentTarget=null,g=D}else for(b=0;b<l.length;b++){if(w=l[b],D=w.instance,J=w.currentTarget,w=w.listener,D!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(ae){cu(ae)}f.currentTarget=null,g=D}}}}function ze(n,r){var s=r[Da];s===void 0&&(s=r[Da]=new Set);var l=n+"__bubble";s.has(l)||(q0(r,n,2,!1),s.add(l))}function Eh(n,r,s){var l=0;r&&(l|=4),q0(s,n,l,r)}var $u="_reactListening"+Math.random().toString(36).slice(2);function wh(n){if(!n[$u]){n[$u]=!0,Pl.forEach(function(s){s!=="selectionchange"&&(cx.has(s)||Eh(s,!1,n),Eh(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[$u]||(r[$u]=!0,Eh("selectionchange",!1,r))}}function q0(n,r,s,l){switch(Rv(r)){case 2:var f=Ux;break;case 8:f=Yx;break;default:f=Uh}s=f.bind(null,r,s,n),f=void 0,!Wf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,s,{capture:!0,passive:f}):n.addEventListener(r,s,!0):f!==void 0?n.addEventListener(r,s,{passive:f}):n.addEventListener(r,s,!1)}function Nh(n,r,s,l,f){var g=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=qi(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=g=b;continue e}w=w.parentNode}}l=l.return}rp(function(){var J=g,ae=Gf(s),oe=[];e:{var j=Op.get(n);if(j!==void 0){var Q=ou,ye=n;switch(n){case"keypress":if(au(s)===0)break e;case"keydown":case"keyup":Q=iN;break;case"focusin":ye="focus",Q=Ff;break;case"focusout":ye="blur",Q=Ff;break;case"beforeblur":case"afterblur":Q=Ff;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=sN;break;case Rp:case Ip:case Dp:Q=Jw;break;case _p:Q=lN;break;case"scroll":case"scrollend":Q=Ww;break;case"wheel":Q=cN;break;case"copy":case"cut":case"paste":Q=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=up;break;case"toggle":case"beforetoggle":Q=dN}var xe=(r&4)!==0,nt=!xe&&(n==="scroll"||n==="scrollend"),k=xe?j!==null?j+"Capture":null:j;xe=[];for(var z=J,F;z!==null;){var se=z;if(F=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||F===null||k===null||(se=to(z,k),se!=null&&xe.push(Bo(z,se,F))),nt)break;z=z.return}0<xe.length&&(j=new Q(j,ye,null,s,ae),oe.push({event:j,listeners:xe}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",j&&s!==Zf&&(ye=s.relatedTarget||s.fromElement)&&(qi(ye)||ye[bi]))break e;if((Q||j)&&(j=ae.window===ae?ae:(j=ae.ownerDocument)?j.defaultView||j.parentWindow:window,Q?(ye=s.relatedTarget||s.toElement,Q=J,ye=ye?qi(ye):null,ye!==null&&(nt=u(ye),xe=ye.tag,ye!==nt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(Q=null,ye=J),Q!==ye)){if(xe=op,se="onMouseLeave",k="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(xe=up,se="onPointerLeave",k="onPointerEnter",z="pointer"),nt=Q==null?j:tr(Q),F=ye==null?j:tr(ye),j=new xe(se,z+"leave",Q,s,ae),j.target=nt,j.relatedTarget=F,se=null,qi(ae)===J&&(xe=new xe(k,z+"enter",ye,s,ae),xe.target=F,xe.relatedTarget=nt,se=xe),nt=se,Q&&ye)t:{for(xe=fx,k=Q,z=ye,F=0,se=k;se;se=xe(se))F++;se=0;for(var Ae=z;Ae;Ae=xe(Ae))se++;for(;0<F-se;)k=xe(k),F--;for(;0<se-F;)z=xe(z),se--;for(;F--;){if(k===z||z!==null&&k===z.alternate){xe=k;break t}k=xe(k),z=xe(z)}xe=null}else xe=null;Q!==null&&ev(oe,j,Q,xe,!1),ye!==null&&nt!==null&&ev(oe,nt,ye,xe,!0)}}e:{if(j=J?tr(J):window,Q=j.nodeName&&j.nodeName.toLowerCase(),Q==="select"||Q==="input"&&j.type==="file")var Ke=yp;else if(mp(j))if(vp)Ke=EN;else{Ke=SN;var ve=bN}else Q=j.nodeName,!Q||Q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?J&&Yf(J.elementType)&&(Ke=yp):Ke=AN;if(Ke&&(Ke=Ke(n,J))){pp(oe,Ke,s,ae);break e}ve&&ve(n,j,J),n==="focusout"&&J&&j.type==="number"&&J.memoizedProps.value!=null&&Ba(j,"number",j.value)}switch(ve=J?tr(J):window,n){case"focusin":(mp(ve)||ve.contentEditable==="true")&&(Ga=ve,qf=J,uo=null);break;case"focusout":uo=qf=Ga=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Tp(oe,s,ae);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":Tp(oe,s,ae)}var Oe;if(jf)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Za?hp(n,s)&&(Ge="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ge="onCompositionStart");Ge&&(cp&&s.locale!=="ko"&&(Za||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Za&&(Oe=ap()):(rr=ae,Xf="value"in rr?rr.value:rr.textContent,Za=!0)),ve=Pu(J,Ge),0<ve.length&&(Ge=new lp(Ge,n,null,s,ae),oe.push({event:Ge,listeners:ve}),Oe?Ge.data=Oe:(Oe=gp(s),Oe!==null&&(Ge.data=Oe)))),(Oe=gN?mN(n,s):pN(n,s))&&(Ge=Pu(J,"onBeforeInput"),0<Ge.length&&(ve=new lp("onBeforeInput","beforeinput",null,s,ae),oe.push({event:ve,listeners:Ge}),ve.data=Oe)),ox(oe,n,J,s,ae)}Q0(oe,r)})}function Bo(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Pu(n,r){for(var s=r+"Capture",l=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=to(n,s),f!=null&&l.unshift(Bo(n,f,g)),f=to(n,r),f!=null&&l.push(Bo(n,f,g))),n.tag===3)return l;n=n.return}return[]}function fx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ev(n,r,s,l,f){for(var g=r._reactName,b=[];s!==null&&s!==l;){var w=s,D=w.alternate,J=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||J===null||(D=J,f?(J=to(s,g),J!=null&&b.unshift(Bo(s,J,D))):f||(J=to(s,g),J!=null&&b.push(Bo(s,J,D)))),s=s.return}b.length!==0&&n.push({event:r,listeners:b})}var dx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function tv(n){return(typeof n=="string"?n:""+n).replace(dx,`
`).replace(hx,"")}function nv(n,r){return r=tv(r),tv(n)===r}function tt(n,r,s,l,f,g){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||za(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&za(n,""+l);break;case"className":Oa(n,"class",l);break;case"tabIndex":Oa(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(n,s,l);break;case"style":np(n,l,g);break;case"data":if(r!=="object"){Oa(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=iu(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(r!=="input"&&tt(n,r,"name",f.name,f,null),tt(n,r,"formEncType",f.formEncType,f,null),tt(n,r,"formMethod",f.formMethod,f,null),tt(n,r,"formTarget",f.formTarget,f,null)):(tt(n,r,"encType",f.encType,f,null),tt(n,r,"method",f.method,f,null),tt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=iu(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Ai);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=iu(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":ze("beforetoggle",n),ze("toggle",n),_a(n,"popover",l);break;case"xlinkActuate":Ln(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Gw.get(s)||s,_a(n,s,l))}}function xh(n,r,s,l,f,g){switch(s){case"style":np(n,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?za(n,l):(typeof l=="number"||typeof l=="bigint")&&za(n,""+l);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),g=n[Yt]||null,g=g!=null?g[s]:null,typeof g=="function"&&n.removeEventListener(r,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):_a(n,s,l)}}}function Lt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var l=!1,f=!1,g;for(g in s)if(s.hasOwnProperty(g)){var b=s[g];if(b!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:tt(n,r,g,b,s,null)}}f&&tt(n,r,"srcSet",s.srcSet,s,null),l&&tt(n,r,"src",s.src,s,null);return;case"input":ze("invalid",n);var w=g=b=f=null,D=null,J=null;for(l in s)if(s.hasOwnProperty(l)){var ae=s[l];if(ae!=null)switch(l){case"name":f=ae;break;case"type":b=ae;break;case"checked":D=ae;break;case"defaultChecked":J=ae;break;case"value":g=ae;break;case"defaultValue":w=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:tt(n,r,l,ae,s,null)}}nu(n,g,w,D,J,b,f,!1);return;case"select":ze("invalid",n),l=b=g=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:tt(n,r,f,w,s,null)}r=g,s=b,n.multiple=!!l,r!=null?La(n,!!l,r,!1):s!=null&&La(n,!!l,s,!0);return;case"textarea":ze("invalid",n),g=f=l=null;for(b in s)if(s.hasOwnProperty(b)&&(w=s[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:tt(n,r,b,w,s,null)}ep(n,l,f,g);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,r,D,l,s,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(l=0;l<Mo.length;l++)ze(Mo[l],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(l=s[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:tt(n,r,J,l,s,null)}return;default:if(Yf(r)){for(ae in s)s.hasOwnProperty(ae)&&(l=s[ae],l!==void 0&&xh(n,r,ae,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&tt(n,r,w,l,s,null))}function gx(n,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,D=null,J=null,ae=null;for(Q in s){var oe=s[Q];if(s.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=oe;default:l.hasOwnProperty(Q)||tt(n,r,Q,null,l,oe)}}for(var j in l){var Q=l[j];if(oe=s[j],l.hasOwnProperty(j)&&(Q!=null||oe!=null))switch(j){case"type":g=Q;break;case"name":f=Q;break;case"checked":J=Q;break;case"defaultChecked":ae=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==oe&&tt(n,r,j,Q,l,oe)}}eo(n,b,w,D,J,ae,g,f);return;case"select":Q=b=w=j=null;for(g in s)if(D=s[g],s.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(g)||tt(n,r,g,null,l,D)}for(f in l)if(g=l[f],D=s[f],l.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":j=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==D&&tt(n,r,f,g,l,D)}r=w,s=b,l=Q,j!=null?La(n,!!s,j,!1):!!l!=!!s&&(r!=null?La(n,!!s,r,!0):La(n,!!s,s?[]:"",!1));return;case"textarea":Q=j=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(n,r,w,null,l,f)}for(b in l)if(f=l[b],g=s[b],l.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":j=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&tt(n,r,b,f,l,g)}qm(n,j,Q);return;case"option":for(var ye in s)if(j=s[ye],s.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:tt(n,r,ye,null,l,j)}for(D in l)if(j=l[D],Q=s[D],l.hasOwnProperty(D)&&j!==Q&&(j!=null||Q!=null))switch(D){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:tt(n,r,D,j,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)j=s[xe],s.hasOwnProperty(xe)&&j!=null&&!l.hasOwnProperty(xe)&&tt(n,r,xe,null,l,j);for(J in l)if(j=l[J],Q=s[J],l.hasOwnProperty(J)&&j!==Q&&(j!=null||Q!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,r));break;default:tt(n,r,J,j,l,Q)}return;default:if(Yf(r)){for(var nt in s)j=s[nt],s.hasOwnProperty(nt)&&j!==void 0&&!l.hasOwnProperty(nt)&&xh(n,r,nt,void 0,l,j);for(ae in l)j=l[ae],Q=s[ae],!l.hasOwnProperty(ae)||j===Q||j===void 0&&Q===void 0||xh(n,r,ae,j,l,Q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&tt(n,r,k,null,l,j);for(oe in l)j=l[oe],Q=s[oe],!l.hasOwnProperty(oe)||j===Q||j==null&&Q==null||tt(n,r,oe,j,l,Q)}function iv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],g=f.transferSize,b=f.initiatorType,w=f.duration;if(g&&w&&iv(b)){for(b=0,w=f.responseEnd,l+=1;l<s.length;l++){var D=s[l],J=D.startTime;if(J>w)break;var ae=D.transferSize,oe=D.initiatorType;ae&&iv(oe)&&(D=D.responseEnd,b+=ae*(D<w?1:(w-J)/(D-J)))}if(--l,r+=8*(g+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Th=null,Ch=null;function Qu(n){return n.nodeType===9?n:n.ownerDocument}function rv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rh(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ih=null;function px(){var n=window.event;return n&&n.type==="popstate"?n===Ih?!1:(Ih=n,!0):(Ih=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(n){return ov.resolve(null).then(n).catch(bx)}:sv;function bx(n){setTimeout(function(){throw n})}function Ar(n){return n==="head"}function lv(n,r){var s=r,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),gs(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Lo(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Lo(s);for(var g=s.firstChild;g;){var b=g.nextSibling,w=g.nodeName;g[Hr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=b}}else s==="body"&&Lo(n.ownerDocument.body);s=f}while(s);gs(r)}function uv(n,r){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function Dh(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Dh(s),Qs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function Sx(n,r,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Tn(n.nextSibling),n===null)break}return null}function Ax(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Tn(n.nextSibling),n===null))return null;return n}function cv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Tn(n.nextSibling),n===null))return null;return n}function _h(n){return n.data==="$?"||n.data==="$~"}function Oh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Ex(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Tn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Vh=null;function fv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return Tn(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function dv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function hv(n,r,s){switch(r=Qu(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Lo(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Qs(n)}var Cn=new Map,gv=new Set;function qu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zi=O.d;O.d={f:wx,r:Nx,D:xx,C:Tx,L:Cx,m:Rx,X:Dx,S:Ix,M:_x};function wx(){var n=zi.f(),r=Xu();return n||r}function Nx(n){var r=er(n);r!==null&&r.tag===5&&r.type==="form"?_y(r):zi.r(n)}var fs=typeof document>"u"?null:document;function mv(n,r,s){var l=fs;if(l&&typeof r=="string"&&r){var f=Zt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),gv.has(f)||(gv.add(f),n={rel:n,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Lt(r,"link",n),St(r),l.head.appendChild(r)))}}function xx(n){zi.D(n),mv("dns-prefetch",n,null)}function Tx(n,r){zi.C(n,r),mv("preconnect",n,r)}function Cx(n,r,s){zi.L(n,r,s);var l=fs;if(l&&n&&r){var f='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Zt(s.imageSizes)+'"]')):f+='[href="'+Zt(n)+'"]';var g=f;switch(r){case"style":g=ds(n);break;case"script":g=hs(n)}Cn.has(g)||(n=y({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),Cn.set(g,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(zo(g))||r==="script"&&l.querySelector(Uo(g))||(r=l.createElement("link"),Lt(r,"link",n),St(r),l.head.appendChild(r)))}}function Rx(n,r){zi.m(n,r);var s=fs;if(s&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(n)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hs(n)}if(!Cn.has(g)&&(n=y({rel:"modulepreload",href:n},r),Cn.set(g,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Uo(g)))return}l=s.createElement("link"),Lt(l,"link",n),St(l),s.head.appendChild(l)}}}function Ix(n,r,s){zi.S(n,r,s);var l=fs;if(l&&n){var f=nr(l).hoistableStyles,g=ds(n);r=r||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(zo(g)))w.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},s),(s=Cn.get(g))&&Mh(n,s);var D=b=l.createElement("link");St(D),Lt(D,"link",n),D._p=new Promise(function(J,ae){D.onload=J,D.onerror=ae}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ec(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function Dx(n,r){zi.X(n,r);var s=fs;if(s&&n){var l=nr(s).hoistableScripts,f=hs(n),g=l.get(f);g||(g=s.querySelector(Uo(f)),g||(n=y({src:n,async:!0},r),(r=Cn.get(f))&&Bh(n,r),g=s.createElement("script"),St(g),Lt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function _x(n,r){zi.M(n,r);var s=fs;if(s&&n){var l=nr(s).hoistableScripts,f=hs(n),g=l.get(f);g||(g=s.querySelector(Uo(f)),g||(n=y({src:n,async:!0,type:"module"},r),(r=Cn.get(f))&&Bh(n,r),g=s.createElement("script"),St(g),Lt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function pv(n,r,s,l){var f=(f=ge.current)?qu(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ds(s.href),s=nr(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ds(s.href);var g=nr(f).hoistableStyles,b=g.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=f.querySelector(zo(n)))&&!g._p&&(b.instance=g,b.state.loading=5),Cn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(n,s),g||Ox(f,n,s,b.state))),r&&l===null)throw Error(a(528,""));return b}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hs(s),s=nr(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ds(n){return'href="'+Zt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function yv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Ox(n,r,s,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Lt(r,"link",s),St(r),n.head.appendChild(r))}function hs(n){return'[src="'+Zt(n)+'"]'}function Uo(n){return"script[async]"+n}function vv(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Zt(s.href)+'"]');if(l)return r.instance=l,St(l),l;var f=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),St(l),Lt(l,"style",f),ec(l,s.precedence,n),r.instance=l;case"stylesheet":f=ds(s.href);var g=n.querySelector(zo(f));if(g)return r.state.loading|=4,r.instance=g,St(g),g;l=yv(s),(f=Cn.get(f))&&Mh(l,f),g=(n.ownerDocument||n).createElement("link"),St(g);var b=g;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Lt(g,"link",l),r.state.loading|=4,ec(g,s.precedence,n),r.instance=g;case"script":return g=hs(s.src),(f=n.querySelector(Uo(g)))?(r.instance=f,St(f),f):(l=s,(f=Cn.get(g))&&(l=y({},s),Bh(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),St(f),Lt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ec(l,s.precedence,n));return r.instance}function ec(n,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===r)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Mh(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Bh(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var tc=null;function bv(n,r,s){if(tc===null){var l=new Map,f=tc=new Map;f.set(s,l)}else f=tc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var g=s[f];if(!(g[Hr]||g[Ct]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=n+b;var w=l.get(b);w?w.push(g):l.set(b,[g])}}return l}function Sv(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function Vx(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Mx(n,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=ds(l.href),g=r.querySelector(zo(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=nc.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=g,St(g);return}g=r.ownerDocument||r,l=yv(l),(f=Cn.get(f))&&Mh(l,f),g=g.createElement("link"),St(g);var b=g;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Lt(g,"link",l),s.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=nc.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Lh=0;function Bx(n,r){return n.stylesheets&&n.count===0&&rc(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&rc(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+r);0<n.imgBytes&&Lh===0&&(Lh=62500*mx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&rc(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Lh?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ic=null;function rc(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ic=new Map,r.forEach(Lx,n),ic=null,nc.call(n))}function Lx(n,r){if(!(r.state.loading&4)){var s=ic.get(n);if(s)var l=s.get(null);else{s=new Map,ic.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}f=r.instance,b=f.getAttribute("data-precedence"),g=s.get(b)||l,g===l&&s.set(null,f),s.set(b,f),this.count++,l=nc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Yo={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function zx(n,r,s,l,f,g,b,w,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ev(n,r,s,l,f,g,b,w,D,J,ae,oe){return n=new zx(n,r,s,b,D,J,ae,oe,w),r=1,g===!0&&(r|=24),g=ln(3,null,null,r),n.current=g,g.stateNode=n,r=md(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:l,isDehydrated:s,cache:r},bd(g),n}function wv(n){return n?(n=Xa,n):Xa}function Nv(n,r,s,l,f,g){f=wv(f),l.context===null?l.context=f:l.pendingContext=f,l=cr(r),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=fr(n,l,r),s!==null&&(en(s,n,r),yo(s,n,r))}function xv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function zh(n,r){xv(n,r),(n=n.alternate)&&xv(n,r)}function Tv(n){if(n.tag===13||n.tag===31){var r=$r(n,67108864);r!==null&&en(r,n,67108864),zh(n,67108864)}}function Cv(n){if(n.tag===13||n.tag===31){var r=hn();r=$s(r);var s=$r(n,r);s!==null&&en(s,n,r),zh(n,r)}}var ac=!0;function Ux(n,r,s,l){var f=T.T;T.T=null;var g=O.p;try{O.p=2,Uh(n,r,s,l)}finally{O.p=g,T.T=f}}function Yx(n,r,s,l){var f=T.T;T.T=null;var g=O.p;try{O.p=8,Uh(n,r,s,l)}finally{O.p=g,T.T=f}}function Uh(n,r,s,l){if(ac){var f=Yh(l);if(f===null)Nh(n,r,l,sc,s),Iv(n,l);else if(Gx(f,n,r,s,l))l.stopPropagation();else if(Iv(n,l),r&4&&-1<Zx.indexOf(n)){for(;f!==null;){var g=er(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=vi(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-Ht(b);w.entanglements[1]|=D,b&=~D}ai(g),(Fe&6)===0&&(ku=Ot()+500,Vo(0))}}break;case 31:case 13:w=$r(g,2),w!==null&&en(w,g,2),Xu(),zh(g,2)}if(g=Yh(l),g===null&&Nh(n,r,l,sc,s),g===f)break;f=g}f!==null&&l.stopPropagation()}else Nh(n,r,l,null,s)}}function Yh(n){return n=Gf(n),Zh(n)}var sc=null;function Zh(n){if(sc=null,n=qi(n),n!==null){var r=u(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=d(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return sc=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case yi:return 2;case Qi:return 8;case kr:case Tf:return 32;case xa:return 268435456;default:return 32}default:return 32}}var Gh=!1,Er=null,wr=null,Nr=null,Zo=new Map,Go=new Map,xr=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(n,r){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Zo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(r.pointerId)}}function ko(n,r,s,l,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},r!==null&&(r=er(r),r!==null&&Tv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Gx(n,r,s,l,f){switch(r){case"focusin":return Er=ko(Er,n,r,s,l,f),!0;case"dragenter":return wr=ko(wr,n,r,s,l,f),!0;case"mouseover":return Nr=ko(Nr,n,r,s,l,f),!0;case"pointerover":var g=f.pointerId;return Zo.set(g,ko(Zo.get(g)||null,n,r,s,l,f)),!0;case"gotpointercapture":return g=f.pointerId,Go.set(g,ko(Go.get(g)||null,n,r,s,l,f)),!0}return!1}function Dv(n){var r=qi(n.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Jl(n.priority,function(){Cv(s)});return}}else if(r===31){if(r=d(s),r!==null){n.blockedOn=r,Jl(n.priority,function(){Cv(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Yh(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Zf=l,s.target.dispatchEvent(l),Zf=null}else return r=er(s),r!==null&&Tv(r),n.blockedOn=s,!1;r.shift()}return!0}function _v(n,r,s){oc(n)&&s.delete(r)}function kx(){Gh=!1,Er!==null&&oc(Er)&&(Er=null),wr!==null&&oc(wr)&&(wr=null),Nr!==null&&oc(Nr)&&(Nr=null),Zo.forEach(_v),Go.forEach(_v)}function lc(n,r){n.blockedOn===r&&(n.blockedOn=null,Gh||(Gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kx)))}var uc=null;function Ov(n){uc!==n&&(uc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uc===n&&(uc=null);for(var r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Zh(l||s)===null)continue;break}var g=er(s);g!==null&&(n.splice(r,3),r-=3,Yd(g,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function gs(n){function r(D){return lc(D,n)}Er!==null&&lc(Er,n),wr!==null&&lc(wr,n),Nr!==null&&lc(Nr,n),Zo.forEach(r),Go.forEach(r);for(var s=0;s<xr.length;s++){var l=xr[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<xr.length&&(s=xr[0],s.blockedOn===null);)Dv(s),s.blockedOn===null&&xr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],g=s[l+1],b=f[Yt]||null;if(typeof g=="function")b||Ov(s);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Yt]||null)w=b.formAction;else if(Zh(f)!==null)continue}else w=b.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),Ov(s)}}}function Vv(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function kh(n){this._internalRoot=n}cc.prototype.render=kh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=hn();Nv(s,l,n,r,null,null)},cc.prototype.unmount=kh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Nv(n.current,2,null,n,null,null),Xu(),r[bi]=null}};function cc(n){this._internalRoot=n}cc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Fl();n={blockedOn:null,target:n,priority:r};for(var s=0;s<xr.length&&r!==0&&r<xr[s].priority;s++);xr.splice(s,0,n),s===0&&Dv(n)}};var Mv=e.version;if(Mv!=="19.2.1")throw Error(a(527,Mv,"19.2.1"));O.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Wx={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Wr=fc.inject(Wx),Kt=fc}catch{}}return Xo.createRoot=function(n,r){if(!o(n))throw Error(a(299));var s=!1,l="",f=Gy,g=ky,b=Wy;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Ev(n,1,!1,null,null,s,l,null,f,g,b,Vv),n[bi]=r.current,wh(n),new kh(r)},Xo.hydrateRoot=function(n,r,s){if(!o(n))throw Error(a(299));var l=!1,f="",g=Gy,b=ky,w=Wy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),r=Ev(n,1,!0,r,s??null,l,f,D,g,b,w,Vv),r.context=wv(null),s=r.current,l=hn(),l=$s(l),f=cr(l),f.callback=null,fr(s,f,l),s=l,r.current.lanes=s,Kr(r,s),ai(r),n[bi]=r.current,wh(n),new cc(r)},Xo.version="19.2.1",Xo}var Xv;function Qx(){if(Xv)return Xh.exports;Xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xh.exports=Px(),Xh.exports}var qx=Qx(),Be;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(Be||(Be={}));function Fg(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}var W;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(W||(W={}));function e2(){let t=0,e=0;for(let a=0;a<28;a+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let a=3;a<=31;a+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function jh(t,e,i){for(let u=0;u<28;u=u+7){const c=t>>>u,d=!(!(c>>>7)&&e==0),m=(d?c|128:c)&255;if(i.push(m),!d)return}const a=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?a|128:a)&255),!!o){for(let u=3;u<31;u=u+7){const c=e>>>u,d=!!(c>>>7),m=(d?c|128:c)&255;if(i.push(m),!d)return}i.push(e>>>31&1)}}const Ic=4294967296;function Kv(t){const e=t[0]==="-";e&&(t=t.slice(1));const i=1e6;let a=0,o=0;function u(c,d){const m=Number(t.slice(c,d));o*=i,a=a*i+m,a>=Ic&&(o=o+(a/Ic|0),a=a%Ic)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?wA(a,o):Jg(a,o)}function t2(t,e){let i=Jg(t,e);const a=i.hi&2147483648;a&&(i=wA(i.lo,i.hi));const o=EA(i.lo,i.hi);return a?"-"+o:o}function EA(t,e){if({lo:t,hi:e}=n2(t,e),e<=2097151)return String(Ic*e+t);const i=t&16777215,a=(t>>>24|e<<8)&16777215,o=e>>16&65535;let u=i+a*6777216+o*6710656,c=a+o*8147497,d=o*2;const m=1e7;return u>=m&&(c+=Math.floor(u/m),u%=m),c>=m&&(d+=Math.floor(c/m),c%=m),d.toString()+Hv(c)+Hv(u)}function n2(t,e){return{lo:t>>>0,hi:e>>>0}}function Jg(t,e){return{lo:t|0,hi:e|0}}function wA(t,e){return e=~e,t?t=~t+1:e+=1,Jg(t,e)}const Hv=t=>{const e=String(t);return"0000000".slice(e.length)+e};function bg(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}function i2(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var Fv={};const ct=r2();function r2(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof Fv!="object"||Fv.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),u=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>a||d<i)throw new Error(`invalid int64: ${c}`);return d},uParse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>u||d<o)throw new Error(`invalid uint64: ${c}`);return d},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,d){return t.setInt32(0,c,!0),t.setInt32(4,d,!0),t.getBigInt64(0,!0)},uDec(c,d){return t.setInt32(0,c,!0),t.setInt32(4,d,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),Jv(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),jv(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),Jv(i),Kv(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),jv(i),Kv(i)},dec(i,a){return t2(i,a)},uDec(i,a){return EA(i,a)}}}function Jv(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function jv(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}function va(t,e){switch(t){case W.STRING:return"";case W.BOOL:return!1;case W.DOUBLE:case W.FLOAT:return 0;case W.INT64:case W.UINT64:case W.SFIXED64:case W.FIXED64:case W.SINT64:return e?"0":ct.zero;case W.BYTES:return new Uint8Array(0);default:return 0}}function a2(t,e){switch(t){case W.BOOL:return e===!1;case W.STRING:return e==="";case W.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const NA=2,Zi=Symbol.for("reflect unsafe local");function xA(t,e){const i=t[e.localName].case;return i===void 0?i:e.fields.find(a=>a.localName===i)}function s2(t,e){const i=e.localName;if(e.oneof)return t[e.oneof.localName].case===i;if(e.presence!=NA)return t[i]!==void 0&&Object.prototype.hasOwnProperty.call(t,i);switch(e.fieldKind){case"list":return t[i].length>0;case"map":return Object.keys(t[i]).length>0;case"scalar":return!a2(e.scalar,t[i]);case"enum":return t[i]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function ul(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function TA(t,e){if(e.oneof){const i=t[e.oneof.localName];return i.case===e.localName?i.value:void 0}return t[e.localName]}function CA(t,e,i){e.oneof?t[e.oneof.localName]={case:e.localName,value:i}:t[e.localName]=i}function o2(t,e){const i=e.localName;if(e.oneof){const a=e.oneof.localName;t[a].case===i&&(t[a]={case:void 0})}else if(e.presence!=NA)delete t[i];else switch(e.fieldKind){case"map":t[i]={};break;case"list":t[i]=[];break;case"enum":t[i]=e.enum.values[0].number;break;case"scalar":t[i]=va(e.scalar,e.longAsString);break}}function zr(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function jg(t,e){var i,a,o,u;if(zr(t)&&Zi in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const c=e,d=t.field();return c.listKind==d.listKind&&c.scalar===d.scalar&&((i=c.message)===null||i===void 0?void 0:i.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=c.enum)===null||o===void 0?void 0:o.typeName)===((u=d.enum)===null||u===void 0?void 0:u.typeName)}return!0}return!1}function $g(t,e){var i,a,o,u;if(zr(t)&&Zi in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const c=e,d=t.field();return c.mapKey===d.mapKey&&c.mapKind==d.mapKind&&c.scalar===d.scalar&&((i=c.message)===null||i===void 0?void 0:i.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=c.enum)===null||o===void 0?void 0:o.typeName)===((u=d.enum)===null||u===void 0?void 0:u.typeName)}return!0}return!1}function Pg(t,e){return zr(t)&&Zi in t&&"desc"in t&&zr(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}function l2(t){return RA(t.$typeName)}function _l(t){const e=t.fields[0];return RA(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function RA(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const u2=999,c2=998,Dc=2;function be(t,e){if(Fg(e,t))return e;const i=m2(t);return e!==void 0&&f2(t,i,e),i}function f2(t,e,i){for(const a of t.members){let o=i[a.localName];if(o==null)continue;let u;if(a.kind=="oneof"){const c=xA(i,a);if(!c)continue;u=c,o=TA(i,c)}else u=a;switch(u.fieldKind){case"message":o=Qg(u,o);break;case"scalar":o=IA(u,o);break;case"list":o=h2(u,o);break;case"map":o=d2(u,o);break}CA(e,u,o)}return e}function IA(t,e){return t.scalar==W.BYTES?qg(e):e}function d2(t,e){if(zr(e)){if(t.scalar==W.BYTES)return $v(e,qg);if(t.mapKind=="message")return $v(e,i=>Qg(t,i))}return e}function h2(t,e){if(Array.isArray(e)){if(t.scalar==W.BYTES)return e.map(qg);if(t.listKind=="message")return e.map(i=>Qg(t,i))}return e}function Qg(t,e){if(t.fieldKind=="message"&&!t.oneof&&_l(t.message))return IA(t.message.fields[0],e);if(zr(e)){if(t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!=="google.protobuf.Value")return e;if(!Fg(e,t.message))return be(t.message,e)}return e}function qg(t){return Array.isArray(t)?new Uint8Array(t):t}function $v(t,e){const i={};for(const a of Object.entries(t))i[a[0]]=e(a[1]);return i}const g2=Symbol(),Pv=new WeakMap;function m2(t){let e;if(p2(t)){const i=Pv.get(t);let a,o;if(i)({prototype:a,members:o}=i);else{a={},o=new Set;for(const u of t.members)u.kind!="oneof"&&(u.fieldKind!="scalar"&&u.fieldKind!="enum"||u.presence!=Dc&&(o.add(u),a[u.localName]=$h(u)));Pv.set(t,{prototype:a,members:o})}e=Object.create(a),e.$typeName=t.typeName;for(const u of t.members)o.has(u)||u.kind=="field"&&(u.fieldKind=="message"||(u.fieldKind=="scalar"||u.fieldKind=="enum")&&u.presence!=Dc)||(e[u.localName]=$h(u))}else{e={$typeName:t.typeName};for(const i of t.members)(i.kind=="oneof"||i.presence==Dc)&&(e[i.localName]=$h(i))}return e}function p2(t){switch(t.file.edition){case u2:return!1;case c2:return!0;default:return t.fields.some(e=>e.presence!=Dc&&e.fieldKind!="message"&&!e.oneof)}}function $h(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return g2;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?va(t.scalar,t.longAsString):t.enum.values[0].number}const y2=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class an extends Error{constructor(e,i,a="FieldValueInvalidError"){super(i),this.name=a,this.field=()=>e}}function v2(t){return t instanceof Error&&y2.includes(t.name)&&"field"in t&&typeof t.field=="function"}const Ph=Symbol.for("@bufbuild/protobuf/text-encoding");function em(){if(globalThis[Ph]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Ph]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Ph]}var bt;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(bt||(bt={}));const DA=34028234663852886e22,_A=-34028234663852886e22,OA=4294967295,VA=2147483647,MA=-2147483648;class BA{constructor(e=em().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),a=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],a),a+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Qv(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Qh(e),bg(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){b2(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){Qv(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){Qh(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return Qh(e),e=(e<<1^e>>31)>>>0,bg(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),a=new DataView(i.buffer),o=ct.enc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),a=new DataView(i.buffer),o=ct.uEnc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=ct.enc(e);return jh(i.lo,i.hi,this.buf),this}sint64(e){const i=ct.enc(e),a=i.hi>>31,o=i.lo<<1^a,u=(i.hi<<1|i.lo>>>31)^a;return jh(o,u,this.buf),this}uint64(e){const i=ct.uEnc(e);return jh(i.lo,i.hi,this.buf),this}}class tm{constructor(e,i=em().decodeUtf8){this.decodeUtf8=i,this.varint64=e2,this.uint32=i2,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,a=e&7;if(i<=0||a<0||a>5)throw new Error("illegal tag: field no "+i+" wire type "+a);return[i,a]}skip(e,i){let a=this.pos;switch(e){case bt.Varint:for(;this.buf[this.pos++]&128;);break;case bt.Bit64:this.pos+=4;case bt.Bit32:this.pos+=4;break;case bt.LengthDelimited:let o=this.uint32();this.pos+=o;break;case bt.StartGroup:for(;;){const[u,c]=this.tag();if(c===bt.EndGroup){if(i!==void 0&&u!==i)throw new Error("invalid end group tag");break}this.skip(c,u)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ct.dec(...this.varint64())}uint64(){return ct.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),a=-(e&1);return e=(e>>>1|(i&1)<<31)^a,i=i>>>1^a,ct.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ct.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ct.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}}function Qh(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>VA||t<MA)throw new Error("invalid int32: "+t)}function Qv(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>OA||t<0)throw new Error("invalid uint32: "+t)}function b2(t){if(typeof t=="string"){const e=t;if(t=Number(t),Number.isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>DA||t<_A))throw new Error("invalid float32: "+t)}function ua(t,e){const i=t.fieldKind=="list"?jg(e,t):t.fieldKind=="map"?$g(e,t):nm(t,e);if(i===!0)return;let a;switch(t.fieldKind){case"list":a=`expected ${UA(t)}, got ${_t(e)}`;break;case"map":a=`expected ${YA(t)}, got ${_t(e)}`;break;default:a=zc(t,e,i)}return new an(t,a)}function qv(t,e,i){const a=nm(t,i);if(a!==!0)return new an(t,`list item #${e+1}: ${zc(t,i,a)}`)}function S2(t,e,i){const a=LA(e,t.mapKey);if(a!==!0)return new an(t,`invalid map key: ${zc({scalar:t.mapKey},e,a)}`);const o=nm(t,i);if(o!==!0)return new an(t,`map entry ${_t(e)}: ${zc(t,i,o)}`)}function nm(t,e){return t.scalar!==void 0?LA(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(i=>i.number===e):Pg(e,t.message)}function LA(t,e){switch(e){case W.DOUBLE:return typeof t=="number";case W.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>DA||t<_A?`${t.toFixed()} out of range`:!0;case W.INT32:case W.SFIXED32:case W.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>VA||t<MA?`${t.toFixed()} out of range`:!0;case W.FIXED32:case W.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>OA||t<0?`${t.toFixed()} out of range`:!0;case W.BOOL:return typeof t=="boolean";case W.STRING:return typeof t!="string"?!1:em().checkUtf8(t)||"invalid UTF8";case W.BYTES:return t instanceof Uint8Array;case W.INT64:case W.SFIXED64:case W.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return ct.parse(t),!0}catch{return`${t} out of range`}return!1;case W.FIXED64:case W.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return ct.uParse(t),!0}catch{return`${t} out of range`}return!1}}function zc(t,e,i){return i=typeof i=="string"?`: ${i}`:`, got ${_t(e)}`,t.scalar!==void 0?`expected ${A2(t.scalar)}`+i:t.enum!==void 0?`expected ${t.enum.toString()}`+i:`expected ${zA(t.message)}`+i}function _t(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:jg(t)?UA(t.field()):$g(t)?YA(t.field()):Pg(t)?zA(t.desc):Fg(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function zA(t){return`ReflectMessage (${t.typeName})`}function UA(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${W[t.scalar]})`}}function YA(t){switch(t.mapKind){case"message":return`ReflectMap (${W[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${W[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${W[t.mapKey]}, ${W[t.scalar]})`}}function A2(t){switch(t){case W.STRING:return"string";case W.BOOL:return"boolean";case W.INT64:case W.SINT64:case W.SFIXED64:return"bigint (int64)";case W.UINT64:case W.FIXED64:return"bigint (uint64)";case W.BYTES:return"Uint8Array";case W.DOUBLE:return"number (float64)";case W.FLOAT:return"number (float32)";case W.FIXED32:case W.UINT32:return"number (uint32)";case W.INT32:case W.SFIXED32:case W.SINT32:return"number (int32)"}}function _n(t,e,i=!0){return new ZA(t,e,i)}const eb=new WeakMap;class ZA{get sortedFields(){const e=eb.get(this.desc);if(e)return e;const i=this.desc.fields.concat().sort((a,o)=>a.number-o.number);return eb.set(this.desc,i),i}constructor(e,i,a=!0){this.lists=new Map,this.maps=new Map,this.check=a,this.desc=e,this.message=this[Zi]=i??be(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(i=>[i.number,i]))),this._fieldsByNumber.get(e)}oneofCase(e){return Ko(this.message,e),xA(this.message,e)}isSet(e){return Ko(this.message,e),s2(this.message,e)}clear(e){Ko(this.message,e),o2(this.message,e)}get(e){Ko(this.message,e);const i=TA(this.message,e);switch(e.fieldKind){case"list":let a=this.lists.get(e);return(!a||a[Zi]!==i)&&this.lists.set(e,a=new E2(e,i,this.check)),a;case"map":let o=this.maps.get(e);return(!o||o[Zi]!==i)&&this.maps.set(e,o=new w2(e,i,this.check)),o;case"message":return rm(e,i,this.check);case"scalar":return i===void 0?va(e.scalar,!1):am(e,i);case"enum":return i??e.enum.values[0].number}}set(e,i){if(Ko(this.message,e),this.check){const o=ua(e,i);if(o)throw o}let a;e.fieldKind=="message"?a=im(e,i):$g(i)||jg(i)?a=i[Zi]:a=sm(e,i),CA(this.message,e,a)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Ko(t,e){if(e.parent.typeName!==t.$typeName)throw new an(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}class E2{field(){return this._field}get size(){return this._arr.length}constructor(e,i,a){this._field=e,this._arr=this[Zi]=i,this.check=a}get(e){const i=this._arr[e];return i===void 0?void 0:qh(this._field,i,this.check)}set(e,i){if(e<0||e>=this._arr.length)throw new an(this._field,`list item #${e+1}: out of range`);if(this.check){const a=qv(this._field,e,i);if(a)throw a}this._arr[e]=tb(this._field,i)}add(e){if(this.check){const i=qv(this._field,this._arr.length,e);if(i)throw i}this._arr.push(tb(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield qh(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,qh(this._field,this._arr[e],this.check)]}}class w2{constructor(e,i,a=!0){this.obj=this[Zi]=i??{},this.check=a,this._field=e}field(){return this._field}set(e,i){if(this.check){const a=S2(this._field,e,i);if(a)throw a}return this.obj[dc(e)]=N2(this._field,i),this}delete(e){const i=dc(e),a=Object.prototype.hasOwnProperty.call(this.obj,i);return a&&delete this.obj[i],a}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let i=this.obj[dc(e)];return i!==void 0&&(i=eg(this._field,i,this.check)),i}has(e){return Object.prototype.hasOwnProperty.call(this.obj,dc(e))}*keys(){for(const e of Object.keys(this.obj))yield nb(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[nb(e[0],this._field.mapKey),eg(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield eg(this._field,e,this.check)}forEach(e,i){for(const a of this.entries())e.call(i,a[1],a[0],this)}}function im(t,e){return Pg(e)?l2(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?kA(e.message):e.message:e}function rm(t,e,i){return e!==void 0&&(_l(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:am(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&zr(e)&&(e=GA(e))),new ZA(t.message,e,i)}function tb(t,e){return t.listKind=="message"?im(t,e):sm(t,e)}function qh(t,e,i){return t.listKind=="message"?rm(t,e,i):am(t,e)}function N2(t,e){return t.mapKind=="message"?im(t,e):sm(t,e)}function eg(t,e,i){return t.mapKind=="message"?rm(t,e,i):e}function dc(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function nb(t,e){switch(e){case W.STRING:return t;case W.INT32:case W.FIXED32:case W.UINT32:case W.SFIXED32:case W.SINT32:{const i=Number.parseInt(t);if(Number.isFinite(i))return i;break}case W.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case W.UINT64:case W.FIXED64:try{return ct.uParse(t)}catch{}break;default:try{return ct.parse(t)}catch{}break}return t}function am(t,e){switch(t.scalar){case W.INT64:case W.SFIXED64:case W.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=ct.parse(e));break;case W.FIXED64:case W.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=ct.uParse(e));break}return e}function sm(t,e){switch(t.scalar){case W.INT64:case W.SFIXED64:case W.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ct.parse(e));break;case W.FIXED64:case W.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ct.uParse(e));break}return e}function GA(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(zr(t))for(const[i,a]of Object.entries(t))e.fields[i]=XA(a);return e}function kA(t){const e={};for(const[i,a]of Object.entries(t.fields))e[i]=WA(a);return e}function WA(t){switch(t.kind.case){case"structValue":return kA(t.kind.value);case"listValue":return t.kind.value.values.map(WA);case"nullValue":case void 0:return null;default:return t.kind.value}}function XA(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const i={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const a of t)i.values.push(XA(a));e.kind={case:"listValue",value:i}}else e.kind={case:"structValue",value:GA(t)};break}return e}function om(t){const e=T2();let i=t.length*3/4;t[t.length-2]=="="?i-=2:t[t.length-1]=="="&&(i-=1);let a=new Uint8Array(i),o=0,u=0,c,d=0;for(let m=0;m<t.length;m++){if(c=e[t.charCodeAt(m)],c===void 0)switch(t[m]){case"=":u=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(u){case 0:d=c,u=1;break;case 1:a[o++]=d<<2|(c&48)>>4,d=c,u=2;break;case 2:a[o++]=(d&15)<<4|(c&60)>>2,d=c,u=3;break;case 3:a[o++]=(d&3)<<6|c,u=0;break}}if(u==1)throw Error("invalid base64 string");return a.subarray(0,o)}function x2(t,e="std"){const i=KA(e),a=e=="std";let o="",u=0,c,d=0;for(let m=0;m<t.length;m++)switch(c=t[m],u){case 0:o+=i[c>>2],d=(c&3)<<4,u=1;break;case 1:o+=i[d|c>>4],d=(c&15)<<2,u=2;break;case 2:o+=i[d|c>>6],o+=i[c&63],u=0;break}return u&&(o+=i[d],a&&(o+="=",u==1&&(o+="="))),o}let hc,ib,ms;function KA(t){return hc||(hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ib=hc.slice(0,-2).concat("-","_")),t=="url"?ib:hc}function T2(){if(!ms){ms=[];const t=KA("std");for(let e=0;e<t.length;e++)ms[t[e].charCodeAt(0)]=e;ms[45]=t.indexOf("+"),ms[95]=t.indexOf("/")}return ms}function cl(t){let e=!1;const i=[];for(let a=0;a<t.length;a++){let o=t.charAt(a);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),i.push(o);break}}return i.join("")}const C2=new Set(["constructor","toString","toJSON","valueOf"]);function fl(t){return C2.has(t)?t+"$":t}function lm(t){for(const e of t.field)ul(e,"jsonName")||(e.jsonName=cl(e.name));t.nestedType.forEach(lm)}function R2(t,e){const i=t.values.find(a=>a.name===e);if(!i)throw new Error(`cannot parse ${t} default value: ${e}`);return i.number}function I2(t,e){switch(t){case W.STRING:return e;case W.BYTES:{const i=D2(e);if(i===!1)throw new Error(`cannot parse ${W[t]} default value: ${e}`);return i}case W.INT64:case W.SFIXED64:case W.SINT64:return ct.parse(e);case W.UINT64:case W.FIXED64:return ct.uParse(e);case W.DOUBLE:case W.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case W.BOOL:return e==="true";case W.INT32:case W.UINT32:case W.SINT32:case W.FIXED32:case W.SFIXED32:return parseInt(e,10)}}function D2(t){const e=[],i={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(a){if(this.tail.length>=a){const o=this.tail.substring(0,a);return this.tail=this.tail.substring(a),o}return!1}};for(;i.next();)switch(i.c){case"\\":if(i.next())switch(i.c){case"\\":e.push(i.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const a=i.c,o=i.take(2);if(o===!1)return!1;const u=parseInt(a+o,8);if(Number.isNaN(u))return!1;e.push(u);break}case"x":{const a=i.c,o=i.take(2);if(o===!1)return!1;const u=parseInt(a+o,16);if(Number.isNaN(u))return!1;e.push(u);break}case"u":{const a=i.c,o=i.take(4);if(o===!1)return!1;const u=parseInt(a+o,16);if(Number.isNaN(u))return!1;const c=new Uint8Array(4);new DataView(c.buffer).setInt32(0,u,!0),e.push(c[0],c[1],c[2],c[3]);break}case"U":{const a=i.c,o=i.take(8);if(o===!1)return!1;const u=ct.uEnc(a+o),c=new Uint8Array(8),d=new DataView(c.buffer);d.setInt32(0,u.lo,!0),d.setInt32(4,u.hi,!0),e.push(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);break}}break;default:e.push(i.c.charCodeAt(0))}return new Uint8Array(e)}function*Sg(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*Sg(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*Sg(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function HA(...t){const e=_2();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const a of t[0].file)ob(a,e);return e}if("$typeName"in t[0]){let c=function(d){const m=[];for(const h of d.dependency){if(e.getFile(h)!=null||u.has(h))continue;const p=o(h);if(!p)throw new Error(`Unable to resolve ${h}, imported by ${d.name}`);"kind"in p?e.addFile(p,!1,!0):(u.add(p.name),m.push(p))}return m.concat(...m.map(c))};var i=c;const a=t[0],o=t[1],u=new Set;for(const d of[a,...c(a)].reverse())ob(d,e)}else for(const a of t)for(const o of a.files)e.addFile(o);return e}function _2(){const t=new Map,e=new Map,i=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return i.values()},addFile(a,o,u){if(i.set(a.proto.name,a),!o)for(const c of Sg(a))this.add(c);if(u)for(const c of a.dependencies)this.addFile(c,o,u)},add(a){if(a.kind=="extension"){let o=e.get(a.extendee.typeName);o||e.set(a.extendee.typeName,o=new Map),o.set(a.number,a)}t.set(a.typeName,a)},get(a){return t.get(a)},getFile(a){return i.get(a)},getMessage(a){const o=t.get(a);return o?.kind=="message"?o:void 0},getEnum(a){const o=t.get(a);return o?.kind=="enum"?o:void 0},getExtension(a){const o=t.get(a);return o?.kind=="extension"?o:void 0},getExtensionFor(a,o){var u;return(u=e.get(a.typeName))===null||u===void 0?void 0:u.get(o)},getService(a){const o=t.get(a);return o?.kind=="service"?o:void 0}}}const O2=998,V2=999,M2=9,dl=10,tl=11,B2=12,rb=14,um=3,L2=2,ab=1,z2=0,tg=1,sb=2,U2=3,Y2=1,Z2=2,G2=1,FA={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function ob(t,e){var i,a;const o={kind:"file",proto:t,deprecated:(a=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,edition:K2(t),name:t.name.replace(/\.proto$/,""),dependencies:H2(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},u=new Map,c={get(d){return u.get(d)},add(d){var m;Xn(((m=d.proto.options)===null||m===void 0?void 0:m.mapEntry)===!0),u.set(d.typeName,d)}};for(const d of t.enumType)JA(d,o,void 0,e);for(const d of t.messageType)jA(d,o,void 0,e,c);for(const d of t.service)k2(d,o,e);Ag(o,e);for(const d of u.values())Eg(d,e,c);for(const d of o.messages)Eg(d,e,c),Ag(d,e);e.addFile(o,!0)}function Ag(t,e){switch(t.kind){case"file":for(const i of t.proto.extension){const a=wg(i,t,e);t.extensions.push(a),e.add(a)}break;case"message":for(const i of t.proto.extension){const a=wg(i,t,e);t.nestedExtensions.push(a),e.add(a)}for(const i of t.nestedMessages)Ag(i,e);break}}function Eg(t,e,i){const a=t.proto.oneofDecl.map(u=>X2(u,t)),o=new Set;for(const u of t.proto.field){const c=j2(u,a),d=wg(u,t,e,c,i);t.fields.push(d),t.field[d.localName]=d,c===void 0?t.members.push(d):(c.fields.push(d),o.has(c)||(o.add(c),t.members.push(c)))}for(const u of a.filter(c=>o.has(c)))t.oneofs.push(u);for(const u of t.nestedMessages)Eg(u,e,i)}function JA(t,e,i,a){var o,u,c,d,m;const h=F2(t.name,t.value),p={kind:"enum",proto:t,deprecated:(u=(o=t.options)===null||o===void 0?void 0:o.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:i,open:!0,name:t.name,typeName:rf(t,i,e),value:{},values:[],sharedPrefix:h,toString(){return`enum ${this.typeName}`}};p.open=q2(p),a.add(p);for(const y of t.value){const v=y.name;p.values.push(p.value[y.number]={kind:"enum_value",proto:y,deprecated:(d=(c=y.options)===null||c===void 0?void 0:c.deprecated)!==null&&d!==void 0?d:!1,parent:p,name:v,localName:fl(h==null?v:v.substring(h.length)),number:y.number,toString(){return`enum value ${p.typeName}.${v}`}})}((m=i?.nestedEnums)!==null&&m!==void 0?m:e.enums).push(p)}function jA(t,e,i,a,o){var u,c,d,m;const h={kind:"message",proto:t,deprecated:(c=(u=t.options)===null||u===void 0?void 0:u.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:i,name:t.name,typeName:rf(t,i,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=t.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(h):(((m=i?.nestedMessages)!==null&&m!==void 0?m:e.messages).push(h),a.add(h));for(const p of t.enumType)JA(p,e,h,a);for(const p of t.nestedType)jA(p,e,h,a,o)}function k2(t,e,i){var a,o;const u={kind:"service",proto:t,deprecated:(o=(a=t.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,file:e,name:t.name,typeName:rf(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(u),i.add(u);for(const c of t.method){const d=W2(c,u,i);u.methods.push(d),u.method[d.localName]=d}}function W2(t,e,i){var a,o,u,c;let d;t.clientStreaming&&t.serverStreaming?d="bidi_streaming":t.clientStreaming?d="client_streaming":t.serverStreaming?d="server_streaming":d="unary";const m=i.getMessage(Yi(t.inputType)),h=i.getMessage(Yi(t.outputType));Xn(m,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),Xn(h,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const p=t.name;return{kind:"rpc",proto:t,deprecated:(o=(a=t.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:p,localName:fl(p.length?fl(p[0].toLowerCase()+p.substring(1)):p),methodKind:d,input:m,output:h,idempotency:(c=(u=t.options)===null||u===void 0?void 0:u.idempotencyLevel)!==null&&c!==void 0?c:z2,toString(){return`rpc ${e.typeName}.${p}`}}}function X2(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:fl(cl(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function wg(t,e,i,a,o){var u,c,d;const m=o===void 0,h={kind:"field",proto:t,deprecated:(c=(u=t.options)===null||u===void 0?void 0:u.deprecated)!==null&&c!==void 0?c:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:$2(t,a,m,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(m){const S=e.kind=="file"?e:e.file,E=e.kind=="file"?void 0:e,A=rf(t,E,S);h.kind="extension",h.file=S,h.parent=E,h.oneof=void 0,h.typeName=A,h.jsonName=`[${A}]`,h.toString=()=>`extension ${A}`;const I=i.getMessage(Yi(t.extendee));Xn(I,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),h.extendee=I}else{const S=e;Xn(S.kind=="message"),h.parent=S,h.oneof=a,h.localName=a?cl(t.name):fl(cl(t.name)),h.jsonName=t.jsonName,h.toString=()=>`field ${S.typeName}.${t.name}`}const p=t.label,y=t.type,v=(d=t.options)===null||d===void 0?void 0:d.jstype;if(p===um){const S=y==tl?o?.get(Yi(t.typeName)):void 0;if(S){h.fieldKind="map";const{key:E,value:A}=Q2(S);return h.mapKey=E.scalar,h.mapKind=A.fieldKind,h.message=A.message,h.delimitedEncoding=!1,h.enum=A.enum,h.scalar=A.scalar,h}switch(h.fieldKind="list",y){case tl:case dl:h.listKind="message",h.message=i.getMessage(Yi(t.typeName)),Xn(h.message),h.delimitedEncoding=lb(t,e);break;case rb:h.listKind="enum",h.enum=i.getEnum(Yi(t.typeName)),Xn(h.enum);break;default:h.listKind="scalar",h.scalar=y,h.longAsString=v==ab;break}return h.packed=P2(t,e),h}switch(y){case tl:case dl:h.fieldKind="message",h.message=i.getMessage(Yi(t.typeName)),Xn(h.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),h.delimitedEncoding=lb(t,e),h.getDefaultValue=()=>{};break;case rb:{const S=i.getEnum(Yi(t.typeName));Xn(S!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),h.fieldKind="enum",h.enum=i.getEnum(Yi(t.typeName)),h.getDefaultValue=()=>ul(t,"defaultValue")?R2(S,t.defaultValue):void 0;break}default:{h.fieldKind="scalar",h.scalar=y,h.longAsString=v==ab,h.getDefaultValue=()=>ul(t,"defaultValue")?I2(y,t.defaultValue):void 0;break}}return h}function K2(t){switch(t.syntax){case"":case"proto2":return O2;case"proto3":return V2;case"editions":if(t.edition in FA)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function H2(t,e){return t.dependency.map(i=>{const a=e.getFile(i);if(!a)throw new Error(`Cannot find ${i}, imported by ${t.name}`);return a})}function F2(t,e){const i=J2(t)+"_";for(const a of e){if(!a.name.toLowerCase().startsWith(i))return;const o=a.name.substring(i.length);if(o.length==0||/^\d/.test(o))return}return i}function J2(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function rf(t,e,i){let a;return e?a=`${e.typeName}.${t.name}`:i.proto.package.length>0?a=`${i.proto.package}.${t.name}`:a=`${t.name}`,a}function Yi(t){return t.startsWith(".")?t.substring(1):t}function j2(t,e){if(!ul(t,"oneofIndex")||t.proto3Optional)return;const i=e[t.oneofIndex];return Xn(i,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),i}function $2(t,e,i,a){if(t.label==L2)return U2;if(t.label==um)return sb;if(e||t.proto3Optional||i)return tg;const o=Ds("fieldPresence",{proto:t,parent:a});return o==sb&&(t.type==tl||t.type==dl)?tg:o}function P2(t,e){if(t.label!=um)return!1;switch(t.type){case M2:case B2:case dl:case tl:return!1}const i=t.options;return i&&ul(i,"packed")?i.packed:Y2==Ds("repeatedFieldEncoding",{proto:t,parent:e})}function Q2(t){const e=t.fields.find(a=>a.number===1),i=t.fields.find(a=>a.number===2);return Xn(e&&e.fieldKind=="scalar"&&e.scalar!=W.BYTES&&e.scalar!=W.FLOAT&&e.scalar!=W.DOUBLE&&i&&i.fieldKind!="list"&&i.fieldKind!="map"),{key:e,value:i}}function q2(t){var e;return G2==Ds("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function lb(t,e){return t.type==dl?!0:Z2==Ds("messageEncoding",{proto:t,parent:e})}function Ds(t,e){var i,a;const o=(i=e.proto.options)===null||i===void 0?void 0:i.features;if(o){const u=o[t];if(u!=0)return u}if("kind"in e){if(e.kind=="message")return Ds(t,(a=e.parent)!==null&&a!==void 0?a:e.file);const u=FA[e.edition];if(!u)throw new Error(`feature default for edition ${e.edition} not found`);return u[t]}return Ds(t,e.parent)}function Xn(t,e){if(!t)throw new Error(e)}function eT(t){const e=tT(t);return e.messageType.forEach(lm),HA(e,()=>{}).getFile(e.name)}function tT(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map($A),enumType:t.enumType.map(PA)}))}function $A(t){var e,i,a,o,u,c,d,m;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(i=(e=t.field)===null||e===void 0?void 0:e.map(nT))!==null&&i!==void 0?i:[],extension:[],nestedType:(o=(a=t.nestedType)===null||a===void 0?void 0:a.map($A))!==null&&o!==void 0?o:[],enumType:(c=(u=t.enumType)===null||u===void 0?void 0:u.map(PA))!==null&&c!==void 0?c:[],extensionRange:(m=(d=t.extensionRange)===null||d===void 0?void 0:d.map(p=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},p)))!==null&&m!==void 0?m:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function nT(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?iT(t.options):void 0}))}function iT(t){var e,i,a;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(a=(i=t.editionDefaults)===null||i===void 0?void 0:i.map(u=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},u)))!==null&&a!==void 0?a:[],uninterpretedOption:[]}))}function PA(t){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(i=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},i))})}function Ce(t,e,...i){return i.reduce((a,o)=>a.nestedMessages[o],t.messages[e])}const rT=eT({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),aT=Ce(rT,1);var ub;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(ub||(ub={}));var cb;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(cb||(cb={}));var fb;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(fb||(fb={}));var db;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(db||(db={}));var hb;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(hb||(hb={}));var gb;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(gb||(gb={}));var mb;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mb||(mb={}));var pb;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(pb||(pb={}));var yb;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(yb||(yb={}));var vb;(function(t){t[t.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",t[t.EXPORT_ALL=1]="EXPORT_ALL",t[t.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",t[t.LOCAL_ALL=3]="LOCAL_ALL",t[t.STRICT=4]="STRICT"})(vb||(vb={}));var bb;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(bb||(bb={}));var Sb;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(Sb||(Sb={}));var Ab;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(Ab||(Ab={}));var Eb;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(Eb||(Eb={}));var wb;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(wb||(wb={}));var Nb;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Nb||(Nb={}));var xb;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(xb||(xb={}));var Tb;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(Tb||(Tb={}));var Cb;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(Cb||(Cb={}));var Rb;(function(t){t[t.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",t[t.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",t[t.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Rb||(Rb={}));const Ib={readUnknownFields:!0};function sT(t){return t?Object.assign(Object.assign({},Ib),t):Ib}function On(t,e,i){const a=_n(t,void 0,!1);return QA(a,new tm(e),sT(i),!1,e.byteLength),a.message}function QA(t,e,i,a,o){var u;const c=a?e.len:e.pos+o;let d,m;const h=(u=t.getUnknown())!==null&&u!==void 0?u:[];for(;e.pos<c&&([d,m]=e.tag(),!(a&&m==bt.EndGroup));){const p=t.findNumber(d);if(!p){const y=e.skip(m,d);i.readUnknownFields&&h.push({no:d,wireType:m,data:y});continue}qA(t,e,p,m,i)}if(a&&(m!=bt.EndGroup||d!==o))throw new Error("invalid end group tag");h.length>0&&t.setUnknown(h)}function qA(t,e,i,a,o){var u;switch(i.fieldKind){case"scalar":t.set(i,_s(e,i.scalar));break;case"enum":const c=_s(e,W.INT32);if(i.enum.open)t.set(i,c);else if(i.enum.values.some(m=>m.number===c))t.set(i,c);else if(o.readUnknownFields){const m=[];bg(c,m);const h=(u=t.getUnknown())!==null&&u!==void 0?u:[];h.push({no:i.number,wireType:a,data:new Uint8Array(m)}),t.setUnknown(h)}break;case"message":t.set(i,cm(e,o,i,t.get(i)));break;case"list":lT(e,a,t.get(i),o);break;case"map":oT(e,t.get(i),o);break}}function oT(t,e,i){const a=e.field();let o,u;const c=t.uint32(),d=t.pos+c;for(;t.pos<d;){const[m]=t.tag();switch(m){case 1:o=_s(t,a.mapKey);break;case 2:switch(a.mapKind){case"scalar":u=_s(t,a.scalar);break;case"enum":u=t.int32();break;case"message":u=cm(t,i,a);break}break}}if(o===void 0&&(o=va(a.mapKey,!1)),u===void 0)switch(a.mapKind){case"scalar":u=va(a.scalar,!1);break;case"enum":u=a.enum.values[0].number;break;case"message":u=_n(a.message,void 0,!1);break}e.set(o,u)}function lT(t,e,i,a){var o;const u=i.field();if(u.listKind==="message"){i.add(cm(t,a,u));return}const c=(o=u.scalar)!==null&&o!==void 0?o:W.INT32;if(!(e==bt.LengthDelimited&&c!=W.STRING&&c!=W.BYTES)){i.add(_s(t,c));return}const m=t.uint32()+t.pos;for(;t.pos<m;)i.add(_s(t,c))}function cm(t,e,i,a){const o=i.delimitedEncoding,u=a??_n(i.message,void 0,!1);return QA(u,t,e,o,o?i.number:t.uint32()),u}function _s(t,e){switch(e){case W.STRING:return t.string();case W.BOOL:return t.bool();case W.DOUBLE:return t.double();case W.FLOAT:return t.float();case W.INT32:return t.int32();case W.INT64:return t.int64();case W.UINT64:return t.uint64();case W.FIXED64:return t.fixed64();case W.BYTES:return t.bytes();case W.FIXED32:return t.fixed32();case W.SFIXED32:return t.sfixed32();case W.SFIXED64:return t.sfixed64();case W.SINT64:return t.sint64();case W.UINT32:return t.uint32();case W.SINT32:return t.sint32()}}function Ji(t,e){var i;const a=On(aT,om(t));return a.messageType.forEach(lm),a.dependency=(i=e?.map(u=>u.proto.name))!==null&&i!==void 0?i:[],HA(a,u=>e?.find(c=>c.proto.name===u)).getFile(a.name)}const uT=Ji("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function cT(t){return new Date(fT(t))}function fT(t){return Number(t.seconds)*1e3+Math.round(t.nanos/1e6)}const dT=Ji("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),eE=Ji("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),hT=Ce(eE,0),gT=3,Db={writeUnknownFields:!0};function mT(t){return t?Object.assign(Object.assign({},Db),t):Db}function Ur(t,e,i){return Uc(new BA,mT(i),_n(t,e)).finish()}function Uc(t,e,i){var a;for(const o of i.sortedFields){if(!i.isSet(o)){if(o.presence==gT)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}tE(t,e,i,o)}if(e.writeUnknownFields)for(const{no:o,wireType:u,data:c}of(a=i.getUnknown())!==null&&a!==void 0?a:[])t.tag(o,u).raw(c);return t}function tE(t,e,i,a){var o;switch(a.fieldKind){case"scalar":case"enum":Yc(t,i.desc.typeName,a.name,(o=a.scalar)!==null&&o!==void 0?o:W.INT32,a.number,i.get(a));break;case"list":pT(t,e,a,i.get(a));break;case"message":nE(t,e,a,i.get(a));break;case"map":for(const[u,c]of i.get(a))yT(t,e,a,u,c);break}}function Yc(t,e,i,a,o,u){iE(t.tag(o,vT(a)),e,i,a,u)}function nE(t,e,i,a){i.delimitedEncoding?Uc(t.tag(i.number,bt.StartGroup),e,a).tag(i.number,bt.EndGroup):Uc(t.tag(i.number,bt.LengthDelimited).fork(),e,a).join()}function pT(t,e,i,a){var o;if(i.listKind=="message"){for(const c of a)nE(t,e,i,c);return}const u=(o=i.scalar)!==null&&o!==void 0?o:W.INT32;if(i.packed){if(!a.size)return;t.tag(i.number,bt.LengthDelimited).fork();for(const c of a)iE(t,i.parent.typeName,i.name,u,c);t.join();return}for(const c of a)Yc(t,i.parent.typeName,i.name,u,i.number,c)}function yT(t,e,i,a,o){var u;switch(t.tag(i.number,bt.LengthDelimited).fork(),Yc(t,i.parent.typeName,i.name,i.mapKey,1,a),i.mapKind){case"scalar":case"enum":Yc(t,i.parent.typeName,i.name,(u=i.scalar)!==null&&u!==void 0?u:W.INT32,2,o);break;case"message":Uc(t.tag(2,bt.LengthDelimited).fork(),e,o).join();break}t.join()}function iE(t,e,i,a,o){try{switch(a){case W.STRING:t.string(o);break;case W.BOOL:t.bool(o);break;case W.DOUBLE:t.double(o);break;case W.FLOAT:t.float(o);break;case W.INT32:t.int32(o);break;case W.INT64:t.int64(o);break;case W.UINT64:t.uint64(o);break;case W.FIXED64:t.fixed64(o);break;case W.BYTES:t.bytes(o);break;case W.FIXED32:t.fixed32(o);break;case W.SFIXED32:t.sfixed32(o);break;case W.SFIXED64:t.sfixed64(o);break;case W.SINT64:t.sint64(o);break;case W.UINT32:t.uint32(o);break;case W.SINT32:t.sint32(o);break}}catch(u){throw u instanceof Error?new Error(`cannot encode field ${e}.${i} to binary: ${u.message}`):u}}function vT(t){switch(t){case W.BYTES:case W.STRING:return bt.LengthDelimited;case W.DOUBLE:case W.FIXED64:case W.SFIXED64:return bt.Bit64;case W.FIXED32:case W.SFIXED32:case W.FLOAT:return bt.Bit32;default:return bt.Varint}}function bT(t,e,i){let a=!1;return i||(i=be(hT),a=!0),i.value=Ur(t,e),i.typeUrl=ET(e.$typeName),a?i:void 0}function ST(t,e){if(t.typeUrl==="")return!1;const i=typeof e=="string"?e:e.typeName,a=rE(t.typeUrl);return i===a}function AT(t,e){if(t.typeUrl==="")return;const i=e.kind=="message"?e:e.getMessage(rE(t.typeUrl));if(!(!i||!ST(t,i)))return On(i,t.value)}function ET(t){return`type.googleapis.com/${t}`}function rE(t){const e=t.lastIndexOf("/"),i=e>=0?t.substring(e+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}const fm=Ji("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),wT=Ce(fm,0),aE=Ce(fm,1),NT=Ce(fm,2);var Ng;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE"})(Ng||(Ng={}));const xT=Ji("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function TT(t,e){sE(e,t);const i=RT(t.$unknown,e),[a,o,u]=af(e);for(const c of i)qA(a,new tm(c.data),o,c.wireType,{readUnknownFields:!0});return u()}function CT(t,e,i){var a;sE(e,t);const o=((a=t.$unknown)!==null&&a!==void 0?a:[]).filter(h=>h.no!==e.number),[u,c]=af(e,i),d=new BA;tE(d,{writeUnknownFields:!0},u,c);const m=new tm(d.finish());for(;m.pos<m.len;){const[h,p]=m.tag(),y=m.skip(p,h);o.push({no:h,wireType:p,data:y})}t.$unknown=o}function RT(t,e){if(t===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let i=t.length-1;i>=0;--i)if(t[i].no==e.number)return[t[i]];return[]}return t.filter(i=>i.no===e.number)}function af(t,e){const i=t.typeName,a=Object.assign(Object.assign({},t),{kind:"field",parent:t.extendee,localName:i}),o=Object.assign(Object.assign({},t.extendee),{fields:[a],members:[a],oneofs:[]}),u=be(o,e!==void 0?{[i]:e}:void 0);return[_n(o,u),a,()=>{const c=u[i];if(c===void 0){const d=t.message;return _l(d)?va(d.fields[0].scalar,d.fields[0].longAsString):be(d)}return c}]}function sE(t,e){if(t.extendee.typeName!=e.$typeName)throw new Error(`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}const IT=3,DT=2,_b={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function _T(t){return t?Object.assign(Object.assign({},_b),t):_b}function OT(t,e,i){return Ol(_n(t,e),_T(i))}function VT(t,e,i){var a;const o=OT(t,e,i);return JSON.stringify(o,null,(a=i?.prettySpaces)!==null&&a!==void 0?a:0)}function Ol(t,e){var i;const a=zT(t,e);if(a!==void 0)return a;const o={};for(const u of t.sortedFields){if(!t.isSet(u)){if(u.presence==IT)throw new Error(`cannot encode ${u} to JSON: required field not set`);if(!e.alwaysEmitImplicit||u.presence!==DT)continue}const c=Ob(u,t.get(u),e);c!==void 0&&(o[LT(u,e)]=c)}if(e.registry){const u=new Set;for(const{no:c}of(i=t.getUnknown())!==null&&i!==void 0?i:[])if(!u.has(c)){u.add(c);const d=e.registry.getExtensionFor(t.desc,c);if(!d)continue;const m=TT(t.message,d),[h,p]=af(d,m),y=Ob(p,h.get(p),e);y!==void 0&&(o[d.jsonName]=y)}}return o}function Ob(t,e,i){switch(t.fieldKind){case"scalar":return sf(t,e);case"message":return Ol(e,i);case"enum":return dm(t.enum,e,i.enumAsInteger);case"list":return BT(e,i);case"map":return MT(e,i)}}function MT(t,e){const i=t.field(),a={};switch(i.mapKind){case"scalar":for(const[o,u]of t)a[o]=sf(i,u);break;case"message":for(const[o,u]of t)a[o]=Ol(u,e);break;case"enum":for(const[o,u]of t)a[o]=dm(i.enum,u,e.enumAsInteger);break}return e.alwaysEmitImplicit||t.size>0?a:void 0}function BT(t,e){const i=t.field(),a=[];switch(i.listKind){case"scalar":for(const o of t)a.push(sf(i,o));break;case"enum":for(const o of t)a.push(dm(i.enum,o,e.enumAsInteger));break;case"message":for(const o of t)a.push(Ol(o,e));break}return e.alwaysEmitImplicit||a.length>0?a:void 0}function dm(t,e,i){var a;if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: expected number, got ${_t(e)}`);if(t.typeName=="google.protobuf.NullValue")return null;if(i)return e;const o=t.value[e];return(a=o?.name)!==null&&a!==void 0?a:e}function sf(t,e){var i,a,o,u,c,d;switch(t.scalar){case W.INT32:case W.SFIXED32:case W.SINT32:case W.FIXED32:case W.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(i=ua(t,e))===null||i===void 0?void 0:i.message}`);return e;case W.FLOAT:case W.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(a=ua(t,e))===null||a===void 0?void 0:a.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case W.STRING:if(typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(o=ua(t,e))===null||o===void 0?void 0:o.message}`);return e;case W.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${t} to JSON: ${(u=ua(t,e))===null||u===void 0?void 0:u.message}`);return e;case W.UINT64:case W.FIXED64:case W.INT64:case W.SFIXED64:case W.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(c=ua(t,e))===null||c===void 0?void 0:c.message}`);return e.toString();case W.BYTES:if(e instanceof Uint8Array)return x2(e);throw new Error(`cannot encode ${t} to JSON: ${(d=ua(t,e))===null||d===void 0?void 0:d.message}`)}}function LT(t,e){return e.useProtoFieldName?t.name:t.jsonName}function zT(t,e){if(t.desc.typeName.startsWith("google.protobuf."))switch(t.desc.typeName){case"google.protobuf.Any":return UT(t.message,e);case"google.protobuf.Timestamp":return GT(t.message);case"google.protobuf.Duration":return YT(t.message);case"google.protobuf.FieldMask":return ZT(t.message);case"google.protobuf.Struct":return oE(t.message);case"google.protobuf.Value":return hm(t.message);case"google.protobuf.ListValue":return lE(t.message);default:if(_l(t.desc)){const i=t.desc.fields[0];return sf(i,t.get(i))}return}}function UT(t,e){if(t.typeUrl==="")return{};const{registry:i}=e;let a,o;if(i&&(a=AT(t,i),a&&(o=i.getMessage(a.$typeName))),!o||!a)throw new Error(`cannot encode message ${t.$typeName} to JSON: "${t.typeUrl}" is not in the type registry`);let u=Ol(_n(o,a),e);return(o.typeName.startsWith("google.protobuf.")||u===null||Array.isArray(u)||typeof u!="object")&&(u={value:u}),u["@type"]=t.typeUrl,u}function YT(t){const e=Number(t.seconds),i=t.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${t.$typeName} to JSON: value out of range`);if(e>0&&i<0||e<0&&i>0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos sign must match seconds sign`);let a=t.seconds.toString();if(i!==0){let o=Math.abs(i).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),a+="."+o,i<0&&e==0&&(a="-"+a)}return a+"s"}function ZT(t){return t.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${t.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return cl(e)}).join(",")}function oE(t){const e={};for(const[i,a]of Object.entries(t.fields))e[i]=hm(a);return e}function hm(t){switch(t.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(t.kind.value))throw new Error(`${t.$typeName} cannot be NaN or Infinity`);return t.kind.value;case"boolValue":return t.kind.value;case"stringValue":return t.kind.value;case"structValue":return oE(t.kind.value);case"listValue":return lE(t.kind.value);default:throw new Error(`${t.$typeName} must have a value`)}}function lE(t){return t.values.map(hm)}function GT(t){const e=Number(t.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${t.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(t.nanos<0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be negative`);if(t.nanos>999999999)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be greater than 99999999`);let i="Z";if(t.nanos>0){const a=(t.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(e).toISOString().replace(".000Z",i)}const Vb={ignoreUnknownFields:!1};function kT(t){return t?Object.assign(Object.assign({},Vb),t):Vb}function WT(t,e,i){return XT(t,PT(e,t.typeName),i)}function XT(t,e,i){const a=_n(t);try{Os(a,e,kT(i))}catch(o){throw v2(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return a.message}function Os(t,e,i){var a;if(QT(t,e,i))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${t.desc} from JSON: ${_t(e)}`);const o=new Map,u=new Map;for(const c of t.desc.fields)u.set(c.name,c).set(c.jsonName,c);for(const[c,d]of Object.entries(e)){const m=u.get(c);if(m){if(m.oneof){if(d===null&&m.fieldKind=="scalar")continue;const h=o.get(m.oneof);if(h!==void 0)throw new an(m.oneof,`oneof set multiple times by ${h.name} and ${m.name}`);o.set(m.oneof,m)}Mb(t,m,d,i)}else{let h;if(c.startsWith("[")&&c.endsWith("]")&&(h=(a=i.registry)===null||a===void 0?void 0:a.getExtension(c.substring(1,c.length-1)))&&h.extendee.typeName===t.desc.typeName){const[p,y,v]=af(h);Mb(p,y,d,i),CT(t.message,h,v())}if(!h&&!i.ignoreUnknownFields)throw new Error(`cannot decode ${t.desc} from JSON: key "${c}" is unknown`)}}}function Mb(t,e,i,a){switch(e.fieldKind){case"scalar":jT(t,e,i);break;case"enum":JT(t,e,i,a);break;case"message":FT(t,e,i,a);break;case"list":HT(t.get(e),i,a);break;case"map":KT(t.get(e),i,a);break}}function KT(t,e,i){if(e===null)return;const a=t.field();if(typeof e!="object"||Array.isArray(e))throw new an(a,"expected object, got "+_t(e));for(const[o,u]of Object.entries(e)){if(u===null)throw new an(a,"map value must not be null");let c;switch(a.mapKind){case"message":const m=_n(a.message);Os(m,u,i),c=m;break;case"enum":if(c=gm(a.enum,u,i.ignoreUnknownFields,!0),c===of)return;break;case"scalar":c=uf(a,u,!0);break}const d=$T(a.mapKey,o);t.set(d,c)}}function HT(t,e,i){if(e===null)return;const a=t.field();if(!Array.isArray(e))throw new an(a,"expected Array, got "+_t(e));for(const o of e){if(o===null)throw new an(a,"list item must not be null");switch(a.listKind){case"message":const u=_n(a.message);Os(u,o,i),t.add(u);break;case"enum":const c=gm(a.enum,o,i.ignoreUnknownFields,!0);c!==of&&t.add(c);break;case"scalar":t.add(uf(a,o,!0));break}}}function FT(t,e,i,a){if(i===null&&e.message.typeName!="google.protobuf.Value"){t.clear(e);return}const o=t.isSet(e)?t.get(e):_n(e.message);Os(o,i,a),t.set(e,o)}function JT(t,e,i,a){const o=gm(e.enum,i,a.ignoreUnknownFields,!1);o===lf?t.clear(e):o!==of&&t.set(e,o)}function jT(t,e,i){const a=uf(e,i,!1);a===lf?t.clear(e):t.set(e,a)}const of=Symbol();function gm(t,e,i,a){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:a?t.values[0].number:lf;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=t.values.find(u=>u.name===e);if(o!==void 0)return o.number;if(i)return of;break}throw new Error(`cannot decode ${t} from JSON: ${_t(e)}`)}const lf=Symbol();function uf(t,e,i){if(e===null)return i?va(t.scalar,!1):lf;switch(t.scalar){case W.DOUBLE:case W.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new an(t,"unexpected NaN number");if(!Number.isFinite(e))throw new an(t,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const a=Number(e);if(!Number.isFinite(a))break;return a}break;case W.INT32:case W.FIXED32:case W.SFIXED32:case W.SINT32:case W.UINT32:return uE(e);case W.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return om(e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new an(t,o)}}break}return e}function $T(t,e){switch(t){case W.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case W.INT32:case W.FIXED32:case W.UINT32:case W.SFIXED32:case W.SINT32:return uE(e);default:return e}}function uE(t){if(typeof t=="string"){if(t===""||t.trim().length!==t.length)return t;const e=Number(t);return Number.isNaN(e)?t:e}return t}function PT(t,e){try{return JSON.parse(t)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Error(`cannot decode message ${e} from JSON: ${a}`,{cause:i})}}function QT(t,e,i){if(!t.desc.typeName.startsWith("google.protobuf."))return!1;switch(t.desc.typeName){case"google.protobuf.Any":return qT(t.message,e,i),!0;case"google.protobuf.Timestamp":return eC(t.message,e),!0;case"google.protobuf.Duration":return tC(t.message,e),!0;case"google.protobuf.FieldMask":return nC(t.message,e),!0;case"google.protobuf.Struct":return cE(t.message,e),!0;case"google.protobuf.Value":return mm(t.message,e),!0;case"google.protobuf.ListValue":return fE(t.message,e),!0;default:if(_l(t.desc)){const a=t.desc.fields[0];return e===null?t.clear(a):t.set(a,uf(a,e,!0)),!0}return!1}}function qT(t,e,i){var a;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.$typeName} from JSON: expected object but got ${_t(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is empty`);const u=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!u.length)throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is invalid`);const c=(a=i.registry)===null||a===void 0?void 0:a.getMessage(u);if(!c)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${o} is not in the type registry`);const d=_n(c);if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const m=e.value;Os(d,m,i)}else{const m=Object.assign({},e);delete m["@type"],Os(d,m,i)}bT(d.desc,d.message,t)}function eC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${t.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);t.seconds=ct.parse(a/1e3),t.nanos=0,i[7]&&(t.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9)}function tC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);if(t.seconds=ct.parse(a),typeof i[2]!="string")return;const o=i[2]+"0".repeat(9-i[2].length);t.nanos=parseInt(o),(a<0||Object.is(a,-0))&&(t.nanos=-t.nanos)}function nC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);if(e==="")return;function i(a){if(a.includes("_"))throw new Error(`cannot decode message ${t.$typeName} from JSON: path names must be lowerCamelCase`);const o=a.replace(/[A-Z]/g,u=>"_"+u.toLowerCase());return o[0]==="_"?o.substring(1):o}t.paths=e.split(",").map(i)}function cE(t,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`);for(const[i,a]of Object.entries(e)){const o=be(aE);mm(o,a),t.fields[i]=o}}function mm(t,e){switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(e===null)t.kind={case:"nullValue",value:Ng.NULL_VALUE};else if(Array.isArray(e)){const i=be(NT);fE(i,e),t.kind={case:"listValue",value:i}}else{const i=be(wT);cE(i,e),t.kind={case:"structValue",value:i}}break;default:throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`)}return t}function fE(t,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`);for(const i of e){const a=be(aE);mm(a,i),t.values.push(a)}}function Bb(t){const e=Be[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,i=>"_"+i.toLowerCase())}class Pe extends Error{constructor(e,i=Be.Unknown,a,o,u){super(iC(e,i)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=i,this.metadata=new Headers(a??{}),this.details=o??[],this.cause=u}static from(e,i=Be.Unknown){return e instanceof Pe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new Pe(e.message,Be.Canceled):new Pe(e.message,i,void 0,void 0,e):new Pe(String(e),i,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Pe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const i=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,a=[];for(const o of this.details){if("desc"in o){i.getMessage(o.desc.typeName)&&a.push(be(o.desc,o.value));continue}const u=i.getMessage(o.type);if(u)try{a.push(On(u,o.value))}catch{}}return a}}function iC(t,e){return t.length?`[${Bb(e)}] ${t}`:`[${Bb(e)}]`}function rC(t,e,i){try{const a=om(t);return e?On(e,a,i):a}catch(a){throw Pe.from(a,Be.DataLoss)}}function aC(t,e){const i={};for(const a of t.methods){const o=e(a);o!=null&&(i[a.localName]=o)}return i}const Lb=1;function sC(t,e,i=!1){if(e>t){let a=`message size is larger than configured readMaxBytes ${t}`;throw i&&(a=`message size ${e} is larger than configured readMaxBytes ${t}`),new Pe(a,Be.ResourceExhausted)}}function oC(t){return new lC(t)}class lC{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,i)=>e+i.byteLength,0)}decode(e){this.buf.push(e);const i=[];for(;;){let a=this.pop();if(!a)break;i.push(a)}return i}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),i=this.headerView.getUint32(1);return sC(this.readMaxBytes,i,!0),{flags:e,data:new Uint8Array(i)}}cons(e){const i=e.byteLength;if(this.byteLength<i)return!1;let a=0;for(;a<i;){const o=this.buf.shift();o.byteLength>i-a?(e.set(o.subarray(0,i-a),a),this.buf.unshift(o.subarray(i-a)),a+=i-a):(e.set(o,a),a+=o.byteLength)}return!0}}function zb(t){let e;const i=oC(4294967295);return new ReadableStream({start(){e=t.getReader()},async pull(a){let o=!1;for(;!o;){const u=await e.read();if(u.done)i.byteLength>0&&a.error(new Pe("protocol error: incomplete envelope",Be.InvalidArgument)),a.close();else for(const c of i.decode(u.value))a.enqueue(c),o=!0}}})}function Ub(t,e){const i=new Uint8Array(e.length+5);i.set(e,5);const a=new DataView(i.buffer,i.byteOffset,i.byteLength);return a.setUint8(0,t),a.setUint32(1,e.length),i}var uC=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=t[u]&&function(c){return new Promise(function(d,m){c=t[u](c),o(d,m,c.done,c.value)})}}function o(u,c,d,m){Promise.resolve(m).then(function(h){u({value:h,done:d})},c)}},hl=function(t){return this instanceof hl?(this.v=t,this):new hl(t)},cC=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(I,x){u.push([S,A,I,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof hl?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}},fC=function(t){var e,i;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,u){e[o]=t[o]?function(c){return(i=!i)?{value:hl(t[o](c)),done:!1}:u?u(c):c}:u}};function dC(t){return cC(this,arguments,function*(){yield hl(yield*fC(uC(t)))})}var dE=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=t[u]&&function(c){return new Promise(function(d,m){c=t[u](c),o(d,m,c.done,c.value)})}}function o(u,c,d,m){Promise.resolve(m).then(function(h){u({value:h,done:d})},c)}},Vs=function(t){return this instanceof Vs?(this.v=t,this):new Vs(t)},hC=function(t){var e,i;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,u){e[o]=t[o]?function(c){return(i=!i)?{value:Vs(t[o](c)),done:!1}:u?u(c):c}:u}},gC=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(I,x){u.push([S,A,I,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof Vs?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}};function mC(t,e){return aC(t,i=>{switch(i.methodKind){case"unary":return pC(e,i);case"server_streaming":return yC(e,i);case"client_streaming":return vC(e,i);case"bidi_streaming":return bC(e,i);default:return null}})}function pC(t,e){return async(i,a)=>{var o,u;const c=await t.unary(e,a?.signal,a?.timeoutMs,a?.headers,i,a?.contextValues);return(o=a?.onHeader)===null||o===void 0||o.call(a,c.header),(u=a?.onTrailer)===null||u===void 0||u.call(a,c.trailer),c.message}}function yC(t,e){return(i,a)=>hE(t.stream(e,a?.signal,a?.timeoutMs,a?.headers,dC([i]),a?.contextValues),a)}function vC(t,e){return async(i,a)=>{var o,u,c,d,m,h;const p=await t.stream(e,a?.signal,a?.timeoutMs,a?.headers,i,a?.contextValues);(m=a?.onHeader)===null||m===void 0||m.call(a,p.header);let y,v=0;try{for(var S=!0,E=dE(p.message),A;A=await E.next(),o=A.done,!o;S=!0)d=A.value,S=!1,y=d,v++}catch(I){u={error:I}}finally{try{!S&&!o&&(c=E.return)&&await c.call(E)}finally{if(u)throw u.error}}if(!y)throw new Pe("protocol error: missing response message",Be.Unimplemented);if(v>1)throw new Pe("protocol error: received extra messages for client streaming method",Be.Unimplemented);return(h=a?.onTrailer)===null||h===void 0||h.call(a,p.trailer),y}}function bC(t,e){return(i,a)=>hE(t.stream(e,a?.signal,a?.timeoutMs,a?.headers,i,a?.contextValues),a)}function hE(t,e){const i=(function(){return gC(this,arguments,function*(){var a,o;const u=yield Vs(t);(a=e?.onHeader)===null||a===void 0||a.call(e,u.header),yield Vs(yield*hC(dE(u.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,u.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>i.next()})}}function SC(...t){const e=new AbortController,i=t.filter(o=>o!==void 0).concat(e.signal);for(const o of i){if(o.aborted){a.apply(o);break}o.addEventListener("abort",a)}function a(){e.signal.aborted||e.abort(gE(this));for(const o of i)o.removeEventListener("abort",a)}return e}function AC(t){const e=new AbortController,i=()=>{e.abort(new Pe("the operation timed out",Be.DeadlineExceeded))};let a;return t!==void 0&&(t<=0?i():a=setTimeout(i,t)),{signal:e.signal,cleanup:()=>clearTimeout(a)}}function gE(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Yb(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}const ng=128;function Zb(t){const e=new Headers,i=new TextDecoder().decode(t).split(`\r
`);for(const a of i){if(a==="")continue;const o=a.indexOf(":");if(o>0){const u=a.substring(0,o).trim(),c=a.substring(o+1).trim();e.append(u,c)}}return e}const EC="Content-Type",wC="Grpc-Timeout",Ms="Grpc-Status",mE="Grpc-Message",NC="Grpc-Status-Details-Bin",xC="User-Agent",Gb="X-User-Agent",TC="X-Grpc-Web",CC="application/grpc-web+proto",RC="application/grpc-web+json";function IC(t,e,...i){if(i.length>0)throw new Error;return t.services[e]}const DC=Ji("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[eE]),_C=Ce(DC,0),OC="0";function pE(t){var e;const i=t.get(NC);if(i!=null){const o=rC(i,_C);if(o.code==0)return;const u=new Pe(o.message,o.code,t);return u.details=o.details.map(c=>({type:c.typeUrl.substring(c.typeUrl.lastIndexOf("/")+1),value:c.value})),u}const a=t.get(Ms);if(a!=null){if(a===OC)return;const o=parseInt(a,10);return o in Be?new Pe(decodeURIComponent((e=t.get(mE))!==null&&e!==void 0?e:""),o,t):new Pe(`invalid grpc-status: ${a}`,Be.Internal,t)}}function kb(t,e){return t.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function yE(t,e){return be(t,e)}function VC(t,e){function i(a){return a.done===!0?a:{done:a.done,value:yE(t,a.value)}}return{[Symbol.asyncIterator](){const a=e[Symbol.asyncIterator](),o={next:()=>a.next().then(i)};return a.throw!==void 0&&(o.throw=u=>a.throw(u).then(i)),a.return!==void 0&&(o.return=u=>a.return(u).then(i)),o}}}function vE(t,e){if(!e)return t;for(const i of e.concat().reverse())t=i(t);return t}function MC(t){var e;const i=Object.assign({},t);return(e=i.ignoreUnknownFields)!==null&&e!==void 0||(i.ignoreUnknownFields=!0),i}function Wb(t,e,i,a){const o=e?Xb(t.input,a):Kb(t.input,i);return{parse:(e?Xb(t.output,a):Kb(t.output,i)).parse,serialize:o.serialize}}function Xb(t,e){return{parse(i){try{return On(t,i,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Pe(`parse binary: ${o}`,Be.Internal)}},serialize(i){try{return Ur(t,i,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Pe(`serialize binary: ${o}`,Be.Internal)}}}}function Kb(t,e){var i,a;const o=(i=e?.textEncoder)!==null&&i!==void 0?i:new TextEncoder,u=(a=e?.textDecoder)!==null&&a!==void 0?a:new TextDecoder,c=MC(e);return{parse(d){try{const m=u.decode(d);return WT(t,m,c)}catch(m){throw Pe.from(m,Be.InvalidArgument)}},serialize(d){try{const m=VT(t,d,c);return o.encode(m)}catch(m){throw Pe.from(m,Be.Internal)}}}}function BC(t){const e=vE(t.next,t.interceptors),[i,a,o]=bE(t),u=Object.assign(Object.assign({},t.req),{message:yE(t.req.method.input,t.req.message),signal:i});return e(u).then(c=>(o(),c),a)}function LC(t){const e=vE(t.next,t.interceptors),[i,a,o]=bE(t),u=Object.assign(Object.assign({},t.req),{message:VC(t.req.method.input,t.req.message),signal:i});let c=!1;return i.addEventListener("abort",function(){var d,m;const h=t.req.message[Symbol.asyncIterator]();c||(d=h.throw)===null||d===void 0||d.call(h,this.reason).catch(()=>{}),(m=h.return)===null||m===void 0||m.call(h).catch(()=>{})}),e(u).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const m=d.message[Symbol.asyncIterator]();return{next(){return m.next().then(h=>(h.done==!0&&(c=!0,o()),h),a)}}}}}),a)}function bE(t){const{signal:e,cleanup:i}=AC(t.timeoutMs),a=SC(t.signal,e);return[a.signal,function(u){const c=Pe.from(e.aborted?gE(e):u);return a.abort(c),i(),Promise.reject(c)},function(){i(),a.abort()}]}function zC(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Hb(t,e){const i=pE(t);if(i)throw e.forEach((a,o)=>{i.metadata.append(o,a)}),i;if(!e.has(Ms)&&!t.has(Ms))throw new Pe("protocol error: missing status",Be.Internal)}function Fb(t,e,i,a){var o,u;const c=new Headers(i??{});c.set(EC,t?CC:RC),c.set(TC,"1");const d=(u=(o=c.get(xC))!==null&&o!==void 0?o:c.get(Gb))!==null&&u!==void 0?u:"connect-es/2.1.1";return c.set(Gb,d),e!==void 0&&c.set(wC,`${e}m`),c}function UC(t){switch(t){case 400:return Be.Internal;case 401:return Be.Unauthenticated;case 403:return Be.PermissionDenied;case 404:return Be.Unimplemented;case 429:return Be.Unavailable;case 502:return Be.Unavailable;case 503:return Be.Unavailable;case 504:return Be.Unavailable;default:return Be.Unknown}}function Jb(t,e){var i;if(t>=200&&t<300)return{foundStatus:e.has(Ms),headerError:pE(e)};throw new Pe(decodeURIComponent((i=e.get(mE))!==null&&i!==void 0?i:`HTTP ${t}`),UC(t),e)}var ha=function(t){return this instanceof ha?(this.v=t,this):new ha(t)},YC=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(I,x){u.push([S,A,I,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof ha?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}};const jb={redirect:"error"};function ZC(t){var e;zC();const i=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(a,o,u,c,d,m){const{serialize:h,parse:p}=Wb(a,i,t.jsonOptions,t.binaryOptions);return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,await BC({interceptors:t.interceptors,signal:o,timeoutMs:u,req:{stream:!1,service:a.parent,method:a,requestMethod:"POST",url:kb(t.baseUrl,a),header:Fb(i,u,c),contextValues:m??Yb(),message:d},next:async y=>{var v;const E=await((v=t.fetch)!==null&&v!==void 0?v:globalThis.fetch)(y.url,Object.assign(Object.assign({},jb),{method:y.requestMethod,headers:y.header,signal:y.signal,body:Ub(0,h(y.message))})),{headerError:A}=Jb(E.status,E.headers);if(!E.body)throw A!==void 0?A:"missing response body";const I=zb(E.body).getReader();let x,U;for(;;){const N=await I.read();if(N.done)break;const{flags:R,data:V}=N.value;if((R&Lb)===Lb)throw new Pe("protocol error: received unsupported compressed output",Be.Internal);if(R===ng){if(x!==void 0)throw"extra trailer";x=Zb(V);continue}if(U!==void 0)throw new Pe("extra message",Be.Unimplemented);U=p(V)}if(x===void 0)throw A!==void 0?A:new Pe("missing trailer",E.headers.has(Ms)?Be.Unimplemented:Be.Unknown);if(Hb(x,E.headers),U===void 0)throw new Pe("missing message",x.has(Ms)?Be.Unimplemented:Be.Unknown);return{stream:!1,service:a.parent,method:a,header:E.headers,message:U,trailer:x}}})},async stream(a,o,u,c,d,m){const{serialize:h,parse:p}=Wb(a,i,t.jsonOptions,t.binaryOptions);function y(S,E,A,I,x){return YC(this,arguments,function*(){const N=zb(S).getReader();if(E){if(!(yield ha(N.read())).done)throw"extra data for trailers-only";return yield ha(void 0)}let R=!1;for(;;){const V=yield ha(N.read());if(V.done)break;const{flags:B,data:M}=V.value;if((B&ng)===ng){if(R)throw"extra trailer";R=!0;const X=Zb(M);Hb(X,I),X.forEach((q,de)=>A.set(de,q));continue}if(R)throw"extra message";yield yield ha(p(M))}if("throwIfAborted"in x&&x.throwIfAborted(),!R)throw"missing trailer"})}async function v(S){if(a.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const E=await S[Symbol.asyncIterator]().next();if(E.done==!0)throw"missing request message";return Ub(0,h(E.value))}return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,LC({interceptors:t.interceptors,signal:o,timeoutMs:u,req:{stream:!0,service:a.parent,method:a,requestMethod:"POST",url:kb(t.baseUrl,a),header:Fb(i,u,c),contextValues:m??Yb(),message:d},next:async S=>{var E;const I=await((E=t.fetch)!==null&&E!==void 0?E:globalThis.fetch)(S.url,Object.assign(Object.assign({},jb),{method:S.requestMethod,headers:S.header,signal:S.signal,body:await v(S.message)})),{foundStatus:x,headerError:U}=Jb(I.status,I.headers);if(U!=null)throw U;if(!I.body)throw"missing response body";const N=new Headers;return Object.assign(Object.assign({},S),{header:I.headers,trailer:N,message:y(I.body,x,N,I.headers,S.signal)})}})}}}const Me=Ji("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[uT,xT]),GC=Ce(Me,0),kC=Ce(Me,1),WC=Ce(Me,2),pm=Ce(Me,3),ym=Ce(Me,4),vm=Ce(Me,5),XC=Ce(Me,5,0),KC=Ce(Me,5,1),HC=Ce(Me,5,2),FC=Ce(Me,5,3),JC=Ce(Me,5,4),jC=Ce(Me,5,5),$C=Ce(Me,5,6),PC=Ce(Me,5,7),QC=Ce(Me,5,8),qC=Ce(Me,5,9),ps=Ce(Me,6),Vn=Ce(Me,7),eR=Ce(Me,7,0),tR=Ce(Me,7,1),nR=Ce(Me,7,2),iR=Ce(Me,7,3),rR=Ce(Me,7,4),aR=Ce(Me,7,5),sR=Ce(Me,8),oR=Ce(Me,9),SE=Ce(Me,10),lR=Ce(Me,11),uR=Ce(Me,12),cR=Ce(Me,13),fR=Ce(Me,14),dR=Ce(Me,15),hR=Ce(Me,16),$b=Ce(Me,22);var gl=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.PUT=1]="PUT",t[t.DELETE=2]="DELETE",t[t.CLEAR=3]="CLEAR",t))(gl||{});const gR=Ce(Me,23),mR=Ce(Me,25),pR=Ce(Me,26),yR=Ce(Me,27);var AE=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.PRESENCE=1]="PRESENCE",t[t.BROADCAST=2]="BROADCAST",t))(AE||{}),Ve=(t=>(t[t.NULL=0]="NULL",t[t.BOOLEAN=1]="BOOLEAN",t[t.INTEGER=2]="INTEGER",t[t.LONG=3]="LONG",t[t.DOUBLE=4]="DOUBLE",t[t.STRING=5]="STRING",t[t.BYTES=6]="BYTES",t[t.DATE=7]="DATE",t[t.JSON_OBJECT=8]="JSON_OBJECT",t[t.JSON_ARRAY=9]="JSON_ARRAY",t[t.TEXT=10]="TEXT",t[t.INTEGER_CNT=11]="INTEGER_CNT",t[t.LONG_CNT=12]="LONG_CNT",t[t.TREE=13]="TREE",t))(Ve||{}),Zc=(t=>(t[t.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",t[t.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",t[t.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",t[t.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",t))(Zc||{});const vR=Ji("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJ2ChRMaXN0UmV2aXNpb25zUmVxdWVzdBISCgpwcm9qZWN0X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhEKCXBhZ2Vfc2l6ZRgDIAEoBRIOCgZvZmZzZXQYBCABKAUSEgoKaXNfZm9yd2FyZBgFIAEoCCJGChVMaXN0UmV2aXNpb25zUmVzcG9uc2USLQoJcmV2aXNpb25zGAEgAygLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJAChZSZXN0b3JlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtyZXZpc2lvbl9pZBgCIAEoCSIZChdSZXN0b3JlUmV2aXNpb25SZXNwb25zZSI+ChRBdHRhY2hDaGFubmVsUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLY2hhbm5lbF9rZXkYAiABKAkiOgoVQXR0YWNoQ2hhbm5lbFJlc3BvbnNlEhIKCnNlc3Npb25faWQYASABKAkSDQoFY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEg0KBWNvdW50GAEgASgDIlMKFVJlZnJlc2hDaGFubmVsUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLY2hhbm5lbF9rZXkYAiABKAkSEgoKc2Vzc2lvbl9pZBgDIAEoCSInChZSZWZyZXNoQ2hhbm5lbFJlc3BvbnNlEg0KBWNvdW50GAEgASgDIj0KE1dhdGNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIoMBChRXYXRjaENoYW5uZWxSZXNwb25zZRI5Cgtpbml0aWFsaXplZBgBIAEoCzIiLnlvcmtpZS52MS5XYXRjaENoYW5uZWxJbml0aWFsaXplZEgAEigKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudEgAQgYKBGJvZHkiNQoXV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWQSDQoFY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UytQoKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[Me]),bR=IC(vR,0),SR=Ji("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[dT]),AR=Ce(SR,0);var Z=(t=>(t.Ok="ok",t.ErrClientNotActivated="ErrClientNotActivated",t.ErrClientNotFound="ErrClientNotFound",t.ErrUnimplemented="ErrUnimplemented",t.ErrInvalidType="ErrInvalidType",t.ErrDummy="ErrDummy",t.ErrNotAttached="ErrNotAttached",t.ErrNotDetached="ErrNotDetached",t.ErrDocumentRemoved="ErrDocumentRemoved",t.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",t.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",t.ErrInvalidObjectKey="ErrInvalidObjectKey",t.ErrInvalidArgument="ErrInvalidArgument",t.ErrNotInitialized="ErrNotInitialized",t.ErrNotReady="ErrNotReady",t.ErrRefused="ErrRefused",t.ErrContextNotProvided="ErrContextNotProvided",t.ErrPermissionDenied="ErrPermissionDenied",t.ErrUnauthenticated="ErrUnauthenticated",t.ErrTooManySubscribers="ErrTooManySubscribers",t.ErrTooManyAttachments="ErrTooManyAttachments",t))(Z||{});class G extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var di=(t=>(t.Put="put",t.Clear="clear",t))(di||{});const bm="000000000000000000000000",li=24;class Dn{lamport;delimiter;actorID;constructor(e,i,a){this.lamport=e,this.delimiter=i,this.actorID=a}static of(e,i,a){return new Dn(e,i,a)}static fromStruct(e){return Dn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new Dn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const i=this.actorID.localeCompare(e.actorID);return i!==0?i:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const xg=0n,EE=0,Tg=9223372036854775807n,Bs=new Dn(xg,EE,bm);function oi(t){return t.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Vl{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=li),this.getMovedAt()&&(e+=li),this.getRemovedAt()&&(e+=li),e}}class Mr extends Vl{constructor(e){super(e)}}class Gc{strKey;value;constructor(e,i){this.strKey=e,this.value=i}static of(e,i){return new Gc(e,i)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ls{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ls}set(e,i,a){let o;const u=this.nodeMapByKey.get(e);u&&!u.isRemoved()&&u.remove(a)&&(o=u.getValue());const c=Gc.of(e,i);return this.nodeMapByCreatedAt.set(i.getCreatedAt().toIDString(),c),(!u||a.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,c),i.setMovedAt(a)),o}delete(e,i){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new G(Z.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const a=this.nodeMapByCreatedAt.get(e.toIDString());return a.remove(i),a.getValue()}subPathOf(e){const i=this.nodeMapByCreatedAt.get(e.toIDString());if(i)return i.getStrKey()}purge(e){const i=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const a=this.nodeMapByKey.get(i.getStrKey());i===a&&this.nodeMapByKey.delete(a.getStrKey()),this.nodeMapByCreatedAt.delete(i.getValue().getCreatedAt().toIDString())}deleteByKey(e,i){const a=this.nodeMapByKey.get(e);if(a&&a.remove(i))return a.getValue()}has(e){const i=this.nodeMapByKey.get(e);return i?!i.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const i=this.nodeMapByKey.get(e);if(!(!i||i.isRemoved()))return i}deepcopy(){const e=Ls.create();for(const[,i]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(i.getValue().getCreatedAt().toIDString(),Gc.of(i.getStrKey(),i.getValue().deepcopy()));for(const[i,a]of this.nodeMapByKey)e.nodeMapByKey.set(i,e.nodeMapByCreatedAt.get(a.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class kt extends Mr{memberNodes;constructor(e,i){super(e),this.memberNodes=i}static create(e,i){if(!i)return new kt(e,Ls.create());const a=Ls.create();for(const[o,u]of Object.entries(i))a.set(o,u.deepcopy(),u.getCreatedAt());return new kt(e,a)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,i,a){return this.memberNodes.set(e,i,a)}delete(e,i){return this.memberNodes.delete(e,i)}deleteByKey(e,i){return this.memberNodes.deleteByKey(e,i)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[i,a]of this)e.push(`"${oi(i)}":${a.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[i,a]of this){const{createdAt:o,value:u,type:c}=a.toJSForTest();e[i]={key:i,createdAt:o,value:u,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[i]of this)e.push(i);return e}toSortedJSON(){const e=new Set;for(const[a]of this)e.add(a);const i=[];for(const a of Array.from(e).sort()){const o=this.memberNodes.get(a)?.getValue();i.push(`"${oi(a)}":${o.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=kt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const i of this.memberNodes){const a=i.getValue();if(e(a,this))return;a instanceof Mr&&a.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var lt=(t=>(t.Local="local",t.Remote="remote",t.UndoRedo="undoredo",t))(lt||{});class Qn{parentCreatedAt;executedAt;constructor(e,i){this.parentCreatedAt=e,this.executedAt=i}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new G(Z.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class wE{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class ml{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let i=this.root;for(;;)if(i.hasLeft()&&e<=i.getLeftWeight())i=i.getLeft();else if(i.hasRight()&&i.getLeftWeight()+i.getLength()<e)e-=i.getLeftWeight()+i.getLength(),i=i.getRight();else{e-=i.getLeftWeight();break}if(e>i.getLength())throw new G(Z.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${i.getLength()}`);return this.splayNode(i),[i,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,i){return e?(this.splayNode(e),this.root=i,i.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(i),i.setLeft(e),e.setParent(i),e.setRight(),this.updateWeight(e),this.updateWeight(i),i):(this.root=i,i)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const i=new ml(e.getLeft());i.root&&i.root.setParent();const a=new ml(e.getRight());if(a.root&&a.root.setParent(),i.root){const o=i.getRightmost();i.splayNode(o),i.root.setRight(a.root),a.root&&a.root.setParent(i.root),this.root=i.root}else this.root=a.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,i){if(!i){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(i),i.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const i=[];this.traversePostorder(e.getRight(),i);for(const a of i)a.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(i=>`[${i.getWeight()},${i.getLength()}]${i.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const i of e)if(i.getWeight()!=i.getLength()+i.getLeftWeight()+i.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,i){e&&(this.traverseInorder(e.getLeft(),i),i.push(e),this.traverseInorder(e.getRight(),i))}traversePostorder(e,i){e&&(this.traversePostorder(e.getLeft(),i),this.traversePostorder(e.getRight(),i),i.push(e))}rotateLeft(e){const i=e.getParent();i.hasParent()?i===i.getParent().getLeft()?i.getParent().setLeft(e):i.getParent().setRight(e):this.root=e,e.setParent(i.getParent()),i.setRight(e.getLeft()),i.hasRight()&&i.getRight().setParent(i),e.setLeft(i),e.getLeft().setParent(e),this.updateWeight(i),this.updateWeight(e)}rotateRight(e){const i=e.getParent();i.hasParent()?i===i.getParent().getLeft()?i.getParent().setLeft(e):i.getParent().setRight(e):this.root=e,e.setParent(i.getParent()),i.setLeft(e.getRight()),i.hasLeft()&&i.getLeft().setParent(i),e.setRight(i),e.getRight().setParent(e),this.updateWeight(i),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var Rn=null;try{Rn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ue(t,e,i){this.low=t|0,this.high=e|0,this.unsigned=!!i}Ue.prototype.__isLong__;Object.defineProperty(Ue.prototype,"__isLong__",{value:!0});function Xt(t){return(t&&t.__isLong__)===!0}function Pb(t){var e=Math.clz32(t&-t);return t?31-e:e}Ue.isLong=Xt;var Qb={},qb={};function wa(t,e){var i,a,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(a=qb[t],a)?a:(i=Xe(t,0,!0),o&&(qb[t]=i),i)):(t|=0,(o=-128<=t&&t<128)&&(a=Qb[t],a)?a:(i=Xe(t,t<0?-1:0,!1),o&&(Qb[t]=i),i))}Ue.fromInt=wa;function In(t,e){if(isNaN(t))return e?Gi:Hn;if(e){if(t<0)return Gi;if(t>=NE)return CE}else{if(t<=-tS)return nn;if(t+1>=tS)return TE}return t<0?In(-t,e).neg():Xe(t%zs|0,t/zs|0,e)}Ue.fromNumber=In;function Xe(t,e,i){return new Ue(t,e,i)}Ue.fromBits=Xe;var kc=Math.pow;function Sm(t,e,i){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(i=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Gi:Hn;if(i=i||10,i<2||36<i)throw RangeError("radix");var a;if((a=t.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return Sm(t.substring(1),e,i).neg();for(var o=In(kc(i,8)),u=Hn,c=0;c<t.length;c+=8){var d=Math.min(8,t.length-c),m=parseInt(t.substring(c,c+d),i);if(d<8){var h=In(kc(i,d));u=u.mul(h).add(In(m))}else u=u.mul(o),u=u.add(In(m))}return u.unsigned=e,u}Ue.fromString=Sm;function Mn(t,e){return typeof t=="number"?In(t,e):typeof t=="string"?Sm(t,e):Xe(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Ue.fromValue=Mn;var eS=65536,ER=1<<24,zs=eS*eS,NE=zs*zs,tS=NE/2,nS=wa(ER),Hn=wa(0);Ue.ZERO=Hn;var Gi=wa(0,!0);Ue.UZERO=Gi;var Es=wa(1);Ue.ONE=Es;var xE=wa(1,!0);Ue.UONE=xE;var Cg=wa(-1);Ue.NEG_ONE=Cg;var TE=Xe(-1,2147483647,!1);Ue.MAX_VALUE=TE;var CE=Xe(-1,-1,!0);Ue.MAX_UNSIGNED_VALUE=CE;var nn=Xe(0,-2147483648,!1);Ue.MIN_VALUE=nn;var ue=Ue.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low};ue.toNumber=function(){return this.unsigned?(this.high>>>0)*zs+(this.low>>>0):this.high*zs+(this.low>>>0)};ue.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(nn)){var i=In(e),a=this.div(i),o=a.mul(i).sub(this);return a.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=In(kc(e,6),this.unsigned),c=this,d="";;){var m=c.div(u),h=c.sub(m.mul(u)).toInt()>>>0,p=h.toString(e);if(c=m,c.isZero())return p+d;for(;p.length<6;)p="0"+p;d=""+p+d}};ue.getHighBits=function(){return this.high};ue.getHighBitsUnsigned=function(){return this.high>>>0};ue.getLowBits=function(){return this.low};ue.getLowBitsUnsigned=function(){return this.low>>>0};ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nn)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,i=31;i>0&&(e&1<<i)==0;i--);return this.high!=0?i+33:i+1};ue.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};ue.isZero=function(){return this.high===0&&this.low===0};ue.eqz=ue.isZero;ue.isNegative=function(){return!this.unsigned&&this.high<0};ue.isPositive=function(){return this.unsigned||this.high>=0};ue.isOdd=function(){return(this.low&1)===1};ue.isEven=function(){return(this.low&1)===0};ue.equals=function(e){return Xt(e)||(e=Mn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};ue.eq=ue.equals;ue.notEquals=function(e){return!this.eq(e)};ue.neq=ue.notEquals;ue.ne=ue.notEquals;ue.lessThan=function(e){return this.comp(e)<0};ue.lt=ue.lessThan;ue.lessThanOrEqual=function(e){return this.comp(e)<=0};ue.lte=ue.lessThanOrEqual;ue.le=ue.lessThanOrEqual;ue.greaterThan=function(e){return this.comp(e)>0};ue.gt=ue.greaterThan;ue.greaterThanOrEqual=function(e){return this.comp(e)>=0};ue.gte=ue.greaterThanOrEqual;ue.ge=ue.greaterThanOrEqual;ue.compare=function(e){if(Xt(e)||(e=Mn(e)),this.eq(e))return 0;var i=this.isNegative(),a=e.isNegative();return i&&!a?-1:!i&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};ue.comp=ue.compare;ue.negate=function(){return!this.unsigned&&this.eq(nn)?nn:this.not().add(Es)};ue.neg=ue.negate;ue.add=function(e){Xt(e)||(e=Mn(e));var i=this.high>>>16,a=this.high&65535,o=this.low>>>16,u=this.low&65535,c=e.high>>>16,d=e.high&65535,m=e.low>>>16,h=e.low&65535,p=0,y=0,v=0,S=0;return S+=u+h,v+=S>>>16,S&=65535,v+=o+m,y+=v>>>16,v&=65535,y+=a+d,p+=y>>>16,y&=65535,p+=i+c,p&=65535,Xe(v<<16|S,p<<16|y,this.unsigned)};ue.subtract=function(e){return Xt(e)||(e=Mn(e)),this.add(e.neg())};ue.sub=ue.subtract;ue.multiply=function(e){if(this.isZero())return this;if(Xt(e)||(e=Mn(e)),Rn){var i=Rn.mul(this.low,this.high,e.low,e.high);return Xe(i,Rn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Gi:Hn;if(this.eq(nn))return e.isOdd()?nn:Hn;if(e.eq(nn))return this.isOdd()?nn:Hn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nS)&&e.lt(nS))return In(this.toNumber()*e.toNumber(),this.unsigned);var a=this.high>>>16,o=this.high&65535,u=this.low>>>16,c=this.low&65535,d=e.high>>>16,m=e.high&65535,h=e.low>>>16,p=e.low&65535,y=0,v=0,S=0,E=0;return E+=c*p,S+=E>>>16,E&=65535,S+=u*p,v+=S>>>16,S&=65535,S+=c*h,v+=S>>>16,S&=65535,v+=o*p,y+=v>>>16,v&=65535,v+=u*h,y+=v>>>16,v&=65535,v+=c*m,y+=v>>>16,v&=65535,y+=a*p+o*h+u*m+c*d,y&=65535,Xe(S<<16|E,y<<16|v,this.unsigned)};ue.mul=ue.multiply;ue.divide=function(e){if(Xt(e)||(e=Mn(e)),e.isZero())throw Error("division by zero");if(Rn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var i=(this.unsigned?Rn.div_u:Rn.div_s)(this.low,this.high,e.low,e.high);return Xe(i,Rn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gi:Hn;var a,o,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Gi;if(e.gt(this.shru(1)))return xE;u=Gi}else{if(this.eq(nn)){if(e.eq(Es)||e.eq(Cg))return nn;if(e.eq(nn))return Es;var c=this.shr(1);return a=c.div(e).shl(1),a.eq(Hn)?e.isNegative()?Es:Cg:(o=this.sub(e.mul(a)),u=a.add(o.div(e)),u)}else if(e.eq(nn))return this.unsigned?Gi:Hn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=Hn}for(o=this;o.gte(e);){a=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(a)/Math.LN2),m=d<=48?1:kc(2,d-48),h=In(a),p=h.mul(e);p.isNegative()||p.gt(o);)a-=m,h=In(a,this.unsigned),p=h.mul(e);h.isZero()&&(h=Es),u=u.add(h),o=o.sub(p)}return u};ue.div=ue.divide;ue.modulo=function(e){if(Xt(e)||(e=Mn(e)),Rn){var i=(this.unsigned?Rn.rem_u:Rn.rem_s)(this.low,this.high,e.low,e.high);return Xe(i,Rn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};ue.mod=ue.modulo;ue.rem=ue.modulo;ue.not=function(){return Xe(~this.low,~this.high,this.unsigned)};ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ue.clz=ue.countLeadingZeros;ue.countTrailingZeros=function(){return this.low?Pb(this.low):Pb(this.high)+32};ue.ctz=ue.countTrailingZeros;ue.and=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low&e.low,this.high&e.high,this.unsigned)};ue.or=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low|e.low,this.high|e.high,this.unsigned)};ue.xor=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low^e.low,this.high^e.high,this.unsigned)};ue.shiftLeft=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Xe(0,this.low<<e-32,this.unsigned)};ue.shl=ue.shiftLeft;ue.shiftRight=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Xe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};ue.shr=ue.shiftRight;ue.shiftRightUnsigned=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Xe(this.high,0,this.unsigned):Xe(this.high>>>e-32,0,this.unsigned)};ue.shru=ue.shiftRightUnsigned;ue.shr_u=ue.shiftRightUnsigned;ue.rotateLeft=function(e){var i;return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Xe(this.high,this.low,this.unsigned):e<32?(i=32-e,Xe(this.low<<e|this.high>>>i,this.high<<e|this.low>>>i,this.unsigned)):(e-=32,i=32-e,Xe(this.high<<e|this.low>>>i,this.low<<e|this.high>>>i,this.unsigned))};ue.rotl=ue.rotateLeft;ue.rotateRight=function(e){var i;return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Xe(this.high,this.low,this.unsigned):e<32?(i=32-e,Xe(this.high<<i|this.low>>>e,this.low<<i|this.high>>>e,this.unsigned)):(e-=32,i=32-e,Xe(this.low<<i|this.high>>>e,this.high<<i|this.low>>>e,this.unsigned))};ue.rotr=ue.rotateRight;ue.toSigned=function(){return this.unsigned?Xe(this.low,this.high,!1):this};ue.toUnsigned=function(){return this.unsigned?this:Xe(this.low,this.high,!0)};ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};ue.toBytesLE=function(){var e=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};ue.toBytesBE=function(){var e=this.high,i=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};Ue.fromBytes=function(e,i,a){return a?Ue.fromBytesLE(e,i):Ue.fromBytesBE(e,i)};Ue.fromBytesLE=function(e,i){return new Ue(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,i)};Ue.fromBytesBE=function(e,i){return new Ue(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],i)};typeof BigInt=="function"&&(Ue.fromBigInt=function(e,i){var a=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Xe(a,o,i)},Ue.fromValue=function(e,i){return typeof e=="bigint"?Ue.fromBigInt(e,i):Mn(e,i)},ue.toBigInt=function(){var e=BigInt(this.low>>>0),i=BigInt(this.unsigned?this.high>>>0:this.high);return i<<BigInt(32)|e});var rt=(t=>(t[t.Null=0]="Null",t[t.Boolean=1]="Boolean",t[t.Integer=2]="Integer",t[t.Long=3]="Long",t[t.Double=4]="Double",t[t.String=5]="String",t[t.Bytes=6]="Bytes",t[t.Date=7]="Date",t))(rt||{});class dt extends Vl{valueType;value;constructor(e,i){super(i),this.valueType=dt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,i){return new dt(e,i)}static valueFromBytes(e,i){switch(e){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const a=new DataView(i.buffer);return i.forEach(function(o,u){a.setUint8(u,o)}),a.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Ue.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Ue.fromBytesLE(Array.from(i),!0).toNumber());default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${oi(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=dt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Ue)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return dt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const e=this.value,i=Ue.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Wc extends wE{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,i){const a=new Wc(i),o=e.next;return e.next=a,a.prev=e,a.next=o,o&&(o.prev=a),a}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class pl{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=dt.of(0,Bs);e.setRemovedAt(Bs),this.dummyHead=new Wc(e),this.last=this.dummyHead,this.nodeMapByIndex=new ml,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new pl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,i){let a=this.nodeMapByCreatedAt.get(e.toIDString());if(!a)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;a.getValue().getMovedAt()&&a.getValue().getMovedAt().after(i)&&a.getMovedFrom();)a=a.getMovedFrom();for(;a.getNext()&&a.getNext().getPositionedAt().after(i);)a=a.getNext();return a}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,i,a=i.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,a),u=Wc.createAfter(o,i);return o===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(o,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u),u}moveAfter(e,i,a){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let u=this.nodeMapByCreatedAt.get(i.toIDString());if(!u)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${i.toIDString()}`);if(o!==u&&a.after(u.getPositionedAt())){const c=u.getPrev();let d=u.getNext();for(this.release(u),u=this.insertAfter(o.getCreatedAt(),u.getValue(),a),u.getValue().setMovedAt(a),u.setMovedFrom(c);d&&d.getPositionedAt().after(a);)o=u,u=d,d=u.getNext(),this.release(u),u=this.insertAfter(o.getCreatedAt(),u.getValue(),a),u.getValue().setMovedAt(a),u.setMovedFrom(c)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const i=this.nodeMapByCreatedAt.get(e.toIDString());if(i)return String(this.nodeMapByIndex.indexOf(i))}purge(e){const i=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(i)}getByIndex(e){if(e>=this.length)return;const[i,a]=this.nodeMapByIndex.find(e);let o=i;if(e===0&&i===this.dummyHead||a>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let i=this.nodeMapByCreatedAt.get(e.toIDString());do i=i.getPrev();while(this.dummyHead!==i&&i.isRemoved());return i.getValue().getCreatedAt()}delete(e,i){const a=this.nodeMapByCreatedAt.get(e.toIDString()),o=a.isRemoved();return a.remove(i)&&!o&&this.nodeMapByIndex.splayNode(a),a.getValue()}set(e,i,a){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),i,a),this.delete(e,a)}deleteByIndex(e,i){const a=this.getByIndex(e);if(a)return a.remove(i)&&this.nodeMapByIndex.splayNode(a),a.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const i of this){const a=`${i.getCreatedAt().toIDString()}:${i.getValue().toJSON()}`;i.isRemoved()?e.push(`{${a}}`):e.push(`[${a}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Wt extends Mr{elements;constructor(e,i){super(e),this.elements=i}static create(e,i){if(!i)return new Wt(e,pl.create());const a=pl.create();for(const o of i)a.insertAfter(a.getLastCreatedAt(),o.deepcopy());return new Wt(e,a)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,i,a){this.elements.insertAfter(e,i,a)}moveAfter(e,i,a){this.elements.moveAfter(e,i,a)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,i){return this.elements.delete(e,i)}deleteByIndex(e,i){return this.elements.deleteByIndex(e,i)}set(e,i,a){return this.elements.set(e,i,a)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const i of this.elements){const a=i.getValue();if(e(a,this))return;a instanceof Mr&&a.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const i of this)e.push(i.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let i=0;i<this.length;i++){const{createdAt:a,value:o,type:u}=this.get(i).toJSForTest();e[i]={key:String(i),createdAt:a,value:o,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Wt.create(this.getCreatedAt());for(const i of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),i.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class Yr extends Qn{prevCreatedAt;value;constructor(e,i,a,o){super(e,o),this.prevCreatedAt=i,this.value=a}static create(e,i,a,o){return new Yr(e,i,a,o)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute add");const a=i,o=this.value.deepcopy();return a.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,a),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(a.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return hi.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class hi extends Qn{createdAt;constructor(e,i,a){super(e,a),this.createdAt=i}static create(e,i,a){return new hi(e,i,a)}execute(e,i){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Mr))throw new G(Z.ErrInvalidArgument,`only object and array can execute remove: ${a}`);if(i===lt.UndoRedo){let m=a.getByID(this.createdAt);for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.subPathOf(this.createdAt),u=this.toReverseOperation(a),c=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(c),{opInfos:a instanceof Wt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:u}}toReverseOperation(e){if(e instanceof Wt){const i=e.getByID(this.createdAt);if(i!==void 0){const a=e.getPrevCreatedAt(this.createdAt);return Yr.create(this.getParentCreatedAt(),a,i.deepcopy())}}if(e instanceof kt){const i=e.subPathOf(this.createdAt);if(i!==void 0){const a=e.get(i);if(a!==void 0)return ba.create(i,a.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class ba extends Qn{key;value;constructor(e,i,a,o){super(a,o),this.key=e,this.value=i}static create(e,i,a,o){return new ba(e,i,a,o)}execute(e,i){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof kt))throw new G(Z.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===lt.UndoRedo){let m=a;for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.get(this.key),u=this.toReverseOperation(o),c=this.value.deepcopy(),d=a.set(this.key,c,this.getExecutedAt());return i===lt.UndoRedo&&e.findByCreatedAt(c.getCreatedAt())&&e.deregisterElement(c),e.registerElement(c,a),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:u}}toReverseOperation(e){let i=hi.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(i=ba.create(this.key,e.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Fn extends Qn{prevCreatedAt;createdAt;constructor(e,i,a,o){super(e,o),this.prevCreatedAt=i,this.createdAt=a}static create(e,i,a,o){return new Fn(e,i,a,o)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute move");const a=i,o=this.toReverseOperation(a),u=Number(a.subPathOf(this.createdAt));a.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const c=Number(a.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:c,previousIndex:u}],reverseOp:o}}toReverseOperation(e){const i=e.getPrevCreatedAt(this.createdAt);return Fn.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class Vr{key;value;updatedAt;_isRemoved;constructor(e,i,a,o){this.key=e,this.value=i,this.updatedAt=a,this._isRemoved=o}static of(e,i,a,o){return new Vr(e,i,a,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:li}}}class Ki{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ki}getNodeMapByKey(){return this.nodeMapByKey}set(e,i,a){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&a.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||a.after(o.getUpdatedAt())){const u=Vr.of(e,i,a,!1);return this.nodeMapByKey.set(e,u),o!==void 0&&o.isRemoved()?[o,u]:[void 0,u]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,i,a,o){const u=Vr.of(e,i,a,o);this.nodeMapByKey.set(e,u),o&&this.numberOfRemovedElement++}remove(e,i){const a=this.nodeMapByKey.get(e),o=[];if(a===void 0||i.after(a.getUpdatedAt())){if(a===void 0){this.numberOfRemovedElement+=1;const d=Vr.of(e,"",i,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const u=a.isRemoved();u||(this.numberOfRemovedElement+=1),u&&o.push(a);const c=Vr.of(e,a.getValue(),i,!0);return this.nodeMapByKey.set(e,c),o.push(c),o}return o}has(e){if(this.nodeMapByKey.has(e)){const i=this.nodeMapByKey.get(e);return i!==void 0&&!i.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new Ki;for(const[,i]of this.nodeMapByKey)e.setInternal(i.getKey(),i.getValue(),i.getUpdatedAt(),i.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[i,a]of this.nodeMapByKey)a.isRemoved()||e.push(`"${oi(i)}":"${oi(a.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[i,a]of this.nodeMapByKey)a.isRemoved()||(e[i]=a.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const i=this.nodeMapByKey.get(e.getKey());i==null||i.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Gn(t){if(t instanceof Map){const e=Array.from(t);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(t))}const RE=t=>t?Object.entries(t).length===0:!0,Us=t=>{const e={};for(const[i,a]of Object.entries(t))e[i]=JSON.stringify(a);return e},Wi=t=>{const e={};for(const[i,a]of Object.entries(t))e[i]=JSON.parse(a);return e};function wR(t){return t?iS(t.live)+iS(t.gc):0}function iS(t){return t.data+t.meta}function zt(t,...e){for(const i of e)t.data+=i.data,t.meta+=i.meta}function ga(t,e){t.data-=e.data,t.meta-=e.meta}class yl{attributes;content;constructor(e){this.attributes=Ki.create(),this.content=e}static create(e){return new yl(e)}get length(){return this.content.length}substring(e,i){const a=new yl(this.content.substring(e,i));return a.attributes=this.attributes.deepcopy(),a}setAttr(e,i,a){return this.attributes.set(e,i,a)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const i of this.attributes){const a=i.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}toJSON(){const e=oi(this.content),i=this.attributes.toObject(),a=[];for(const[o,u]of Object.entries(i)){const c=JSON.parse(u),d=typeof c=="string"?`"${oi(o)}":"${oi(c)}"`:`"${oi(o)}":${String(c)}`;a.push(d)}return a.sort(),a.length===0?`{"val":"${e}"}`:`{"attrs":{${a.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Vr&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const i of this.attributes)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}class pn extends Vl{rgaTreeSplit;constructor(e,i){super(i),this.rgaTreeSplit=e}static create(e,i){return new pn(e,i)}edit(e,i,a,o,u){const c=i?yl.create(i):void 0;if(c&&o)for(const[v,S]of Object.entries(o))c.setAttr(v,S,a);const[d,m,h,p]=this.rgaTreeSplit.edit(e,a,c,u);return[p.map(v=>({...v,value:v.value?{attributes:Wi(v.value.getAttributes()),content:v.value.getContent()}:{attributes:void 0,content:""},type:"content"})),m,h,[d,d]]}setStyle(e,i,a,o){const u={data:0,meta:0},[,c,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],a),[,m,h]=this.rgaTreeSplit.findNodeWithSplit(e[0],a);zt(u,c,m);const p=[],y=this.rgaTreeSplit.findBetween(h,d),v=[];for(const E of y){const A=E.getCreatedAt().getActorID();let I=Tg;o!=null&&(I=o.get(A)?o.get(A):0n),E.canStyle(a,I)&&v.push(E)}const S=[];for(const E of v){if(E.isRemoved())continue;const[A,I]=this.rgaTreeSplit.findIndexesFromRange(E.createPosRange());p.push({type:"style",actor:a.getActorID(),from:A,to:I,value:{attributes:Wi(i)}});for(const[x,U]of Object.entries(i)){const[N]=E.getValue().setAttr(x,U,a);N!==void 0&&S.push({parent:E.getValue(),child:N});const R=E.getValue().getAttrs().getNodeMapByKey().get(x);R!==void 0&&zt(u,R.getDataSize())}}return[S,u,p]}indexRangeToPosRange(e,i){const a=this.rgaTreeSplit.indexToPos(e);return e===i?[a,a]:[a,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const a=i.getDataSize();e.data+=a.data,e.meta+=a.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const i of this.rgaTreeSplit)i.isRemoved()||e.push(i.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const a=i.getValue();e.push({attributes:Wi(a.getAttributes()),content:a.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new pn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:i});for(const a of i.getValue().getGCPairs())e.push(a)}return e}}class Ml extends Qn{fromPos;toPos;content;attributes;constructor(e,i,a,o,u,c){super(e,c),this.fromPos=i,this.toPos=a,this.content=o,this.attributes=u}static create(e,i,a,o,u,c){return new Ml(e,i,a,o,u,c)}execute(e,i,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof pn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Text can execute edit");const u=o,[c,d,m]=u.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),a);e.acc(m);for(const h of d)e.registerGCPair(h);return{opInfos:c.map(({from:h,to:p,value:y})=>({type:"edit",from:h,to:p,value:y,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${i},${a},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Bl extends Qn{fromPos;toPos;attributes;constructor(e,i,a,o,u){super(e,u),this.fromPos=i,this.toPos=a,this.attributes=o}static create(e,i,a,o,u){return new Bl(e,i,a,o,u)}execute(e,i,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof pn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Text can execute edit");const u=o,[c,d,m]=u.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),a);e.acc(d);for(const h of c)e.registerGCPair(h);return{opInfos:m.map(({from:h,to:p,value:y})=>({type:"style",from:h,to:p,value:y,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${i},${a},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const NR=2,xR="root",ui="text";function Ho(t,e,i=!1){let a=0;const o=i?t.allChildren:t.children;for(let u=0;u<e;u++){const c=o[u];!c||!i&&c.isRemoved||(a+=c.paddedSize(i))}return a}class TR{type;parent;_children;visibleSize;totalSize;constructor(e,i=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=i,this.isText&&this._children.length>0)throw new G(Z.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,i=!1){let a=this.parent;for(;a;){if(i)a.totalSize+=e;else if(a.visibleSize+=e,a.isRemoved)break;a=a.parent}}updateDescendantsSize(e=!1){let i=0;for(const a of this._children){const o=a.updateDescendantsSize(e);!e&&a.isRemoved||(i+=o)}return e?this.totalSize+=i:this.visibleSize+=i,this.paddedSize(e)}get isText(){return this.type===ui}paddedSize(e=!1){let i=this.visibleSize;return e&&(i=this.totalSize),this.isText||(i+=NR),i}isAncestorOf(e){return CR(this,e)}get nextSibling(){const e=this.parent.findOffset(this),i=this.parent.children[e+1];if(i)return i}get prevSibling(){const e=this.parent.findOffset(this),i=this.parent.children[e-1];if(i)return i}splitText(e,i){const a={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,a];const o=this.value.slice(0,e),u=this.value.slice(e);if(!u.length)return[void 0,a];const c=this.getDataSize();this.value=o;const d=this.cloneText(e+i);return d.value=u,this.parent.insertAfterInternal(d,this),zt(a,this.getDataSize(),d.getDataSize()),ga(a,c),[d,a]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const i of e)i.parent=this,i.updateAncestorsSize(i.paddedSize()),i.updateAncestorsSize(i.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const i of e)i.parent=this}insertBefore(e,i){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(i);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,i){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(i);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,i){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,i),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new G(Z.ErrInvalidArgument,"child not found");this._children.splice(i,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,i){const a={data:0,meta:0},o=this.getDataSize(),u=this.cloneElement(i);this.parent.insertAfterInternal(u,this),u.updateAncestorsSize(u.paddedSize()),u.updateAncestorsSize(u.paddedSize(!0),!0);const c=this.children.slice(0,e),d=this.children.slice(e);this._children=c,u._children=d,this.visibleSize=this._children.reduce((m,h)=>m+h.paddedSize(),0),this.totalSize=this._children.reduce((m,h)=>m+h.paddedSize(!0),0),u.visibleSize=u._children.reduce((m,h)=>m+h.paddedSize(!0),0),u.totalSize=u._children.reduce((m,h)=>m+h.paddedSize(!0),0);for(const m of u._children)m.parent=u;return zt(a,this.getDataSize(),u.getDataSize()),ga(a,o),[u,a]}insertAfterInternal(e,i){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(i);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1)}insertAtInternal(e,i){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.splice(i,0,e),e.parent=this}findOffset(e,i=!1){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");if(i)return this._children.indexOf(e);if(e.isRemoved){const a=this._children.indexOf(e);return this.allChildren.splice(0,a).filter(u=>!u.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");let i=e;for(;i;){const a=this._children.indexOf(i);if(a!==-1)return a;i=i.parent}return-1}}function CR(t,e){if(t===e)return!1;for(;e.parent;){if(e.parent===t)return!0;e=e.parent}return!1}var vt=(t=>(t.Start="Start",t.End="End",t.Text="Text",t))(vt||{});function IE(t,e,i,a,o=!1){if(e>i)throw new G(Z.ErrInvalidArgument,`from is greater than to: ${e} > ${i}`);const u=o?t.totalSize:t.visibleSize;if(e>u)throw new G(Z.ErrInvalidArgument,`from is out of range: ${e} > ${u}`);if(i>u)throw new G(Z.ErrInvalidArgument,`to is out of range: ${i} > ${u}`);if(e===i)return;let c=0;const d=o?t._children:t.children;for(const m of d){if(e-m.paddedSize(o)<c&&c<i){const h=m.isText?e-c:e-c-1,p=m.isText?i-c:i-c-1,y=o?m.totalSize:m.visibleSize,v=!m.isText&&h<0,S=!m.isText&&p>y;(m.isText||v)&&a([m,m.isText?"Text":"Start"],S),IE(m,Math.max(0,h),Math.min(p,y),a,o),S&&a([m,"End"],S)}c+=m.paddedSize(o)}}function DE(t,e,i=0){for(const a of t.children)DE(a,e,i+1);e(t,i)}function cf(t,e,i=0){for(const a of t._children)cf(a,e,i+1);e(t,i)}function Rg(t,e,i=!0){if(e>t.visibleSize)throw new G(Z.ErrInvalidArgument,`index is out of range: ${e} > ${t.visibleSize}`);if(t.isText)return{node:t,offset:e};let a=0,o=0;for(const u of t.children){if(i&&u.isText&&u.visibleSize>=e-o)return Rg(u,e-o,i);if(e===o)return{node:t,offset:a};if(!i&&u.paddedSize()===e-o)return{node:t,offset:a+1};if(u.paddedSize()>e-o)return Rg(u,e-o-1,i);o+=u.paddedSize(),a+=1}return{node:t,offset:a}}function _E(t){return t.isText||t.children.length===0?t:_E(t.children[0])}function RR(t,e){if(t.visibleSize<e)throw new G(Z.ErrInvalidArgument,"unacceptable path");for(let i=0;i<t.children.length;i++){const a=t.children[i];if(a.visibleSize<e)e-=a.visibleSize;else{t=a;break}}return{node:t,offset:e}}class IR{root;constructor(e){this.root=e}tokensBetween(e,i,a,o=!1){IE(this.root,e,i,a,o)}traverse(e){DE(this.root,e,0)}traverseAll(e){cf(this.root,e,0)}findTreePos(e,i=!0){return Rg(this.root,e,i)}treePosToPath(e){const i=[];let a=e.node;if(a.isText){const o=a.parent.findOffset(a);if(o===-1)throw new G(Z.ErrInvalidArgument,"invalid treePos");const u=Ho(a.parent,o);i.push(u+e.offset),a=a.parent}else if(a.hasTextChild()){const o=Ho(a,e.offset);i.push(o)}else i.push(e.offset);for(;a.parent;){const o=a.parent.findOffset(a);if(o===-1)throw new G(Z.ErrInvalidArgument,"invalid treePos");i.push(o),a=a.parent}return i.reverse()}pathToIndex(e){const i=this.pathToTreePos(e);return this.indexOf(i)}pathToTreePos(e){if(!e.length)throw new G(Z.ErrInvalidArgument,"unacceptable path");let i=this.root;for(let a=0;a<e.length-1;a++){const o=e[a];if(i=i.children[o],!i)throw new G(Z.ErrInvalidArgument,"unacceptable path")}if(i.hasTextChild())return RR(i,e[e.length-1]);if(i.children.length<e[e.length-1])throw new G(Z.ErrInvalidArgument,"unacceptable path");return{node:i,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:i,offset:a}=e;if(i.isText){if(i.visibleSize===a){const o=i.nextSibling;return o||i.parent}return i}return i.children.length===a?i:_E(i.children[a])}indexOf(e,i=!1){let{node:a}=e;const{offset:o}=e;let u=0,c=1;if(a.isText){u+=o;const d=a.parent,m=d.findOffset(a,i);if(m===-1)throw new G(Z.ErrInvalidArgument,"invalid pos");u+=Ho(d,m,i),a=a.parent}else u+=Ho(a,o,i);for(;a?.parent;){const d=a.parent,m=d.findOffset(a,i);if(m===-1)throw new G(Z.ErrInvalidArgument,"invalid pos");u+=Ho(d,m,i),c++,a=a.parent}return u+c-1}indexToPath(e){const i=this.findTreePos(e);return this.treePosToPath(i)}}const DR=(t,e)=>t===e?0:t<e?-1:1;class _R{key;value;left;right;isRed;constructor(e,i,a){this.key=e,this.value=i,this.isRed=a}}class OR{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class OE{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:DR,this.counter=0}put(e,i){return this.root=this.putInternal(e,i,this.root),this.root.isRed=!1,i}get(e){const i=this.getInternal(e,this.root);return i?i.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new OR(this.root)}values(){const e=[];for(const i of this.getIterator().stack)e.push(i.value);return e}floorEntry(e){let i=this.root,a;for(;i;){const o=this.comparator(e,i.key);if(o===0)return i;o<0?i=i.left:(a=i,i=i.right)}return a}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,i){for(;i;){const a=this.comparator(e,i.key);if(a===0)return i;a<0?i=i.left:a>0&&(i=i.right)}}putInternal(e,i,a){if(!a)return this.counter+=1,new _R(e,i,!0);const o=this.comparator(e,a.key);return o<0?a.left=this.putInternal(e,i,a.left):o>0?a.right=this.putInternal(e,i,a.right):a.value=i,this.isRed(a.right)&&!this.isRed(a.left)&&(a=this.rotateLeft(a)),this.isRed(a.left)&&this.isRed(a.left.left)&&(a=this.rotateRight(a)),this.isRed(a.left)&&this.isRed(a.right)&&this.flipColors(a),a}removeInternal(e,i){if(this.comparator(i,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,i);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(i,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(i,e.key)===0){this.counter-=1;const a=this.min(e.right);e.value=a.value,e.key=a.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,i)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const i=e.right;return e.right=i.left,i.left=e,i.isRed=i.left.isRed,i.left.isRed=!0,i}rotateRight(e){const i=e.left;return e.left=i.right,i.right=e,i.isRed=i.right.isRed,i.right.isRed=!0,i}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Jn{parentID;leftSiblingID;constructor(e,i){this.parentID=e,this.leftSiblingID=i}static of(e,i){return new Jn(e,i)}static fromTreePos(e){const{offset:i}=e;let{node:a}=e,o;return a.isText?(a.parent.children[0]===a&&i===0?o=a.parent:o=a,a=a.parent):i===0?o=a:o=a.children[i-1],Jn.of(a.id,Ut.of(o.getCreatedAt(),o.getOffset()+i))}getParentID(){return this.parentID}static fromStruct(e){return Jn.of(Ut.of(Dn.fromStruct(e.parentID.createdAt),e.parentID.offset),Ut.of(Dn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const i=this.getParentID(),a=this.getLeftSiblingID(),o=e.findFloorNode(i);let u=e.findFloorNode(a);if(!o||!u)throw new G(Z.ErrRefused,`cannot find node of CRDTTreePos(${i.toTestString()}, ${a.toTestString()})`);return!a.equals(i)&&a.getOffset()>0&&a.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[o,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Ut{createdAt;offset;constructor(e,i){this.createdAt=e,this.offset=i}static of(e,i){return new Ut(e,i)}static fromStruct(e){return Ut.of(Dn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,i)=>{const a=e.getCreatedAt().compare(i.getCreatedAt());return a!==0?a:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class mn extends TR{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,i,a,o,u){super(i),this.id=e,this.removedAt=u,o&&(this.attrs=o),typeof a=="string"?this.value=a:Array.isArray(a)&&(this._children=a)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,i,a,o){return new mn(e,i,a,o)}deepcopy(){const e=new mn(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=e,a}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new G(Z.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new G(Z.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new mn(Ut.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new mn(Ut.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,i,a){const[o,u]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,a);if(o){if(o.insPrevID=this.id,this.insNextID){const c=e.findFloorNode(this.insNextID);c.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,u]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,i,a){return i?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,i){this.attrs||(this.attrs=new Ki);const a=[];for(const[o,u]of Object.entries(e))a.push(this.attrs.set(o,u,i));return a}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=li),this.removedAt&&(e.meta+=li),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const a=i.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const i of this.attrs)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}function Ig(t){if(t.isText){const i=t;return{type:i.type,value:i.value}}const e={type:t.type,children:t.children.map(Ig)};return t.attrs&&(e.attributes=Wi(t.attrs?.toObject())),e}function Am(t){if(t.isText)return t.value;let e="";return t.attrs&&t.attrs.size()&&(e=" "+Array.from(t.attrs).filter(i=>!i.isRemoved()).sort((i,a)=>i.getKey().localeCompare(a.getKey())).map(i=>{const a=JSON.parse(i.getValue());return typeof a=="string"?`${i.getKey()}="${a}"`:`${i.getKey()}="${oi(i.getValue())}"`}).join(" ")),`<${t.type}${e}>${t.children.map(i=>Am(i)).join("")}</${t.type}>`}function VE(t){if(t.isText){const e=t;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:t.type,children:t.children.map(VE),visibleSize:t.visibleSize,isRemoved:t.isRemoved}}class yn extends Vl{indexTree;nodeMapByID;constructor(e,i){super(i),this.indexTree=new IR(e),this.nodeMapByID=new OE(Ut.createComparator()),this.indexTree.traverseAll(a=>{this.nodeMapByID.put(a.id,a)})}static create(e,i){return new yn(e,i)}findFloorNode(e){const i=this.nodeMapByID.floorEntry(e);if(!(!i||!i.key.getCreatedAt().equals(e.getCreatedAt())))return i.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,i){let a={data:0,meta:0};const[o,u]=e.toTreeNodePair(this);let c=u;const d=o===c,m=c.parent&&!d?c.parent:o;if(c.isText){const[,h]=c.split(this,e.getLeftSiblingID().getOffset()-c.id.getOffset());a=h}if(i){const h=m.allChildren,p=d?0:h.indexOf(c)+1;for(let y=p;y<h.length;y++){const v=h[y];if(!v.id.getCreatedAt().after(i))break;c=v}}return[[m,c],a]}style(e,i,a,o){const u={data:0,meta:0},[[c,d],m]=this.findNodesAndSplitText(e[0],a),[[h,p],y]=this.findNodesAndSplitText(e[1],a);zt(u,y,m);const v=[],S=i?Wi(i):{},E=[];return this.traverseInPosRange(c,d,h,p,([A,I])=>{const x=A.getCreatedAt().getActorID();let U=Tg;if(o!=null&&(U=o.get(x)?o.get(x):0n),A.canStyle(a,U)&&i){const N=A.setAttrs(i,a),R=N.reduce((M,[,X])=>(X&&(M[X.getKey()]=S[X.getKey()]),M),{}),V=A.parent,B=A.prevSibling||A.parent;Object.keys(R).length>0&&v.push({type:"style",from:this.toIndex(V,B),to:this.toIndex(A,A),fromPath:this.toPath(V,B),toPath:this.toPath(A,A),actor:a.getActorID(),value:R});for(const[M]of N)M&&E.push({parent:A,child:M});for(const[M]of Object.entries(S)){const X=A.attrs?.getNodeMapByKey().get(M);X!==void 0&&I!==vt.End&&zt(u,X.getDataSize())}}}),[E,v,u]}removeStyle(e,i,a,o){const u={data:0,meta:0},[[c,d],m]=this.findNodesAndSplitText(e[0],a),[[h,p],y]=this.findNodesAndSplitText(e[1],a);zt(u,y,m);const v=[],S=[];return this.traverseInPosRange(c,d,h,p,([E])=>{const A=E.getCreatedAt().getActorID();let I=Tg;if(o!=null&&(I=o.get(A)?o.get(A):0n),E.canStyle(a,I)&&i){E.attrs||(E.attrs=new Ki);for(const N of i){const R=E.attrs.remove(N,a);for(const V of R)S.push({parent:E,child:V})}const x=E.parent,U=E.prevSibling||E.parent;v.push({actor:a.getActorID(),type:"removeStyle",from:this.toIndex(x,U),to:this.toIndex(E,E),fromPath:this.toPath(x,U),toPath:this.toPath(E,E),value:i})}}),[S,v,u]}edit(e,i,a,o,u,c){const d={data:0,meta:0},[[m,h],p]=this.findNodesAndSplitText(e[0],o),[[y,v],S]=this.findNodesAndSplitText(e[1],o);zt(d,S,p);const E=this.toIndex(m,h),A=this.toPath(m,h),I=[],x=[],U=[];this.traverseInPosRange(m,h,y,v,([V,B],M)=>{if(B===vt.Start&&!M)for(const te of V.children)U.push(te);const X=c===void 0;let q=!1;const de=c?.get(V.id.getCreatedAt().getActorID());q=X||de!==void 0&&de>=V.id.getCreatedAt().getLamport();let ne=!1;if(V.removedAt){const te=c?.get(V.removedAt.getActorID());ne=X||te!==void 0&&te>=V.removedAt.getLamport()}(V.canDelete(o,q,ne)||I.includes(V.parent))&&((B===vt.Text||B===vt.Start)&&I.push(V),x.push([V,B]))},!0);const N=this.makeDeletionChanges(x,o),R=[];for(const V of I)V.remove(o),V.isRemoved&&R.push({parent:this,child:V});for(const V of U)V.removedAt||m.append(V);if(a>0){let V=0,B=m,M=h;for(;V<a;)B.split(this,B.findOffset(M)+1,u),M=B,B=B.parent,V++;N.push({type:"content",from:E,to:E,fromPath:A,toPath:A,actor:o.getActorID()})}if(i?.length){const V=[];let B=h;for(const M of i)B===m?m.insertAt(M,0):m.insertAfter(M,B),B=M,cf(M,X=>{m.isRemoved?(X.remove(o),R.push({parent:this,child:X})):zt(d,X.getDataSize()),this.nodeMapByID.put(X.id,X)}),M.isRemoved||V.push(M);if(V.length){const M=V.map(X=>Ig(X));N.length&&N[N.length-1].from===E?N[N.length-1].value=M:N.push({type:"content",from:E,to:E,fromPath:A,toPath:A,actor:o.getActorID(),value:M})}}return[N,R,d]}editT(e,i,a,o,u){const c=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([c,d],i,a,o,u)}move(e,i,a){throw new G(Z.ErrUnimplemented,`not implemented: ${e}, ${i}, ${a}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,a=e.insNextID;if(i){const o=this.findFloorNode(i);o.insNextID=a}if(a){const o=this.findFloorNode(a);o.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&e.push({parent:this,child:i});for(const a of i.getGCPairs())e.push(a)}),e}findPos(e,i=!0){const a=this.indexTree.findTreePos(e,i);return Jn.fromTreePos(a)}pathToPosRange(e){const i=this.pathToIndex(e);return[this.findPos(i),this.findPos(i+1)]}pathToPos(e){const i=this.indexTree.pathToIndex(e);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Am(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const a=i.getDataSize();e.data+=a.data,e.meta+=a.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),i=(a,o=void 0,u=void 0,c=0)=>{let d,m,h;const p=a.isText?{node:a,offset:0}:o&&u?this.toTreePos(o,u):null;p&&(d=this.indexTree.indexOf(p),m=this.indexTree.treePosToPath(p),h=Jn.fromTreePos(p).toStruct());const y={type:a.type,parent:o?.id.toTestString(),size:a.visibleSize,id:a.id.toTestString(),removedAt:a.removedAt?.toTestString(),insPrev:a.insPrevID?.toTestString(),insNext:a.insNextID?.toTestString(),value:a.isText?a.value:void 0,isRemoved:a.isRemoved,children:[],depth:c,attributes:a.attrs?Wi(a.attrs?.toObject()):void 0,index:d,path:m,pos:h};for(let v=0;v<a.allChildren.length;v++){const S=v===0?a:a.allChildren[v-1];y.children.push(i(a.allChildren[v],a,S,c+1))}return y};return i(e)}getRootTreeNode(){return Ig(this.indexTree.getRoot())}toTestTreeNode(){return VE(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),i=new yn(e.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(e,i){const a=this.toTreePos(e,i);return a?this.indexTree.treePosToPath(a):[]}toIndex(e,i,a=!1){const o=this.toTreePos(e,i,a);return o?this.indexTree.indexOf(o,a):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const i=this.findPos(e[0]);return e[0]===e[1]?[i,i]:[i,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[i,a]=e,o=this.findPos(i);return i===a?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(a).toStruct()]}posRangeToPathRange(e){const[[i,a]]=this.findNodesAndSplitText(e[0]),[[o,u]]=this.findNodesAndSplitText(e[1]);return[this.toPath(i,a),this.toPath(o,u)]}posRangeToIndexRange(e){const[[i,a]]=this.findNodesAndSplitText(e[0]),[[o,u]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(i,a),this.toIndex(o,u)]}traverseInPosRange(e,i,a,o,u,c=!1){const d=this.toIndex(e,i,c),m=this.toIndex(a,o,c);this.indexTree.tokensBetween(d,m,u,c)}toTreePos(e,i,a=!1){if(!e||!i)return;if(!a&&e.isRemoved){let u;for(;e.isRemoved;)u=e,e=u.parent;const c=e.findOffset(u,a);return{node:e,offset:c}}if(e===i)return{node:e,offset:0};let o=e.findOffset(i,a);if(a||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(a)};o++}return{node:e,offset:o}}makeDeletionChanges(e,i){const a=[],o=[];let u=null,c=null;for(let d=0;d<e.length;d++){const m=e[d],h=e[d+1];u||(u=m),c=m;const p=this.findRightToken(m);(!p||!h||p[0]!==h[0]||p[1]!==h[1])&&(o.push([u,c]),u=null,c=null)}for(const d of o){const[m,h]=d,[p,y]=this.findLeftToken(m),[v,S]=h,E=y===vt.Start?p:p.parent,A=S===vt.Start?v:v.parent,I=this.toIndex(E,p),x=this.toIndex(A,v);I<x&&(a.length>0&&I===a[a.length-1].to?(a[a.length-1].to=x,a[a.length-1].toPath=this.toPath(A,v)):a.push({type:"content",from:I,to:x,fromPath:this.toPath(E,p),toPath:this.toPath(A,v),actor:i.getActorID()}))}return a.reverse()}findRightToken([e,i]){if(i===vt.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?vt.Text:vt.Start]:[e,vt.End]}const a=e.parent,o=a.allChildren,u=o.indexOf(e);if(a&&u===o.length-1)return[a,vt.End];const c=o[u+1];return[c,c.isText?vt.Text:vt.Start]}findLeftToken([e,i]){if(i===vt.End){const d=e.allChildren;if(d.length>0){const m=d[d.length-1];return[m,m.isText?vt.Text:vt.End]}return[e,vt.Start]}const a=e.parent,o=a.allChildren,u=o.indexOf(e);if(a&&u===0)return[a,vt.Start];const c=o[u-1];return[c,c.isText?vt.Text:vt.End]}}class Ll extends Qn{fromPos;toPos;contents;splitLevel;constructor(e,i,a,o,u,c){super(e,c),this.fromPos=i,this.toPos=a,this.contents=o,this.splitLevel=u}static create(e,i,a,o,u,c){return new Ll(e,i,a,o,u,c)}execute(e,i,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof yn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const u=this.getExecutedAt(),c=o,[d,m,h]=c.edit([this.fromPos,this.toPos],this.contents?.map(p=>p.deepcopy()),this.splitLevel,u,(()=>{let p=u.getDelimiter();return this.contents!==void 0&&(p+=this.contents.length),()=>Dn.of(u.getLamport(),++p,u.getActorID())})(),a);e.acc(h);for(const p of m)e.registerGCPair(p);return{opInfos:d.map(({from:p,to:y,value:v,splitLevel:S,fromPath:E,toPath:A})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:p,to:y,value:v,splitLevel:S,fromPath:E,toPath:A}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${i},${a},${o.map(u=>Am(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ts{vector;constructor(e){this.vector=e||new Map}set(e,i){this.vector.set(e,i)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,i]of this)i>e&&(e=i);return e}max(e){const i=new Map;for(const[a,o]of e){const u=this.vector.get(a),c=u&&u>o?u:o;i.set(a,c)}for(const[a,o]of this){const u=e.get(a),c=u&&u>o?u:o;i.set(a,c)}return new Ts(i)}afterOrEqual(e){const i=this.vector.get(e.getActorID());return i===void 0?!1:i>=e.getLamport()}deepcopy(){const e=new Map;for(const[i,a]of this.vector)e.set(i,a);return new Ts(e)}filter(e){const i=new Map;for(const[a]of e){const o=this.vector.get(a);o!==void 0&&i.set(a,o)}return new Ts(i)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,i]of this.vector)yield[e,i]}}const ME=new Ts(new Map);class kn{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,i,a,o,u){this.clientSeq=e,this.serverSeq=u,this.lamport=i,this.versionVector=o,this.actor=a}hasClocks(){return this.versionVector.size()>0&&this.lamport!=xg}static of(e,i,a,o,u){return new kn(e,i,a,o,u)}next(e=!1){if(e)return new kn(this.clientSeq+1,this.lamport,this.actor,ME,xg);const i=this.versionVector.deepcopy();return i.set(this.actor,this.lamport+1n),new kn(this.clientSeq+1,this.lamport+1n,this.actor,i)}syncClocks(e){if(!e.hasClocks())return this;const i=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,a=this.versionVector.max(e.versionVector),o=new kn(this.clientSeq,i,this.actor,a);return o.versionVector.set(this.actor,i),o}setClocks(e,i){const a=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(i);return o.set(this.actor,a),kn.of(this.clientSeq,a,this.actor,o)}createTimeTicket(e){return Dn.of(this.lamport,e,this.actor)}setActor(e){return new kn(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new kn(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new kn(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const VR=new kn(0,0n,bm,ME);class Ys{id;operations;presenceChange;message;constructor({id:e,operations:i,presenceChange:a,message:o}){this.id=e,this.operations=i||[],this.presenceChange=a,this.message=o}static create({id:e,operations:i,presenceChange:a,message:o}){return new Ys({id:e,operations:i,presenceChange:a,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const i of this.operations)i.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,i,a){const o=[],u=[];for(const c of this.operations){const d=c.execute(e,a,this.id.getVersionVector());if(!d)continue;const{opInfos:m,reverseOp:h}=d;o.push(...m),h&&u.unshift(h)}return this.presenceChange&&(this.presenceChange.type===di.Put?i.set(this.id.getActorID(),Gn(this.presenceChange.presence)):i.delete(this.id.getActorID())),{opInfos:o,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:ut.bytesToHex(ut.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>ut.bytesToHex(ut.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:i,operations:a,presenceChange:o,message:u}=e;return Ys.create({id:ut.bytesToChangeID(ut.hexToBytes(i)),operations:a?.map(c=>ut.bytesToOperation(ut.hexToBytes(c))),presenceChange:o,message:u})}}class ff{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,i,a,o,u,c){this.documentKey=e,this.checkpoint=i,this.isRemoved=a,this.changes=o,this.snapshot=c,this.versionVector=u}static create(e,i,a,o,u,c){return new ff(e,i,a,o,u,c)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Cs{serverSeq;clientSeq;constructor(e,i){this.serverSeq=e,this.clientSeq=i}static of(e,i){return new Cs(e,i)}increaseClientSeq(e){return e===0?this:new Cs(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const i=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,a=Math.max(this.clientSeq,e.clientSeq);return Cs.of(i,a)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const MR=new Cs(0n,0);class ci{createdAt;offset;constructor(e,i){this.createdAt=e,this.offset=i}static of(e,i){return new ci(e,i)}static fromStruct(e){return ci.of(Dn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new ci(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const BR=ci.of(Bs,0);class Pn{id;relativeOffset;constructor(e,i){this.id=e,this.relativeOffset=i}static of(e,i){return new Pn(e,i)}static fromStruct(e){const i=ci.fromStruct(e.id);return Pn.of(i,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return ci.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Br extends wE{id;removedAt;prev;next;insPrev;insNext;constructor(e,i,a){super(i),this.id=e,this.removedAt=a}static create(e,i){return new Br(e,i)}static createComparator(){return(e,i)=>{const a=e.getCreatedAt().compare(i.getCreatedAt());return a!==0?a:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Br(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,i,a){return i?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[Pn.of(this.id,0),Pn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=li),this.removedAt&&(e.meta+=li),e}deepcopy(){return new Br(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const i=this.value;return this.value=i.substring(0,e),i.substring(e,i.length)}toIDString(){return this.id.toIDString()}}class Zs{head;treeByIndex;treeByID;constructor(){this.head=Br.create(BR),this.treeByIndex=new ml,this.treeByID=new OE(Br.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Zs}edit(e,i,a,o){const u={data:0,meta:0},[c,d,m]=this.findNodeWithSplit(e[1],i),[h,p,y]=this.findNodeWithSplit(e[0],i);zt(u,d,p);const v=this.findBetween(y,m),[S,E]=this.deleteNodes(v,i,o),A=m?m.getID():c.getID();let I=Pn.of(A,0);if(a){const U=this.posToIndex(h.createPosRange()[1],!0),N=this.insertAfter(h,Br.create(ci.of(i,0),a));zt(u,N.getDataSize()),S.length&&S[S.length-1].from===U?S[S.length-1].value=a:S.push({actor:i.getActorID(),from:U,to:U,value:a}),I=Pn.of(N.getID(),N.getContentLength())}const x=[];for(const[,U]of E)x.push({parent:this,child:U});return[I,x,u,S]}indexToPos(e){const[i,a]=this.treeByIndex.find(e),o=i;return Pn.of(o.getID(),a)}findIndexesFromRange(e){const[i,a]=e;return[this.posToIndex(i,!1),this.posToIndex(a,!0)]}posToIndex(e,i){const a=e.getAbsoluteID(),o=i?this.findFloorNodePreferToLeft(a):this.findFloorNode(a);if(!o)throw new G(Z.ErrInvalidArgument,`the node of the given id should be found: ${a.toTestString()}`);const u=this.treeByIndex.indexOf(o),c=o.isRemoved()?0:a.getOffset()-o.getID().getOffset();return u+c}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const i of this)i.isRemoved()||e.push(i.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Zs;let i=this.head.getNext(),a=e.head,o;for(;i;){if(o=e.insertAfter(a,i.deepcopy()),i.hasInsPrev()){const u=e.findNode(i.getInsPrevID());o.setInsPrev(u)}a=o,i=i.getNext()}return e}toTestString(){const e=[];let i=this.head;for(;i;)i.isRemoved()?e.push(`{${i.toTestString()}}`):e.push(`[${i.toTestString()}]`),i=i.getNext();return e.join("")}insertAfter(e,i){const a=e.getNext();return i.setPrev(e),a&&a.setPrev(i),this.treeByID.put(i.getID(),i),this.treeByIndex.insertAfter(e,i),i}findNodeWithSplit(e,i){const a=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(a);const u=a.getOffset()-o.getID().getOffset(),[,c]=this.splitNode(o,u);for(;o.hasNext()&&o.getNext().getCreatedAt().after(i);)o=o.getNext();return[o,c,o.getNext()]}findFloorNodePreferToLeft(e){let i=this.findFloorNode(e);if(!i)throw new G(Z.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&i.getID().getOffset()==e.getOffset()){if(!i.hasInsPrev())return i;i=i.getInsPrev()}return i}findFloorNode(e){const i=this.treeByID.floorEntry(e);if(i&&!(!i.key.equals(e)&&!i.key.hasSameCreatedAt(e)))return i.value}findBetween(e,i){const a=[];let o=e;for(;o&&o!==i;)a.push(o),o=o.getNext();return a}splitNode(e,i){const a={data:0,meta:0};if(i>e.getContentLength())throw new G(Z.ErrInvalidArgument,"offset should be less than or equal to length");if(i===0)return[e,a];if(i===e.getContentLength())return[e.getNext(),a];const o=e.getDataSize(),u=e.split(i);this.treeByIndex.updateWeight(u),this.insertAfter(e,u);const c=e.getInsNext();return c&&c.setInsPrev(u),u.setInsPrev(e),zt(a,e.getDataSize(),u.getDataSize()),ga(a,o),[u,a]}deleteNodes(e,i,a){if(!e.length)return[[],new Map];const o=a===void 0||a.size()===0,u=[],c=[],[d,m]=this.findEdgesOfCandidates(e);c.push(d);for(const y of e){let v=!1;if(o)v=!0;else{const E=a?.get(y.getCreatedAt().getActorID());E&&E>=y.getCreatedAt().getLamport()&&(v=!0)}let S=!1;if(y.getRemovedAt()){const E=a?.get(y.getRemovedAt().getActorID());(o||E&&E>=y.getRemovedAt().getLamport())&&(S=!0)}y.canRemove(i,v,S)?u.push(y):c.push(y)}c.push(m);const h=this.makeChanges(c,i),p=new Map;for(const y of u)p.set(y.getID().toIDString(),y),y.remove(i);return this.deleteIndexNodes(c),[h,p]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,i){const a=[];let o,u;for(let c=0;c<e.length-1;c++){const d=e[c],m=e[c+1];d.getNext()!=m&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),m?[,u]=this.findIndexesFromRange(m.getPrev().createPosRange()):u=this.treeByIndex.length,o<u&&a.push({actor:i.getActorID(),from:o,to:u}))}return a.reverse()}deleteIndexNodes(e){for(let i=0;i<e.length-1;i++){const a=e[i],o=e[i+1];a.getNext()!=o&&this.treeByIndex.deleteRange(a,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const i=e.getPrev(),a=e.getNext(),o=e.getInsPrev(),u=e.getInsNext();i&&i.setNext(a),a&&a.setPrev(i),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(u),u&&u.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}const rS=t=>t<0?Math.ceil(t):Math.floor(t);var gi=(t=>(t[t.Int=0]="Int",t[t.Long=1]="Long",t))(gi||{});class sn extends Vl{valueType;value;constructor(e,i,a){switch(super(a),this.valueType=e,e){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Ue.fromNumber(i).toInt():this.value=rS(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Ue.fromNumber(i):this.value=i;break;default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,i,a){return new sn(e,i,a)}static valueFromBytes(e,i){switch(e){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Ue.fromBytesLE(Array.from(i));default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=sn.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Ue?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!sn.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function i(a){if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`)}return i(this),i(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===rt.Long?this.value=this.value+e.getValue().toInt():this.value=Ue.fromNumber(this.value+rS(e.getValue())).toInt(),this}}class Gs extends Qn{value;constructor(e,i,a){super(e,a),this.value=i}static create(e,i,a){return new Gs(e,i,a)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof sn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const a=i,o=this.value.deepcopy();return a.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),a=e.getType()===rt.Long?e.getValue().multiply(-1):e.getValue()*-1;return Gs.create(this.getParentCreatedAt(),dt.of(a,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Xi extends Qn{fromPos;toPos;attributes;attributesToRemove;constructor(e,i,a,o,u,c){super(e,c),this.fromPos=i,this.toPos=a,this.attributes=o,this.attributesToRemove=u}static create(e,i,a,o,u){return new Xi(e,i,a,o,[],u)}static createTreeRemoveStyleOperation(e,i,a,o,u){return new Xi(e,i,a,new Map,o,u)}execute(e,i,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof yn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const u=o;let c,d,m={data:0,meta:0};if(this.attributes.size){const h={};[...this.attributes].forEach(([p,y])=>h[p]=y),[d,c,m]=u.style([this.fromPos,this.toPos],h,this.getExecutedAt(),a)}else{const h=this.attributesToRemove;[d,c,m]=u.removeStyle([this.fromPos,this.toPos],h,this.getExecutedAt(),a)}e.acc(m);for(const h of d)e.registerGCPair(h);return{opInfos:c.map(({from:h,to:p,value:y,fromPath:v,toPath:S})=>({type:"tree-style",from:h,to:p,value:this.attributes.size?{attributes:y}:{attributesToRemove:y},fromPath:v,toPath:S,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${i},${a},${Object.entries(this.attributes||{}).map(([o,u])=>`${o}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Hi extends Qn{createdAt;value;constructor(e,i,a,o){super(e,o),this.createdAt=i,this.value=a}static create(e,i,a,o){return new Hi(e,i,a,o)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute set");const a=i.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,a),u=this.value.deepcopy();return i.insertAfter(this.createdAt,u,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),e.registerElement(u),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,i){return Hi.create(this.getParentCreatedAt(),e.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function LR(t){const e={};for(const[i,a]of Object.entries(t))e[i]=JSON.stringify(a);return be(gR,{data:e})}function zR(t){if(t.type===di.Put)return be($b,{type:gl.PUT,presence:LR(t.presence)});if(t.type===di.Clear)return be($b,{type:gl.CLEAR});throw new G(Z.ErrUnimplemented,"unimplemented type")}function UR(t){return be(mR,{serverSeq:t.getServerSeq(),clientSeq:t.getClientSeq()})}function Dg(t){return be(pm,{clientSeq:t.getClientSeq(),lamport:t.getLamport(),actorId:hf(t.getActorID()),versionVector:Em(t.getVersionVector())})}function Se(t){if(t)return be(yR,{lamport:t.getLamport(),delimiter:t.getDelimiter(),actorId:hf(t.getActorID())})}function Em(t){if(!t)return;const e=be(ym);for(const[i,a]of t){const o=AI(hf(i));e.vector[o]=BigInt(a.toString())}return e}function BE(t){switch(t){case rt.Null:return Ve.NULL;case rt.Boolean:return Ve.BOOLEAN;case rt.Integer:return Ve.INTEGER;case rt.Long:return Ve.LONG;case rt.Double:return Ve.DOUBLE;case rt.String:return Ve.STRING;case rt.Bytes:return Ve.BYTES;case rt.Date:return Ve.DATE;default:throw new G(Z.ErrInvalidType,`unsupported type: ${t}`)}}function LE(t){switch(t){case gi.Int:return Ve.INTEGER_CNT;case gi.Long:return Ve.LONG_CNT;default:throw new G(Z.ErrInvalidType,`unsupported type: ${t}`)}}function gc(t){if(t instanceof kt)return be(ps,{type:Ve.JSON_OBJECT,createdAt:Se(t.getCreatedAt()),value:JE(t)});if(t instanceof Wt)return be(ps,{type:Ve.JSON_ARRAY,createdAt:Se(t.getCreatedAt()),value:yI(t)});if(t instanceof pn)return be(ps,{type:Ve.TEXT,createdAt:Se(t.getCreatedAt())});if(t instanceof dt)return be(ps,{type:BE(t.getType()),createdAt:Se(t.getCreatedAt()),value:t.toBytes()});if(t instanceof sn)return be(ps,{type:LE(t.getType()),createdAt:Se(t.getCreatedAt()),value:t.toBytes()});if(t instanceof yn)return be(ps,{type:Ve.TREE,createdAt:Se(t.getCreatedAt()),value:bI(t)});throw new G(Z.ErrUnimplemented,"unimplemented element")}function YR(t){return be(uR,{createdAt:Se(t.getCreatedAt()),offset:t.getOffset()})}function mc(t){return be(pR,{createdAt:Se(t.getID().getCreatedAt()),offset:t.getID().getOffset(),relativeOffset:t.getRelativeOffset()})}function pc(t){return be(hR,{parentId:nl(t.getParentID()),leftSiblingId:nl(t.getLeftSiblingID())})}function nl(t){return be(dR,{createdAt:Se(t.getCreatedAt()),offset:t.getOffset()})}function _g(t){const e=be(vm);if(t instanceof ba){const i=t,a=be(XC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.key=i.getKey(),a.value=gc(i.getValue()),a.executedAt=Se(i.getExecutedAt()),e.body.case="set",e.body.value=a}else if(t instanceof Yr){const i=t,a=be(KC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.prevCreatedAt=Se(i.getPrevCreatedAt()),a.value=gc(i.getValue()),a.executedAt=Se(i.getExecutedAt()),e.body.case="add",e.body.value=a}else if(t instanceof Fn){const i=t,a=be(HC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.prevCreatedAt=Se(i.getPrevCreatedAt()),a.createdAt=Se(i.getCreatedAt()),a.executedAt=Se(i.getExecutedAt()),e.body.case="move",e.body.value=a}else if(t instanceof hi){const i=t,a=be(FC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.createdAt=Se(i.getCreatedAt()),a.executedAt=Se(i.getExecutedAt()),e.body.case="remove",e.body.value=a}else if(t instanceof Ml){const i=t,a=be(JC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.from=mc(i.getFromPos()),a.to=mc(i.getToPos()),a.content=i.getContent();const o=a.attributes;for(const[u,c]of i.getAttributes())o[u]=c;a.executedAt=Se(i.getExecutedAt()),e.body.case="edit",e.body.value=a}else if(t instanceof Bl){const i=t,a=be(jC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.from=mc(i.getFromPos()),a.to=mc(i.getToPos());const o=a.attributes;for(const[u,c]of i.getAttributes())o[u]=c;a.executedAt=Se(i.getExecutedAt()),e.body.case="style",e.body.value=a}else if(t instanceof Gs){const i=t,a=be($C);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.value=gc(i.getValue()),a.executedAt=Se(i.getExecutedAt()),e.body.case="increase",e.body.value=a}else if(t instanceof Ll){const i=t,a=be(PC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.from=pc(i.getFromPos()),a.to=pc(i.getToPos()),a.contents=HR(i.getContents()),a.splitLevel=i.getSplitLevel(),a.executedAt=Se(i.getExecutedAt()),e.body.case="treeEdit",e.body.value=a}else if(t instanceof Xi){const i=t,a=be(QC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.from=pc(i.getFromPos()),a.to=pc(i.getToPos());const o=i.getAttributesToRemove();if(o.length>0)a.attributesToRemove=o;else{const u=a.attributes;for(const[c,d]of i.getAttributes())u[c]=d}a.executedAt=Se(i.getExecutedAt()),e.body.case="treeStyle",e.body.value=a}else if(t instanceof Hi){const i=t,a=be(qC);a.parentCreatedAt=Se(i.getParentCreatedAt()),a.createdAt=Se(i.getCreatedAt()),a.value=gc(i.getValue()),a.executedAt=Se(i.getExecutedAt()),e.body.case="arraySet",e.body.value=a}else throw new G(Z.ErrUnimplemented,"unimplemented operation");return e}function ZR(t){const e=[];for(const i of t)e.push(_g(i));return e}function GR(t){const e=be(WC,{id:Dg(t.getID()),message:t.getMessage()});return t.hasOperations()&&(e.operations=ZR(t.getOperations())),t.hasPresenceChange()&&(e.presenceChange=zR(t.getPresenceChange())),e}function kR(t){const e=[];for(const i of t)e.push(GR(i));return e}function WR(t){const e=[];for(const i of t)e.push(be(sR,{key:i.getStrKey(),element:Nm(i.getValue())}));return e}function XR(t){const e=[];for(const i of t)e.push(be(oR,{element:Nm(i.getValue())}));return e}function KR(t){const e=[];for(const i of t){const a=be(lR);a.id=YR(i.getID()),a.value=i.getValue().getContent(),a.removedAt=Se(i.getRemovedAt());const o=a.attributes,u=i.getValue().getAttrs();for(const c of u){const d=be(SE);d.value=c.getValue(),d.updatedAt=Se(c.getUpdatedAt()),o[c.getKey()]=d}e.push(a)}return e}function HR(t){const e=[];if(!t||!t.length)return e;for(const i of t)e.push(be(fR,{content:wm(i)}));return e}function FR(t){const e={};for(const i of t)e[i.getKey()]=be(SE,{value:i.getValue(),updatedAt:Se(i.getUpdatedAt()),isRemoved:i.isRemoved()});return e}function wm(t){if(!t)return[];const e=[];return cf(t,(i,a)=>{const o=be(cR,{id:nl(i.id),type:i.type,removedAt:Se(i.removedAt),depth:a});i.isText&&(o.value=i.value),i.insPrevID&&(o.insPrevId=nl(i.insPrevID)),i.insNextID&&(o.insNextId=nl(i.insNextID)),i.attrs&&(o.attributes=FR(i.attrs)),e.push(o)}),e}function JR(t){return be(Vn,{body:{case:"jsonObject",value:be(eR,{nodes:WR(t.getRHT()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function zE(t){return be(Vn,{body:{case:"jsonArray",value:be(tR,{nodes:XR(t.getElements()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function jR(t){return be(Vn,{body:{case:"primitive",value:be(nR,{type:BE(t.getType()),value:t.toBytes(),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function $R(t){return be(Vn,{body:{case:"text",value:be(iR,{nodes:KR(t.getRGATreeSplit()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function PR(t){return be(Vn,{body:{case:"counter",value:be(rR,{type:LE(t.getType()),value:t.toBytes(),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function UE(t){return be(Vn,{body:{case:"tree",value:be(aR,{nodes:wm(t.getRoot()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function Nm(t){if(t instanceof kt)return JR(t);if(t instanceof Wt)return zE(t);if(t instanceof dt)return jR(t);if(t instanceof pn)return $R(t);if(t instanceof sn)return PR(t);if(t instanceof yn)return UE(t);throw new G(Z.ErrUnimplemented,"unimplemented element")}function QR(t){return be(kC,{documentKey:t.getDocumentKey(),checkpoint:UR(t.getCheckpoint()),isRemoved:t.getIsRemoved(),changes:kR(t.getChanges()),snapshot:t.getSnapshot(),versionVector:Em(t.getVersionVector())})}function qR(t){return{id:t.id,label:t.label,description:t.description,snapshot:t.snapshot,createdAt:t.createdAt?cT(t.createdAt):new Date}}function $o(t){if(!(t instanceof Pe))return{};const e=t.findDetails(AR);for(const i of e)return i.metadata;return{}}function Ss(t){return $o(t).code??""}function ig(t,e){return t instanceof Pe&&Ss(t)===e}function YE(t){return kn.of(t.clientSeq,BigInt(t.lamport),Im(t.actorId),xm(t.versionVector),BigInt(t.serverSeq))}function xm(t){if(!t)return;const e=new Ts;return Object.entries(t.vector).forEach(([i,a])=>{const o=df(SI(i));e.set(o,BigInt(a.toString()))}),e}function Ee(t){if(t)return Dn.of(BigInt(t.lamport),t.delimiter,Im(t.actorId))}function Tm(t){const e={};return Object.entries(t.data).forEach(([i,a])=>{e[i]=JSON.parse(a)}),e}function eI(t){const e=t.type;if(e===gl.PUT){const i=Tm(t.presence);return{type:di.Put,presence:i}}if(e===gl.CLEAR)return{type:di.Clear};throw new G(Z.ErrInvalidType,`unsupported type: ${e}`)}function tI(t){const e=new Map;return Object.entries(t).forEach(([i,a])=>{e.set(i,Tm(a))}),e}function ZE(t){switch(t){case Ve.NULL:return rt.Null;case Ve.BOOLEAN:return rt.Boolean;case Ve.INTEGER:return rt.Integer;case Ve.LONG:return rt.Long;case Ve.DOUBLE:return rt.Double;case Ve.STRING:return rt.String;case Ve.BYTES:return rt.Bytes;case Ve.DATE:return rt.Date}throw new G(Z.ErrUnimplemented,`unimplemented value type: ${t}`)}function Xc(t){switch(t){case Ve.INTEGER_CNT:return gi.Int;case Ve.LONG_CNT:return gi.Long}throw new G(Z.ErrUnimplemented,`unimplemented value type: ${t}`)}function yc(t){switch(t.type){case Ve.JSON_OBJECT:return t.value?FE(t.value):kt.create(Ee(t.createdAt));case Ve.JSON_ARRAY:return t.value?pI(t.value):Wt.create(Ee(t.createdAt));case Ve.TEXT:return pn.create(Zs.create(),Ee(t.createdAt));case Ve.TREE:return vI(t.value);case Ve.NULL:case Ve.BOOLEAN:case Ve.INTEGER:case Ve.LONG:case Ve.DOUBLE:case Ve.STRING:case Ve.BYTES:case Ve.DATE:return dt.of(dt.valueFromBytes(ZE(t.type),t.value),Ee(t.createdAt));case Ve.INTEGER_CNT:case Ve.LONG_CNT:return sn.create(Xc(t.type),sn.valueFromBytes(Xc(t.type),t.value),Ee(t.createdAt))}}function vc(t){return Pn.of(ci.of(Ee(t.createdAt),t.offset),t.relativeOffset)}function GE(t){return ci.of(Ee(t.createdAt),t.offset)}function nI(t){const e=yl.create(t.value);Object.entries(t.attributes).forEach(([a,o])=>{e.setAttr(a,o.value,Ee(o.updatedAt))});const i=Br.create(GE(t.id),e);return i.setRemovedAt(Ee(t.removedAt)),i}function ys(t){return Jn.of(il(t.parentId),il(t.leftSiblingId))}function il(t){return Ut.of(Ee(t.createdAt),t.offset)}function iI(t){if(!t.length)return;const e=[];return t.forEach(i=>{const a=Cm(i.content);e.push(a)}),e}function Cm(t){if(t.length===0)return;const e=[];for(const o of t)e.push(aI(o));const i=e[e.length-1],a=new Map;a.set(t[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)a.get(t[o].depth-1).prepend(e[o]),a.set(t[o].depth,e[o]);return i.updateDescendantsSize(),i.updateDescendantsSize(!0),yn.create(i,Bs).getRoot()}function rI(t){const e=Ki.create();for(const[i,a]of Object.entries(t))e.setInternal(i,a.value,Ee(a.updatedAt),a.isRemoved);return e}function aI(t){const e=il(t.id),i=mn.create(e,t.type),a=Object.entries(t.attributes);return i.isText?i.value=t.value:a.length&&(i.attrs=rI(t.attributes)),t.insPrevId&&(i.insPrevID=il(t.insPrevId)),t.insNextId&&(i.insNextID=il(t.insNextId)),i.removedAt=Ee(t.removedAt),i}function kE(t){if(t.body.case==="set"){const e=t.body.value;return ba.create(e.key,yc(e.value),Ee(e.parentCreatedAt),Ee(e.executedAt))}else if(t.body.case==="add"){const e=t.body.value;return Yr.create(Ee(e.parentCreatedAt),Ee(e.prevCreatedAt),yc(e.value),Ee(e.executedAt))}else if(t.body.case==="move"){const e=t.body.value;return Fn.create(Ee(e.parentCreatedAt),Ee(e.prevCreatedAt),Ee(e.createdAt),Ee(e.executedAt))}else if(t.body.case==="remove"){const e=t.body.value;return hi.create(Ee(e.parentCreatedAt),Ee(e.createdAt),Ee(e.executedAt))}else if(t.body.case==="edit"){const e=t.body.value,i=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{i.set(a,o)}),Ml.create(Ee(e.parentCreatedAt),vc(e.from),vc(e.to),e.content,i,Ee(e.executedAt))}else if(t.body.case==="style"){const e=t.body.value,i=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{i.set(a,o)}),Bl.create(Ee(e.parentCreatedAt),vc(e.from),vc(e.to),i,Ee(e.executedAt))}else if(t.body.case==="increase"){const e=t.body.value;return Gs.create(Ee(e.parentCreatedAt),yc(e.value),Ee(e.executedAt))}else if(t.body.case==="treeEdit"){const e=t.body.value;return Ll.create(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),iI(e.contents),e.splitLevel,Ee(e.executedAt))}else if(t.body.case==="treeStyle"){const e=t.body.value,i=new Map,a=e.attributesToRemove;return a?.length>0?Xi.createTreeRemoveStyleOperation(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),a,Ee(e.executedAt)):(Object.entries(e.attributes).forEach(([o,u])=>{i.set(o,u)}),Xi.create(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),i,Ee(e.executedAt)))}else if(t.body.case==="arraySet"){const e=t.body.value;return Hi.create(Ee(e.parentCreatedAt),Ee(e.createdAt),yc(e.value),Ee(e.executedAt))}else throw new G(Z.ErrUnimplemented,"unimplemented operation")}function sI(t){const e=[];for(const i of t){const a=kE(i);a&&e.push(a)}return e}function WE(t){const e=[];for(const i of t)e.push(Ys.create({id:YE(i.id),operations:sI(i.operations),presenceChange:i.presenceChange?eI(i.presenceChange):void 0,message:i.message}));return e}function oI(t){return Cs.of(BigInt(t.serverSeq),t.clientSeq)}function lI(t){return ff.create(t.documentKey,oI(t.checkpoint),t.isRemoved,WE(t.changes),xm(t.versionVector),t.snapshot)}function XE(t){const e=new Ls;for(const a of t.nodes){const o=Rm(a.element);e.set(a.key,o,o.getPositionedAt())}const i=new kt(Ee(t.createdAt),e);return i.setMovedAt(Ee(t.movedAt)),i.setRemovedAt(Ee(t.removedAt)),i}function KE(t){const e=new pl;for(const a of t.nodes)e.insert(Rm(a.element));const i=new Wt(Ee(t.createdAt),e);return i.setMovedAt(Ee(t.movedAt)),i.setRemovedAt(Ee(t.removedAt)),i}function uI(t){const e=dt.of(dt.valueFromBytes(ZE(t.type),t.value),Ee(t.createdAt));return e.setMovedAt(Ee(t.movedAt)),e.setRemovedAt(Ee(t.removedAt)),e}function cI(t){const e=new Zs;let i=e.getHead();for(const o of t.nodes){const u=e.insertAfter(i,nI(o));o.insPrevId&&u.setInsPrev(e.findNode(GE(o.insPrevId))),i=u}const a=new pn(e,Ee(t.createdAt));return a.setMovedAt(Ee(t.movedAt)),a.setRemovedAt(Ee(t.removedAt)),a}function fI(t){const e=sn.create(Xc(t.type),sn.valueFromBytes(Xc(t.type),t.value),Ee(t.createdAt));return e.setMovedAt(Ee(t.movedAt)),e.setRemovedAt(Ee(t.removedAt)),e}function HE(t){const e=Cm(t.nodes);return yn.create(e,Ee(t.createdAt))}function Rm(t){if(t.body.case==="jsonObject")return XE(t.body.value);if(t.body.case==="jsonArray")return KE(t.body.value);if(t.body.case==="primitive")return uI(t.body.value);if(t.body.case==="text")return cI(t.body.value);if(t.body.case==="counter")return fI(t.body.value);if(t.body.case==="tree")return HE(t.body.value);throw new G(Z.ErrUnimplemented,"unimplemented element")}function dI(t){return t.map(e=>({path:e.path,type:e.type}))}function hI(t){if(!t)return{root:kt.create(Bs),presences:new Map};const e=On(GC,t);return{root:Rm(e.root),presences:tI(e.presences)}}function gI(t){const e=Em(t);return df(Ur(ym,e))}function mI(t){const e=Dm(t),i=On(ym,e);return xm(i)}function FE(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return XE(e.body.value)}function JE(t){return Ur(Vn,Nm(t))}function pI(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return KE(e.body.value)}function yI(t){return Ur(Vn,zE(t))}function vI(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return HE(e.body.value)}function bI(t){return Ur(Vn,UE(t))}function df(t){return t?Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Im(t){return df(t)}function Dm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function SI(t){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(t),i=e.length,a=new Uint8Array(i);for(let o=0;o<i;o++)a[o]=e.charCodeAt(o);return a}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(t,"base64"))}else throw new Error("No base64 decoder available")}function hf(t){return Dm(t)}function AI(t){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(t).toString("base64");throw new Error("No base64 encoder available")}}function EI(t){const e=On(pm,t);return YE(e)}function wI(t){const e=On(vm,t);return kE(e)}const ut={fromPresence:Tm,toChangePack:QR,fromChangePack:lI,fromChanges:WE,toTreeNodes:wm,fromTreeNodes:Cm,objectToBytes:JE,bytesToObject:FE,bytesToSnapshot:hI,bytesToHex:df,hexToBytes:Dm,toHexString:Im,toUint8Array:hf,toOperation:_g,toChangeID:Dg,bytesToChangeID:EI,bytesToOperation:wI,versionVectorToHex:gI,hexToVersionVector:mI,fromSchemaRules:dI,toRevisionSummary:qR,changeIDToBinary:t=>Ur(pm,Dg(t)),operationToBinary:t=>Ur(vm,_g(t))};var tn=(t=>(t[t.Trivial=0]="Trivial",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Fatal=5]="Fatal",t))(tn||{});let ca=3;function NI(t){ca=t}const pe={trivial:(...t)=>{ca>0||typeof console<"u"&&console.log("YORKIE T:",...t)},debug:(...t)=>{ca>1||typeof console<"u"&&console.log("YORKIE D:",...t)},info:(...t)=>{ca>2||typeof console<"u"&&console.log("YORKIE I:",...t)},warn:(...t)=>{ca>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...t):console.log("YORKIE W:",...t))},error:(...t)=>{ca>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...t):console.log("YORKIE E:",...t))},fatal:(...t)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...t):console.log("YORKIE F:",...t))},isEnabled:t=>ca<=t};function jE(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const rg=()=>{};class xI{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(i){this.error(i)}}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(!e)throw new G(Z.ErrInvalidArgument,"missing observer");if(this.finalized)throw new G(Z.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=rg),o.error===void 0&&(o.error=rg),o.complete===void 0&&(o.complete=rg);const u=jE(),c=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){pe.warn(d)}return c}unsubscribeOne(e){this.observers=this.observers?.filter(i=>i.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e].observer)}catch(a){pe.error(a)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function $E(t){const e=new xI(t);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class rl{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,i,a,o){this.prevID=e,this.nextID=e.next(),this.delimiter=EE,this.root=i,this.operations=[],this.previousPresence=Gn(a),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,i,a,o){return new rl(e,i,a,o)}push(e){this.operations.push(e)}registerElement(e,i){this.root.registerElement(e,i)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ys.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,i){for(const a of Object.keys(e))i?.addToHistory?this.reversePresenceKeys.add(a):this.reversePresenceKeys.delete(a)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const i of this.reversePresenceKeys)e[i]=this.previousPresence[i];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function PE(t,e){const i=new vl(t);return new Proxy(e,i.getHandlers())}class vl{context;handlers;constructor(e){this.context=e,this.handlers={set:(i,a,o)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]=${JSON.stringify(o)}`),vl.setInternal(e,i,a,o),!0),get:(i,a)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]`),a==="getID"?()=>i.getCreatedAt():a==="toJSON"||a==="toString"?()=>i.toJSON():a==="toJS"?()=>i.toJS():a==="toJSForTest"?()=>i.toJSForTest():fa(e,i.get(a))),ownKeys:i=>i.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(i,a)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]`),vl.deleteInternal(e,i,a),!0)}}static setInternal(e,i,a,o){if(a.includes("."))throw new G(Z.ErrInvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),c=al(e,o,u),d=i.set(a,c,u);e.registerElement(c,i),d&&e.registerRemovedElement(d),e.push(ba.create(a,c.deepcopy(),i.getCreatedAt(),u))}static buildObjectMembers(e,i){const a={};for(const[o,u]of Object.entries(i)){if(o.includes("."))throw new G(Z.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),d=al(e,u,c);a[o]=d}return a}static deleteInternal(e,i,a){const o=e.issueTimeTicket(),u=i.deleteByKey(a,o);u&&(e.push(hi.create(i.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function TI(t,e){const i=new Je(t,e);return new Proxy(e,i.getHandlers())}function aS(t){return typeof t=="string"||t instanceof String?!isNaN(t):!1}function CI(t){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(t)}class Je{context;handlers;array;constructor(e,i){this.context=e,this.array=i,this.handlers={get:(a,o,u)=>o==="getID"?()=>a.getCreatedAt():o==="getElementByID"?c=>{const d=a.getByID(c);if(!(!d||d.isRemoved()))return Zn(e,d)}:o==="getElementByIndex"?c=>{const d=a.get(c);return Zn(e,d)}:o==="getLast"?()=>Zn(e,a.getLast()):o==="delete"?c=>{const d=Je.deleteInternalByIndex(e,a,c);return Zn(e,d)}:o==="deleteByID"?c=>{const d=Je.deleteInternalByID(e,a,c);return Zn(e,d)}:o==="insertAfter"?(c,d)=>{const m=Je.insertAfterInternal(e,a,c,d);return Zn(e,m)}:o==="insertIntegerAfter"?(c,d)=>{const m=Je.insertIntegerAfterInternal(e,a,c,d);return Zn(e,m)}:o==="insertBefore"?(c,d)=>{const m=Je.insertBeforeInternal(e,a,c,d);return Zn(e,m)}:o==="setValue"?(c,d)=>{const m=Je.setValueInternal(e,a,c,d);return Zn(e,m)}:o==="moveBefore"?(c,d)=>{Je.moveBeforeInternal(e,a,c,d)}:o==="moveAfter"?(c,d)=>{Je.moveAfterInternal(e,a,c,d)}:o==="moveAfterByIndex"?(c,d)=>{Je.moveAfterByIndexInternal(e,a,c,d)}:o==="moveFront"?c=>{Je.moveFrontInternal(e,a,c)}:o==="moveLast"?c=>{Je.moveLastInternal(e,a,c)}:aS(o)?fa(e,a.get(Number(o))):o==="push"?c=>Je.pushInternal(e,a,c):o==="splice"?(c,d,...m)=>Je.splice(e,a,c,d,...m):o==="length"?a.length:typeof o=="symbol"&&o===Symbol.iterator?Je.iteratorInternal.bind(this,e,a):o==="includes"?(c,d)=>Je.includes(e,a,c,d):o==="indexOf"?(c,d)=>Je.indexOf(e,a,c,d):o==="lastIndexOf"?(c,d)=>Je.lastIndexOf(e,a,c,d):o==="toJSForTest"?()=>a.toJSForTest():o==="toTestString"?()=>Je.toTestString(a):typeof o=="string"&&CI(o)?(...c)=>{const d=Array.from(a).map(m=>fa(e,m));return Array.prototype[o].apply(d,c)}:Reflect.get(a,o,u),set:(a,o,u)=>{if(aS(o)){const c=Number(o);return Je.setValueInternal(e,a,c,u),!0}return Reflect.set(a,o,u)},deleteProperty:(a,o)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`array[${o}]`),Je.deleteInternalByIndex(e,a,Number.parseInt(o)),!0)}}static*iteratorInternal(e,i){for(const a of i)yield Zn(e,a)}static buildArrayElements(e,i){const a=[];for(const o of i){const u=e.issueTimeTicket(),c=al(e,o,u);a.push(c)}return a}static pushInternal(e,i,a){return Je.insertAfterInternal(e,i,i.getLastCreatedAt(),a),i.length}static moveBeforeInternal(e,i,a,o){const u=e.issueTimeTicket(),c=i.getPrevCreatedAt(a);i.moveAfter(c,o,u),e.push(Fn.create(i.getCreatedAt(),c,o,u))}static moveAfterInternal(e,i,a,o){const u=e.issueTimeTicket();e.push(Fn.create(i.getCreatedAt(),a,o,u)),i.moveAfter(a,o,u)}static moveAfterByIndexInternal(e,i,a,o){const u=i.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);const c=i.get(o);if(!c)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${o}`);Je.moveAfterInternal(e,i,u.getCreatedAt(),c.getCreatedAt())}static moveFrontInternal(e,i,a){const o=e.issueTimeTicket(),u=i.getHead();i.moveAfter(u.getCreatedAt(),a,o),e.push(Fn.create(i.getCreatedAt(),u.getCreatedAt(),a,o))}static moveLastInternal(e,i,a){const o=e.issueTimeTicket(),u=i.getLastCreatedAt();i.moveAfter(u,a,o),e.push(Fn.create(i.getCreatedAt(),u,a,o))}static insertAfterInternal(e,i,a,o){const u=e.issueTimeTicket(),c=al(e,o,u);return i.insertAfter(a,c),e.registerElement(c,i),e.push(Yr.create(i.getCreatedAt(),a,c.deepcopy(),u)),c}static insertIntegerAfterInternal(e,i,a,o){const u=i.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);return Je.insertAfterInternal(e,i,u.getCreatedAt(),o),i}static insertBeforeInternal(e,i,a,o){return Je.insertAfterInternal(e,i,i.getPrevCreatedAt(a),o)}static setValueInternal(e,i,a,o){const u=i.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);return Je.setByIndexInternal(e,i,u.getCreatedAt(),o),i}static setByIndexInternal(e,i,a,o){const u=e.issueTimeTicket(),c=al(e,o,u),d=c.deepcopy();return e.push(Hi.create(i.getCreatedAt(),a,d,u)),i.set(a,c,u),e.registerElement(c,i),c}static deleteInternalByIndex(e,i,a){const o=e.issueTimeTicket(),u=i.deleteByIndex(a,o);if(u)return e.push(hi.create(i.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u),u}static deleteInternalByID(e,i,a){const o=e.issueTimeTicket(),u=i.delete(a,o);return e.push(hi.create(i.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u),u}static splice(e,i,a,o,...u){const c=i.length,d=a>=0?Math.min(a,c):Math.max(c+a,0),m=o===void 0?c:o<0?d:Math.min(d+o,c),h=[];for(let p=d;p<m;p++){const y=Je.deleteInternalByIndex(e,i,d);if(y){const v=y.deepcopy();v.setRemovedAt(),h.push(fa(e,v))}}if(u){let p=d===0?i.getHead().getID():i.get(d-1).getID();for(const y of u)p=Je.insertAfterInternal(e,i,p,y).getID()}return h}static includes(e,i,a,o){const u=i.length,c=o===void 0?0:o<0?Math.max(o+u,0):o;if(c>=u)return!1;if(dt.isSupport(a))return Array.from(i).map(m=>fa(e,m)).includes(a,c);for(let d=c;d<u;d++)if(i.get(d)?.getID()===a.getID())return!0;return!1}static indexOf(e,i,a,o){const u=i.length,c=o===void 0?0:o<0?Math.max(o+u,0):o;if(c>=u)return-1;if(dt.isSupport(a))return Array.from(i).map(m=>fa(e,m)).indexOf(a,c);for(let d=c;d<u;d++)if(i.get(d)?.getID()===a.getID())return d;return-1}static lastIndexOf(e,i,a,o){const u=i.length,c=o===void 0||o>=u?u-1:o<0?o+u:o;if(c<0)return-1;if(dt.isSupport(a))return Array.from(i).map(m=>fa(e,m)).lastIndexOf(a,c);for(let d=c;d>0;d--)if(i.get(d)?.getID()===a.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class _m{context;text;constructor(e,i){this.context=e,this.text=i}initialize(e,i){this.context=e,this.text=i}getID(){return this.text.getID()}edit(e,i,a,o){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.text.indexRangeToPosRange(e,i);pe.isEnabled(tn.Debug)&&pe.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${i}->${u[1].toTestString()} c:${a}`);const c=o?Us(o):void 0,d=this.context.issueTimeTicket(),[,m,h,p]=this.text.edit(u,a,d,c);this.context.acc(h);for(const y of m)this.context.registerGCPair(y);return this.context.push(new Ml(this.text.getCreatedAt(),u[0],u[1],a,c?new Map(Object.entries(c)):new Map,d)),this.text.findIndexesFromRange(p)}delete(e,i){return this.edit(e,i,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,i,a){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,i);pe.isEnabled(tn.Debug)&&pe.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${i}->${o[1].toTestString()} a:${JSON.stringify(a)}`);const u=Us(a),c=this.context.issueTimeTicket(),[d,m]=this.text.setStyle(o,u,c);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);return this.context.push(new Bl(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(u)),c)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");const i=this.text.indexRangeToPosRange(e[0],e[1]);return[i[0].toStruct(),i[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");const i=this.text.findIndexesFromRange([Pn.fromStruct(e[0]),Pn.fromStruct(e[1])]);return[i[0],i[1]]}toTestString(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,i){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,i)}}class Om{valueType;value;context;counter;constructor(e,i){this.valueType=e,this.value=i}initialize(e,i){this.valueType=i.getValueType(),this.context=e,this.counter=i,this.value=i.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new G(Z.ErrNotInitialized,"Counter is not initialized yet");const i=this.context.issueTimeTicket(),a=dt.of(e,i);if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`);return this.counter.increase(a),this.context.push(Gs.create(this.counter.getCreatedAt(),a,i)),this}toJSForTest(){if(!this.context||!this.counter)throw new G(Z.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Vm(t){if(t.isText)return{type:t.type,value:t.value};const e={type:t.type,children:t.children.map(i=>Vm(i))};return t.attrs&&(e.attributes=Wi(t.attrs.toObject())),e}function RI(t,e){const i={type:t.isText?t.parent.type:t.type,children:t.isText?t.parent.getChildrenText().length===e?[]:[{type:ui,value:t.parent.getChildrenText().slice(e)}]:t.children.slice(e).map(a=>Vm(a))};return t.attrs?i.attributes=Wi(t.attrs.toObject()):t.isText&&t.parent.attrs&&(i.attributes=Wi(t.parent.attrs.toObject())),i}function II(t,e){const{node:i}=t,a=[...e].slice(0,-1),o=i.isText?i.parent.getChildrenText().length:i.children.length,u=[...a,o],c=[...a],d=[];c[c.length-1]+=1,e.every((h,p)=>h===u[p])||d.push({fromPath:[...e],toPath:u});const m=RI(i,e[e.length-1]);return m&&d.push({fromPath:c,toPath:c,content:m}),d}function DI(t,e){const{node:i,offset:a}=t,o=i.children[a],u=i.children[a-1],{children:c}=o,d=[...e].slice(0,-1),m=[{fromPath:[...e],toPath:[...d,a+1]}];if(!o.children.length)return m;const h=[...d,a-1,u.hasTextChild()?u.getChildrenText().length:u.children.length],p=c.map(y=>Vm(y));return m.push({fromPath:h,toPath:h,content:p}),m}function Mm(t,e,i){const{type:a}=t,o=i.issueTimeTicket();if(a===ui){QE(t);const{value:u}=t,c=mn.create(Ut.of(o,0),a,u);e.append(c)}else{const{children:u=[]}=t,{attributes:c}=t;let d;if(typeof c=="object"&&!RE(c)){const h=Us(c);d=new Ki;for(const[p,y]of Object.entries(h))d.set(p,y,o)}const m=mn.create(Ut.of(o,0),a,void 0,d);e.append(m);for(const h of u)Mm(h,m,i)}}function _I(t,e){const{type:i}=e,a=t.issueTimeTicket();let o;if(e.type===ui){const{value:u}=e;o=mn.create(Ut.of(a,0),i,u)}else if(e){const{children:u=[]}=e,{attributes:c}=e;let d;if(typeof c=="object"&&!RE(c)){const m=Us(c);d=new Ki;for(const[h,p]of Object.entries(m))d.set(h,p,a)}o=mn.create(Ut.of(t.issueTimeTicket(),0),i,void 0,d);for(const m of u)Mm(m,o,t)}return o}function QE(t){if(!t.value.length)throw new G(Z.ErrInvalidArgument,"text node cannot have empty value");return!0}function sS(t){if(!t.length)return!0;if(t[0].type===ui)for(const i of t){const{type:a}=i;if(a!==ui)throw new G(Z.ErrInvalidArgument,"element node and text node cannot be passed together");QE(i)}else for(const i of t){const{type:a}=i;if(a===ui)throw new G(Z.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Bm{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,i){this.context=e,this.tree=i}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return mn.create(Ut.of(e.issueTimeTicket(),0),xR);const i=mn.create(Ut.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const a of this.initialRoot.children)Mm(a,i,e);return i}getSize(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const i=this.tree.pathToTreePos(e),a=II(i,e);for(const o of a){const{fromPath:u,toPath:c,content:d}=o,m=this.tree.pathToPos(u),h=this.tree.pathToPos(c);this.editInternal(m,h,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const i=this.tree.pathToTreePos(e);if(i.node.isText)throw new G(Z.ErrInvalidArgument,"text node cannot be merged");const a=DI(i,e);for(const o of a){const{fromPath:u,toPath:c,content:d}=o,m=this.tree.pathToPos(u),h=this.tree.pathToPos(c);this.editInternal(m,h,d??[],0)}}styleByPath(e,i){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const[a,o]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),c=i?Us(i):void 0,[d,,m]=this.tree.style([a,o],c,u);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);this.context.push(Xi.create(this.tree.getCreatedAt(),a,o,c?new Map(Object.entries(c)):new Map,u))}style(e,i,a){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),u=this.tree.findPos(i),c=this.context.issueTimeTicket(),d=a?Us(a):void 0,[m,,h]=this.tree.style([o,u],d,c);this.context.acc(h);for(const p of m)this.context.registerGCPair(p);this.context.push(Xi.create(this.tree.getCreatedAt(),o,u,d?new Map(Object.entries(d)):new Map,c))}removeStyle(e,i,a){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),u=this.tree.findPos(i),c=this.context.issueTimeTicket(),[d,,m]=this.tree.removeStyle([o,u],a,c);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);this.context.push(Xi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,u,a,c))}editInternal(e,i,a,o=0){if(a.length!==0&&a[0]&&(sS(a),a[0].type!==ui))for(const h of a){const{children:p=[]}=h;sS(p)}const u=this.context.getLastTimeTicket();let c=new Array;if(a[0]?.type===ui){let h="";for(const p of a){const{value:y}=p;h+=y}c.push(mn.create(Ut.of(this.context.issueTimeTicket(),0),ui,h))}else c=a.map(h=>h&&_I(this.context,h)).filter(h=>h);const[,d,m]=this.tree.edit([e,i],c.length?c.map(h=>h?.deepcopy()):void 0,o,u,()=>this.context.issueTimeTicket());this.context.acc(m);for(const h of d)this.context.registerGCPair(h);return this.context.push(Ll.create(this.tree.getCreatedAt(),e,i,c.length?c:void 0,o,u)),!0}editByPath(e,i,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==i.length)throw new G(Z.ErrInvalidArgument,"path length should be equal");if(!e.length||!i.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(e),c=this.tree.pathToPos(i);return this.editInternal(u,c,a?[a]:[],o)}editBulkByPath(e,i,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==i.length)throw new G(Z.ErrInvalidArgument,"path length should be equal");if(!e.length||!i.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(e),c=this.tree.pathToPos(i);return this.editInternal(u,c,a,o)}edit(e,i,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(i);return this.editInternal(u,c,a?[a]:[],o)}editBulk(e,i,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>i)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(i);return this.editInternal(u,c,a,o)}toXML(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const i=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],a=this.tree.indexRangeToPosRange(i);return[a[0].toStruct(),a[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const i=[Jn.fromStruct(e[0]),Jn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(i)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const i=[Jn.fromStruct(e[0]),Jn.fromStruct(e[1])];return this.tree.posRangeToPathRange(i)}}function oS(t,e){return PE(t,e)}function Zn(t,e){if(e){if(e instanceof dt)return e;if(e instanceof kt)return PE(t,e);if(e instanceof Wt)return TI(t,e);if(e instanceof pn)return new _m(t,e);if(e instanceof sn){const i=new Om(gi.Int,0);return i.initialize(t,e),i}else if(e instanceof yn){const i=new Bm;return i.initialize(t,e),i}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function fa(t,e){const i=Zn(t,e);return i instanceof dt?i.getValue():i}function al(t,e,i){let a;if(dt.isSupport(e))a=dt.of(e,i);else if(Array.isArray(e))a=Wt.create(i,Je.buildArrayElements(t,e));else if(typeof e=="object")e instanceof _m?(a=pn.create(Zs.create(),i),e.initialize(t,a)):e instanceof Om?(a=sn.create(e.getValueType(),e.getValue(),i),e.initialize(t,a)):e instanceof Bm?(a=yn.create(e.buildRoot(t),i),e.initialize(t,a)):a=kt.create(i,vl.buildObjectMembers(t,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return a}class bl{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(i=>{if(i.getRemovedAt()&&this.registerRemovedElement(i),i instanceof pn||i instanceof yn)for(const a of i.getGCPairs())this.registerGCPair(a);return!1})}static create(){return new bl(kt.create(Bs))}findByCreatedAt(e){const i=this.elementPairMapByCreatedAt.get(e.toIDString());if(i)return i.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let i=this.elementPairMapByCreatedAt.get(e.toIDString());if(!i)return[];const a=[];for(;i.parent;){const o=i.element.getCreatedAt(),u=i.parent.subPathOf(o);if(u===void 0)throw new G(Z.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);a.unshift(u),i=this.elementPairMapByCreatedAt.get(i.parent.getCreatedAt().toIDString())}return a.unshift("$"),a}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,i){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:i,element:e}),zt(this.docSize.live,e.getDataSize()),e instanceof Mr&&e.getDescendants((a,o)=>(this.elementPairMapByCreatedAt.set(a.getCreatedAt().toIDString(),{parent:o,element:a}),zt(this.docSize.live,a.getDataSize()),!1))}deregisterElement(e){let i=0;const a=o=>{const u=o.getCreatedAt().toIDString();ga(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(u),this.gcElementSetByCreatedAt.delete(u),i++};return a(e),e instanceof Mr&&e.getDescendants(o=>(a(o),!1)),i}registerRemovedElement(e){zt(this.docSize.gc,e.getDataSize()),ga(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=li,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const a=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();zt(this.docSize.gc,a),ga(this.docSize.live,a),e.child instanceof Vr||(this.docSize.live.meta+=li)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const i of this.gcElementSetByCreatedAt){e.add(i);const a=this.elementPairMapByCreatedAt.get(i);a.element instanceof Mr&&a.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new bl(this.rootObject.deepcopy())}garbageCollect(e){let i=0;for(const a of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(a),u=o.element.getRemovedAt();u&&e?.afterOrEqual(u)&&(o.parent.purge(o.element),i+=this.deregisterElement(o.element))}for(const[,a]of this.gcPairMap){const o=a.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(a.parent.purge(a.child),ga(this.docSize.gc,a.child.getDataSize()),this.gcPairMap.delete(a.child.toIDString()),i+=1)}return i}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){zt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const i=this.elementPairMapByCreatedAt.get(e);i&&(yield i)}}}let lS=class{context;presence;constructor(e,i){this.context=e,this.presence=i}set(e,i){for(const a of Object.keys(e))this.presence[a]=e[a];this.context.setPresenceChange({type:di.Put,presence:Gn(this.presence)}),this.context.setReversePresence(e,i)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:di.Clear})}};const uS=50;class OI{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=uS&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=uS&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,i){const a=o=>{for(const u of o)for(const c of u)(c instanceof Hi||c instanceof hi||c instanceof Fn)&&c.getCreatedAt()===e&&c.setCreatedAt(i),(c instanceof Yr||c instanceof Fn)&&c.getPrevCreatedAt()===e&&c.setPrevCreatedAt(i)};a(this.undoStack),a(this.redoStack)}}function VI(t,e){const i=[];for(const a of e){const o=MI(t,a.path),u=BI(o,a);if(!u.valid)for(const c of u.errors||[])i.push(c)}return{valid:i.length===0,errors:i}}function MI(t,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const i=e.split(".");let a=t;for(let o=1;o<i.length;o++){const u=i[o];if(!(a instanceof kt))return;a=a.get(u)}return a}function BI(t,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return zI(t,e);case"object":if(!(t instanceof kt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(t instanceof Wt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(t instanceof pn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(t instanceof yn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(t instanceof sn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function LI(t){switch(t){case"null":return rt.Null;case"boolean":return rt.Boolean;case"integer":return rt.Integer;case"long":return rt.Long;case"double":return rt.Double;case"string":return rt.String;case"bytes":return rt.Bytes;case"date":return rt.Date;default:throw new Error(`Unknown primitive type: ${t}`)}}function zI(t,e){return t instanceof dt&&t.getType()===LI(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const UI="yorkie-devtools-panel",YI="yorkie-devtools-sdk";function ZI(t){return[Dt.StatusChanged,Dt.Snapshot,Dt.LocalChange,Dt.RemoteChange,Dt.Initialized,Dt.Watched,Dt.Unwatched,Dt.PresenceChanged].includes(t.type)}function GI(t){return t.every(ZI)}let As="disconnected";const cS=new Map,_c=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=_c);function bc(t,e){(e?.force||As!=="disconnected")&&window.postMessage({source:YI,...t},"*")}function kI(t){if(!t.isEnableDevtools()||typeof window>"u"||cS.has(t.getKey()))return;_c.set(t.getKey(),[]);const e=t.subscribe("all",i=>{GI(i)&&(_c.get(t.getKey()).push(i),As==="synced"&&bc({msg:"doc::sync::partial",docKey:t.getKey(),event:i}))});cS.set(t.getKey(),[e]),bc({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",i=>{if(i.data?.source!==UI)return;switch(i.data.msg){case"devtools::connect":if(As!=="disconnected")break;As="connected",bc({msg:"doc::available",docKey:t.getKey()}),pe.info(`[YD] Devtools connected. Doc: ${t.getKey()}`);break;case"devtools::disconnect":As="disconnected",pe.info(`[YD] Devtools disconnected. Doc: ${t.getKey()}`);break;case"devtools::subscribe":As="synced",bc({msg:"doc::sync::full",docKey:t.getKey(),events:_c.get(t.getKey())}),pe.info(`[YD] Devtools subscribed. Doc: ${t.getKey()}`);break}})}var Ir=(t=>(t.Detached="detached",t.Attached="attached",t.Removed="removed",t))(Ir||{}),Dt=(t=>(t.StatusChanged="status-changed",t.ConnectionChanged="connection-changed",t.SyncStatusChanged="sync-status-changed",t.Snapshot="snapshot",t.LocalChange="local-change",t.RemoteChange="remote-change",t.Initialized="initialized",t.Watched="watched",t.Unwatched="unwatched",t.PresenceChanged="presence-changed",t.AuthError="auth-error",t))(Dt||{}),sl=(t=>(t.Connected="connected",t.Disconnected="disconnected",t))(sl||{}),Og=(t=>(t.Synced="synced",t.SyncFailed="sync-failed",t))(Og||{});class _r{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,i){this.key=e,this.status="detached",this.opts=i||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=VR,this.checkpoint=MR,this.localChanges=[],this.root=bl.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new OI,this.isUpdating=!1,this.eventStream=$E(a=>this.eventStreamObserver=a),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},kI(this)}update(e,i){if(this.getStatus()==="removed")throw new G(Z.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const a=this.changeID.getActorID(),o=rl.create(this.changeID,this.clone.root,this.clone.presences.get(a)||{},i);try{const d=oS(o,this.clone.root.getObject());this.presences.has(a)||this.clone.presences.set(a,{}),this.isUpdating=!0,e(d,new lS(o,this.clone.presences.get(a)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const u=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&u.length){const d=VI(this.clone?.root.getObject(),u);if(!d.valid)throw this.clone=void 0,new G(Z.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(m=>m.message).join(", ")}`)}const c=wR(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<c)throw this.clone=void 0,new G(Z.ErrDocumentSizeExceedsLimit,`document size exceeded: ${c} > ${this.maxSizeLimit}`);if(o.hasChange()){pe.isEnabled(tn.Trivial)&&pe.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:m,reverseOps:h}=d.execute(this.root,this.presences,lt.Local);for(const v of d.getOperations())v instanceof Hi&&this.internalHistory.reconcileCreatedAt(v.getCreatedAt(),v.getValue().getCreatedAt());const p=o.getReversePresence();p&&h.push({type:"presence",value:p}),this.localChanges.push(d),h.length&&this.internalHistory.pushUndo(h),m.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const y=[];m.length&&y.push({type:"local-change",source:lt.Local,value:{message:d.getMessage()||"",operations:m,actor:a,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&y.push({type:"presence-changed",source:lt.Local,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(y),pe.isEnabled(tn.Trivial)&&pe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,i,a,o){if(typeof e=="string"){if(typeof i!="function")throw new G(Z.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="initialized"&&h.type!=="watched"&&h.type!=="unwatched"&&h.type!=="presence-changed"||d(h)},a,o)}if(e==="my-presence"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="initialized"&&h.type!=="presence-changed"||h.type==="presence-changed"&&h.value.clientID!==this.changeID.getActorID()||d(h)},a,o)}if(e==="others"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="watched"&&h.type!=="unwatched"&&h.type!=="presence-changed"||h.value.clientID!==this.changeID.getActorID()&&d(h)},a,o)}if(e==="connection"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="connection-changed"&&d(h)},a,o)}if(e==="status"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="status-changed"&&d(h)},a,o)}if(e==="sync"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="sync-status-changed"&&d(h)},a,o)}if(e==="auth-error"){const d=i;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="auth-error"&&d(h)},a)}if(e==="all"){const d=i;return this.eventStream.subscribe(d,a,o)}const u=e,c=i;return this.eventStream.subscribe(d=>{for(const m of d){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const h=[];for(const p of m.value.operations)this.isSameElementOrChildOf(p.path,u)&&h.push(p);h.length&&c({...m,value:{...m.value,operations:h}})}},a,o)}if(typeof e=="function"){const u=e,c=i,d=a;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="snapshot"&&h.type!=="local-change"&&h.type!=="remote-change"||u(h)},c,d)}throw new G(Z.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),lt.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),pe.isEnabled(tn.Trivial)&&pe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Gn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),i=this.checkpoint.increaseClientSeq(e.length);return ff.create(this.key,i,!1,e,this.getVersionVector())}setActor(e){for(const i of this.localChanges)i.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=rl.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return oS(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,i,a,o=-1){const{root:u,presences:c}=ut.bytesToSnapshot(a);this.root=new bl(u),this.presences=c,this.changeID=this.changeID.setClocks(i.maxLamport(),i),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,lt.Local),this.publish([{type:"snapshot",source:lt.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?ut.bytesToHex(a):void 0,snapshotVector:ut.versionVectorToHex(i)}}])}applyChanges(e,i){pe.isEnabled(tn.Debug)&&pe.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),pe.isEnabled(tn.Trivial)&&pe.trivial(e.map(a=>`${a.getID().toTestString()}	${a.toTestString()}`).join(`
`));for(const a of e)this.applyChange(a,i);pe.isEnabled(tn.Debug)&&pe.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,i){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,i);const a=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const c=e.getPresenceChange();switch(c.type){case di.Put:a.push(this.presences.has(o)?{type:"presence-changed",source:i,value:{clientID:o,presence:c.presence}}:{type:"watched",source:lt.Remote,value:{clientID:o,presence:c.presence}});break;case di.Clear:a.push({type:"unwatched",source:lt.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:u}=e.execute(this.root,this.presences,i);if(this.changeID=this.changeID.syncClocks(e.getID()),u.length){const c=this.isEnableDevtools()?e.toStruct():void 0;a.push(i===lt.Remote?{type:"remote-change",source:i,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:c}:{type:"local-change",source:i,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:c})}a.length&&this.publish(a)}applyWatchStream(e){if(e.body.case==="initialization"){const i=e.body.value.clientIds,a=new Set;for(const o of i)o!==this.changeID.getActorID()&&a.add(o);this.setOnlineClients(a),this.publish([{type:"initialized",source:lt.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:i,publisher:a}=e.body.value,o=[];if(i===Zc.DOCUMENT_WATCHED){if(this.onlineClients.has(a)&&this.hasPresence(a))return;this.addOnlineClient(a),this.hasPresence(a)&&o.push({type:"watched",source:lt.Remote,value:{clientID:a,presence:this.getPresence(a)}})}else if(i===Zc.DOCUMENT_UNWATCHED){const u=this.getPresence(a);this.removeOnlineClient(a),u&&o.push({type:"unwatched",source:lt.Remote,value:{clientID:a,presence:u}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(bm),this.publish([{source:e==="removed"?lt.Remote:lt.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const i of e){if(i.type==="status-changed"){this.applyStatus(i.value.status),i.value.status==="attached"&&this.setActor(i.value.actorID);continue}if(i.type==="snapshot"){const{snapshot:a,serverSeq:o,snapshotVector:u}=i.value;if(!a)continue;this.applySnapshot(BigInt(o),ut.hexToVersionVector(u),ut.hexToBytes(a));continue}if(i.type==="local-change"||i.type==="remote-change"){if(!i.rawChange)continue;const a=Ys.fromStruct(i.rawChange);this.applyChange(a,i.source)}if(i.type==="initialized"){const a=new Set;for(const{clientID:o,presence:u}of i.value)a.add(o),this.presences.set(o,u);this.setOnlineClients(a)}else if(i.type==="watched"){const{clientID:a,presence:o}=i.value;this.addOnlineClient(a),this.presences.set(a,o)}else if(i.type==="unwatched"){const{clientID:a}=i.value;this.removeOnlineClient(a),this.presences.delete(a)}else if(i.type==="presence-changed"){const{clientID:a,presence:o}=i.value;this.presences.set(a,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new G(Z.ErrInvalidArgument,'path must start with "$"');const i=e.split(".");i.shift();let a=this.getRoot();for(const o of i)if(a=a[o],!a)return;return a}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Gn(e):{}}getOthersPresences(){const e=[],i=this.changeID.getActorID();for(const a of this.onlineClients)a!==i&&this.presences.has(a)&&e.push({clientID:a,presence:Gn(this.presences.get(a))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const i=this.presences.get(e);return i?Gn(i):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Gn(this.getMyPresence())});for(const i of this.onlineClients)this.presences.has(i)&&e.push({clientID:i,presence:Gn(this.presences.get(i))});return e}getPresenceForTest(e){const i=this.presences.get(e);return i?Gn(i):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(i=>i.clientID!==e).sort((i,a)=>i.clientID>a.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,i){if(i===e)return!0;const a=e.split(".");return i.split(".").every((o,u)=>o===a[u])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new G(Z.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const i=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!i)throw new G(Z.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const a=rl.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of i){if(!(p instanceof Qn)){new lS(a,Gn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const y=a.issueTimeTicket();if(p.setExecutedAt(y),p instanceof Hi){const v=p.getCreatedAt();p.getValue().setCreatedAt(y),this.internalHistory.reconcileCreatedAt(v,y)}else if(p instanceof Yr){const v=p.getValue().getCreatedAt();p.getValue().setCreatedAt(y),this.internalHistory.reconcileCreatedAt(v,y)}a.push(p)}const o=a.toChange();o.execute(this.clone.root,this.clone.presences,lt.UndoRedo);const{opInfos:u,reverseOps:c}=o.execute(this.root,this.presences,lt.UndoRedo),d=a.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length&&(e?this.internalHistory.pushRedo(c):this.internalHistory.pushUndo(c)),!o.hasPresenceChange()&&!u.length)return;this.localChanges.push(o),this.changeID=a.getNextID();const m=this.changeID.getActorID(),h=[];u.length&&h.push({type:"local-change",source:lt.UndoRedo,value:{message:o.getMessage()||"",operations:u,actor:m,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&h.push({type:"presence-changed",source:lt.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(h)}}class fS{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,i,a,o){this.reconnectStreamDelay=e,this.resource=i,this.resourceID=a,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Qo.RealtimeSyncOff?!1:this.syncMode===Qo.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Qo.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof _r?this.needRealtimeSync():this.syncMode===Qo.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const i=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(i,this.reconnectStreamDelay))})}catch{}};await i()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function WI(t,e){let i=e;return{authInterceptor:u=>async c=>(t&&c.header.set("x-api-key",t),i&&c.header.set("authorization",i),await u(c)),setToken:u=>{i=u}}}const XI="@yorkie-js/sdk",KI="0.6.40",dS={name:XI,version:KI};function HI(t){return e=>async i=>(t?i.header.set("x-yorkie-user-agent",t):i.header.set("x-yorkie-user-agent",dS.name+"/"+dS.version),await e(i))}const FI=t=>{try{if(JSON.stringify(t)===void 0)return!1}catch{return!1}return!0};var Po=(t=>(t.Detached="detached",t.Attached="attached",t.Removed="removed",t))(Po||{}),ws=(t=>(t.PresenceChanged="presence-changed",t.Initialized="initialized",t.Broadcast="broadcast",t.LocalBroadcast="local-broadcast",t.AuthError="auth-error",t))(ws||{});const Fo=".";class Dr{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=$E(i=>this.eventStreamObserver=i)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Fo)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,i){return i===0||i>this.seq?(this.count=e,this.seq=i,!0):!1}hasLocalChanges(){return!1}subscribe(e,i){if(typeof e=="function")return this.eventStream.subscribe(e);const a=e,o=i;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(a==="broadcast")return this.eventStream.subscribe(c=>{c.type==="broadcast"&&o(c)});if(a==="local-broadcast")return this.eventStream.subscribe(c=>{c.type==="local-broadcast"&&o(c)});if(a==="auth-error")return this.eventStream.subscribe(c=>{c.type==="auth-error"&&o(c)});if(a==="presence")return this.eventStream.subscribe(c=>{(c.type==="presence-changed"||c.type==="initialized")&&o(c)});if(a==="all")return this.eventStream.subscribe(o);const u=a;return this.eventStream.subscribe(c=>{c.type==="broadcast"&&c.topic===u&&o(c)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,i,a){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:i,options:a})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Fo))throw new Error("channel key must not start with a period");if(e.endsWith(Fo))throw new Error("channel key must not end with a period");if(e.includes(`${Fo}${Fo}`))throw new Error("channel key path must not empty")}}var Qo=(t=>(t.Manual="manual",t.Realtime="realtime",t.RealtimePushOnly="realtime-pushonly",t.RealtimeSyncOff="realtime-syncoff",t))(Qo||{});const vs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},ag={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class qE{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||vs;const i=e.rpcAddr||vs.rpcAddr;this.key=e.key||jE(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??vs.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??vs.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??vs.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??vs.channelHeartbeatInterval;const{authInterceptor:a,setToken:o}=WI(this.apiKey);this.setAuthToken=o,this.rpcClient=mC(bR,ZC({baseUrl:i,interceptors:[a,HI(e?.userAgent)],fetch:(u,c)=>fetch(u,{...c,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),pe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw pe.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const i=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),pe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(a){throw pe.error(`[DC] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(e.keepalive){this.keepalive=!0;const a=i();return this.keepalive=!1,a}return this.enqueueTask(i)}has(e){return this.attachmentMap.has(e)}attach(e,i){return e instanceof Dr?this.attachChannel(e,i):this.attachDocument(e,i)}attachDocument(e,i={}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Ir.Detached)throw new G(Z.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,u)=>u.set(i.initialPresence||{}));const a=i.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:ut.toChangePack(e.createChangePack()),schemaKey:i.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(ut.fromSchemaRules(o.schemaRules));const c=ut.fromChangePack(o.changePack);if(e.applyChangePack(c),e.getStatus()===Ir.Removed)return e;e.applyStatus(Ir.Attached),this.attachmentMap.set(e.getKey(),new fS(this.reconnectStreamDelay,e,o.documentId,a)),a!=="manual"&&await this.runWatchLoop(e.getKey()),pe.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(i.initialRoot){const m=i.initialRoot;e.update(h=>{for(const[p,y]of Object.entries(m))if(!d.has(p)){const v=p;h[v]=y}})}return e}catch(o){throw pe.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,i){return e instanceof Dr?this.detachChannel(e):this.detachDocument(e,i)}detachDocument(e,i={keepalive:!1}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);e.update((u,c)=>c.clear());const o=async()=>{try{const u=await this.rpcClient.detachDocument({clientId:this.id,documentId:a.resourceID,changePack:ut.toChangePack(e.createChangePack()),removeIfNotAttached:i.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=ut.fromChangePack(u.changePack);return e.applyChangePack(c),e.getStatus()!==Ir.Removed&&e.applyStatus(Ir.Detached),this.detachInternal(e.getKey()),pe.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(u){throw pe.error(`[DD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};if(i.keepalive){this.keepalive=!0;const u=o();return this.keepalive=!1,u}return this.enqueueTask(o)}async attachChannel(e,i={}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Po.Detached)throw new G(Z.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const a=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Po.Attached);const u=i.isRealtime!==!1?"realtime":"manual",c=new fS(this.reconnectStreamDelay,e,o.sessionId,u);return e.subscribe("local-broadcast",d=>{const{topic:m,payload:h,options:p}=d;this.broadcast(e.getKey(),m,h,p).catch(y=>{p?.error&&p.error(y),pe.error(`[BC] c:"${this.getKey()}" failed: ${y}`)})}),this.attachmentMap.set(e.getKey(),c),u==="realtime"&&await this.runWatchLoop(e.getKey()),pe.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${u} count:${e.getPresenceCount()}`),e}catch(o){throw pe.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(a)}async detachChannel(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const i=async()=>{try{const a=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(a.count),0),e.applyStatus(Po.Detached),this.detachInternal(e.getKey()),pe.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(a){throw pe.error(`[DP] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};return this.enqueueTask(i)}async changeSyncMode(e,i){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=a.syncMode;return o===i?e:(a.changeSyncMode(i),i==="manual"?(a.cancelWatchStream(),e):(i==="realtime"&&(a.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof Dr){const i=this.attachmentMap.get(e.getKey());if(!i)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(i).catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}if(e instanceof _r){const i=this.attachmentMap.get(e.getKey());if(!i)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(i,"realtime").catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}return this.enqueueTask(async()=>{const i=[];for(const[,a]of this.attachmentMap)a.syncMode!==void 0&&a.resource instanceof _r&&i.push(this.syncInternal(a,a.syncMode));return Promise.all(i).catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a})})}remove(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(e.getKey());if(!i)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const a=ut.toChangePack(e.createChangePack());return a.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:i.resourceID,changePack:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),u=ut.fromChangePack(o.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),pe.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw pe.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,i,a){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const u=async()=>{try{const c=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:i,description:a||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new G(Z.ErrInvalidArgument,"revision is not returned");return pe.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${i}"`),ut.toRevisionSummary(c.revision)}catch(c){throw pe.error(`[CR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(u)}async listRevisions(e,i){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const u=await this.rpcClient.listRevisions({projectId:"",documentId:a.resourceID,pageSize:i?.pageSize||10,offset:i?.offset||0,isForward:i?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return pe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${u.revisions.length}`),u.revisions.map(ut.toRevisionSummary)}catch(u){throw pe.error(`[LR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async restoreRevision(e,i){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.get(e.getKey()))throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,revisionId:i},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),pe.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${i}"`)}catch(u){throw pe.error(`[RR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async broadcast(e,i,a,o){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const u=this.attachmentMap.get(e);if(!u)throw new G(Z.ErrNotAttached,`${e} is not attached`);if(!FI(a))throw new G(Z.ErrInvalidArgument,"payload is not serializable");const c=u.resource,d=o?.maxRetries??ag.maxRetries,m=ag.maxBackoff;let h=0;const p=v=>Math.min(ag.initialRetryInterval*2**v,m),y=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:i,payload:new TextEncoder().encode(JSON.stringify(a))},{headers:{"x-shard-key":`${this.apiKey}/${c.getFirstKeyPath()}`}}),pe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${i}"`)}catch(v){if(pe.error(`[BC] c:"${this.getKey()}" err:`,v),await this.handleConnectError(v))if(ig(v,Z.ErrUnauthenticated)&&u.resource instanceof Dr&&u.resource.publish({type:ws.AuthError,reason:$o(v).reason||"unauthenticated",method:"Broadcast"}),h<d)h++,setTimeout(()=>y(),p(h-1)),pe.info(`[BC] c:"${this.getKey()}" retry attempt ${h}/${d}`);else throw pe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),v}});return y()}runSyncLoop(){const e=async()=>{if(!this.isActive()){pe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const i=[];for(const[,a]of this.attachmentMap)a.needSync(this.channelHeartbeatInterval)&&(a.changeEventReceived!==void 0&&(a.changeEventReceived=!1),i.push(this.syncInternal(a,a.syncMode).catch(o=>{throw ig(o,Z.ErrUnauthenticated)&&a.resource.publish([{type:Dt.AuthError,value:{reason:$o(o).reason,method:"PushPull"}}]),o})));await Promise.all(i),setTimeout(e,this.syncLoopDuration)})}catch(i){pe.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};pe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const i=this.attachmentMap.get(e);if(!i)throw new G(Z.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,i.runWatchLoop(a=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new G(Z.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new G(Z.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return i.resource instanceof _r?this.createDocumentWatchStream(i,e,o,a):i.resource instanceof Dr?this.createChannelWatchStream(i,e,o,a):Promise.reject(new G(Z.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,i,a,o){const u=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${i}`},signal:a.signal});return e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Connected}]),pe.info(`[WD] c:"${this.getKey()}" watches d:"${i}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((c,d)=>{(async()=>{try{for await(const h of u)this.handleWatchDocumentResponse(e,h),h.body.case==="initialization"&&c([u,a]);e.resource.resetOnlineClients(),e.resource.publish([{type:Dt.Initialized,source:lt.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Disconnected}]),pe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(h){e.resource.resetOnlineClients(),e.resource.publish([{type:Dt.Initialized,source:lt.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Disconnected}]),pe.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(h)?(ig(h,Z.ErrUnauthenticated)&&e.resource.publish([{type:Dt.AuthError,value:{reason:$o(h).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,d(h)}})()})}createChannelWatchStream(e,i,a,o){const u=this.rpcClient.watchChannel({clientId:this.id,channelKey:i},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:a.signal});return pe.info(`[WP] c:"${this.getKey()}" watches p:"${i}"`),new Promise((c,d)=>{(async()=>{try{let h=!0;for await(const p of u)this.handleWatchChannelResponse(e,p),h&&(h=!1,c([u,a]));pe.debug(`[WP] c:"${this.getKey()}" p:"${i}" stream ended`),o()}catch(h){if(h instanceof Error&&h.name==="AbortError"){pe.debug(`[WP] c:"${this.getKey()}" p:"${i}" stream aborted`);return}pe.debug(`[WP] c:"${this.getKey()}" p:"${i}" err:`,h),await this.handleConnectError(h)?o():this.conditions.WatchLoop=!1,d(h)}})()})}handleWatchChannelResponse(e,i){const a=e.resource;if(i.body.case==="initialized"){const{count:o,seq:u}=i.body.value;a.updateCount(Number(o),Number(u))&&a.publish({type:ws.Initialized,count:Number(o)})}else if(i.body.case==="event"){const o=i.body.value;if(o.type===AE.BROADCAST){const u=new TextDecoder;try{const c=JSON.parse(u.decode(o.payload));a.publish({type:ws.Broadcast,clientID:o.publisher,topic:o.topic,payload:c})}catch(c){pe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,c)}return}a.updateCount(Number(o.count),Number(o.seq))&&a.publish({type:ws.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,i){if(i.body.case==="event"&&i.body.value.type===Zc.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(i)}deactivateInternal(){this.status="deactivated";for(const[e,i]of this.attachmentMap)this.detachInternal(e),i.resource instanceof _r?i.resource.applyStatus(Ir.Detached):i.resource instanceof Dr&&i.resource.applyStatus(Po.Detached)}detachInternal(e){const i=this.attachmentMap.get(e);i&&(i.cancelWatchStream(),i.resource instanceof _r&&i.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,i){const{resource:a}=e;if(a instanceof Dr){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:a.getKey(),sessionId:a.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${a.getFirstKeyPath()}`}});a.updateCount(Number(d.count),0),e.updateHeartbeatTime(),pe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${a.getKey()}" mode:${e.syncMode}`)}catch(d){throw pe.error(`[RP] c:"${this.getKey()}" err :`,d),d}return a}const o=a,{resourceID:u}=e,c=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:u,changePack:ut.toChangePack(c),pushOnly:i==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),m=ut.fromChangePack(d.changePack);if(m.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(m),e.resource.publish([{type:Dt.SyncStatusChanged,value:Og.Synced}]),o.getStatus()===Ir.Removed&&this.detachInternal(o.getKey());const h=o.getKey(),p=m.getChangeSize();return pe.info(`[PP] c:"${this.getKey()}" sync d:"${h}", push:${c.getChangeSize()} pull:${p} cp:${m.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:Dt.SyncStatusChanged,value:Og.SyncFailed}]),pe.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof Pe))return!1;if(e.code===Be.Canceled||e.code===Be.Unknown||e.code===Be.ResourceExhausted||e.code===Be.Unavailable)return!0;if(Ss(e)===Z.ErrUnauthenticated){if(this.authTokenInjector){const i=await this.authTokenInjector($o(e).reason);this.setAuthToken(i)}return!0}return Ss(e)===Z.ErrTooManySubscribers?(pe.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(Ss(e)===Z.ErrTooManyAttachments||(Ss(e)===Z.ErrClientNotActivated||Ss(e)===Z.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((i,a)=>{this.taskQueue.push(()=>e().then(i).catch(a)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{pe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}gi.Int,gi.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:qE,Document:_r,Primitive:dt,Text:_m,Counter:Om,Tree:Bm,Channel:Dr,ChannelEventType:ws,LogLevel:tn,setLogLevel:NI,IntType:gi.Int,LongType:gi.Long});const JI="@yorkie-js/react",jI="0.6.40",hS={name:JI,version:jI};var P=Dl();const $I=SA(P),e1=P.createContext({client:void 0,loading:!0,error:void 0});function PI(t){const[e,i]=P.useState(void 0),[a,o]=P.useState(!0),[u,c]=P.useState(void 0),[d,m]=P.useState(!1);return P.useEffect(()=>{m(!0)},[]),P.useEffect(()=>{o(!0),c(void 0);async function h(){if(d)try{const p=new qE(t);await p.activate(),i(p)}catch(p){c(p instanceof Error?p:new Error("Failed to activate client"))}finally{o(!1)}}return h(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[t.apiKey,t.rpcAddr,d]),{client:e,loading:a,error:u}}const QI=({children:t,...e})=>{const i=P.useMemo(()=>({userAgent:hS.name+"/"+hS.version,...e}),[e.apiKey,e.rpcAddr]),{client:a,loading:o,error:u}=PI(i);return $.jsx(e1.Provider,{value:{client:a,loading:o,error:u},children:t})},qI=()=>{const t=P.useContext(e1);if(!t)throw new Error("useYorkie must be used under YorkieProvider");return{client:t.client,loading:t.loading,error:t.error}};function e3(t){const e=new Set;let i=t;const a=()=>{e.forEach(m=>m(i))};return{subscribe:m=>(e.add(m),()=>e.delete(m)),getSnapshot:()=>i,setState:m=>{const h=i;i=typeof m=="function"?m(h):m,h!==i&&a()},destroy:()=>{e.clear()}}}const t3=t=>e3(t);function n3(t,e,i=Object.is){const a=P.useRef(e),o=P.useRef(i),u=P.useRef(void 0);a.current=e,o.current=i;const c=()=>{const d=t.getSnapshot(),m=a.current?a.current(d):d;return u.current!==void 0&&o.current(u.current,m)?u.current:(u.current=m,m)};return P.useSyncExternalStore(t.subscribe,c,c)}function i3(t,e,i,a,o,u,c,d){const m=P.useRef(o),h=P.useRef(u),[p,y]=P.useState(!1);P.useEffect(()=>{y(!0)},[]),P.useEffect(()=>{if(i){d.setState(A=>({...A,loading:!1,error:i}));return}if(!t||e||!p){d.setState(A=>({...A,loading:!0}));return}d.setState(A=>({...A,loading:!0,error:void 0}));const v=new _r(a,{enableDevtools:c}),S=[];S.push(v.subscribe(()=>{d.setState(A=>({...A,root:v.getRoot()}))})),S.push(v.subscribe("presence",()=>{d.setState(A=>({...A,presences:v.getPresences()}))})),S.push(v.subscribe("connection",A=>{d.setState(I=>({...I,connection:A.value}))}));async function E(){try{await t?.attach(v,{initialRoot:m.current,initialPresence:h.current});const A=I=>{try{v.update(I)}catch(x){d.setState(U=>({...U,error:x instanceof Error?x:new Error("Failed to update document")}))}};d.setState(I=>({...I,doc:v,root:v.getRoot(),presences:v.getPresences(),update:A}))}catch(A){d.setState(I=>({...I,error:A instanceof Error?A:new Error("Failed to attach document")}))}finally{d.setState(A=>({...A,loading:!1}))}}return E(),()=>{t&&t.has(a)&&t.detach(v);for(const A of S)A()}},[t,e,i,a,d,p])}const t1=P.createContext(void 0),r3=({docKey:t,initialRoot:e={},initialPresence:i={},enableDevtools:a=!1,children:o})=>{const{client:u,loading:c,error:d}=qI(),m=P.useRef(void 0);m.current||(m.current=t3({doc:void 0,root:e,presences:[],connection:sl.Disconnected,update:()=>{},loading:!0,error:void 0}));const h=m.current;return i3(u,c,d,t,e,i,a,h),$.jsx(t1.Provider,{value:h,children:o})};function a3(){const t=P.useContext(t1);if(!t)throw new Error("useDocument must be used within a DocumentProvider");return n3(t)}P.createContext(void 0);function xt(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let i=0,a;i<t.length;i++)(a=xt(t[i]))!==""&&(e+=(e&&" ")+a);else for(let i in t)t[i]&&(e+=(e&&" ")+i);return e}var s3={value:()=>{}};function gf(){for(var t=0,e=arguments.length,i={},a;t<e;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Oc(i)}function Oc(t){this._=t}function o3(t,e){return t.trim().split(/^|\s+/).map(function(i){var a="",o=i.indexOf(".");if(o>=0&&(a=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Oc.prototype=gf.prototype={constructor:Oc,on:function(t,e){var i=this._,a=o3(t+"",i),o,u=-1,c=a.length;if(arguments.length<2){for(;++u<c;)if((o=(t=a[u]).type)&&(o=l3(i[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<c;)if(o=(t=a[u]).type)i[o]=gS(i[o],t.name,e);else if(e==null)for(o in i)i[o]=gS(i[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Oc(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var i=new Array(o),a=0,o,u;a<o;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],a=0,o=u.length;a<o;++a)u[a].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,u=a.length;o<u;++o)a[o].value.apply(e,i)}};function l3(t,e){for(var i=0,a=t.length,o;i<a;++i)if((o=t[i]).name===e)return o.value}function gS(t,e,i){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=s3,t=t.slice(0,a).concat(t.slice(a+1));break}return i!=null&&t.push({name:e,value:i}),t}var Vg="http://www.w3.org/1999/xhtml";const mS={svg:"http://www.w3.org/2000/svg",xhtml:Vg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mf(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),mS.hasOwnProperty(e)?{space:mS[e],local:t}:t}function u3(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===Vg&&e.documentElement.namespaceURI===Vg?e.createElement(t):e.createElementNS(i,t)}}function c3(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function n1(t){var e=mf(t);return(e.local?c3:u3)(e)}function f3(){}function Lm(t){return t==null?f3:function(){return this.querySelector(t)}}function d3(t){typeof t!="function"&&(t=Lm(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],c=u.length,d=a[o]=new Array(c),m,h,p=0;p<c;++p)(m=u[p])&&(h=t.call(m,m.__data__,p,u))&&("__data__"in m&&(h.__data__=m.__data__),d[p]=h);return new vn(a,this._parents)}function h3(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function g3(){return[]}function i1(t){return t==null?g3:function(){return this.querySelectorAll(t)}}function m3(t){return function(){return h3(t.apply(this,arguments))}}function p3(t){typeof t=="function"?t=m3(t):t=i1(t);for(var e=this._groups,i=e.length,a=[],o=[],u=0;u<i;++u)for(var c=e[u],d=c.length,m,h=0;h<d;++h)(m=c[h])&&(a.push(t.call(m,m.__data__,h,c)),o.push(m));return new vn(a,o)}function r1(t){return function(){return this.matches(t)}}function a1(t){return function(e){return e.matches(t)}}var y3=Array.prototype.find;function v3(t){return function(){return y3.call(this.children,t)}}function b3(){return this.firstElementChild}function S3(t){return this.select(t==null?b3:v3(typeof t=="function"?t:a1(t)))}var A3=Array.prototype.filter;function E3(){return Array.from(this.children)}function w3(t){return function(){return A3.call(this.children,t)}}function N3(t){return this.selectAll(t==null?E3:w3(typeof t=="function"?t:a1(t)))}function x3(t){typeof t!="function"&&(t=r1(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],c=u.length,d=a[o]=[],m,h=0;h<c;++h)(m=u[h])&&t.call(m,m.__data__,h,u)&&d.push(m);return new vn(a,this._parents)}function s1(t){return new Array(t.length)}function T3(){return new vn(this._enter||this._groups.map(s1),this._parents)}function Kc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kc.prototype={constructor:Kc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function C3(t){return function(){return t}}function R3(t,e,i,a,o,u){for(var c=0,d,m=e.length,h=u.length;c<h;++c)(d=e[c])?(d.__data__=u[c],a[c]=d):i[c]=new Kc(t,u[c]);for(;c<m;++c)(d=e[c])&&(o[c]=d)}function I3(t,e,i,a,o,u,c){var d,m,h=new Map,p=e.length,y=u.length,v=new Array(p),S;for(d=0;d<p;++d)(m=e[d])&&(v[d]=S=c.call(m,m.__data__,d,e)+"",h.has(S)?o[d]=m:h.set(S,m));for(d=0;d<y;++d)S=c.call(t,u[d],d,u)+"",(m=h.get(S))?(a[d]=m,m.__data__=u[d],h.delete(S)):i[d]=new Kc(t,u[d]);for(d=0;d<p;++d)(m=e[d])&&h.get(v[d])===m&&(o[d]=m)}function D3(t){return t.__data__}function _3(t,e){if(!arguments.length)return Array.from(this,D3);var i=e?I3:R3,a=this._parents,o=this._groups;typeof t!="function"&&(t=C3(t));for(var u=o.length,c=new Array(u),d=new Array(u),m=new Array(u),h=0;h<u;++h){var p=a[h],y=o[h],v=y.length,S=O3(t.call(p,p&&p.__data__,h,a)),E=S.length,A=d[h]=new Array(E),I=c[h]=new Array(E),x=m[h]=new Array(v);i(p,y,A,I,x,S,e);for(var U=0,N=0,R,V;U<E;++U)if(R=A[U]){for(U>=N&&(N=U+1);!(V=I[N])&&++N<E;);R._next=V||null}}return c=new vn(c,a),c._enter=d,c._exit=m,c}function O3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V3(){return new vn(this._exit||this._groups.map(s1),this._parents)}function M3(t,e,i){var a=this.enter(),o=this,u=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?u.remove():i(u),a&&o?a.merge(o).order():o}function B3(t){for(var e=t.selection?t.selection():t,i=this._groups,a=e._groups,o=i.length,u=a.length,c=Math.min(o,u),d=new Array(o),m=0;m<c;++m)for(var h=i[m],p=a[m],y=h.length,v=d[m]=new Array(y),S,E=0;E<y;++E)(S=h[E]||p[E])&&(v[E]=S);for(;m<o;++m)d[m]=i[m];return new vn(d,this._parents)}function L3(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var a=t[e],o=a.length-1,u=a[o],c;--o>=0;)(c=a[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function z3(t){t||(t=U3);function e(y,v){return y&&v?t(y.__data__,v.__data__):!y-!v}for(var i=this._groups,a=i.length,o=new Array(a),u=0;u<a;++u){for(var c=i[u],d=c.length,m=o[u]=new Array(d),h,p=0;p<d;++p)(h=c[p])&&(m[p]=h);m.sort(e)}return new vn(o,this._parents).order()}function U3(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Y3(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Z3(){return Array.from(this)}function G3(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],o=0,u=a.length;o<u;++o){var c=a[o];if(c)return c}return null}function k3(){let t=0;for(const e of this)++t;return t}function W3(){return!this.node()}function X3(t){for(var e=this._groups,i=0,a=e.length;i<a;++i)for(var o=e[i],u=0,c=o.length,d;u<c;++u)(d=o[u])&&t.call(d,d.__data__,u,o);return this}function K3(t){return function(){this.removeAttribute(t)}}function H3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F3(t,e){return function(){this.setAttribute(t,e)}}function J3(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function j3(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function $3(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function P3(t,e){var i=mf(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((e==null?i.local?H3:K3:typeof e=="function"?i.local?$3:j3:i.local?J3:F3)(i,e))}function o1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Q3(t){return function(){this.style.removeProperty(t)}}function q3(t,e,i){return function(){this.style.setProperty(t,e,i)}}function eD(t,e,i){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function tD(t,e,i){return arguments.length>1?this.each((e==null?Q3:typeof e=="function"?eD:q3)(t,e,i??"")):ks(this.node(),t)}function ks(t,e){return t.style.getPropertyValue(e)||o1(t).getComputedStyle(t,null).getPropertyValue(e)}function nD(t){return function(){delete this[t]}}function iD(t,e){return function(){this[t]=e}}function rD(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function aD(t,e){return arguments.length>1?this.each((e==null?nD:typeof e=="function"?rD:iD)(t,e)):this.node()[t]}function l1(t){return t.trim().split(/^|\s+/)}function zm(t){return t.classList||new u1(t)}function u1(t){this._node=t,this._names=l1(t.getAttribute("class")||"")}u1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function c1(t,e){for(var i=zm(t),a=-1,o=e.length;++a<o;)i.add(e[a])}function f1(t,e){for(var i=zm(t),a=-1,o=e.length;++a<o;)i.remove(e[a])}function sD(t){return function(){c1(this,t)}}function oD(t){return function(){f1(this,t)}}function lD(t,e){return function(){(e.apply(this,arguments)?c1:f1)(this,t)}}function uD(t,e){var i=l1(t+"");if(arguments.length<2){for(var a=zm(this.node()),o=-1,u=i.length;++o<u;)if(!a.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?lD:e?sD:oD)(i,e))}function cD(){this.textContent=""}function fD(t){return function(){this.textContent=t}}function dD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hD(t){return arguments.length?this.each(t==null?cD:(typeof t=="function"?dD:fD)(t)):this.node().textContent}function gD(){this.innerHTML=""}function mD(t){return function(){this.innerHTML=t}}function pD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function yD(t){return arguments.length?this.each(t==null?gD:(typeof t=="function"?pD:mD)(t)):this.node().innerHTML}function vD(){this.nextSibling&&this.parentNode.appendChild(this)}function bD(){return this.each(vD)}function SD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AD(){return this.each(SD)}function ED(t){var e=typeof t=="function"?t:n1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wD(){return null}function ND(t,e){var i=typeof t=="function"?t:n1(t),a=e==null?wD:typeof e=="function"?e:Lm(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function xD(){var t=this.parentNode;t&&t.removeChild(this)}function TD(){return this.each(xD)}function CD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ID(t){return this.select(t?RD:CD)}function DD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _D(t){return function(e){t.call(this,e,this.__data__)}}function OD(t){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{type:e,name:i}})}function VD(t){return function(){var e=this.__on;if(e){for(var i=0,a=-1,o=e.length,u;i<o;++i)u=e[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++a]=u;++a?e.length=a:delete this.__on}}}function MD(t,e,i){return function(){var a=this.__on,o,u=_D(e);if(a){for(var c=0,d=a.length;c<d;++c)if((o=a[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=i),o.value=e;return}}this.addEventListener(t.type,u,i),o={type:t.type,name:t.name,value:e,listener:u,options:i},a?a.push(o):this.__on=[o]}}function BD(t,e,i){var a=OD(t+""),o,u=a.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,h=d.length,p;m<h;++m)for(o=0,p=d[m];o<u;++o)if((c=a[o]).type===p.type&&c.name===p.name)return p.value}return}for(d=e?MD:VD,o=0;o<u;++o)this.each(d(a[o],e,i));return this}function d1(t,e,i){var a=o1(t),o=a.CustomEvent;typeof o=="function"?o=new o(e,i):(o=a.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function LD(t,e){return function(){return d1(this,t,e)}}function zD(t,e){return function(){return d1(this,t,e.apply(this,arguments))}}function UD(t,e){return this.each((typeof e=="function"?zD:LD)(t,e))}function*YD(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],o=0,u=a.length,c;o<u;++o)(c=a[o])&&(yield c)}var h1=[null];function vn(t,e){this._groups=t,this._parents=e}function zl(){return new vn([[document.documentElement]],h1)}function ZD(){return this}vn.prototype=zl.prototype={constructor:vn,select:d3,selectAll:p3,selectChild:S3,selectChildren:N3,filter:x3,data:_3,enter:T3,exit:V3,join:M3,merge:B3,selection:ZD,order:L3,sort:z3,call:Y3,nodes:Z3,node:G3,size:k3,empty:W3,each:X3,attr:P3,style:tD,property:aD,classed:uD,text:hD,html:yD,raise:bD,lower:AD,append:ED,insert:ND,remove:TD,clone:ID,datum:DD,on:BD,dispatch:UD,[Symbol.iterator]:YD};function gn(t){return typeof t=="string"?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],h1)}function GD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Wn(t,e){if(t=GD(t),e===void 0&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const kD={passive:!1},Sl={capture:!0,passive:!1};function sg(t){t.stopImmediatePropagation()}function Rs(t){t.preventDefault(),t.stopImmediatePropagation()}function g1(t){var e=t.document.documentElement,i=gn(t).on("dragstart.drag",Rs,Sl);"onselectstart"in e?i.on("selectstart.drag",Rs,Sl):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function m1(t,e){var i=t.document.documentElement,a=gn(t).on("dragstart.drag",null);e&&(a.on("click.drag",Rs,Sl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in i?a.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Sc=t=>()=>t;function Mg(t,{sourceEvent:e,subject:i,target:a,identifier:o,active:u,x:c,y:d,dx:m,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}Mg.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function WD(t){return!t.ctrlKey&&!t.button}function XD(){return this.parentNode}function KD(t,e){return e??{x:t.x,y:t.y}}function HD(){return navigator.maxTouchPoints||"ontouchstart"in this}function p1(){var t=WD,e=XD,i=KD,a=HD,o={},u=gf("start","drag","end"),c=0,d,m,h,p,y=0;function v(R){R.on("mousedown.drag",S).filter(a).on("touchstart.drag",I).on("touchmove.drag",x,kD).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(R,V){if(!(p||!t.call(this,R,V))){var B=N(this,e.call(this,R,V),R,V,"mouse");B&&(gn(R.view).on("mousemove.drag",E,Sl).on("mouseup.drag",A,Sl),g1(R.view),sg(R),h=!1,d=R.clientX,m=R.clientY,B("start",R))}}function E(R){if(Rs(R),!h){var V=R.clientX-d,B=R.clientY-m;h=V*V+B*B>y}o.mouse("drag",R)}function A(R){gn(R.view).on("mousemove.drag mouseup.drag",null),m1(R.view,h),Rs(R),o.mouse("end",R)}function I(R,V){if(t.call(this,R,V)){var B=R.changedTouches,M=e.call(this,R,V),X=B.length,q,de;for(q=0;q<X;++q)(de=N(this,M,R,V,B[q].identifier,B[q]))&&(sg(R),de("start",R,B[q]))}}function x(R){var V=R.changedTouches,B=V.length,M,X;for(M=0;M<B;++M)(X=o[V[M].identifier])&&(Rs(R),X("drag",R,V[M]))}function U(R){var V=R.changedTouches,B=V.length,M,X;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<B;++M)(X=o[V[M].identifier])&&(sg(R),X("end",R,V[M]))}function N(R,V,B,M,X,q){var de=u.copy(),ne=Wn(q||B,V),te,le,_;if((_=i.call(R,new Mg("beforestart",{sourceEvent:B,target:v,identifier:X,active:c,x:ne[0],y:ne[1],dx:0,dy:0,dispatch:de}),M))!=null)return te=_.x-ne[0]||0,le=_.y-ne[1]||0,function K(T,O,Y){var H=ne,re;switch(T){case"start":o[X]=K,re=c++;break;case"end":delete o[X],--c;case"drag":ne=Wn(Y||O,V),re=c;break}de.call(T,R,new Mg(T,{sourceEvent:O,subject:_,target:v,identifier:X,active:re,x:ne[0]+te,y:ne[1]+le,dx:ne[0]-H[0],dy:ne[1]-H[1],dispatch:de}),M)}}return v.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Sc(!!R),v):t},v.container=function(R){return arguments.length?(e=typeof R=="function"?R:Sc(R),v):e},v.subject=function(R){return arguments.length?(i=typeof R=="function"?R:Sc(R),v):i},v.touchable=function(R){return arguments.length?(a=typeof R=="function"?R:Sc(!!R),v):a},v.on=function(){var R=u.on.apply(u,arguments);return R===u?v:R},v.clickDistance=function(R){return arguments.length?(y=(R=+R)*R,v):Math.sqrt(y)},v}function Um(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function y1(t,e){var i=Object.create(t.prototype);for(var a in e)i[a]=e[a];return i}function Ul(){}var Al=.7,Hc=1/Al,Is="\\s*([+-]?\\d+)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FD=/^#([0-9a-f]{3,8})$/,JD=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),jD=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),$D=new RegExp(`^rgba\\(${Is},${Is},${Is},${El}\\)$`),PD=new RegExp(`^rgba\\(${fi},${fi},${fi},${El}\\)$`),QD=new RegExp(`^hsl\\(${El},${fi},${fi}\\)$`),qD=new RegExp(`^hsla\\(${El},${fi},${fi},${El}\\)$`),pS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Um(Ul,Sa,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yS,formatHex:yS,formatHex8:e_,formatHsl:t_,formatRgb:vS,toString:vS});function yS(){return this.rgb().formatHex()}function e_(){return this.rgb().formatHex8()}function t_(){return v1(this).formatHsl()}function vS(){return this.rgb().formatRgb()}function Sa(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=FD.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?bS(e):i===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Ac(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Ac(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JD.exec(t))?new rn(e[1],e[2],e[3],1):(e=jD.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$D.exec(t))?Ac(e[1],e[2],e[3],e[4]):(e=PD.exec(t))?Ac(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=QD.exec(t))?ES(e[1],e[2]/100,e[3]/100,1):(e=qD.exec(t))?ES(e[1],e[2]/100,e[3]/100,e[4]):pS.hasOwnProperty(t)?bS(pS[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function bS(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function Ac(t,e,i,a){return a<=0&&(t=e=i=NaN),new rn(t,e,i,a)}function n_(t){return t instanceof Ul||(t=Sa(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function Bg(t,e,i,a){return arguments.length===1?n_(t):new rn(t,e,i,a??1)}function rn(t,e,i,a){this.r=+t,this.g=+e,this.b=+i,this.opacity=+a}Um(rn,Bg,y1(Ul,{brighter(t){return t=t==null?Hc:Math.pow(Hc,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(pa(this.r),pa(this.g),pa(this.b),Fc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SS,formatHex:SS,formatHex8:i_,formatRgb:AS,toString:AS}));function SS(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}`}function i_(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}${ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function AS(){const t=Fc(this.opacity);return`${t===1?"rgb(":"rgba("}${pa(this.r)}, ${pa(this.g)}, ${pa(this.b)}${t===1?")":`, ${t})`}`}function Fc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ma(t){return t=pa(t),(t<16?"0":"")+t.toString(16)}function ES(t,e,i,a){return a<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Kn(t,e,i,a)}function v1(t){if(t instanceof Kn)return new Kn(t.h,t.s,t.l,t.opacity);if(t instanceof Ul||(t=Sa(t)),!t)return new Kn;if(t instanceof Kn)return t;t=t.rgb();var e=t.r/255,i=t.g/255,a=t.b/255,o=Math.min(e,i,a),u=Math.max(e,i,a),c=NaN,d=u-o,m=(u+o)/2;return d?(e===u?c=(i-a)/d+(i<a)*6:i===u?c=(a-e)/d+2:c=(e-i)/d+4,d/=m<.5?u+o:2-u-o,c*=60):d=m>0&&m<1?0:c,new Kn(c,d,m,t.opacity)}function r_(t,e,i,a){return arguments.length===1?v1(t):new Kn(t,e,i,a??1)}function Kn(t,e,i,a){this.h=+t,this.s=+e,this.l=+i,this.opacity=+a}Um(Kn,r_,y1(Ul,{brighter(t){return t=t==null?Hc:Math.pow(Hc,t),new Kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new Kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*e,o=2*i-a;return new rn(og(t>=240?t-240:t+120,o,a),og(t,o,a),og(t<120?t+240:t-120,o,a),this.opacity)},clamp(){return new Kn(wS(this.h),Ec(this.s),Ec(this.l),Fc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fc(this.opacity);return`${t===1?"hsl(":"hsla("}${wS(this.h)}, ${Ec(this.s)*100}%, ${Ec(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wS(t){return t=(t||0)%360,t<0?t+360:t}function Ec(t){return Math.max(0,Math.min(1,t||0))}function og(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const Ym=t=>()=>t;function a_(t,e){return function(i){return t+i*e}}function s_(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(a){return Math.pow(t+a*e,i)}}function o_(t){return(t=+t)==1?b1:function(e,i){return i-e?s_(e,i,t):Ym(isNaN(e)?i:e)}}function b1(t,e){var i=e-t;return i?a_(t,i):Ym(isNaN(t)?e:t)}const Jc=(function t(e){var i=o_(e);function a(o,u){var c=i((o=Bg(o)).r,(u=Bg(u)).r),d=i(o.g,u.g),m=i(o.b,u.b),h=b1(o.opacity,u.opacity);return function(p){return o.r=c(p),o.g=d(p),o.b=m(p),o.opacity=h(p),o+""}}return a.gamma=t,a})(1);function l_(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,a=e.slice(),o;return function(u){for(o=0;o<i;++o)a[o]=t[o]*(1-u)+e[o]*u;return a}}function u_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c_(t,e){var i=e?e.length:0,a=t?Math.min(i,t.length):0,o=new Array(a),u=new Array(i),c;for(c=0;c<a;++c)o[c]=ol(t[c],e[c]);for(;c<i;++c)u[c]=e[c];return function(d){for(c=0;c<a;++c)u[c]=o[c](d);return u}}function f_(t,e){var i=new Date;return t=+t,e=+e,function(a){return i.setTime(t*(1-a)+e*a),i}}function si(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function d_(t,e){var i={},a={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?i[o]=ol(t[o],e[o]):a[o]=e[o];return function(u){for(o in i)a[o]=i[o](u);return a}}var Lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lg=new RegExp(Lg.source,"g");function h_(t){return function(){return t}}function g_(t){return function(e){return t(e)+""}}function S1(t,e){var i=Lg.lastIndex=lg.lastIndex=0,a,o,u,c=-1,d=[],m=[];for(t=t+"",e=e+"";(a=Lg.exec(t))&&(o=lg.exec(e));)(u=o.index)>i&&(u=e.slice(i,u),d[c]?d[c]+=u:d[++c]=u),(a=a[0])===(o=o[0])?d[c]?d[c]+=o:d[++c]=o:(d[++c]=null,m.push({i:c,x:si(a,o)})),i=lg.lastIndex;return i<e.length&&(u=e.slice(i),d[c]?d[c]+=u:d[++c]=u),d.length<2?m[0]?g_(m[0].x):h_(e):(e=m.length,function(h){for(var p=0,y;p<e;++p)d[(y=m[p]).i]=y.x(h);return d.join("")})}function ol(t,e){var i=typeof e,a;return e==null||i==="boolean"?Ym(e):(i==="number"?si:i==="string"?(a=Sa(e))?(e=a,Jc):S1:e instanceof Sa?Jc:e instanceof Date?f_:u_(e)?l_:Array.isArray(e)?c_:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?d_:si)(t,e)}var NS=180/Math.PI,zg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function A1(t,e,i,a,o,u){var c,d,m;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(m=t*i+e*a)&&(i-=t*m,a-=e*m),(d=Math.sqrt(i*i+a*a))&&(i/=d,a/=d,m/=d),t*a<e*i&&(t=-t,e=-e,m=-m,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*NS,skewX:Math.atan(m)*NS,scaleX:c,scaleY:d}}var wc;function m_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zg:A1(e.a,e.b,e.c,e.d,e.e,e.f)}function p_(t){return t==null||(wc||(wc=document.createElementNS("http://www.w3.org/2000/svg","g")),wc.setAttribute("transform",t),!(t=wc.transform.baseVal.consolidate()))?zg:(t=t.matrix,A1(t.a,t.b,t.c,t.d,t.e,t.f))}function E1(t,e,i,a){function o(h){return h.length?h.pop()+" ":""}function u(h,p,y,v,S,E){if(h!==y||p!==v){var A=S.push("translate(",null,e,null,i);E.push({i:A-4,x:si(h,y)},{i:A-2,x:si(p,v)})}else(y||v)&&S.push("translate("+y+e+v+i)}function c(h,p,y,v){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),v.push({i:y.push(o(y)+"rotate(",null,a)-2,x:si(h,p)})):p&&y.push(o(y)+"rotate("+p+a)}function d(h,p,y,v){h!==p?v.push({i:y.push(o(y)+"skewX(",null,a)-2,x:si(h,p)}):p&&y.push(o(y)+"skewX("+p+a)}function m(h,p,y,v,S,E){if(h!==y||p!==v){var A=S.push(o(S)+"scale(",null,",",null,")");E.push({i:A-4,x:si(h,y)},{i:A-2,x:si(p,v)})}else(y!==1||v!==1)&&S.push(o(S)+"scale("+y+","+v+")")}return function(h,p){var y=[],v=[];return h=t(h),p=t(p),u(h.translateX,h.translateY,p.translateX,p.translateY,y,v),c(h.rotate,p.rotate,y,v),d(h.skewX,p.skewX,y,v),m(h.scaleX,h.scaleY,p.scaleX,p.scaleY,y,v),h=p=null,function(S){for(var E=-1,A=v.length,I;++E<A;)y[(I=v[E]).i]=I.x(S);return y.join("")}}}var y_=E1(m_,"px, ","px)","deg)"),v_=E1(p_,", ",")",")"),b_=1e-12;function xS(t){return((t=Math.exp(t))+1/t)/2}function S_(t){return((t=Math.exp(t))-1/t)/2}function A_(t){return((t=Math.exp(2*t))-1)/(t+1)}const Vc=(function t(e,i,a){function o(u,c){var d=u[0],m=u[1],h=u[2],p=c[0],y=c[1],v=c[2],S=p-d,E=y-m,A=S*S+E*E,I,x;if(A<b_)x=Math.log(v/h)/e,I=function(M){return[d+M*S,m+M*E,h*Math.exp(e*M*x)]};else{var U=Math.sqrt(A),N=(v*v-h*h+a*A)/(2*h*i*U),R=(v*v-h*h-a*A)/(2*v*i*U),V=Math.log(Math.sqrt(N*N+1)-N),B=Math.log(Math.sqrt(R*R+1)-R);x=(B-V)/e,I=function(M){var X=M*x,q=xS(V),de=h/(i*U)*(q*A_(e*X+V)-S_(V));return[d+de*S,m+de*E,h*q/xS(e*X+V)]}}return I.duration=x*1e3*e/Math.SQRT2,I}return o.rho=function(u){var c=Math.max(.001,+u),d=c*c,m=d*d;return t(c,d,m)},o})(Math.SQRT2,2,4);var Ws=0,qo=0,Jo=0,w1=1e3,jc,el,$c=0,Aa=0,pf=0,wl=typeof performance=="object"&&performance.now?performance:Date,N1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zm(){return Aa||(N1(E_),Aa=wl.now()+pf)}function E_(){Aa=0}function Pc(){this._call=this._time=this._next=null}Pc.prototype=x1.prototype={constructor:Pc,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Zm():+i)+(e==null?0:+e),!this._next&&el!==this&&(el?el._next=this:jc=this,el=this),this._call=t,this._time=i,Ug()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ug())}};function x1(t,e,i){var a=new Pc;return a.restart(t,e,i),a}function w_(){Zm(),++Ws;for(var t=jc,e;t;)(e=Aa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ws}function TS(){Aa=($c=wl.now())+pf,Ws=qo=0;try{w_()}finally{Ws=0,x_(),Aa=0}}function N_(){var t=wl.now(),e=t-$c;e>w1&&(pf-=e,$c=t)}function x_(){for(var t,e=jc,i,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:jc=i);el=t,Ug(a)}function Ug(t){if(!Ws){qo&&(qo=clearTimeout(qo));var e=t-Aa;e>24?(t<1/0&&(qo=setTimeout(TS,t-wl.now()-pf)),Jo&&(Jo=clearInterval(Jo))):(Jo||($c=wl.now(),Jo=setInterval(N_,w1)),Ws=1,N1(TS))}}function CS(t,e,i){var a=new Pc;return e=e==null?0:+e,a.restart(o=>{a.stop(),t(o+e)},e,i),a}var T_=gf("start","end","cancel","interrupt"),C_=[],T1=0,RS=1,Yg=2,Mc=3,IS=4,Zg=5,Bc=6;function yf(t,e,i,a,o,u){var c=t.__transition;if(!c)t.__transition={};else if(i in c)return;R_(t,i,{name:e,index:a,group:o,on:T_,tween:C_,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:T1})}function Gm(t,e){var i=qn(t,e);if(i.state>T1)throw new Error("too late; already scheduled");return i}function pi(t,e){var i=qn(t,e);if(i.state>Mc)throw new Error("too late; already running");return i}function qn(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function R_(t,e,i){var a=t.__transition,o;a[e]=i,i.timer=x1(u,0,i.time);function u(h){i.state=RS,i.timer.restart(c,i.delay,i.time),i.delay<=h&&c(h-i.delay)}function c(h){var p,y,v,S;if(i.state!==RS)return m();for(p in a)if(S=a[p],S.name===i.name){if(S.state===Mc)return CS(c);S.state===IS?(S.state=Bc,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete a[p]):+p<e&&(S.state=Bc,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete a[p])}if(CS(function(){i.state===Mc&&(i.state=IS,i.timer.restart(d,i.delay,i.time),d(h))}),i.state=Yg,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Yg){for(i.state=Mc,o=new Array(v=i.tween.length),p=0,y=-1;p<v;++p)(S=i.tween[p].value.call(t,t.__data__,i.index,i.group))&&(o[++y]=S);o.length=y+1}}function d(h){for(var p=h<i.duration?i.ease.call(null,h/i.duration):(i.timer.restart(m),i.state=Zg,1),y=-1,v=o.length;++y<v;)o[y].call(t,p);i.state===Zg&&(i.on.call("end",t,t.__data__,i.index,i.group),m())}function m(){i.state=Bc,i.timer.stop(),delete a[e];for(var h in a)return;delete t.__transition}}function Lc(t,e){var i=t.__transition,a,o,u=!0,c;if(i){e=e==null?null:e+"";for(c in i){if((a=i[c]).name!==e){u=!1;continue}o=a.state>Yg&&a.state<Zg,a.state=Bc,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[c]}u&&delete t.__transition}}function I_(t){return this.each(function(){Lc(this,t)})}function D_(t,e){var i,a;return function(){var o=pi(this,t),u=o.tween;if(u!==i){a=i=u;for(var c=0,d=a.length;c<d;++c)if(a[c].name===e){a=a.slice(),a.splice(c,1);break}}o.tween=a}}function __(t,e,i){var a,o;if(typeof i!="function")throw new Error;return function(){var u=pi(this,t),c=u.tween;if(c!==a){o=(a=c).slice();for(var d={name:e,value:i},m=0,h=o.length;m<h;++m)if(o[m].name===e){o[m]=d;break}m===h&&o.push(d)}u.tween=o}}function O_(t,e){var i=this._id;if(t+="",arguments.length<2){for(var a=qn(this.node(),i).tween,o=0,u=a.length,c;o<u;++o)if((c=a[o]).name===t)return c.value;return null}return this.each((e==null?D_:__)(i,t,e))}function km(t,e,i){var a=t._id;return t.each(function(){var o=pi(this,a);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return qn(o,a).value[e]}}function C1(t,e){var i;return(typeof e=="number"?si:e instanceof Sa?Jc:(i=Sa(e))?(e=i,Jc):S1)(t,e)}function V_(t){return function(){this.removeAttribute(t)}}function M_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B_(t,e,i){var a,o=i+"",u;return function(){var c=this.getAttribute(t);return c===o?null:c===a?u:u=e(a=c,i)}}function L_(t,e,i){var a,o=i+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===a?u:u=e(a=c,i)}}function z_(t,e,i){var a,o,u;return function(){var c,d=i(this),m;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),m=d+"",c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d)))}}function U_(t,e,i){var a,o,u;return function(){var c,d=i(this),m;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),m=d+"",c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d)))}}function Y_(t,e){var i=mf(t),a=i==="transform"?v_:C1;return this.attrTween(t,typeof e=="function"?(i.local?U_:z_)(i,a,km(this,"attr."+t,e)):e==null?(i.local?M_:V_)(i):(i.local?L_:B_)(i,a,e))}function Z_(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function G_(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function k_(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&G_(t,u)),i}return o._value=e,o}function W_(t,e){var i,a;function o(){var u=e.apply(this,arguments);return u!==a&&(i=(a=u)&&Z_(t,u)),i}return o._value=e,o}function X_(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var a=mf(t);return this.tween(i,(a.local?k_:W_)(a,e))}function K_(t,e){return function(){Gm(this,t).delay=+e.apply(this,arguments)}}function H_(t,e){return e=+e,function(){Gm(this,t).delay=e}}function F_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?K_:H_)(e,t)):qn(this.node(),e).delay}function J_(t,e){return function(){pi(this,t).duration=+e.apply(this,arguments)}}function j_(t,e){return e=+e,function(){pi(this,t).duration=e}}function $_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?J_:j_)(e,t)):qn(this.node(),e).duration}function P_(t,e){if(typeof e!="function")throw new Error;return function(){pi(this,t).ease=e}}function Q_(t){var e=this._id;return arguments.length?this.each(P_(e,t)):qn(this.node(),e).ease}function q_(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;pi(this,t).ease=i}}function eO(t){if(typeof t!="function")throw new Error;return this.each(q_(this._id,t))}function tO(t){typeof t!="function"&&(t=r1(t));for(var e=this._groups,i=e.length,a=new Array(i),o=0;o<i;++o)for(var u=e[o],c=u.length,d=a[o]=[],m,h=0;h<c;++h)(m=u[h])&&t.call(m,m.__data__,h,u)&&d.push(m);return new Fi(a,this._parents,this._name,this._id)}function nO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,a=e.length,o=i.length,u=Math.min(a,o),c=new Array(a),d=0;d<u;++d)for(var m=e[d],h=i[d],p=m.length,y=c[d]=new Array(p),v,S=0;S<p;++S)(v=m[S]||h[S])&&(y[S]=v);for(;d<a;++d)c[d]=e[d];return new Fi(c,this._parents,this._name,this._id)}function iO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function rO(t,e,i){var a,o,u=iO(e)?Gm:pi;return function(){var c=u(this,t),d=c.on;d!==a&&(o=(a=d).copy()).on(e,i),c.on=o}}function aO(t,e){var i=this._id;return arguments.length<2?qn(this.node(),i).on.on(t):this.each(rO(i,t,e))}function sO(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function oO(){return this.on("end.remove",sO(this._id))}function lO(t){var e=this._name,i=this._id;typeof t!="function"&&(t=Lm(t));for(var a=this._groups,o=a.length,u=new Array(o),c=0;c<o;++c)for(var d=a[c],m=d.length,h=u[c]=new Array(m),p,y,v=0;v<m;++v)(p=d[v])&&(y=t.call(p,p.__data__,v,d))&&("__data__"in p&&(y.__data__=p.__data__),h[v]=y,yf(h[v],e,i,v,h,qn(p,i)));return new Fi(u,this._parents,e,i)}function uO(t){var e=this._name,i=this._id;typeof t!="function"&&(t=i1(t));for(var a=this._groups,o=a.length,u=[],c=[],d=0;d<o;++d)for(var m=a[d],h=m.length,p,y=0;y<h;++y)if(p=m[y]){for(var v=t.call(p,p.__data__,y,m),S,E=qn(p,i),A=0,I=v.length;A<I;++A)(S=v[A])&&yf(S,e,i,A,v,E);u.push(v),c.push(p)}return new Fi(u,c,e,i)}var cO=zl.prototype.constructor;function fO(){return new cO(this._groups,this._parents)}function dO(t,e){var i,a,o;return function(){var u=ks(this,t),c=(this.style.removeProperty(t),ks(this,t));return u===c?null:u===i&&c===a?o:o=e(i=u,a=c)}}function R1(t){return function(){this.style.removeProperty(t)}}function hO(t,e,i){var a,o=i+"",u;return function(){var c=ks(this,t);return c===o?null:c===a?u:u=e(a=c,i)}}function gO(t,e,i){var a,o,u;return function(){var c=ks(this,t),d=i(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(t),ks(this,t))),c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d))}}function mO(t,e){var i,a,o,u="style."+e,c="end."+u,d;return function(){var m=pi(this,t),h=m.on,p=m.value[u]==null?d||(d=R1(e)):void 0;(h!==i||o!==p)&&(a=(i=h).copy()).on(c,o=p),m.on=a}}function pO(t,e,i){var a=(t+="")=="transform"?y_:C1;return e==null?this.styleTween(t,dO(t,a)).on("end.style."+t,R1(t)):typeof e=="function"?this.styleTween(t,gO(t,a,km(this,"style."+t,e))).each(mO(this._id,t)):this.styleTween(t,hO(t,a,e),i).on("end.style."+t,null)}function yO(t,e,i){return function(a){this.style.setProperty(t,e.call(this,a),i)}}function vO(t,e,i){var a,o;function u(){var c=e.apply(this,arguments);return c!==o&&(a=(o=c)&&yO(t,c,i)),a}return u._value=e,u}function bO(t,e,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,vO(t,e,i??""))}function SO(t){return function(){this.textContent=t}}function AO(t){return function(){var e=t(this);this.textContent=e??""}}function EO(t){return this.tween("text",typeof t=="function"?AO(km(this,"text",t)):SO(t==null?"":t+""))}function wO(t){return function(e){this.textContent=t.call(this,e)}}function NO(t){var e,i;function a(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&wO(o)),e}return a._value=t,a}function xO(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,NO(t))}function TO(){for(var t=this._name,e=this._id,i=I1(),a=this._groups,o=a.length,u=0;u<o;++u)for(var c=a[u],d=c.length,m,h=0;h<d;++h)if(m=c[h]){var p=qn(m,e);yf(m,t,i,h,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Fi(a,this._parents,t,i)}function CO(){var t,e,i=this,a=i._id,o=i.size();return new Promise(function(u,c){var d={value:c},m={value:function(){--o===0&&u()}};i.each(function(){var h=pi(this,a),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(m)),h.on=e}),o===0&&u()})}var RO=0;function Fi(t,e,i,a){this._groups=t,this._parents=e,this._name=i,this._id=a}function I1(){return++RO}var Ui=zl.prototype;Fi.prototype={constructor:Fi,select:lO,selectAll:uO,selectChild:Ui.selectChild,selectChildren:Ui.selectChildren,filter:tO,merge:nO,selection:fO,transition:TO,call:Ui.call,nodes:Ui.nodes,node:Ui.node,size:Ui.size,empty:Ui.empty,each:Ui.each,on:aO,attr:Y_,attrTween:X_,style:pO,styleTween:bO,text:EO,textTween:xO,remove:oO,tween:O_,delay:F_,duration:$_,ease:Q_,easeVarying:eO,end:CO,[Symbol.iterator]:Ui[Symbol.iterator]};function IO(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var DO={time:null,delay:0,duration:250,ease:IO};function _O(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function OO(t){var e,i;t instanceof Fi?(e=t._id,t=t._name):(e=I1(),(i=DO).time=Zm(),t=t==null?null:t+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var c=a[u],d=c.length,m,h=0;h<d;++h)(m=c[h])&&yf(m,t,e,h,c,i||_O(m,e));return new Fi(a,this._parents,t,e)}zl.prototype.interrupt=I_;zl.prototype.transition=OO;const Nc=t=>()=>t;function VO(t,{sourceEvent:e,target:i,transform:a,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function ki(t,e,i){this.k=t,this.x=e,this.y=i}ki.prototype={constructor:ki,scale:function(t){return t===1?this:new ki(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ki(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vf=new ki(1,0,0);D1.prototype=ki.prototype;function D1(t){for(;!t.__zoom;)if(!(t=t.parentNode))return vf;return t.__zoom}function ug(t){t.stopImmediatePropagation()}function jo(t){t.preventDefault(),t.stopImmediatePropagation()}function MO(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function BO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function DS(){return this.__zoom||vf}function LO(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function zO(){return navigator.maxTouchPoints||"ontouchstart"in this}function UO(t,e,i){var a=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],u=t.invertY(e[0][1])-i[0][1],c=t.invertY(e[1][1])-i[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function _1(){var t=MO,e=BO,i=UO,a=LO,o=zO,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,m=Vc,h=gf("start","zoom","end"),p,y,v,S=500,E=150,A=0,I=10;function x(_){_.property("__zoom",DS).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",de).filter(o).on("touchstart.zoom",ne).on("touchmove.zoom",te).on("touchend.zoom touchcancel.zoom",le).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(_,K,T,O){var Y=_.selection?_.selection():_;Y.property("__zoom",DS),_!==Y?V(_,K,T,O):Y.interrupt().each(function(){B(this,arguments).event(O).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},x.scaleBy=function(_,K,T,O){x.scaleTo(_,function(){var Y=this.__zoom.k,H=typeof K=="function"?K.apply(this,arguments):K;return Y*H},T,O)},x.scaleTo=function(_,K,T,O){x.transform(_,function(){var Y=e.apply(this,arguments),H=this.__zoom,re=T==null?R(Y):typeof T=="function"?T.apply(this,arguments):T,C=H.invert(re),L=typeof K=="function"?K.apply(this,arguments):K;return i(N(U(H,L),re,C),Y,c)},T,O)},x.translateBy=function(_,K,T,O){x.transform(_,function(){return i(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),c)},null,O)},x.translateTo=function(_,K,T,O,Y){x.transform(_,function(){var H=e.apply(this,arguments),re=this.__zoom,C=O==null?R(H):typeof O=="function"?O.apply(this,arguments):O;return i(vf.translate(C[0],C[1]).scale(re.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof T=="function"?-T.apply(this,arguments):-T),H,c)},O,Y)};function U(_,K){return K=Math.max(u[0],Math.min(u[1],K)),K===_.k?_:new ki(K,_.x,_.y)}function N(_,K,T){var O=K[0]-T[0]*_.k,Y=K[1]-T[1]*_.k;return O===_.x&&Y===_.y?_:new ki(_.k,O,Y)}function R(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function V(_,K,T,O){_.on("start.zoom",function(){B(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(O).end()}).tween("zoom",function(){var Y=this,H=arguments,re=B(Y,H).event(O),C=e.apply(Y,H),L=T==null?R(C):typeof T=="function"?T.apply(Y,H):T,ee=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),ie=Y.__zoom,fe=typeof K=="function"?K.apply(Y,H):K,ge=m(ie.invert(L).concat(ee/ie.k),fe.invert(L).concat(ee/fe.k));return function(he){if(he===1)he=fe;else{var ce=ge(he),me=ee/ce[2];he=new ki(me,L[0]-ce[0]*me,L[1]-ce[1]*me)}re.zoom(null,he)}})}function B(_,K,T){return!T&&_.__zooming||new M(_,K)}function M(_,K){this.that=_,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,K),this.taps=0}M.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,K){return this.mouse&&_!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var K=gn(this.that).datum();h.call(_,this.that,new VO(_,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:h}),K)}};function X(_,...K){if(!t.apply(this,arguments))return;var T=B(this,K).event(_),O=this.__zoom,Y=Math.max(u[0],Math.min(u[1],O.k*Math.pow(2,a.apply(this,arguments)))),H=Wn(_);if(T.wheel)(T.mouse[0][0]!==H[0]||T.mouse[0][1]!==H[1])&&(T.mouse[1]=O.invert(T.mouse[0]=H)),clearTimeout(T.wheel);else{if(O.k===Y)return;T.mouse=[H,O.invert(H)],Lc(this),T.start()}jo(_),T.wheel=setTimeout(re,E),T.zoom("mouse",i(N(U(O,Y),T.mouse[0],T.mouse[1]),T.extent,c));function re(){T.wheel=null,T.end()}}function q(_,...K){if(v||!t.apply(this,arguments))return;var T=_.currentTarget,O=B(this,K,!0).event(_),Y=gn(_.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",ee,!0),H=Wn(_,T),re=_.clientX,C=_.clientY;g1(_.view),ug(_),O.mouse=[H,this.__zoom.invert(H)],Lc(this),O.start();function L(ie){if(jo(ie),!O.moved){var fe=ie.clientX-re,ge=ie.clientY-C;O.moved=fe*fe+ge*ge>A}O.event(ie).zoom("mouse",i(N(O.that.__zoom,O.mouse[0]=Wn(ie,T),O.mouse[1]),O.extent,c))}function ee(ie){Y.on("mousemove.zoom mouseup.zoom",null),m1(ie.view,O.moved),jo(ie),O.event(ie).end()}}function de(_,...K){if(t.apply(this,arguments)){var T=this.__zoom,O=Wn(_.changedTouches?_.changedTouches[0]:_,this),Y=T.invert(O),H=T.k*(_.shiftKey?.5:2),re=i(N(U(T,H),O,Y),e.apply(this,K),c);jo(_),d>0?gn(this).transition().duration(d).call(V,re,O,_):gn(this).call(x.transform,re,O,_)}}function ne(_,...K){if(t.apply(this,arguments)){var T=_.touches,O=T.length,Y=B(this,K,_.changedTouches.length===O).event(_),H,re,C,L;for(ug(_),re=0;re<O;++re)C=T[re],L=Wn(C,this),L=[L,this.__zoom.invert(L),C.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==L[2]&&(Y.touch1=L,Y.taps=0):(Y.touch0=L,H=!0,Y.taps=1+!!p);p&&(p=clearTimeout(p)),H&&(Y.taps<2&&(y=L[0],p=setTimeout(function(){p=null},S)),Lc(this),Y.start())}}function te(_,...K){if(this.__zooming){var T=B(this,K).event(_),O=_.changedTouches,Y=O.length,H,re,C,L;for(jo(_),H=0;H<Y;++H)re=O[H],C=Wn(re,this),T.touch0&&T.touch0[2]===re.identifier?T.touch0[0]=C:T.touch1&&T.touch1[2]===re.identifier&&(T.touch1[0]=C);if(re=T.that.__zoom,T.touch1){var ee=T.touch0[0],ie=T.touch0[1],fe=T.touch1[0],ge=T.touch1[1],he=(he=fe[0]-ee[0])*he+(he=fe[1]-ee[1])*he,ce=(ce=ge[0]-ie[0])*ce+(ce=ge[1]-ie[1])*ce;re=U(re,Math.sqrt(he/ce)),C=[(ee[0]+fe[0])/2,(ee[1]+fe[1])/2],L=[(ie[0]+ge[0])/2,(ie[1]+ge[1])/2]}else if(T.touch0)C=T.touch0[0],L=T.touch0[1];else return;T.zoom("touch",i(N(re,C,L),T.extent,c))}}function le(_,...K){if(this.__zooming){var T=B(this,K).event(_),O=_.changedTouches,Y=O.length,H,re;for(ug(_),v&&clearTimeout(v),v=setTimeout(function(){v=null},S),H=0;H<Y;++H)re=O[H],T.touch0&&T.touch0[2]===re.identifier?delete T.touch0:T.touch1&&T.touch1[2]===re.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(re=Wn(re,this),Math.hypot(y[0]-re[0],y[1]-re[1])<I)){var C=gn(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return x.wheelDelta=function(_){return arguments.length?(a=typeof _=="function"?_:Nc(+_),x):a},x.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Nc(!!_),x):t},x.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Nc(!!_),x):o},x.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Nc([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),x):e},x.scaleExtent=function(_){return arguments.length?(u[0]=+_[0],u[1]=+_[1],x):[u[0],u[1]]},x.translateExtent=function(_){return arguments.length?(c[0][0]=+_[0][0],c[1][0]=+_[1][0],c[0][1]=+_[0][1],c[1][1]=+_[1][1],x):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},x.constrain=function(_){return arguments.length?(i=_,x):i},x.duration=function(_){return arguments.length?(d=+_,x):d},x.interpolate=function(_){return arguments.length?(m=_,x):m},x.on=function(){var _=h.on.apply(h,arguments);return _===h?x:_},x.clickDistance=function(_){return arguments.length?(A=(_=+_)*_,x):Math.sqrt(A)},x.tapDistance=function(_){return arguments.length?(I=+_,x):I},x}const mi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:i,targetHandle:a})=>`Couldn't create edge for ${t} handle id: "${t==="source"?i:a}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Nl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],O1=["Enter"," ","Escape"],V1={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:i})=>`Moved selected node ${t}. New position, x: ${e}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Xs;(function(t){t.Strict="strict",t.Loose="loose"})(Xs||(Xs={}));var ya;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ya||(ya={}));var xl;(function(t){t.Partial="partial",t.Full="full"})(xl||(xl={}));const M1={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Or;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Or||(Or={}));var Qc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Qc||(Qc={}));var we;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(we||(we={}));const _S={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function B1(t){return t===null?null:t?"valid":"invalid"}const L1=t=>"id"in t&&"source"in t&&"target"in t,YO=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Wm=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Yl=(t,e=[0,0])=>{const{width:i,height:a}=ji(t),o=t.origin??e,u=i*o[0],c=a*o[1];return{x:t.position.x-u,y:t.position.y-c}},ZO=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((a,o)=>{const u=typeof o=="string";let c=!e.nodeLookup&&!u?o:void 0;e.nodeLookup&&(c=u?e.nodeLookup.get(o):Wm(o)?o:e.nodeLookup.get(o.id));const d=c?qc(c,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return bf(a,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sf(i)},Zl=(t,e={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return t.forEach(o=>{(e.filter===void 0||e.filter(o))&&(i=bf(i,qc(o)),a=!0)}),a?Sf(i):{x:0,y:0,width:0,height:0}},Xm=(t,e,[i,a,o]=[0,0,1],u=!1,c=!1)=>{const d={...kl(e,[i,a,o]),width:e.width/o,height:e.height/o},m=[];for(const h of t.values()){const{measured:p,selectable:y=!0,hidden:v=!1}=h;if(c&&!y||v)continue;const S=p.width??h.width??h.initialWidth??null,E=p.height??h.height??h.initialHeight??null,A=Tl(d,Hs(h)),I=(S??0)*(E??0),x=u&&A>0;(!h.internals.handleBounds||x||A>=I||h.dragging)&&m.push(h)}return m},GO=(t,e)=>{const i=new Set;return t.forEach(a=>{i.add(a.id)}),e.filter(a=>i.has(a.source)||i.has(a.target))};function kO(t,e){const i=new Map,a=e?.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&(e?.includeHiddenNodes||!o.hidden)&&(!a||a.has(o.id))&&i.set(o.id,o)}),i}async function WO({nodes:t,width:e,height:i,panZoom:a,minZoom:o,maxZoom:u},c){if(t.size===0)return Promise.resolve(!0);const d=kO(t,c),m=Zl(d),h=Km(m,e,i,c?.minZoom??o,c?.maxZoom??u,c?.padding??.1);return await a.setViewport(h,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function z1({nodeId:t,nextPosition:e,nodeLookup:i,nodeOrigin:a=[0,0],nodeExtent:o,onError:u}){const c=i.get(t),d=c.parentId?i.get(c.parentId):void 0,{x:m,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=c.origin??a;let y=c.extent||o;if(c.extent==="parent"&&!c.expandParent)if(!d)u?.("005",mi.error005());else{const S=d.measured.width,E=d.measured.height;S&&E&&(y=[[m,h],[m+S,h+E]])}else d&&Fs(c.extent)&&(y=[[c.extent[0][0]+m,c.extent[0][1]+h],[c.extent[1][0]+m,c.extent[1][1]+h]]);const v=Fs(y)?Ea(e,y,c.measured):e;return(c.measured.width===void 0||c.measured.height===void 0)&&u?.("015",mi.error015()),{position:{x:v.x-m+(c.measured.width??0)*p[0],y:v.y-h+(c.measured.height??0)*p[1]},positionAbsolute:v}}async function XO({nodesToRemove:t=[],edgesToRemove:e=[],nodes:i,edges:a,onBeforeDelete:o}){const u=new Set(t.map(v=>v.id)),c=[];for(const v of i){if(v.deletable===!1)continue;const S=u.has(v.id),E=!S&&v.parentId&&c.find(A=>A.id===v.parentId);(S||E)&&c.push(v)}const d=new Set(e.map(v=>v.id)),m=a.filter(v=>v.deletable!==!1),p=GO(c,m);for(const v of m)d.has(v.id)&&!p.find(E=>E.id===v.id)&&p.push(v);if(!o)return{edges:p,nodes:c};const y=await o({nodes:c,edges:p});return typeof y=="boolean"?y?{edges:p,nodes:c}:{edges:[],nodes:[]}:y}const Ks=(t,e=0,i=1)=>Math.min(Math.max(t,e),i),Ea=(t={x:0,y:0},e,i)=>({x:Ks(t.x,e[0][0],e[1][0]-(i?.width??0)),y:Ks(t.y,e[0][1],e[1][1]-(i?.height??0))});function U1(t,e,i){const{width:a,height:o}=ji(i),{x:u,y:c}=i.internals.positionAbsolute;return Ea(t,[[u,c],[u+a,c+o]],e)}const OS=(t,e,i)=>t<e?Ks(Math.abs(t-e),1,e)/e:t>i?-Ks(Math.abs(t-i),1,e)/e:0,Y1=(t,e,i=15,a=40)=>{const o=OS(t.x,a,e.width-a)*i,u=OS(t.y,a,e.height-a)*i;return[o,u]},bf=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Gg=({x:t,y:e,width:i,height:a})=>({x:t,y:e,x2:t+i,y2:e+a}),Sf=({x:t,y:e,x2:i,y2:a})=>({x:t,y:e,width:i-t,height:a-e}),Hs=(t,e=[0,0])=>{const{x:i,y:a}=Wm(t)?t.internals.positionAbsolute:Yl(t,e);return{x:i,y:a,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},qc=(t,e=[0,0])=>{const{x:i,y:a}=Wm(t)?t.internals.positionAbsolute:Yl(t,e);return{x:i,y:a,x2:i+(t.measured?.width??t.width??t.initialWidth??0),y2:a+(t.measured?.height??t.height??t.initialHeight??0)}},Z1=(t,e)=>Sf(bf(Gg(t),Gg(e))),Tl=(t,e)=>{const i=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),a=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(i*a)},VS=t=>jn(t.width)&&jn(t.height)&&jn(t.x)&&jn(t.y),jn=t=>!isNaN(t)&&isFinite(t),KO=(t,e)=>{},Gl=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),kl=({x:t,y:e},[i,a,o],u=!1,c=[1,1])=>{const d={x:(t-i)/o,y:(e-a)/o};return u?Gl(d,c):d},ef=({x:t,y:e},[i,a,o])=>({x:t*o+i,y:e*o+a});function bs(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(i)}if(typeof t=="string"&&t.endsWith("%")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(e*i*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function HO(t,e,i){if(typeof t=="string"||typeof t=="number"){const a=bs(t,i),o=bs(t,e);return{top:a,right:o,bottom:a,left:o,x:o*2,y:a*2}}if(typeof t=="object"){const a=bs(t.top??t.y??0,i),o=bs(t.bottom??t.y??0,i),u=bs(t.left??t.x??0,e),c=bs(t.right??t.x??0,e);return{top:a,right:c,bottom:o,left:u,x:u+c,y:a+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function FO(t,e,i,a,o,u){const{x:c,y:d}=ef(t,[e,i,a]),{x:m,y:h}=ef({x:t.x+t.width,y:t.y+t.height},[e,i,a]),p=o-m,y=u-h;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(y)}}const Km=(t,e,i,a,o,u)=>{const c=HO(u,e,i),d=(e-c.x)/t.width,m=(i-c.y)/t.height,h=Math.min(d,m),p=Ks(h,a,o),y=t.x+t.width/2,v=t.y+t.height/2,S=e/2-y*p,E=i/2-v*p,A=FO(t,S,E,p,e,i),I={left:Math.min(A.left-c.left,0),top:Math.min(A.top-c.top,0),right:Math.min(A.right-c.right,0),bottom:Math.min(A.bottom-c.bottom,0)};return{x:S-I.left+I.right,y:E-I.top+I.bottom,zoom:p}},Cl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Fs(t){return t!=null&&t!=="parent"}function ji(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function G1(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function k1(t,e={width:0,height:0},i,a,o){const u={...t},c=a.get(i);if(c){const d=c.origin||o;u.x+=c.internals.positionAbsolute.x-(e.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(e.height??0)*d[1]}return u}function MS(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function JO(){let t,e;return{promise:new Promise((a,o)=>{t=a,e=o}),resolve:t,reject:e}}function jO(t){return{...V1,...t||{}}}function ll(t,{snapGrid:e=[0,0],snapToGrid:i=!1,transform:a,containerBounds:o}){const{x:u,y:c}=$n(t),d=kl({x:u-(o?.left??0),y:c-(o?.top??0)},a),{x:m,y:h}=i?Gl(d,e):d;return{xSnapped:m,ySnapped:h,...d}}const Hm=t=>({width:t.offsetWidth,height:t.offsetHeight}),W1=t=>t?.getRootNode?.()||window?.document,$O=["INPUT","SELECT","TEXTAREA"];function X1(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:$O.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const K1=t=>"clientX"in t,$n=(t,e)=>{const i=K1(t),a=i?t.clientX:t.touches?.[0].clientX,o=i?t.clientY:t.touches?.[0].clientY;return{x:a-(e?.left??0),y:o-(e?.top??0)}},BS=(t,e,i,a,o)=>{const u=e.querySelectorAll(`.${t}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:t,nodeId:o,position:c.getAttribute("data-handlepos"),x:(d.left-i.left)/a,y:(d.top-i.top)/a,...Hm(c)}})};function H1({sourceX:t,sourceY:e,targetX:i,targetY:a,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:d}){const m=t*.125+o*.375+c*.375+i*.125,h=e*.125+u*.375+d*.375+a*.125,p=Math.abs(m-t),y=Math.abs(h-e);return[m,h,p,y]}function xc(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function LS({pos:t,x1:e,y1:i,x2:a,y2:o,c:u}){switch(t){case we.Left:return[e-xc(e-a,u),i];case we.Right:return[e+xc(a-e,u),i];case we.Top:return[e,i-xc(i-o,u)];case we.Bottom:return[e,i+xc(o-i,u)]}}function F1({sourceX:t,sourceY:e,sourcePosition:i=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top,curvature:c=.25}){const[d,m]=LS({pos:i,x1:t,y1:e,x2:a,y2:o,c}),[h,p]=LS({pos:u,x1:a,y1:o,x2:t,y2:e,c}),[y,v,S,E]=H1({sourceX:t,sourceY:e,targetX:a,targetY:o,sourceControlX:d,sourceControlY:m,targetControlX:h,targetControlY:p});return[`M${t},${e} C${d},${m} ${h},${p} ${a},${o}`,y,v,S,E]}function J1({sourceX:t,sourceY:e,targetX:i,targetY:a}){const o=Math.abs(i-t)/2,u=i<t?i+o:i-o,c=Math.abs(a-e)/2,d=a<e?a+c:a-c;return[u,d,o,c]}function PO({sourceNode:t,targetNode:e,selected:i=!1,zIndex:a,elevateOnSelect:o=!1}){if(a!==void 0)return a;const u=o&&i?1e3:0,c=Math.max(t.parentId||o&&t.selected?t.internals.z:0,e.parentId||o&&e.selected?e.internals.z:0);return u+c}function QO({sourceNode:t,targetNode:e,width:i,height:a,transform:o}){const u=bf(qc(t),qc(e));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-o[0]/o[2],y:-o[1]/o[2],width:i/o[2],height:a/o[2]};return Tl(c,Sf(u))>0}const qO=({source:t,sourceHandle:e,target:i,targetHandle:a})=>`xy-edge__${t}${e||""}-${i}${a||""}`,eV=(t,e)=>e.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),tV=(t,e)=>{if(!t.source||!t.target)return e;let i;return L1(t)?i={...t}:i={...t,id:qO(t)},eV(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function j1({sourceX:t,sourceY:e,targetX:i,targetY:a}){const[o,u,c,d]=J1({sourceX:t,sourceY:e,targetX:i,targetY:a});return[`M ${t},${e}L ${i},${a}`,o,u,c,d]}const zS={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},nV=({source:t,sourcePosition:e=we.Bottom,target:i})=>e===we.Left||e===we.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},US=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function iV({source:t,sourcePosition:e=we.Bottom,target:i,targetPosition:a=we.Top,center:o,offset:u,stepPosition:c}){const d=zS[e],m=zS[a],h={x:t.x+d.x*u,y:t.y+d.y*u},p={x:i.x+m.x*u,y:i.y+m.y*u},y=nV({source:h,sourcePosition:e,target:p}),v=y.x!==0?"x":"y",S=y[v];let E=[],A,I;const x={x:0,y:0},U={x:0,y:0},[,,N,R]=J1({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(d[v]*m[v]===-1){v==="x"?(A=o.x??h.x+(p.x-h.x)*c,I=o.y??(h.y+p.y)/2):(A=o.x??(h.x+p.x)/2,I=o.y??h.y+(p.y-h.y)*c);const B=[{x:A,y:h.y},{x:A,y:p.y}],M=[{x:h.x,y:I},{x:p.x,y:I}];d[v]===S?E=v==="x"?B:M:E=v==="x"?M:B}else{const B=[{x:h.x,y:p.y}],M=[{x:p.x,y:h.y}];if(v==="x"?E=d.x===S?M:B:E=d.y===S?B:M,e===a){const te=Math.abs(t[v]-i[v]);if(te<=u){const le=Math.min(u-1,u-te);d[v]===S?x[v]=(h[v]>t[v]?-1:1)*le:U[v]=(p[v]>i[v]?-1:1)*le}}if(e!==a){const te=v==="x"?"y":"x",le=d[v]===m[te],_=h[te]>p[te],K=h[te]<p[te];(d[v]===1&&(!le&&_||le&&K)||d[v]!==1&&(!le&&K||le&&_))&&(E=v==="x"?B:M)}const X={x:h.x+x.x,y:h.y+x.y},q={x:p.x+U.x,y:p.y+U.y},de=Math.max(Math.abs(X.x-E[0].x),Math.abs(q.x-E[0].x)),ne=Math.max(Math.abs(X.y-E[0].y),Math.abs(q.y-E[0].y));de>=ne?(A=(X.x+q.x)/2,I=E[0].y):(A=E[0].x,I=(X.y+q.y)/2)}return[[t,{x:h.x+x.x,y:h.y+x.y},...E,{x:p.x+U.x,y:p.y+U.y},i],A,I,N,R]}function rV(t,e,i,a){const o=Math.min(US(t,e)/2,US(e,i)/2,a),{x:u,y:c}=e;if(t.x===u&&u===i.x||t.y===c&&c===i.y)return`L${u} ${c}`;if(t.y===c){const h=t.x<i.x?-1:1,p=t.y<i.y?1:-1;return`L ${u+o*h},${c}Q ${u},${c} ${u},${c+o*p}`}const d=t.x<i.x?1:-1,m=t.y<i.y?-1:1;return`L ${u},${c+o*m}Q ${u},${c} ${u+o*d},${c}`}function kg({sourceX:t,sourceY:e,sourcePosition:i=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top,borderRadius:c=5,centerX:d,centerY:m,offset:h=20,stepPosition:p=.5}){const[y,v,S,E,A]=iV({source:{x:t,y:e},sourcePosition:i,target:{x:a,y:o},targetPosition:u,center:{x:d,y:m},offset:h,stepPosition:p});return[y.reduce((x,U,N)=>{let R="";return N>0&&N<y.length-1?R=rV(y[N-1],U,y[N+1],c):R=`${N===0?"M":"L"}${U.x} ${U.y}`,x+=R,x},""),v,S,E,A]}function YS(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function aV(t){const{sourceNode:e,targetNode:i}=t;if(!YS(e)||!YS(i))return null;const a=e.internals.handleBounds||ZS(e.handles),o=i.internals.handleBounds||ZS(i.handles),u=GS(a?.source??[],t.sourceHandle),c=GS(t.connectionMode===Xs.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),t.targetHandle);if(!u||!c)return t.onError?.("008",mi.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const d=u?.position||we.Bottom,m=c?.position||we.Top,h=Rl(e,u,d),p=Rl(i,c,m);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:m}}function ZS(t){if(!t)return null;const e=[],i=[];for(const a of t)a.width=a.width??1,a.height=a.height??1,a.type==="source"?e.push(a):a.type==="target"&&i.push(a);return{source:e,target:i}}function Rl(t,e,i=we.Left,a=!1){const o=(e?.x??0)+t.internals.positionAbsolute.x,u=(e?.y??0)+t.internals.positionAbsolute.y,{width:c,height:d}=e??ji(t);if(a)return{x:o+c/2,y:u+d/2};switch(e?.position??i){case we.Top:return{x:o+c/2,y:u};case we.Right:return{x:o+c,y:u+d/2};case we.Bottom:return{x:o+c/2,y:u+d};case we.Left:return{x:o,y:u+d/2}}}function GS(t,e){return t&&(e?t.find(i=>i.id===e):t[0])||null}function Wg(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(a=>`${a}=${t[a]}`).join("&")}`:""}function sV(t,{id:e,defaultColor:i,defaultMarkerStart:a,defaultMarkerEnd:o}){const u=new Set;return t.reduce((c,d)=>([d.markerStart||a,d.markerEnd||o].forEach(m=>{if(m&&typeof m=="object"){const h=Wg(m,e);u.has(h)||(c.push({id:h,color:m.color||i,...m}),u.add(h))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const $1=1e3,oV=10,Fm={nodeOrigin:[0,0],nodeExtent:Nl,elevateNodesOnSelect:!0,defaults:{}},lV={...Fm,checkEquality:!0};function Jm(t,e){const i={...t};for(const a in e)e[a]!==void 0&&(i[a]=e[a]);return i}function uV(t,e,i){const a=Jm(Fm,i);for(const o of t.values())if(o.parentId)jm(o,t,e,a);else{const u=Yl(o,a.nodeOrigin),c=Fs(o.extent)?o.extent:a.nodeExtent,d=Ea(u,c,ji(o));o.internals.positionAbsolute=d}}function cV(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const i=[],a=[];for(const o of t.handles){const u={id:o.id,width:o.width??1,height:o.height??1,nodeId:t.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?i.push(u):o.type==="target"&&a.push(u)}return{source:i,target:a}}function Xg(t,e,i,a){const o=Jm(lV,a);let u={i:-1},c=t.length>0;const d=new Map(e),m=o?.elevateNodesOnSelect?$1:0;e.clear(),i.clear();for(const h of t){let p=d.get(h.id);if(o.checkEquality&&h===p?.internals.userNode)e.set(h.id,p);else{const y=Yl(h,o.nodeOrigin),v=Fs(h.extent)?h.extent:o.nodeExtent,S=Ea(y,v,ji(h));p={...o.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:S,handleBounds:cV(h,p),z:P1(h,m),userNode:h}},e.set(h.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(c=!1),h.parentId&&jm(p,e,i,a,u)}return c}function fV(t,e){if(!t.parentId)return;const i=e.get(t.parentId);i?i.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function jm(t,e,i,a,o){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:d}=Jm(Fm,a),m=t.parentId,h=e.get(m);if(!h){console.warn(`Parent node ${m} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}fV(t,i),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*oV),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const p=u?$1:0,{x:y,y:v,z:S}=dV(t,h,c,d,p),{positionAbsolute:E}=t.internals,A=y!==E.x||v!==E.y;(A||S!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:A?{x:y,y:v}:E,z:S}})}function P1(t,e){return(jn(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function dV(t,e,i,a,o){const{x:u,y:c}=e.internals.positionAbsolute,d=ji(t),m=Yl(t,i),h=Fs(t.extent)?Ea(m,t.extent,d):m;let p=Ea({x:u+h.x,y:c+h.y},a,d);t.extent==="parent"&&(p=U1(p,d,e));const y=P1(t,o),v=e.internals.z??0;return{x:p.x,y:p.y,z:v>=y?v+1:y}}function $m(t,e,i,a=[0,0]){const o=[],u=new Map;for(const c of t){const d=e.get(c.parentId);if(!d)continue;const m=u.get(c.parentId)?.expandedRect??Hs(d),h=Z1(m,c.rect);u.set(c.parentId,{expandedRect:h,parent:d})}return u.size>0&&u.forEach(({expandedRect:c,parent:d},m)=>{const h=d.internals.positionAbsolute,p=ji(d),y=d.origin??a,v=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,S=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,E=Math.max(p.width,Math.round(c.width)),A=Math.max(p.height,Math.round(c.height)),I=(E-p.width)*y[0],x=(A-p.height)*y[1];(v>0||S>0||I||x)&&(o.push({id:m,type:"position",position:{x:d.position.x-v+I,y:d.position.y-S+x}}),i.get(m)?.forEach(U=>{t.some(N=>N.id===U.id)||o.push({id:U.id,type:"position",position:{x:U.position.x+v,y:U.position.y+S}})})),(p.width<c.width||p.height<c.height||v||S)&&o.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:E+(v?y[0]*v-I:0),height:A+(S?y[1]*S-x:0)}})}),o}function hV(t,e,i,a,o,u){const c=a?.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const m=[],h=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(h.transform),y=[];for(const v of t.values()){const S=e.get(v.id);if(!S)continue;if(S.hidden){e.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const E=Hm(v.nodeElement),A=S.measured.width!==E.width||S.measured.height!==E.height;if(!!(E.width&&E.height&&(A||!S.internals.handleBounds||v.force))){const x=v.nodeElement.getBoundingClientRect(),U=Fs(S.extent)?S.extent:u;let{positionAbsolute:N}=S.internals;S.parentId&&S.extent==="parent"?N=U1(N,E,e.get(S.parentId)):U&&(N=Ea(N,U,E));const R={...S,measured:E,internals:{...S.internals,positionAbsolute:N,handleBounds:{source:BS("source",v.nodeElement,x,p,S.id),target:BS("target",v.nodeElement,x,p,S.id)}}};e.set(S.id,R),S.parentId&&jm(R,e,i,{nodeOrigin:o}),d=!0,A&&(m.push({id:S.id,type:"dimensions",dimensions:E}),S.expandParent&&S.parentId&&y.push({id:S.id,parentId:S.parentId,rect:Hs(R,o)}))}}if(y.length>0){const v=$m(y,e,i,o);m.push(...v)}return{changes:m,updatedInternals:d}}async function gV({delta:t,panZoom:e,transform:i,translateExtent:a,width:o,height:u}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const c=await e.setViewportConstrained({x:i[0]+t.x,y:i[1]+t.y,zoom:i[2]},[[0,0],[o,u]],a),d=!!c&&(c.x!==i[0]||c.y!==i[1]||c.k!==i[2]);return Promise.resolve(d)}function kS(t,e,i,a,o,u){let c=o;const d=a.get(c)||new Map;a.set(c,d.set(i,e)),c=`${o}-${t}`;const m=a.get(c)||new Map;if(a.set(c,m.set(i,e)),u){c=`${o}-${t}-${u}`;const h=a.get(c)||new Map;a.set(c,h.set(i,e))}}function Q1(t,e,i){t.clear(),e.clear();for(const a of i){const{source:o,target:u,sourceHandle:c=null,targetHandle:d=null}=a,m={edgeId:a.id,source:o,target:u,sourceHandle:c,targetHandle:d},h=`${o}-${c}--${u}-${d}`,p=`${u}-${d}--${o}-${c}`;kS("source",m,p,t,o,c),kS("target",m,h,t,u,d),e.set(a.id,a)}}function q1(t,e){if(!t.parentId)return!1;const i=e.get(t.parentId);return i?i.selected?!0:q1(i,e):!1}function WS(t,e,i){let a=t;do{if(a?.matches?.(e))return!0;if(a===i)return!1;a=a?.parentElement}while(a);return!1}function mV(t,e,i,a){const o=new Map;for(const[u,c]of t)if((c.selected||c.id===a)&&(!c.parentId||!q1(c,t))&&(c.draggable||e&&typeof c.draggable>"u")){const d=t.get(u);d&&o.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:i.x-d.internals.positionAbsolute.x,y:i.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return o}function cg({nodeId:t,dragItems:e,nodeLookup:i,dragging:a=!0}){const o=[];for(const[c,d]of e){const m=i.get(c)?.internals.userNode;m&&o.push({...m,position:d.position,dragging:a})}if(!t)return[o[0],o];const u=i.get(t)?.internals.userNode;return[u?{...u,position:e.get(t)?.position||u.position,dragging:a}:o[0],o]}function pV({dragItems:t,snapGrid:e,x:i,y:a}){const o=t.values().next().value;if(!o)return null;const u={x:i-o.distance.x,y:a-o.distance.y},c=Gl(u,e);return{x:c.x-u.x,y:c.y-u.y}}function yV({onNodeMouseDown:t,getStoreItems:e,onDragStart:i,onDrag:a,onDragStop:o}){let u={x:null,y:null},c=0,d=new Map,m=!1,h={x:0,y:0},p=null,y=!1,v=null,S=!1,E=!1,A=null;function I({noDragClassName:U,handleSelector:N,domNode:R,isSelectable:V,nodeId:B,nodeClickDistance:M=0}){v=gn(R);function X({x:te,y:le}){const{nodeLookup:_,nodeExtent:K,snapGrid:T,snapToGrid:O,nodeOrigin:Y,onNodeDrag:H,onSelectionDrag:re,onError:C,updateNodePositions:L}=e();u={x:te,y:le};let ee=!1;const ie=d.size>1,fe=ie&&K?Gg(Zl(d)):null,ge=ie&&O?pV({dragItems:d,snapGrid:T,x:te,y:le}):null;for(const[he,ce]of d){if(!_.has(he))continue;let me={x:te-ce.distance.x,y:le-ce.distance.y};O&&(me=ge?{x:Math.round(me.x+ge.x),y:Math.round(me.y+ge.y)}:Gl(me,T));let _e=null;if(ie&&K&&!ce.extent&&fe){const{positionAbsolute:Te}=ce.internals,Ye=Te.x-fe.x+K[0][0],Qe=Te.x+ce.measured.width-fe.x2+K[1][0],qe=Te.y-fe.y+K[0][1],Tt=Te.y+ce.measured.height-fe.y2+K[1][1];_e=[[Ye,qe],[Qe,Tt]]}const{position:Ie,positionAbsolute:Ne}=z1({nodeId:he,nextPosition:me,nodeLookup:_,nodeExtent:_e||K,nodeOrigin:Y,onError:C});ee=ee||ce.position.x!==Ie.x||ce.position.y!==Ie.y,ce.position=Ie,ce.internals.positionAbsolute=Ne}if(E=E||ee,!!ee&&(L(d,!0),A&&(a||H||!B&&re))){const[he,ce]=cg({nodeId:B,dragItems:d,nodeLookup:_});a?.(A,d,he,ce),H?.(A,he,ce),B||re?.(A,ce)}}async function q(){if(!p)return;const{transform:te,panBy:le,autoPanSpeed:_,autoPanOnNodeDrag:K}=e();if(!K){m=!1,cancelAnimationFrame(c);return}const[T,O]=Y1(h,p,_);(T!==0||O!==0)&&(u.x=(u.x??0)-T/te[2],u.y=(u.y??0)-O/te[2],await le({x:T,y:O})&&X(u)),c=requestAnimationFrame(q)}function de(te){const{nodeLookup:le,multiSelectionActive:_,nodesDraggable:K,transform:T,snapGrid:O,snapToGrid:Y,selectNodesOnDrag:H,onNodeDragStart:re,onSelectionDragStart:C,unselectNodesAndEdges:L}=e();y=!0,(!H||!V)&&!_&&B&&(le.get(B)?.selected||L()),V&&H&&B&&t?.(B);const ee=ll(te.sourceEvent,{transform:T,snapGrid:O,snapToGrid:Y,containerBounds:p});if(u=ee,d=mV(le,K,ee,B),d.size>0&&(i||re||!B&&C)){const[ie,fe]=cg({nodeId:B,dragItems:d,nodeLookup:le});i?.(te.sourceEvent,d,ie,fe),re?.(te.sourceEvent,ie,fe),B||C?.(te.sourceEvent,fe)}}const ne=p1().clickDistance(M).on("start",te=>{const{domNode:le,nodeDragThreshold:_,transform:K,snapGrid:T,snapToGrid:O}=e();p=le?.getBoundingClientRect()||null,S=!1,E=!1,A=te.sourceEvent,_===0&&de(te),u=ll(te.sourceEvent,{transform:K,snapGrid:T,snapToGrid:O,containerBounds:p}),h=$n(te.sourceEvent,p)}).on("drag",te=>{const{autoPanOnNodeDrag:le,transform:_,snapGrid:K,snapToGrid:T,nodeDragThreshold:O,nodeLookup:Y}=e(),H=ll(te.sourceEvent,{transform:_,snapGrid:K,snapToGrid:T,containerBounds:p});if(A=te.sourceEvent,(te.sourceEvent.type==="touchmove"&&te.sourceEvent.touches.length>1||B&&!Y.has(B))&&(S=!0),!S){if(!m&&le&&y&&(m=!0,q()),!y){const re=$n(te.sourceEvent,p),C=re.x-h.x,L=re.y-h.y;Math.sqrt(C*C+L*L)>O&&de(te)}(u.x!==H.xSnapped||u.y!==H.ySnapped)&&d&&y&&(h=$n(te.sourceEvent,p),X(H))}}).on("end",te=>{if(!(!y||S)&&(m=!1,y=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:le,updateNodePositions:_,onNodeDragStop:K,onSelectionDragStop:T}=e();if(E&&(_(d,!1),E=!1),o||K||!B&&T){const[O,Y]=cg({nodeId:B,dragItems:d,nodeLookup:le,dragging:!1});o?.(te.sourceEvent,d,O,Y),K?.(te.sourceEvent,O,Y),B||T?.(te.sourceEvent,Y)}}}).filter(te=>{const le=te.target;return!te.button&&(!U||!WS(le,`.${U}`,R))&&(!N||WS(le,N,R))});v.call(ne)}function x(){v?.on(".drag",null)}return{update:I,destroy:x}}function vV(t,e,i){const a=[],o={x:t.x-i,y:t.y-i,width:i*2,height:i*2};for(const u of e.values())Tl(o,Hs(u))>0&&a.push(u);return a}const bV=250;function SV(t,e,i,a){let o=[],u=1/0;const c=vV(t,i,e+bV);for(const d of c){const m=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:p,y}=Rl(d,h,h.position,!0),v=Math.sqrt(Math.pow(p-t.x,2)+Math.pow(y-t.y,2));v>e||(v<u?(o=[{...h,x:p,y}],u=v):v===u&&o.push({...h,x:p,y}))}}if(!o.length)return null;if(o.length>1){const d=a.type==="source"?"target":"source";return o.find(m=>m.type===d)??o[0]}return o[0]}function ew(t,e,i,a,o,u=!1){const c=a.get(t);if(!c)return null;const d=o==="strict"?c.internals.handleBounds?.[e]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],m=(i?d?.find(h=>h.id===i):d?.[0])??null;return m&&u?{...m,...Rl(c,m,m.position,!0)}:m}function tw(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function AV(t,e){let i=null;return e?i=!0:t&&!e&&(i=!1),i}const nw=()=>!0;function EV(t,{connectionMode:e,connectionRadius:i,handleId:a,nodeId:o,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:m,lib:h,autoPanOnConnect:p,flowId:y,panBy:v,cancelConnection:S,onConnectStart:E,onConnect:A,onConnectEnd:I,isValidConnection:x=nw,onReconnectEnd:U,updateConnection:N,getTransform:R,getFromHandle:V,autoPanSpeed:B,dragThreshold:M=1,handleDomNode:X}){const q=W1(t.target);let de=0,ne;const{x:te,y:le}=$n(t),_=tw(u,X),K=d?.getBoundingClientRect();let T=!1;if(!K||!_)return;const O=ew(o,_,a,m,e);if(!O)return;let Y=$n(t,K),H=!1,re=null,C=!1,L=null;function ee(){if(!p||!K)return;const[Ie,Ne]=Y1(Y,K,B);v({x:Ie,y:Ne}),de=requestAnimationFrame(ee)}const ie={...O,nodeId:o,type:_,position:O.position},fe=m.get(o);let he={inProgress:!0,isValid:null,from:Rl(fe,ie,we.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:fe,to:Y,toHandle:null,toPosition:_S[ie.position],toNode:null,pointer:Y};function ce(){T=!0,N(he),E?.(t,{nodeId:o,handleId:a,handleType:_})}M===0&&ce();function me(Ie){if(!T){const{x:Qe,y:qe}=$n(Ie),Tt=Qe-te,bn=qe-le;if(!(Tt*Tt+bn*bn>M*M))return;ce()}if(!V()||!ie){_e(Ie);return}const Ne=R();Y=$n(Ie,K),ne=SV(kl(Y,Ne,!1,[1,1]),i,m,ie),H||(ee(),H=!0);const Te=iw(Ie,{handle:ne,connectionMode:e,fromNodeId:o,fromHandleId:a,fromType:c?"target":"source",isValidConnection:x,doc:q,lib:h,flowId:y,nodeLookup:m});L=Te.handleDomNode,re=Te.connection,C=AV(!!ne,Te.isValid);const Ye={...he,isValid:C,to:Te.toHandle&&C?ef({x:Te.toHandle.x,y:Te.toHandle.y},Ne):Y,toHandle:Te.toHandle,toPosition:C&&Te.toHandle?Te.toHandle.position:_S[ie.position],toNode:Te.toHandle?m.get(Te.toHandle.nodeId):null,pointer:Y};N(Ye),he=Ye}function _e(Ie){if(!("touches"in Ie&&Ie.touches.length>0)){if(T){(ne||L)&&re&&C&&A?.(re);const{inProgress:Ne,...Te}=he,Ye={...Te,toPosition:he.toHandle?he.toPosition:null};I?.(Ie,Ye),u&&U?.(Ie,Ye)}S(),cancelAnimationFrame(de),H=!1,C=!1,re=null,L=null,q.removeEventListener("mousemove",me),q.removeEventListener("mouseup",_e),q.removeEventListener("touchmove",me),q.removeEventListener("touchend",_e)}}q.addEventListener("mousemove",me),q.addEventListener("mouseup",_e),q.addEventListener("touchmove",me),q.addEventListener("touchend",_e)}function iw(t,{handle:e,connectionMode:i,fromNodeId:a,fromHandleId:o,fromType:u,doc:c,lib:d,flowId:m,isValidConnection:h=nw,nodeLookup:p}){const y=u==="target",v=e?c.querySelector(`.${d}-flow__handle[data-id="${m}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:S,y:E}=$n(t),A=c.elementFromPoint(S,E),I=A?.classList.contains(`${d}-flow__handle`)?A:v,x={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const U=tw(void 0,I),N=I.getAttribute("data-nodeid"),R=I.getAttribute("data-handleid"),V=I.classList.contains("connectable"),B=I.classList.contains("connectableend");if(!N||!U)return x;const M={source:y?N:a,sourceHandle:y?R:o,target:y?a:N,targetHandle:y?o:R};x.connection=M;const q=V&&B&&(i===Xs.Strict?y&&U==="source"||!y&&U==="target":N!==a||R!==o);x.isValid=q&&h(M),x.toHandle=ew(N,U,R,p,i,!0)}return x}const Kg={onPointerDown:EV,isValid:iw};function wV({domNode:t,panZoom:e,getTransform:i,getViewScale:a}){const o=gn(t);function u({translateExtent:d,width:m,height:h,zoomStep:p=1,pannable:y=!0,zoomable:v=!0,inversePan:S=!1}){const E=N=>{if(N.sourceEvent.type!=="wheel"||!e)return;const R=i(),V=N.sourceEvent.ctrlKey&&Cl()?10:1,B=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*p,M=R[2]*Math.pow(2,B*V);e.scaleTo(M)};let A=[0,0];const I=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(A=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},x=N=>{const R=i();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!e)return;const V=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],B=[V[0]-A[0],V[1]-A[1]];A=V;const M=a()*Math.max(R[2],Math.log(R[2]))*(S?-1:1),X={x:R[0]-B[0]*M,y:R[1]-B[1]*M},q=[[0,0],[m,h]];e.setViewportConstrained({x:X.x,y:X.y,zoom:R[2]},q,d)},U=_1().on("start",I).on("zoom",y?x:null).on("zoom.wheel",v?E:null);o.call(U,{})}function c(){o.on("zoom",null)}return{update:u,destroy:c,pointer:Wn}}const Af=t=>({x:t.x,y:t.y,zoom:t.k}),fg=({x:t,y:e,zoom:i})=>vf.translate(t,e).scale(i),Ns=(t,e)=>t.target.closest(`.${e}`),rw=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),NV=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,dg=(t,e=0,i=NV,a=()=>{})=>{const o=typeof e=="number"&&e>0;return o||a(),o?t.transition().duration(e).ease(i).on("end",a):t},aw=t=>{const e=t.ctrlKey&&Cl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function xV({zoomPanValues:t,noWheelClassName:e,d3Selection:i,d3Zoom:a,panOnScrollMode:o,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:m,onPanZoomEnd:h}){return p=>{if(Ns(p,e))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const y=i.property("__zoom").k||1;if(p.ctrlKey&&c){const I=Wn(p),x=aw(p),U=y*Math.pow(2,x);a.scaleTo(i,U,I,p);return}const v=p.deltaMode===1?20:1;let S=o===ya.Vertical?0:p.deltaX*v,E=o===ya.Horizontal?0:p.deltaY*v;!Cl()&&p.shiftKey&&o!==ya.Vertical&&(S=p.deltaY*v,E=0),a.translateBy(i,-(S/y)*u,-(E/y)*u,{internal:!0});const A=Af(i.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(m?.(p,A),t.panScrollTimeout=setTimeout(()=>{h?.(p,A),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,d?.(p,A))}}function TV({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:i}){return function(a,o){const u=a.type==="wheel",c=!e&&u&&!a.ctrlKey,d=Ns(a,t);if(a.ctrlKey&&u&&d&&a.preventDefault(),c||d)return null;a.preventDefault(),i.call(this,a,o)}}function CV({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:i}){return a=>{if(a.sourceEvent?.internal)return;const o=Af(a.transform);t.mouseButton=a.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=o,a.sourceEvent?.type==="mousedown"&&e(!0),i&&i?.(a.sourceEvent,o)}}function RV({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:i,onTransformChange:a,onPanZoom:o}){return u=>{t.usedRightMouseButton=!!(i&&rw(e,t.mouseButton??0)),u.sourceEvent?.sync||a([u.transform.x,u.transform.y,u.transform.k]),o&&!u.sourceEvent?.internal&&o?.(u.sourceEvent,Af(u.transform))}}function IV({zoomPanValues:t,panOnDrag:e,panOnScroll:i,onDraggingChange:a,onPanZoomEnd:o,onPaneContextMenu:u}){return c=>{if(!c.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,u&&rw(e,t.mouseButton??0)&&!t.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),t.usedRightMouseButton=!1,a(!1),o)){const d=Af(c.transform);t.prevViewport=d,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o?.(c.sourceEvent,d)},i?150:0)}}}function DV({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:i,panOnDrag:a,panOnScroll:o,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:m,lib:h,connectionInProgress:p}){return y=>{const v=t||e,S=i&&y.ctrlKey,E=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(Ns(y,`${h}-flow__node`)||Ns(y,`${h}-flow__edge`)))return!0;if(!a&&!v&&!o&&!u&&!i||c||p&&!E||Ns(y,d)&&E||Ns(y,m)&&(!E||o&&E&&!t)||!i&&y.ctrlKey&&E)return!1;if(!i&&y.type==="touchstart"&&y.touches?.length>1)return y.preventDefault(),!1;if(!v&&!o&&!S&&E||!a&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(a)&&!a.includes(y.button)&&y.type==="mousedown")return!1;const A=Array.isArray(a)&&a.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||E)&&A}}function _V({domNode:t,minZoom:e,maxZoom:i,translateExtent:a,viewport:o,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:d,onDraggingChange:m}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=t.getBoundingClientRect(),y=_1().scaleExtent([e,i]).translateExtent(a),v=gn(t).call(y);U({x:o.x,y:o.y,zoom:Ks(o.zoom,e,i)},[[0,0],[p.width,p.height]],a);const S=v.on("wheel.zoom"),E=v.on("dblclick.zoom");y.wheelDelta(aw);function A(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Vc).transform(dg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function I({noWheelClassName:ne,noPanClassName:te,onPaneContextMenu:le,userSelectionActive:_,panOnScroll:K,panOnDrag:T,panOnScrollMode:O,panOnScrollSpeed:Y,preventScrolling:H,zoomOnPinch:re,zoomOnScroll:C,zoomOnDoubleClick:L,zoomActivationKeyPressed:ee,lib:ie,onTransformChange:fe,connectionInProgress:ge,paneClickDistance:he,selectionOnDrag:ce}){_&&!h.isZoomingOrPanning&&x();const me=K&&!ee&&!_;y.clickDistance(ce?1/0:!jn(he)||he<0?0:he);const _e=me?xV({zoomPanValues:h,noWheelClassName:ne,d3Selection:v,d3Zoom:y,panOnScrollMode:O,panOnScrollSpeed:Y,zoomOnPinch:re,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:d}):TV({noWheelClassName:ne,preventScrolling:H,d3ZoomHandler:S});if(v.on("wheel.zoom",_e,{passive:!1}),!_){const Ne=CV({zoomPanValues:h,onDraggingChange:m,onPanZoomStart:c});y.on("start",Ne);const Te=RV({zoomPanValues:h,panOnDrag:T,onPaneContextMenu:!!le,onPanZoom:u,onTransformChange:fe});y.on("zoom",Te);const Ye=IV({zoomPanValues:h,panOnDrag:T,panOnScroll:K,onPaneContextMenu:le,onPanZoomEnd:d,onDraggingChange:m});y.on("end",Ye)}const Ie=DV({zoomActivationKeyPressed:ee,panOnDrag:T,zoomOnScroll:C,panOnScroll:K,zoomOnDoubleClick:L,zoomOnPinch:re,userSelectionActive:_,noPanClassName:te,noWheelClassName:ne,lib:ie,connectionInProgress:ge});y.filter(Ie),L?v.on("dblclick.zoom",E):v.on("dblclick.zoom",null)}function x(){y.on("zoom",null)}async function U(ne,te,le){const _=fg(ne),K=y?.constrain()(_,te,le);return K&&await A(K),new Promise(T=>T(K))}async function N(ne,te){const le=fg(ne);return await A(le,te),new Promise(_=>_(le))}function R(ne){if(v){const te=fg(ne),le=v.property("__zoom");(le.k!==ne.zoom||le.x!==ne.x||le.y!==ne.y)&&y?.transform(v,te,null,{sync:!0})}}function V(){const ne=v?D1(v.node()):{x:0,y:0,k:1};return{x:ne.x,y:ne.y,zoom:ne.k}}function B(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Vc).scaleTo(dg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function M(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Vc).scaleBy(dg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function X(ne){y?.scaleExtent(ne)}function q(ne){y?.translateExtent(ne)}function de(ne){const te=!jn(ne)||ne<0?0:ne;y?.clickDistance(te)}return{update:I,destroy:x,setViewport:N,setViewportConstrained:U,getViewport:V,scaleTo:B,scaleBy:M,setScaleExtent:X,setTranslateExtent:q,syncViewport:R,setClickDistance:de}}var Js;(function(t){t.Line="line",t.Handle="handle"})(Js||(Js={}));function OV({width:t,prevWidth:e,height:i,prevHeight:a,affectsX:o,affectsY:u}){const c=t-e,d=i-a,m=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&o&&(m[0]=m[0]*-1),d&&u&&(m[1]=m[1]*-1),m}function XS(t){const e=t.includes("right")||t.includes("left"),i=t.includes("bottom")||t.includes("top"),a=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:i,affectsX:a,affectsY:o}}function Cr(t,e){return Math.max(0,e-t)}function Rr(t,e){return Math.max(0,t-e)}function Tc(t,e,i){return Math.max(0,e-t,t-i)}function KS(t,e){return t?!e:e}function VV(t,e,i,a,o,u,c,d){let{affectsX:m,affectsY:h}=e;const{isHorizontal:p,isVertical:y}=e,v=p&&y,{xSnapped:S,ySnapped:E}=i,{minWidth:A,maxWidth:I,minHeight:x,maxHeight:U}=a,{x:N,y:R,width:V,height:B,aspectRatio:M}=t;let X=Math.floor(p?S-t.pointerX:0),q=Math.floor(y?E-t.pointerY:0);const de=V+(m?-X:X),ne=B+(h?-q:q),te=-u[0]*V,le=-u[1]*B;let _=Tc(de,A,I),K=Tc(ne,x,U);if(c){let Y=0,H=0;m&&X<0?Y=Cr(N+X+te,c[0][0]):!m&&X>0&&(Y=Rr(N+de+te,c[1][0])),h&&q<0?H=Cr(R+q+le,c[0][1]):!h&&q>0&&(H=Rr(R+ne+le,c[1][1])),_=Math.max(_,Y),K=Math.max(K,H)}if(d){let Y=0,H=0;m&&X>0?Y=Rr(N+X,d[0][0]):!m&&X<0&&(Y=Cr(N+de,d[1][0])),h&&q>0?H=Rr(R+q,d[0][1]):!h&&q<0&&(H=Cr(R+ne,d[1][1])),_=Math.max(_,Y),K=Math.max(K,H)}if(o){if(p){const Y=Tc(de/M,x,U)*M;if(_=Math.max(_,Y),c){let H=0;!m&&!h||m&&!h&&v?H=Rr(R+le+de/M,c[1][1])*M:H=Cr(R+le+(m?X:-X)/M,c[0][1])*M,_=Math.max(_,H)}if(d){let H=0;!m&&!h||m&&!h&&v?H=Cr(R+de/M,d[1][1])*M:H=Rr(R+(m?X:-X)/M,d[0][1])*M,_=Math.max(_,H)}}if(y){const Y=Tc(ne*M,A,I)/M;if(K=Math.max(K,Y),c){let H=0;!m&&!h||h&&!m&&v?H=Rr(N+ne*M+te,c[1][0])/M:H=Cr(N+(h?q:-q)*M+te,c[0][0])/M,K=Math.max(K,H)}if(d){let H=0;!m&&!h||h&&!m&&v?H=Cr(N+ne*M,d[1][0])/M:H=Rr(N+(h?q:-q)*M,d[0][0])/M,K=Math.max(K,H)}}}q=q+(q<0?K:-K),X=X+(X<0?_:-_),o&&(v?de>ne*M?q=(KS(m,h)?-X:X)/M:X=(KS(m,h)?-q:q)*M:p?(q=X/M,h=m):(X=q*M,m=h));const T=m?N+X:N,O=h?R+q:R;return{width:V+(m?-X:X),height:B+(h?-q:q),x:u[0]*X*(m?-1:1)+T,y:u[1]*q*(h?-1:1)+O}}const sw={width:0,height:0,x:0,y:0},MV={...sw,pointerX:0,pointerY:0,aspectRatio:1};function BV(t){return[[0,0],[t.measured.width,t.measured.height]]}function LV(t,e,i){const a=e.position.x+t.position.x,o=e.position.y+t.position.y,u=t.measured.width??0,c=t.measured.height??0,d=i[0]*u,m=i[1]*c;return[[a-d,o-m],[a+u-d,o+c-m]]}function zV({domNode:t,nodeId:e,getStoreItems:i,onChange:a,onEnd:o}){const u=gn(t);let c={controlDirection:XS("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:h,boundaries:p,keepAspectRatio:y,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:A,shouldResize:I}){let x={...sw},U={...MV};c={boundaries:p,resizeDirection:v,keepAspectRatio:y,controlDirection:XS(h)};let N,R=null,V=[],B,M,X,q=!1;const de=p1().on("start",ne=>{const{nodeLookup:te,transform:le,snapGrid:_,snapToGrid:K,nodeOrigin:T,paneDomNode:O}=i();if(N=te.get(e),!N)return;R=O?.getBoundingClientRect()??null;const{xSnapped:Y,ySnapped:H}=ll(ne.sourceEvent,{transform:le,snapGrid:_,snapToGrid:K,containerBounds:R});x={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},U={...x,pointerX:Y,pointerY:H,aspectRatio:x.width/x.height},B=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(B=te.get(N.parentId),M=B&&N.extent==="parent"?BV(B):void 0),V=[],X=void 0;for(const[re,C]of te)if(C.parentId===e&&(V.push({id:re,position:{...C.position},extent:C.extent}),C.extent==="parent"||C.expandParent)){const L=LV(C,N,C.origin??T);X?X=[[Math.min(L[0][0],X[0][0]),Math.min(L[0][1],X[0][1])],[Math.max(L[1][0],X[1][0]),Math.max(L[1][1],X[1][1])]]:X=L}S?.(ne,{...x})}).on("drag",ne=>{const{transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K}=i(),T=ll(ne.sourceEvent,{transform:te,snapGrid:le,snapToGrid:_,containerBounds:R}),O=[];if(!N)return;const{x:Y,y:H,width:re,height:C}=x,L={},ee=N.origin??K,{width:ie,height:fe,x:ge,y:he}=VV(U,c.controlDirection,T,c.boundaries,c.keepAspectRatio,ee,M,X),ce=ie!==re,me=fe!==C,_e=ge!==Y&&ce,Ie=he!==H&&me;if(!_e&&!Ie&&!ce&&!me)return;if((_e||Ie||ee[0]===1||ee[1]===1)&&(L.x=_e?ge:x.x,L.y=Ie?he:x.y,x.x=L.x,x.y=L.y,V.length>0)){const Qe=ge-Y,qe=he-H;for(const Tt of V)Tt.position={x:Tt.position.x-Qe+ee[0]*(ie-re),y:Tt.position.y-qe+ee[1]*(fe-C)},O.push(Tt)}if((ce||me)&&(L.width=ce&&(!c.resizeDirection||c.resizeDirection==="horizontal")?ie:x.width,L.height=me&&(!c.resizeDirection||c.resizeDirection==="vertical")?fe:x.height,x.width=L.width,x.height=L.height),B&&N.expandParent){const Qe=ee[0]*(L.width??0);L.x&&L.x<Qe&&(x.x=Qe,U.x=U.x-(L.x-Qe));const qe=ee[1]*(L.height??0);L.y&&L.y<qe&&(x.y=qe,U.y=U.y-(L.y-qe))}const Ne=OV({width:x.width,prevWidth:re,height:x.height,prevHeight:C,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),Te={...x,direction:Ne};I?.(ne,Te)!==!1&&(q=!0,E?.(ne,Te),a(L,O))}).on("end",ne=>{q&&(A?.(ne,{...x}),o?.({...x}),q=!1)});u.call(de)}function m(){u.on(".drag",null)}return{update:d,destroy:m}}var hg={exports:{}},gg={},mg={exports:{}},pg={};var HS;function UV(){if(HS)return pg;HS=1;var t=Dl();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var i=typeof Object.is=="function"?Object.is:e,a=t.useState,o=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function d(y,v){var S=v(),E=a({inst:{value:S,getSnapshot:v}}),A=E[0].inst,I=E[1];return u(function(){A.value=S,A.getSnapshot=v,m(A)&&I({inst:A})},[y,S,v]),o(function(){return m(A)&&I({inst:A}),y(function(){m(A)&&I({inst:A})})},[y]),c(S),S}function m(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!i(y,S)}catch{return!0}}function h(y,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return pg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,pg}var FS;function YV(){return FS||(FS=1,mg.exports=UV()),mg.exports}var JS;function ZV(){if(JS)return gg;JS=1;var t=Dl(),e=YV();function i(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:i,o=e.useSyncExternalStore,u=t.useRef,c=t.useEffect,d=t.useMemo,m=t.useDebugValue;return gg.useSyncExternalStoreWithSelector=function(h,p,y,v,S){var E=u(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=d(function(){function x(B){if(!U){if(U=!0,N=B,B=v(B),S!==void 0&&A.hasValue){var M=A.value;if(S(M,B))return R=M}return R=B}if(M=R,a(N,B))return M;var X=v(B);return S!==void 0&&S(M,X)?(N=B,M):(N=B,R=X)}var U=!1,N,R,V=y===void 0?null:y;return[function(){return x(p())},V===null?void 0:function(){return x(V())}]},[p,y,v,S]);var I=o(h,E[0],E[1]);return c(function(){A.hasValue=!0,A.value=I},[I]),m(I),I},gg}var jS;function GV(){return jS||(jS=1,hg.exports=ZV()),hg.exports}var kV=GV();const WV=SA(kV),XV={},$S=t=>{let e;const i=new Set,a=(p,y)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const S=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),i.forEach(E=>E(e,S))}},o=()=>e,m={setState:a,getState:o,getInitialState:()=>h,subscribe:p=>(i.add(p),()=>i.delete(p)),destroy:()=>{(XV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},h=e=t(a,o,m);return m},KV=t=>t?$S(t):$S,{useDebugValue:HV}=$I,{useSyncExternalStoreWithSelector:FV}=WV,JV=t=>t;function ow(t,e=JV,i){const a=FV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,i);return HV(a),a}const PS=(t,e)=>{const i=KV(t),a=(o,u=e)=>ow(i,o,u);return Object.assign(a,i),a},jV=(t,e)=>t?PS(t,e):PS;function ht(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[a,o]of t)if(!Object.is(o,e.get(a)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const a of t)if(!e.has(a))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(const a of i)if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.is(t[a],e[a]))return!1;return!0}AA();const Ef=P.createContext(null),$V=Ef.Provider,lw=mi.error001();function We(t,e){const i=P.useContext(Ef);if(i===null)throw new Error(lw);return ow(i,t,e)}function ft(){const t=P.useContext(Ef);if(t===null)throw new Error(lw);return P.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const QS={display:"none"},PV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},uw="react-flow__node-desc",cw="react-flow__edge-desc",QV="react-flow__aria-live",qV=t=>t.ariaLiveMessage,eM=t=>t.ariaLabelConfig;function tM({rfId:t}){const e=We(qV);return $.jsx("div",{id:`${QV}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:PV,children:e})}function nM({rfId:t,disableKeyboardA11y:e}){const i=We(eM);return $.jsxs($.Fragment,{children:[$.jsx("div",{id:`${uw}-${t}`,style:QS,children:e?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),$.jsx("div",{id:`${cw}-${t}`,style:QS,children:i["edge.a11yDescription.default"]}),!e&&$.jsx(tM,{rfId:t})]})}const wf=P.forwardRef(({position:t="top-left",children:e,className:i,style:a,...o},u)=>{const c=`${t}`.split("-");return $.jsx("div",{className:xt(["react-flow__panel",i,...c]),style:a,ref:u,...o,children:e})});wf.displayName="Panel";function iM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:$.jsx(wf,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:$.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const rM=t=>{const e=[],i=[];for(const[,a]of t.nodeLookup)a.selected&&e.push(a.internals.userNode);for(const[,a]of t.edgeLookup)a.selected&&i.push(a);return{selectedNodes:e,selectedEdges:i}},Cc=t=>t.id;function aM(t,e){return ht(t.selectedNodes.map(Cc),e.selectedNodes.map(Cc))&&ht(t.selectedEdges.map(Cc),e.selectedEdges.map(Cc))}function sM({onSelectionChange:t}){const e=ft(),{selectedNodes:i,selectedEdges:a}=We(rM,aM);return P.useEffect(()=>{const o={nodes:i,edges:a};t?.(o),e.getState().onSelectionChangeHandlers.forEach(u=>u(o))},[i,a,t]),null}const oM=t=>!!t.onSelectionChangeHandlers;function lM({onSelectionChange:t}){const e=We(oM);return t||e?$.jsx(sM,{onSelectionChange:t}):null}const fw=[0,0],uM={x:0,y:0,zoom:1},cM=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],qS=[...cM,"rfId"],fM=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),eA={translateExtent:Nl,nodeOrigin:fw,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function dM(t){const{setNodes:e,setEdges:i,setMinZoom:a,setMaxZoom:o,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:m}=We(fM,ht),h=ft();P.useEffect(()=>(m(t.defaultNodes,t.defaultEdges),()=>{p.current=eA,d()}),[]);const p=P.useRef(eA);return P.useEffect(()=>{for(const y of qS){const v=t[y],S=p.current[y];v!==S&&(typeof t[y]>"u"||(y==="nodes"?e(v):y==="edges"?i(v):y==="minZoom"?a(v):y==="maxZoom"?o(v):y==="translateExtent"?u(v):y==="nodeExtent"?c(v):y==="ariaLabelConfig"?h.setState({ariaLabelConfig:jO(v)}):y==="fitView"?h.setState({fitViewQueued:v}):y==="fitViewOptions"?h.setState({fitViewOptions:v}):h.setState({[y]:v})))}p.current=t},qS.map(y=>t[y])),null}function tA(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hM(t){const[e,i]=P.useState(t==="system"?null:t);return P.useEffect(()=>{if(t!=="system"){i(t);return}const a=tA(),o=()=>i(a?.matches?"dark":"light");return o(),a?.addEventListener("change",o),()=>{a?.removeEventListener("change",o)}},[t]),e!==null?e:tA()?.matches?"dark":"light"}const nA=typeof document<"u"?document:null;function Il(t=null,e={target:nA,actInsideInputWithModifier:!0}){const[i,a]=P.useState(!1),o=P.useRef(!1),u=P.useRef(new Set([])),[c,d]=P.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((y,v)=>y.concat(...v),[]);return[h,p]}return[[],[]]},[t]);return P.useEffect(()=>{const m=e?.target??nA,h=e?.actInsideInputWithModifier??!0;if(t!==null){const p=S=>{if(o.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!o.current||o.current&&!h)&&X1(S))return!1;const A=rA(S.code,d);if(u.current.add(S[A]),iA(c,u.current,!1)){const I=S.composedPath?.()?.[0]||S.target,x=I?.nodeName==="BUTTON"||I?.nodeName==="A";e.preventDefault!==!1&&(o.current||!x)&&S.preventDefault(),a(!0)}},y=S=>{const E=rA(S.code,d);iA(c,u.current,!0)?(a(!1),u.current.clear()):u.current.delete(S[E]),S.key==="Meta"&&u.current.clear(),o.current=!1},v=()=>{u.current.clear(),a(!1)};return m?.addEventListener("keydown",p),m?.addEventListener("keyup",y),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{m?.removeEventListener("keydown",p),m?.removeEventListener("keyup",y),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,a]),i}function iA(t,e,i){return t.filter(a=>i||a.length===e.size).some(a=>a.every(o=>e.has(o)))}function rA(t,e){return e.includes(t)?"code":"key"}const gM=()=>{const t=ft();return P.useMemo(()=>({zoomIn:e=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,i)=>{const{panZoom:a}=t.getState();return a?a.scaleTo(e,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,i)=>{const{transform:[a,o,u],panZoom:c}=t.getState();return c?(await c.setViewport({x:e.x??a,y:e.y??o,zoom:e.zoom??u},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,i,a]=t.getState().transform;return{x:e,y:i,zoom:a}},setCenter:async(e,i,a)=>t.getState().setCenter(e,i,a),fitBounds:async(e,i)=>{const{width:a,height:o,minZoom:u,maxZoom:c,panZoom:d}=t.getState(),m=Km(e,a,o,u,c,i?.padding??.1);return d?(await d.setViewport(m,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,i={})=>{const{transform:a,snapGrid:o,snapToGrid:u,domNode:c}=t.getState();if(!c)return e;const{x:d,y:m}=c.getBoundingClientRect(),h={x:e.x-d,y:e.y-m},p=i.snapGrid??o,y=i.snapToGrid??u;return kl(h,a,y,p)},flowToScreenPosition:e=>{const{transform:i,domNode:a}=t.getState();if(!a)return e;const{x:o,y:u}=a.getBoundingClientRect(),c=ef(e,i);return{x:c.x+o,y:c.y+u}}}),[])};function dw(t,e){const i=[],a=new Map,o=[];for(const u of t)if(u.type==="add"){o.push(u);continue}else if(u.type==="remove"||u.type==="replace")a.set(u.id,[u]);else{const c=a.get(u.id);c?c.push(u):a.set(u.id,[u])}for(const u of e){const c=a.get(u.id);if(!c){i.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){i.push({...c[0].item});continue}const d={...u};for(const m of c)mM(m,d);i.push(d)}return o.length&&o.forEach(u=>{u.index!==void 0?i.splice(u.index,0,{...u.item}):i.push({...u.item})}),i}function mM(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function pM(t,e){return dw(t,e)}function yM(t,e){return dw(t,e)}function da(t,e){return{id:t,type:"select",selected:e}}function xs(t,e=new Set,i=!1){const a=[];for(const[o,u]of t){const c=e.has(o);!(u.selected===void 0&&!c)&&u.selected!==c&&(i&&(u.selected=c),a.push(da(u.id,c)))}return a}function aA({items:t=[],lookup:e}){const i=[],a=new Map(t.map(o=>[o.id,o]));for(const[o,u]of t.entries()){const c=e.get(u.id),d=c?.internals?.userNode??c;d!==void 0&&d!==u&&i.push({id:u.id,item:u,type:"replace"}),d===void 0&&i.push({item:u,type:"add",index:o})}for(const[o]of e)a.get(o)===void 0&&i.push({id:o,type:"remove"});return i}function sA(t){return{id:t.id,type:"remove"}}const oA=t=>YO(t),vM=t=>L1(t);function hw(t){return P.forwardRef(t)}const bM=typeof window<"u"?P.useLayoutEffect:P.useEffect;function lA(t){const[e,i]=P.useState(BigInt(0)),[a]=P.useState(()=>SM(()=>i(o=>o+BigInt(1))));return bM(()=>{const o=a.get();o.length&&(t(o),a.reset())},[e]),a}function SM(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:i=>{e.push(i),t()}}}const gw=P.createContext(null);function AM({children:t}){const e=ft(),i=P.useCallback(d=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:p,onNodesChange:y,nodeLookup:v,fitViewQueued:S}=e.getState();let E=m;for(const I of d)E=typeof I=="function"?I(E):I;const A=aA({items:E,lookup:v});p&&h(E),A.length>0?y?.(A):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:I,nodes:x,setNodes:U}=e.getState();I&&U(x)})},[]),a=lA(i),o=P.useCallback(d=>{const{edges:m=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:y,edgeLookup:v}=e.getState();let S=m;for(const E of d)S=typeof E=="function"?E(S):E;p?h(S):y&&y(aA({items:S,lookup:v}))},[]),u=lA(o),c=P.useMemo(()=>({nodeQueue:a,edgeQueue:u}),[]);return $.jsx(gw.Provider,{value:c,children:t})}function EM(){const t=P.useContext(gw);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const wM=t=>!!t.panZoom;function Pm(){const t=gM(),e=ft(),i=EM(),a=We(wM),o=P.useMemo(()=>{const u=y=>e.getState().nodeLookup.get(y),c=y=>{i.nodeQueue.push(y)},d=y=>{i.edgeQueue.push(y)},m=y=>{const{nodeLookup:v,nodeOrigin:S}=e.getState(),E=oA(y)?y:v.get(y.id),A=E.parentId?k1(E.position,E.measured,E.parentId,v,S):E.position,I={...E,position:A,width:E.measured?.width??E.width,height:E.measured?.height??E.height};return Hs(I)},h=(y,v,S={replace:!1})=>{c(E=>E.map(A=>{if(A.id===y){const I=typeof v=="function"?v(A):v;return S.replace&&oA(I)?I:{...A,...I}}return A}))},p=(y,v,S={replace:!1})=>{d(E=>E.map(A=>{if(A.id===y){const I=typeof v=="function"?v(A):v;return S.replace&&vM(I)?I:{...A,...I}}return A}))};return{getNodes:()=>e.getState().nodes.map(y=>({...y})),getNode:y=>u(y)?.internals.userNode,getInternalNode:u,getEdges:()=>{const{edges:y=[]}=e.getState();return y.map(v=>({...v}))},getEdge:y=>e.getState().edgeLookup.get(y),setNodes:c,setEdges:d,addNodes:y=>{const v=Array.isArray(y)?y:[y];i.nodeQueue.push(S=>[...S,...v])},addEdges:y=>{const v=Array.isArray(y)?y:[y];i.edgeQueue.push(S=>[...S,...v])},toObject:()=>{const{nodes:y=[],edges:v=[],transform:S}=e.getState(),[E,A,I]=S;return{nodes:y.map(x=>({...x})),edges:v.map(x=>({...x})),viewport:{x:E,y:A,zoom:I}}},deleteElements:async({nodes:y=[],edges:v=[]})=>{const{nodes:S,edges:E,onNodesDelete:A,onEdgesDelete:I,triggerNodeChanges:x,triggerEdgeChanges:U,onDelete:N,onBeforeDelete:R}=e.getState(),{nodes:V,edges:B}=await XO({nodesToRemove:y,edgesToRemove:v,nodes:S,edges:E,onBeforeDelete:R}),M=B.length>0,X=V.length>0;if(M){const q=B.map(sA);I?.(B),U(q)}if(X){const q=V.map(sA);A?.(V),x(q)}return(X||M)&&N?.({nodes:V,edges:B}),{deletedNodes:V,deletedEdges:B}},getIntersectingNodes:(y,v=!0,S)=>{const E=VS(y),A=E?y:m(y),I=S!==void 0;return A?(S||e.getState().nodes).filter(x=>{const U=e.getState().nodeLookup.get(x.id);if(U&&!E&&(x.id===y.id||!U.internals.positionAbsolute))return!1;const N=Hs(I?x:U),R=Tl(N,A);return v&&R>0||R>=N.width*N.height||R>=A.width*A.height}):[]},isNodeIntersecting:(y,v,S=!0)=>{const A=VS(y)?y:m(y);if(!A)return!1;const I=Tl(A,v);return S&&I>0||I>=v.width*v.height||I>=A.width*A.height},updateNode:h,updateNodeData:(y,v,S={replace:!1})=>{h(y,E=>{const A=typeof v=="function"?v(E):v;return S.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},S)},updateEdge:p,updateEdgeData:(y,v,S={replace:!1})=>{p(y,E=>{const A=typeof v=="function"?v(E):v;return S.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},S)},getNodesBounds:y=>{const{nodeLookup:v,nodeOrigin:S}=e.getState();return ZO(y,{nodeLookup:v,nodeOrigin:S})},getHandleConnections:({type:y,id:v,nodeId:S})=>Array.from(e.getState().connectionLookup.get(`${S}-${y}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:v,nodeId:S})=>Array.from(e.getState().connectionLookup.get(`${S}${y?v?`-${y}-${v}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const v=e.getState().fitViewResolver??JO();return e.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:v}),i.nodeQueue.push(S=>[...S]),v.promise}}},[]);return P.useMemo(()=>({...o,...t,viewportInitialized:a}),[a])}const uA=t=>t.selected,NM=typeof window<"u"?window:void 0;function xM({deleteKeyCode:t,multiSelectionKeyCode:e}){const i=ft(),{deleteElements:a}=Pm(),o=Il(t,{actInsideInputWithModifier:!1}),u=Il(e,{target:NM});P.useEffect(()=>{if(o){const{edges:c,nodes:d}=i.getState();a({nodes:d.filter(uA),edges:c.filter(uA)}),i.setState({nodesSelectionActive:!1})}},[o]),P.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])}function TM(t){const e=ft();P.useEffect(()=>{const i=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const a=Hm(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",mi.error004()),e.setState({width:a.width||500,height:a.height||500})};if(t.current){i(),window.addEventListener("resize",i);const a=new ResizeObserver(()=>i());return a.observe(t.current),()=>{window.removeEventListener("resize",i),a&&t.current&&a.unobserve(t.current)}}},[])}const Nf={position:"absolute",width:"100%",height:"100%",top:0,left:0},CM=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function RM({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:u=ya.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:S=!0,children:E,noWheelClassName:A,noPanClassName:I,onViewportChange:x,isControlledViewport:U,paneClickDistance:N,selectionOnDrag:R}){const V=ft(),B=P.useRef(null),{userSelectionActive:M,lib:X,connectionInProgress:q}=We(CM,ht),de=Il(v),ne=P.useRef();TM(B);const te=P.useCallback(le=>{x?.({x:le[0],y:le[1],zoom:le[2]}),U||V.setState({transform:le})},[x,U]);return P.useEffect(()=>{if(B.current){ne.current=_V({domNode:B.current,minZoom:p,maxZoom:y,translateExtent:h,viewport:m,onDraggingChange:T=>V.setState({paneDragging:T}),onPanZoomStart:(T,O)=>{const{onViewportChangeStart:Y,onMoveStart:H}=V.getState();H?.(T,O),Y?.(O)},onPanZoom:(T,O)=>{const{onViewportChange:Y,onMove:H}=V.getState();H?.(T,O),Y?.(O)},onPanZoomEnd:(T,O)=>{const{onViewportChangeEnd:Y,onMoveEnd:H}=V.getState();H?.(T,O),Y?.(O)}});const{x:le,y:_,zoom:K}=ne.current.getViewport();return V.setState({panZoom:ne.current,transform:[le,_,K],domNode:B.current.closest(".react-flow")}),()=>{ne.current?.destroy()}}},[]),P.useEffect(()=>{ne.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:i,panOnScroll:a,panOnScrollSpeed:o,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:de,preventScrolling:S,noPanClassName:I,userSelectionActive:M,noWheelClassName:A,lib:X,onTransformChange:te,connectionInProgress:q,selectionOnDrag:R,paneClickDistance:N})},[t,e,i,a,o,u,c,d,de,S,I,M,A,X,te,q,R,N]),$.jsx("div",{className:"react-flow__renderer",ref:B,style:Nf,children:E})}const IM=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function DM(){const{userSelectionActive:t,userSelectionRect:e}=We(IM,ht);return t&&e?$.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const yg=(t,e)=>i=>{i.target===e.current&&t?.(i)},_M=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function OM({isSelecting:t,selectionKeyPressed:e,selectionMode:i=xl.Full,panOnDrag:a,paneClickDistance:o,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:d,onPaneClick:m,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:y,onPaneMouseMove:v,onPaneMouseLeave:S,children:E}){const A=ft(),{userSelectionActive:I,elementsSelectable:x,dragging:U,connectionInProgress:N}=We(_M,ht),R=x&&(t||I),V=P.useRef(null),B=P.useRef(),M=P.useRef(new Set),X=P.useRef(new Set),q=P.useRef(!1),de=Y=>{if(q.current||N){q.current=!1;return}m?.(Y),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},ne=Y=>{if(Array.isArray(a)&&a?.includes(2)){Y.preventDefault();return}h?.(Y)},te=p?Y=>p(Y):void 0,le=Y=>{q.current&&(Y.stopPropagation(),q.current=!1)},_=Y=>{const{domNode:H}=A.getState();if(B.current=H?.getBoundingClientRect(),!B.current)return;const re=Y.target===V.current;if(!re&&!!Y.target.closest(".nokey")||!t||!(u&&re||e)||Y.button!==0||!Y.isPrimary)return;Y.target?.setPointerCapture?.(Y.pointerId),q.current=!1;const{x:ee,y:ie}=$n(Y.nativeEvent,B.current);A.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:ie,x:ee,y:ie}}),re||(Y.stopPropagation(),Y.preventDefault())},K=Y=>{const{userSelectionRect:H,transform:re,nodeLookup:C,edgeLookup:L,connectionLookup:ee,triggerNodeChanges:ie,triggerEdgeChanges:fe,defaultEdgeOptions:ge,resetSelectedElements:he}=A.getState();if(!B.current||!H)return;const{x:ce,y:me}=$n(Y.nativeEvent,B.current),{startX:_e,startY:Ie}=H;if(!q.current){const qe=e?0:o;if(Math.hypot(ce-_e,me-Ie)<=qe)return;he(),c?.(Y)}q.current=!0;const Ne={startX:_e,startY:Ie,x:ce<_e?ce:_e,y:me<Ie?me:Ie,width:Math.abs(ce-_e),height:Math.abs(me-Ie)},Te=M.current,Ye=X.current;M.current=new Set(Xm(C,Ne,re,i===xl.Partial,!0).map(qe=>qe.id)),X.current=new Set;const Qe=ge?.selectable??!0;for(const qe of M.current){const Tt=ee.get(qe);if(Tt)for(const{edgeId:bn}of Tt.values()){const Bn=L.get(bn);Bn&&(Bn.selectable??Qe)&&X.current.add(bn)}}if(!MS(Te,M.current)){const qe=xs(C,M.current,!0);ie(qe)}if(!MS(Ye,X.current)){const qe=xs(L,X.current);fe(qe)}A.setState({userSelectionRect:Ne,userSelectionActive:!0,nodesSelectionActive:!1})},T=Y=>{Y.button===0&&(Y.target?.releasePointerCapture?.(Y.pointerId),!I&&Y.target===V.current&&A.getState().userSelectionRect&&de?.(Y),A.setState({userSelectionActive:!1,userSelectionRect:null}),q.current&&(d?.(Y),A.setState({nodesSelectionActive:M.current.size>0})))},O=a===!0||Array.isArray(a)&&a.includes(0);return $.jsxs("div",{className:xt(["react-flow__pane",{draggable:O,dragging:U,selection:t}]),onClick:R?void 0:yg(de,V),onContextMenu:yg(ne,V),onWheel:yg(te,V),onPointerEnter:R?void 0:y,onPointerMove:R?K:v,onPointerUp:R?T:void 0,onPointerDownCapture:R?_:void 0,onClickCapture:R?le:void 0,onPointerLeave:S,ref:V,style:Nf,children:[E,$.jsx(DM,{})]})}function Hg({id:t,store:e,unselect:i=!1,nodeRef:a}){const{addSelectedNodes:o,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:m}=e.getState(),h=d.get(t);if(!h){m?.("012",mi.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(i||h.selected&&c)&&(u({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):o([t])}function mw({nodeRef:t,disabled:e=!1,noDragClassName:i,handleSelector:a,nodeId:o,isSelectable:u,nodeClickDistance:c}){const d=ft(),[m,h]=P.useState(!1),p=P.useRef();return P.useEffect(()=>{p.current=yV({getStoreItems:()=>d.getState(),onNodeMouseDown:y=>{Hg({id:y,store:d,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),P.useEffect(()=>{if(e)p.current?.destroy();else if(t.current)return p.current?.update({noDragClassName:i,handleSelector:a,domNode:t.current,isSelectable:u,nodeId:o,nodeClickDistance:c}),()=>{p.current?.destroy()}},[i,a,e,u,t,o]),m}const VM=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function pw(){const t=ft();return P.useCallback(i=>{const{nodeExtent:a,snapToGrid:o,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:m,nodeLookup:h,nodeOrigin:p}=t.getState(),y=new Map,v=VM(c),S=o?u[0]:5,E=o?u[1]:5,A=i.direction.x*S*i.factor,I=i.direction.y*E*i.factor;for(const[,x]of h){if(!v(x))continue;let U={x:x.internals.positionAbsolute.x+A,y:x.internals.positionAbsolute.y+I};o&&(U=Gl(U,u));const{position:N,positionAbsolute:R}=z1({nodeId:x.id,nextPosition:U,nodeLookup:h,nodeExtent:a,nodeOrigin:p,onError:d});x.position=N,x.internals.positionAbsolute=R,y.set(x.id,x)}m(y)},[])}const Qm=P.createContext(null),MM=Qm.Provider;Qm.Consumer;const yw=()=>P.useContext(Qm),BM=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),LM=(t,e,i)=>a=>{const{connectionClickStartHandle:o,connectionMode:u,connection:c}=a,{fromHandle:d,toHandle:m,isValid:h}=c,p=m?.nodeId===t&&m?.id===e&&m?.type===i;return{connectingFrom:d?.nodeId===t&&d?.id===e&&d?.type===i,connectingTo:p,clickConnecting:o?.nodeId===t&&o?.id===e&&o?.type===i,isPossibleEndHandle:u===Xs.Strict?d?.type!==i:t!==d?.nodeId||e!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!o,valid:p&&h}};function zM({type:t="source",position:e=we.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:o=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:m,className:h,onMouseDown:p,onTouchStart:y,...v},S){const E=c||null,A=t==="target",I=ft(),x=yw(),{connectOnClick:U,noPanClassName:N,rfId:R}=We(BM,ht),{connectingFrom:V,connectingTo:B,clickConnecting:M,isPossibleEndHandle:X,connectionInProcess:q,clickConnectionInProcess:de,valid:ne}=We(LM(x,E,t),ht);x||I.getState().onError?.("010",mi.error010());const te=K=>{const{defaultEdgeOptions:T,onConnect:O,hasDefaultEdges:Y}=I.getState(),H={...T,...K};if(Y){const{edges:re,setEdges:C}=I.getState();C(tV(H,re))}O?.(H),d?.(H)},le=K=>{if(!x)return;const T=K1(K.nativeEvent);if(o&&(T&&K.button===0||!T)){const O=I.getState();Kg.onPointerDown(K.nativeEvent,{handleDomNode:K.currentTarget,autoPanOnConnect:O.autoPanOnConnect,connectionMode:O.connectionMode,connectionRadius:O.connectionRadius,domNode:O.domNode,nodeLookup:O.nodeLookup,lib:O.lib,isTarget:A,handleId:E,nodeId:x,flowId:O.rfId,panBy:O.panBy,cancelConnection:O.cancelConnection,onConnectStart:O.onConnectStart,onConnectEnd:O.onConnectEnd,updateConnection:O.updateConnection,onConnect:te,isValidConnection:i||O.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:O.autoPanSpeed,dragThreshold:O.connectionDragThreshold})}T?p?.(K):y?.(K)},_=K=>{const{onClickConnectStart:T,onClickConnectEnd:O,connectionClickStartHandle:Y,connectionMode:H,isValidConnection:re,lib:C,rfId:L,nodeLookup:ee,connection:ie}=I.getState();if(!x||!Y&&!o)return;if(!Y){T?.(K.nativeEvent,{nodeId:x,handleId:E,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:x,type:t,id:E}});return}const fe=W1(K.target),ge=i||re,{connection:he,isValid:ce}=Kg.isValid(K.nativeEvent,{handle:{nodeId:x,id:E,type:t},connectionMode:H,fromNodeId:Y.nodeId,fromHandleId:Y.id||null,fromType:Y.type,isValidConnection:ge,flowId:L,doc:fe,lib:C,nodeLookup:ee});ce&&he&&te(he);const me=structuredClone(ie);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,O?.(K,me),I.setState({connectionClickStartHandle:null})};return $.jsx("div",{"data-handleid":E,"data-nodeid":x,"data-handlepos":e,"data-id":`${R}-${x}-${E}-${t}`,className:xt(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",N,h,{source:!A,target:A,connectable:a,connectablestart:o,connectableend:u,clickconnecting:M,connectingfrom:V,connectingto:B,valid:ne,connectionindicator:a&&(!q||X)&&(q||de?u:o)}]),onMouseDown:le,onTouchStart:le,onClick:U?_:void 0,ref:S,...v,children:m})}const tf=P.memo(hw(zM));function UM({data:t,isConnectable:e,sourcePosition:i=we.Bottom}){return $.jsxs($.Fragment,{children:[t?.label,$.jsx(tf,{type:"source",position:i,isConnectable:e})]})}function YM({data:t,isConnectable:e,targetPosition:i=we.Top,sourcePosition:a=we.Bottom}){return $.jsxs($.Fragment,{children:[$.jsx(tf,{type:"target",position:i,isConnectable:e}),t?.label,$.jsx(tf,{type:"source",position:a,isConnectable:e})]})}function ZM(){return null}function GM({data:t,isConnectable:e,targetPosition:i=we.Top}){return $.jsxs($.Fragment,{children:[$.jsx(tf,{type:"target",position:i,isConnectable:e}),t?.label]})}const nf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cA={input:UM,default:YM,output:GM,group:ZM};function kM(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const WM=t=>{const{width:e,height:i,x:a,y:o}=Zl(t.nodeLookup,{filter:u=>!!u.selected});return{width:jn(e)?e:null,height:jn(i)?i:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${a}px,${o}px)`}};function XM({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:i}){const a=ft(),{width:o,height:u,transformString:c,userSelectionActive:d}=We(WM,ht),m=pw(),h=P.useRef(null);if(P.useEffect(()=>{i||h.current?.focus({preventScroll:!0})},[i]),mw({nodeRef:h}),d||!o||!u)return null;const p=t?v=>{const S=a.getState().nodes.filter(E=>E.selected);t(v,S)}:void 0,y=v=>{Object.prototype.hasOwnProperty.call(nf,v.key)&&(v.preventDefault(),m({direction:nf[v.key],factor:v.shiftKey?4:1}))};return $.jsx("div",{className:xt(["react-flow__nodesselection","react-flow__container",e]),style:{transform:c},children:$.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:i?void 0:-1,onKeyDown:i?void 0:y,style:{width:o,height:u}})})}const fA=typeof window<"u"?window:void 0,KM=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function vw({children:t,onPaneClick:e,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:p,selectionMode:y,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:I,elementsSelectable:x,zoomOnScroll:U,zoomOnPinch:N,panOnScroll:R,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:M,panOnDrag:X,defaultViewport:q,translateExtent:de,minZoom:ne,maxZoom:te,preventScrolling:le,onSelectionContextMenu:_,noWheelClassName:K,noPanClassName:T,disableKeyboardA11y:O,onViewportChange:Y,isControlledViewport:H}){const{nodesSelectionActive:re,userSelectionActive:C}=We(KM),L=Il(h,{target:fA}),ee=Il(A,{target:fA}),ie=ee||X,fe=ee||R,ge=p&&ie!==!0,he=L||C||ge;return xM({deleteKeyCode:m,multiSelectionKeyCode:E}),$.jsx(RM,{onPaneContextMenu:u,elementsSelectable:x,zoomOnScroll:U,zoomOnPinch:N,panOnScroll:fe,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:M,panOnDrag:!L&&ie,defaultViewport:q,translateExtent:de,minZoom:ne,maxZoom:te,zoomActivationKeyCode:I,preventScrolling:le,noWheelClassName:K,noPanClassName:T,onViewportChange:Y,isControlledViewport:H,paneClickDistance:d,selectionOnDrag:ge,children:$.jsxs(OM,{onSelectionStart:v,onSelectionEnd:S,onPaneClick:e,onPaneMouseEnter:i,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:ie,isSelecting:!!he,selectionMode:y,selectionKeyPressed:L,paneClickDistance:d,selectionOnDrag:ge,children:[t,re&&$.jsx(XM,{onSelectionContextMenu:_,noPanClassName:T,disableKeyboardA11y:O})]})})}vw.displayName="FlowRenderer";const HM=P.memo(vw),FM=t=>e=>t?Xm(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(i=>i.id):Array.from(e.nodeLookup.keys());function JM(t){return We(P.useCallback(FM(t),[t]),ht)}const jM=t=>t.updateNodeInternals;function $M(){const t=We(jM),[e]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const a=new Map;i.forEach(o=>{const u=o.target.getAttribute("data-id");a.set(u,{id:u,nodeElement:o.target,force:!0})}),t(a)}));return P.useEffect(()=>()=>{e?.disconnect()},[e]),e}function PM({node:t,nodeType:e,hasDimensions:i,resizeObserver:a}){const o=ft(),u=P.useRef(null),c=P.useRef(null),d=P.useRef(t.sourcePosition),m=P.useRef(t.targetPosition),h=P.useRef(e),p=i&&!!t.internals.handleBounds;return P.useEffect(()=>{u.current&&!t.hidden&&(!p||c.current!==u.current)&&(c.current&&a?.unobserve(c.current),a?.observe(u.current),c.current=u.current)},[p,t.hidden]),P.useEffect(()=>()=>{c.current&&(a?.unobserve(c.current),c.current=null)},[]),P.useEffect(()=>{if(u.current){const y=h.current!==e,v=d.current!==t.sourcePosition,S=m.current!==t.targetPosition;(y||v||S)&&(h.current=e,d.current=t.sourcePosition,m.current=t.targetPosition,o.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:u.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),u}function QM({id:t,onClick:e,onMouseEnter:i,onMouseMove:a,onMouseLeave:o,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:m,nodesConnectable:h,nodesFocusable:p,resizeObserver:y,noDragClassName:v,noPanClassName:S,disableKeyboardA11y:E,rfId:A,nodeTypes:I,nodeClickDistance:x,onError:U}){const{node:N,internals:R,isParent:V}=We(ce=>{const me=ce.nodeLookup.get(t),_e=ce.parentLookup.has(t);return{node:me,internals:me.internals,isParent:_e}},ht);let B=N.type||"default",M=I?.[B]||cA[B];M===void 0&&(U?.("003",mi.error003(B)),B="default",M=I?.default||cA.default);const X=!!(N.draggable||d&&typeof N.draggable>"u"),q=!!(N.selectable||m&&typeof N.selectable>"u"),de=!!(N.connectable||h&&typeof N.connectable>"u"),ne=!!(N.focusable||p&&typeof N.focusable>"u"),te=ft(),le=G1(N),_=PM({node:N,nodeType:B,hasDimensions:le,resizeObserver:y}),K=mw({nodeRef:_,disabled:N.hidden||!X,noDragClassName:v,handleSelector:N.dragHandle,nodeId:t,isSelectable:q,nodeClickDistance:x}),T=pw();if(N.hidden)return null;const O=ji(N),Y=kM(N),H=q||X||e||i||a||o,re=i?ce=>i(ce,{...R.userNode}):void 0,C=a?ce=>a(ce,{...R.userNode}):void 0,L=o?ce=>o(ce,{...R.userNode}):void 0,ee=u?ce=>u(ce,{...R.userNode}):void 0,ie=c?ce=>c(ce,{...R.userNode}):void 0,fe=ce=>{const{selectNodesOnDrag:me,nodeDragThreshold:_e}=te.getState();q&&(!me||!X||_e>0)&&Hg({id:t,store:te,nodeRef:_}),e&&e(ce,{...R.userNode})},ge=ce=>{if(!(X1(ce.nativeEvent)||E)){if(O1.includes(ce.key)&&q){const me=ce.key==="Escape";Hg({id:t,store:te,unselect:me,nodeRef:_})}else if(X&&N.selected&&Object.prototype.hasOwnProperty.call(nf,ce.key)){ce.preventDefault();const{ariaLabelConfig:me}=te.getState();te.setState({ariaLiveMessage:me["node.a11yDescription.ariaLiveMessage"]({direction:ce.key.replace("Arrow","").toLowerCase(),x:~~R.positionAbsolute.x,y:~~R.positionAbsolute.y})}),T({direction:nf[ce.key],factor:ce.shiftKey?4:1})}}},he=()=>{if(E||!_.current?.matches(":focus-visible"))return;const{transform:ce,width:me,height:_e,autoPanOnNodeFocus:Ie,setCenter:Ne}=te.getState();if(!Ie)return;Xm(new Map([[t,N]]),{x:0,y:0,width:me,height:_e},ce,!0).length>0||Ne(N.position.x+O.width/2,N.position.y+O.height/2,{zoom:ce[2]})};return $.jsx("div",{className:xt(["react-flow__node",`react-flow__node-${B}`,{[S]:X},N.className,{selected:N.selected,selectable:q,parent:V,draggable:X,dragging:K}]),ref:_,style:{zIndex:R.z,transform:`translate(${R.positionAbsolute.x}px,${R.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:le?"visible":"hidden",...N.style,...Y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:re,onMouseMove:C,onMouseLeave:L,onContextMenu:ee,onClick:fe,onDoubleClick:ie,onKeyDown:ne?ge:void 0,tabIndex:ne?0:void 0,onFocus:ne?he:void 0,role:N.ariaRole??(ne?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${uw}-${A}`,"aria-label":N.ariaLabel,...N.domAttributes,children:$.jsx(MM,{value:t,children:$.jsx(M,{id:t,data:N.data,type:B,positionAbsoluteX:R.positionAbsolute.x,positionAbsoluteY:R.positionAbsolute.y,selected:N.selected??!1,selectable:q,draggable:X,deletable:N.deletable??!0,isConnectable:de,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:K,dragHandle:N.dragHandle,zIndex:R.z,parentId:N.parentId,...O})})})}var qM=P.memo(QM);const e5=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function bw(t){const{nodesDraggable:e,nodesConnectable:i,nodesFocusable:a,elementsSelectable:o,onError:u}=We(e5,ht),c=JM(t.onlyRenderVisibleElements),d=$M();return $.jsx("div",{className:"react-flow__nodes",style:Nf,children:c.map(m=>$.jsx(qM,{id:m,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:d,nodesDraggable:e,nodesConnectable:i,nodesFocusable:a,elementsSelectable:o,nodeClickDistance:t.nodeClickDistance,onError:u},m))})}bw.displayName="NodeRenderer";const t5=P.memo(bw);function n5(t){return We(P.useCallback(i=>{if(!t)return i.edges.map(o=>o.id);const a=[];if(i.width&&i.height)for(const o of i.edges){const u=i.nodeLookup.get(o.source),c=i.nodeLookup.get(o.target);u&&c&&QO({sourceNode:u,targetNode:c,width:i.width,height:i.height,transform:i.transform})&&a.push(o.id)}return a},[t]),ht)}const i5=({color:t="none",strokeWidth:e=1})=>{const i={strokeWidth:e,...t&&{stroke:t}};return $.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},r5=({color:t="none",strokeWidth:e=1})=>{const i={strokeWidth:e,...t&&{stroke:t,fill:t}};return $.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},dA={[Qc.Arrow]:i5,[Qc.ArrowClosed]:r5};function a5(t){const e=ft();return P.useMemo(()=>Object.prototype.hasOwnProperty.call(dA,t)?dA[t]:(e.getState().onError?.("009",mi.error009(t)),null),[t])}const s5=({id:t,type:e,color:i,width:a=12.5,height:o=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const m=a5(e);return m?$.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${a}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:$.jsx(m,{color:i,strokeWidth:c})}):null},Sw=({defaultColor:t,rfId:e})=>{const i=We(u=>u.edges),a=We(u=>u.defaultEdgeOptions),o=P.useMemo(()=>sV(i,{id:e,defaultColor:t,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[i,a,e,t]);return o.length?$.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:$.jsx("defs",{children:o.map(u=>$.jsx(s5,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};Sw.displayName="MarkerDefinitions";var o5=P.memo(Sw);function Aw({x:t,y:e,label:i,labelStyle:a,labelShowBg:o=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:m,className:h,...p}){const[y,v]=P.useState({x:1,y:0,width:0,height:0}),S=xt(["react-flow__edge-textwrapper",h]),E=P.useRef(null);return P.useEffect(()=>{if(E.current){const A=E.current.getBBox();v({x:A.x,y:A.y,width:A.width,height:A.height})}},[i]),i?$.jsxs("g",{transform:`translate(${t-y.width/2} ${e-y.height/2})`,className:S,visibility:y.width?"visible":"hidden",...p,children:[o&&$.jsx("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),$.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:E,style:a,children:i}),m]}):null}Aw.displayName="EdgeText";const l5=P.memo(Aw);function xf({path:t,labelX:e,labelY:i,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:m,interactionWidth:h=20,...p}){return $.jsxs($.Fragment,{children:[$.jsx("path",{...p,d:t,fill:"none",className:xt(["react-flow__edge-path",p.className])}),h?$.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&jn(e)&&jn(i)?$.jsx(l5,{x:e,y:i,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:m}):null]})}function hA({pos:t,x1:e,y1:i,x2:a,y2:o}){return t===we.Left||t===we.Right?[.5*(e+a),i]:[e,.5*(i+o)]}function Ew({sourceX:t,sourceY:e,sourcePosition:i=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top}){const[c,d]=hA({pos:i,x1:t,y1:e,x2:a,y2:o}),[m,h]=hA({pos:u,x1:a,y1:o,x2:t,y2:e}),[p,y,v,S]=H1({sourceX:t,sourceY:e,targetX:a,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:m,targetControlY:h});return[`M${t},${e} C${c},${d} ${m},${h} ${a},${o}`,p,y,v,S]}function ww(t){return P.memo(({id:e,sourceX:i,sourceY:a,targetX:o,targetY:u,sourcePosition:c,targetPosition:d,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:I,interactionWidth:x})=>{const[U,N,R]=Ew({sourceX:i,sourceY:a,sourcePosition:c,targetX:o,targetY:u,targetPosition:d}),V=t.isInternal?void 0:e;return $.jsx(xf,{id:V,path:U,labelX:N,labelY:R,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:I,interactionWidth:x})})}const u5=ww({isInternal:!1}),Nw=ww({isInternal:!0});u5.displayName="SimpleBezierEdge";Nw.displayName="SimpleBezierEdgeInternal";function xw(t){return P.memo(({id:e,sourceX:i,sourceY:a,targetX:o,targetY:u,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,sourcePosition:S=we.Bottom,targetPosition:E=we.Top,markerEnd:A,markerStart:I,pathOptions:x,interactionWidth:U})=>{const[N,R,V]=kg({sourceX:i,sourceY:a,sourcePosition:S,targetX:o,targetY:u,targetPosition:E,borderRadius:x?.borderRadius,offset:x?.offset,stepPosition:x?.stepPosition}),B=t.isInternal?void 0:e;return $.jsx(xf,{id:B,path:N,labelX:R,labelY:V,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:A,markerStart:I,interactionWidth:U})})}const Tw=xw({isInternal:!1}),Cw=xw({isInternal:!0});Tw.displayName="SmoothStepEdge";Cw.displayName="SmoothStepEdgeInternal";function Rw(t){return P.memo(({id:e,...i})=>{const a=t.isInternal?void 0:e;return $.jsx(Tw,{...i,id:a,pathOptions:P.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const c5=Rw({isInternal:!1}),Iw=Rw({isInternal:!0});c5.displayName="StepEdge";Iw.displayName="StepEdgeInternal";function Dw(t){return P.memo(({id:e,sourceX:i,sourceY:a,targetX:o,targetY:u,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:A})=>{const[I,x,U]=j1({sourceX:i,sourceY:a,targetX:o,targetY:u}),N=t.isInternal?void 0:e;return $.jsx(xf,{id:N,path:I,labelX:x,labelY:U,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:A})})}const f5=Dw({isInternal:!1}),_w=Dw({isInternal:!0});f5.displayName="StraightEdge";_w.displayName="StraightEdgeInternal";function Ow(t){return P.memo(({id:e,sourceX:i,sourceY:a,targetX:o,targetY:u,sourcePosition:c=we.Bottom,targetPosition:d=we.Top,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:I,pathOptions:x,interactionWidth:U})=>{const[N,R,V]=F1({sourceX:i,sourceY:a,sourcePosition:c,targetX:o,targetY:u,targetPosition:d,curvature:x?.curvature}),B=t.isInternal?void 0:e;return $.jsx(xf,{id:B,path:N,labelX:R,labelY:V,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:I,interactionWidth:U})})}const d5=Ow({isInternal:!1}),Vw=Ow({isInternal:!0});d5.displayName="BezierEdge";Vw.displayName="BezierEdgeInternal";const gA={default:Vw,straight:_w,step:Iw,smoothstep:Cw,simplebezier:Nw},mA={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},h5=(t,e,i)=>i===we.Left?t-e:i===we.Right?t+e:t,g5=(t,e,i)=>i===we.Top?t-e:i===we.Bottom?t+e:t,pA="react-flow__edgeupdater";function yA({position:t,centerX:e,centerY:i,radius:a=10,onMouseDown:o,onMouseEnter:u,onMouseOut:c,type:d}){return $.jsx("circle",{onMouseDown:o,onMouseEnter:u,onMouseOut:c,className:xt([pA,`${pA}-${d}`]),cx:h5(e,a,t),cy:g5(i,a,t),r:a,stroke:"transparent",fill:"transparent"})}function m5({isReconnectable:t,reconnectRadius:e,edge:i,sourceX:a,sourceY:o,targetX:u,targetY:c,sourcePosition:d,targetPosition:m,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,setReconnecting:v,setUpdateHover:S}){const E=ft(),A=(R,V)=>{if(R.button!==0)return;const{autoPanOnConnect:B,domNode:M,isValidConnection:X,connectionMode:q,connectionRadius:de,lib:ne,onConnectStart:te,onConnectEnd:le,cancelConnection:_,nodeLookup:K,rfId:T,panBy:O,updateConnection:Y}=E.getState(),H=V.type==="target",re=(ee,ie)=>{v(!1),y?.(ee,i,V.type,ie)},C=ee=>h?.(i,ee),L=(ee,ie)=>{v(!0),p?.(R,i,V.type),te?.(ee,ie)};Kg.onPointerDown(R.nativeEvent,{autoPanOnConnect:B,connectionMode:q,connectionRadius:de,domNode:M,handleId:V.id,nodeId:V.nodeId,nodeLookup:K,isTarget:H,edgeUpdaterType:V.type,lib:ne,flowId:T,cancelConnection:_,panBy:O,isValidConnection:X,onConnect:C,onConnectStart:L,onConnectEnd:le,onReconnectEnd:re,updateConnection:Y,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:R.currentTarget})},I=R=>A(R,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),x=R=>A(R,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),U=()=>S(!0),N=()=>S(!1);return $.jsxs($.Fragment,{children:[(t===!0||t==="source")&&$.jsx(yA,{position:d,centerX:a,centerY:o,radius:e,onMouseDown:I,onMouseEnter:U,onMouseOut:N,type:"source"}),(t===!0||t==="target")&&$.jsx(yA,{position:m,centerX:u,centerY:c,radius:e,onMouseDown:x,onMouseEnter:U,onMouseOut:N,type:"target"})]})}function p5({id:t,edgesFocusable:e,edgesReconnectable:i,elementsSelectable:a,onClick:o,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,reconnectRadius:p,onReconnect:y,onReconnectStart:v,onReconnectEnd:S,rfId:E,edgeTypes:A,noPanClassName:I,onError:x,disableKeyboardA11y:U}){let N=We(Ne=>Ne.edgeLookup.get(t));const R=We(Ne=>Ne.defaultEdgeOptions);N=R?{...R,...N}:N;let V=N.type||"default",B=A?.[V]||gA[V];B===void 0&&(x?.("011",mi.error011(V)),V="default",B=A?.default||gA.default);const M=!!(N.focusable||e&&typeof N.focusable>"u"),X=typeof y<"u"&&(N.reconnectable||i&&typeof N.reconnectable>"u"),q=!!(N.selectable||a&&typeof N.selectable>"u"),de=P.useRef(null),[ne,te]=P.useState(!1),[le,_]=P.useState(!1),K=ft(),{zIndex:T,sourceX:O,sourceY:Y,targetX:H,targetY:re,sourcePosition:C,targetPosition:L}=We(P.useCallback(Ne=>{const Te=Ne.nodeLookup.get(N.source),Ye=Ne.nodeLookup.get(N.target);if(!Te||!Ye)return{zIndex:N.zIndex,...mA};const Qe=aV({id:t,sourceNode:Te,targetNode:Ye,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:Ne.connectionMode,onError:x});return{zIndex:PO({selected:N.selected,zIndex:N.zIndex,sourceNode:Te,targetNode:Ye,elevateOnSelect:Ne.elevateEdgesOnSelect}),...Qe||mA}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),ht),ee=P.useMemo(()=>N.markerStart?`url('#${Wg(N.markerStart,E)}')`:void 0,[N.markerStart,E]),ie=P.useMemo(()=>N.markerEnd?`url('#${Wg(N.markerEnd,E)}')`:void 0,[N.markerEnd,E]);if(N.hidden||O===null||Y===null||H===null||re===null)return null;const fe=Ne=>{const{addSelectedEdges:Te,unselectNodesAndEdges:Ye,multiSelectionActive:Qe}=K.getState();q&&(K.setState({nodesSelectionActive:!1}),N.selected&&Qe?(Ye({nodes:[],edges:[N]}),de.current?.blur()):Te([t])),o&&o(Ne,N)},ge=u?Ne=>{u(Ne,{...N})}:void 0,he=c?Ne=>{c(Ne,{...N})}:void 0,ce=d?Ne=>{d(Ne,{...N})}:void 0,me=m?Ne=>{m(Ne,{...N})}:void 0,_e=h?Ne=>{h(Ne,{...N})}:void 0,Ie=Ne=>{if(!U&&O1.includes(Ne.key)&&q){const{unselectNodesAndEdges:Te,addSelectedEdges:Ye}=K.getState();Ne.key==="Escape"?(de.current?.blur(),Te({edges:[N]})):Ye([t])}};return $.jsx("svg",{style:{zIndex:T},children:$.jsxs("g",{className:xt(["react-flow__edge",`react-flow__edge-${V}`,N.className,I,{selected:N.selected,animated:N.animated,inactive:!q&&!o,updating:ne,selectable:q}]),onClick:fe,onDoubleClick:ge,onContextMenu:he,onMouseEnter:ce,onMouseMove:me,onMouseLeave:_e,onKeyDown:M?Ie:void 0,tabIndex:M?0:void 0,role:N.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":M?`${cw}-${E}`:void 0,ref:de,...N.domAttributes,children:[!le&&$.jsx(B,{id:t,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:q,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:O,sourceY:Y,targetX:H,targetY:re,sourcePosition:C,targetPosition:L,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:ee,markerEnd:ie,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),X&&$.jsx(m5,{edge:N,isReconnectable:X,reconnectRadius:p,onReconnect:y,onReconnectStart:v,onReconnectEnd:S,sourceX:O,sourceY:Y,targetX:H,targetY:re,sourcePosition:C,targetPosition:L,setUpdateHover:te,setReconnecting:_})]})})}var y5=P.memo(p5);const v5=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Mw({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:i,edgeTypes:a,noPanClassName:o,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:y,onEdgeDoubleClick:v,onReconnectStart:S,onReconnectEnd:E,disableKeyboardA11y:A}){const{edgesFocusable:I,edgesReconnectable:x,elementsSelectable:U,onError:N}=We(v5,ht),R=n5(e);return $.jsxs("div",{className:"react-flow__edges",children:[$.jsx(o5,{defaultColor:t,rfId:i}),R.map(V=>$.jsx(y5,{id:V,edgesFocusable:I,edgesReconnectable:x,elementsSelectable:U,noPanClassName:o,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,onClick:p,reconnectRadius:y,onDoubleClick:v,onReconnectStart:S,onReconnectEnd:E,rfId:i,onError:N,edgeTypes:a,disableKeyboardA11y:A},V))]})}Mw.displayName="EdgeRenderer";const b5=P.memo(Mw),S5=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function A5({children:t}){const e=We(S5);return $.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function E5(t){const e=Pm(),i=P.useRef(!1);P.useEffect(()=>{!i.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),i.current=!0)},[t,e.viewportInitialized])}const w5=t=>t.panZoom?.syncViewport;function N5(t){const e=We(w5),i=ft();return P.useEffect(()=>{t&&(e?.(t),i.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function x5(t){return t.connection.inProgress?{...t.connection,to:kl(t.connection.to,t.transform)}:{...t.connection}}function T5(t){return x5}function C5(t){const e=T5();return We(e,ht)}const R5=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function I5({containerStyle:t,style:e,type:i,component:a}){const{nodesConnectable:o,width:u,height:c,isValid:d,inProgress:m}=We(R5,ht);return!(u&&o&&m)?null:$.jsx("svg",{style:t,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:$.jsx("g",{className:xt(["react-flow__connection",B1(d)]),children:$.jsx(Bw,{style:e,type:i,CustomComponent:a,isValid:d})})})}const Bw=({style:t,type:e=Or.Bezier,CustomComponent:i,isValid:a})=>{const{inProgress:o,from:u,fromNode:c,fromHandle:d,fromPosition:m,to:h,toNode:p,toHandle:y,toPosition:v,pointer:S}=C5();if(!o)return;if(i)return $.jsx(i,{connectionLineType:e,connectionLineStyle:t,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:v,connectionStatus:B1(a),toNode:p,toHandle:y,pointer:S});let E="";const A={sourceX:u.x,sourceY:u.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:v};switch(e){case Or.Bezier:[E]=F1(A);break;case Or.SimpleBezier:[E]=Ew(A);break;case Or.Step:[E]=kg({...A,borderRadius:0});break;case Or.SmoothStep:[E]=kg(A);break;default:[E]=j1(A)}return $.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};Bw.displayName="ConnectionLine";const D5={};function vA(t=D5){P.useRef(t),ft(),P.useEffect(()=>{},[t])}function _5(){ft(),P.useRef(!1),P.useEffect(()=>{},[])}function Lw({nodeTypes:t,edgeTypes:e,onInit:i,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:S,connectionLineType:E,connectionLineStyle:A,connectionLineComponent:I,connectionLineContainerStyle:x,selectionKeyCode:U,selectionOnDrag:N,selectionMode:R,multiSelectionKeyCode:V,panActivationKeyCode:B,zoomActivationKeyCode:M,deleteKeyCode:X,onlyRenderVisibleElements:q,elementsSelectable:de,defaultViewport:ne,translateExtent:te,minZoom:le,maxZoom:_,preventScrolling:K,defaultMarkerColor:T,zoomOnScroll:O,zoomOnPinch:Y,panOnScroll:H,panOnScrollSpeed:re,panOnScrollMode:C,zoomOnDoubleClick:L,panOnDrag:ee,onPaneClick:ie,onPaneMouseEnter:fe,onPaneMouseMove:ge,onPaneMouseLeave:he,onPaneScroll:ce,onPaneContextMenu:me,paneClickDistance:_e,nodeClickDistance:Ie,onEdgeContextMenu:Ne,onEdgeMouseEnter:Te,onEdgeMouseMove:Ye,onEdgeMouseLeave:Qe,reconnectRadius:qe,onReconnect:Tt,onReconnectStart:bn,onReconnectEnd:Bn,noDragClassName:$i,noWheelClassName:Pi,noPanClassName:Zr,disableKeyboardA11y:Gr,nodeExtent:Ot,rfId:Na,viewport:yi,onViewportChange:Qi}){return vA(t),vA(e),_5(),E5(i),N5(yi),$.jsx(HM,{onPaneClick:ie,onPaneMouseEnter:fe,onPaneMouseMove:ge,onPaneMouseLeave:he,onPaneContextMenu:me,onPaneScroll:ce,paneClickDistance:_e,deleteKeyCode:X,selectionKeyCode:U,selectionOnDrag:N,selectionMode:R,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:V,panActivationKeyCode:B,zoomActivationKeyCode:M,elementsSelectable:de,zoomOnScroll:O,zoomOnPinch:Y,zoomOnDoubleClick:L,panOnScroll:H,panOnScrollSpeed:re,panOnScrollMode:C,panOnDrag:ee,defaultViewport:ne,translateExtent:te,minZoom:le,maxZoom:_,onSelectionContextMenu:y,preventScrolling:K,noDragClassName:$i,noWheelClassName:Pi,noPanClassName:Zr,disableKeyboardA11y:Gr,onViewportChange:Qi,isControlledViewport:!!yi,children:$.jsxs(A5,{children:[$.jsx(b5,{edgeTypes:e,onEdgeClick:o,onEdgeDoubleClick:c,onReconnect:Tt,onReconnectStart:bn,onReconnectEnd:Bn,onlyRenderVisibleElements:q,onEdgeContextMenu:Ne,onEdgeMouseEnter:Te,onEdgeMouseMove:Ye,onEdgeMouseLeave:Qe,reconnectRadius:qe,defaultMarkerColor:T,noPanClassName:Zr,disableKeyboardA11y:Gr,rfId:Na}),$.jsx(I5,{style:A,type:E,component:I,containerStyle:x}),$.jsx("div",{className:"react-flow__edgelabel-renderer"}),$.jsx(t5,{nodeTypes:t,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:Ie,onlyRenderVisibleElements:q,noPanClassName:Zr,noDragClassName:$i,disableKeyboardA11y:Gr,nodeExtent:Ot,rfId:Na}),$.jsx("div",{className:"react-flow__viewport-portal"})]})})}Lw.displayName="GraphView";const O5=P.memo(Lw),bA=({nodes:t,edges:e,defaultNodes:i,defaultEdges:a,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:y}={})=>{const v=new Map,S=new Map,E=new Map,A=new Map,I=a??e??[],x=i??t??[],U=p??[0,0],N=y??Nl;Q1(E,A,I);const R=Xg(x,v,S,{nodeOrigin:U,nodeExtent:N,elevateNodesOnSelect:!1});let V=[0,0,1];if(c&&o&&u){const B=Zl(v,{filter:de=>!!((de.width||de.initialWidth)&&(de.height||de.initialHeight))}),{x:M,y:X,zoom:q}=Km(B,o,u,m,h,d?.padding??.1);V=[M,X,q]}return{rfId:"1",width:o??0,height:u??0,transform:V,nodes:x,nodesInitialized:R,nodeLookup:v,parentLookup:S,edges:I,edgeLookup:A,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:Nl,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Xs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:U,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...M1},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:KO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:V1}},V5=({nodes:t,edges:e,defaultNodes:i,defaultEdges:a,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:y})=>jV((v,S)=>{async function E(){const{nodeLookup:A,panZoom:I,fitViewOptions:x,fitViewResolver:U,width:N,height:R,minZoom:V,maxZoom:B}=S();I&&(await WO({nodes:A,width:N,height:R,panZoom:I,minZoom:V,maxZoom:B},x),U?.resolve(!0),v({fitViewResolver:null}))}return{...bA({nodes:t,edges:e,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:y,defaultNodes:i,defaultEdges:a}),setNodes:A=>{const{nodeLookup:I,parentLookup:x,nodeOrigin:U,elevateNodesOnSelect:N,fitViewQueued:R}=S(),V=Xg(A,I,x,{nodeOrigin:U,nodeExtent:y,elevateNodesOnSelect:N,checkEquality:!0});R&&V?(E(),v({nodes:A,nodesInitialized:V,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:A,nodesInitialized:V})},setEdges:A=>{const{connectionLookup:I,edgeLookup:x}=S();Q1(I,x,A),v({edges:A})},setDefaultNodesAndEdges:(A,I)=>{if(A){const{setNodes:x}=S();x(A),v({hasDefaultNodes:!0})}if(I){const{setEdges:x}=S();x(I),v({hasDefaultEdges:!0})}},updateNodeInternals:A=>{const{triggerNodeChanges:I,nodeLookup:x,parentLookup:U,domNode:N,nodeOrigin:R,nodeExtent:V,debug:B,fitViewQueued:M}=S(),{changes:X,updatedInternals:q}=hV(A,x,U,N,R,V);q&&(uV(x,U,{nodeOrigin:R,nodeExtent:V}),M?(E(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),X?.length>0&&(B&&console.log("React Flow: trigger node changes",X),I?.(X)))},updateNodePositions:(A,I=!1)=>{const x=[],U=[],{nodeLookup:N,triggerNodeChanges:R}=S();for(const[V,B]of A){const M=N.get(V),X=!!(M?.expandParent&&M?.parentId&&B?.position),q={id:V,type:"position",position:X?{x:Math.max(0,B.position.x),y:Math.max(0,B.position.y)}:B.position,dragging:I};X&&M.parentId&&x.push({id:V,parentId:M.parentId,rect:{...B.internals.positionAbsolute,width:B.measured.width??0,height:B.measured.height??0}}),U.push(q)}if(x.length>0){const{parentLookup:V,nodeOrigin:B}=S(),M=$m(x,N,V,B);U.push(...M)}R(U)},triggerNodeChanges:A=>{const{onNodesChange:I,setNodes:x,nodes:U,hasDefaultNodes:N,debug:R}=S();if(A?.length){if(N){const V=pM(A,U);x(V)}R&&console.log("React Flow: trigger node changes",A),I?.(A)}},triggerEdgeChanges:A=>{const{onEdgesChange:I,setEdges:x,edges:U,hasDefaultEdges:N,debug:R}=S();if(A?.length){if(N){const V=yM(A,U);x(V)}R&&console.log("React Flow: trigger edge changes",A),I?.(A)}},addSelectedNodes:A=>{const{multiSelectionActive:I,edgeLookup:x,nodeLookup:U,triggerNodeChanges:N,triggerEdgeChanges:R}=S();if(I){const V=A.map(B=>da(B,!0));N(V);return}N(xs(U,new Set([...A]),!0)),R(xs(x))},addSelectedEdges:A=>{const{multiSelectionActive:I,edgeLookup:x,nodeLookup:U,triggerNodeChanges:N,triggerEdgeChanges:R}=S();if(I){const V=A.map(B=>da(B,!0));R(V);return}R(xs(x,new Set([...A]))),N(xs(U,new Set,!0))},unselectNodesAndEdges:({nodes:A,edges:I}={})=>{const{edges:x,nodes:U,nodeLookup:N,triggerNodeChanges:R,triggerEdgeChanges:V}=S(),B=A||U,M=I||x,X=B.map(de=>{const ne=N.get(de.id);return ne&&(ne.selected=!1),da(de.id,!1)}),q=M.map(de=>da(de.id,!1));R(X),V(q)},setMinZoom:A=>{const{panZoom:I,maxZoom:x}=S();I?.setScaleExtent([A,x]),v({minZoom:A})},setMaxZoom:A=>{const{panZoom:I,minZoom:x}=S();I?.setScaleExtent([x,A]),v({maxZoom:A})},setTranslateExtent:A=>{S().panZoom?.setTranslateExtent(A),v({translateExtent:A})},resetSelectedElements:()=>{const{edges:A,nodes:I,triggerNodeChanges:x,triggerEdgeChanges:U,elementsSelectable:N}=S();if(!N)return;const R=I.reduce((B,M)=>M.selected?[...B,da(M.id,!1)]:B,[]),V=A.reduce((B,M)=>M.selected?[...B,da(M.id,!1)]:B,[]);x(R),U(V)},setNodeExtent:A=>{const{nodes:I,nodeLookup:x,parentLookup:U,nodeOrigin:N,elevateNodesOnSelect:R,nodeExtent:V}=S();A[0][0]===V[0][0]&&A[0][1]===V[0][1]&&A[1][0]===V[1][0]&&A[1][1]===V[1][1]||(Xg(I,x,U,{nodeOrigin:N,nodeExtent:A,elevateNodesOnSelect:R,checkEquality:!1}),v({nodeExtent:A}))},panBy:A=>{const{transform:I,width:x,height:U,panZoom:N,translateExtent:R}=S();return gV({delta:A,panZoom:N,transform:I,translateExtent:R,width:x,height:U})},setCenter:async(A,I,x)=>{const{width:U,height:N,maxZoom:R,panZoom:V}=S();if(!V)return Promise.resolve(!1);const B=typeof x?.zoom<"u"?x.zoom:R;return await V.setViewport({x:U/2-A*B,y:N/2-I*B,zoom:B},{duration:x?.duration,ease:x?.ease,interpolate:x?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...M1}})},updateConnection:A=>{v({connection:A})},reset:()=>v({...bA()})}},Object.is);function M5({initialNodes:t,initialEdges:e,defaultNodes:i,defaultEdges:a,initialWidth:o,initialHeight:u,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:m,fitView:h,nodeOrigin:p,nodeExtent:y,children:v}){const[S]=P.useState(()=>V5({nodes:t,edges:e,defaultNodes:i,defaultEdges:a,width:o,height:u,fitView:h,minZoom:c,maxZoom:d,fitViewOptions:m,nodeOrigin:p,nodeExtent:y}));return $.jsx($V,{value:S,children:$.jsx(AM,{children:v})})}function B5({children:t,nodes:e,edges:i,defaultNodes:a,defaultEdges:o,width:u,height:c,fitView:d,fitViewOptions:m,minZoom:h,maxZoom:p,nodeOrigin:y,nodeExtent:v}){return P.useContext(Ef)?$.jsx($.Fragment,{children:t}):$.jsx(M5,{initialNodes:e,initialEdges:i,defaultNodes:a,defaultEdges:o,initialWidth:u,initialHeight:c,fitView:d,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:y,nodeExtent:v,children:t})}const L5={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function z5({nodes:t,edges:e,defaultNodes:i,defaultEdges:a,className:o,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:m,onInit:h,onMove:p,onMoveStart:y,onMoveEnd:v,onConnect:S,onConnectStart:E,onConnectEnd:A,onClickConnectStart:I,onClickConnectEnd:x,onNodeMouseEnter:U,onNodeMouseMove:N,onNodeMouseLeave:R,onNodeContextMenu:V,onNodeDoubleClick:B,onNodeDragStart:M,onNodeDrag:X,onNodeDragStop:q,onNodesDelete:de,onEdgesDelete:ne,onDelete:te,onSelectionChange:le,onSelectionDragStart:_,onSelectionDrag:K,onSelectionDragStop:T,onSelectionContextMenu:O,onSelectionStart:Y,onSelectionEnd:H,onBeforeDelete:re,connectionMode:C,connectionLineType:L=Or.Bezier,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:fe,deleteKeyCode:ge="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:ce=!1,selectionMode:me=xl.Full,panActivationKeyCode:_e="Space",multiSelectionKeyCode:Ie=Cl()?"Meta":"Control",zoomActivationKeyCode:Ne=Cl()?"Meta":"Control",snapToGrid:Te,snapGrid:Ye,onlyRenderVisibleElements:Qe=!1,selectNodesOnDrag:qe,nodesDraggable:Tt,autoPanOnNodeFocus:bn,nodesConnectable:Bn,nodesFocusable:$i,nodeOrigin:Pi=fw,edgesFocusable:Zr,edgesReconnectable:Gr,elementsSelectable:Ot=!0,defaultViewport:Na=uM,minZoom:yi=.5,maxZoom:Qi=2,translateExtent:kr=Nl,preventScrolling:Tf=!0,nodeExtent:xa,defaultMarkerColor:Cf="#b1b1b7",zoomOnScroll:Rf=!0,zoomOnPinch:Wr=!0,panOnScroll:Kt=!1,panOnScrollSpeed:ei=.5,panOnScrollMode:Ht=ya.Free,zoomOnDoubleClick:If=!0,panOnDrag:Df=!0,onPaneClick:_f,onPaneMouseEnter:Ta,onPaneMouseMove:Ca,onPaneMouseLeave:Ra,onPaneScroll:vi,onPaneContextMenu:Ia,paneClickDistance:Xr=1,nodeClickDistance:Of=0,children:Wl,onReconnect:js,onReconnectStart:Kr,onReconnectEnd:Vf,onEdgeContextMenu:Xl,onEdgeDoubleClick:Kl,onEdgeMouseEnter:Hl,onEdgeMouseMove:$s,onEdgeMouseLeave:Ps,reconnectRadius:Fl=10,onNodesChange:Jl,onEdgesChange:ti,noDragClassName:Ct="nodrag",noWheelClassName:Yt="nowheel",noPanClassName:bi="nopan",fitView:Da,fitViewOptions:jl,connectOnClick:Mf,attributionPosition:$l,proOptions:Hr,defaultEdgeOptions:Qs,elevateNodesOnSelect:qi,elevateEdgesOnSelect:er,disableKeyboardA11y:tr=!1,autoPanOnConnect:nr,autoPanOnNodeDrag:St,autoPanSpeed:Pl,connectionRadius:Ql,isValidConnection:Si,onError:ir,style:Bf,id:qs,nodeDragThreshold:ql,connectionDragThreshold:Lf,viewport:_a,onViewportChange:Oa,width:Ln,height:Jt,colorMode:eu="light",debug:zf,onScroll:Va,ariaLabelConfig:tu,...Ma},Uf){const Zt=qs||"1",eo=hM(eu),nu=P.useCallback(Ba=>{Ba.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Va?.(Ba)},[Va]);return $.jsx("div",{"data-testid":"rf__wrapper",...Ma,onScroll:nu,style:{...Bf,...L5},ref:Uf,className:xt(["react-flow",o,eo]),id:qs,role:"application",children:$.jsxs(B5,{nodes:t,edges:e,width:Ln,height:Jt,fitView:Da,fitViewOptions:jl,minZoom:yi,maxZoom:Qi,nodeOrigin:Pi,nodeExtent:xa,children:[$.jsx(O5,{onInit:h,onNodeClick:d,onEdgeClick:m,onNodeMouseEnter:U,onNodeMouseMove:N,onNodeMouseLeave:R,onNodeContextMenu:V,onNodeDoubleClick:B,nodeTypes:u,edgeTypes:c,connectionLineType:L,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:fe,selectionKeyCode:he,selectionOnDrag:ce,selectionMode:me,deleteKeyCode:ge,multiSelectionKeyCode:Ie,panActivationKeyCode:_e,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:Qe,defaultViewport:Na,translateExtent:kr,minZoom:yi,maxZoom:Qi,preventScrolling:Tf,zoomOnScroll:Rf,zoomOnPinch:Wr,zoomOnDoubleClick:If,panOnScroll:Kt,panOnScrollSpeed:ei,panOnScrollMode:Ht,panOnDrag:Df,onPaneClick:_f,onPaneMouseEnter:Ta,onPaneMouseMove:Ca,onPaneMouseLeave:Ra,onPaneScroll:vi,onPaneContextMenu:Ia,paneClickDistance:Xr,nodeClickDistance:Of,onSelectionContextMenu:O,onSelectionStart:Y,onSelectionEnd:H,onReconnect:js,onReconnectStart:Kr,onReconnectEnd:Vf,onEdgeContextMenu:Xl,onEdgeDoubleClick:Kl,onEdgeMouseEnter:Hl,onEdgeMouseMove:$s,onEdgeMouseLeave:Ps,reconnectRadius:Fl,defaultMarkerColor:Cf,noDragClassName:Ct,noWheelClassName:Yt,noPanClassName:bi,rfId:Zt,disableKeyboardA11y:tr,nodeExtent:xa,viewport:_a,onViewportChange:Oa}),$.jsx(dM,{nodes:t,edges:e,defaultNodes:i,defaultEdges:a,onConnect:S,onConnectStart:E,onConnectEnd:A,onClickConnectStart:I,onClickConnectEnd:x,nodesDraggable:Tt,autoPanOnNodeFocus:bn,nodesConnectable:Bn,nodesFocusable:$i,edgesFocusable:Zr,edgesReconnectable:Gr,elementsSelectable:Ot,elevateNodesOnSelect:qi,elevateEdgesOnSelect:er,minZoom:yi,maxZoom:Qi,nodeExtent:xa,onNodesChange:Jl,onEdgesChange:ti,snapToGrid:Te,snapGrid:Ye,connectionMode:C,translateExtent:kr,connectOnClick:Mf,defaultEdgeOptions:Qs,fitView:Da,fitViewOptions:jl,onNodesDelete:de,onEdgesDelete:ne,onDelete:te,onNodeDragStart:M,onNodeDrag:X,onNodeDragStop:q,onSelectionDrag:K,onSelectionDragStart:_,onSelectionDragStop:T,onMove:p,onMoveStart:y,onMoveEnd:v,noPanClassName:bi,nodeOrigin:Pi,rfId:Zt,autoPanOnConnect:nr,autoPanOnNodeDrag:St,autoPanSpeed:Pl,onError:ir,connectionRadius:Ql,isValidConnection:Si,selectNodesOnDrag:qe,nodeDragThreshold:ql,connectionDragThreshold:Lf,onBeforeDelete:re,debug:zf,ariaLabelConfig:tu}),$.jsx(lM,{onSelectionChange:le}),Wl,$.jsx(iM,{proOptions:Hr,position:$l}),$.jsx(nM,{rfId:Zt,disableKeyboardA11y:tr})]})})}var U5=hw(z5);function Y5({dimensions:t,lineWidth:e,variant:i,className:a}){return $.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:xt(["react-flow__background-pattern",i,a])})}function Z5({radius:t,className:e}){return $.jsx("circle",{cx:t,cy:t,r:t,className:xt(["react-flow__background-pattern","dots",e])})}var Lr;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Lr||(Lr={}));const G5={[Lr.Dots]:1,[Lr.Lines]:1,[Lr.Cross]:6},k5=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function zw({id:t,variant:e=Lr.Dots,gap:i=20,size:a,lineWidth:o=1,offset:u=0,color:c,bgColor:d,style:m,className:h,patternClassName:p}){const y=P.useRef(null),{transform:v,patternId:S}=We(k5,ht),E=a||G5[e],A=e===Lr.Dots,I=e===Lr.Cross,x=Array.isArray(i)?i:[i,i],U=[x[0]*v[2]||1,x[1]*v[2]||1],N=E*v[2],R=Array.isArray(u)?u:[u,u],V=I?[N,N]:U,B=[R[0]*v[2]||1+V[0]/2,R[1]*v[2]||1+V[1]/2],M=`${S}${t||""}`;return $.jsxs("svg",{className:xt(["react-flow__background",h]),style:{...m,...Nf,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:y,"data-testid":"rf__background",children:[$.jsx("pattern",{id:M,x:v[0]%U[0],y:v[1]%U[1],width:U[0],height:U[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`,children:A?$.jsx(Z5,{radius:N/2,className:p}):$.jsx(Y5,{dimensions:V,lineWidth:o,variant:e,className:p})}),$.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}zw.displayName="Background";const W5=P.memo(zw);function X5(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:$.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function K5(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:$.jsx("path",{d:"M0 0h32v4.2H0z"})})}function H5(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:$.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function F5(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:$.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function J5(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:$.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Rc({children:t,className:e,...i}){return $.jsx("button",{type:"button",className:xt(["react-flow__controls-button",e]),...i,children:t})}const j5=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Uw({style:t,showZoom:e=!0,showFitView:i=!0,showInteractive:a=!0,fitViewOptions:o,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:m,className:h,children:p,position:y="bottom-left",orientation:v="vertical","aria-label":S}){const E=ft(),{isInteractive:A,minZoomReached:I,maxZoomReached:x,ariaLabelConfig:U}=We(j5,ht),{zoomIn:N,zoomOut:R,fitView:V}=Pm(),B=()=>{N(),u?.()},M=()=>{R(),c?.()},X=()=>{V(o),d?.()},q=()=>{E.setState({nodesDraggable:!A,nodesConnectable:!A,elementsSelectable:!A}),m?.(!A)},de=v==="horizontal"?"horizontal":"vertical";return $.jsxs(wf,{className:xt(["react-flow__controls",de,h]),position:y,style:t,"data-testid":"rf__controls","aria-label":S??U["controls.ariaLabel"],children:[e&&$.jsxs($.Fragment,{children:[$.jsx(Rc,{onClick:B,className:"react-flow__controls-zoomin",title:U["controls.zoomIn.ariaLabel"],"aria-label":U["controls.zoomIn.ariaLabel"],disabled:x,children:$.jsx(X5,{})}),$.jsx(Rc,{onClick:M,className:"react-flow__controls-zoomout",title:U["controls.zoomOut.ariaLabel"],"aria-label":U["controls.zoomOut.ariaLabel"],disabled:I,children:$.jsx(K5,{})})]}),i&&$.jsx(Rc,{className:"react-flow__controls-fitview",onClick:X,title:U["controls.fitView.ariaLabel"],"aria-label":U["controls.fitView.ariaLabel"],children:$.jsx(H5,{})}),a&&$.jsx(Rc,{className:"react-flow__controls-interactive",onClick:q,title:U["controls.interactive.ariaLabel"],"aria-label":U["controls.interactive.ariaLabel"],children:A?$.jsx(J5,{}):$.jsx(F5,{})}),p]})}Uw.displayName="Controls";P.memo(Uw);function $5({id:t,x:e,y:i,width:a,height:o,style:u,color:c,strokeColor:d,strokeWidth:m,className:h,borderRadius:p,shapeRendering:y,selected:v,onClick:S}){const{background:E,backgroundColor:A}=u||{},I=c||E||A;return $.jsx("rect",{className:xt(["react-flow__minimap-node",{selected:v},h]),x:e,y:i,rx:p,ry:p,width:a,height:o,style:{fill:I,stroke:d,strokeWidth:m},shapeRendering:y,onClick:S?x=>S(x,t):void 0})}const P5=P.memo($5),Q5=t=>t.nodes.map(e=>e.id),vg=t=>t instanceof Function?t:()=>t;function q5({nodeStrokeColor:t,nodeColor:e,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:o,nodeComponent:u=P5,onClick:c}){const d=We(Q5,ht),m=vg(e),h=vg(t),p=vg(i),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.jsx($.Fragment,{children:d.map(v=>$.jsx(tB,{id:v,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:a,nodeStrokeWidth:o,NodeComponent:u,onClick:c,shapeRendering:y},v))})}function eB({id:t,nodeColorFunc:e,nodeStrokeColorFunc:i,nodeClassNameFunc:a,nodeBorderRadius:o,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:m}){const{node:h,x:p,y,width:v,height:S}=We(E=>{const{internals:A}=E.nodeLookup.get(t),I=A.userNode,{x,y:U}=A.positionAbsolute,{width:N,height:R}=ji(I);return{node:I,x,y:U,width:N,height:R}},ht);return!h||h.hidden||!G1(h)?null:$.jsx(d,{x:p,y,width:v,height:S,style:h.style,selected:!!h.selected,className:a(h),color:e(h),borderRadius:o,strokeColor:i(h),strokeWidth:u,shapeRendering:c,onClick:m,id:h.id})}const tB=P.memo(eB);var nB=P.memo(q5);const iB=200,rB=150,aB=t=>!t.hidden,sB=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?Z1(Zl(t.nodeLookup,{filter:aB}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},oB="react-flow__minimap-desc";function Yw({style:t,className:e,nodeStrokeColor:i,nodeColor:a,nodeClassName:o="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:m,maskColor:h,maskStrokeColor:p,maskStrokeWidth:y,position:v="bottom-right",onClick:S,onNodeClick:E,pannable:A=!1,zoomable:I=!1,ariaLabel:x,inversePan:U,zoomStep:N=1,offsetScale:R=5}){const V=ft(),B=P.useRef(null),{boundingRect:M,viewBB:X,rfId:q,panZoom:de,translateExtent:ne,flowWidth:te,flowHeight:le,ariaLabelConfig:_}=We(sB,ht),K=t?.width??iB,T=t?.height??rB,O=M.width/K,Y=M.height/T,H=Math.max(O,Y),re=H*K,C=H*T,L=R*H,ee=M.x-(re-M.width)/2-L,ie=M.y-(C-M.height)/2-L,fe=re+L*2,ge=C+L*2,he=`${oB}-${q}`,ce=P.useRef(0),me=P.useRef();ce.current=H,P.useEffect(()=>{if(B.current&&de)return me.current=wV({domNode:B.current,panZoom:de,getTransform:()=>V.getState().transform,getViewScale:()=>ce.current}),()=>{me.current?.destroy()}},[de]),P.useEffect(()=>{me.current?.update({translateExtent:ne,width:te,height:le,inversePan:U,pannable:A,zoomStep:N,zoomable:I})},[A,I,U,N,ne,te,le]);const _e=S?Te=>{const[Ye,Qe]=me.current?.pointer(Te)||[0,0];S(Te,{x:Ye,y:Qe})}:void 0,Ie=E?P.useCallback((Te,Ye)=>{const Qe=V.getState().nodeLookup.get(Ye).internals.userNode;E(Te,Qe)},[]):void 0,Ne=x??_["minimap.ariaLabel"];return $.jsx(wf,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*H:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:xt(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:$.jsxs("svg",{width:K,height:T,viewBox:`${ee} ${ie} ${fe} ${ge}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":he,ref:B,onClick:_e,children:[Ne&&$.jsx("title",{id:he,children:Ne}),$.jsx(nB,{onClick:Ie,nodeColor:a,nodeStrokeColor:i,nodeBorderRadius:u,nodeClassName:o,nodeStrokeWidth:c,nodeComponent:d}),$.jsx("path",{className:"react-flow__minimap-mask",d:`M${ee-L},${ie-L}h${fe+L*2}v${ge+L*2}h${-fe-L*2}z
        M${X.x},${X.y}h${X.width}v${X.height}h${-X.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Yw.displayName="MiniMap";P.memo(Yw);const lB=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,uB={[Js.Line]:"right",[Js.Handle]:"bottom-right"};function cB({nodeId:t,position:e,variant:i=Js.Handle,className:a,style:o=void 0,children:u,color:c,minWidth:d=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:v,autoScale:S=!0,shouldResize:E,onResizeStart:A,onResize:I,onResizeEnd:x}){const U=yw(),N=typeof t=="string"?t:U,R=ft(),V=P.useRef(null),B=i===Js.Handle,M=We(P.useCallback(lB(B&&S),[B,S]),ht),X=P.useRef(null),q=e??uB[i];P.useEffect(()=>{if(!(!V.current||!N))return X.current||(X.current=zV({domNode:V.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:ne,transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K,domNode:T}=R.getState();return{nodeLookup:ne,transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K,paneDomNode:T}},onChange:(ne,te)=>{const{triggerNodeChanges:le,nodeLookup:_,parentLookup:K,nodeOrigin:T}=R.getState(),O=[],Y={x:ne.x,y:ne.y},H=_.get(N);if(H&&H.expandParent&&H.parentId){const re=H.origin??T,C=ne.width??H.measured.width??0,L=ne.height??H.measured.height??0,ee={id:H.id,parentId:H.parentId,rect:{width:C,height:L,...k1({x:ne.x??H.position.x,y:ne.y??H.position.y},{width:C,height:L},H.parentId,_,re)}},ie=$m([ee],_,K,T);O.push(...ie),Y.x=ne.x?Math.max(re[0]*C,ne.x):void 0,Y.y=ne.y?Math.max(re[1]*L,ne.y):void 0}if(Y.x!==void 0&&Y.y!==void 0){const re={id:N,type:"position",position:{...Y}};O.push(re)}if(ne.width!==void 0&&ne.height!==void 0){const C={id:N,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:ne.width,height:ne.height}};O.push(C)}for(const re of te){const C={...re,type:"position"};O.push(C)}le(O)},onEnd:({width:ne,height:te})=>{const le={id:N,type:"dimensions",resizing:!1,dimensions:{width:ne,height:te}};R.getState().triggerNodeChanges([le])}})),X.current.update({controlPosition:q,boundaries:{minWidth:d,minHeight:m,maxWidth:h,maxHeight:p},keepAspectRatio:y,resizeDirection:v,onResizeStart:A,onResize:I,onResizeEnd:x,shouldResize:E}),()=>{X.current?.destroy()}},[q,d,m,h,p,y,A,I,x,E]);const de=q.split("-");return $.jsx("div",{className:xt(["react-flow__resize-control","nodrag",...de,i,a]),ref:V,style:{...o,scale:M,...c&&{[B?"backgroundColor":"borderColor"]:c}},children:u})}P.memo(cB);function fB(){const{root:t,update:e,loading:i,error:a}=a3(),o=P.useRef(0),u=P.useCallback(m=>{e(h=>{for(const p of m)switch(p.type){case"add":h.nodes.push(p.item);break;case"replace":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&(h.nodes[y]=p.item)}break;case"remove":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&h.nodes.delete?.(y)}break;case"position":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&p.position&&(h.nodes[y].position=p.position)}break;case"select":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&(h.nodes[y].selected=p.selected)}break}})},[e]),c=P.useCallback(m=>{e(h=>{for(const p of m)switch(p.type){case"add":h.edges.push(p.item);break;case"replace":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&(h.edges[y]=p.item)}break;case"remove":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&h.edges.delete?.(y)}break;case"select":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&(h.edges[y].selected=p.selected)}break}})},[e]),d=P.useCallback(m=>{!m.source||!m.target||e(h=>{if(h.edges.some(v=>v.source===m.source&&v.target===m.target&&v.sourceHandle===m.sourceHandle&&v.targetHandle===m.targetHandle))return;const y=`e-${m.source}-${m.target}-${o.current++}`;h.edges.push({id:y,type:"smoothstep",source:m.source,target:m.target,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle})})},[e]);return i?$.jsx("div",{children:"Loading..."}):a?$.jsxs("div",{children:["Error: ",a.message]}):$.jsx("div",{style:{position:"fixed",inset:0,height:"100vh"},children:$.jsx(U5,{nodes:[...t.nodes].filter(Boolean),edges:[...t.edges].filter(Boolean),onNodesChange:u,onEdgesChange:c,onConnect:d,fitView:!0,children:$.jsx(W5,{gap:10,size:1,color:"silver"})})})}const dB=[{id:"1",type:"input",data:{label:"Multiplayer"},position:{x:250,y:25}},{id:"2",data:{label:"Graph"},position:{x:100,y:125}},{id:"3",data:{label:"React Flow"},position:{x:250,y:225},style:{borderColor:"#FF0072"}},{id:"4",type:"output",data:{label:"Yorkie"},position:{x:100,y:325},style:{borderColor:"#944DFA"}}],hB=[{id:"e1-2",source:"1",target:"2",type:"smoothstep"},{id:"e2-3",source:"2",target:"3",label:"with"},{id:"e3-4",source:"3",target:"4",label:"and",animated:!0}],gB={nodes:dB,edges:hB};qx.createRoot(document.getElementById("root")).render($.jsxs(P.StrictMode,{children:[$.jsx(QI,{apiKey:"D6sd9E5ehtXBssmeRZ4QQP",rpcAddr:"https://api.yorkie.dev",children:$.jsx(r3,{docKey:`react-flow-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,initialRoot:gB,children:$.jsx(fB,{})})}),","]}));
