(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function EA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xh={exports:{}},Wo={};var Lv;function n2(){if(Lv)return Wo;Lv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:a,key:c,ref:o!==void 0?o:null,props:u}}return Wo.Fragment=e,Wo.jsx=r,Wo.jsxs=r,Wo}var zv;function r2(){return zv||(zv=1,Xh.exports=n2()),Xh.exports}var $=r2(),Kh={exports:{}},Xo={},Hh={exports:{}},Fh={};var Uv;function i2(){return Uv||(Uv=1,(function(t){function e(T,O){var Y=T.length;T.push(O);e:for(;0<Y;){var H=Y-1>>>1,ie=T[H];if(0<o(ie,O))T[H]=O,T[Y]=ie,Y=H;else break e}}function r(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var O=T[0],Y=T.pop();if(Y!==O){T[0]=Y;e:for(var H=0,ie=T.length,C=ie>>>1;H<C;){var L=2*(H+1)-1,ee=T[L],re=L+1,fe=T[re];if(0>o(ee,Y))re<ie&&0>o(fe,ee)?(T[H]=fe,T[re]=Y,H=re):(T[H]=ee,T[L]=Y,H=L);else if(re<ie&&0>o(fe,Y))T[H]=fe,T[re]=Y,H=re;else break e}}return O}function o(T,O){var Y=T.sortIndex-O.sortIndex;return Y!==0?Y:T.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],h=[],p=1,y=null,v=3,S=!1,E=!1,A=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(T){for(var O=r(h);O!==null;){if(O.callback===null)a(h);else if(O.startTime<=T)a(h),O.sortIndex=O.expirationTime,e(m,O);else break;O=r(h)}}function V(T){if(A=!1,I(T),!E)if(r(m)!==null)E=!0,B||(B=!0,te());else{var O=r(h);O!==null&&K(V,O.startTime-T)}}var B=!1,M=-1,X=5,q=-1;function de(){return R?!0:!(t.unstable_now()-q<X)}function ne(){if(R=!1,B){var T=t.unstable_now();q=T;var O=!0;try{e:{E=!1,A&&(A=!1,U(M),M=-1),S=!0;var Y=v;try{t:{for(I(T),y=r(m);y!==null&&!(y.expirationTime>T&&de());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var ie=H(y.expirationTime<=T);if(T=t.unstable_now(),typeof ie=="function"){y.callback=ie,I(T),O=!0;break t}y===r(m)&&a(m),I(T)}else a(m);y=r(m)}if(y!==null)O=!0;else{var C=r(h);C!==null&&K(V,C.startTime-T),O=!1}}break e}finally{y=null,v=Y,S=!1}O=void 0}}finally{O?te():B=!1}}}var te;if(typeof N=="function")te=function(){N(ne)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,_=le.port2;le.port1.onmessage=ne,te=function(){_.postMessage(null)}}else te=function(){x(ne,0)};function K(T,O){M=x(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(T){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var Y=v;v=O;try{return T()}finally{v=Y}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Y=v;v=T;try{return O()}finally{v=Y}},t.unstable_scheduleCallback=function(T,O,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,T={id:p++,callback:O,priorityLevel:T,startTime:Y,expirationTime:ie,sortIndex:-1},Y>H?(T.sortIndex=Y,e(h,T),r(m)===null&&T===r(h)&&(A?(U(M),M=-1):A=!0,K(V,Y-H))):(T.sortIndex=ie,e(m,T),E||S||(E=!0,B||(B=!0,te()))),T},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(T){var O=v;return function(){var Y=v;v=O;try{return T.apply(this,arguments)}finally{v=Y}}}})(Fh)),Fh}var Zv;function a2(){return Zv||(Zv=1,Hh.exports=i2()),Hh.exports}var Jh={exports:{}},Ie={};var Yv;function s2(){if(Yv)return Ie;Yv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function x(C,L,ee){this.props=C,this.context=L,this.refs=R,this.updater=ee||E}x.prototype.isReactComponent={},x.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=x.prototype;function N(C,L,ee){this.props=C,this.context=L,this.refs=R,this.updater=ee||E}var I=N.prototype=new U;I.constructor=N,A(I,x.prototype),I.isPureReactComponent=!0;var V=Array.isArray;function B(){}var M={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function q(C,L,ee){var re=ee.ref;return{$$typeof:t,type:C,key:L,ref:re!==void 0?re:null,props:ee}}function de(C,L){return q(C.type,L,C.props)}function ne(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function te(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return L[ee]})}var le=/\/+/g;function _(C,L){return typeof C=="object"&&C!==null&&C.key!=null?te(""+C.key):L.toString(36)}function K(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(B,B):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function T(C,L,ee,re,fe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case t:case e:he=!0;break;case p:return he=C._init,T(he(C._payload),L,ee,re,fe)}}if(he)return fe=fe(C),he=re===""?"."+_(C,0):re,V(fe)?(ee="",he!=null&&(ee=he.replace(le,"$&/")+"/"),T(fe,L,ee,"",function(_e){return _e})):fe!=null&&(ne(fe)&&(fe=de(fe,ee+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(le,"$&/")+"/")+he)),L.push(fe)),1;he=0;var ce=re===""?".":re+":";if(V(C))for(var me=0;me<C.length;me++)re=C[me],ge=ce+_(re,me),he+=T(re,L,ee,ge,fe);else if(me=S(C),typeof me=="function")for(C=me.call(C),me=0;!(re=C.next()).done;)re=re.value,ge=ce+_(re,me++),he+=T(re,L,ee,ge,fe);else if(ge==="object"){if(typeof C.then=="function")return T(K(C),L,ee,re,fe);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return he}function O(C,L,ee){if(C==null)return C;var re=[],fe=0;return T(C,re,"","",function(ge){return L.call(ee,ge,fe++)}),re}function Y(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var H=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ie={map:O,forEach:function(C,L,ee){O(C,function(){L.apply(this,arguments)},ee)},count:function(C){var L=0;return O(C,function(){L++}),L},toArray:function(C){return O(C,function(L){return L})||[]},only:function(C){if(!ne(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ie.Activity=y,Ie.Children=ie,Ie.Component=x,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=N,Ie.StrictMode=a,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return M.H.useMemoCache(C)}},Ie.cache=function(C){return function(){return C.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(C,L,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var re=A({},C.props),fe=C.key;if(L!=null)for(ge in L.key!==void 0&&(fe=""+L.key),L)!X.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(re[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)re.children=ee;else if(1<ge){for(var he=Array(ge),ce=0;ce<ge;ce++)he[ce]=arguments[ce+2];re.children=he}return q(C.type,fe,re)},Ie.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ie.createElement=function(C,L,ee){var re,fe={},ge=null;if(L!=null)for(re in L.key!==void 0&&(ge=""+L.key),L)X.call(L,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=L[re]);var he=arguments.length-2;if(he===1)fe.children=ee;else if(1<he){for(var ce=Array(he),me=0;me<he;me++)ce[me]=arguments[me+2];fe.children=ce}if(C&&C.defaultProps)for(re in he=C.defaultProps,he)fe[re]===void 0&&(fe[re]=he[re]);return q(C,ge,fe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(C){return{$$typeof:d,render:C}},Ie.isValidElement=ne,Ie.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:Y}},Ie.memo=function(C,L){return{$$typeof:h,type:C,compare:L===void 0?null:L}},Ie.startTransition=function(C){var L=M.T,ee={};M.T=ee;try{var re=C(),fe=M.S;fe!==null&&fe(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(B,H)}catch(ge){H(ge)}finally{L!==null&&ee.types!==null&&(L.types=ee.types),M.T=L}},Ie.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ie.use=function(C){return M.H.use(C)},Ie.useActionState=function(C,L,ee){return M.H.useActionState(C,L,ee)},Ie.useCallback=function(C,L){return M.H.useCallback(C,L)},Ie.useContext=function(C){return M.H.useContext(C)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(C,L){return M.H.useDeferredValue(C,L)},Ie.useEffect=function(C,L){return M.H.useEffect(C,L)},Ie.useEffectEvent=function(C){return M.H.useEffectEvent(C)},Ie.useId=function(){return M.H.useId()},Ie.useImperativeHandle=function(C,L,ee){return M.H.useImperativeHandle(C,L,ee)},Ie.useInsertionEffect=function(C,L){return M.H.useInsertionEffect(C,L)},Ie.useLayoutEffect=function(C,L){return M.H.useLayoutEffect(C,L)},Ie.useMemo=function(C,L){return M.H.useMemo(C,L)},Ie.useOptimistic=function(C,L){return M.H.useOptimistic(C,L)},Ie.useReducer=function(C,L,ee){return M.H.useReducer(C,L,ee)},Ie.useRef=function(C){return M.H.useRef(C)},Ie.useState=function(C){return M.H.useState(C)},Ie.useSyncExternalStore=function(C,L,ee){return M.H.useSyncExternalStore(C,L,ee)},Ie.useTransition=function(){return M.H.useTransition()},Ie.version="19.2.1",Ie}var Gv;function Dl(){return Gv||(Gv=1,Jh.exports=s2()),Jh.exports}var jh={exports:{}},Gt={};var kv;function o2(){if(kv)return Gt;kv=1;var t=Dl();function e(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gt.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(m,h,null,p)},Gt.flushSync=function(m){var h=c.T,p=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=h,a.p=p,a.d.f()}},Gt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Gt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Gt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):p==="script"&&a.d.X(m,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Gt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=d(p,h.crossOrigin);a.d.L(m,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gt.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=d(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Gt.requestFormReset=function(m){a.d.r(m)},Gt.unstable_batchedUpdates=function(m,h){return m(h)},Gt.useFormState=function(m,h,p){return c.H.useFormState(m,h,p)},Gt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Gt.version="19.2.1",Gt}var Wv;function wA(){if(Wv)return jh.exports;Wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jh.exports=o2(),jh.exports}var Xv;function l2(){if(Xv)return Xo;Xv=1;var t=a2(),e=Dl(),r=wA();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(a(188))}function h(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return m(f),n;if(g===l)return m(f),i;g=g.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=g;else{for(var b=!1,w=f.child;w;){if(w===s){b=!0,s=f,l=g;break}if(w===l){b=!0,l=f,s=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===s){b=!0,s=g,l=f;break}if(w===l){b=!0,l=g,s=f;break}w=w.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var le=Symbol.for("react.client.reference");function _(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case x:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case N:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case I:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:_(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return _(n(i))}catch{}}return null}var K=Array.isArray,T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},H=[],ie=-1;function C(n){return{current:n}}function L(n){0>ie||(n.current=H[ie],H[ie]=null,ie--)}function ee(n,i){ie++,H[ie]=n.current,n.current=i}var re=C(null),fe=C(null),ge=C(null),he=C(null);function ce(n,i){switch(ee(ge,i),ee(fe,n),ee(re,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?av(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=av(i),n=sv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(re),ee(re,n)}function me(){L(re),L(fe),L(ge)}function _e(n){n.memoizedState!==null&&ee(he,n);var i=re.current,s=sv(i,n.type);i!==s&&(ee(fe,n),ee(re,s))}function Re(n){fe.current===n&&(L(re),L(fe)),he.current===n&&(L(he),Zo._currentValue=Y)}var Ne,Te;function Ze(n){if(Ne===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ne=i&&i[1]||"",Te=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+n+Te}var Qe=!1;function qe(n,i){if(!n||Qe)return"";Qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var j=Q}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(Q){j=Q}n.call(oe.prototype)}}else{try{throw Error()}catch(Q){j=Q}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&j&&typeof Q.stack=="string")return[Q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var D=b.split(`
`),J=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===J.length)for(l=D.length-1,f=J.length-1;1<=l&&0<=f&&D[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==J[f]){var ae=`
`+D[l].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=l&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Ze(s):""}function Tt(n,i){switch(n.tag){case 26:case 27:case 5:return Ze(n.type);case 16:return Ze("Lazy");case 13:return n.child!==i&&i!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return qe(n.type,!1);case 11:return qe(n.type.render,!1);case 1:return qe(n.type,!0);case 31:return Ze("Activity");default:return""}}function bn(n){try{var i="",s=null;do i+=Tt(n,s),s=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Bn=Object.prototype.hasOwnProperty,$r=t.unstable_scheduleCallback,Pr=t.unstable_cancelCallback,Yi=t.unstable_shouldYield,Gi=t.unstable_requestPaint,Ot=t.unstable_now,Na=t.unstable_getCurrentPriorityLevel,yr=t.unstable_ImmediatePriority,Qr=t.unstable_UserBlockingPriority,ki=t.unstable_NormalPriority,Cf=t.unstable_LowPriority,xa=t.unstable_IdlePriority,If=t.log,Rf=t.unstable_setDisableYieldValue,Wi=null,Kt=null;function er(n){if(typeof If=="function"&&Rf(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Wi,n)}catch{}}var Ht=Math.clz32?Math.clz32:Of,Df=Math.log,_f=Math.LN2;function Of(n){return n>>>=0,n===0?32:31-(Df(n)/_f|0)|0}var Ta=256,Ca=262144,Ia=4194304;function vr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ra(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~g,l!==0?f=vr(l):(b&=w,b!==0?f=vr(b):s||(s=w&~n,s!==0&&(f=vr(s))))):(w=l&~g,w!==0?f=vr(w):b!==0?f=vr(b):s||(s=l&~n,s!==0&&(f=vr(s)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,s=i&-i,g>=s||g===32&&(s&4194048)!==0)?i:f}function Xi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Vf(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var n=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),n}function js(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ki(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mf(n,i,s,l,f,g){var b=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,J=n.hiddenUpdates;for(s=b&~s;0<s;){var ae=31-Ht(s),oe=1<<ae;w[ae]=0,D[ae]=-1;var j=J[ae];if(j!==null)for(J[ae]=null,ae=0;ae<j.length;ae++){var Q=j[ae];Q!==null&&(Q.lane&=-536870913)}s&=~oe}l!==0&&Xl(n,l,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~i))}function Xl(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ht(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Kl(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-Ht(s),f=1<<l;f&i|n[l]&i&&(n[l]|=i),s&=~f}}function Hl(n,i){var s=i&-i;return s=(s&42)!==0?1:$s(s),(s&(n.suspendedLanes|i))!==0?0:s}function $s(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ps(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fl(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function Jl(n,i){var s=O.p;try{return O.p=n,i()}finally{O.p=s}}var tr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+tr,Zt="__reactProps$"+tr,br="__reactContainer$"+tr,Da="__reactEvents$"+tr,jl="__reactListeners$"+tr,Bf="__reactHandles$"+tr,$l="__reactResources$"+tr,Hi="__reactMarker$"+tr;function Qs(n){delete n[Ct],delete n[Zt],delete n[Da],delete n[jl],delete n[Bf]}function qr(n){var i=n[Ct];if(i)return i;for(var s=n.parentNode;s;){if(i=s[br]||s[Ct]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=hv(n);n!==null;){if(s=n[Ct])return s;n=hv(n)}return i}n=s,s=n.parentNode}return null}function ei(n){if(n=n[Ct]||n[br]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function ti(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ni(n){var i=n[$l];return i||(i=n[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(n){n[Hi]=!0}var Pl=new Set,Ql={};function Sr(n,i){ri(n,i),ri(n+"Capture",i)}function ri(n,i){for(Ql[n]=i,n=0;n<i.length;n++)Pl.add(i[n])}var Lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},ql={};function zf(n){return Bn.call(ql,n)?!0:Bn.call(qs,n)?!1:Lf.test(n)?ql[n]=!0:(qs[n]=!0,!1)}function _a(n,i,s){if(zf(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Oa(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Ln(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}function Jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uf(n,i,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){s=""+b,g.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Va(n){if(!n._valueTracker){var i=eu(n)?"checked":"value";n._valueTracker=Uf(n,i,""+n[i])}}function tu(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=eu(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Ma(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zf=/[\n"\\]/g;function Yt(n){return n.replace(Zf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function eo(n,i,s,l,f,g,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Jt(i)):n.value!==""+Jt(i)&&(n.value=""+Jt(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Ba(n,b,Jt(i)):s!=null?Ba(n,b,Jt(s)):l!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Jt(w):n.removeAttribute("name")}function nu(n,i,s,l,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Va(n);return}s=s!=null?""+Jt(s):"",i=i!=null?""+Jt(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Va(n)}function Ba(n,i,s){i==="number"&&Ma(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function La(n,i,s,l){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Jt(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ep(n,i,s){if(i!=null&&(i=""+Jt(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Jt(s):""}function tp(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(K(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Jt(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Va(n)}function za(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Pw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function np(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||Pw.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function rp(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&np(n,f,l)}else for(var g in i)i.hasOwnProperty(g)&&np(n,g,i[g])}function Yf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(n){return qw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ar(){}var Gf=null;function kf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ua=null,Za=null;function ip(n){var i=ei(n);if(i&&(n=i.stateNode)){var s=n[Zt]||null;e:switch(n=i.stateNode,i.type){case"input":if(eo(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var f=l[Zt]||null;if(!f)throw Error(a(90));eo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&tu(l)}break e;case"textarea":ep(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&La(n,!!s.multiple,i,!1)}}}var Wf=!1;function ap(n,i,s){if(Wf)return n(i,s);Wf=!0;try{var l=n(i);return l}finally{if(Wf=!1,(Ua!==null||Za!==null)&&(Xu(),Ua&&(i=Ua,n=Za,Za=Ua=null,ip(i),n)))for(i=0;i<n.length;i++)ip(n[i])}}function to(n,i){var s=n.stateNode;if(s===null)return null;var l=s[Zt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=!1;if(Er)try{var no={};Object.defineProperty(no,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Xf=!1}var ii=null,Kf=null,iu=null;function sp(){if(iu)return iu;var n,i=Kf,s=i.length,l,f="value"in ii?ii.value:ii.textContent,g=f.length;for(n=0;n<s&&i[n]===f[n];n++);var b=s-n;for(l=1;l<=b&&i[s-l]===f[g-l];l++);return iu=f.slice(n,1<l?1-l:void 0)}function au(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function su(){return!0}function op(){return!1}function jt(n){function i(s,l,f,g,b){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?su:op,this.isPropagationStopped=op,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=jt(Fi),ro=y({},Fi,{view:0,detail:0}),eN=jt(ro),Hf,Ff,io,lu=y({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==io&&(io&&n.type==="mousemove"?(Hf=n.screenX-io.screenX,Ff=n.screenY-io.screenY):Ff=Hf=0,io=n),Hf)},movementY:function(n){return"movementY"in n?n.movementY:Ff}}),lp=jt(lu),tN=y({},lu,{dataTransfer:0}),nN=jt(tN),rN=y({},ro,{relatedTarget:0}),Jf=jt(rN),iN=y({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),aN=jt(iN),sN=y({},Fi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oN=jt(sN),lN=y({},Fi,{data:0}),up=jt(lN),uN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dN(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=fN[n])?!!i[n]:!1}function jf(){return dN}var hN=y({},ro,{key:function(n){if(n.key){var i=uN[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=au(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(n){return n.type==="keypress"?au(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?au(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gN=jt(hN),mN=y({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=jt(mN),pN=y({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),yN=jt(pN),vN=y({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bN=jt(vN),SN=y({},lu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),AN=jt(SN),EN=y({},Fi,{newState:0,oldState:0}),wN=jt(EN),NN=[9,13,27,32],$f=Er&&"CompositionEvent"in window,ao=null;Er&&"documentMode"in document&&(ao=document.documentMode);var xN=Er&&"TextEvent"in window&&!ao,fp=Er&&(!$f||ao&&8<ao&&11>=ao),dp=" ",hp=!1;function gp(n,i){switch(n){case"keyup":return NN.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ya=!1;function TN(n,i){switch(n){case"compositionend":return mp(i);case"keypress":return i.which!==32?null:(hp=!0,dp);case"textInput":return n=i.data,n===dp&&hp?null:n;default:return null}}function CN(n,i){if(Ya)return n==="compositionend"||!$f&&gp(n,i)?(n=sp(),iu=Kf=ii=null,Ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return fp&&i.locale!=="ko"?null:i.data;default:return null}}var IN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!IN[n.type]:i==="textarea"}function yp(n,i,s,l){Ua?Za?Za.push(l):Za=[l]:Ua=l,i=Pu(i,"onChange"),0<i.length&&(s=new ou("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var so=null,oo=null;function RN(n){q0(n,0)}function uu(n){var i=ti(n);if(tu(i))return n}function vp(n,i){if(n==="change")return i}var bp=!1;if(Er){var Pf;if(Er){var Qf="oninput"in document;if(!Qf){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Qf=typeof Sp.oninput=="function"}Pf=Qf}else Pf=!1;bp=Pf&&(!document.documentMode||9<document.documentMode)}function Ap(){so&&(so.detachEvent("onpropertychange",Ep),oo=so=null)}function Ep(n){if(n.propertyName==="value"&&uu(oo)){var i=[];yp(i,oo,n,kf(n)),ap(RN,i)}}function DN(n,i,s){n==="focusin"?(Ap(),so=i,oo=s,so.attachEvent("onpropertychange",Ep)):n==="focusout"&&Ap()}function _N(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uu(oo)}function ON(n,i){if(n==="click")return uu(i)}function VN(n,i){if(n==="input"||n==="change")return uu(i)}function MN(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var on=typeof Object.is=="function"?Object.is:MN;function lo(n,i){if(on(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Bn.call(i,f)||!on(n[f],i[f]))return!1}return!0}function wp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Np(n,i){var s=wp(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wp(s)}}function xp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Tp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ma(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ma(n.document)}return i}function qf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var BN=Er&&"documentMode"in document&&11>=document.documentMode,Ga=null,ed=null,uo=null,td=!1;function Cp(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;td||Ga==null||Ga!==Ma(l)||(l=Ga,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),uo&&lo(uo,l)||(uo=l,l=Pu(ed,"onSelect"),0<l.length&&(i=new ou("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=Ga)))}function Ji(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var ka={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},nd={},Ip={};Er&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ji(n){if(nd[n])return nd[n];if(!ka[n])return n;var i=ka[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ip)return nd[n]=i[s];return n}var Rp=ji("animationend"),Dp=ji("animationiteration"),_p=ji("animationstart"),LN=ji("transitionrun"),zN=ji("transitionstart"),UN=ji("transitioncancel"),Op=ji("transitionend"),Vp=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function zn(n,i){Vp.set(n,i),Sr(i,[n])}var cu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],Wa=0,id=0;function fu(){for(var n=Wa,i=id=Wa=0;i<n;){var s=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var f=Sn[i];Sn[i++]=null;var g=Sn[i];if(Sn[i++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}g!==0&&Mp(s,f,g)}}function du(n,i,s,l){Sn[Wa++]=n,Sn[Wa++]=i,Sn[Wa++]=s,Sn[Wa++]=l,id|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ad(n,i,s,l){return du(n,i,s,l),hu(n)}function $i(n,i){return du(n,null,null,i),hu(n)}function Mp(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,g=n.return;g!==null;)g.childLanes|=s,l=g.alternate,l!==null&&(l.childLanes|=s),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-Ht(s),n=g.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=s|536870912),g):null}function hu(n){if(50<Oo)throw Oo=0,gh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Xa={};function ZN(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,i,s,l){return new ZN(n,i,s,l)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wr(n,i){var s=n.alternate;return s===null?(s=ln(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Bp(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function gu(n,i,s,l,f,g){var b=0;if(l=n,typeof n=="function")sd(n)&&(b=1);else if(typeof n=="string")b=Xx(n,s,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case q:return n=ln(31,s,i,f),n.elementType=q,n.lanes=g,n;case A:return Pi(s.children,f,g,i);case R:b=8,f|=24;break;case x:return n=ln(12,s,i,f|2),n.elementType=x,n.lanes=g,n;case V:return n=ln(13,s,i,f),n.elementType=V,n.lanes=g,n;case B:return n=ln(19,s,i,f),n.elementType=B,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:b=10;break e;case U:b=9;break e;case I:b=11;break e;case M:b=14;break e;case X:b=16,l=null;break e}b=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=ln(b,s,i,f),i.elementType=n,i.type=l,i.lanes=g,i}function Pi(n,i,s,l){return n=ln(7,n,l,i),n.lanes=s,n}function od(n,i,s){return n=ln(6,n,null,i),n.lanes=s,n}function Lp(n){var i=ln(18,null,null,0);return i.stateNode=n,i}function ld(n,i,s){return i=ln(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var zp=new WeakMap;function An(n,i){if(typeof n=="object"&&n!==null){var s=zp.get(n);return s!==void 0?s:(i={value:n,source:i,stack:bn(i)},zp.set(n,i),i)}return{value:n,source:i,stack:bn(i)}}var Ka=[],Ha=0,mu=null,co=0,En=[],wn=0,ai=null,nr=1,rr="";function Nr(n,i){Ka[Ha++]=co,Ka[Ha++]=mu,mu=n,co=i}function Up(n,i,s){En[wn++]=nr,En[wn++]=rr,En[wn++]=ai,ai=n;var l=nr;n=rr;var f=32-Ht(l)-1;l&=~(1<<f),s+=1;var g=32-Ht(i)+f;if(30<g){var b=f-f%5;g=(l&(1<<b)-1).toString(32),l>>=b,f-=b,nr=1<<32-Ht(i)+f|s<<f|l,rr=g+n}else nr=1<<g|s<<f|l,rr=n}function ud(n){n.return!==null&&(Nr(n,1),Up(n,1,0))}function cd(n){for(;n===mu;)mu=Ka[--Ha],Ka[Ha]=null,co=Ka[--Ha],Ka[Ha]=null;for(;n===ai;)ai=En[--wn],En[wn]=null,rr=En[--wn],En[wn]=null,nr=En[--wn],En[wn]=null}function Zp(n,i){En[wn++]=nr,En[wn++]=rr,En[wn++]=ai,nr=i.id,rr=i.overflow,ai=n}var Vt=null,at=null,ke=!1,si=null,Nn=!1,fd=Error(a(519));function oi(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(An(i,n)),fd}function Yp(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[Ct]=n,i[Zt]=l,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<Mo.length;s++)ze(Mo[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),nu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),tp(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||rv(i.textContent,s)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Ar),i=!0):i=!1,i||oi(n,!0)}function Gp(n){for(Vt=n.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Vt=Vt.return}}function Fa(n){if(n!==Vt)return!1;if(!ke)return Gp(n),ke=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Rh(n.type,n.memoizedProps)),s=!s),s&&at&&oi(n),Gp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));at=dv(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));at=dv(n)}else i===27?(i=at,Ai(n.type)?(n=Mh,Mh=null,at=n):at=i):at=Vt?Tn(n.stateNode.nextSibling):null;return!0}function Qi(){at=Vt=null,ke=!1}function dd(){var n=si;return n!==null&&(qt===null?qt=n:qt.push.apply(qt,n),si=null),n}function fo(n){si===null?si=[n]:si.push(n)}var hd=C(null),qi=null,xr=null;function li(n,i,s){ee(hd,i._currentValue),i._currentValue=s}function Tr(n){n._currentValue=hd.current,L(hd)}function gd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function md(n,i,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){g.lanes|=s,w=g.alternate,w!==null&&(w.lanes|=s),gd(g.return,s,n),l||(b=null);break e}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(a(341));b.lanes|=s,g=b.alternate,g!==null&&(g.lanes|=s),gd(b,s,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ja(n,i,s,l){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var w=f.type;on(f.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(f===he.current){if(b=f.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Zo):n=[Zo])}f=f.return}n!==null&&md(i,n,s,l),i.flags|=262144}function pu(n){for(n=n.firstContext;n!==null;){if(!on(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ea(n){qi=n,xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mt(n){return kp(qi,n)}function yu(n,i){return qi===null&&ea(n),kp(n,i)}function kp(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},xr===null){if(n===null)throw Error(a(308));xr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else xr=xr.next=i;return s}var YN=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},GN=t.unstable_scheduleCallback,kN=t.unstable_NormalPriority,At={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new YN,data:new Map,refCount:0}}function ho(n){n.refCount--,n.refCount===0&&GN(kN,function(){n.controller.abort()})}var go=null,yd=0,ja=0,$a=null;function WN(n,i){if(go===null){var s=go=[];yd=0,ja=Sh(),$a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yd++,i.then(Wp,Wp),i}function Wp(){if(--yd===0&&go!==null){$a!==null&&($a.status="fulfilled");var n=go;go=null,ja=0,$a=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function XN(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Xp=T.S;T.S=function(n,i){C0=Ot(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&WN(n,i),Xp!==null&&Xp(n,i)};var ta=C(null);function vd(){var n=ta.current;return n!==null?n:rt.pooledCache}function vu(n,i){i===null?ee(ta,ta.current):ee(ta,i.pool)}function Kp(){var n=vd();return n===null?null:{parent:At._currentValue,pool:n}}var Pa=Error(a(460)),bd=Error(a(474)),bu=Error(a(542)),Su={then:function(){}};function Hp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fp(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Ar,Ar),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,jp(n),n;default:if(typeof i.status=="string")i.then(Ar,Ar);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,jp(n),n}throw ra=i,Pa}}function na(n){try{var i=n._init;return i(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ra=s,Pa):s}}var ra=null;function Jp(){if(ra===null)throw Error(a(459));var n=ra;return ra=null,n}function jp(n){if(n===Pa||n===bu)throw Error(a(483))}var Qa=null,mo=0;function Au(n){var i=mo;return mo+=1,Qa===null&&(Qa=[]),Fp(Qa,n,i)}function po(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Eu(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function $p(n){function i(k,z){if(n){var F=k.deletions;F===null?(k.deletions=[z],k.flags|=16):F.push(z)}}function s(k,z){if(!n)return null;for(;z!==null;)i(k,z),z=z.sibling;return null}function l(k){for(var z=new Map;k!==null;)k.key!==null?z.set(k.key,k):z.set(k.index,k),k=k.sibling;return z}function f(k,z){return k=wr(k,z),k.index=0,k.sibling=null,k}function g(k,z,F){return k.index=F,n?(F=k.alternate,F!==null?(F=F.index,F<z?(k.flags|=67108866,z):F):(k.flags|=67108866,z)):(k.flags|=1048576,z)}function b(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function w(k,z,F,se){return z===null||z.tag!==6?(z=od(F,k.mode,se),z.return=k,z):(z=f(z,F),z.return=k,z)}function D(k,z,F,se){var Ae=F.type;return Ae===A?ae(k,z,F.props.children,se,F.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&na(Ae)===z.type)?(z=f(z,F.props),po(z,F),z.return=k,z):(z=gu(F.type,F.key,F.props,null,k.mode,se),po(z,F),z.return=k,z)}function J(k,z,F,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=ld(F,k.mode,se),z.return=k,z):(z=f(z,F.children||[]),z.return=k,z)}function ae(k,z,F,se,Ae){return z===null||z.tag!==7?(z=Pi(F,k.mode,se,Ae),z.return=k,z):(z=f(z,F),z.return=k,z)}function oe(k,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=od(""+z,k.mode,F),z.return=k,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return F=gu(z.type,z.key,z.props,null,k.mode,F),po(F,z),F.return=k,F;case E:return z=ld(z,k.mode,F),z.return=k,z;case X:return z=na(z),oe(k,z,F)}if(K(z)||te(z))return z=Pi(z,k.mode,F,null),z.return=k,z;if(typeof z.then=="function")return oe(k,Au(z),F);if(z.$$typeof===N)return oe(k,yu(k,z),F);Eu(k,z)}return null}function j(k,z,F,se){var Ae=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ae!==null?null:w(k,z,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===Ae?D(k,z,F,se):null;case E:return F.key===Ae?J(k,z,F,se):null;case X:return F=na(F),j(k,z,F,se)}if(K(F)||te(F))return Ae!==null?null:ae(k,z,F,se,null);if(typeof F.then=="function")return j(k,z,Au(F),se);if(F.$$typeof===N)return j(k,z,yu(k,F),se);Eu(k,F)}return null}function Q(k,z,F,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return k=k.get(F)||null,w(z,k,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return k=k.get(se.key===null?F:se.key)||null,D(z,k,se,Ae);case E:return k=k.get(se.key===null?F:se.key)||null,J(z,k,se,Ae);case X:return se=na(se),Q(k,z,F,se,Ae)}if(K(se)||te(se))return k=k.get(F)||null,ae(z,k,se,Ae,null);if(typeof se.then=="function")return Q(k,z,F,Au(se),Ae);if(se.$$typeof===N)return Q(k,z,F,yu(z,se),Ae);Eu(z,se)}return null}function ye(k,z,F,se){for(var Ae=null,Ke=null,ve=z,Oe=z=0,Ge=null;ve!==null&&Oe<F.length;Oe++){ve.index>Oe?(Ge=ve,ve=null):Ge=ve.sibling;var He=j(k,ve,F[Oe],se);if(He===null){ve===null&&(ve=Ge);break}n&&ve&&He.alternate===null&&i(k,ve),z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He,ve=Ge}if(Oe===F.length)return s(k,ve),ke&&Nr(k,Oe),Ae;if(ve===null){for(;Oe<F.length;Oe++)ve=oe(k,F[Oe],se),ve!==null&&(z=g(ve,z,Oe),Ke===null?Ae=ve:Ke.sibling=ve,Ke=ve);return ke&&Nr(k,Oe),Ae}for(ve=l(ve);Oe<F.length;Oe++)Ge=Q(ve,k,Oe,F[Oe],se),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Oe:Ge.key),z=g(Ge,z,Oe),Ke===null?Ae=Ge:Ke.sibling=Ge,Ke=Ge);return n&&ve.forEach(function(Ti){return i(k,Ti)}),ke&&Nr(k,Oe),Ae}function xe(k,z,F,se){if(F==null)throw Error(a(151));for(var Ae=null,Ke=null,ve=z,Oe=z=0,Ge=null,He=F.next();ve!==null&&!He.done;Oe++,He=F.next()){ve.index>Oe?(Ge=ve,ve=null):Ge=ve.sibling;var Ti=j(k,ve,He.value,se);if(Ti===null){ve===null&&(ve=Ge);break}n&&ve&&Ti.alternate===null&&i(k,ve),z=g(Ti,z,Oe),Ke===null?Ae=Ti:Ke.sibling=Ti,Ke=Ti,ve=Ge}if(He.done)return s(k,ve),ke&&Nr(k,Oe),Ae;if(ve===null){for(;!He.done;Oe++,He=F.next())He=oe(k,He.value,se),He!==null&&(z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He);return ke&&Nr(k,Oe),Ae}for(ve=l(ve);!He.done;Oe++,He=F.next())He=Q(ve,k,Oe,He.value,se),He!==null&&(n&&He.alternate!==null&&ve.delete(He.key===null?Oe:He.key),z=g(He,z,Oe),Ke===null?Ae=He:Ke.sibling=He,Ke=He);return n&&ve.forEach(function(t2){return i(k,t2)}),ke&&Nr(k,Oe),Ae}function nt(k,z,F,se){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var Ae=F.key;z!==null;){if(z.key===Ae){if(Ae=F.type,Ae===A){if(z.tag===7){s(k,z.sibling),se=f(z,F.props.children),se.return=k,k=se;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&na(Ae)===z.type){s(k,z.sibling),se=f(z,F.props),po(se,F),se.return=k,k=se;break e}s(k,z);break}else i(k,z);z=z.sibling}F.type===A?(se=Pi(F.props.children,k.mode,se,F.key),se.return=k,k=se):(se=gu(F.type,F.key,F.props,null,k.mode,se),po(se,F),se.return=k,k=se)}return b(k);case E:e:{for(Ae=F.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(k,z.sibling),se=f(z,F.children||[]),se.return=k,k=se;break e}else{s(k,z);break}else i(k,z);z=z.sibling}se=ld(F,k.mode,se),se.return=k,k=se}return b(k);case X:return F=na(F),nt(k,z,F,se)}if(K(F))return ye(k,z,F,se);if(te(F)){if(Ae=te(F),typeof Ae!="function")throw Error(a(150));return F=Ae.call(F),xe(k,z,F,se)}if(typeof F.then=="function")return nt(k,z,Au(F),se);if(F.$$typeof===N)return nt(k,z,yu(k,F),se);Eu(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(s(k,z.sibling),se=f(z,F),se.return=k,k=se):(s(k,z),se=od(F,k.mode,se),se.return=k,k=se),b(k)):s(k,z)}return function(k,z,F,se){try{mo=0;var Ae=nt(k,z,F,se);return Qa=null,Ae}catch(ve){if(ve===Pa||ve===bu)throw ve;var Ke=ln(29,ve,null,k.mode);return Ke.lanes=se,Ke.return=k,Ke}finally{}}}var ia=$p(!0),Pp=$p(!1),ui=!1;function Sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ci(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fi(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=hu(n),Mp(n,null,s),i}return du(n,l,i,s),hu(n)}function yo(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Kl(n,s)}}function Ed(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,s=s.next}while(s!==null);g===null?f=g=i:g=g.next=i}else f=g=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var wd=!1;function vo(){if(wd){var n=$a;if(n!==null)throw n}}function bo(n,i,s,l){wd=!1;var f=n.updateQueue;ui=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,J=D.next;D.next=null,b===null?g=J:b.next=J,b=D;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,w=ae.lastBaseUpdate,w!==b&&(w===null?ae.firstBaseUpdate=J:w.next=J,ae.lastBaseUpdate=D))}if(g!==null){var oe=f.baseState;b=0,ae=J=D=null,w=g;do{var j=w.lane&-536870913,Q=j!==w.lane;if(Q?(Ye&j)===j:(l&j)===j){j!==0&&j===ja&&(wd=!0),ae!==null&&(ae=ae.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=n,xe=w;j=i;var nt=s;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){oe=ye.call(nt,oe,j);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,j=typeof ye=="function"?ye.call(nt,oe,j):ye,j==null)break e;oe=y({},oe,j);break e;case 2:ui=!0}}j=w.callback,j!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[j]:Q.push(j))}else Q={lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ae===null?(J=ae=Q,D=oe):ae=ae.next=Q,b|=j;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ae===null&&(D=oe),f.baseState=D,f.firstBaseUpdate=J,f.lastBaseUpdate=ae,g===null&&(f.shared.lanes=0),pi|=b,n.lanes=b,n.memoizedState=oe}}function Qp(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function qp(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Qp(s[n],i)}var qa=C(null),wu=C(0);function ey(n,i){n=Br,ee(wu,n),ee(qa,i),Br=n|i.baseLanes}function Nd(){ee(wu,Br),ee(qa,qa.current)}function xd(){Br=wu.current,L(qa),L(wu)}var un=C(null),xn=null;function di(n){var i=n.alternate;ee(pt,pt.current&1),ee(un,n),xn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(xn=n)}function Td(n){ee(pt,pt.current),ee(un,n),xn===null&&(xn=n)}function ty(n){n.tag===22?(ee(pt,pt.current),ee(un,n),xn===null&&(xn=n)):hi()}function hi(){ee(pt,pt.current),ee(un,un.current)}function cn(n){L(un),xn===n&&(xn=null),L(pt)}var pt=C(0);function Nu(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Oh(s)||Vh(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cr=0,De=null,et=null,Et=null,xu=!1,es=!1,aa=!1,Tu=0,So=0,ts=null,KN=0;function gt(){throw Error(a(321))}function Cd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!on(n[s],i[s]))return!1;return!0}function Id(n,i,s,l,f,g){return Cr=g,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,T.H=n===null||n.memoizedState===null?Uy:Wd,aa=!1,g=s(l,f),aa=!1,es&&(g=ry(i,s,l,f)),ny(n),g}function ny(n){T.H=wo;var i=et!==null&&et.next!==null;if(Cr=0,Et=et=De=null,xu=!1,So=0,ts=null,i)throw Error(a(300));n===null||wt||(n=n.dependencies,n!==null&&pu(n)&&(wt=!0))}function ry(n,i,s,l){De=n;var f=0;do{if(es&&(ts=null),So=0,es=!1,25<=f)throw Error(a(301));if(f+=1,Et=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}T.H=Zy,g=i(s,l)}while(es);return g}function HN(){var n=T.H,i=n.useState()[0];return i=typeof i.then=="function"?Ao(i):i,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(De.flags|=1024),i}function Rd(){var n=Tu!==0;return Tu=0,n}function Dd(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function _d(n){if(xu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xu=!1}Cr=0,Et=et=De=null,es=!1,So=Tu=0,ts=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=n:Et=Et.next=n,Et}function yt(){if(et===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var i=Et===null?De.memoizedState:Et.next;if(i!==null)Et=i,et=n;else{if(n===null)throw De.alternate===null?Error(a(467)):Error(a(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Et===null?De.memoizedState=Et=n:Et=Et.next=n}return Et}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(n){var i=So;return So+=1,ts===null&&(ts=[]),n=Fp(ts,n,i),i=De,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,T.H=i===null||i.memoizedState===null?Uy:Wd),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ao(n);if(n.$$typeof===N)return Mt(n)}throw Error(a(438,String(n)))}function Od(n){var i=null,s=De.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Cu(),De.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=de;return i.index++,s}function Ir(n,i){return typeof i=="function"?i(n):i}function Ru(n){var i=yt();return Vd(i,et,n)}function Vd(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,g=l.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}i.baseQueue=f=g,l.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var w=b=null,D=null,J=i,ae=!1;do{var oe=J.lane&-536870913;if(oe!==J.lane?(Ye&oe)===oe:(Cr&oe)===oe){var j=J.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),oe===ja&&(ae=!0);else if((Cr&j)===j){J=J.next,j===ja&&(ae=!0);continue}else oe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=oe,b=g):D=D.next=oe,De.lanes|=j,pi|=j;oe=J.action,aa&&s(g,oe),g=J.hasEagerState?J.eagerState:s(g,oe)}else j={lane:oe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},D===null?(w=D=j,b=g):D=D.next=j,De.lanes|=oe,pi|=oe;J=J.next}while(J!==null&&J!==i);if(D===null?b=g:D.next=w,!on(g,n.memoizedState)&&(wt=!0,ae&&(s=$a,s!==null)))throw s;n.memoizedState=g,n.baseState=b,n.baseQueue=D,l.lastRenderedState=g}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Md(n){var i=yt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,g=i.memoizedState;if(f!==null){s.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);on(g,i.memoizedState)||(wt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),s.lastRenderedState=g}return[g,l]}function iy(n,i,s){var l=De,f=yt(),g=ke;if(g){if(s===void 0)throw Error(a(407));s=s()}else s=i();var b=!on((et||f).memoizedState,s);if(b&&(f.memoizedState=s,wt=!0),f=f.queue,zd(oy.bind(null,l,f,n),[n]),f.getSnapshot!==i||b||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,ns(9,{destroy:void 0},sy.bind(null,l,f,s,i),null),rt===null)throw Error(a(349));g||(Cr&127)!==0||ay(l,i,s)}return s}function ay(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=De.updateQueue,i===null?(i=Cu(),De.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function sy(n,i,s,l){i.value=s,i.getSnapshot=l,ly(i)&&uy(n)}function oy(n,i,s){return s(function(){ly(i)&&uy(n)})}function ly(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!on(n,s)}catch{return!0}}function uy(n){var i=$i(n,2);i!==null&&en(i,n,2)}function Bd(n){var i=Ft();if(typeof n=="function"){var s=n;if(n=s(),aa){er(!0);try{s()}finally{er(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:n},i}function cy(n,i,s,l){return n.baseState=s,Vd(n,et,typeof l=="function"?l:Ir)}function FN(n,i,s,l,f){if(Ou(n))throw Error(a(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};T.T!==null?s(!0):g.isTransition=!1,l(g),s=i.pending,s===null?(g.next=i.pending=g,fy(i,g)):(g.next=s.next,i.pending=s.next=g)}}function fy(n,i){var s=i.action,l=i.payload,f=n.state;if(i.isTransition){var g=T.T,b={};T.T=b;try{var w=s(f,l),D=T.S;D!==null&&D(b,w),dy(n,i,w)}catch(J){Ld(n,i,J)}finally{g!==null&&b.types!==null&&(g.types=b.types),T.T=g}}else try{g=s(f,l),dy(n,i,g)}catch(J){Ld(n,i,J)}}function dy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hy(n,i,l)},function(l){return Ld(n,i,l)}):hy(n,i,s)}function hy(n,i,s){i.status="fulfilled",i.value=s,gy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,fy(n,s)))}function Ld(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,gy(i),i=i.next;while(i!==l)}n.action=null}function gy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function my(n,i){return i}function py(n,i){if(ke){var s=rt.formState;if(s!==null){e:{var l=De;if(ke){if(at){t:{for(var f=at,g=Nn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Tn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){at=Tn(f.nextSibling),l=f.data==="F!";break e}}oi(l)}l=!1}l&&(i=s[0])}}return s=Ft(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},s.queue=l,s=By.bind(null,De,l),l.dispatch=s,l=Bd(!1),g=kd.bind(null,De,!1,l.queue),l=Ft(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,s=FN.bind(null,De,f,g,s),f.dispatch=s,l.memoizedState=n,[i,s,!1]}function yy(n){var i=yt();return vy(i,et,n)}function vy(n,i,s){if(i=Vd(n,i,my)[0],n=Ru(Ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ao(i)}catch(b){throw b===Pa?bu:b}else l=i;i=yt();var f=i.queue,g=f.dispatch;return s!==i.memoizedState&&(De.flags|=2048,ns(9,{destroy:void 0},JN.bind(null,f,s),null)),[l,g,n]}function JN(n,i){n.action=i}function by(n){var i=yt(),s=et;if(s!==null)return vy(i,s,n);yt(),i=i.memoizedState,s=yt();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function ns(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=Cu(),De.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Sy(){return yt().memoizedState}function Du(n,i,s,l){var f=Ft();De.flags|=n,f.memoizedState=ns(1|i,{destroy:void 0},s,l===void 0?null:l)}function _u(n,i,s,l){var f=yt();l=l===void 0?null:l;var g=f.memoizedState.inst;et!==null&&l!==null&&Cd(l,et.memoizedState.deps)?f.memoizedState=ns(i,g,s,l):(De.flags|=n,f.memoizedState=ns(1|i,g,s,l))}function Ay(n,i){Du(8390656,8,n,i)}function zd(n,i){_u(2048,8,n,i)}function jN(n){De.flags|=4;var i=De.updateQueue;if(i===null)i=Cu(),De.updateQueue=i,i.events=[n];else{var s=i.events;s===null?i.events=[n]:s.push(n)}}function Ey(n){var i=yt().memoizedState;return jN({ref:i,nextImpl:n}),function(){if((Fe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function wy(n,i){return _u(4,2,n,i)}function Ny(n,i){return _u(4,4,n,i)}function xy(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ty(n,i,s){s=s!=null?s.concat([n]):null,_u(4,4,xy.bind(null,i,n),s)}function Ud(){}function Cy(n,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Cd(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function Iy(n,i){var s=yt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Cd(i,l[1]))return l[0];if(l=n(),aa){er(!0);try{n()}finally{er(!1)}}return s.memoizedState=[l,i],l}function Zd(n,i,s){return s===void 0||(Cr&1073741824)!==0&&(Ye&261930)===0?n.memoizedState=i:(n.memoizedState=s,n=R0(),De.lanes|=n,pi|=n,s)}function Ry(n,i,s,l){return on(s,i)?s:qa.current!==null?(n=Zd(n,s,l),on(n,i)||(wt=!0),n):(Cr&42)===0||(Cr&1073741824)!==0&&(Ye&261930)===0?(wt=!0,n.memoizedState=s):(n=R0(),De.lanes|=n,pi|=n,i)}function Dy(n,i,s,l,f){var g=O.p;O.p=g!==0&&8>g?g:8;var b=T.T,w={};T.T=w,kd(n,!1,i,s);try{var D=f(),J=T.S;if(J!==null&&J(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ae=XN(D,l);Eo(n,i,ae,hn(n))}else Eo(n,i,l,hn(n))}catch(oe){Eo(n,i,{then:function(){},status:"rejected",reason:oe},hn())}finally{O.p=g,b!==null&&w.types!==null&&(b.types=w.types),T.T=b}}function $N(){}function Yd(n,i,s,l){if(n.tag!==5)throw Error(a(476));var f=_y(n).queue;Dy(n,f,i,Y,s===null?$N:function(){return Oy(n),s(l)})}function _y(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:Y},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Oy(n){var i=_y(n);i.next===null&&(i=n.alternate.memoizedState),Eo(n,i.next.queue,{},hn())}function Gd(){return Mt(Zo)}function Vy(){return yt().memoizedState}function My(){return yt().memoizedState}function PN(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=hn();n=ci(s);var l=fi(i,n,s);l!==null&&(en(l,i,s),yo(l,i,s)),i={cache:pd()},n.payload=i;return}i=i.return}}function QN(n,i,s){var l=hn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ou(n)?Ly(i,s):(s=ad(n,i,s,l),s!==null&&(en(s,n,l),zy(s,i,l)))}function By(n,i,s){var l=hn();Eo(n,i,s,l)}function Eo(n,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ou(n))Ly(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,w=g(b,s);if(f.hasEagerState=!0,f.eagerState=w,on(w,b))return du(n,i,f,0),rt===null&&fu(),!1}catch{}finally{}if(s=ad(n,i,f,l),s!==null)return en(s,n,l),zy(s,i,l),!0}return!1}function kd(n,i,s,l){if(l={lane:2,revertLane:Sh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(n)){if(i)throw Error(a(479))}else i=ad(n,s,l,2),i!==null&&en(i,n,2)}function Ou(n){var i=n.alternate;return n===De||i!==null&&i===De}function Ly(n,i){es=xu=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function zy(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,Kl(n,s)}}var wo={readContext:Mt,use:Iu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};wo.useEffectEvent=gt;var Uy={readContext:Mt,use:Iu,useCallback:function(n,i){return Ft().memoizedState=[n,i===void 0?null:i],n},useContext:Mt,useEffect:Ay,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Du(4194308,4,xy.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Du(4194308,4,n,i)},useInsertionEffect:function(n,i){Du(4,2,n,i)},useMemo:function(n,i){var s=Ft();i=i===void 0?null:i;var l=n();if(aa){er(!0);try{n()}finally{er(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=Ft();if(s!==void 0){var f=s(i);if(aa){er(!0);try{s(i)}finally{er(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=QN.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var i=Ft();return n={current:n},i.memoizedState=n},useState:function(n){n=Bd(n);var i=n.queue,s=By.bind(null,De,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Ud,useDeferredValue:function(n,i){var s=Ft();return Zd(s,n,i)},useTransition:function(){var n=Bd(!1);return n=Dy.bind(null,De,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=De,f=Ft();if(ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),rt===null)throw Error(a(349));(Ye&127)!==0||ay(l,i,s)}f.memoizedState=s;var g={value:s,getSnapshot:i};return f.queue=g,Ay(oy.bind(null,l,g,n),[n]),l.flags|=2048,ns(9,{destroy:void 0},sy.bind(null,l,g,s,i),null),s},useId:function(){var n=Ft(),i=rt.identifierPrefix;if(ke){var s=rr,l=nr;s=(l&~(1<<32-Ht(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Tu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=KN++,i="_"+i+"r_"+s.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Gd,useFormState:py,useActionState:py,useOptimistic:function(n){var i=Ft();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=kd.bind(null,De,!0,s),s.dispatch=i,[n,i]},useMemoCache:Od,useCacheRefresh:function(){return Ft().memoizedState=PN.bind(null,De)},useEffectEvent:function(n){var i=Ft(),s={impl:n};return i.memoizedState=s,function(){if((Fe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Wd={readContext:Mt,use:Iu,useCallback:Cy,useContext:Mt,useEffect:zd,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Iy,useReducer:Ru,useRef:Sy,useState:function(){return Ru(Ir)},useDebugValue:Ud,useDeferredValue:function(n,i){var s=yt();return Ry(s,et.memoizedState,n,i)},useTransition:function(){var n=Ru(Ir)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:Ao(n),i]},useSyncExternalStore:iy,useId:Vy,useHostTransitionStatus:Gd,useFormState:yy,useActionState:yy,useOptimistic:function(n,i){var s=yt();return cy(s,et,n,i)},useMemoCache:Od,useCacheRefresh:My};Wd.useEffectEvent=Ey;var Zy={readContext:Mt,use:Iu,useCallback:Cy,useContext:Mt,useEffect:zd,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Iy,useReducer:Md,useRef:Sy,useState:function(){return Md(Ir)},useDebugValue:Ud,useDeferredValue:function(n,i){var s=yt();return et===null?Zd(s,n,i):Ry(s,et.memoizedState,n,i)},useTransition:function(){var n=Md(Ir)[0],i=yt().memoizedState;return[typeof n=="boolean"?n:Ao(n),i]},useSyncExternalStore:iy,useId:Vy,useHostTransitionStatus:Gd,useFormState:by,useActionState:by,useOptimistic:function(n,i){var s=yt();return et!==null?cy(s,et,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Od,useCacheRefresh:My};Zy.useEffectEvent=Ey;function Xd(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:y({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Kd={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=hn(),f=ci(l);f.payload=i,s!=null&&(f.callback=s),i=fi(n,f,l),i!==null&&(en(i,n,l),yo(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=hn(),f=ci(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=fi(n,f,l),i!==null&&(en(i,n,l),yo(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=hn(),l=ci(s);l.tag=2,i!=null&&(l.callback=i),i=fi(n,l,s),i!==null&&(en(i,n,s),yo(i,n,s))}};function Yy(n,i,s,l,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,g,b):i.prototype&&i.prototype.isPureReactComponent?!lo(s,l)||!lo(f,g):!0}function Gy(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&Kd.enqueueReplaceState(i,i.state,null)}function sa(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=y({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function ky(n){cu(n)}function Wy(n){console.error(n)}function Xy(n){cu(n)}function Vu(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hd(n,i,s){return s=ci(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(n,i)},s}function Hy(n){return n=ci(n),n.tag=3,n}function Fy(n,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;n.payload=function(){return f(g)},n.callback=function(){Ky(i,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Ky(i,s,l),typeof f!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function qN(n,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ja(i,s,f,!0),s=un.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?Ku():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Su?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),yh(n,l,f)),!1;case 22:return s.flags|=65536,l===Su?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),yh(n,l,f)),!1}throw Error(a(435,s.tag))}return yh(n,l,f),Ku(),!1}if(ke)return i=un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==fd&&(n=Error(a(422),{cause:l}),fo(An(n,s)))):(l!==fd&&(i=Error(a(423),{cause:l}),fo(An(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=An(l,s),f=Hd(n.stateNode,l,f),Ed(n,f),mt!==4&&(mt=2)),!1;var g=Error(a(520),{cause:l});if(g=An(g,s),_o===null?_o=[g]:_o.push(g),mt!==4&&(mt=2),i===null)return!0;l=An(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Hd(s.stateNode,l,n),Ed(s,n),!1;case 1:if(i=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yi===null||!yi.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Hy(f),Fy(f,n,s,l),Ed(s,f),!1}s=s.return}while(s!==null);return!1}var Fd=Error(a(461)),wt=!1;function Bt(n,i,s,l){i.child=n===null?Pp(i,null,s,l):ia(i,n.child,s,l)}function Jy(n,i,s,l,f){s=s.render;var g=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return ea(i),l=Id(n,i,s,b,g,f),w=Rd(),n!==null&&!wt?(Dd(n,i,f),Rr(n,i,f)):(ke&&w&&ud(i),i.flags|=1,Bt(n,i,l,f),i.child)}function jy(n,i,s,l,f){if(n===null){var g=s.type;return typeof g=="function"&&!sd(g)&&g.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=g,$y(n,i,g,l,f)):(n=gu(s.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!th(n,f)){var b=g.memoizedProps;if(s=s.compare,s=s!==null?s:lo,s(b,l)&&n.ref===i.ref)return Rr(n,i,f)}return i.flags|=1,n=wr(g,l),n.ref=i.ref,n.return=i,i.child=n}function $y(n,i,s,l,f){if(n!==null){var g=n.memoizedProps;if(lo(g,l)&&n.ref===i.ref)if(wt=!1,i.pendingProps=l=g,th(n,f))(n.flags&131072)!==0&&(wt=!0);else return i.lanes=n.lanes,Rr(n,i,f)}return Jd(n,i,s,l,f)}function Py(n,i,s,l){var f=l.children,g=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|s:s,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~g}else l=0,i.child=null;return Qy(n,i,g,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&vu(i,g!==null?g.cachePool:null),g!==null?ey(i,g):Nd(),ty(i);else return l=i.lanes=536870912,Qy(n,i,g!==null?g.baseLanes|s:s,s,l)}else g!==null?(vu(i,g.cachePool),ey(i,g),hi(),i.memoizedState=null):(n!==null&&vu(i,null),Nd(),hi());return Bt(n,i,f,s),i.child}function No(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Qy(n,i,s,l,f){var g=vd();return g=g===null?null:{parent:At._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},n!==null&&vu(i,null),Nd(),ty(i),n!==null&&Ja(n,i,l,!0),i.childLanes=f,null}function Mu(n,i){return i=Lu({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function qy(n,i,s){return ia(i,n.child,null,s),n=Mu(i,i.pendingProps),n.flags|=2,cn(i),i.memoizedState=null,n}function ex(n,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(ke){if(l.mode==="hidden")return n=Mu(i,l),i.lanes=536870912,No(null,n);if(Td(i),(n=at)?(n=fv(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ai!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},s=Lp(n),s.return=i,i.child=s,Vt=i,at=null)):n=null,n===null)throw oi(i);return i.lanes=536870912,null}return Mu(i,l)}var g=n.memoizedState;if(g!==null){var b=g.dehydrated;if(Td(i),f)if(i.flags&256)i.flags&=-257,i=qy(n,i,s);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(wt||Ja(n,i,s,!1),f=(s&n.childLanes)!==0,wt||f){if(l=rt,l!==null&&(b=Hl(l,s),b!==0&&b!==g.retryLane))throw g.retryLane=b,$i(n,b),en(l,n,b),Fd;Ku(),i=qy(n,i,s)}else n=g.treeContext,at=Tn(b.nextSibling),Vt=i,ke=!0,si=null,Nn=!1,n!==null&&Zp(i,n),i=Mu(i,l),i.flags|=4096;return i}return n=wr(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Bu(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Jd(n,i,s,l,f){return ea(i),s=Id(n,i,s,l,void 0,f),l=Rd(),n!==null&&!wt?(Dd(n,i,f),Rr(n,i,f)):(ke&&l&&ud(i),i.flags|=1,Bt(n,i,s,f),i.child)}function e0(n,i,s,l,f,g){return ea(i),i.updateQueue=null,s=ry(i,l,s,f),ny(n),l=Rd(),n!==null&&!wt?(Dd(n,i,g),Rr(n,i,g)):(ke&&l&&ud(i),i.flags|=1,Bt(n,i,s,g),i.child)}function t0(n,i,s,l,f){if(ea(i),i.stateNode===null){var g=Xa,b=s.contextType;typeof b=="object"&&b!==null&&(g=Mt(b)),g=new s(l,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Kd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=l,g.state=i.memoizedState,g.refs={},Sd(i),b=s.contextType,g.context=typeof b=="object"&&b!==null?Mt(b):Xa,g.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Xd(i,s,b,l),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Kd.enqueueReplaceState(g,g.state,null),bo(i,l,g,f),vo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){g=i.stateNode;var w=i.memoizedProps,D=sa(s,w);g.props=D;var J=g.context,ae=s.contextType;b=Xa,typeof ae=="object"&&ae!==null&&(b=Mt(ae));var oe=s.getDerivedStateFromProps;ae=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||J!==b)&&Gy(i,g,l,b),ui=!1;var j=i.memoizedState;g.state=j,bo(i,l,g,f),vo(),J=i.memoizedState,w||j!==J||ui?(typeof oe=="function"&&(Xd(i,s,oe,l),J=i.memoizedState),(D=ui||Yy(i,s,D,l,j,J,b))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=J),g.props=l,g.state=J,g.context=b,l=D):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{g=i.stateNode,Ad(n,i),b=i.memoizedProps,ae=sa(s,b),g.props=ae,oe=i.pendingProps,j=g.context,J=s.contextType,D=Xa,typeof J=="object"&&J!==null&&(D=Mt(J)),w=s.getDerivedStateFromProps,(J=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||j!==D)&&Gy(i,g,l,D),ui=!1,j=i.memoizedState,g.state=j,bo(i,l,g,f),vo();var Q=i.memoizedState;b!==oe||j!==Q||ui||n!==null&&n.dependencies!==null&&pu(n.dependencies)?(typeof w=="function"&&(Xd(i,s,w,l),Q=i.memoizedState),(ae=ui||Yy(i,s,ae,l,j,Q,D)||n!==null&&n.dependencies!==null&&pu(n.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,Q,D)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),g.props=l,g.state=Q,g.context=D,l=ae):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(i.flags|=1024),l=!1)}return g=l,Bu(n,i),l=(i.flags&128)!==0,g||l?(g=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&l?(i.child=ia(i,n.child,null,f),i.child=ia(i,null,s,f)):Bt(n,i,s,f),i.memoizedState=g.state,n=i.child):n=Rr(n,i,f),n}function n0(n,i,s,l){return Qi(),i.flags|=256,Bt(n,i,s,l),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(n){return{baseLanes:n,cachePool:Kp()}}function Pd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=dn),n}function r0(n,i,s){var l=i.pendingProps,f=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(pt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(ke){if(f?di(i):hi(),(n=at)?(n=fv(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ai!==null?{id:nr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},s=Lp(n),s.return=i,i.child=s,Vt=i,at=null)):n=null,n===null)throw oi(i);return Vh(n)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(hi(),f=i.mode,w=Lu({mode:"hidden",children:w},f),l=Pi(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=$d(s),l.childLanes=Pd(n,b,s),i.memoizedState=jd,No(null,l)):(di(i),Qd(i,w))}var D=n.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(g)i.flags&256?(di(i),i.flags&=-257,i=qd(n,i,s)):i.memoizedState!==null?(hi(),i.child=n.child,i.flags|=128,i=null):(hi(),w=l.fallback,f=i.mode,l=Lu({mode:"visible",children:l.children},f),w=Pi(w,f,s,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,ia(i,n.child,null,s),l=i.child,l.memoizedState=$d(s),l.childLanes=Pd(n,b,s),i.memoizedState=jd,i=No(null,l));else if(di(i),Vh(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var J=b.dgst;b=J,l=Error(a(419)),l.stack="",l.digest=b,fo({value:l,source:null,stack:null}),i=qd(n,i,s)}else if(wt||Ja(n,i,s,!1),b=(s&n.childLanes)!==0,wt||b){if(b=rt,b!==null&&(l=Hl(b,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,$i(n,l),en(b,n,l),Fd;Oh(w)||Ku(),i=qd(n,i,s)}else Oh(w)?(i.flags|=192,i.child=n.child,i=null):(n=D.treeContext,at=Tn(w.nextSibling),Vt=i,ke=!0,si=null,Nn=!1,n!==null&&Zp(i,n),i=Qd(i,l.children),i.flags|=4096);return i}return f?(hi(),w=l.fallback,f=i.mode,D=n.child,J=D.sibling,l=wr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,J!==null?w=wr(J,w):(w=Pi(w,f,s,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,No(null,l),l=i.child,w=n.child.memoizedState,w===null?w=$d(s):(f=w.cachePool,f!==null?(D=At._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Kp(),w={baseLanes:w.baseLanes|s,cachePool:f}),l.memoizedState=w,l.childLanes=Pd(n,b,s),i.memoizedState=jd,No(n.child,l)):(di(i),s=n.child,n=s.sibling,s=wr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=s,i.memoizedState=null,s)}function Qd(n,i){return i=Lu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Lu(n,i){return n=ln(22,n,null,i),n.lanes=0,n}function qd(n,i,s){return ia(i,n.child,null,s),n=Qd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function i0(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),gd(n.return,i,s)}function eh(n,i,s,l,f,g){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=f,b.treeForkCount=g)}function a0(n,i,s){var l=i.pendingProps,f=l.revealOrder,g=l.tail;l=l.children;var b=pt.current,w=(b&2)!==0;if(w?(b=b&1|2,i.flags|=128):b&=1,ee(pt,b),Bt(n,i,l,s),l=ke?co:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i0(n,s,i);else if(n.tag===19)i0(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Nu(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),eh(i,!1,f,s,g,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Nu(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}eh(i,!0,s,null,g,l);break;case"together":eh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Rr(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),pi|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Ja(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=wr(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=wr(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function th(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&pu(n)))}function tx(n,i,s){switch(i.tag){case 3:ce(i,i.stateNode.containerInfo),li(i,At,n.memoizedState.cache),Qi();break;case 27:case 5:_e(i);break;case 4:ce(i,i.stateNode.containerInfo);break;case 10:li(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Td(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(di(i),i.flags|=128,null):(s&i.child.childLanes)!==0?r0(n,i,s):(di(i),n=Rr(n,i,s),n!==null?n.sibling:null);di(i);break;case 19:var f=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ja(n,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return a0(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Py(n,i,s,i.pendingProps);case 24:li(i,At,n.memoizedState.cache)}return Rr(n,i,s)}function s0(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)wt=!0;else{if(!th(n,s)&&(i.flags&128)===0)return wt=!1,tx(n,i,s);wt=(n.flags&131072)!==0}else wt=!1,ke&&(i.flags&1048576)!==0&&Up(i,co,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=na(i.elementType),i.type=n,typeof n=="function")sd(n)?(l=sa(n,l),i.tag=1,i=t0(null,i,n,l,s)):(i.tag=0,i=Jd(null,i,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===I){i.tag=11,i=Jy(null,i,n,l,s);break e}else if(f===M){i.tag=14,i=jy(null,i,n,l,s);break e}}throw i=_(n)||n,Error(a(306,i,""))}}return i;case 0:return Jd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=sa(l,i.pendingProps),t0(n,i,l,f,s);case 3:e:{if(ce(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var g=i.memoizedState;f=g.element,Ad(n,i),bo(i,l,null,s);var b=i.memoizedState;if(l=b.cache,li(i,At,l),l!==g.cache&&md(i,[At],s,!0),vo(),l=b.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=n0(n,i,l,s);break e}else if(l!==f){f=An(Error(a(424)),i),fo(f),i=n0(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=Tn(n.firstChild),Vt=i,ke=!0,si=null,Nn=!0,s=Pp(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qi(),l===f){i=Rr(n,i,s);break e}Bt(n,i,l,s)}i=i.child}return i;case 26:return Bu(n,i),n===null?(s=yv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ke||(s=i.type,n=i.pendingProps,l=Qu(ge.current).createElement(s),l[Ct]=i,l[Zt]=n,Lt(l,s,n),St(l),i.stateNode=l):i.memoizedState=yv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _e(i),n===null&&ke&&(l=i.stateNode=gv(i.type,i.pendingProps,ge.current),Vt=i,Nn=!0,f=at,Ai(i.type)?(Mh=f,at=Tn(l.firstChild)):at=f),Bt(n,i,i.pendingProps.children,s),Bu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ke&&((f=l=at)&&(l=_x(l,i.type,i.pendingProps,Nn),l!==null?(i.stateNode=l,Vt=i,at=Tn(l.firstChild),Nn=!1,f=!0):f=!1),f||oi(i)),_e(i),f=i.type,g=i.pendingProps,b=n!==null?n.memoizedProps:null,l=g.children,Rh(f,g)?l=null:b!==null&&Rh(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Id(n,i,HN,null,null,s),Zo._currentValue=f),Bu(n,i),Bt(n,i,l,s),i.child;case 6:return n===null&&ke&&((n=s=at)&&(s=Ox(s,i.pendingProps,Nn),s!==null?(i.stateNode=s,Vt=i,at=null,n=!0):n=!1),n||oi(i)),null;case 13:return r0(n,i,s);case 4:return ce(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ia(i,null,l,s):Bt(n,i,l,s),i.child;case 11:return Jy(n,i,i.type,i.pendingProps,s);case 7:return Bt(n,i,i.pendingProps,s),i.child;case 8:return Bt(n,i,i.pendingProps.children,s),i.child;case 12:return Bt(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,li(i,i.type,l.value),Bt(n,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ea(i),f=Mt(f),l=l(f),i.flags|=1,Bt(n,i,l,s),i.child;case 14:return jy(n,i,i.type,i.pendingProps,s);case 15:return $y(n,i,i.type,i.pendingProps,s);case 19:return a0(n,i,s);case 31:return ex(n,i,s);case 22:return Py(n,i,s,i.pendingProps);case 24:return ea(i),l=Mt(At),n===null?(f=vd(),f===null&&(f=rt,g=pd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),i.memoizedState={parent:l,cache:f},Sd(i),li(i,At,f)):((n.lanes&s)!==0&&(Ad(n,i),bo(i,null,null,s),vo()),f=n.memoizedState,g=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),li(i,At,l)):(l=g.cache,li(i,At,l),l!==f.cache&&md(i,[At],s,!0))),Bt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Dr(n){n.flags|=4}function nh(n,i,s,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(V0())n.flags|=8192;else throw ra=Su,bd}else n.flags&=-16777217}function o0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ev(i))if(V0())n.flags|=8192;else throw ra=Su,bd}function zu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Wl():536870912,n.lanes|=i,ss|=i)}function xo(n,i){if(!ke)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function nx(n,i,s){var l=i.pendingProps;switch(cd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Tr(At),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Fa(i)?Dr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dd())),st(i),null;case 26:var f=i.type,g=i.memoizedState;return n===null?(Dr(i),g!==null?(st(i),o0(i,g)):(st(i),nh(i,f,null,l,s))):g?g!==n.memoizedState?(Dr(i),st(i),o0(i,g)):(st(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&Dr(i),st(i),nh(i,f,n,l,s)),null;case 27:if(Re(i),s=ge.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Dr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}n=re.current,Fa(i)?Yp(i):(n=gv(f,l,s),i.stateNode=n,Dr(i))}return st(i),null;case 5:if(Re(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Dr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return st(i),null}if(g=re.current,Fa(i))Yp(i);else{var b=Qu(ge.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}g[Ct]=i,g[Zt]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;e:switch(Lt(g,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Dr(i)}}return st(i),nh(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,s),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Dr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=ge.current,Fa(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,f=Vt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rv(n.nodeValue,s)),n||oi(i,!0)}else n=Qu(n).createTextNode(l),n[Ct]=i,i.stateNode=n}return st(i),null;case 31:if(s=i.memoizedState,n===null||n.memoizedState!==null){if(l=Fa(i),s!==null){if(n===null){if(!l)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Ct]=i}else Qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),n=!1}else s=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return i.flags&256?(cn(i),i):(cn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return st(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fa(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ct]=i}else Qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(cn(i),i):(cn(i),null)}return cn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)),s!==n&&s&&(i.child.flags|=8192),zu(i,i.updateQueue),st(i),null);case 4:return me(),n===null&&Nh(i.stateNode.containerInfo),st(i),null;case 10:return Tr(i.type),st(i),null;case 19:if(L(pt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,g=l.rendering,g===null)if(f)xo(l,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=Nu(n),g!==null){for(i.flags|=128,xo(l,!1),n=g.updateQueue,i.updateQueue=n,zu(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Bp(s,n),s=s.sibling;return ee(pt,pt.current&1|2),ke&&Nr(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Ot()>ku&&(i.flags|=128,f=!0,xo(l,!1),i.lanes=4194304)}else{if(!f)if(n=Nu(g),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,zu(i,n),xo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!ke)return st(i),null}else 2*Ot()-l.renderingStartTime>ku&&s!==536870912&&(i.flags|=128,f=!0,xo(l,!1),i.lanes=4194304);l.isBackwards?(g.sibling=i.child,i.child=g):(n=l.last,n!==null?n.sibling=g:i.child=g,l.last=g)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ot(),n.sibling=null,s=pt.current,ee(pt,f?s&1|2:s&1),ke&&Nr(i,l.treeForkCount),n):(st(i),null);case 22:case 23:return cn(i),xd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),s=i.updateQueue,s!==null&&zu(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&L(ta),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Tr(At),st(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function rx(n,i){switch(cd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Tr(At),me(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Re(i),null;case 31:if(i.memoizedState!==null){if(cn(i),i.alternate===null)throw Error(a(340));Qi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(cn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Qi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return L(pt),null;case 4:return me(),null;case 10:return Tr(i.type),null;case 22:case 23:return cn(i),xd(),n!==null&&L(ta),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Tr(At),null;case 25:return null;default:return null}}function l0(n,i){switch(cd(i),i.tag){case 3:Tr(At),me();break;case 26:case 27:case 5:Re(i);break;case 4:me();break;case 31:i.memoizedState!==null&&cn(i);break;case 13:cn(i);break;case 19:L(pt);break;case 10:Tr(i.type);break;case 22:case 23:cn(i),xd(),n!==null&&L(ta);break;case 24:Tr(At)}}function To(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var g=s.create,b=s.inst;l=g(),b.destroy=l}s=s.next}while(s!==f)}}catch(w){$e(i,i.return,w)}}function gi(n,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=i;var D=s,J=w;try{J()}catch(ae){$e(f,D,ae)}}}l=l.next}while(l!==g)}}catch(ae){$e(i,i.return,ae)}}function u0(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{qp(i,s)}catch(l){$e(n,n.return,l)}}}function c0(n,i,s){s.props=sa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){$e(n,i,l)}}function Co(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){$e(n,i,f)}}function ir(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){$e(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){$e(n,i,f)}else s.current=null}function f0(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){$e(n,n.return,f)}}function rh(n,i,s){try{var l=n.stateNode;xx(l,n.type,s,i),l[Zt]=i}catch(f){$e(n,n.return,f)}}function d0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ai(n.type)||n.tag===4}function ih(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ai(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ah(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Ar));else if(l!==4&&(l===27&&Ai(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(ah(n,i,s),n=n.sibling;n!==null;)ah(n,i,s),n=n.sibling}function Uu(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&Ai(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Uu(n,i,s),n=n.sibling;n!==null;)Uu(n,i,s),n=n.sibling}function h0(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Lt(i,l,s),i[Ct]=n,i[Zt]=s}catch(g){$e(n,n.return,g)}}var _r=!1,Nt=!1,sh=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function ix(n,i){if(n=n.containerInfo,Ch=ac,n=Tp(n),qf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var b=0,w=-1,D=-1,J=0,ae=0,oe=n,j=null;t:for(;;){for(var Q;oe!==s||f!==0&&oe.nodeType!==3||(w=b+f),oe!==g||l!==0&&oe.nodeType!==3||(D=b+l),oe.nodeType===3&&(b+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)j=oe,oe=Q;for(;;){if(oe===n)break t;if(j===s&&++J===f&&(w=b),j===g&&++ae===l&&(D=b),(Q=oe.nextSibling)!==null)break;oe=j,j=oe.parentNode}oe=Q}s=w===-1||D===-1?null:{start:w,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ih={focusedElem:n,selectionRange:s},ac=!1,Rt=i;Rt!==null;)if(i=Rt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Rt=n;else for(;Rt!==null;){switch(i=Rt,g=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,s=i,f=g.memoizedProps,g=g.memoizedState,l=s.stateNode;try{var ye=sa(s.type,f);n=l.getSnapshotBeforeUpdate(ye,g),l.__reactInternalSnapshotBeforeUpdate=n}catch(xe){$e(s,s.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)_h(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_h(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Rt=n;break}Rt=i.return}}function m0(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(n,s),l&4&&To(5,s);break;case 1:if(Vr(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(b){$e(s,s.return,b)}else{var f=sa(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){$e(s,s.return,b)}}l&64&&u0(s),l&512&&Co(s,s.return);break;case 3:if(Vr(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{qp(n,i)}catch(b){$e(s,s.return,b)}}break;case 27:i===null&&l&4&&h0(s);case 26:case 5:Vr(n,s),i===null&&l&4&&f0(s),l&512&&Co(s,s.return);break;case 12:Vr(n,s);break;case 31:Vr(n,s),l&4&&v0(n,s);break;case 13:Vr(n,s),l&4&&b0(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=hx.bind(null,s),Vx(n,s))));break;case 22:if(l=s.memoizedState!==null||_r,!l){i=i!==null&&i.memoizedState!==null||Nt,f=_r;var g=Nt;_r=l,(Nt=i)&&!g?Mr(n,s,(s.subtreeFlags&8772)!==0):Vr(n,s),_r=f,Nt=g}break;case 30:break;default:Vr(n,s)}}function p0(n){var i=n.alternate;i!==null&&(n.alternate=null,p0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Qs(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,$t=!1;function Or(n,i,s){for(s=s.child;s!==null;)y0(n,i,s),s=s.sibling}function y0(n,i,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Wi,s)}catch{}switch(s.tag){case 26:Nt||ir(s,i),Or(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||ir(s,i);var l=lt,f=$t;Ai(s.type)&&(lt=s.stateNode,$t=!1),Or(n,i,s),Lo(s.stateNode),lt=l,$t=f;break;case 5:Nt||ir(s,i);case 6:if(l=lt,f=$t,lt=null,Or(n,i,s),lt=l,$t=f,lt!==null)if($t)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(g){$e(s,i,g)}else try{lt.removeChild(s.stateNode)}catch(g){$e(s,i,g)}break;case 18:lt!==null&&($t?(n=lt,uv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),gs(n)):uv(lt,s.stateNode));break;case 4:l=lt,f=$t,lt=s.stateNode.containerInfo,$t=!0,Or(n,i,s),lt=l,$t=f;break;case 0:case 11:case 14:case 15:gi(2,s,i),Nt||gi(4,s,i),Or(n,i,s);break;case 1:Nt||(ir(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&c0(s,i,l)),Or(n,i,s);break;case 21:Or(n,i,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,Or(n,i,s),Nt=l;break;default:Or(n,i,s)}}function v0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{gs(n)}catch(s){$e(i,i.return,s)}}}function b0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{gs(n)}catch(s){$e(i,i.return,s)}}function ax(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new g0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new g0),i;default:throw Error(a(435,n.tag))}}function Zu(n,i){var s=ax(n);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=gx.bind(null,n,l);l.then(f,f)}})}function Pt(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],g=n,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ai(w.type)){lt=w.stateNode,$t=!1;break e}break;case 5:lt=w.stateNode,$t=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(lt===null)throw Error(a(160));y0(g,b,f),lt=null,$t=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)S0(i,n),i=i.sibling}var Un=null;function S0(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Pt(i,n),Qt(n),l&4&&(gi(3,n,n.return),To(3,n),gi(5,n,n.return));break;case 1:Pt(i,n),Qt(n),l&512&&(Nt||s===null||ir(s,s.return)),l&64&&_r&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Un;if(Pt(i,n),Qt(n),l&512&&(Nt||s===null||ir(s,s.return)),l&4){var g=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Hi]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),Lt(g,l,s),g[Ct]=n,St(g),l=g;break e;case"link":var b=Sv("link","href",f).get(l+(s.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(w,1);break t}}g=f.createElement(l),Lt(g,l,s),f.head.appendChild(g);break;case"meta":if(b=Sv("meta","content",f).get(l+(s.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(w,1);break t}}g=f.createElement(l),Lt(g,l,s),f.head.appendChild(g);break;default:throw Error(a(468,l))}g[Ct]=n,St(g),l=g}n.stateNode=l}else Av(f,n.type,n.stateNode);else n.stateNode=bv(f,l,n.memoizedProps);else g!==l?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,l===null?Av(f,n.type,n.stateNode):bv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&rh(n,n.memoizedProps,s.memoizedProps)}break;case 27:Pt(i,n),Qt(n),l&512&&(Nt||s===null||ir(s,s.return)),s!==null&&l&4&&rh(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Pt(i,n),Qt(n),l&512&&(Nt||s===null||ir(s,s.return)),n.flags&32){f=n.stateNode;try{za(f,"")}catch(ye){$e(n,n.return,ye)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,rh(n,f,s!==null?s.memoizedProps:f)),l&1024&&(sh=!0);break;case 6:if(Pt(i,n),Qt(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(ye){$e(n,n.return,ye)}}break;case 3:if(tc=null,f=Un,Un=qu(i.containerInfo),Pt(i,n),Un=f,Qt(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{gs(i.containerInfo)}catch(ye){$e(n,n.return,ye)}sh&&(sh=!1,A0(n));break;case 4:l=Un,Un=qu(n.stateNode.containerInfo),Pt(i,n),Qt(n),Un=l;break;case 12:Pt(i,n),Qt(n);break;case 31:Pt(i,n),Qt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zu(n,l)));break;case 13:Pt(i,n),Qt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=Ot()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zu(n,l)));break;case 22:f=n.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,J=_r,ae=Nt;if(_r=J||f,Nt=ae||D,Pt(i,n),Nt=ae,_r=J,Qt(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||D||_r||Nt||oa(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(g=D.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var oe=D.memoizedProps.style,j=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ye){$e(D,D.return,ye)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ye){$e(D,D.return,ye)}}}else if(i.tag===18){if(s===null){D=i;try{var Q=D.stateNode;f?cv(Q,!0):cv(D.stateNode,!1)}catch(ye){$e(D,D.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Zu(n,s))));break;case 19:Pt(i,n),Qt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zu(n,l)));break;case 30:break;case 21:break;default:Pt(i,n),Qt(n)}}function Qt(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(d0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,g=ih(n);Uu(n,g,f);break;case 5:var b=s.stateNode;s.flags&32&&(za(b,""),s.flags&=-33);var w=ih(n);Uu(n,w,b);break;case 3:case 4:var D=s.stateNode.containerInfo,J=ih(n);ah(n,J,D);break;default:throw Error(a(161))}}catch(ae){$e(n,n.return,ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function A0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;A0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Vr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m0(n,i.alternate,i),i=i.sibling}function oa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:gi(4,i,i.return),oa(i);break;case 1:ir(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&c0(i,i.return,s),oa(i);break;case 27:Lo(i.stateNode);case 26:case 5:ir(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}n=n.sibling}}function Mr(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Mr(f,g,s),To(4,g);break;case 1:if(Mr(f,g,s),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){$e(l,l.return,J)}if(l=g,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Qp(D[f],w)}catch(J){$e(l,l.return,J)}}s&&b&64&&u0(g),Co(g,g.return);break;case 27:h0(g);case 26:case 5:Mr(f,g,s),s&&l===null&&b&4&&f0(g),Co(g,g.return);break;case 12:Mr(f,g,s);break;case 31:Mr(f,g,s),s&&b&4&&v0(f,g);break;case 13:Mr(f,g,s),s&&b&4&&b0(f,g);break;case 22:g.memoizedState===null&&Mr(f,g,s),Co(g,g.return);break;case 30:break;default:Mr(f,g,s)}i=i.sibling}}function oh(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&ho(s))}function lh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ho(n))}function Zn(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E0(n,i,s,l),i=i.sibling}function E0(n,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(n,i,s,l),f&2048&&To(9,i);break;case 1:Zn(n,i,s,l);break;case 3:Zn(n,i,s,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ho(n)));break;case 12:if(f&2048){Zn(n,i,s,l),n=i.stateNode;try{var g=i.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){$e(i,i.return,D)}}else Zn(n,i,s,l);break;case 31:Zn(n,i,s,l);break;case 13:Zn(n,i,s,l);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Zn(n,i,s,l):Io(n,i):g._visibility&2?Zn(n,i,s,l):(g._visibility|=2,rs(n,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&oh(b,i);break;case 24:Zn(n,i,s,l),f&2048&&lh(i.alternate,i);break;default:Zn(n,i,s,l)}}function rs(n,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=n,b=i,w=s,D=l,J=b.flags;switch(b.tag){case 0:case 11:case 15:rs(g,b,w,D,f),To(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?rs(g,b,w,D,f):Io(g,b):(ae._visibility|=2,rs(g,b,w,D,f)),f&&J&2048&&oh(b.alternate,b);break;case 24:rs(g,b,w,D,f),f&&J&2048&&lh(b.alternate,b);break;default:rs(g,b,w,D,f)}i=i.sibling}}function Io(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,f=l.flags;switch(l.tag){case 22:Io(s,l),f&2048&&oh(l.alternate,l);break;case 24:Io(s,l),f&2048&&lh(l.alternate,l);break;default:Io(s,l)}i=i.sibling}}var Ro=8192;function is(n,i,s){if(n.subtreeFlags&Ro)for(n=n.child;n!==null;)w0(n,i,s),n=n.sibling}function w0(n,i,s){switch(n.tag){case 26:is(n,i,s),n.flags&Ro&&n.memoizedState!==null&&Kx(s,Un,n.memoizedState,n.memoizedProps);break;case 5:is(n,i,s);break;case 3:case 4:var l=Un;Un=qu(n.stateNode.containerInfo),is(n,i,s),Un=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ro,Ro=16777216,is(n,i,s),Ro=l):is(n,i,s));break;default:is(n,i,s)}}function N0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Do(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Rt=l,T0(l,n)}N0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)x0(n),n=n.sibling}function x0(n){switch(n.tag){case 0:case 11:case 15:Do(n),n.flags&2048&&gi(9,n,n.return);break;case 3:Do(n);break;case 12:Do(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Yu(n)):Do(n);break;default:Do(n)}}function Yu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Rt=l,T0(l,n)}N0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:gi(8,i,i.return),Yu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(i));break;default:Yu(i)}n=n.sibling}}function T0(n,i){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:gi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ho(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Rt=l;else e:for(s=n;Rt!==null;){l=Rt;var f=l.sibling,g=l.return;if(p0(l),l===s){Rt=null;break e}if(f!==null){f.return=g,Rt=f;break e}Rt=g}}}var sx={getCacheForType:function(n){var i=Mt(At),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s},cacheSignal:function(){return Mt(At).controller.signal}},ox=typeof WeakMap=="function"?WeakMap:Map,Fe=0,rt=null,Le=null,Ye=0,je=0,fn=null,mi=!1,as=!1,uh=!1,Br=0,mt=0,pi=0,la=0,ch=0,dn=0,ss=0,_o=null,qt=null,fh=!1,Gu=0,C0=0,ku=1/0,Wu=null,yi=null,It=0,vi=null,os=null,Lr=0,dh=0,hh=null,I0=null,Oo=0,gh=null;function hn(){return(Fe&2)!==0&&Ye!==0?Ye&-Ye:T.T!==null?Sh():Fl()}function R0(){if(dn===0)if((Ye&536870912)===0||ke){var n=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),dn=n}else dn=536870912;return n=un.current,n!==null&&(n.flags|=32),dn}function en(n,i,s){(n===rt&&(je===2||je===9)||n.cancelPendingCommit!==null)&&(ls(n,0),bi(n,Ye,dn,!1)),Ki(n,s),((Fe&2)===0||n!==rt)&&(n===rt&&((Fe&2)===0&&(la|=s),mt===4&&bi(n,Ye,dn,!1)),ar(n))}function D0(n,i,s){if((Fe&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&n.expiredLanes)===0||Xi(n,i),f=l?cx(n,i):ph(n,i,!0),g=l;do{if(f===0){as&&!l&&bi(n,i,0,!1);break}else{if(s=n.current.alternate,g&&!lx(s)){f=ph(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=n;f=_o;var D=w.current.memoizedState.isDehydrated;if(D&&(ls(w,b).flags|=256),b=ph(w,b,!1),b!==2){if(uh&&!D){w.errorRecoveryDisabledLanes|=g,la|=g,f=4;break e}g=qt,qt=f,g!==null&&(qt===null?qt=g:qt.push.apply(qt,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){ls(n,0),bi(n,i,0,!0);break}e:{switch(l=n,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:bi(l,i,dn,!mi);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Gu+300-Ot(),10<f)){if(bi(l,i,dn,!mi),Ra(l,0,!0)!==0)break e;Lr=i,l.timeoutHandle=ov(_0.bind(null,l,s,qt,Wu,fh,i,dn,la,ss,mi,g,"Throttled",-0,0),f);break e}_0(l,s,qt,Wu,fh,i,dn,la,ss,mi,g,null,-0,0)}}break}while(!0);ar(n)}function _0(n,i,s,l,f,g,b,w,D,J,ae,oe,j,Q){if(n.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ar},w0(i,g,oe);var ye=(g&62914560)===g?Gu-Ot():(g&4194048)===g?C0-Ot():0;if(ye=Hx(oe,ye),ye!==null){Lr=g,n.cancelPendingCommit=ye(Z0.bind(null,n,i,g,s,l,f,b,w,D,ae,oe,null,j,Q)),bi(n,g,b,!J);return}}Z0(n,i,g,s,l,f,b,w,D)}function lx(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],g=f.getSnapshot;f=f.value;try{if(!on(g(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bi(n,i,s,l){i&=~ch,i&=~la,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var g=31-Ht(f),b=1<<g;l[g]=-1,f&=~b}s!==0&&Xl(n,s,i)}function Xu(){return(Fe&6)===0?(Vo(0),!1):!0}function mh(){if(Le!==null){if(je===0)var n=Le.return;else n=Le,xr=qi=null,_d(n),Qa=null,mo=0,n=Le;for(;n!==null;)l0(n.alternate,n),n=n.return;Le=null}}function ls(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,Ix(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Lr=0,mh(),rt=n,Le=s=wr(n.current,null),Ye=i,je=0,fn=null,mi=!1,as=Xi(n,i),uh=!1,ss=dn=ch=la=pi=mt=0,qt=_o=null,fh=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Ht(l),g=1<<f;i|=n[f],l&=~g}return Br=i,fu(),s}function O0(n,i){De=null,T.H=wo,i===Pa||i===bu?(i=Jp(),je=3):i===bd?(i=Jp(),je=4):je=i===Fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Le===null&&(mt=1,Vu(n,An(i,n.current)))}function V0(){var n=un.current;return n===null?!0:(Ye&4194048)===Ye?xn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?n===xn:!1}function M0(){var n=T.H;return T.H=wo,n===null?wo:n}function B0(){var n=T.A;return T.A=sx,n}function Ku(){mt=4,mi||(Ye&4194048)!==Ye&&un.current!==null||(as=!0),(pi&134217727)===0&&(la&134217727)===0||rt===null||bi(rt,Ye,dn,!1)}function ph(n,i,s){var l=Fe;Fe|=2;var f=M0(),g=B0();(rt!==n||Ye!==i)&&(Wu=null,ls(n,i)),i=!1;var b=mt;e:do try{if(je!==0&&Le!==null){var w=Le,D=fn;switch(je){case 8:mh(),b=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(i=!0);var J=je;if(je=0,fn=null,us(n,w,D,J),s&&as){b=0;break e}break;default:J=je,je=0,fn=null,us(n,w,D,J)}}ux(),b=mt;break}catch(ae){O0(n,ae)}while(!0);return i&&n.shellSuspendCounter++,xr=qi=null,Fe=l,T.H=f,T.A=g,Le===null&&(rt=null,Ye=0,fu()),b}function ux(){for(;Le!==null;)L0(Le)}function cx(n,i){var s=Fe;Fe|=2;var l=M0(),f=B0();rt!==n||Ye!==i?(Wu=null,ku=Ot()+500,ls(n,i)):as=Xi(n,i);e:do try{if(je!==0&&Le!==null){i=Le;var g=fn;t:switch(je){case 1:je=0,fn=null,us(n,i,g,1);break;case 2:case 9:if(Hp(g)){je=0,fn=null,z0(i);break}i=function(){je!==2&&je!==9||rt!==n||(je=7),ar(n)},g.then(i,i);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Hp(g)?(je=0,fn=null,z0(i)):(je=0,fn=null,us(n,i,g,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var w=Le;if(b?Ev(b):w.stateNode.complete){je=0,fn=null;var D=w.sibling;if(D!==null)Le=D;else{var J=w.return;J!==null?(Le=J,Hu(J)):Le=null}break t}}je=0,fn=null,us(n,i,g,5);break;case 6:je=0,fn=null,us(n,i,g,6);break;case 8:mh(),mt=6;break e;default:throw Error(a(462))}}fx();break}catch(ae){O0(n,ae)}while(!0);return xr=qi=null,T.H=l,T.A=f,Fe=s,Le!==null?0:(rt=null,Ye=0,fu(),mt)}function fx(){for(;Le!==null&&!Yi();)L0(Le)}function L0(n){var i=s0(n.alternate,n,Br);n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function z0(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=e0(s,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=e0(s,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:_d(i);default:l0(s,i),i=Le=Bp(i,Br),i=s0(s,i,Br)}n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function us(n,i,s,l){xr=qi=null,_d(i),Qa=null,mo=0;var f=i.return;try{if(qN(n,f,i,s,Ye)){mt=1,Vu(n,An(s,n.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;mt=1,Vu(n,An(s,n.current)),Le=null;return}i.flags&32768?(ke||l===1?n=!0:as||(Ye&536870912)!==0?n=!1:(mi=n=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),U0(i,n)):Hu(i)}function Hu(n){var i=n;do{if((i.flags&32768)!==0){U0(i,mi);return}n=i.return;var s=nx(i.alternate,i,Br);if(s!==null){Le=s;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);mt===0&&(mt=5)}function U0(n,i){do{var s=rx(n.alternate,n);if(s!==null){s.flags&=32767,Le=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=s}while(n!==null);mt=6,Le=null}function Z0(n,i,s,l,f,g,b,w,D){n.cancelPendingCommit=null;do Fu();while(It!==0);if((Fe&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=id,Mf(n,s,g,b,w,D),n===rt&&(Le=rt=null,Ye=0),os=i,vi=n,Lr=s,dh=g,hh=f,I0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mx(ki,function(){return X0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,f=O.p,O.p=2,b=Fe,Fe|=4;try{ix(n,i,s)}finally{Fe=b,O.p=f,T.T=l}}It=1,Y0(),G0(),k0()}}function Y0(){if(It===1){It=0;var n=vi,i=os,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=T.T,T.T=null;var l=O.p;O.p=2;var f=Fe;Fe|=4;try{S0(i,n);var g=Ih,b=Tp(n.containerInfo),w=g.focusedElem,D=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&xp(w.ownerDocument.documentElement,w)){if(D!==null&&qf(w)){var J=D.start,ae=D.end;if(ae===void 0&&(ae=J),"selectionStart"in w)w.selectionStart=J,w.selectionEnd=Math.min(ae,w.value.length);else{var oe=w.ownerDocument||document,j=oe&&oe.defaultView||window;if(j.getSelection){var Q=j.getSelection(),ye=w.textContent.length,xe=Math.min(D.start,ye),nt=D.end===void 0?xe:Math.min(D.end,ye);!Q.extend&&xe>nt&&(b=nt,nt=xe,xe=b);var k=Np(w,xe),z=Np(w,nt);if(k&&z&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var F=oe.createRange();F.setStart(k.node,k.offset),Q.removeAllRanges(),xe>nt?(Q.addRange(F),Q.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),Q.addRange(F))}}}}for(oe=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var se=oe[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}ac=!!Ch,Ih=Ch=null}finally{Fe=f,O.p=l,T.T=s}}n.current=i,It=2}}function G0(){if(It===2){It=0;var n=vi,i=os,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=T.T,T.T=null;var l=O.p;O.p=2;var f=Fe;Fe|=4;try{m0(n,i.alternate,i)}finally{Fe=f,O.p=l,T.T=s}}It=3}}function k0(){if(It===4||It===3){It=0,Gi();var n=vi,i=os,s=Lr,l=I0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?It=5:(It=0,os=vi=null,W0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(yi=null),Ps(s),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=T.T,f=O.p,O.p=2,T.T=null;try{for(var g=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];g(w.value,{componentStack:w.stack})}}finally{T.T=i,O.p=f}}(Lr&3)!==0&&Fu(),ar(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===gh?Oo++:(Oo=0,gh=n):Oo=0,Vo(0)}}function W0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ho(i)))}function Fu(){return Y0(),G0(),k0(),X0()}function X0(){if(It!==5)return!1;var n=vi,i=dh;dh=0;var s=Ps(Lr),l=T.T,f=O.p;try{O.p=32>s?32:s,T.T=null,s=hh,hh=null;var g=vi,b=Lr;if(It=0,os=vi=null,Lr=0,(Fe&6)!==0)throw Error(a(331));var w=Fe;if(Fe|=4,x0(g.current),E0(g,g.current,b,s),Fe=w,Vo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Wi,g)}catch{}return!0}finally{O.p=f,T.T=l,W0(n,i)}}function K0(n,i,s){i=An(s,i),i=Hd(n.stateNode,i,2),n=fi(n,i,2),n!==null&&(Ki(n,2),ar(n))}function $e(n,i,s){if(n.tag===3)K0(n,n,s);else for(;i!==null;){if(i.tag===3){K0(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yi===null||!yi.has(l))){n=An(s,n),s=Hy(2),l=fi(i,s,2),l!==null&&(Fy(s,l,i,n),Ki(l,2),ar(l));break}}i=i.return}}function yh(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new ox;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(uh=!0,f.add(s),n=dx.bind(null,n,i,s),i.then(n,n))}function dx(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,rt===n&&(Ye&s)===s&&(mt===4||mt===3&&(Ye&62914560)===Ye&&300>Ot()-Gu?(Fe&2)===0&&ls(n,0):ch|=s,ss===Ye&&(ss=0)),ar(n)}function H0(n,i){i===0&&(i=Wl()),n=$i(n,i),n!==null&&(Ki(n,i),ar(n))}function hx(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),H0(n,s)}function gx(n,i){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),H0(n,s)}function mx(n,i){return $r(n,i)}var Ju=null,cs=null,vh=!1,ju=!1,bh=!1,Si=0;function ar(n){n!==cs&&n.next===null&&(cs===null?Ju=cs=n:cs=cs.next=n),ju=!0,vh||(vh=!0,yx())}function Vo(n,i){if(!bh&&ju){bh=!0;do for(var s=!1,l=Ju;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var b=l.suspendedLanes,w=l.pingedLanes;g=(1<<31-Ht(42|n)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,$0(l,g))}else g=Ye,g=Ra(l,l===rt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Xi(l,g)||(s=!0,$0(l,g));l=l.next}while(s);bh=!1}}function px(){F0()}function F0(){ju=vh=!1;var n=0;Si!==0&&Cx()&&(n=Si);for(var i=Ot(),s=null,l=Ju;l!==null;){var f=l.next,g=J0(l,i);g===0?(l.next=null,s===null?Ju=f:s.next=f,f===null&&(cs=s)):(s=l,(n!==0||(g&3)!==0)&&(ju=!0)),l=f}It!==0&&It!==5||Vo(n),Si!==0&&(Si=0)}function J0(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Ht(g),w=1<<b,D=f[b];D===-1?((w&s)===0||(w&l)!==0)&&(f[b]=Vf(w,i)):D<=i&&(n.expiredLanes|=w),g&=~w}if(i=rt,s=Ye,s=Ra(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(je===2||je===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Pr(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Xi(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&Pr(l),Ps(s)){case 2:case 8:s=Qr;break;case 32:s=ki;break;case 268435456:s=xa;break;default:s=ki}return l=j0.bind(null,n),s=$r(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&Pr(l),n.callbackPriority=2,n.callbackNode=null,2}function j0(n,i){if(It!==0&&It!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Fu()&&n.callbackNode!==s)return null;var l=Ye;return l=Ra(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(D0(n,l,i),J0(n,Ot()),n.callbackNode!=null&&n.callbackNode===s?j0.bind(null,n):null)}function $0(n,i){if(Fu())return null;D0(n,i,!0)}function yx(){Rx(function(){(Fe&6)!==0?$r(yr,px):F0()})}function Sh(){if(Si===0){var n=ja;n===0&&(n=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),Si=n}return Si}function P0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ru(""+n)}function Q0(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function vx(n,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var g=P0((f[Zt]||null).action),b=l.submitter;b&&(i=(i=b[Zt]||null)?P0(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var w=new ou("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Si!==0){var D=b?Q0(f,b):new FormData(f);Yd(s,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=b?Q0(f,b):new FormData(f),Yd(s,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var Ah=0;Ah<rd.length;Ah++){var Eh=rd[Ah],bx=Eh.toLowerCase(),Sx=Eh[0].toUpperCase()+Eh.slice(1);zn(bx,"on"+Sx)}zn(Rp,"onAnimationEnd"),zn(Dp,"onAnimationIteration"),zn(_p,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(LN,"onTransitionRun"),zn(zN,"onTransitionStart"),zn(UN,"onTransitionCancel"),zn(Op,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function q0(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var g=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],D=w.instance,J=w.currentTarget;if(w=w.listener,D!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(ae){cu(ae)}f.currentTarget=null,g=D}else for(b=0;b<l.length;b++){if(w=l[b],D=w.instance,J=w.currentTarget,w=w.listener,D!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=J;try{g(f)}catch(ae){cu(ae)}f.currentTarget=null,g=D}}}}function ze(n,i){var s=i[Da];s===void 0&&(s=i[Da]=new Set);var l=n+"__bubble";s.has(l)||(ev(i,n,2,!1),s.add(l))}function wh(n,i,s){var l=0;i&&(l|=4),ev(s,n,l,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Nh(n){if(!n[$u]){n[$u]=!0,Pl.forEach(function(s){s!=="selectionchange"&&(Ax.has(s)||wh(s,!1,n),wh(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$u]||(i[$u]=!0,wh("selectionchange",!1,i))}}function ev(n,i,s,l){switch(Rv(i)){case 2:var f=jx;break;case 8:f=$x;break;default:f=Zh}s=f.bind(null,i,s,n),f=void 0,!Xf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function xh(n,i,s,l,f){var g=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=qr(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=g=b;continue e}w=w.parentNode}}l=l.return}ap(function(){var J=g,ae=kf(s),oe=[];e:{var j=Vp.get(n);if(j!==void 0){var Q=ou,ye=n;switch(n){case"keypress":if(au(s)===0)break e;case"keydown":case"keyup":Q=gN;break;case"focusin":ye="focus",Q=Jf;break;case"focusout":ye="blur",Q=Jf;break;case"beforeblur":case"afterblur":Q=Jf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=nN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=yN;break;case Rp:case Dp:case _p:Q=aN;break;case Op:Q=bN;break;case"scroll":case"scrollend":Q=eN;break;case"wheel":Q=AN;break;case"copy":case"cut":case"paste":Q=oN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cp;break;case"toggle":case"beforetoggle":Q=wN}var xe=(i&4)!==0,nt=!xe&&(n==="scroll"||n==="scrollend"),k=xe?j!==null?j+"Capture":null:j;xe=[];for(var z=J,F;z!==null;){var se=z;if(F=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||F===null||k===null||(se=to(z,k),se!=null&&xe.push(Bo(z,se,F))),nt)break;z=z.return}0<xe.length&&(j=new Q(j,ye,null,s,ae),oe.push({event:j,listeners:xe}))}}if((i&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",j&&s!==Gf&&(ye=s.relatedTarget||s.fromElement)&&(qr(ye)||ye[br]))break e;if((Q||j)&&(j=ae.window===ae?ae:(j=ae.ownerDocument)?j.defaultView||j.parentWindow:window,Q?(ye=s.relatedTarget||s.toElement,Q=J,ye=ye?qr(ye):null,ye!==null&&(nt=u(ye),xe=ye.tag,ye!==nt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(Q=null,ye=J),Q!==ye)){if(xe=lp,se="onMouseLeave",k="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(xe=cp,se="onPointerLeave",k="onPointerEnter",z="pointer"),nt=Q==null?j:ti(Q),F=ye==null?j:ti(ye),j=new xe(se,z+"leave",Q,s,ae),j.target=nt,j.relatedTarget=F,se=null,qr(ae)===J&&(xe=new xe(k,z+"enter",ye,s,ae),xe.target=F,xe.relatedTarget=nt,se=xe),nt=se,Q&&ye)t:{for(xe=Ex,k=Q,z=ye,F=0,se=k;se;se=xe(se))F++;se=0;for(var Ae=z;Ae;Ae=xe(Ae))se++;for(;0<F-se;)k=xe(k),F--;for(;0<se-F;)z=xe(z),se--;for(;F--;){if(k===z||z!==null&&k===z.alternate){xe=k;break t}k=xe(k),z=xe(z)}xe=null}else xe=null;Q!==null&&tv(oe,j,Q,xe,!1),ye!==null&&nt!==null&&tv(oe,nt,ye,xe,!0)}}e:{if(j=J?ti(J):window,Q=j.nodeName&&j.nodeName.toLowerCase(),Q==="select"||Q==="input"&&j.type==="file")var Ke=vp;else if(pp(j))if(bp)Ke=VN;else{Ke=_N;var ve=DN}else Q=j.nodeName,!Q||Q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?J&&Yf(J.elementType)&&(Ke=vp):Ke=ON;if(Ke&&(Ke=Ke(n,J))){yp(oe,Ke,s,ae);break e}ve&&ve(n,j,J),n==="focusout"&&J&&j.type==="number"&&J.memoizedProps.value!=null&&Ba(j,"number",j.value)}switch(ve=J?ti(J):window,n){case"focusin":(pp(ve)||ve.contentEditable==="true")&&(Ga=ve,ed=J,uo=null);break;case"focusout":uo=ed=Ga=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Cp(oe,s,ae);break;case"selectionchange":if(BN)break;case"keydown":case"keyup":Cp(oe,s,ae)}var Oe;if($f)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ya?gp(n,s)&&(Ge="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ge="onCompositionStart");Ge&&(fp&&s.locale!=="ko"&&(Ya||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ya&&(Oe=sp()):(ii=ae,Kf="value"in ii?ii.value:ii.textContent,Ya=!0)),ve=Pu(J,Ge),0<ve.length&&(Ge=new up(Ge,n,null,s,ae),oe.push({event:Ge,listeners:ve}),Oe?Ge.data=Oe:(Oe=mp(s),Oe!==null&&(Ge.data=Oe)))),(Oe=xN?TN(n,s):CN(n,s))&&(Ge=Pu(J,"onBeforeInput"),0<Ge.length&&(ve=new up("onBeforeInput","beforeinput",null,s,ae),oe.push({event:ve,listeners:Ge}),ve.data=Oe)),vx(oe,n,J,s,ae)}q0(oe,i)})}function Bo(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Pu(n,i){for(var s=i+"Capture",l=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=to(n,s),f!=null&&l.unshift(Bo(n,f,g)),f=to(n,i),f!=null&&l.push(Bo(n,f,g))),n.tag===3)return l;n=n.return}return[]}function Ex(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tv(n,i,s,l,f){for(var g=i._reactName,b=[];s!==null&&s!==l;){var w=s,D=w.alternate,J=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||J===null||(D=J,f?(J=to(s,g),J!=null&&b.unshift(Bo(s,J,D))):f||(J=to(s,g),J!=null&&b.push(Bo(s,J,D)))),s=s.return}b.length!==0&&n.push({event:i,listeners:b})}var wx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function nv(n){return(typeof n=="string"?n:""+n).replace(wx,`
`).replace(Nx,"")}function rv(n,i){return i=nv(i),nv(n)===i}function tt(n,i,s,l,f,g){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||za(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&za(n,""+l);break;case"className":Oa(n,"class",l);break;case"tabIndex":Oa(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(n,s,l);break;case"style":rp(n,l,g);break;case"data":if(i!=="object"){Oa(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ru(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(i!=="input"&&tt(n,i,"name",f.name,f,null),tt(n,i,"formEncType",f.formEncType,f,null),tt(n,i,"formMethod",f.formMethod,f,null),tt(n,i,"formTarget",f.formTarget,f,null)):(tt(n,i,"encType",f.encType,f,null),tt(n,i,"method",f.method,f,null),tt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ru(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Ar);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=ru(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":ze("beforetoggle",n),ze("toggle",n),_a(n,"popover",l);break;case"xlinkActuate":Ln(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qw.get(s)||s,_a(n,s,l))}}function Th(n,i,s,l,f,g){switch(s){case"style":rp(n,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?za(n,l):(typeof l=="number"||typeof l=="bigint")&&za(n,""+l);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),g=n[Zt]||null,g=g!=null?g[s]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):_a(n,s,l)}}}function Lt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var l=!1,f=!1,g;for(g in s)if(s.hasOwnProperty(g)){var b=s[g];if(b!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,g,b,s,null)}}f&&tt(n,i,"srcSet",s.srcSet,s,null),l&&tt(n,i,"src",s.src,s,null);return;case"input":ze("invalid",n);var w=g=b=f=null,D=null,J=null;for(l in s)if(s.hasOwnProperty(l)){var ae=s[l];if(ae!=null)switch(l){case"name":f=ae;break;case"type":b=ae;break;case"checked":D=ae;break;case"defaultChecked":J=ae;break;case"value":g=ae;break;case"defaultValue":w=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:tt(n,i,l,ae,s,null)}}nu(n,g,w,D,J,b,f,!1);return;case"select":ze("invalid",n),l=b=g=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:tt(n,i,f,w,s,null)}i=g,s=b,n.multiple=!!l,i!=null?La(n,!!l,i,!1):s!=null&&La(n,!!l,s,!0);return;case"textarea":ze("invalid",n),g=f=l=null;for(b in s)if(s.hasOwnProperty(b)&&(w=s[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:tt(n,i,b,w,s,null)}tp(n,l,f,g);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,i,D,l,s,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(l=0;l<Mo.length;l++)ze(Mo[l],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in s)if(s.hasOwnProperty(J)&&(l=s[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,J,l,s,null)}return;default:if(Yf(i)){for(ae in s)s.hasOwnProperty(ae)&&(l=s[ae],l!==void 0&&Th(n,i,ae,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&tt(n,i,w,l,s,null))}function xx(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,D=null,J=null,ae=null;for(Q in s){var oe=s[Q];if(s.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=oe;default:l.hasOwnProperty(Q)||tt(n,i,Q,null,l,oe)}}for(var j in l){var Q=l[j];if(oe=s[j],l.hasOwnProperty(j)&&(Q!=null||oe!=null))switch(j){case"type":g=Q;break;case"name":f=Q;break;case"checked":J=Q;break;case"defaultChecked":ae=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==oe&&tt(n,i,j,Q,l,oe)}}eo(n,b,w,D,J,ae,g,f);return;case"select":Q=b=w=j=null;for(g in s)if(D=s[g],s.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(g)||tt(n,i,g,null,l,D)}for(f in l)if(g=l[f],D=s[f],l.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":j=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==D&&tt(n,i,f,g,l,D)}i=w,s=b,l=Q,j!=null?La(n,!!s,j,!1):!!l!=!!s&&(i!=null?La(n,!!s,i,!0):La(n,!!s,s?[]:"",!1));return;case"textarea":Q=j=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(n,i,w,null,l,f)}for(b in l)if(f=l[b],g=s[b],l.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":j=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&tt(n,i,b,f,l,g)}ep(n,j,Q);return;case"option":for(var ye in s)if(j=s[ye],s.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:tt(n,i,ye,null,l,j)}for(D in l)if(j=l[D],Q=s[D],l.hasOwnProperty(D)&&j!==Q&&(j!=null||Q!=null))switch(D){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:tt(n,i,D,j,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)j=s[xe],s.hasOwnProperty(xe)&&j!=null&&!l.hasOwnProperty(xe)&&tt(n,i,xe,null,l,j);for(J in l)if(j=l[J],Q=s[J],l.hasOwnProperty(J)&&j!==Q&&(j!=null||Q!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:tt(n,i,J,j,l,Q)}return;default:if(Yf(i)){for(var nt in s)j=s[nt],s.hasOwnProperty(nt)&&j!==void 0&&!l.hasOwnProperty(nt)&&Th(n,i,nt,void 0,l,j);for(ae in l)j=l[ae],Q=s[ae],!l.hasOwnProperty(ae)||j===Q||j===void 0&&Q===void 0||Th(n,i,ae,j,l,Q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&tt(n,i,k,null,l,j);for(oe in l)j=l[oe],Q=s[oe],!l.hasOwnProperty(oe)||j===Q||j==null&&Q==null||tt(n,i,oe,j,l,Q)}function iv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],g=f.transferSize,b=f.initiatorType,w=f.duration;if(g&&w&&iv(b)){for(b=0,w=f.responseEnd,l+=1;l<s.length;l++){var D=s[l],J=D.startTime;if(J>w)break;var ae=D.transferSize,oe=D.initiatorType;ae&&iv(oe)&&(D=D.responseEnd,b+=ae*(D<w?1:(w-J)/(D-J)))}if(--l,i+=8*(g+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ch=null,Ih=null;function Qu(n){return n.nodeType===9?n:n.ownerDocument}function av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Rh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dh=null;function Cx(){var n=window.event;return n&&n.type==="popstate"?n===Dh?!1:(Dh=n,!0):(Dh=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(n){return lv.resolve(null).then(n).catch(Dx)}:ov;function Dx(n){setTimeout(function(){throw n})}function Ai(n){return n==="head"}function uv(n,i){var s=i,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),gs(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Lo(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Lo(s);for(var g=s.firstChild;g;){var b=g.nextSibling,w=g.nodeName;g[Hi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||s.removeChild(g),g=b}}else s==="body"&&Lo(n.ownerDocument.body);s=f}while(s);gs(i)}function cv(n,i){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function _h(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_h(s),Qs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function _x(n,i,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Tn(n.nextSibling),n===null)break}return null}function Ox(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Tn(n.nextSibling),n===null))return null;return n}function fv(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Tn(n.nextSibling),n===null))return null;return n}function Oh(n){return n.data==="$?"||n.data==="$~"}function Vh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Vx(n,i){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Tn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Mh=null;function dv(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(i===0)return Tn(n.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}n=n.nextSibling}return null}function hv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return n;i--}else s!=="/$"&&s!=="/&"||i++}n=n.previousSibling}return null}function gv(n,i,s){switch(i=Qu(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Lo(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Qs(n)}var Cn=new Map,mv=new Set;function qu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var zr=O.d;O.d={f:Mx,r:Bx,D:Lx,C:zx,L:Ux,m:Zx,X:Gx,S:Yx,M:kx};function Mx(){var n=zr.f(),i=Xu();return n||i}function Bx(n){var i=ei(n);i!==null&&i.tag===5&&i.type==="form"?Oy(i):zr.r(n)}var fs=typeof document>"u"?null:document;function pv(n,i,s){var l=fs;if(l&&typeof i=="string"&&i){var f=Yt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),mv.has(f)||(mv.add(f),n={rel:n,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Lt(i,"link",n),St(i),l.head.appendChild(i)))}}function Lx(n){zr.D(n),pv("dns-prefetch",n,null)}function zx(n,i){zr.C(n,i),pv("preconnect",n,i)}function Ux(n,i,s){zr.L(n,i,s);var l=fs;if(l&&n&&i){var f='link[rel="preload"][as="'+Yt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Yt(s.imageSizes)+'"]')):f+='[href="'+Yt(n)+'"]';var g=f;switch(i){case"style":g=ds(n);break;case"script":g=hs(n)}Cn.has(g)||(n=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Cn.set(g,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(zo(g))||i==="script"&&l.querySelector(Uo(g))||(i=l.createElement("link"),Lt(i,"link",n),St(i),l.head.appendChild(i)))}}function Zx(n,i){zr.m(n,i);var s=fs;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(n)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hs(n)}if(!Cn.has(g)&&(n=y({rel:"modulepreload",href:n},i),Cn.set(g,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Uo(g)))return}l=s.createElement("link"),Lt(l,"link",n),St(l),s.head.appendChild(l)}}}function Yx(n,i,s){zr.S(n,i,s);var l=fs;if(l&&n){var f=ni(l).hoistableStyles,g=ds(n);i=i||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(zo(g)))w.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Cn.get(g))&&Bh(n,s);var D=b=l.createElement("link");St(D),Lt(D,"link",n),D._p=new Promise(function(J,ae){D.onload=J,D.onerror=ae}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ec(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function Gx(n,i){zr.X(n,i);var s=fs;if(s&&n){var l=ni(s).hoistableScripts,f=hs(n),g=l.get(f);g||(g=s.querySelector(Uo(f)),g||(n=y({src:n,async:!0},i),(i=Cn.get(f))&&Lh(n,i),g=s.createElement("script"),St(g),Lt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function kx(n,i){zr.M(n,i);var s=fs;if(s&&n){var l=ni(s).hoistableScripts,f=hs(n),g=l.get(f);g||(g=s.querySelector(Uo(f)),g||(n=y({src:n,async:!0,type:"module"},i),(i=Cn.get(f))&&Lh(n,i),g=s.createElement("script"),St(g),Lt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function yv(n,i,s,l){var f=(f=ge.current)?qu(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ds(s.href),s=ni(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ds(s.href);var g=ni(f).hoistableStyles,b=g.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=f.querySelector(zo(n)))&&!g._p&&(b.instance=g,b.state.loading=5),Cn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(n,s),g||Wx(f,n,s,b.state))),i&&l===null)throw Error(a(528,""));return b}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hs(s),s=ni(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ds(n){return'href="'+Yt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function vv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Wx(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Lt(i,"link",s),St(i),n.head.appendChild(i))}function hs(n){return'[src="'+Yt(n)+'"]'}function Uo(n){return"script[async]"+n}function bv(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(l)return i.instance=l,St(l),l;var f=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),St(l),Lt(l,"style",f),ec(l,s.precedence,n),i.instance=l;case"stylesheet":f=ds(s.href);var g=n.querySelector(zo(f));if(g)return i.state.loading|=4,i.instance=g,St(g),g;l=vv(s),(f=Cn.get(f))&&Bh(l,f),g=(n.ownerDocument||n).createElement("link"),St(g);var b=g;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Lt(g,"link",l),i.state.loading|=4,ec(g,s.precedence,n),i.instance=g;case"script":return g=hs(s.src),(f=n.querySelector(Uo(g)))?(i.instance=f,St(f),f):(l=s,(f=Cn.get(g))&&(l=y({},s),Lh(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),St(f),Lt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ec(l,s.precedence,n));return i.instance}function ec(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Bh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Lh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var tc=null;function Sv(n,i,s){if(tc===null){var l=new Map,f=tc=new Map;f.set(s,l)}else f=tc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var g=s[f];if(!(g[Hi]||g[Ct]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=n+b;var w=l.get(b);w?w.push(g):l.set(b,[g])}}return l}function Av(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function Xx(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Kx(n,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=ds(l.href),g=i.querySelector(zo(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=nc.bind(n),i.then(n,n)),s.state.loading|=4,s.instance=g,St(g);return}g=i.ownerDocument||i,l=vv(l),(f=Cn.get(f))&&Bh(l,f),g=g.createElement("link"),St(g);var b=g;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),Lt(g,"link",l),s.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=nc.bind(n),i.addEventListener("load",s),i.addEventListener("error",s))}}var zh=0;function Hx(n,i){return n.stylesheets&&n.count===0&&ic(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&ic(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+i);0<n.imgBytes&&zh===0&&(zh=62500*Tx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ic(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>zh?50:800)+i);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rc=null;function ic(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rc=new Map,i.forEach(Fx,n),rc=null,nc.call(n))}function Fx(n,i){if(!(i.state.loading&4)){var s=rc.get(n);if(s)var l=s.get(null);else{s=new Map,rc.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}f=i.instance,b=f.getAttribute("data-precedence"),g=s.get(b)||l,g===l&&s.set(null,f),s.set(b,f),this.count++,l=nc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Zo={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Jx(n,i,s,l,f,g,b,w,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function wv(n,i,s,l,f,g,b,w,D,J,ae,oe){return n=new Jx(n,i,s,b,D,J,ae,oe,w),i=1,g===!0&&(i|=24),g=ln(3,null,null,i),n.current=g,g.stateNode=n,i=pd(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:l,isDehydrated:s,cache:i},Sd(g),n}function Nv(n){return n?(n=Xa,n):Xa}function xv(n,i,s,l,f,g){f=Nv(f),l.context===null?l.context=f:l.pendingContext=f,l=ci(i),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=fi(n,l,i),s!==null&&(en(s,n,i),yo(s,n,i))}function Tv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Uh(n,i){Tv(n,i),(n=n.alternate)&&Tv(n,i)}function Cv(n){if(n.tag===13||n.tag===31){var i=$i(n,67108864);i!==null&&en(i,n,67108864),Uh(n,67108864)}}function Iv(n){if(n.tag===13||n.tag===31){var i=hn();i=$s(i);var s=$i(n,i);s!==null&&en(s,n,i),Uh(n,i)}}var ac=!0;function jx(n,i,s,l){var f=T.T;T.T=null;var g=O.p;try{O.p=2,Zh(n,i,s,l)}finally{O.p=g,T.T=f}}function $x(n,i,s,l){var f=T.T;T.T=null;var g=O.p;try{O.p=8,Zh(n,i,s,l)}finally{O.p=g,T.T=f}}function Zh(n,i,s,l){if(ac){var f=Yh(l);if(f===null)xh(n,i,l,sc,s),Dv(n,l);else if(Qx(f,n,i,s,l))l.stopPropagation();else if(Dv(n,l),i&4&&-1<Px.indexOf(n)){for(;f!==null;){var g=ei(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=vr(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-Ht(b);w.entanglements[1]|=D,b&=~D}ar(g),(Fe&6)===0&&(ku=Ot()+500,Vo(0))}}break;case 31:case 13:w=$i(g,2),w!==null&&en(w,g,2),Xu(),Uh(g,2)}if(g=Yh(l),g===null&&xh(n,i,l,sc,s),g===f)break;f=g}f!==null&&l.stopPropagation()}else xh(n,i,l,null,s)}}function Yh(n){return n=kf(n),Gh(n)}var sc=null;function Gh(n){if(sc=null,n=qr(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=c(i),n!==null)return n;n=null}else if(s===31){if(n=d(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return sc=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case yr:return 2;case Qr:return 8;case ki:case Cf:return 32;case xa:return 268435456;default:return 32}default:return 32}}var kh=!1,Ei=null,wi=null,Ni=null,Yo=new Map,Go=new Map,xi=[],Px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,i){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Yo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(i.pointerId)}}function ko(n,i,s,l,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},i!==null&&(i=ei(i),i!==null&&Cv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Qx(n,i,s,l,f){switch(i){case"focusin":return Ei=ko(Ei,n,i,s,l,f),!0;case"dragenter":return wi=ko(wi,n,i,s,l,f),!0;case"mouseover":return Ni=ko(Ni,n,i,s,l,f),!0;case"pointerover":var g=f.pointerId;return Yo.set(g,ko(Yo.get(g)||null,n,i,s,l,f)),!0;case"gotpointercapture":return g=f.pointerId,Go.set(g,ko(Go.get(g)||null,n,i,s,l,f)),!0}return!1}function _v(n){var i=qr(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){n.blockedOn=i,Jl(n.priority,function(){Iv(s)});return}}else if(i===31){if(i=d(s),i!==null){n.blockedOn=i,Jl(n.priority,function(){Iv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Yh(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Gf=l,s.target.dispatchEvent(l),Gf=null}else return i=ei(s),i!==null&&Cv(i),n.blockedOn=s,!1;i.shift()}return!0}function Ov(n,i,s){oc(n)&&s.delete(i)}function qx(){kh=!1,Ei!==null&&oc(Ei)&&(Ei=null),wi!==null&&oc(wi)&&(wi=null),Ni!==null&&oc(Ni)&&(Ni=null),Yo.forEach(Ov),Go.forEach(Ov)}function lc(n,i){n.blockedOn===i&&(n.blockedOn=null,kh||(kh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qx)))}var uc=null;function Vv(n){uc!==n&&(uc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uc===n&&(uc=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Gh(l||s)===null)continue;break}var g=ei(s);g!==null&&(n.splice(i,3),i-=3,Yd(g,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function gs(n){function i(D){return lc(D,n)}Ei!==null&&lc(Ei,n),wi!==null&&lc(wi,n),Ni!==null&&lc(Ni,n),Yo.forEach(i),Go.forEach(i);for(var s=0;s<xi.length;s++){var l=xi[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<xi.length&&(s=xi[0],s.blockedOn===null);)_v(s),s.blockedOn===null&&xi.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],g=s[l+1],b=f[Zt]||null;if(typeof g=="function")b||Vv(s);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Zt]||null)w=b.formAction;else if(Gh(f)!==null)continue}else w=b.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),Vv(s)}}}function Mv(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Wh(n){this._internalRoot=n}cc.prototype.render=Wh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=hn();xv(s,l,n,i,null,null)},cc.prototype.unmount=Wh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;xv(n.current,2,null,n,null,null),Xu(),i[br]=null}};function cc(n){this._internalRoot=n}cc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fl();n={blockedOn:null,target:n,priority:i};for(var s=0;s<xi.length&&i!==0&&i<xi[s].priority;s++);xi.splice(s,0,n),s===0&&_v(n)}};var Bv=e.version;if(Bv!=="19.2.1")throw Error(a(527,Bv,"19.2.1"));O.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var e2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Wi=fc.inject(e2),Kt=fc}catch{}}return Xo.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",f=ky,g=Wy,b=Xy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=wv(n,1,!1,null,null,s,l,null,f,g,b,Mv),n[br]=i.current,Nh(n),new Wh(i)},Xo.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,f="",g=ky,b=Wy,w=Xy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=wv(n,1,!0,i,s??null,l,f,D,g,b,w,Mv),i.context=Nv(null),s=i.current,l=hn(),l=$s(l),f=ci(l),f.callback=null,fi(s,f,l),s=l,i.current.lanes=s,Ki(i,s),ar(i),n[br]=i.current,Nh(n),new cc(i)},Xo.version="19.2.1",Xo}var Kv;function u2(){if(Kv)return Kh.exports;Kv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kh.exports=l2(),Kh.exports}var c2=u2(),Be;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(Be||(Be={}));function Jg(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}var W;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(W||(W={}));function f2(){let t=0,e=0;for(let a=0;a<28;a+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[t,e]}let r=this.buf[this.pos++];if(t|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[t,e];for(let a=3;a<=31;a+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function $h(t,e,r){for(let u=0;u<28;u=u+7){const c=t>>>u,d=!(!(c>>>7)&&e==0),m=(d?c|128:c)&255;if(r.push(m),!d)return}const a=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(r.push((o?a|128:a)&255),!!o){for(let u=3;u<31;u=u+7){const c=e>>>u,d=!!(c>>>7),m=(d?c|128:c)&255;if(r.push(m),!d)return}r.push(e>>>31&1)}}const Rc=4294967296;function Hv(t){const e=t[0]==="-";e&&(t=t.slice(1));const r=1e6;let a=0,o=0;function u(c,d){const m=Number(t.slice(c,d));o*=r,a=a*r+m,a>=Rc&&(o=o+(a/Rc|0),a=a%Rc)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),e?xA(a,o):jg(a,o)}function d2(t,e){let r=jg(t,e);const a=r.hi&2147483648;a&&(r=xA(r.lo,r.hi));const o=NA(r.lo,r.hi);return a?"-"+o:o}function NA(t,e){if({lo:t,hi:e}=h2(t,e),e<=2097151)return String(Rc*e+t);const r=t&16777215,a=(t>>>24|e<<8)&16777215,o=e>>16&65535;let u=r+a*6777216+o*6710656,c=a+o*8147497,d=o*2;const m=1e7;return u>=m&&(c+=Math.floor(u/m),u%=m),c>=m&&(d+=Math.floor(c/m),c%=m),d.toString()+Fv(c)+Fv(u)}function h2(t,e){return{lo:t>>>0,hi:e>>>0}}function jg(t,e){return{lo:t|0,hi:e|0}}function xA(t,e){return e=~e,t?t=~t+1:e+=1,jg(t,e)}const Fv=t=>{const e=String(t);return"0000000".slice(e.length)+e};function Sg(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let r=0;r<9;r++)e.push(t&127|128),t=t>>7;e.push(1)}}function g2(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let r=5;(t&128)!==0&&r<10;r++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var Jv={};const ct=m2();function m2(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof Jv!="object"||Jv.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),u=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>a||d<r)throw new Error(`invalid int64: ${c}`);return d},uParse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>u||d<o)throw new Error(`invalid uint64: ${c}`);return d},enc(c){return t.setBigInt64(0,this.parse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(c){return t.setBigInt64(0,this.uParse(c),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(c,d){return t.setInt32(0,c,!0),t.setInt32(4,d,!0),t.getBigInt64(0,!0)},uDec(c,d){return t.setInt32(0,c,!0),t.setInt32(4,d,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),jv(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),$v(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),jv(r),Hv(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),$v(r),Hv(r)},dec(r,a){return d2(r,a)},uDec(r,a){return NA(r,a)}}}function jv(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function $v(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}function va(t,e){switch(t){case W.STRING:return"";case W.BOOL:return!1;case W.DOUBLE:case W.FLOAT:return 0;case W.INT64:case W.UINT64:case W.SFIXED64:case W.FIXED64:case W.SINT64:return e?"0":ct.zero;case W.BYTES:return new Uint8Array(0);default:return 0}}function p2(t,e){switch(t){case W.BOOL:return e===!1;case W.STRING:return e==="";case W.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const TA=2,Yr=Symbol.for("reflect unsafe local");function CA(t,e){const r=t[e.localName].case;return r===void 0?r:e.fields.find(a=>a.localName===r)}function y2(t,e){const r=e.localName;if(e.oneof)return t[e.oneof.localName].case===r;if(e.presence!=TA)return t[r]!==void 0&&Object.prototype.hasOwnProperty.call(t,r);switch(e.fieldKind){case"list":return t[r].length>0;case"map":return Object.keys(t[r]).length>0;case"scalar":return!p2(e.scalar,t[r]);case"enum":return t[r]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function ul(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function IA(t,e){if(e.oneof){const r=t[e.oneof.localName];return r.case===e.localName?r.value:void 0}return t[e.localName]}function RA(t,e,r){e.oneof?t[e.oneof.localName]={case:e.localName,value:r}:t[e.localName]=r}function v2(t,e){const r=e.localName;if(e.oneof){const a=e.oneof.localName;t[a].case===r&&(t[a]={case:void 0})}else if(e.presence!=TA)delete t[r];else switch(e.fieldKind){case"map":t[r]={};break;case"list":t[r]=[];break;case"enum":t[r]=e.enum.values[0].number;break;case"scalar":t[r]=va(e.scalar,e.longAsString);break}}function zi(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function $g(t,e){var r,a,o,u;if(zi(t)&&Yr in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const c=e,d=t.field();return c.listKind==d.listKind&&c.scalar===d.scalar&&((r=c.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=c.enum)===null||o===void 0?void 0:o.typeName)===((u=d.enum)===null||u===void 0?void 0:u.typeName)}return!0}return!1}function Pg(t,e){var r,a,o,u;if(zi(t)&&Yr in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const c=e,d=t.field();return c.mapKey===d.mapKey&&c.mapKind==d.mapKind&&c.scalar===d.scalar&&((r=c.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=c.enum)===null||o===void 0?void 0:o.typeName)===((u=d.enum)===null||u===void 0?void 0:u.typeName)}return!0}return!1}function Qg(t,e){return zi(t)&&Yr in t&&"desc"in t&&zi(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}function b2(t){return DA(t.$typeName)}function _l(t){const e=t.fields[0];return DA(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function DA(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const S2=999,A2=998,Dc=2;function be(t,e){if(Jg(e,t))return e;const r=T2(t);return e!==void 0&&E2(t,r,e),r}function E2(t,e,r){for(const a of t.members){let o=r[a.localName];if(o==null)continue;let u;if(a.kind=="oneof"){const c=CA(r,a);if(!c)continue;u=c,o=IA(r,c)}else u=a;switch(u.fieldKind){case"message":o=qg(u,o);break;case"scalar":o=_A(u,o);break;case"list":o=N2(u,o);break;case"map":o=w2(u,o);break}RA(e,u,o)}return e}function _A(t,e){return t.scalar==W.BYTES?em(e):e}function w2(t,e){if(zi(e)){if(t.scalar==W.BYTES)return Pv(e,em);if(t.mapKind=="message")return Pv(e,r=>qg(t,r))}return e}function N2(t,e){if(Array.isArray(e)){if(t.scalar==W.BYTES)return e.map(em);if(t.listKind=="message")return e.map(r=>qg(t,r))}return e}function qg(t,e){if(t.fieldKind=="message"&&!t.oneof&&_l(t.message))return _A(t.message.fields[0],e);if(zi(e)){if(t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!=="google.protobuf.Value")return e;if(!Jg(e,t.message))return be(t.message,e)}return e}function em(t){return Array.isArray(t)?new Uint8Array(t):t}function Pv(t,e){const r={};for(const a of Object.entries(t))r[a[0]]=e(a[1]);return r}const x2=Symbol(),Qv=new WeakMap;function T2(t){let e;if(C2(t)){const r=Qv.get(t);let a,o;if(r)({prototype:a,members:o}=r);else{a={},o=new Set;for(const u of t.members)u.kind!="oneof"&&(u.fieldKind!="scalar"&&u.fieldKind!="enum"||u.presence!=Dc&&(o.add(u),a[u.localName]=Ph(u)));Qv.set(t,{prototype:a,members:o})}e=Object.create(a),e.$typeName=t.typeName;for(const u of t.members)o.has(u)||u.kind=="field"&&(u.fieldKind=="message"||(u.fieldKind=="scalar"||u.fieldKind=="enum")&&u.presence!=Dc)||(e[u.localName]=Ph(u))}else{e={$typeName:t.typeName};for(const r of t.members)(r.kind=="oneof"||r.presence==Dc)&&(e[r.localName]=Ph(r))}return e}function C2(t){switch(t.file.edition){case S2:return!1;case A2:return!0;default:return t.fields.some(e=>e.presence!=Dc&&e.fieldKind!="message"&&!e.oneof)}}function Ph(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return x2;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?va(t.scalar,t.longAsString):t.enum.values[0].number}const I2=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class an extends Error{constructor(e,r,a="FieldValueInvalidError"){super(r),this.name=a,this.field=()=>e}}function R2(t){return t instanceof Error&&I2.includes(t.name)&&"field"in t&&typeof t.field=="function"}const Qh=Symbol.for("@bufbuild/protobuf/text-encoding");function tm(){if(globalThis[Qh]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Qh]={encodeUtf8(r){return t.encode(r)},decodeUtf8(r){return e.decode(r)},checkUtf8(r){try{return encodeURIComponent(r),!0}catch{return!1}}}}return globalThis[Qh]}var bt;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(bt||(bt={}));const OA=34028234663852886e22,VA=-34028234663852886e22,MA=4294967295,BA=2147483647,LA=-2147483648;class zA{constructor(e=tm().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let r=new Uint8Array(e),a=0;for(let o=0;o<this.chunks.length;o++)r.set(this.chunks[o],a),a+=this.chunks[o].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(qv(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return qh(e),Sg(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.encodeUtf8(e);return this.uint32(r.byteLength),this.raw(r)}float(e){D2(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){qv(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){qh(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return qh(e),e=(e<<1^e>>31)>>>0,Sg(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=ct.enc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=ct.uEnc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}int64(e){let r=ct.enc(e);return $h(r.lo,r.hi,this.buf),this}sint64(e){const r=ct.enc(e),a=r.hi>>31,o=r.lo<<1^a,u=(r.hi<<1|r.lo>>>31)^a;return $h(o,u,this.buf),this}uint64(e){const r=ct.uEnc(e);return $h(r.lo,r.hi,this.buf),this}}class nm{constructor(e,r=tm().decodeUtf8){this.decodeUtf8=r,this.varint64=f2,this.uint32=g2,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),r=e>>>3,a=e&7;if(r<=0||a<0||a>5)throw new Error("illegal tag: field no "+r+" wire type "+a);return[r,a]}skip(e,r){let a=this.pos;switch(e){case bt.Varint:for(;this.buf[this.pos++]&128;);break;case bt.Bit64:this.pos+=4;case bt.Bit32:this.pos+=4;break;case bt.LengthDelimited:let o=this.uint32();this.pos+=o;break;case bt.StartGroup:for(;;){const[u,c]=this.tag();if(c===bt.EndGroup){if(r!==void 0&&u!==r)throw new Error("invalid end group tag");break}this.skip(c,u)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ct.dec(...this.varint64())}uint64(){return ct.uDec(...this.varint64())}sint64(){let[e,r]=this.varint64(),a=-(e&1);return e=(e>>>1|(r&1)<<31)^a,r=r>>>1^a,ct.dec(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ct.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ct.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.decodeUtf8(this.bytes())}}function qh(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>BA||t<LA)throw new Error("invalid int32: "+t)}function qv(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>MA||t<0)throw new Error("invalid uint32: "+t)}function D2(t){if(typeof t=="string"){const e=t;if(t=Number(t),Number.isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>OA||t<VA))throw new Error("invalid float32: "+t)}function ua(t,e){const r=t.fieldKind=="list"?$g(e,t):t.fieldKind=="map"?Pg(e,t):rm(t,e);if(r===!0)return;let a;switch(t.fieldKind){case"list":a=`expected ${YA(t)}, got ${_t(e)}`;break;case"map":a=`expected ${GA(t)}, got ${_t(e)}`;break;default:a=Uc(t,e,r)}return new an(t,a)}function eb(t,e,r){const a=rm(t,r);if(a!==!0)return new an(t,`list item #${e+1}: ${Uc(t,r,a)}`)}function _2(t,e,r){const a=UA(e,t.mapKey);if(a!==!0)return new an(t,`invalid map key: ${Uc({scalar:t.mapKey},e,a)}`);const o=rm(t,r);if(o!==!0)return new an(t,`map entry ${_t(e)}: ${Uc(t,r,o)}`)}function rm(t,e){return t.scalar!==void 0?UA(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(r=>r.number===e):Qg(e,t.message)}function UA(t,e){switch(e){case W.DOUBLE:return typeof t=="number";case W.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>OA||t<VA?`${t.toFixed()} out of range`:!0;case W.INT32:case W.SFIXED32:case W.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>BA||t<LA?`${t.toFixed()} out of range`:!0;case W.FIXED32:case W.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>MA||t<0?`${t.toFixed()} out of range`:!0;case W.BOOL:return typeof t=="boolean";case W.STRING:return typeof t!="string"?!1:tm().checkUtf8(t)||"invalid UTF8";case W.BYTES:return t instanceof Uint8Array;case W.INT64:case W.SFIXED64:case W.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return ct.parse(t),!0}catch{return`${t} out of range`}return!1;case W.FIXED64:case W.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return ct.uParse(t),!0}catch{return`${t} out of range`}return!1}}function Uc(t,e,r){return r=typeof r=="string"?`: ${r}`:`, got ${_t(e)}`,t.scalar!==void 0?`expected ${O2(t.scalar)}`+r:t.enum!==void 0?`expected ${t.enum.toString()}`+r:`expected ${ZA(t.message)}`+r}function _t(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:$g(t)?YA(t.field()):Pg(t)?GA(t.field()):Qg(t)?ZA(t.desc):Jg(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function ZA(t){return`ReflectMessage (${t.typeName})`}function YA(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${W[t.scalar]})`}}function GA(t){switch(t.mapKind){case"message":return`ReflectMap (${W[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${W[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${W[t.mapKey]}, ${W[t.scalar]})`}}function O2(t){switch(t){case W.STRING:return"string";case W.BOOL:return"boolean";case W.INT64:case W.SINT64:case W.SFIXED64:return"bigint (int64)";case W.UINT64:case W.FIXED64:return"bigint (uint64)";case W.BYTES:return"Uint8Array";case W.DOUBLE:return"number (float64)";case W.FLOAT:return"number (float32)";case W.FIXED32:case W.UINT32:return"number (uint32)";case W.INT32:case W.SFIXED32:case W.SINT32:return"number (int32)"}}function _n(t,e,r=!0){return new kA(t,e,r)}const tb=new WeakMap;class kA{get sortedFields(){const e=tb.get(this.desc);if(e)return e;const r=this.desc.fields.concat().sort((a,o)=>a.number-o.number);return tb.set(this.desc,r),r}constructor(e,r,a=!0){this.lists=new Map,this.maps=new Map,this.check=a,this.desc=e,this.message=this[Yr]=r??be(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(r=>[r.number,r]))),this._fieldsByNumber.get(e)}oneofCase(e){return Ko(this.message,e),CA(this.message,e)}isSet(e){return Ko(this.message,e),y2(this.message,e)}clear(e){Ko(this.message,e),v2(this.message,e)}get(e){Ko(this.message,e);const r=IA(this.message,e);switch(e.fieldKind){case"list":let a=this.lists.get(e);return(!a||a[Yr]!==r)&&this.lists.set(e,a=new V2(e,r,this.check)),a;case"map":let o=this.maps.get(e);return(!o||o[Yr]!==r)&&this.maps.set(e,o=new M2(e,r,this.check)),o;case"message":return am(e,r,this.check);case"scalar":return r===void 0?va(e.scalar,!1):sm(e,r);case"enum":return r??e.enum.values[0].number}}set(e,r){if(Ko(this.message,e),this.check){const o=ua(e,r);if(o)throw o}let a;e.fieldKind=="message"?a=im(e,r):Pg(r)||$g(r)?a=r[Yr]:a=om(e,r),RA(this.message,e,a)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Ko(t,e){if(e.parent.typeName!==t.$typeName)throw new an(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}class V2{field(){return this._field}get size(){return this._arr.length}constructor(e,r,a){this._field=e,this._arr=this[Yr]=r,this.check=a}get(e){const r=this._arr[e];return r===void 0?void 0:eg(this._field,r,this.check)}set(e,r){if(e<0||e>=this._arr.length)throw new an(this._field,`list item #${e+1}: out of range`);if(this.check){const a=eb(this._field,e,r);if(a)throw a}this._arr[e]=nb(this._field,r)}add(e){if(this.check){const r=eb(this._field,this._arr.length,e);if(r)throw r}this._arr.push(nb(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield eg(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,eg(this._field,this._arr[e],this.check)]}}class M2{constructor(e,r,a=!0){this.obj=this[Yr]=r??{},this.check=a,this._field=e}field(){return this._field}set(e,r){if(this.check){const a=_2(this._field,e,r);if(a)throw a}return this.obj[dc(e)]=B2(this._field,r),this}delete(e){const r=dc(e),a=Object.prototype.hasOwnProperty.call(this.obj,r);return a&&delete this.obj[r],a}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let r=this.obj[dc(e)];return r!==void 0&&(r=tg(this._field,r,this.check)),r}has(e){return Object.prototype.hasOwnProperty.call(this.obj,dc(e))}*keys(){for(const e of Object.keys(this.obj))yield rb(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[rb(e[0],this._field.mapKey),tg(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield tg(this._field,e,this.check)}forEach(e,r){for(const a of this.entries())e.call(r,a[1],a[0],this)}}function im(t,e){return Qg(e)?b2(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?XA(e.message):e.message:e}function am(t,e,r){return e!==void 0&&(_l(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:sm(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&zi(e)&&(e=WA(e))),new kA(t.message,e,r)}function nb(t,e){return t.listKind=="message"?im(t,e):om(t,e)}function eg(t,e,r){return t.listKind=="message"?am(t,e,r):sm(t,e)}function B2(t,e){return t.mapKind=="message"?im(t,e):om(t,e)}function tg(t,e,r){return t.mapKind=="message"?am(t,e,r):e}function dc(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function rb(t,e){switch(e){case W.STRING:return t;case W.INT32:case W.FIXED32:case W.UINT32:case W.SFIXED32:case W.SINT32:{const r=Number.parseInt(t);if(Number.isFinite(r))return r;break}case W.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case W.UINT64:case W.FIXED64:try{return ct.uParse(t)}catch{}break;default:try{return ct.parse(t)}catch{}break}return t}function sm(t,e){switch(t.scalar){case W.INT64:case W.SFIXED64:case W.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=ct.parse(e));break;case W.FIXED64:case W.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=ct.uParse(e));break}return e}function om(t,e){switch(t.scalar){case W.INT64:case W.SFIXED64:case W.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ct.parse(e));break;case W.FIXED64:case W.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ct.uParse(e));break}return e}function WA(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(zi(t))for(const[r,a]of Object.entries(t))e.fields[r]=HA(a);return e}function XA(t){const e={};for(const[r,a]of Object.entries(t.fields))e[r]=KA(a);return e}function KA(t){switch(t.kind.case){case"structValue":return XA(t.kind.value);case"listValue":return t.kind.value.values.map(KA);case"nullValue":case void 0:return null;default:return t.kind.value}}function HA(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const r={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const a of t)r.values.push(HA(a));e.kind={case:"listValue",value:r}}else e.kind={case:"structValue",value:WA(t)};break}return e}function lm(t){const e=z2();let r=t.length*3/4;t[t.length-2]=="="?r-=2:t[t.length-1]=="="&&(r-=1);let a=new Uint8Array(r),o=0,u=0,c,d=0;for(let m=0;m<t.length;m++){if(c=e[t.charCodeAt(m)],c===void 0)switch(t[m]){case"=":u=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(u){case 0:d=c,u=1;break;case 1:a[o++]=d<<2|(c&48)>>4,d=c,u=2;break;case 2:a[o++]=(d&15)<<4|(c&60)>>2,d=c,u=3;break;case 3:a[o++]=(d&3)<<6|c,u=0;break}}if(u==1)throw Error("invalid base64 string");return a.subarray(0,o)}function L2(t,e="std"){const r=FA(e),a=e=="std";let o="",u=0,c,d=0;for(let m=0;m<t.length;m++)switch(c=t[m],u){case 0:o+=r[c>>2],d=(c&3)<<4,u=1;break;case 1:o+=r[d|c>>4],d=(c&15)<<2,u=2;break;case 2:o+=r[d|c>>6],o+=r[c&63],u=0;break}return u&&(o+=r[d],a&&(o+="=",u==1&&(o+="="))),o}let hc,ib,ms;function FA(t){return hc||(hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ib=hc.slice(0,-2).concat("-","_")),t=="url"?ib:hc}function z2(){if(!ms){ms=[];const t=FA("std");for(let e=0;e<t.length;e++)ms[t[e].charCodeAt(0)]=e;ms[45]=t.indexOf("+"),ms[95]=t.indexOf("/")}return ms}function cl(t){let e=!1;const r=[];for(let a=0;a<t.length;a++){let o=t.charAt(a);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),r.push(o);break}}return r.join("")}const U2=new Set(["constructor","toString","toJSON","valueOf"]);function fl(t){return U2.has(t)?t+"$":t}function um(t){for(const e of t.field)ul(e,"jsonName")||(e.jsonName=cl(e.name));t.nestedType.forEach(um)}function Z2(t,e){const r=t.values.find(a=>a.name===e);if(!r)throw new Error(`cannot parse ${t} default value: ${e}`);return r.number}function Y2(t,e){switch(t){case W.STRING:return e;case W.BYTES:{const r=G2(e);if(r===!1)throw new Error(`cannot parse ${W[t]} default value: ${e}`);return r}case W.INT64:case W.SFIXED64:case W.SINT64:return ct.parse(e);case W.UINT64:case W.FIXED64:return ct.uParse(e);case W.DOUBLE:case W.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case W.BOOL:return e==="true";case W.INT32:case W.UINT32:case W.SINT32:case W.FIXED32:case W.SFIXED32:return parseInt(e,10)}}function G2(t){const e=[],r={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(a){if(this.tail.length>=a){const o=this.tail.substring(0,a);return this.tail=this.tail.substring(a),o}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":e.push(r.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const a=r.c,o=r.take(2);if(o===!1)return!1;const u=parseInt(a+o,8);if(Number.isNaN(u))return!1;e.push(u);break}case"x":{const a=r.c,o=r.take(2);if(o===!1)return!1;const u=parseInt(a+o,16);if(Number.isNaN(u))return!1;e.push(u);break}case"u":{const a=r.c,o=r.take(4);if(o===!1)return!1;const u=parseInt(a+o,16);if(Number.isNaN(u))return!1;const c=new Uint8Array(4);new DataView(c.buffer).setInt32(0,u,!0),e.push(c[0],c[1],c[2],c[3]);break}case"U":{const a=r.c,o=r.take(8);if(o===!1)return!1;const u=ct.uEnc(a+o),c=new Uint8Array(8),d=new DataView(c.buffer);d.setInt32(0,u.lo,!0),d.setInt32(4,u.hi,!0),e.push(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);break}}break;default:e.push(r.c.charCodeAt(0))}return new Uint8Array(e)}function*Ag(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*Ag(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*Ag(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function JA(...t){const e=k2();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const a of t[0].file)lb(a,e);return e}if("$typeName"in t[0]){let c=function(d){const m=[];for(const h of d.dependency){if(e.getFile(h)!=null||u.has(h))continue;const p=o(h);if(!p)throw new Error(`Unable to resolve ${h}, imported by ${d.name}`);"kind"in p?e.addFile(p,!1,!0):(u.add(p.name),m.push(p))}return m.concat(...m.map(c))};var r=c;const a=t[0],o=t[1],u=new Set;for(const d of[a,...c(a)].reverse())lb(d,e)}else for(const a of t)for(const o of a.files)e.addFile(o);return e}function k2(){const t=new Map,e=new Map,r=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return r.values()},addFile(a,o,u){if(r.set(a.proto.name,a),!o)for(const c of Ag(a))this.add(c);if(u)for(const c of a.dependencies)this.addFile(c,o,u)},add(a){if(a.kind=="extension"){let o=e.get(a.extendee.typeName);o||e.set(a.extendee.typeName,o=new Map),o.set(a.number,a)}t.set(a.typeName,a)},get(a){return t.get(a)},getFile(a){return r.get(a)},getMessage(a){const o=t.get(a);return o?.kind=="message"?o:void 0},getEnum(a){const o=t.get(a);return o?.kind=="enum"?o:void 0},getExtension(a){const o=t.get(a);return o?.kind=="extension"?o:void 0},getExtensionFor(a,o){var u;return(u=e.get(a.typeName))===null||u===void 0?void 0:u.get(o)},getService(a){const o=t.get(a);return o?.kind=="service"?o:void 0}}}const W2=998,X2=999,K2=9,dl=10,tl=11,H2=12,ab=14,cm=3,F2=2,sb=1,J2=0,ng=1,ob=2,j2=3,$2=1,P2=2,Q2=1,jA={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lb(t,e){var r,a;const o={kind:"file",proto:t,deprecated:(a=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,edition:nT(t),name:t.name.replace(/\.proto$/,""),dependencies:rT(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},u=new Map,c={get(d){return u.get(d)},add(d){var m;Xn(((m=d.proto.options)===null||m===void 0?void 0:m.mapEntry)===!0),u.set(d.typeName,d)}};for(const d of t.enumType)$A(d,o,void 0,e);for(const d of t.messageType)PA(d,o,void 0,e,c);for(const d of t.service)q2(d,o,e);Eg(o,e);for(const d of u.values())wg(d,e,c);for(const d of o.messages)wg(d,e,c),Eg(d,e);e.addFile(o,!0)}function Eg(t,e){switch(t.kind){case"file":for(const r of t.proto.extension){const a=Ng(r,t,e);t.extensions.push(a),e.add(a)}break;case"message":for(const r of t.proto.extension){const a=Ng(r,t,e);t.nestedExtensions.push(a),e.add(a)}for(const r of t.nestedMessages)Eg(r,e);break}}function wg(t,e,r){const a=t.proto.oneofDecl.map(u=>tT(u,t)),o=new Set;for(const u of t.proto.field){const c=sT(u,a),d=Ng(u,t,e,c,r);t.fields.push(d),t.field[d.localName]=d,c===void 0?t.members.push(d):(c.fields.push(d),o.has(c)||(o.add(c),t.members.push(c)))}for(const u of a.filter(c=>o.has(c)))t.oneofs.push(u);for(const u of t.nestedMessages)wg(u,e,r)}function $A(t,e,r,a){var o,u,c,d,m;const h=iT(t.name,t.value),p={kind:"enum",proto:t,deprecated:(u=(o=t.options)===null||o===void 0?void 0:o.deprecated)!==null&&u!==void 0?u:!1,file:e,parent:r,open:!0,name:t.name,typeName:af(t,r,e),value:{},values:[],sharedPrefix:h,toString(){return`enum ${this.typeName}`}};p.open=cT(p),a.add(p);for(const y of t.value){const v=y.name;p.values.push(p.value[y.number]={kind:"enum_value",proto:y,deprecated:(d=(c=y.options)===null||c===void 0?void 0:c.deprecated)!==null&&d!==void 0?d:!1,parent:p,name:v,localName:fl(h==null?v:v.substring(h.length)),number:y.number,toString(){return`enum value ${p.typeName}.${v}`}})}((m=r?.nestedEnums)!==null&&m!==void 0?m:e.enums).push(p)}function PA(t,e,r,a,o){var u,c,d,m;const h={kind:"message",proto:t,deprecated:(c=(u=t.options)===null||u===void 0?void 0:u.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:r,name:t.name,typeName:af(t,r,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=t.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(h):(((m=r?.nestedMessages)!==null&&m!==void 0?m:e.messages).push(h),a.add(h));for(const p of t.enumType)$A(p,e,h,a);for(const p of t.nestedType)PA(p,e,h,a,o)}function q2(t,e,r){var a,o;const u={kind:"service",proto:t,deprecated:(o=(a=t.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,file:e,name:t.name,typeName:af(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(u),r.add(u);for(const c of t.method){const d=eT(c,u,r);u.methods.push(d),u.method[d.localName]=d}}function eT(t,e,r){var a,o,u,c;let d;t.clientStreaming&&t.serverStreaming?d="bidi_streaming":t.clientStreaming?d="client_streaming":t.serverStreaming?d="server_streaming":d="unary";const m=r.getMessage(Zr(t.inputType)),h=r.getMessage(Zr(t.outputType));Xn(m,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),Xn(h,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const p=t.name;return{kind:"rpc",proto:t,deprecated:(o=(a=t.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:p,localName:fl(p.length?fl(p[0].toLowerCase()+p.substring(1)):p),methodKind:d,input:m,output:h,idempotency:(c=(u=t.options)===null||u===void 0?void 0:u.idempotencyLevel)!==null&&c!==void 0?c:J2,toString(){return`rpc ${e.typeName}.${p}`}}}function tT(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:fl(cl(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Ng(t,e,r,a,o){var u,c,d;const m=o===void 0,h={kind:"field",proto:t,deprecated:(c=(u=t.options)===null||u===void 0?void 0:u.deprecated)!==null&&c!==void 0?c:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:oT(t,a,m,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(m){const S=e.kind=="file"?e:e.file,E=e.kind=="file"?void 0:e,A=af(t,E,S);h.kind="extension",h.file=S,h.parent=E,h.oneof=void 0,h.typeName=A,h.jsonName=`[${A}]`,h.toString=()=>`extension ${A}`;const R=r.getMessage(Zr(t.extendee));Xn(R,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),h.extendee=R}else{const S=e;Xn(S.kind=="message"),h.parent=S,h.oneof=a,h.localName=a?cl(t.name):fl(cl(t.name)),h.jsonName=t.jsonName,h.toString=()=>`field ${S.typeName}.${t.name}`}const p=t.label,y=t.type,v=(d=t.options)===null||d===void 0?void 0:d.jstype;if(p===cm){const S=y==tl?o?.get(Zr(t.typeName)):void 0;if(S){h.fieldKind="map";const{key:E,value:A}=uT(S);return h.mapKey=E.scalar,h.mapKind=A.fieldKind,h.message=A.message,h.delimitedEncoding=!1,h.enum=A.enum,h.scalar=A.scalar,h}switch(h.fieldKind="list",y){case tl:case dl:h.listKind="message",h.message=r.getMessage(Zr(t.typeName)),Xn(h.message),h.delimitedEncoding=ub(t,e);break;case ab:h.listKind="enum",h.enum=r.getEnum(Zr(t.typeName)),Xn(h.enum);break;default:h.listKind="scalar",h.scalar=y,h.longAsString=v==sb;break}return h.packed=lT(t,e),h}switch(y){case tl:case dl:h.fieldKind="message",h.message=r.getMessage(Zr(t.typeName)),Xn(h.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),h.delimitedEncoding=ub(t,e),h.getDefaultValue=()=>{};break;case ab:{const S=r.getEnum(Zr(t.typeName));Xn(S!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),h.fieldKind="enum",h.enum=r.getEnum(Zr(t.typeName)),h.getDefaultValue=()=>ul(t,"defaultValue")?Z2(S,t.defaultValue):void 0;break}default:{h.fieldKind="scalar",h.scalar=y,h.longAsString=v==sb,h.getDefaultValue=()=>ul(t,"defaultValue")?Y2(y,t.defaultValue):void 0;break}}return h}function nT(t){switch(t.syntax){case"":case"proto2":return W2;case"proto3":return X2;case"editions":if(t.edition in jA)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function rT(t,e){return t.dependency.map(r=>{const a=e.getFile(r);if(!a)throw new Error(`Cannot find ${r}, imported by ${t.name}`);return a})}function iT(t,e){const r=aT(t)+"_";for(const a of e){if(!a.name.toLowerCase().startsWith(r))return;const o=a.name.substring(r.length);if(o.length==0||/^\d/.test(o))return}return r}function aT(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function af(t,e,r){let a;return e?a=`${e.typeName}.${t.name}`:r.proto.package.length>0?a=`${r.proto.package}.${t.name}`:a=`${t.name}`,a}function Zr(t){return t.startsWith(".")?t.substring(1):t}function sT(t,e){if(!ul(t,"oneofIndex")||t.proto3Optional)return;const r=e[t.oneofIndex];return Xn(r,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),r}function oT(t,e,r,a){if(t.label==F2)return j2;if(t.label==cm)return ob;if(e||t.proto3Optional||r)return ng;const o=Ds("fieldPresence",{proto:t,parent:a});return o==ob&&(t.type==tl||t.type==dl)?ng:o}function lT(t,e){if(t.label!=cm)return!1;switch(t.type){case K2:case H2:case dl:case tl:return!1}const r=t.options;return r&&ul(r,"packed")?r.packed:$2==Ds("repeatedFieldEncoding",{proto:t,parent:e})}function uT(t){const e=t.fields.find(a=>a.number===1),r=t.fields.find(a=>a.number===2);return Xn(e&&e.fieldKind=="scalar"&&e.scalar!=W.BYTES&&e.scalar!=W.FLOAT&&e.scalar!=W.DOUBLE&&r&&r.fieldKind!="list"&&r.fieldKind!="map"),{key:e,value:r}}function cT(t){var e;return Q2==Ds("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function ub(t,e){return t.type==dl?!0:P2==Ds("messageEncoding",{proto:t,parent:e})}function Ds(t,e){var r,a;const o=(r=e.proto.options)===null||r===void 0?void 0:r.features;if(o){const u=o[t];if(u!=0)return u}if("kind"in e){if(e.kind=="message")return Ds(t,(a=e.parent)!==null&&a!==void 0?a:e.file);const u=jA[e.edition];if(!u)throw new Error(`feature default for edition ${e.edition} not found`);return u[t]}return Ds(t,e.parent)}function Xn(t,e){if(!t)throw new Error(e)}function fT(t){const e=dT(t);return e.messageType.forEach(um),JA(e,()=>{}).getFile(e.name)}function dT(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(QA),enumType:t.enumType.map(qA)}))}function QA(t){var e,r,a,o,u,c,d,m;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(r=(e=t.field)===null||e===void 0?void 0:e.map(hT))!==null&&r!==void 0?r:[],extension:[],nestedType:(o=(a=t.nestedType)===null||a===void 0?void 0:a.map(QA))!==null&&o!==void 0?o:[],enumType:(c=(u=t.enumType)===null||u===void 0?void 0:u.map(qA))!==null&&c!==void 0?c:[],extensionRange:(m=(d=t.extensionRange)===null||d===void 0?void 0:d.map(p=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},p)))!==null&&m!==void 0?m:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function hT(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?gT(t.options):void 0}))}function gT(t){var e,r,a;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(a=(r=t.editionDefaults)===null||r===void 0?void 0:r.map(u=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},u)))!==null&&a!==void 0?a:[],uninterpretedOption:[]}))}function qA(t){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(r=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},r))})}function Ce(t,e,...r){return r.reduce((a,o)=>a.nestedMessages[o],t.messages[e])}const mT=fT({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),pT=Ce(mT,1);var cb;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(cb||(cb={}));var fb;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(fb||(fb={}));var db;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(db||(db={}));var hb;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(hb||(hb={}));var gb;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(gb||(gb={}));var mb;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(mb||(mb={}));var pb;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(pb||(pb={}));var yb;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yb||(yb={}));var vb;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(vb||(vb={}));var bb;(function(t){t[t.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",t[t.EXPORT_ALL=1]="EXPORT_ALL",t[t.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",t[t.LOCAL_ALL=3]="LOCAL_ALL",t[t.STRICT=4]="STRICT"})(bb||(bb={}));var Sb;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Sb||(Sb={}));var Ab;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(Ab||(Ab={}));var Eb;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(Eb||(Eb={}));var wb;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(wb||(wb={}));var Nb;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(Nb||(Nb={}));var xb;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(xb||(xb={}));var Tb;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(Tb||(Tb={}));var Cb;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(Cb||(Cb={}));var Ib;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(Ib||(Ib={}));var Rb;(function(t){t[t.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",t[t.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",t[t.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Rb||(Rb={}));const Db={readUnknownFields:!0};function yT(t){return t?Object.assign(Object.assign({},Db),t):Db}function On(t,e,r){const a=_n(t,void 0,!1);return eE(a,new nm(e),yT(r),!1,e.byteLength),a.message}function eE(t,e,r,a,o){var u;const c=a?e.len:e.pos+o;let d,m;const h=(u=t.getUnknown())!==null&&u!==void 0?u:[];for(;e.pos<c&&([d,m]=e.tag(),!(a&&m==bt.EndGroup));){const p=t.findNumber(d);if(!p){const y=e.skip(m,d);r.readUnknownFields&&h.push({no:d,wireType:m,data:y});continue}tE(t,e,p,m,r)}if(a&&(m!=bt.EndGroup||d!==o))throw new Error("invalid end group tag");h.length>0&&t.setUnknown(h)}function tE(t,e,r,a,o){var u;switch(r.fieldKind){case"scalar":t.set(r,_s(e,r.scalar));break;case"enum":const c=_s(e,W.INT32);if(r.enum.open)t.set(r,c);else if(r.enum.values.some(m=>m.number===c))t.set(r,c);else if(o.readUnknownFields){const m=[];Sg(c,m);const h=(u=t.getUnknown())!==null&&u!==void 0?u:[];h.push({no:r.number,wireType:a,data:new Uint8Array(m)}),t.setUnknown(h)}break;case"message":t.set(r,fm(e,o,r,t.get(r)));break;case"list":bT(e,a,t.get(r),o);break;case"map":vT(e,t.get(r),o);break}}function vT(t,e,r){const a=e.field();let o,u;const c=t.uint32(),d=t.pos+c;for(;t.pos<d;){const[m]=t.tag();switch(m){case 1:o=_s(t,a.mapKey);break;case 2:switch(a.mapKind){case"scalar":u=_s(t,a.scalar);break;case"enum":u=t.int32();break;case"message":u=fm(t,r,a);break}break}}if(o===void 0&&(o=va(a.mapKey,!1)),u===void 0)switch(a.mapKind){case"scalar":u=va(a.scalar,!1);break;case"enum":u=a.enum.values[0].number;break;case"message":u=_n(a.message,void 0,!1);break}e.set(o,u)}function bT(t,e,r,a){var o;const u=r.field();if(u.listKind==="message"){r.add(fm(t,a,u));return}const c=(o=u.scalar)!==null&&o!==void 0?o:W.INT32;if(!(e==bt.LengthDelimited&&c!=W.STRING&&c!=W.BYTES)){r.add(_s(t,c));return}const m=t.uint32()+t.pos;for(;t.pos<m;)r.add(_s(t,c))}function fm(t,e,r,a){const o=r.delimitedEncoding,u=a??_n(r.message,void 0,!1);return eE(u,t,e,o,o?r.number:t.uint32()),u}function _s(t,e){switch(e){case W.STRING:return t.string();case W.BOOL:return t.bool();case W.DOUBLE:return t.double();case W.FLOAT:return t.float();case W.INT32:return t.int32();case W.INT64:return t.int64();case W.UINT64:return t.uint64();case W.FIXED64:return t.fixed64();case W.BYTES:return t.bytes();case W.FIXED32:return t.fixed32();case W.SFIXED32:return t.sfixed32();case W.SFIXED64:return t.sfixed64();case W.SINT64:return t.sint64();case W.UINT32:return t.uint32();case W.SINT32:return t.sint32()}}function Jr(t,e){var r;const a=On(pT,lm(t));return a.messageType.forEach(um),a.dependency=(r=e?.map(u=>u.proto.name))!==null&&r!==void 0?r:[],JA(a,u=>e?.find(c=>c.proto.name===u)).getFile(a.name)}const ST=Jr("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function AT(t){return new Date(ET(t))}function ET(t){return Number(t.seconds)*1e3+Math.round(t.nanos/1e6)}const wT=Jr("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),nE=Jr("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),NT=Ce(nE,0),xT=3,_b={writeUnknownFields:!0};function TT(t){return t?Object.assign(Object.assign({},_b),t):_b}function Ui(t,e,r){return Zc(new zA,TT(r),_n(t,e)).finish()}function Zc(t,e,r){var a;for(const o of r.sortedFields){if(!r.isSet(o)){if(o.presence==xT)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}rE(t,e,r,o)}if(e.writeUnknownFields)for(const{no:o,wireType:u,data:c}of(a=r.getUnknown())!==null&&a!==void 0?a:[])t.tag(o,u).raw(c);return t}function rE(t,e,r,a){var o;switch(a.fieldKind){case"scalar":case"enum":Yc(t,r.desc.typeName,a.name,(o=a.scalar)!==null&&o!==void 0?o:W.INT32,a.number,r.get(a));break;case"list":CT(t,e,a,r.get(a));break;case"message":iE(t,e,a,r.get(a));break;case"map":for(const[u,c]of r.get(a))IT(t,e,a,u,c);break}}function Yc(t,e,r,a,o,u){aE(t.tag(o,RT(a)),e,r,a,u)}function iE(t,e,r,a){r.delimitedEncoding?Zc(t.tag(r.number,bt.StartGroup),e,a).tag(r.number,bt.EndGroup):Zc(t.tag(r.number,bt.LengthDelimited).fork(),e,a).join()}function CT(t,e,r,a){var o;if(r.listKind=="message"){for(const c of a)iE(t,e,r,c);return}const u=(o=r.scalar)!==null&&o!==void 0?o:W.INT32;if(r.packed){if(!a.size)return;t.tag(r.number,bt.LengthDelimited).fork();for(const c of a)aE(t,r.parent.typeName,r.name,u,c);t.join();return}for(const c of a)Yc(t,r.parent.typeName,r.name,u,r.number,c)}function IT(t,e,r,a,o){var u;switch(t.tag(r.number,bt.LengthDelimited).fork(),Yc(t,r.parent.typeName,r.name,r.mapKey,1,a),r.mapKind){case"scalar":case"enum":Yc(t,r.parent.typeName,r.name,(u=r.scalar)!==null&&u!==void 0?u:W.INT32,2,o);break;case"message":Zc(t.tag(2,bt.LengthDelimited).fork(),e,o).join();break}t.join()}function aE(t,e,r,a,o){try{switch(a){case W.STRING:t.string(o);break;case W.BOOL:t.bool(o);break;case W.DOUBLE:t.double(o);break;case W.FLOAT:t.float(o);break;case W.INT32:t.int32(o);break;case W.INT64:t.int64(o);break;case W.UINT64:t.uint64(o);break;case W.FIXED64:t.fixed64(o);break;case W.BYTES:t.bytes(o);break;case W.FIXED32:t.fixed32(o);break;case W.SFIXED32:t.sfixed32(o);break;case W.SFIXED64:t.sfixed64(o);break;case W.SINT64:t.sint64(o);break;case W.UINT32:t.uint32(o);break;case W.SINT32:t.sint32(o);break}}catch(u){throw u instanceof Error?new Error(`cannot encode field ${e}.${r} to binary: ${u.message}`):u}}function RT(t){switch(t){case W.BYTES:case W.STRING:return bt.LengthDelimited;case W.DOUBLE:case W.FIXED64:case W.SFIXED64:return bt.Bit64;case W.FIXED32:case W.SFIXED32:case W.FLOAT:return bt.Bit32;default:return bt.Varint}}function DT(t,e,r){let a=!1;return r||(r=be(NT),a=!0),r.value=Ui(t,e),r.typeUrl=VT(e.$typeName),a?r:void 0}function _T(t,e){if(t.typeUrl==="")return!1;const r=typeof e=="string"?e:e.typeName,a=sE(t.typeUrl);return r===a}function OT(t,e){if(t.typeUrl==="")return;const r=e.kind=="message"?e:e.getMessage(sE(t.typeUrl));if(!(!r||!_T(t,r)))return On(r,t.value)}function VT(t){return`type.googleapis.com/${t}`}function sE(t){const e=t.lastIndexOf("/"),r=e>=0?t.substring(e+1):t;if(!r.length)throw new Error(`invalid type url: ${t}`);return r}const dm=Jr("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),MT=Ce(dm,0),oE=Ce(dm,1),BT=Ce(dm,2);var xg;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE"})(xg||(xg={}));const LT=Jr("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function zT(t,e){lE(e,t);const r=ZT(t.$unknown,e),[a,o,u]=sf(e);for(const c of r)tE(a,new nm(c.data),o,c.wireType,{readUnknownFields:!0});return u()}function UT(t,e,r){var a;lE(e,t);const o=((a=t.$unknown)!==null&&a!==void 0?a:[]).filter(h=>h.no!==e.number),[u,c]=sf(e,r),d=new zA;rE(d,{writeUnknownFields:!0},u,c);const m=new nm(d.finish());for(;m.pos<m.len;){const[h,p]=m.tag(),y=m.skip(p,h);o.push({no:h,wireType:p,data:y})}t.$unknown=o}function ZT(t,e){if(t===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let r=t.length-1;r>=0;--r)if(t[r].no==e.number)return[t[r]];return[]}return t.filter(r=>r.no===e.number)}function sf(t,e){const r=t.typeName,a=Object.assign(Object.assign({},t),{kind:"field",parent:t.extendee,localName:r}),o=Object.assign(Object.assign({},t.extendee),{fields:[a],members:[a],oneofs:[]}),u=be(o,e!==void 0?{[r]:e}:void 0);return[_n(o,u),a,()=>{const c=u[r];if(c===void 0){const d=t.message;return _l(d)?va(d.fields[0].scalar,d.fields[0].longAsString):be(d)}return c}]}function lE(t,e){if(t.extendee.typeName!=e.$typeName)throw new Error(`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}const YT=3,GT=2,Ob={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function kT(t){return t?Object.assign(Object.assign({},Ob),t):Ob}function WT(t,e,r){return Ol(_n(t,e),kT(r))}function XT(t,e,r){var a;const o=WT(t,e,r);return JSON.stringify(o,null,(a=r?.prettySpaces)!==null&&a!==void 0?a:0)}function Ol(t,e){var r;const a=JT(t,e);if(a!==void 0)return a;const o={};for(const u of t.sortedFields){if(!t.isSet(u)){if(u.presence==YT)throw new Error(`cannot encode ${u} to JSON: required field not set`);if(!e.alwaysEmitImplicit||u.presence!==GT)continue}const c=Vb(u,t.get(u),e);c!==void 0&&(o[FT(u,e)]=c)}if(e.registry){const u=new Set;for(const{no:c}of(r=t.getUnknown())!==null&&r!==void 0?r:[])if(!u.has(c)){u.add(c);const d=e.registry.getExtensionFor(t.desc,c);if(!d)continue;const m=zT(t.message,d),[h,p]=sf(d,m),y=Vb(p,h.get(p),e);y!==void 0&&(o[d.jsonName]=y)}}return o}function Vb(t,e,r){switch(t.fieldKind){case"scalar":return of(t,e);case"message":return Ol(e,r);case"enum":return hm(t.enum,e,r.enumAsInteger);case"list":return HT(e,r);case"map":return KT(e,r)}}function KT(t,e){const r=t.field(),a={};switch(r.mapKind){case"scalar":for(const[o,u]of t)a[o]=of(r,u);break;case"message":for(const[o,u]of t)a[o]=Ol(u,e);break;case"enum":for(const[o,u]of t)a[o]=hm(r.enum,u,e.enumAsInteger);break}return e.alwaysEmitImplicit||t.size>0?a:void 0}function HT(t,e){const r=t.field(),a=[];switch(r.listKind){case"scalar":for(const o of t)a.push(of(r,o));break;case"enum":for(const o of t)a.push(hm(r.enum,o,e.enumAsInteger));break;case"message":for(const o of t)a.push(Ol(o,e));break}return e.alwaysEmitImplicit||a.length>0?a:void 0}function hm(t,e,r){var a;if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: expected number, got ${_t(e)}`);if(t.typeName=="google.protobuf.NullValue")return null;if(r)return e;const o=t.value[e];return(a=o?.name)!==null&&a!==void 0?a:e}function of(t,e){var r,a,o,u,c,d;switch(t.scalar){case W.INT32:case W.SFIXED32:case W.SINT32:case W.FIXED32:case W.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(r=ua(t,e))===null||r===void 0?void 0:r.message}`);return e;case W.FLOAT:case W.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(a=ua(t,e))===null||a===void 0?void 0:a.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case W.STRING:if(typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(o=ua(t,e))===null||o===void 0?void 0:o.message}`);return e;case W.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${t} to JSON: ${(u=ua(t,e))===null||u===void 0?void 0:u.message}`);return e;case W.UINT64:case W.FIXED64:case W.INT64:case W.SFIXED64:case W.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(c=ua(t,e))===null||c===void 0?void 0:c.message}`);return e.toString();case W.BYTES:if(e instanceof Uint8Array)return L2(e);throw new Error(`cannot encode ${t} to JSON: ${(d=ua(t,e))===null||d===void 0?void 0:d.message}`)}}function FT(t,e){return e.useProtoFieldName?t.name:t.jsonName}function JT(t,e){if(t.desc.typeName.startsWith("google.protobuf."))switch(t.desc.typeName){case"google.protobuf.Any":return jT(t.message,e);case"google.protobuf.Timestamp":return QT(t.message);case"google.protobuf.Duration":return $T(t.message);case"google.protobuf.FieldMask":return PT(t.message);case"google.protobuf.Struct":return uE(t.message);case"google.protobuf.Value":return gm(t.message);case"google.protobuf.ListValue":return cE(t.message);default:if(_l(t.desc)){const r=t.desc.fields[0];return of(r,t.get(r))}return}}function jT(t,e){if(t.typeUrl==="")return{};const{registry:r}=e;let a,o;if(r&&(a=OT(t,r),a&&(o=r.getMessage(a.$typeName))),!o||!a)throw new Error(`cannot encode message ${t.$typeName} to JSON: "${t.typeUrl}" is not in the type registry`);let u=Ol(_n(o,a),e);return(o.typeName.startsWith("google.protobuf.")||u===null||Array.isArray(u)||typeof u!="object")&&(u={value:u}),u["@type"]=t.typeUrl,u}function $T(t){const e=Number(t.seconds),r=t.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${t.$typeName} to JSON: value out of range`);if(e>0&&r<0||e<0&&r>0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos sign must match seconds sign`);let a=t.seconds.toString();if(r!==0){let o=Math.abs(r).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),a+="."+o,r<0&&e==0&&(a="-"+a)}return a+"s"}function PT(t){return t.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${t.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return cl(e)}).join(",")}function uE(t){const e={};for(const[r,a]of Object.entries(t.fields))e[r]=gm(a);return e}function gm(t){switch(t.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(t.kind.value))throw new Error(`${t.$typeName} cannot be NaN or Infinity`);return t.kind.value;case"boolValue":return t.kind.value;case"stringValue":return t.kind.value;case"structValue":return uE(t.kind.value);case"listValue":return cE(t.kind.value);default:throw new Error(`${t.$typeName} must have a value`)}}function cE(t){return t.values.map(gm)}function QT(t){const e=Number(t.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${t.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(t.nanos<0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be negative`);if(t.nanos>999999999)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be greater than 99999999`);let r="Z";if(t.nanos>0){const a=(t.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?r="."+a.substring(0,3)+"Z":a.substring(6)==="000"?r="."+a.substring(0,6)+"Z":r="."+a+"Z"}return new Date(e).toISOString().replace(".000Z",r)}const Mb={ignoreUnknownFields:!1};function qT(t){return t?Object.assign(Object.assign({},Mb),t):Mb}function eC(t,e,r){return tC(t,lC(e,t.typeName),r)}function tC(t,e,r){const a=_n(t);try{Os(a,e,qT(r))}catch(o){throw R2(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return a.message}function Os(t,e,r){var a;if(uC(t,e,r))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${t.desc} from JSON: ${_t(e)}`);const o=new Map,u=new Map;for(const c of t.desc.fields)u.set(c.name,c).set(c.jsonName,c);for(const[c,d]of Object.entries(e)){const m=u.get(c);if(m){if(m.oneof){if(d===null&&m.fieldKind=="scalar")continue;const h=o.get(m.oneof);if(h!==void 0)throw new an(m.oneof,`oneof set multiple times by ${h.name} and ${m.name}`);o.set(m.oneof,m)}Bb(t,m,d,r)}else{let h;if(c.startsWith("[")&&c.endsWith("]")&&(h=(a=r.registry)===null||a===void 0?void 0:a.getExtension(c.substring(1,c.length-1)))&&h.extendee.typeName===t.desc.typeName){const[p,y,v]=sf(h);Bb(p,y,d,r),UT(t.message,h,v())}if(!h&&!r.ignoreUnknownFields)throw new Error(`cannot decode ${t.desc} from JSON: key "${c}" is unknown`)}}}function Bb(t,e,r,a){switch(e.fieldKind){case"scalar":sC(t,e,r);break;case"enum":aC(t,e,r,a);break;case"message":iC(t,e,r,a);break;case"list":rC(t.get(e),r,a);break;case"map":nC(t.get(e),r,a);break}}function nC(t,e,r){if(e===null)return;const a=t.field();if(typeof e!="object"||Array.isArray(e))throw new an(a,"expected object, got "+_t(e));for(const[o,u]of Object.entries(e)){if(u===null)throw new an(a,"map value must not be null");let c;switch(a.mapKind){case"message":const m=_n(a.message);Os(m,u,r),c=m;break;case"enum":if(c=mm(a.enum,u,r.ignoreUnknownFields,!0),c===lf)return;break;case"scalar":c=cf(a,u,!0);break}const d=oC(a.mapKey,o);t.set(d,c)}}function rC(t,e,r){if(e===null)return;const a=t.field();if(!Array.isArray(e))throw new an(a,"expected Array, got "+_t(e));for(const o of e){if(o===null)throw new an(a,"list item must not be null");switch(a.listKind){case"message":const u=_n(a.message);Os(u,o,r),t.add(u);break;case"enum":const c=mm(a.enum,o,r.ignoreUnknownFields,!0);c!==lf&&t.add(c);break;case"scalar":t.add(cf(a,o,!0));break}}}function iC(t,e,r,a){if(r===null&&e.message.typeName!="google.protobuf.Value"){t.clear(e);return}const o=t.isSet(e)?t.get(e):_n(e.message);Os(o,r,a),t.set(e,o)}function aC(t,e,r,a){const o=mm(e.enum,r,a.ignoreUnknownFields,!1);o===uf?t.clear(e):o!==lf&&t.set(e,o)}function sC(t,e,r){const a=cf(e,r,!1);a===uf?t.clear(e):t.set(e,a)}const lf=Symbol();function mm(t,e,r,a){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:a?t.values[0].number:uf;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=t.values.find(u=>u.name===e);if(o!==void 0)return o.number;if(r)return lf;break}throw new Error(`cannot decode ${t} from JSON: ${_t(e)}`)}const uf=Symbol();function cf(t,e,r){if(e===null)return r?va(t.scalar,!1):uf;switch(t.scalar){case W.DOUBLE:case W.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new an(t,"unexpected NaN number");if(!Number.isFinite(e))throw new an(t,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const a=Number(e);if(!Number.isFinite(a))break;return a}break;case W.INT32:case W.FIXED32:case W.SFIXED32:case W.SINT32:case W.UINT32:return fE(e);case W.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return lm(e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new an(t,o)}}break}return e}function oC(t,e){switch(t){case W.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case W.INT32:case W.FIXED32:case W.UINT32:case W.SFIXED32:case W.SINT32:return fE(e);default:return e}}function fE(t){if(typeof t=="string"){if(t===""||t.trim().length!==t.length)return t;const e=Number(t);return Number.isNaN(e)?t:e}return t}function lC(t,e){try{return JSON.parse(t)}catch(r){const a=r instanceof Error?r.message:String(r);throw new Error(`cannot decode message ${e} from JSON: ${a}`,{cause:r})}}function uC(t,e,r){if(!t.desc.typeName.startsWith("google.protobuf."))return!1;switch(t.desc.typeName){case"google.protobuf.Any":return cC(t.message,e,r),!0;case"google.protobuf.Timestamp":return fC(t.message,e),!0;case"google.protobuf.Duration":return dC(t.message,e),!0;case"google.protobuf.FieldMask":return hC(t.message,e),!0;case"google.protobuf.Struct":return dE(t.message,e),!0;case"google.protobuf.Value":return pm(t.message,e),!0;case"google.protobuf.ListValue":return hE(t.message,e),!0;default:if(_l(t.desc)){const a=t.desc.fields[0];return e===null?t.clear(a):t.set(a,cf(a,e,!0)),!0}return!1}}function cC(t,e,r){var a;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.$typeName} from JSON: expected object but got ${_t(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is empty`);const u=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!u.length)throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is invalid`);const c=(a=r.registry)===null||a===void 0?void 0:a.getMessage(u);if(!c)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${o} is not in the type registry`);const d=_n(c);if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const m=e.value;Os(d,m,r)}else{const m=Object.assign({},e);delete m["@type"],Os(d,m,r)}DT(d.desc,d.message,t)}function fC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);const a=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(a))throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${t.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);t.seconds=ct.parse(a/1e3),t.nanos=0,r[7]&&(t.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9)}function dC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const r=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);const a=Number(r[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);if(t.seconds=ct.parse(a),typeof r[2]!="string")return;const o=r[2]+"0".repeat(9-r[2].length);t.nanos=parseInt(o),(a<0||Object.is(a,-0))&&(t.nanos=-t.nanos)}function hC(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${_t(e)}`);if(e==="")return;function r(a){if(a.includes("_"))throw new Error(`cannot decode message ${t.$typeName} from JSON: path names must be lowerCamelCase`);const o=a.replace(/[A-Z]/g,u=>"_"+u.toLowerCase());return o[0]==="_"?o.substring(1):o}t.paths=e.split(",").map(r)}function dE(t,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`);for(const[r,a]of Object.entries(e)){const o=be(oE);pm(o,a),t.fields[r]=o}}function pm(t,e){switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(e===null)t.kind={case:"nullValue",value:xg.NULL_VALUE};else if(Array.isArray(e)){const r=be(BT);hE(r,e),t.kind={case:"listValue",value:r}}else{const r=be(MT);dE(r,e),t.kind={case:"structValue",value:r}}break;default:throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`)}return t}function hE(t,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${_t(e)}`);for(const r of e){const a=be(oE);pm(a,r),t.values.push(a)}}function Lb(t){const e=Be[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class Pe extends Error{constructor(e,r=Be.Unknown,a,o,u){super(gC(e,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=r,this.metadata=new Headers(a??{}),this.details=o??[],this.cause=u}static from(e,r=Be.Unknown){return e instanceof Pe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new Pe(e.message,Be.Canceled):new Pe(e.message,r,void 0,void 0,e):new Pe(String(e),r,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Pe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const r=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,a=[];for(const o of this.details){if("desc"in o){r.getMessage(o.desc.typeName)&&a.push(be(o.desc,o.value));continue}const u=r.getMessage(o.type);if(u)try{a.push(On(u,o.value))}catch{}}return a}}function gC(t,e){return t.length?`[${Lb(e)}] ${t}`:`[${Lb(e)}]`}function mC(t,e,r){try{const a=lm(t);return e?On(e,a,r):a}catch(a){throw Pe.from(a,Be.DataLoss)}}function pC(t,e){const r={};for(const a of t.methods){const o=e(a);o!=null&&(r[a.localName]=o)}return r}const zb=1;function yC(t,e,r=!1){if(e>t){let a=`message size is larger than configured readMaxBytes ${t}`;throw r&&(a=`message size ${e} is larger than configured readMaxBytes ${t}`),new Pe(a,Be.ResourceExhausted)}}function vC(t){return new bC(t)}class bC{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,r)=>e+r.byteLength,0)}decode(e){this.buf.push(e);const r=[];for(;;){let a=this.pop();if(!a)break;r.push(a)}return r}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),r=this.headerView.getUint32(1);return yC(this.readMaxBytes,r,!0),{flags:e,data:new Uint8Array(r)}}cons(e){const r=e.byteLength;if(this.byteLength<r)return!1;let a=0;for(;a<r;){const o=this.buf.shift();o.byteLength>r-a?(e.set(o.subarray(0,r-a),a),this.buf.unshift(o.subarray(r-a)),a+=r-a):(e.set(o,a),a+=o.byteLength)}return!0}}function Ub(t){let e;const r=vC(4294967295);return new ReadableStream({start(){e=t.getReader()},async pull(a){let o=!1;for(;!o;){const u=await e.read();if(u.done)r.byteLength>0&&a.error(new Pe("protocol error: incomplete envelope",Be.InvalidArgument)),a.close();else for(const c of r.decode(u.value))a.enqueue(c),o=!0}}})}function Zb(t,e){const r=new Uint8Array(e.length+5);r.set(e,5);const a=new DataView(r.buffer,r.byteOffset,r.byteLength);return a.setUint8(0,t),a.setUint32(1,e.length),r}var SC=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=t[u]&&function(c){return new Promise(function(d,m){c=t[u](c),o(d,m,c.done,c.value)})}}function o(u,c,d,m){Promise.resolve(m).then(function(h){u({value:h,done:d})},c)}},hl=function(t){return this instanceof hl?(this.v=t,this):new hl(t)},AC=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(R,x){u.push([S,A,R,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof hl?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}},EC=function(t){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,u){e[o]=t[o]?function(c){return(r=!r)?{value:hl(t[o](c)),done:!1}:u?u(c):c}:u}};function wC(t){return AC(this,arguments,function*(){yield hl(yield*EC(SC(t)))})}var gE=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=t[u]&&function(c){return new Promise(function(d,m){c=t[u](c),o(d,m,c.done,c.value)})}}function o(u,c,d,m){Promise.resolve(m).then(function(h){u({value:h,done:d})},c)}},Vs=function(t){return this instanceof Vs?(this.v=t,this):new Vs(t)},NC=function(t){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,u){e[o]=t[o]?function(c){return(r=!r)?{value:Vs(t[o](c)),done:!1}:u?u(c):c}:u}},xC=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(R,x){u.push([S,A,R,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof Vs?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}};function TC(t,e){return pC(t,r=>{switch(r.methodKind){case"unary":return CC(e,r);case"server_streaming":return IC(e,r);case"client_streaming":return RC(e,r);case"bidi_streaming":return DC(e,r);default:return null}})}function CC(t,e){return async(r,a)=>{var o,u;const c=await t.unary(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);return(o=a?.onHeader)===null||o===void 0||o.call(a,c.header),(u=a?.onTrailer)===null||u===void 0||u.call(a,c.trailer),c.message}}function IC(t,e){return(r,a)=>mE(t.stream(e,a?.signal,a?.timeoutMs,a?.headers,wC([r]),a?.contextValues),a)}function RC(t,e){return async(r,a)=>{var o,u,c,d,m,h;const p=await t.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);(m=a?.onHeader)===null||m===void 0||m.call(a,p.header);let y,v=0;try{for(var S=!0,E=gE(p.message),A;A=await E.next(),o=A.done,!o;S=!0)d=A.value,S=!1,y=d,v++}catch(R){u={error:R}}finally{try{!S&&!o&&(c=E.return)&&await c.call(E)}finally{if(u)throw u.error}}if(!y)throw new Pe("protocol error: missing response message",Be.Unimplemented);if(v>1)throw new Pe("protocol error: received extra messages for client streaming method",Be.Unimplemented);return(h=a?.onTrailer)===null||h===void 0||h.call(a,p.trailer),y}}function DC(t,e){return(r,a)=>mE(t.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues),a)}function mE(t,e){const r=(function(){return xC(this,arguments,function*(){var a,o;const u=yield Vs(t);(a=e?.onHeader)===null||a===void 0||a.call(e,u.header),yield Vs(yield*NC(gE(u.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,u.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function _C(...t){const e=new AbortController,r=t.filter(o=>o!==void 0).concat(e.signal);for(const o of r){if(o.aborted){a.apply(o);break}o.addEventListener("abort",a)}function a(){e.signal.aborted||e.abort(pE(this));for(const o of r)o.removeEventListener("abort",a)}return e}function OC(t){const e=new AbortController,r=()=>{e.abort(new Pe("the operation timed out",Be.DeadlineExceeded))};let a;return t!==void 0&&(t<=0?r():a=setTimeout(r,t)),{signal:e.signal,cleanup:()=>clearTimeout(a)}}function pE(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Yb(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}const rg=128;function Gb(t){const e=new Headers,r=new TextDecoder().decode(t).split(`\r
`);for(const a of r){if(a==="")continue;const o=a.indexOf(":");if(o>0){const u=a.substring(0,o).trim(),c=a.substring(o+1).trim();e.append(u,c)}}return e}const VC="Content-Type",MC="Grpc-Timeout",Ms="Grpc-Status",yE="Grpc-Message",BC="Grpc-Status-Details-Bin",LC="User-Agent",kb="X-User-Agent",zC="X-Grpc-Web",UC="application/grpc-web+proto",ZC="application/grpc-web+json";function YC(t,e,...r){if(r.length>0)throw new Error;return t.services[e]}const GC=Jr("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[nE]),kC=Ce(GC,0),WC="0";function vE(t){var e;const r=t.get(BC);if(r!=null){const o=mC(r,kC);if(o.code==0)return;const u=new Pe(o.message,o.code,t);return u.details=o.details.map(c=>({type:c.typeUrl.substring(c.typeUrl.lastIndexOf("/")+1),value:c.value})),u}const a=t.get(Ms);if(a!=null){if(a===WC)return;const o=parseInt(a,10);return o in Be?new Pe(decodeURIComponent((e=t.get(yE))!==null&&e!==void 0?e:""),o,t):new Pe(`invalid grpc-status: ${a}`,Be.Internal,t)}}function Wb(t,e){return t.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function bE(t,e){return be(t,e)}function XC(t,e){function r(a){return a.done===!0?a:{done:a.done,value:bE(t,a.value)}}return{[Symbol.asyncIterator](){const a=e[Symbol.asyncIterator](),o={next:()=>a.next().then(r)};return a.throw!==void 0&&(o.throw=u=>a.throw(u).then(r)),a.return!==void 0&&(o.return=u=>a.return(u).then(r)),o}}}function SE(t,e){if(!e)return t;for(const r of e.concat().reverse())t=r(t);return t}function KC(t){var e;const r=Object.assign({},t);return(e=r.ignoreUnknownFields)!==null&&e!==void 0||(r.ignoreUnknownFields=!0),r}function Xb(t,e,r,a){const o=e?Kb(t.input,a):Hb(t.input,r);return{parse:(e?Kb(t.output,a):Hb(t.output,r)).parse,serialize:o.serialize}}function Kb(t,e){return{parse(r){try{return On(t,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Pe(`parse binary: ${o}`,Be.Internal)}},serialize(r){try{return Ui(t,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Pe(`serialize binary: ${o}`,Be.Internal)}}}}function Hb(t,e){var r,a;const o=(r=e?.textEncoder)!==null&&r!==void 0?r:new TextEncoder,u=(a=e?.textDecoder)!==null&&a!==void 0?a:new TextDecoder,c=KC(e);return{parse(d){try{const m=u.decode(d);return eC(t,m,c)}catch(m){throw Pe.from(m,Be.InvalidArgument)}},serialize(d){try{const m=XT(t,d,c);return o.encode(m)}catch(m){throw Pe.from(m,Be.Internal)}}}}function HC(t){const e=SE(t.next,t.interceptors),[r,a,o]=AE(t),u=Object.assign(Object.assign({},t.req),{message:bE(t.req.method.input,t.req.message),signal:r});return e(u).then(c=>(o(),c),a)}function FC(t){const e=SE(t.next,t.interceptors),[r,a,o]=AE(t),u=Object.assign(Object.assign({},t.req),{message:XC(t.req.method.input,t.req.message),signal:r});let c=!1;return r.addEventListener("abort",function(){var d,m;const h=t.req.message[Symbol.asyncIterator]();c||(d=h.throw)===null||d===void 0||d.call(h,this.reason).catch(()=>{}),(m=h.return)===null||m===void 0||m.call(h).catch(()=>{})}),e(u).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const m=d.message[Symbol.asyncIterator]();return{next(){return m.next().then(h=>(h.done==!0&&(c=!0,o()),h),a)}}}}}),a)}function AE(t){const{signal:e,cleanup:r}=OC(t.timeoutMs),a=_C(t.signal,e);return[a.signal,function(u){const c=Pe.from(e.aborted?pE(e):u);return a.abort(c),r(),Promise.reject(c)},function(){r(),a.abort()}]}function JC(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Fb(t,e){const r=vE(t);if(r)throw e.forEach((a,o)=>{r.metadata.append(o,a)}),r;if(!e.has(Ms)&&!t.has(Ms))throw new Pe("protocol error: missing status",Be.Internal)}function Jb(t,e,r,a){var o,u;const c=new Headers(r??{});c.set(VC,t?UC:ZC),c.set(zC,"1");const d=(u=(o=c.get(LC))!==null&&o!==void 0?o:c.get(kb))!==null&&u!==void 0?u:"connect-es/2.1.1";return c.set(kb,d),e!==void 0&&c.set(MC,`${e}m`),c}function jC(t){switch(t){case 400:return Be.Internal;case 401:return Be.Unauthenticated;case 403:return Be.PermissionDenied;case 404:return Be.Unimplemented;case 429:return Be.Unavailable;case 502:return Be.Unavailable;case 503:return Be.Unavailable;case 504:return Be.Unavailable;default:return Be.Unknown}}function jb(t,e){var r;if(t>=200&&t<300)return{foundStatus:e.has(Ms),headerError:vE(e)};throw new Pe(decodeURIComponent((r=e.get(yE))!==null&&r!==void 0?r:`HTTP ${t}`),jC(t),e)}var ha=function(t){return this instanceof ha?(this.v=t,this):new ha(t)},$C=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(E){return Promise.resolve(E).then(S,y)}}function d(S,E){a[S]&&(o[S]=function(A){return new Promise(function(R,x){u.push([S,A,R,x])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{h(a[S](E))}catch(A){v(u[0][3],A)}}function h(S){S.value instanceof ha?Promise.resolve(S.value.v).then(p,y):v(u[0][2],S)}function p(S){m("next",S)}function y(S){m("throw",S)}function v(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}};const $b={redirect:"error"};function PC(t){var e;JC();const r=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(a,o,u,c,d,m){const{serialize:h,parse:p}=Xb(a,r,t.jsonOptions,t.binaryOptions);return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,await HC({interceptors:t.interceptors,signal:o,timeoutMs:u,req:{stream:!1,service:a.parent,method:a,requestMethod:"POST",url:Wb(t.baseUrl,a),header:Jb(r,u,c),contextValues:m??Yb(),message:d},next:async y=>{var v;const E=await((v=t.fetch)!==null&&v!==void 0?v:globalThis.fetch)(y.url,Object.assign(Object.assign({},$b),{method:y.requestMethod,headers:y.header,signal:y.signal,body:Zb(0,h(y.message))})),{headerError:A}=jb(E.status,E.headers);if(!E.body)throw A!==void 0?A:"missing response body";const R=Ub(E.body).getReader();let x,U;for(;;){const N=await R.read();if(N.done)break;const{flags:I,data:V}=N.value;if((I&zb)===zb)throw new Pe("protocol error: received unsupported compressed output",Be.Internal);if(I===rg){if(x!==void 0)throw"extra trailer";x=Gb(V);continue}if(U!==void 0)throw new Pe("extra message",Be.Unimplemented);U=p(V)}if(x===void 0)throw A!==void 0?A:new Pe("missing trailer",E.headers.has(Ms)?Be.Unimplemented:Be.Unknown);if(Fb(x,E.headers),U===void 0)throw new Pe("missing message",x.has(Ms)?Be.Unimplemented:Be.Unknown);return{stream:!1,service:a.parent,method:a,header:E.headers,message:U,trailer:x}}})},async stream(a,o,u,c,d,m){const{serialize:h,parse:p}=Xb(a,r,t.jsonOptions,t.binaryOptions);function y(S,E,A,R,x){return $C(this,arguments,function*(){const N=Ub(S).getReader();if(E){if(!(yield ha(N.read())).done)throw"extra data for trailers-only";return yield ha(void 0)}let I=!1;for(;;){const V=yield ha(N.read());if(V.done)break;const{flags:B,data:M}=V.value;if((B&rg)===rg){if(I)throw"extra trailer";I=!0;const X=Gb(M);Fb(X,R),X.forEach((q,de)=>A.set(de,q));continue}if(I)throw"extra message";yield yield ha(p(M))}if("throwIfAborted"in x&&x.throwIfAborted(),!I)throw"missing trailer"})}async function v(S){if(a.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const E=await S[Symbol.asyncIterator]().next();if(E.done==!0)throw"missing request message";return Zb(0,h(E.value))}return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,FC({interceptors:t.interceptors,signal:o,timeoutMs:u,req:{stream:!0,service:a.parent,method:a,requestMethod:"POST",url:Wb(t.baseUrl,a),header:Jb(r,u,c),contextValues:m??Yb(),message:d},next:async S=>{var E;const R=await((E=t.fetch)!==null&&E!==void 0?E:globalThis.fetch)(S.url,Object.assign(Object.assign({},$b),{method:S.requestMethod,headers:S.header,signal:S.signal,body:await v(S.message)})),{foundStatus:x,headerError:U}=jb(R.status,R.headers);if(U!=null)throw U;if(!R.body)throw"missing response body";const N=new Headers;return Object.assign(Object.assign({},S),{header:R.headers,trailer:N,message:y(R.body,x,N,R.headers,S.signal)})}})}}}const Me=Jr("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ST,LT]),QC=Ce(Me,0),qC=Ce(Me,1),eI=Ce(Me,2),ym=Ce(Me,3),vm=Ce(Me,4),bm=Ce(Me,5),tI=Ce(Me,5,0),nI=Ce(Me,5,1),rI=Ce(Me,5,2),iI=Ce(Me,5,3),aI=Ce(Me,5,4),sI=Ce(Me,5,5),oI=Ce(Me,5,6),lI=Ce(Me,5,7),uI=Ce(Me,5,8),cI=Ce(Me,5,9),ps=Ce(Me,6),Vn=Ce(Me,7),fI=Ce(Me,7,0),dI=Ce(Me,7,1),hI=Ce(Me,7,2),gI=Ce(Me,7,3),mI=Ce(Me,7,4),pI=Ce(Me,7,5),yI=Ce(Me,8),vI=Ce(Me,9),EE=Ce(Me,10),bI=Ce(Me,11),SI=Ce(Me,12),AI=Ce(Me,13),EI=Ce(Me,14),wI=Ce(Me,15),NI=Ce(Me,16),Pb=Ce(Me,22);var gl=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.PUT=1]="PUT",t[t.DELETE=2]="DELETE",t[t.CLEAR=3]="CLEAR",t))(gl||{});const xI=Ce(Me,23),TI=Ce(Me,25),CI=Ce(Me,26),II=Ce(Me,27);var wE=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.PRESENCE=1]="PRESENCE",t[t.BROADCAST=2]="BROADCAST",t))(wE||{}),Ve=(t=>(t[t.NULL=0]="NULL",t[t.BOOLEAN=1]="BOOLEAN",t[t.INTEGER=2]="INTEGER",t[t.LONG=3]="LONG",t[t.DOUBLE=4]="DOUBLE",t[t.STRING=5]="STRING",t[t.BYTES=6]="BYTES",t[t.DATE=7]="DATE",t[t.JSON_OBJECT=8]="JSON_OBJECT",t[t.JSON_ARRAY=9]="JSON_ARRAY",t[t.TEXT=10]="TEXT",t[t.INTEGER_CNT=11]="INTEGER_CNT",t[t.LONG_CNT=12]="LONG_CNT",t[t.TREE=13]="TREE",t))(Ve||{}),Gc=(t=>(t[t.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",t[t.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",t[t.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",t[t.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",t))(Gc||{});const RI=Jr("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[Me]),DI=YC(RI,0),_I=Jr("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[wT]),OI=Ce(_I,0);var Z=(t=>(t.Ok="ok",t.ErrClientNotActivated="ErrClientNotActivated",t.ErrClientNotFound="ErrClientNotFound",t.ErrUnimplemented="ErrUnimplemented",t.ErrInvalidType="ErrInvalidType",t.ErrDummy="ErrDummy",t.ErrNotAttached="ErrNotAttached",t.ErrNotDetached="ErrNotDetached",t.ErrDocumentRemoved="ErrDocumentRemoved",t.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",t.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",t.ErrInvalidObjectKey="ErrInvalidObjectKey",t.ErrInvalidArgument="ErrInvalidArgument",t.ErrNotInitialized="ErrNotInitialized",t.ErrNotReady="ErrNotReady",t.ErrRefused="ErrRefused",t.ErrContextNotProvided="ErrContextNotProvided",t.ErrPermissionDenied="ErrPermissionDenied",t.ErrUnauthenticated="ErrUnauthenticated",t.ErrTooManySubscribers="ErrTooManySubscribers",t.ErrTooManyAttachments="ErrTooManyAttachments",t))(Z||{});class G extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var dr=(t=>(t.Put="put",t.Clear="clear",t))(dr||{});const Sm="000000000000000000000000",lr=24;class Dn{lamport;delimiter;actorID;constructor(e,r,a){this.lamport=e,this.delimiter=r,this.actorID=a}static of(e,r,a){return new Dn(e,r,a)}static fromStruct(e){return Dn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new Dn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const r=this.actorID.localeCompare(e.actorID);return r!==0?r:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Tg=0n,NE=0,Cg=9223372036854775807n,Bs=new Dn(Tg,NE,Sm);function or(t){return t.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Vl{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=lr),this.getMovedAt()&&(e+=lr),this.getRemovedAt()&&(e+=lr),e}}class Mi extends Vl{constructor(e){super(e)}}class kc{strKey;value;constructor(e,r){this.strKey=e,this.value=r}static of(e,r){return new kc(e,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ls{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ls}set(e,r,a){let o;const u=this.nodeMapByKey.get(e);u&&!u.isRemoved()&&u.remove(a)&&(o=u.getValue());const c=kc.of(e,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),c),(!u||a.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,c),r.setMovedAt(a)),o}delete(e,r){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new G(Z.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const a=this.nodeMapByCreatedAt.get(e.toIDString());return a.remove(r),a.getValue()}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return r.getStrKey()}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const a=this.nodeMapByKey.get(r.getStrKey());r===a&&this.nodeMapByKey.delete(a.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(e,r){const a=this.nodeMapByKey.get(e);if(a&&a.remove(r))return a.getValue()}has(e){const r=this.nodeMapByKey.get(e);return r?!r.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const r=this.nodeMapByKey.get(e);if(!(!r||r.isRemoved()))return r}deepcopy(){const e=Ls.create();for(const[,r]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(r.getValue().getCreatedAt().toIDString(),kc.of(r.getStrKey(),r.getValue().deepcopy()));for(const[r,a]of this.nodeMapByKey)e.nodeMapByKey.set(r,e.nodeMapByCreatedAt.get(a.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class kt extends Mi{memberNodes;constructor(e,r){super(e),this.memberNodes=r}static create(e,r){if(!r)return new kt(e,Ls.create());const a=Ls.create();for(const[o,u]of Object.entries(r))a.set(o,u.deepcopy(),u.getCreatedAt());return new kt(e,a)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,a){return this.memberNodes.set(e,r,a)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,a]of this)e.push(`"${or(r)}":${a.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,a]of this){const{createdAt:o,value:u,type:c}=a.toJSForTest();e[r]={key:r,createdAt:o,value:u,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){const e=new Set;for(const[a]of this)e.add(a);const r=[];for(const a of Array.from(e).sort()){const o=this.memberNodes.get(a)?.getValue();r.push(`"${or(a)}":${o.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=kt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const a=r.getValue();if(e(a,this))return;a instanceof Mi&&a.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var ut=(t=>(t.Local="local",t.Remote="remote",t.UndoRedo="undoredo",t))(ut||{});class Qn{parentCreatedAt;executedAt;constructor(e,r){this.parentCreatedAt=e,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new G(Z.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class xE{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class ml{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&e<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<e)e-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{e-=r.getLeftWeight();break}if(e>r.getLength())throw new G(Z.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${r.getLength()}`);return this.splayNode(r),[r,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,r){return e?(this.splayNode(e),this.root=r,r.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(r),r.setLeft(e),e.setParent(r),e.setRight(),this.updateWeight(e),this.updateWeight(r),r):(this.root=r,r)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const r=new ml(e.getLeft());r.root&&r.root.setParent();const a=new ml(e.getRight());if(a.root&&a.root.setParent(),r.root){const o=r.getRightmost();r.splayNode(o),r.root.setRight(a.root),a.root&&a.root.setParent(r.root),this.root=r.root}else this.root=a.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,r){if(!r){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(r),r.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const r=[];this.traversePostorder(e.getRight(),r);for(const a of r)a.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const r of e)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,r){e&&(this.traverseInorder(e.getLeft(),r),r.push(e),this.traverseInorder(e.getRight(),r))}traversePostorder(e,r){e&&(this.traversePostorder(e.getLeft(),r),this.traversePostorder(e.getRight(),r),r.push(e))}rotateLeft(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setRight(e.getLeft()),r.hasRight()&&r.getRight().setParent(r),e.setLeft(r),e.getLeft().setParent(e),this.updateWeight(r),this.updateWeight(e)}rotateRight(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setLeft(e.getRight()),r.hasLeft()&&r.getLeft().setParent(r),e.setRight(r),e.getRight().setParent(e),this.updateWeight(r),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var In=null;try{In=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ue(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}Ue.prototype.__isLong__;Object.defineProperty(Ue.prototype,"__isLong__",{value:!0});function Xt(t){return(t&&t.__isLong__)===!0}function Qb(t){var e=Math.clz32(t&-t);return t?31-e:e}Ue.isLong=Xt;var qb={},eS={};function wa(t,e){var r,a,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(a=eS[t],a)?a:(r=Xe(t,0,!0),o&&(eS[t]=r),r)):(t|=0,(o=-128<=t&&t<128)&&(a=qb[t],a)?a:(r=Xe(t,t<0?-1:0,!1),o&&(qb[t]=r),r))}Ue.fromInt=wa;function Rn(t,e){if(isNaN(t))return e?Gr:Hn;if(e){if(t<0)return Gr;if(t>=TE)return RE}else{if(t<=-nS)return nn;if(t+1>=nS)return IE}return t<0?Rn(-t,e).neg():Xe(t%zs|0,t/zs|0,e)}Ue.fromNumber=Rn;function Xe(t,e,r){return new Ue(t,e,r)}Ue.fromBits=Xe;var Wc=Math.pow;function Am(t,e,r){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(r=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?Gr:Hn;if(r=r||10,r<2||36<r)throw RangeError("radix");var a;if((a=t.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return Am(t.substring(1),e,r).neg();for(var o=Rn(Wc(r,8)),u=Hn,c=0;c<t.length;c+=8){var d=Math.min(8,t.length-c),m=parseInt(t.substring(c,c+d),r);if(d<8){var h=Rn(Wc(r,d));u=u.mul(h).add(Rn(m))}else u=u.mul(o),u=u.add(Rn(m))}return u.unsigned=e,u}Ue.fromString=Am;function Mn(t,e){return typeof t=="number"?Rn(t,e):typeof t=="string"?Am(t,e):Xe(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Ue.fromValue=Mn;var tS=65536,VI=1<<24,zs=tS*tS,TE=zs*zs,nS=TE/2,rS=wa(VI),Hn=wa(0);Ue.ZERO=Hn;var Gr=wa(0,!0);Ue.UZERO=Gr;var Es=wa(1);Ue.ONE=Es;var CE=wa(1,!0);Ue.UONE=CE;var Ig=wa(-1);Ue.NEG_ONE=Ig;var IE=Xe(-1,2147483647,!1);Ue.MAX_VALUE=IE;var RE=Xe(-1,-1,!0);Ue.MAX_UNSIGNED_VALUE=RE;var nn=Xe(0,-2147483648,!1);Ue.MIN_VALUE=nn;var ue=Ue.prototype;ue.toInt=function(){return this.unsigned?this.low>>>0:this.low};ue.toNumber=function(){return this.unsigned?(this.high>>>0)*zs+(this.low>>>0):this.high*zs+(this.low>>>0)};ue.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(nn)){var r=Rn(e),a=this.div(r),o=a.mul(r).sub(this);return a.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var u=Rn(Wc(e,6),this.unsigned),c=this,d="";;){var m=c.div(u),h=c.sub(m.mul(u)).toInt()>>>0,p=h.toString(e);if(c=m,c.isZero())return p+d;for(;p.length<6;)p="0"+p;d=""+p+d}};ue.getHighBits=function(){return this.high};ue.getHighBitsUnsigned=function(){return this.high>>>0};ue.getLowBits=function(){return this.low};ue.getLowBitsUnsigned=function(){return this.low>>>0};ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nn)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};ue.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};ue.isZero=function(){return this.high===0&&this.low===0};ue.eqz=ue.isZero;ue.isNegative=function(){return!this.unsigned&&this.high<0};ue.isPositive=function(){return this.unsigned||this.high>=0};ue.isOdd=function(){return(this.low&1)===1};ue.isEven=function(){return(this.low&1)===0};ue.equals=function(e){return Xt(e)||(e=Mn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};ue.eq=ue.equals;ue.notEquals=function(e){return!this.eq(e)};ue.neq=ue.notEquals;ue.ne=ue.notEquals;ue.lessThan=function(e){return this.comp(e)<0};ue.lt=ue.lessThan;ue.lessThanOrEqual=function(e){return this.comp(e)<=0};ue.lte=ue.lessThanOrEqual;ue.le=ue.lessThanOrEqual;ue.greaterThan=function(e){return this.comp(e)>0};ue.gt=ue.greaterThan;ue.greaterThanOrEqual=function(e){return this.comp(e)>=0};ue.gte=ue.greaterThanOrEqual;ue.ge=ue.greaterThanOrEqual;ue.compare=function(e){if(Xt(e)||(e=Mn(e)),this.eq(e))return 0;var r=this.isNegative(),a=e.isNegative();return r&&!a?-1:!r&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};ue.comp=ue.compare;ue.negate=function(){return!this.unsigned&&this.eq(nn)?nn:this.not().add(Es)};ue.neg=ue.negate;ue.add=function(e){Xt(e)||(e=Mn(e));var r=this.high>>>16,a=this.high&65535,o=this.low>>>16,u=this.low&65535,c=e.high>>>16,d=e.high&65535,m=e.low>>>16,h=e.low&65535,p=0,y=0,v=0,S=0;return S+=u+h,v+=S>>>16,S&=65535,v+=o+m,y+=v>>>16,v&=65535,y+=a+d,p+=y>>>16,y&=65535,p+=r+c,p&=65535,Xe(v<<16|S,p<<16|y,this.unsigned)};ue.subtract=function(e){return Xt(e)||(e=Mn(e)),this.add(e.neg())};ue.sub=ue.subtract;ue.multiply=function(e){if(this.isZero())return this;if(Xt(e)||(e=Mn(e)),In){var r=In.mul(this.low,this.high,e.low,e.high);return Xe(r,In.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Gr:Hn;if(this.eq(nn))return e.isOdd()?nn:Hn;if(e.eq(nn))return this.isOdd()?nn:Hn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(rS)&&e.lt(rS))return Rn(this.toNumber()*e.toNumber(),this.unsigned);var a=this.high>>>16,o=this.high&65535,u=this.low>>>16,c=this.low&65535,d=e.high>>>16,m=e.high&65535,h=e.low>>>16,p=e.low&65535,y=0,v=0,S=0,E=0;return E+=c*p,S+=E>>>16,E&=65535,S+=u*p,v+=S>>>16,S&=65535,S+=c*h,v+=S>>>16,S&=65535,v+=o*p,y+=v>>>16,v&=65535,v+=u*h,y+=v>>>16,v&=65535,v+=c*m,y+=v>>>16,v&=65535,y+=a*p+o*h+u*m+c*d,y&=65535,Xe(S<<16|E,y<<16|v,this.unsigned)};ue.mul=ue.multiply;ue.divide=function(e){if(Xt(e)||(e=Mn(e)),e.isZero())throw Error("division by zero");if(In){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?In.div_u:In.div_s)(this.low,this.high,e.low,e.high);return Xe(r,In.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gr:Hn;var a,o,u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Gr;if(e.gt(this.shru(1)))return CE;u=Gr}else{if(this.eq(nn)){if(e.eq(Es)||e.eq(Ig))return nn;if(e.eq(nn))return Es;var c=this.shr(1);return a=c.div(e).shl(1),a.eq(Hn)?e.isNegative()?Es:Ig:(o=this.sub(e.mul(a)),u=a.add(o.div(e)),u)}else if(e.eq(nn))return this.unsigned?Gr:Hn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();u=Hn}for(o=this;o.gte(e);){a=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(a)/Math.LN2),m=d<=48?1:Wc(2,d-48),h=Rn(a),p=h.mul(e);p.isNegative()||p.gt(o);)a-=m,h=Rn(a,this.unsigned),p=h.mul(e);h.isZero()&&(h=Es),u=u.add(h),o=o.sub(p)}return u};ue.div=ue.divide;ue.modulo=function(e){if(Xt(e)||(e=Mn(e)),In){var r=(this.unsigned?In.rem_u:In.rem_s)(this.low,this.high,e.low,e.high);return Xe(r,In.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};ue.mod=ue.modulo;ue.rem=ue.modulo;ue.not=function(){return Xe(~this.low,~this.high,this.unsigned)};ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ue.clz=ue.countLeadingZeros;ue.countTrailingZeros=function(){return this.low?Qb(this.low):Qb(this.high)+32};ue.ctz=ue.countTrailingZeros;ue.and=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low&e.low,this.high&e.high,this.unsigned)};ue.or=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low|e.low,this.high|e.high,this.unsigned)};ue.xor=function(e){return Xt(e)||(e=Mn(e)),Xe(this.low^e.low,this.high^e.high,this.unsigned)};ue.shiftLeft=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Xe(0,this.low<<e-32,this.unsigned)};ue.shl=ue.shiftLeft;ue.shiftRight=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Xe(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};ue.shr=ue.shiftRight;ue.shiftRightUnsigned=function(e){return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Xe(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Xe(this.high,0,this.unsigned):Xe(this.high>>>e-32,0,this.unsigned)};ue.shru=ue.shiftRightUnsigned;ue.shr_u=ue.shiftRightUnsigned;ue.rotateLeft=function(e){var r;return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Xe(this.high,this.low,this.unsigned):e<32?(r=32-e,Xe(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,Xe(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};ue.rotl=ue.rotateLeft;ue.rotateRight=function(e){var r;return Xt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Xe(this.high,this.low,this.unsigned):e<32?(r=32-e,Xe(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,Xe(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};ue.rotr=ue.rotateRight;ue.toSigned=function(){return this.unsigned?Xe(this.low,this.high,!1):this};ue.toUnsigned=function(){return this.unsigned?this:Xe(this.low,this.high,!0)};ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};ue.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};ue.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Ue.fromBytes=function(e,r,a){return a?Ue.fromBytesLE(e,r):Ue.fromBytesBE(e,r)};Ue.fromBytesLE=function(e,r){return new Ue(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};Ue.fromBytesBE=function(e,r){return new Ue(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};typeof BigInt=="function"&&(Ue.fromBigInt=function(e,r){var a=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Xe(a,o,r)},Ue.fromValue=function(e,r){return typeof e=="bigint"?Ue.fromBigInt(e,r):Mn(e,r)},ue.toBigInt=function(){var e=BigInt(this.low>>>0),r=BigInt(this.unsigned?this.high>>>0:this.high);return r<<BigInt(32)|e});var it=(t=>(t[t.Null=0]="Null",t[t.Boolean=1]="Boolean",t[t.Integer=2]="Integer",t[t.Long=3]="Long",t[t.Double=4]="Double",t[t.String=5]="String",t[t.Bytes=6]="Bytes",t[t.Date=7]="Date",t))(it||{});class dt extends Vl{valueType;value;constructor(e,r){super(r),this.valueType=dt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new dt(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const a=new DataView(r.buffer);return r.forEach(function(o,u){a.setUint8(u,o)}),a.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return Ue.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(Ue.fromBytesLE(Array.from(r),!0).toNumber());default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${or(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=dt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Ue)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return dt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=Ue.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Xc extends xE{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,r){const a=new Xc(r),o=e.next;return e.next=a,a.prev=e,a.next=o,o&&(o.prev=a),a}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class pl{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=dt.of(0,Bs);e.setRemovedAt(Bs),this.dummyHead=new Xc(e),this.last=this.dummyHead,this.nodeMapByIndex=new ml,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new pl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,r){let a=this.nodeMapByCreatedAt.get(e.toIDString());if(!a)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;a.getValue().getMovedAt()&&a.getValue().getMovedAt().after(r)&&a.getMovedFrom();)a=a.getMovedFrom();for(;a.getNext()&&a.getNext().getPositionedAt().after(r);)a=a.getNext();return a}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,r,a=r.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,a),u=Xc.createAfter(o,r);return o===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(o,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u),u}moveAfter(e,r,a){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let u=this.nodeMapByCreatedAt.get(r.toIDString());if(!u)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${r.toIDString()}`);if(o!==u&&a.after(u.getPositionedAt())){const c=u.getPrev();let d=u.getNext();for(this.release(u),u=this.insertAfter(o.getCreatedAt(),u.getValue(),a),u.getValue().setMovedAt(a),u.setMovedFrom(c);d&&d.getPositionedAt().after(a);)o=u,u=d,d=u.getNext(),this.release(u),u=this.insertAfter(o.getCreatedAt(),u.getValue(),a),u.getValue().setMovedAt(a),u.setMovedFrom(c)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(r)}getByIndex(e){if(e>=this.length)return;const[r,a]=this.nodeMapByIndex.find(e);let o=r;if(e===0&&r===this.dummyHead||a>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let r=this.nodeMapByCreatedAt.get(e.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(e,r){const a=this.nodeMapByCreatedAt.get(e.toIDString()),o=a.isRemoved();return a.remove(r)&&!o&&this.nodeMapByIndex.splayNode(a),a.getValue()}set(e,r,a){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new G(Z.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),r,a),this.delete(e,a)}deleteByIndex(e,r){const a=this.getByIndex(e);if(a)return a.remove(r)&&this.nodeMapByIndex.splayNode(a),a.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const r of this){const a=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?e.push(`{${a}}`):e.push(`[${a}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Wt extends Mi{elements;constructor(e,r){super(e),this.elements=r}static create(e,r){if(!r)return new Wt(e,pl.create());const a=pl.create();for(const o of r)a.insertAfter(a.getLastCreatedAt(),o.deepcopy());return new Wt(e,a)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,a){this.elements.insertAfter(e,r,a)}moveAfter(e,r,a){this.elements.moveAfter(e,r,a)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}set(e,r,a){return this.elements.set(e,r,a)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const a=r.getValue();if(e(a,this))return;a instanceof Mi&&a.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:a,value:o,type:u}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:a,value:o,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Wt.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class Zi extends Qn{prevCreatedAt;value;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.value=a}static create(e,r,a,o){return new Zi(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute add");const a=r,o=this.value.deepcopy();return a.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,a),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(a.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return hr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class hr extends Qn{createdAt;constructor(e,r,a){super(e,a),this.createdAt=r}static create(e,r,a){return new hr(e,r,a)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Mi))throw new G(Z.ErrInvalidArgument,`only object and array can execute remove: ${a}`);if(r===ut.UndoRedo){let m=a.getByID(this.createdAt);for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.subPathOf(this.createdAt),u=this.toReverseOperation(a),c=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(c),{opInfos:a instanceof Wt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:u}}toReverseOperation(e){if(e instanceof Wt){const r=e.getByID(this.createdAt);if(r!==void 0){const a=e.getPrevCreatedAt(this.createdAt);return Zi.create(this.getParentCreatedAt(),a,r.deepcopy())}}if(e instanceof kt){const r=e.subPathOf(this.createdAt);if(r!==void 0){const a=e.get(r);if(a!==void 0)return ba.create(r,a.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class ba extends Qn{key;value;constructor(e,r,a,o){super(a,o),this.key=e,this.value=r}static create(e,r,a,o){return new ba(e,r,a,o)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof kt))throw new G(Z.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===ut.UndoRedo){let m=a;for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=a.get(this.key),u=this.toReverseOperation(o),c=this.value.deepcopy(),d=a.set(this.key,c,this.getExecutedAt());return r===ut.UndoRedo&&e.findByCreatedAt(c.getCreatedAt())&&e.deregisterElement(c),e.registerElement(c,a),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:u}}toReverseOperation(e){let r=hr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=ba.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Fn extends Qn{prevCreatedAt;createdAt;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.createdAt=a}static create(e,r,a,o){return new Fn(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute move");const a=r,o=this.toReverseOperation(a),u=Number(a.subPathOf(this.createdAt));a.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const c=Number(a.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:c,previousIndex:u}],reverseOp:o}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return Fn.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class Vi{key;value;updatedAt;_isRemoved;constructor(e,r,a,o){this.key=e,this.value=r,this.updatedAt=a,this._isRemoved=o}static of(e,r,a,o){return new Vi(e,r,a,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:lr}}}class Kr{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Kr}getNodeMapByKey(){return this.nodeMapByKey}set(e,r,a){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&a.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||a.after(o.getUpdatedAt())){const u=Vi.of(e,r,a,!1);return this.nodeMapByKey.set(e,u),o!==void 0&&o.isRemoved()?[o,u]:[void 0,u]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,r,a,o){const u=Vi.of(e,r,a,o);this.nodeMapByKey.set(e,u),o&&this.numberOfRemovedElement++}remove(e,r){const a=this.nodeMapByKey.get(e),o=[];if(a===void 0||r.after(a.getUpdatedAt())){if(a===void 0){this.numberOfRemovedElement+=1;const d=Vi.of(e,"",r,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const u=a.isRemoved();u||(this.numberOfRemovedElement+=1),u&&o.push(a);const c=Vi.of(e,a.getValue(),r,!0);return this.nodeMapByKey.set(e,c),o.push(c),o}return o}has(e){if(this.nodeMapByKey.has(e)){const r=this.nodeMapByKey.get(e);return r!==void 0&&!r.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new Kr;for(const[,r]of this.nodeMapByKey)e.setInternal(r.getKey(),r.getValue(),r.getUpdatedAt(),r.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[r,a]of this.nodeMapByKey)a.isRemoved()||e.push(`"${or(r)}":"${or(a.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[r,a]of this.nodeMapByKey)a.isRemoved()||(e[r]=a.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const r=this.nodeMapByKey.get(e.getKey());r==null||r.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Gn(t){if(t instanceof Map){const e=Array.from(t);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(t))}const DE=t=>t?Object.entries(t).length===0:!0,Us=t=>{const e={};for(const[r,a]of Object.entries(t))e[r]=JSON.stringify(a);return e},Wr=t=>{const e={};for(const[r,a]of Object.entries(t))e[r]=JSON.parse(a);return e};function MI(t){return t?iS(t.live)+iS(t.gc):0}function iS(t){return t.data+t.meta}function zt(t,...e){for(const r of e)t.data+=r.data,t.meta+=r.meta}function ga(t,e){t.data-=e.data,t.meta-=e.meta}class yl{attributes;content;constructor(e){this.attributes=Kr.create(),this.content=e}static create(e){return new yl(e)}get length(){return this.content.length}substring(e,r){const a=new yl(this.content.substring(e,r));return a.attributes=this.attributes.deepcopy(),a}setAttr(e,r,a){return this.attributes.set(e,r,a)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const r of this.attributes){const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}toJSON(){const e=or(this.content),r=this.attributes.toObject(),a=[];for(const[o,u]of Object.entries(r)){const c=JSON.parse(u),d=typeof c=="string"?`"${or(o)}":"${or(c)}"`:`"${or(o)}":${String(c)}`;a.push(d)}return a.sort(),a.length===0?`{"val":"${e}"}`:`{"attrs":{${a.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Vi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const r of this.attributes)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}class pn extends Vl{rgaTreeSplit;constructor(e,r){super(r),this.rgaTreeSplit=e}static create(e,r){return new pn(e,r)}edit(e,r,a,o,u){const c=r?yl.create(r):void 0;if(c&&o)for(const[v,S]of Object.entries(o))c.setAttr(v,S,a);const[d,m,h,p]=this.rgaTreeSplit.edit(e,a,c,u);return[p.map(v=>({...v,value:v.value?{attributes:Wr(v.value.getAttributes()),content:v.value.getContent()}:{attributes:void 0,content:""},type:"content"})),m,h,[d,d]]}setStyle(e,r,a,o){const u={data:0,meta:0},[,c,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],a),[,m,h]=this.rgaTreeSplit.findNodeWithSplit(e[0],a);zt(u,c,m);const p=[],y=this.rgaTreeSplit.findBetween(h,d),v=[];for(const E of y){const A=E.getCreatedAt().getActorID();let R=Cg;o!=null&&(R=o.get(A)?o.get(A):0n),E.canStyle(a,R)&&v.push(E)}const S=[];for(const E of v){if(E.isRemoved())continue;const[A,R]=this.rgaTreeSplit.findIndexesFromRange(E.createPosRange());p.push({type:"style",actor:a.getActorID(),from:A,to:R,value:{attributes:Wr(r)}});for(const[x,U]of Object.entries(r)){const[N]=E.getValue().setAttr(x,U,a);N!==void 0&&S.push({parent:E.getValue(),child:N});const I=E.getValue().getAttrs().getNodeMapByKey().get(x);I!==void 0&&zt(u,I.getDataSize())}}return[S,u,p]}indexRangeToPosRange(e,r){const a=this.rgaTreeSplit.indexToPos(e);return e===r?[a,a]:[a,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const a=r.getValue();e.push({attributes:Wr(a.getAttributes()),content:a.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new pn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const a of r.getValue().getGCPairs())e.push(a)}return e}}class Ml extends Qn{fromPos;toPos;content;attributes;constructor(e,r,a,o,u,c){super(e,c),this.fromPos=r,this.toPos=a,this.content=o,this.attributes=u}static create(e,r,a,o,u,c){return new Ml(e,r,a,o,u,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof pn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Text can execute edit");const u=o,[c,d,m]=u.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),a);e.acc(m);for(const h of d)e.registerGCPair(h);return{opInfos:c.map(({from:h,to:p,value:y})=>({type:"edit",from:h,to:p,value:y,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${r},${a},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Bl extends Qn{fromPos;toPos;attributes;constructor(e,r,a,o,u){super(e,u),this.fromPos=r,this.toPos=a,this.attributes=o}static create(e,r,a,o,u){return new Bl(e,r,a,o,u)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof pn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Text can execute edit");const u=o,[c,d,m]=u.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),a);e.acc(d);for(const h of c)e.registerGCPair(h);return{opInfos:m.map(({from:h,to:p,value:y})=>({type:"style",from:h,to:p,value:y,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${r},${a},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const BI=2,LI="root",ur="text";function Ho(t,e,r=!1){let a=0;const o=r?t.allChildren:t.children;for(let u=0;u<e;u++){const c=o[u];!c||!r&&c.isRemoved||(a+=c.paddedSize(r))}return a}class zI{type;parent;_children;visibleSize;totalSize;constructor(e,r=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=r,this.isText&&this._children.length>0)throw new G(Z.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,r=!1){let a=this.parent;for(;a;){if(r)a.totalSize+=e;else if(a.visibleSize+=e,a.isRemoved)break;a=a.parent}}updateDescendantsSize(e=!1){let r=0;for(const a of this._children){const o=a.updateDescendantsSize(e);!e&&a.isRemoved||(r+=o)}return e?this.totalSize+=r:this.visibleSize+=r,this.paddedSize(e)}get isText(){return this.type===ur}paddedSize(e=!1){let r=this.visibleSize;return e&&(r=this.totalSize),this.isText||(r+=BI),r}isAncestorOf(e){return UI(this,e)}get nextSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e+1];if(r)return r}get prevSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e-1];if(r)return r}splitText(e,r){const a={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,a];const o=this.value.slice(0,e),u=this.value.slice(e);if(!u.length)return[void 0,a];const c=this.getDataSize();this.value=o;const d=this.cloneText(e+r);return d.value=u,this.parent.insertAfterInternal(d,this),zt(a,this.getDataSize(),d.getDataSize()),ga(a,c),[d,a]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const r of e)r.parent=this,r.updateAncestorsSize(r.paddedSize()),r.updateAncestorsSize(r.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const r of e)r.parent=this}insertBefore(e,r){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,r){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,r){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new G(Z.ErrInvalidArgument,"child not found");this._children.splice(r,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,r){const a={data:0,meta:0},o=this.getDataSize(),u=this.cloneElement(r);this.parent.insertAfterInternal(u,this),u.updateAncestorsSize(u.paddedSize()),u.updateAncestorsSize(u.paddedSize(!0),!0);const c=this.children.slice(0,e),d=this.children.slice(e);this._children=c,u._children=d,this.visibleSize=this._children.reduce((m,h)=>m+h.paddedSize(),0),this.totalSize=this._children.reduce((m,h)=>m+h.paddedSize(!0),0),u.visibleSize=u._children.reduce((m,h)=>m+h.paddedSize(!0),0),u.totalSize=u._children.reduce((m,h)=>m+h.paddedSize(!0),0);for(const m of u._children)m.parent=u;return zt(a,this.getDataSize(),u.getDataSize()),ga(a,o),[u,a]}insertAfterInternal(e,r){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new G(Z.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1)}insertAtInternal(e,r){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");this._children.splice(r,0,e),e.parent=this}findOffset(e,r=!1){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");if(r)return this._children.indexOf(e);if(e.isRemoved){const a=this._children.indexOf(e);return this.allChildren.splice(0,a).filter(u=>!u.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new G(Z.ErrRefused,"Text node cannot have children");let r=e;for(;r;){const a=this._children.indexOf(r);if(a!==-1)return a;r=r.parent}return-1}}function UI(t,e){if(t===e)return!1;for(;e.parent;){if(e.parent===t)return!0;e=e.parent}return!1}var vt=(t=>(t.Start="Start",t.End="End",t.Text="Text",t))(vt||{});function _E(t,e,r,a,o=!1){if(e>r)throw new G(Z.ErrInvalidArgument,`from is greater than to: ${e} > ${r}`);const u=o?t.totalSize:t.visibleSize;if(e>u)throw new G(Z.ErrInvalidArgument,`from is out of range: ${e} > ${u}`);if(r>u)throw new G(Z.ErrInvalidArgument,`to is out of range: ${r} > ${u}`);if(e===r)return;let c=0;const d=o?t._children:t.children;for(const m of d){if(e-m.paddedSize(o)<c&&c<r){const h=m.isText?e-c:e-c-1,p=m.isText?r-c:r-c-1,y=o?m.totalSize:m.visibleSize,v=!m.isText&&h<0,S=!m.isText&&p>y;(m.isText||v)&&a([m,m.isText?"Text":"Start"],S),_E(m,Math.max(0,h),Math.min(p,y),a,o),S&&a([m,"End"],S)}c+=m.paddedSize(o)}}function OE(t,e,r=0){for(const a of t.children)OE(a,e,r+1);e(t,r)}function ff(t,e,r=0){for(const a of t._children)ff(a,e,r+1);e(t,r)}function Rg(t,e,r=!0){if(e>t.visibleSize)throw new G(Z.ErrInvalidArgument,`index is out of range: ${e} > ${t.visibleSize}`);if(t.isText)return{node:t,offset:e};let a=0,o=0;for(const u of t.children){if(r&&u.isText&&u.visibleSize>=e-o)return Rg(u,e-o,r);if(e===o)return{node:t,offset:a};if(!r&&u.paddedSize()===e-o)return{node:t,offset:a+1};if(u.paddedSize()>e-o)return Rg(u,e-o-1,r);o+=u.paddedSize(),a+=1}return{node:t,offset:a}}function VE(t){return t.isText||t.children.length===0?t:VE(t.children[0])}function ZI(t,e){if(t.visibleSize<e)throw new G(Z.ErrInvalidArgument,"unacceptable path");for(let r=0;r<t.children.length;r++){const a=t.children[r];if(a.visibleSize<e)e-=a.visibleSize;else{t=a;break}}return{node:t,offset:e}}class YI{root;constructor(e){this.root=e}tokensBetween(e,r,a,o=!1){_E(this.root,e,r,a,o)}traverse(e){OE(this.root,e,0)}traverseAll(e){ff(this.root,e,0)}findTreePos(e,r=!0){return Rg(this.root,e,r)}treePosToPath(e){const r=[];let a=e.node;if(a.isText){const o=a.parent.findOffset(a);if(o===-1)throw new G(Z.ErrInvalidArgument,"invalid treePos");const u=Ho(a.parent,o);r.push(u+e.offset),a=a.parent}else if(a.hasTextChild()){const o=Ho(a,e.offset);r.push(o)}else r.push(e.offset);for(;a.parent;){const o=a.parent.findOffset(a);if(o===-1)throw new G(Z.ErrInvalidArgument,"invalid treePos");r.push(o),a=a.parent}return r.reverse()}pathToIndex(e){const r=this.pathToTreePos(e);return this.indexOf(r)}pathToTreePos(e){if(!e.length)throw new G(Z.ErrInvalidArgument,"unacceptable path");let r=this.root;for(let a=0;a<e.length-1;a++){const o=e[a];if(r=r.children[o],!r)throw new G(Z.ErrInvalidArgument,"unacceptable path")}if(r.hasTextChild())return ZI(r,e[e.length-1]);if(r.children.length<e[e.length-1])throw new G(Z.ErrInvalidArgument,"unacceptable path");return{node:r,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:r,offset:a}=e;if(r.isText){if(r.visibleSize===a){const o=r.nextSibling;return o||r.parent}return r}return r.children.length===a?r:VE(r.children[a])}indexOf(e,r=!1){let{node:a}=e;const{offset:o}=e;let u=0,c=1;if(a.isText){u+=o;const d=a.parent,m=d.findOffset(a,r);if(m===-1)throw new G(Z.ErrInvalidArgument,"invalid pos");u+=Ho(d,m,r),a=a.parent}else u+=Ho(a,o,r);for(;a?.parent;){const d=a.parent,m=d.findOffset(a,r);if(m===-1)throw new G(Z.ErrInvalidArgument,"invalid pos");u+=Ho(d,m,r),c++,a=a.parent}return u+c-1}indexToPath(e){const r=this.findTreePos(e);return this.treePosToPath(r)}}const GI=(t,e)=>t===e?0:t<e?-1:1;class kI{key;value;left;right;isRed;constructor(e,r,a){this.key=e,this.value=r,this.isRed=a}}class WI{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class ME{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:GI,this.counter=0}put(e,r){return this.root=this.putInternal(e,r,this.root),this.root.isRed=!1,r}get(e){const r=this.getInternal(e,this.root);return r?r.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new WI(this.root)}values(){const e=[];for(const r of this.getIterator().stack)e.push(r.value);return e}floorEntry(e){let r=this.root,a;for(;r;){const o=this.comparator(e,r.key);if(o===0)return r;o<0?r=r.left:(a=r,r=r.right)}return a}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,r){for(;r;){const a=this.comparator(e,r.key);if(a===0)return r;a<0?r=r.left:a>0&&(r=r.right)}}putInternal(e,r,a){if(!a)return this.counter+=1,new kI(e,r,!0);const o=this.comparator(e,a.key);return o<0?a.left=this.putInternal(e,r,a.left):o>0?a.right=this.putInternal(e,r,a.right):a.value=r,this.isRed(a.right)&&!this.isRed(a.left)&&(a=this.rotateLeft(a)),this.isRed(a.left)&&this.isRed(a.left.left)&&(a=this.rotateRight(a)),this.isRed(a.left)&&this.isRed(a.right)&&this.flipColors(a),a}removeInternal(e,r){if(this.comparator(r,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,r);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(r,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(r,e.key)===0){this.counter-=1;const a=this.min(e.right);e.value=a.value,e.key=a.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,r)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const r=e.right;return e.right=r.left,r.left=e,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(e){const r=e.left;return e.left=r.right,r.right=e,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Jn{parentID;leftSiblingID;constructor(e,r){this.parentID=e,this.leftSiblingID=r}static of(e,r){return new Jn(e,r)}static fromTreePos(e){const{offset:r}=e;let{node:a}=e,o;return a.isText?(a.parent.children[0]===a&&r===0?o=a.parent:o=a,a=a.parent):r===0?o=a:o=a.children[r-1],Jn.of(a.id,Ut.of(o.getCreatedAt(),o.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(e){return Jn.of(Ut.of(Dn.fromStruct(e.parentID.createdAt),e.parentID.offset),Ut.of(Dn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const r=this.getParentID(),a=this.getLeftSiblingID(),o=e.findFloorNode(r);let u=e.findFloorNode(a);if(!o||!u)throw new G(Z.ErrRefused,`cannot find node of CRDTTreePos(${r.toTestString()}, ${a.toTestString()})`);return!a.equals(r)&&a.getOffset()>0&&a.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=e.findFloorNode(u.insPrevID)),[o,u]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Ut{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new Ut(e,r)}static fromStruct(e){return Ut.of(Dn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class mn extends zI{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,r,a,o,u){super(r),this.id=e,this.removedAt=u,o&&(this.attrs=o),typeof a=="string"?this.value=a:Array.isArray(a)&&(this._children=a)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,a,o){return new mn(e,r,a,o)}deepcopy(){const e=new mn(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=e,a}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new G(Z.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new G(Z.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new mn(Ut.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new mn(Ut.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,a){const[o,u]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,a);if(o){if(o.insPrevID=this.id,this.insNextID){const c=e.findFloorNode(this.insNextID);c.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,u]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new Kr);const a=[];for(const[o,u]of Object.entries(e))a.push(this.attrs.set(o,u,r));return a}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=lr),this.removedAt&&(e.meta+=lr),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Dg(t){if(t.isText){const r=t;return{type:r.type,value:r.value}}const e={type:t.type,children:t.children.map(Dg)};return t.attrs&&(e.attributes=Wr(t.attrs?.toObject())),e}function Em(t){if(t.isText)return t.value;let e="";return t.attrs&&t.attrs.size()&&(e=" "+Array.from(t.attrs).filter(r=>!r.isRemoved()).sort((r,a)=>r.getKey().localeCompare(a.getKey())).map(r=>{const a=JSON.parse(r.getValue());return typeof a=="string"?`${r.getKey()}="${a}"`:`${r.getKey()}="${or(r.getValue())}"`}).join(" ")),`<${t.type}${e}>${t.children.map(r=>Em(r)).join("")}</${t.type}>`}function BE(t){if(t.isText){const e=t;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:t.type,children:t.children.map(BE),visibleSize:t.visibleSize,isRemoved:t.isRemoved}}class yn extends Vl{indexTree;nodeMapByID;constructor(e,r){super(r),this.indexTree=new YI(e),this.nodeMapByID=new ME(Ut.createComparator()),this.indexTree.traverseAll(a=>{this.nodeMapByID.put(a.id,a)})}static create(e,r){return new yn(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let a={data:0,meta:0};const[o,u]=e.toTreeNodePair(this);let c=u;const d=o===c,m=c.parent&&!d?c.parent:o;if(c.isText){const[,h]=c.split(this,e.getLeftSiblingID().getOffset()-c.id.getOffset());a=h}if(r){const h=m.allChildren,p=d?0:h.indexOf(c)+1;for(let y=p;y<h.length;y++){const v=h[y];if(!v.id.getCreatedAt().after(r))break;c=v}}return[[m,c],a]}style(e,r,a,o){const u={data:0,meta:0},[[c,d],m]=this.findNodesAndSplitText(e[0],a),[[h,p],y]=this.findNodesAndSplitText(e[1],a);zt(u,y,m);const v=[],S=r?Wr(r):{},E=[];return this.traverseInPosRange(c,d,h,p,([A,R])=>{const x=A.getCreatedAt().getActorID();let U=Cg;if(o!=null&&(U=o.get(x)?o.get(x):0n),A.canStyle(a,U)&&r){const N=A.setAttrs(r,a),I=N.reduce((M,[,X])=>(X&&(M[X.getKey()]=S[X.getKey()]),M),{}),V=A.parent,B=A.prevSibling||A.parent;Object.keys(I).length>0&&v.push({type:"style",from:this.toIndex(V,B),to:this.toIndex(A,A),fromPath:this.toPath(V,B),toPath:this.toPath(A,A),actor:a.getActorID(),value:I});for(const[M]of N)M&&E.push({parent:A,child:M});for(const[M]of Object.entries(S)){const X=A.attrs?.getNodeMapByKey().get(M);X!==void 0&&R!==vt.End&&zt(u,X.getDataSize())}}}),[E,v,u]}removeStyle(e,r,a,o){const u={data:0,meta:0},[[c,d],m]=this.findNodesAndSplitText(e[0],a),[[h,p],y]=this.findNodesAndSplitText(e[1],a);zt(u,y,m);const v=[],S=[];return this.traverseInPosRange(c,d,h,p,([E])=>{const A=E.getCreatedAt().getActorID();let R=Cg;if(o!=null&&(R=o.get(A)?o.get(A):0n),E.canStyle(a,R)&&r){E.attrs||(E.attrs=new Kr);for(const N of r){const I=E.attrs.remove(N,a);for(const V of I)S.push({parent:E,child:V})}const x=E.parent,U=E.prevSibling||E.parent;v.push({actor:a.getActorID(),type:"removeStyle",from:this.toIndex(x,U),to:this.toIndex(E,E),fromPath:this.toPath(x,U),toPath:this.toPath(E,E),value:r})}}),[S,v,u]}edit(e,r,a,o,u,c){const d={data:0,meta:0},[[m,h],p]=this.findNodesAndSplitText(e[0],o),[[y,v],S]=this.findNodesAndSplitText(e[1],o);zt(d,S,p);const E=this.toIndex(m,h),A=this.toPath(m,h),R=[],x=[],U=[];this.traverseInPosRange(m,h,y,v,([V,B],M)=>{if(B===vt.Start&&!M)for(const te of V.children)U.push(te);const X=c===void 0;let q=!1;const de=c?.get(V.id.getCreatedAt().getActorID());q=X||de!==void 0&&de>=V.id.getCreatedAt().getLamport();let ne=!1;if(V.removedAt){const te=c?.get(V.removedAt.getActorID());ne=X||te!==void 0&&te>=V.removedAt.getLamport()}(V.canDelete(o,q,ne)||R.includes(V.parent))&&((B===vt.Text||B===vt.Start)&&R.push(V),x.push([V,B]))},!0);const N=this.makeDeletionChanges(x,o),I=[];for(const V of R)V.remove(o),V.isRemoved&&I.push({parent:this,child:V});for(const V of U)V.removedAt||m.append(V);if(a>0){let V=0,B=m,M=h;for(;V<a;)B.split(this,B.findOffset(M)+1,u),M=B,B=B.parent,V++;N.push({type:"content",from:E,to:E,fromPath:A,toPath:A,actor:o.getActorID()})}if(r?.length){const V=[];let B=h;for(const M of r)B===m?m.insertAt(M,0):m.insertAfter(M,B),B=M,ff(M,X=>{m.isRemoved?(X.remove(o),I.push({parent:this,child:X})):zt(d,X.getDataSize()),this.nodeMapByID.put(X.id,X)}),M.isRemoved||V.push(M);if(V.length){const M=V.map(X=>Dg(X));N.length&&N[N.length-1].from===E?N[N.length-1].value=M:N.push({type:"content",from:E,to:E,fromPath:A,toPath:A,actor:o.getActorID(),value:M})}}return[N,I,d]}editT(e,r,a,o,u){const c=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([c,d],r,a,o,u)}move(e,r,a){throw new G(Z.ErrUnimplemented,`not implemented: ${e}, ${r}, ${a}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,a=e.insNextID;if(r){const o=this.findFloorNode(r);o.insNextID=a}if(a){const o=this.findFloorNode(a);o.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const a of r.getGCPairs())e.push(a)}),e}findPos(e,r=!0){const a=this.indexTree.findTreePos(e,r);return Jn.fromTreePos(a)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Em(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(a,o=void 0,u=void 0,c=0)=>{let d,m,h;const p=a.isText?{node:a,offset:0}:o&&u?this.toTreePos(o,u):null;p&&(d=this.indexTree.indexOf(p),m=this.indexTree.treePosToPath(p),h=Jn.fromTreePos(p).toStruct());const y={type:a.type,parent:o?.id.toTestString(),size:a.visibleSize,id:a.id.toTestString(),removedAt:a.removedAt?.toTestString(),insPrev:a.insPrevID?.toTestString(),insNext:a.insNextID?.toTestString(),value:a.isText?a.value:void 0,isRemoved:a.isRemoved,children:[],depth:c,attributes:a.attrs?Wr(a.attrs?.toObject()):void 0,index:d,path:m,pos:h};for(let v=0;v<a.allChildren.length;v++){const S=v===0?a:a.allChildren[v-1];y.children.push(r(a.allChildren[v],a,S,c+1))}return y};return r(e)}getRootTreeNode(){return Dg(this.indexTree.getRoot())}toTestTreeNode(){return BE(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),r=new yn(e.deepcopy(),this.getCreatedAt());return r.setRemovedAt(this.getRemovedAt()),r.setMovedAt(this.getMovedAt()),r}toPath(e,r){const a=this.toTreePos(e,r);return a?this.indexTree.treePosToPath(a):[]}toIndex(e,r,a=!1){const o=this.toTreePos(e,r,a);return o?this.indexTree.indexOf(o,a):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,a]=e,o=this.findPos(r);return r===a?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(a).toStruct()]}posRangeToPathRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,u]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,a),this.toPath(o,u)]}posRangeToIndexRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,u]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,a),this.toIndex(o,u)]}traverseInPosRange(e,r,a,o,u,c=!1){const d=this.toIndex(e,r,c),m=this.toIndex(a,o,c);this.indexTree.tokensBetween(d,m,u,c)}toTreePos(e,r,a=!1){if(!e||!r)return;if(!a&&e.isRemoved){let u;for(;e.isRemoved;)u=e,e=u.parent;const c=e.findOffset(u,a);return{node:e,offset:c}}if(e===r)return{node:e,offset:0};let o=e.findOffset(r,a);if(a||!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize(a)};o++}return{node:e,offset:o}}makeDeletionChanges(e,r){const a=[],o=[];let u=null,c=null;for(let d=0;d<e.length;d++){const m=e[d],h=e[d+1];u||(u=m),c=m;const p=this.findRightToken(m);(!p||!h||p[0]!==h[0]||p[1]!==h[1])&&(o.push([u,c]),u=null,c=null)}for(const d of o){const[m,h]=d,[p,y]=this.findLeftToken(m),[v,S]=h,E=y===vt.Start?p:p.parent,A=S===vt.Start?v:v.parent,R=this.toIndex(E,p),x=this.toIndex(A,v);R<x&&(a.length>0&&R===a[a.length-1].to?(a[a.length-1].to=x,a[a.length-1].toPath=this.toPath(A,v)):a.push({type:"content",from:R,to:x,fromPath:this.toPath(E,p),toPath:this.toPath(A,v),actor:r.getActorID()}))}return a.reverse()}findRightToken([e,r]){if(r===vt.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?vt.Text:vt.Start]:[e,vt.End]}const a=e.parent,o=a.allChildren,u=o.indexOf(e);if(a&&u===o.length-1)return[a,vt.End];const c=o[u+1];return[c,c.isText?vt.Text:vt.Start]}findLeftToken([e,r]){if(r===vt.End){const d=e.allChildren;if(d.length>0){const m=d[d.length-1];return[m,m.isText?vt.Text:vt.End]}return[e,vt.Start]}const a=e.parent,o=a.allChildren,u=o.indexOf(e);if(a&&u===0)return[a,vt.Start];const c=o[u-1];return[c,c.isText?vt.Text:vt.End]}}class Ll extends Qn{fromPos;toPos;contents;splitLevel;constructor(e,r,a,o,u,c){super(e,c),this.fromPos=r,this.toPos=a,this.contents=o,this.splitLevel=u}static create(e,r,a,o,u,c){return new Ll(e,r,a,o,u,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof yn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const u=this.getExecutedAt(),c=o,[d,m,h]=c.edit([this.fromPos,this.toPos],this.contents?.map(p=>p.deepcopy()),this.splitLevel,u,(()=>{let p=u.getDelimiter();return this.contents!==void 0&&(p+=this.contents.length),()=>Dn.of(u.getLamport(),++p,u.getActorID())})(),a);e.acc(h);for(const p of m)e.registerGCPair(p);return{opInfos:d.map(({from:p,to:y,value:v,splitLevel:S,fromPath:E,toPath:A})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:p,to:y,value:v,splitLevel:S,fromPath:E,toPath:A}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${r},${a},${o.map(u=>Em(u)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ts{vector;constructor(e){this.vector=e||new Map}set(e,r){this.vector.set(e,r)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,r]of this)r>e&&(e=r);return e}max(e){const r=new Map;for(const[a,o]of e){const u=this.vector.get(a),c=u&&u>o?u:o;r.set(a,c)}for(const[a,o]of this){const u=e.get(a),c=u&&u>o?u:o;r.set(a,c)}return new Ts(r)}afterOrEqual(e){const r=this.vector.get(e.getActorID());return r===void 0?!1:r>=e.getLamport()}deepcopy(){const e=new Map;for(const[r,a]of this.vector)e.set(r,a);return new Ts(e)}filter(e){const r=new Map;for(const[a]of e){const o=this.vector.get(a);o!==void 0&&r.set(a,o)}return new Ts(r)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,r]of this.vector)yield[e,r]}}const LE=new Ts(new Map);class kn{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,r,a,o,u){this.clientSeq=e,this.serverSeq=u,this.lamport=r,this.versionVector=o,this.actor=a}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Tg}static of(e,r,a,o,u){return new kn(e,r,a,o,u)}next(e=!1){if(e)return new kn(this.clientSeq+1,this.lamport,this.actor,LE,Tg);const r=this.versionVector.deepcopy();return r.set(this.actor,this.lamport+1n),new kn(this.clientSeq+1,this.lamport+1n,this.actor,r)}syncClocks(e){if(!e.hasClocks())return this;const r=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,a=this.versionVector.max(e.versionVector),o=new kn(this.clientSeq,r,this.actor,a);return o.versionVector.set(this.actor,r),o}setClocks(e,r){const a=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(r);return o.set(this.actor,a),kn.of(this.clientSeq,a,this.actor,o)}createTimeTicket(e){return Dn.of(this.lamport,e,this.actor)}setActor(e){return new kn(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new kn(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new kn(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const XI=new kn(0,0n,Sm,LE);class Zs{id;operations;presenceChange;message;constructor({id:e,operations:r,presenceChange:a,message:o}){this.id=e,this.operations=r||[],this.presenceChange=a,this.message=o}static create({id:e,operations:r,presenceChange:a,message:o}){return new Zs({id:e,operations:r,presenceChange:a,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const r of this.operations)r.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,r,a){const o=[],u=[];for(const c of this.operations){const d=c.execute(e,a,this.id.getVersionVector());if(!d)continue;const{opInfos:m,reverseOp:h}=d;o.push(...m),h&&u.unshift(h)}return this.presenceChange&&(this.presenceChange.type===dr.Put?r.set(this.id.getActorID(),Gn(this.presenceChange.presence)):r.delete(this.id.getActorID())),{opInfos:o,reverseOps:u}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:ot.bytesToHex(ot.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>ot.bytesToHex(ot.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:r,operations:a,presenceChange:o,message:u}=e;return Zs.create({id:ot.bytesToChangeID(ot.hexToBytes(r)),operations:a?.map(c=>ot.bytesToOperation(ot.hexToBytes(c))),presenceChange:o,message:u})}}class df{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,r,a,o,u,c){this.documentKey=e,this.checkpoint=r,this.isRemoved=a,this.changes=o,this.snapshot=c,this.versionVector=u}static create(e,r,a,o,u,c){return new df(e,r,a,o,u,c)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Cs{serverSeq;clientSeq;constructor(e,r){this.serverSeq=e,this.clientSeq=r}static of(e,r){return new Cs(e,r)}increaseClientSeq(e){return e===0?this:new Cs(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const r=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,a=Math.max(this.clientSeq,e.clientSeq);return Cs.of(r,a)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const KI=new Cs(0n,0);class cr{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new cr(e,r)}static fromStruct(e){return cr.of(Dn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new cr(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const HI=cr.of(Bs,0);class Pn{id;relativeOffset;constructor(e,r){this.id=e,this.relativeOffset=r}static of(e,r){return new Pn(e,r)}static fromStruct(e){const r=cr.fromStruct(e.id);return Pn.of(r,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return cr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Bi extends xE{id;removedAt;prev;next;insPrev;insNext;constructor(e,r,a){super(r),this.id=e,this.removedAt=a}static create(e,r){return new Bi(e,r)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Bi(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[Pn.of(this.id,0),Pn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=lr),this.removedAt&&(e.meta+=lr),e}deepcopy(){return new Bi(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Ys{head;treeByIndex;treeByID;constructor(){this.head=Bi.create(HI),this.treeByIndex=new ml,this.treeByID=new ME(Bi.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Ys}edit(e,r,a,o){const u={data:0,meta:0},[c,d,m]=this.findNodeWithSplit(e[1],r),[h,p,y]=this.findNodeWithSplit(e[0],r);zt(u,d,p);const v=this.findBetween(y,m),[S,E]=this.deleteNodes(v,r,o),A=m?m.getID():c.getID();let R=Pn.of(A,0);if(a){const U=this.posToIndex(h.createPosRange()[1],!0),N=this.insertAfter(h,Bi.create(cr.of(r,0),a));zt(u,N.getDataSize()),S.length&&S[S.length-1].from===U?S[S.length-1].value=a:S.push({actor:r.getActorID(),from:U,to:U,value:a}),R=Pn.of(N.getID(),N.getContentLength())}const x=[];for(const[,U]of E)x.push({parent:this,child:U});return[R,x,u,S]}indexToPos(e){const[r,a]=this.treeByIndex.find(e),o=r;return Pn.of(o.getID(),a)}findIndexesFromRange(e){const[r,a]=e;return[this.posToIndex(r,!1),this.posToIndex(a,!0)]}posToIndex(e,r){const a=e.getAbsoluteID(),o=r?this.findFloorNodePreferToLeft(a):this.findFloorNode(a);if(!o)throw new G(Z.ErrInvalidArgument,`the node of the given id should be found: ${a.toTestString()}`);const u=this.treeByIndex.indexOf(o),c=o.isRemoved()?0:a.getOffset()-o.getID().getOffset();return u+c}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const r of this)r.isRemoved()||e.push(r.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Ys;let r=this.head.getNext(),a=e.head,o;for(;r;){if(o=e.insertAfter(a,r.deepcopy()),r.hasInsPrev()){const u=e.findNode(r.getInsPrevID());o.setInsPrev(u)}a=o,r=r.getNext()}return e}toTestString(){const e=[];let r=this.head;for(;r;)r.isRemoved()?e.push(`{${r.toTestString()}}`):e.push(`[${r.toTestString()}]`),r=r.getNext();return e.join("")}insertAfter(e,r){const a=e.getNext();return r.setPrev(e),a&&a.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(e,r),r}findNodeWithSplit(e,r){const a=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(a);const u=a.getOffset()-o.getID().getOffset(),[,c]=this.splitNode(o,u);for(;o.hasNext()&&o.getNext().getCreatedAt().after(r);)o=o.getNext();return[o,c,o.getNext()]}findFloorNodePreferToLeft(e){let r=this.findFloorNode(e);if(!r)throw new G(Z.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&r.getID().getOffset()==e.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(e){const r=this.treeByID.floorEntry(e);if(r&&!(!r.key.equals(e)&&!r.key.hasSameCreatedAt(e)))return r.value}findBetween(e,r){const a=[];let o=e;for(;o&&o!==r;)a.push(o),o=o.getNext();return a}splitNode(e,r){const a={data:0,meta:0};if(r>e.getContentLength())throw new G(Z.ErrInvalidArgument,"offset should be less than or equal to length");if(r===0)return[e,a];if(r===e.getContentLength())return[e.getNext(),a];const o=e.getDataSize(),u=e.split(r);this.treeByIndex.updateWeight(u),this.insertAfter(e,u);const c=e.getInsNext();return c&&c.setInsPrev(u),u.setInsPrev(e),zt(a,e.getDataSize(),u.getDataSize()),ga(a,o),[u,a]}deleteNodes(e,r,a){if(!e.length)return[[],new Map];const o=a===void 0||a.size()===0,u=[],c=[],[d,m]=this.findEdgesOfCandidates(e);c.push(d);for(const y of e){let v=!1;if(o)v=!0;else{const E=a?.get(y.getCreatedAt().getActorID());E&&E>=y.getCreatedAt().getLamport()&&(v=!0)}let S=!1;if(y.getRemovedAt()){const E=a?.get(y.getRemovedAt().getActorID());(o||E&&E>=y.getRemovedAt().getLamport())&&(S=!0)}y.canRemove(r,v,S)?u.push(y):c.push(y)}c.push(m);const h=this.makeChanges(c,r),p=new Map;for(const y of u)p.set(y.getID().toIDString(),y),y.remove(r);return this.deleteIndexNodes(c),[h,p]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,r){const a=[];let o,u;for(let c=0;c<e.length-1;c++){const d=e[c],m=e[c+1];d.getNext()!=m&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),m?[,u]=this.findIndexesFromRange(m.getPrev().createPosRange()):u=this.treeByIndex.length,o<u&&a.push({actor:r.getActorID(),from:o,to:u}))}return a.reverse()}deleteIndexNodes(e){for(let r=0;r<e.length-1;r++){const a=e[r],o=e[r+1];a.getNext()!=o&&this.treeByIndex.deleteRange(a,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const r=e.getPrev(),a=e.getNext(),o=e.getInsPrev(),u=e.getInsNext();r&&r.setNext(a),a&&a.setPrev(r),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(u),u&&u.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}const aS=t=>t<0?Math.ceil(t):Math.floor(t);var gr=(t=>(t[t.Int=0]="Int",t[t.Long=1]="Long",t))(gr||{});class sn extends Vl{valueType;value;constructor(e,r,a){switch(super(a),this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=Ue.fromNumber(r).toInt():this.value=aS(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=Ue.fromNumber(r):this.value=r;break;default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,a){return new sn(e,r,a)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return Ue.fromBytesLE(Array.from(r));default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=sn.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Ue?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!sn.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new G(Z.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(a){if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===it.Long?this.value=this.value+e.getValue().toInt():this.value=Ue.fromNumber(this.value+aS(e.getValue())).toInt(),this}}class Gs extends Qn{value;constructor(e,r,a){super(e,a),this.value=r}static create(e,r,a){return new Gs(e,r,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof sn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const a=r,o=this.value.deepcopy();return a.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),a=e.getType()===it.Long?e.getValue().multiply(-1):e.getValue()*-1;return Gs.create(this.getParentCreatedAt(),dt.of(a,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Xr extends Qn{fromPos;toPos;attributes;attributesToRemove;constructor(e,r,a,o,u,c){super(e,c),this.fromPos=r,this.toPos=a,this.attributes=o,this.attributesToRemove=u}static create(e,r,a,o,u){return new Xr(e,r,a,o,[],u)}static createTreeRemoveStyleOperation(e,r,a,o,u){return new Xr(e,r,a,new Map,o,u)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof yn))throw new G(Z.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const u=o;let c,d,m={data:0,meta:0};if(this.attributes.size){const h={};[...this.attributes].forEach(([p,y])=>h[p]=y),[d,c,m]=u.style([this.fromPos,this.toPos],h,this.getExecutedAt(),a)}else{const h=this.attributesToRemove;[d,c,m]=u.removeStyle([this.fromPos,this.toPos],h,this.getExecutedAt(),a)}e.acc(m);for(const h of d)e.registerGCPair(h);return{opInfos:c.map(({from:h,to:p,value:y,fromPath:v,toPath:S})=>({type:"tree-style",from:h,to:p,value:this.attributes.size?{attributes:y}:{attributesToRemove:y},fromPath:v,toPath:S,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${a},${Object.entries(this.attributes||{}).map(([o,u])=>`${o}:"${u}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Hr extends Qn{createdAt;value;constructor(e,r,a,o){super(e,o),this.createdAt=r,this.value=a}static create(e,r,a,o){return new Hr(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new G(Z.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Wt))throw new G(Z.ErrInvalidArgument,"fail to execute, only array can execute set");const a=r.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,a),u=this.value.deepcopy();return r.insertAfter(this.createdAt,u,this.getExecutedAt()),r.delete(this.createdAt,this.getExecutedAt()),e.registerElement(u),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,r){return Hr.create(this.getParentCreatedAt(),e.getCreatedAt(),r)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function FI(t){const e={};for(const[r,a]of Object.entries(t))e[r]=JSON.stringify(a);return be(xI,{data:e})}function JI(t){if(t.type===dr.Put)return be(Pb,{type:gl.PUT,presence:FI(t.presence)});if(t.type===dr.Clear)return be(Pb,{type:gl.CLEAR});throw new G(Z.ErrUnimplemented,"unimplemented type")}function jI(t){return be(TI,{serverSeq:t.getServerSeq(),clientSeq:t.getClientSeq()})}function _g(t){return be(ym,{clientSeq:t.getClientSeq(),lamport:t.getLamport(),actorId:gf(t.getActorID()),versionVector:wm(t.getVersionVector())})}function Se(t){if(t)return be(II,{lamport:t.getLamport(),delimiter:t.getDelimiter(),actorId:gf(t.getActorID())})}function wm(t){if(!t)return;const e=be(vm);for(const[r,a]of t){const o=OR(gf(r));e.vector[o]=BigInt(a.toString())}return e}function zE(t){switch(t){case it.Null:return Ve.NULL;case it.Boolean:return Ve.BOOLEAN;case it.Integer:return Ve.INTEGER;case it.Long:return Ve.LONG;case it.Double:return Ve.DOUBLE;case it.String:return Ve.STRING;case it.Bytes:return Ve.BYTES;case it.Date:return Ve.DATE;default:throw new G(Z.ErrInvalidType,`unsupported type: ${t}`)}}function UE(t){switch(t){case gr.Int:return Ve.INTEGER_CNT;case gr.Long:return Ve.LONG_CNT;default:throw new G(Z.ErrInvalidType,`unsupported type: ${t}`)}}function gc(t){if(t instanceof kt)return be(ps,{type:Ve.JSON_OBJECT,createdAt:Se(t.getCreatedAt()),value:$E(t)});if(t instanceof Wt)return be(ps,{type:Ve.JSON_ARRAY,createdAt:Se(t.getCreatedAt()),value:IR(t)});if(t instanceof pn)return be(ps,{type:Ve.TEXT,createdAt:Se(t.getCreatedAt())});if(t instanceof dt)return be(ps,{type:zE(t.getType()),createdAt:Se(t.getCreatedAt()),value:t.toBytes()});if(t instanceof sn)return be(ps,{type:UE(t.getType()),createdAt:Se(t.getCreatedAt()),value:t.toBytes()});if(t instanceof yn)return be(ps,{type:Ve.TREE,createdAt:Se(t.getCreatedAt()),value:DR(t)});throw new G(Z.ErrUnimplemented,"unimplemented element")}function $I(t){return be(SI,{createdAt:Se(t.getCreatedAt()),offset:t.getOffset()})}function mc(t){return be(CI,{createdAt:Se(t.getID().getCreatedAt()),offset:t.getID().getOffset(),relativeOffset:t.getRelativeOffset()})}function pc(t){return be(NI,{parentId:nl(t.getParentID()),leftSiblingId:nl(t.getLeftSiblingID())})}function nl(t){return be(wI,{createdAt:Se(t.getCreatedAt()),offset:t.getOffset()})}function Og(t){const e=be(bm);if(t instanceof ba){const r=t,a=be(tI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.key=r.getKey(),a.value=gc(r.getValue()),a.executedAt=Se(r.getExecutedAt()),e.body.case="set",e.body.value=a}else if(t instanceof Zi){const r=t,a=be(nI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.prevCreatedAt=Se(r.getPrevCreatedAt()),a.value=gc(r.getValue()),a.executedAt=Se(r.getExecutedAt()),e.body.case="add",e.body.value=a}else if(t instanceof Fn){const r=t,a=be(rI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.prevCreatedAt=Se(r.getPrevCreatedAt()),a.createdAt=Se(r.getCreatedAt()),a.executedAt=Se(r.getExecutedAt()),e.body.case="move",e.body.value=a}else if(t instanceof hr){const r=t,a=be(iI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.createdAt=Se(r.getCreatedAt()),a.executedAt=Se(r.getExecutedAt()),e.body.case="remove",e.body.value=a}else if(t instanceof Ml){const r=t,a=be(aI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.from=mc(r.getFromPos()),a.to=mc(r.getToPos()),a.content=r.getContent();const o=a.attributes;for(const[u,c]of r.getAttributes())o[u]=c;a.executedAt=Se(r.getExecutedAt()),e.body.case="edit",e.body.value=a}else if(t instanceof Bl){const r=t,a=be(sI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.from=mc(r.getFromPos()),a.to=mc(r.getToPos());const o=a.attributes;for(const[u,c]of r.getAttributes())o[u]=c;a.executedAt=Se(r.getExecutedAt()),e.body.case="style",e.body.value=a}else if(t instanceof Gs){const r=t,a=be(oI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.value=gc(r.getValue()),a.executedAt=Se(r.getExecutedAt()),e.body.case="increase",e.body.value=a}else if(t instanceof Ll){const r=t,a=be(lI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.from=pc(r.getFromPos()),a.to=pc(r.getToPos()),a.contents=rR(r.getContents()),a.splitLevel=r.getSplitLevel(),a.executedAt=Se(r.getExecutedAt()),e.body.case="treeEdit",e.body.value=a}else if(t instanceof Xr){const r=t,a=be(uI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.from=pc(r.getFromPos()),a.to=pc(r.getToPos());const o=r.getAttributesToRemove();if(o.length>0)a.attributesToRemove=o;else{const u=a.attributes;for(const[c,d]of r.getAttributes())u[c]=d}a.executedAt=Se(r.getExecutedAt()),e.body.case="treeStyle",e.body.value=a}else if(t instanceof Hr){const r=t,a=be(cI);a.parentCreatedAt=Se(r.getParentCreatedAt()),a.createdAt=Se(r.getCreatedAt()),a.value=gc(r.getValue()),a.executedAt=Se(r.getExecutedAt()),e.body.case="arraySet",e.body.value=a}else throw new G(Z.ErrUnimplemented,"unimplemented operation");return e}function PI(t){const e=[];for(const r of t)e.push(Og(r));return e}function QI(t){const e=be(eI,{id:_g(t.getID()),message:t.getMessage()});return t.hasOperations()&&(e.operations=PI(t.getOperations())),t.hasPresenceChange()&&(e.presenceChange=JI(t.getPresenceChange())),e}function qI(t){const e=[];for(const r of t)e.push(QI(r));return e}function eR(t){const e=[];for(const r of t)e.push(be(yI,{key:r.getStrKey(),element:xm(r.getValue())}));return e}function tR(t){const e=[];for(const r of t)e.push(be(vI,{element:xm(r.getValue())}));return e}function nR(t){const e=[];for(const r of t){const a=be(bI);a.id=$I(r.getID()),a.value=r.getValue().getContent(),a.removedAt=Se(r.getRemovedAt());const o=a.attributes,u=r.getValue().getAttrs();for(const c of u){const d=be(EE);d.value=c.getValue(),d.updatedAt=Se(c.getUpdatedAt()),o[c.getKey()]=d}e.push(a)}return e}function rR(t){const e=[];if(!t||!t.length)return e;for(const r of t)e.push(be(EI,{content:Nm(r)}));return e}function iR(t){const e={};for(const r of t)e[r.getKey()]=be(EE,{value:r.getValue(),updatedAt:Se(r.getUpdatedAt()),isRemoved:r.isRemoved()});return e}function Nm(t){if(!t)return[];const e=[];return ff(t,(r,a)=>{const o=be(AI,{id:nl(r.id),type:r.type,removedAt:Se(r.removedAt),depth:a});r.isText&&(o.value=r.value),r.insPrevID&&(o.insPrevId=nl(r.insPrevID)),r.insNextID&&(o.insNextId=nl(r.insNextID)),r.attrs&&(o.attributes=iR(r.attrs)),e.push(o)}),e}function aR(t){return be(Vn,{body:{case:"jsonObject",value:be(fI,{nodes:eR(t.getRHT()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function ZE(t){return be(Vn,{body:{case:"jsonArray",value:be(dI,{nodes:tR(t.getElements()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function sR(t){return be(Vn,{body:{case:"primitive",value:be(hI,{type:zE(t.getType()),value:t.toBytes(),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function oR(t){return be(Vn,{body:{case:"text",value:be(gI,{nodes:nR(t.getRGATreeSplit()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function lR(t){return be(Vn,{body:{case:"counter",value:be(mI,{type:UE(t.getType()),value:t.toBytes(),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function YE(t){return be(Vn,{body:{case:"tree",value:be(pI,{nodes:Nm(t.getRoot()),createdAt:Se(t.getCreatedAt()),movedAt:Se(t.getMovedAt()),removedAt:Se(t.getRemovedAt())})}})}function xm(t){if(t instanceof kt)return aR(t);if(t instanceof Wt)return ZE(t);if(t instanceof dt)return sR(t);if(t instanceof pn)return oR(t);if(t instanceof sn)return lR(t);if(t instanceof yn)return YE(t);throw new G(Z.ErrUnimplemented,"unimplemented element")}function uR(t){return be(qC,{documentKey:t.getDocumentKey(),checkpoint:jI(t.getCheckpoint()),isRemoved:t.getIsRemoved(),changes:qI(t.getChanges()),snapshot:t.getSnapshot(),versionVector:wm(t.getVersionVector())})}function cR(t){return{id:t.id,label:t.label,description:t.description,snapshot:t.snapshot,createdAt:t.createdAt?AT(t.createdAt):new Date}}function $o(t){if(!(t instanceof Pe))return{};const e=t.findDetails(OI);for(const r of e)return r.metadata;return{}}function Ss(t){return $o(t).code??""}function ig(t,e){return t instanceof Pe&&Ss(t)===e}function GE(t){return kn.of(t.clientSeq,BigInt(t.lamport),Dm(t.actorId),Tm(t.versionVector),BigInt(t.serverSeq))}function Tm(t){if(!t)return;const e=new Ts;return Object.entries(t.vector).forEach(([r,a])=>{const o=hf(_R(r));e.set(o,BigInt(a.toString()))}),e}function Ee(t){if(t)return Dn.of(BigInt(t.lamport),t.delimiter,Dm(t.actorId))}function Cm(t){const e={};return Object.entries(t.data).forEach(([r,a])=>{e[r]=JSON.parse(a)}),e}function fR(t){const e=t.type;if(e===gl.PUT){const r=Cm(t.presence);return{type:dr.Put,presence:r}}if(e===gl.CLEAR)return{type:dr.Clear};throw new G(Z.ErrInvalidType,`unsupported type: ${e}`)}function dR(t){const e=new Map;return Object.entries(t).forEach(([r,a])=>{e.set(r,Cm(a))}),e}function kE(t){switch(t){case Ve.NULL:return it.Null;case Ve.BOOLEAN:return it.Boolean;case Ve.INTEGER:return it.Integer;case Ve.LONG:return it.Long;case Ve.DOUBLE:return it.Double;case Ve.STRING:return it.String;case Ve.BYTES:return it.Bytes;case Ve.DATE:return it.Date}throw new G(Z.ErrUnimplemented,`unimplemented value type: ${t}`)}function Kc(t){switch(t){case Ve.INTEGER_CNT:return gr.Int;case Ve.LONG_CNT:return gr.Long}throw new G(Z.ErrUnimplemented,`unimplemented value type: ${t}`)}function yc(t){switch(t.type){case Ve.JSON_OBJECT:return t.value?jE(t.value):kt.create(Ee(t.createdAt));case Ve.JSON_ARRAY:return t.value?CR(t.value):Wt.create(Ee(t.createdAt));case Ve.TEXT:return pn.create(Ys.create(),Ee(t.createdAt));case Ve.TREE:return RR(t.value);case Ve.NULL:case Ve.BOOLEAN:case Ve.INTEGER:case Ve.LONG:case Ve.DOUBLE:case Ve.STRING:case Ve.BYTES:case Ve.DATE:return dt.of(dt.valueFromBytes(kE(t.type),t.value),Ee(t.createdAt));case Ve.INTEGER_CNT:case Ve.LONG_CNT:return sn.create(Kc(t.type),sn.valueFromBytes(Kc(t.type),t.value),Ee(t.createdAt))}}function vc(t){return Pn.of(cr.of(Ee(t.createdAt),t.offset),t.relativeOffset)}function WE(t){return cr.of(Ee(t.createdAt),t.offset)}function hR(t){const e=yl.create(t.value);Object.entries(t.attributes).forEach(([a,o])=>{e.setAttr(a,o.value,Ee(o.updatedAt))});const r=Bi.create(WE(t.id),e);return r.setRemovedAt(Ee(t.removedAt)),r}function ys(t){return Jn.of(rl(t.parentId),rl(t.leftSiblingId))}function rl(t){return Ut.of(Ee(t.createdAt),t.offset)}function gR(t){if(!t.length)return;const e=[];return t.forEach(r=>{const a=Im(r.content);e.push(a)}),e}function Im(t){if(t.length===0)return;const e=[];for(const o of t)e.push(pR(o));const r=e[e.length-1],a=new Map;a.set(t[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)a.get(t[o].depth-1).prepend(e[o]),a.set(t[o].depth,e[o]);return r.updateDescendantsSize(),r.updateDescendantsSize(!0),yn.create(r,Bs).getRoot()}function mR(t){const e=Kr.create();for(const[r,a]of Object.entries(t))e.setInternal(r,a.value,Ee(a.updatedAt),a.isRemoved);return e}function pR(t){const e=rl(t.id),r=mn.create(e,t.type),a=Object.entries(t.attributes);return r.isText?r.value=t.value:a.length&&(r.attrs=mR(t.attributes)),t.insPrevId&&(r.insPrevID=rl(t.insPrevId)),t.insNextId&&(r.insNextID=rl(t.insNextId)),r.removedAt=Ee(t.removedAt),r}function XE(t){if(t.body.case==="set"){const e=t.body.value;return ba.create(e.key,yc(e.value),Ee(e.parentCreatedAt),Ee(e.executedAt))}else if(t.body.case==="add"){const e=t.body.value;return Zi.create(Ee(e.parentCreatedAt),Ee(e.prevCreatedAt),yc(e.value),Ee(e.executedAt))}else if(t.body.case==="move"){const e=t.body.value;return Fn.create(Ee(e.parentCreatedAt),Ee(e.prevCreatedAt),Ee(e.createdAt),Ee(e.executedAt))}else if(t.body.case==="remove"){const e=t.body.value;return hr.create(Ee(e.parentCreatedAt),Ee(e.createdAt),Ee(e.executedAt))}else if(t.body.case==="edit"){const e=t.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),Ml.create(Ee(e.parentCreatedAt),vc(e.from),vc(e.to),e.content,r,Ee(e.executedAt))}else if(t.body.case==="style"){const e=t.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),Bl.create(Ee(e.parentCreatedAt),vc(e.from),vc(e.to),r,Ee(e.executedAt))}else if(t.body.case==="increase"){const e=t.body.value;return Gs.create(Ee(e.parentCreatedAt),yc(e.value),Ee(e.executedAt))}else if(t.body.case==="treeEdit"){const e=t.body.value;return Ll.create(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),gR(e.contents),e.splitLevel,Ee(e.executedAt))}else if(t.body.case==="treeStyle"){const e=t.body.value,r=new Map,a=e.attributesToRemove;return a?.length>0?Xr.createTreeRemoveStyleOperation(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),a,Ee(e.executedAt)):(Object.entries(e.attributes).forEach(([o,u])=>{r.set(o,u)}),Xr.create(Ee(e.parentCreatedAt),ys(e.from),ys(e.to),r,Ee(e.executedAt)))}else if(t.body.case==="arraySet"){const e=t.body.value;return Hr.create(Ee(e.parentCreatedAt),Ee(e.createdAt),yc(e.value),Ee(e.executedAt))}else throw new G(Z.ErrUnimplemented,"unimplemented operation")}function yR(t){const e=[];for(const r of t){const a=XE(r);a&&e.push(a)}return e}function KE(t){const e=[];for(const r of t)e.push(Zs.create({id:GE(r.id),operations:yR(r.operations),presenceChange:r.presenceChange?fR(r.presenceChange):void 0,message:r.message}));return e}function vR(t){return Cs.of(BigInt(t.serverSeq),t.clientSeq)}function bR(t){return df.create(t.documentKey,vR(t.checkpoint),t.isRemoved,KE(t.changes),Tm(t.versionVector),t.snapshot)}function HE(t){const e=new Ls;for(const a of t.nodes){const o=Rm(a.element);e.set(a.key,o,o.getPositionedAt())}const r=new kt(Ee(t.createdAt),e);return r.setMovedAt(Ee(t.movedAt)),r.setRemovedAt(Ee(t.removedAt)),r}function FE(t){const e=new pl;for(const a of t.nodes)e.insert(Rm(a.element));const r=new Wt(Ee(t.createdAt),e);return r.setMovedAt(Ee(t.movedAt)),r.setRemovedAt(Ee(t.removedAt)),r}function SR(t){const e=dt.of(dt.valueFromBytes(kE(t.type),t.value),Ee(t.createdAt));return e.setMovedAt(Ee(t.movedAt)),e.setRemovedAt(Ee(t.removedAt)),e}function AR(t){const e=new Ys;let r=e.getHead();for(const o of t.nodes){const u=e.insertAfter(r,hR(o));o.insPrevId&&u.setInsPrev(e.findNode(WE(o.insPrevId))),r=u}const a=new pn(e,Ee(t.createdAt));return a.setMovedAt(Ee(t.movedAt)),a.setRemovedAt(Ee(t.removedAt)),a}function ER(t){const e=sn.create(Kc(t.type),sn.valueFromBytes(Kc(t.type),t.value),Ee(t.createdAt));return e.setMovedAt(Ee(t.movedAt)),e.setRemovedAt(Ee(t.removedAt)),e}function JE(t){const e=Im(t.nodes);return yn.create(e,Ee(t.createdAt))}function Rm(t){if(t.body.case==="jsonObject")return HE(t.body.value);if(t.body.case==="jsonArray")return FE(t.body.value);if(t.body.case==="primitive")return SR(t.body.value);if(t.body.case==="text")return AR(t.body.value);if(t.body.case==="counter")return ER(t.body.value);if(t.body.case==="tree")return JE(t.body.value);throw new G(Z.ErrUnimplemented,"unimplemented element")}function wR(t){return t.map(e=>({path:e.path,type:e.type}))}function NR(t){if(!t)return{root:kt.create(Bs),presences:new Map};const e=On(QC,t);return{root:Rm(e.root),presences:dR(e.presences)}}function xR(t){const e=wm(t);return hf(Ui(vm,e))}function TR(t){const e=_m(t),r=On(vm,e);return Tm(r)}function jE(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return HE(e.body.value)}function $E(t){return Ui(Vn,xm(t))}function CR(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return FE(e.body.value)}function IR(t){return Ui(Vn,ZE(t))}function RR(t){if(!t)throw new G(Z.ErrInvalidArgument,"bytes is empty");const e=On(Vn,t);return JE(e.body.value)}function DR(t){return Ui(Vn,YE(t))}function hf(t){return t?Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Dm(t){return hf(t)}function _m(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function _R(t){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(t),r=e.length,a=new Uint8Array(r);for(let o=0;o<r;o++)a[o]=e.charCodeAt(o);return a}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(t,"base64"))}else throw new Error("No base64 decoder available")}function gf(t){return _m(t)}function OR(t){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(t).toString("base64");throw new Error("No base64 encoder available")}}function VR(t){const e=On(ym,t);return GE(e)}function MR(t){const e=On(bm,t);return XE(e)}const ot={fromPresence:Cm,toChangePack:uR,fromChangePack:bR,fromChanges:KE,toTreeNodes:Nm,fromTreeNodes:Im,objectToBytes:$E,bytesToObject:jE,bytesToSnapshot:NR,bytesToHex:hf,hexToBytes:_m,toHexString:Dm,toUint8Array:gf,toOperation:Og,toChangeID:_g,bytesToChangeID:VR,bytesToOperation:MR,versionVectorToHex:xR,hexToVersionVector:TR,fromSchemaRules:wR,toRevisionSummary:cR,changeIDToBinary:t=>Ui(ym,_g(t)),operationToBinary:t=>Ui(bm,Og(t))};var tn=(t=>(t[t.Trivial=0]="Trivial",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Fatal=5]="Fatal",t))(tn||{});let ca=3;function BR(t){ca=t}const pe={trivial:(...t)=>{ca>0||typeof console<"u"&&console.log("YORKIE T:",...t)},debug:(...t)=>{ca>1||typeof console<"u"&&console.log("YORKIE D:",...t)},info:(...t)=>{ca>2||typeof console<"u"&&console.log("YORKIE I:",...t)},warn:(...t)=>{ca>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...t):console.log("YORKIE W:",...t))},error:(...t)=>{ca>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...t):console.log("YORKIE E:",...t))},fatal:(...t)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...t):console.log("YORKIE F:",...t))},isEnabled:t=>ca<=t};function PE(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}const ag=()=>{};class LR{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(r){this.error(r)}}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let o;if(!e)throw new G(Z.ErrInvalidArgument,"missing observer");if(this.finalized)throw new G(Z.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:r,complete:a},o.next===void 0&&(o.next=ag),o.error===void 0&&(o.error=ag),o.complete===void 0&&(o.complete=ag);const u=PE(),c=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){pe.warn(d)}return c}unsubscribeOne(e){this.observers=this.observers?.filter(r=>r.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e].observer)}catch(a){pe.error(a)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function QE(t){const e=new LR(t);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class il{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,r,a,o){this.prevID=e,this.nextID=e.next(),this.delimiter=NE,this.root=r,this.operations=[],this.previousPresence=Gn(a),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,r,a,o){return new il(e,r,a,o)}push(e){this.operations.push(e)}registerElement(e,r){this.root.registerElement(e,r)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Zs.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,r){for(const a of Object.keys(e))r?.addToHistory?this.reversePresenceKeys.add(a):this.reversePresenceKeys.delete(a)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const r of this.reversePresenceKeys)e[r]=this.previousPresence[r];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function qE(t,e){const r=new vl(t);return new Proxy(e,r.getHandlers())}class vl{context;handlers;constructor(e){this.context=e,this.handlers={set:(r,a,o)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]=${JSON.stringify(o)}`),vl.setInternal(e,r,a,o),!0),get:(r,a)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]`),a==="getID"?()=>r.getCreatedAt():a==="toJSON"||a==="toString"?()=>r.toJSON():a==="toJS"?()=>r.toJS():a==="toJSForTest"?()=>r.toJSForTest():fa(e,r.get(a))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,a)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`obj[${a}]`),vl.deleteInternal(e,r,a),!0)}}static setInternal(e,r,a,o){if(a.includes("."))throw new G(Z.ErrInvalidObjectKey,"key must not contain the '.'.");const u=e.issueTimeTicket(),c=al(e,o,u),d=r.set(a,c,u);e.registerElement(c,r),d&&e.registerRemovedElement(d),e.push(ba.create(a,c.deepcopy(),r.getCreatedAt(),u))}static buildObjectMembers(e,r){const a={};for(const[o,u]of Object.entries(r)){if(o.includes("."))throw new G(Z.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),d=al(e,u,c);a[o]=d}return a}static deleteInternal(e,r,a){const o=e.issueTimeTicket(),u=r.deleteByKey(a,o);u&&(e.push(hr.create(r.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u))}getHandlers(){return this.handlers}}function zR(t,e){const r=new Je(t,e);return new Proxy(e,r.getHandlers())}function sS(t){return typeof t=="string"||t instanceof String?!isNaN(t):!1}function UR(t){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(t)}class Je{context;handlers;array;constructor(e,r){this.context=e,this.array=r,this.handlers={get:(a,o,u)=>o==="getID"?()=>a.getCreatedAt():o==="getElementByID"?c=>{const d=a.getByID(c);if(!(!d||d.isRemoved()))return Yn(e,d)}:o==="getElementByIndex"?c=>{const d=a.get(c);return Yn(e,d)}:o==="getLast"?()=>Yn(e,a.getLast()):o==="delete"?c=>{const d=Je.deleteInternalByIndex(e,a,c);return Yn(e,d)}:o==="deleteByID"?c=>{const d=Je.deleteInternalByID(e,a,c);return Yn(e,d)}:o==="insertAfter"?(c,d)=>{const m=Je.insertAfterInternal(e,a,c,d);return Yn(e,m)}:o==="insertIntegerAfter"?(c,d)=>{const m=Je.insertIntegerAfterInternal(e,a,c,d);return Yn(e,m)}:o==="insertBefore"?(c,d)=>{const m=Je.insertBeforeInternal(e,a,c,d);return Yn(e,m)}:o==="setValue"?(c,d)=>{const m=Je.setValueInternal(e,a,c,d);return Yn(e,m)}:o==="moveBefore"?(c,d)=>{Je.moveBeforeInternal(e,a,c,d)}:o==="moveAfter"?(c,d)=>{Je.moveAfterInternal(e,a,c,d)}:o==="moveAfterByIndex"?(c,d)=>{Je.moveAfterByIndexInternal(e,a,c,d)}:o==="moveFront"?c=>{Je.moveFrontInternal(e,a,c)}:o==="moveLast"?c=>{Je.moveLastInternal(e,a,c)}:sS(o)?fa(e,a.get(Number(o))):o==="push"?c=>Je.pushInternal(e,a,c):o==="splice"?(c,d,...m)=>Je.splice(e,a,c,d,...m):o==="length"?a.length:typeof o=="symbol"&&o===Symbol.iterator?Je.iteratorInternal.bind(this,e,a):o==="includes"?(c,d)=>Je.includes(e,a,c,d):o==="indexOf"?(c,d)=>Je.indexOf(e,a,c,d):o==="lastIndexOf"?(c,d)=>Je.lastIndexOf(e,a,c,d):o==="toJSForTest"?()=>a.toJSForTest():o==="toTestString"?()=>Je.toTestString(a):typeof o=="string"&&UR(o)?(...c)=>{const d=Array.from(a).map(m=>fa(e,m));return Array.prototype[o].apply(d,c)}:Reflect.get(a,o,u),set:(a,o,u)=>{if(sS(o)){const c=Number(o);return Je.setValueInternal(e,a,c,u),!0}return Reflect.set(a,o,u)},deleteProperty:(a,o)=>(pe.isEnabled(tn.Trivial)&&pe.trivial(`array[${o}]`),Je.deleteInternalByIndex(e,a,Number.parseInt(o)),!0)}}static*iteratorInternal(e,r){for(const a of r)yield Yn(e,a)}static buildArrayElements(e,r){const a=[];for(const o of r){const u=e.issueTimeTicket(),c=al(e,o,u);a.push(c)}return a}static pushInternal(e,r,a){return Je.insertAfterInternal(e,r,r.getLastCreatedAt(),a),r.length}static moveBeforeInternal(e,r,a,o){const u=e.issueTimeTicket(),c=r.getPrevCreatedAt(a);r.moveAfter(c,o,u),e.push(Fn.create(r.getCreatedAt(),c,o,u))}static moveAfterInternal(e,r,a,o){const u=e.issueTimeTicket();e.push(Fn.create(r.getCreatedAt(),a,o,u)),r.moveAfter(a,o,u)}static moveAfterByIndexInternal(e,r,a,o){const u=r.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);const c=r.get(o);if(!c)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${o}`);Je.moveAfterInternal(e,r,u.getCreatedAt(),c.getCreatedAt())}static moveFrontInternal(e,r,a){const o=e.issueTimeTicket(),u=r.getHead();r.moveAfter(u.getCreatedAt(),a,o),e.push(Fn.create(r.getCreatedAt(),u.getCreatedAt(),a,o))}static moveLastInternal(e,r,a){const o=e.issueTimeTicket(),u=r.getLastCreatedAt();r.moveAfter(u,a,o),e.push(Fn.create(r.getCreatedAt(),u,a,o))}static insertAfterInternal(e,r,a,o){const u=e.issueTimeTicket(),c=al(e,o,u);return r.insertAfter(a,c),e.registerElement(c,r),e.push(Zi.create(r.getCreatedAt(),a,c.deepcopy(),u)),c}static insertIntegerAfterInternal(e,r,a,o){const u=r.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);return Je.insertAfterInternal(e,r,u.getCreatedAt(),o),r}static insertBeforeInternal(e,r,a,o){return Je.insertAfterInternal(e,r,r.getPrevCreatedAt(a),o)}static setValueInternal(e,r,a,o){const u=r.get(a);if(!u)throw new G(Z.ErrInvalidArgument,`index out of bounds: ${a}`);return Je.setByIndexInternal(e,r,u.getCreatedAt(),o),r}static setByIndexInternal(e,r,a,o){const u=e.issueTimeTicket(),c=al(e,o,u),d=c.deepcopy();return e.push(Hr.create(r.getCreatedAt(),a,d,u)),r.set(a,c,u),e.registerElement(c,r),c}static deleteInternalByIndex(e,r,a){const o=e.issueTimeTicket(),u=r.deleteByIndex(a,o);if(u)return e.push(hr.create(r.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u),u}static deleteInternalByID(e,r,a){const o=e.issueTimeTicket(),u=r.delete(a,o);return e.push(hr.create(r.getCreatedAt(),u.getCreatedAt(),o)),e.registerRemovedElement(u),u}static splice(e,r,a,o,...u){const c=r.length,d=a>=0?Math.min(a,c):Math.max(c+a,0),m=o===void 0?c:o<0?d:Math.min(d+o,c),h=[];for(let p=d;p<m;p++){const y=Je.deleteInternalByIndex(e,r,d);if(y){const v=y.deepcopy();v.setRemovedAt(),h.push(fa(e,v))}}if(u){let p=d===0?r.getHead().getID():r.get(d-1).getID();for(const y of u)p=Je.insertAfterInternal(e,r,p,y).getID()}return h}static includes(e,r,a,o){const u=r.length,c=o===void 0?0:o<0?Math.max(o+u,0):o;if(c>=u)return!1;if(dt.isSupport(a))return Array.from(r).map(m=>fa(e,m)).includes(a,c);for(let d=c;d<u;d++)if(r.get(d)?.getID()===a.getID())return!0;return!1}static indexOf(e,r,a,o){const u=r.length,c=o===void 0?0:o<0?Math.max(o+u,0):o;if(c>=u)return-1;if(dt.isSupport(a))return Array.from(r).map(m=>fa(e,m)).indexOf(a,c);for(let d=c;d<u;d++)if(r.get(d)?.getID()===a.getID())return d;return-1}static lastIndexOf(e,r,a,o){const u=r.length,c=o===void 0||o>=u?u-1:o<0?o+u:o;if(c<0)return-1;if(dt.isSupport(a))return Array.from(r).map(m=>fa(e,m)).lastIndexOf(a,c);for(let d=c;d>0;d--)if(r.get(d)?.getID()===a.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Om{context;text;constructor(e,r){this.context=e,this.text=r}initialize(e,r){this.context=e,this.text=r}getID(){return this.text.getID()}edit(e,r,a,o){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.text.indexRangeToPosRange(e,r);pe.isEnabled(tn.Debug)&&pe.debug(`EDIT: f:${e}->${u[0].toTestString()}, t:${r}->${u[1].toTestString()} c:${a}`);const c=o?Us(o):void 0,d=this.context.issueTimeTicket(),[,m,h,p]=this.text.edit(u,a,d,c);this.context.acc(h);for(const y of m)this.context.registerGCPair(y);return this.context.push(new Ml(this.text.getCreatedAt(),u[0],u[1],a,c?new Map(Object.entries(c)):new Map,d)),this.text.findIndexesFromRange(p)}delete(e,r){return this.edit(e,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,r,a){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,r);pe.isEnabled(tn.Debug)&&pe.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${r}->${o[1].toTestString()} a:${JSON.stringify(a)}`);const u=Us(a),c=this.context.issueTimeTicket(),[d,m]=this.text.setStyle(o,u,c);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);return this.context.push(new Bl(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(u)),c)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");const r=this.text.indexRangeToPosRange(e[0],e[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");const r=this.text.findIndexesFromRange([Pn.fromStruct(e[0]),Pn.fromStruct(e[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,r){if(!this.context||!this.text)throw new G(Z.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,r)}}class Vm{valueType;value;context;counter;constructor(e,r){this.valueType=e,this.value=r}initialize(e,r){this.valueType=r.getValueType(),this.context=e,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new G(Z.ErrNotInitialized,"Counter is not initialized yet");const r=this.context.issueTimeTicket(),a=dt.of(e,r);if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`);return this.counter.increase(a),this.context.push(Gs.create(this.counter.getCreatedAt(),a,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new G(Z.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Mm(t){if(t.isText)return{type:t.type,value:t.value};const e={type:t.type,children:t.children.map(r=>Mm(r))};return t.attrs&&(e.attributes=Wr(t.attrs.toObject())),e}function ZR(t,e){const r={type:t.isText?t.parent.type:t.type,children:t.isText?t.parent.getChildrenText().length===e?[]:[{type:ur,value:t.parent.getChildrenText().slice(e)}]:t.children.slice(e).map(a=>Mm(a))};return t.attrs?r.attributes=Wr(t.attrs.toObject()):t.isText&&t.parent.attrs&&(r.attributes=Wr(t.parent.attrs.toObject())),r}function YR(t,e){const{node:r}=t,a=[...e].slice(0,-1),o=r.isText?r.parent.getChildrenText().length:r.children.length,u=[...a,o],c=[...a],d=[];c[c.length-1]+=1,e.every((h,p)=>h===u[p])||d.push({fromPath:[...e],toPath:u});const m=ZR(r,e[e.length-1]);return m&&d.push({fromPath:c,toPath:c,content:m}),d}function GR(t,e){const{node:r,offset:a}=t,o=r.children[a],u=r.children[a-1],{children:c}=o,d=[...e].slice(0,-1),m=[{fromPath:[...e],toPath:[...d,a+1]}];if(!o.children.length)return m;const h=[...d,a-1,u.hasTextChild()?u.getChildrenText().length:u.children.length],p=c.map(y=>Mm(y));return m.push({fromPath:h,toPath:h,content:p}),m}function Bm(t,e,r){const{type:a}=t,o=r.issueTimeTicket();if(a===ur){e1(t);const{value:u}=t,c=mn.create(Ut.of(o,0),a,u);e.append(c)}else{const{children:u=[]}=t,{attributes:c}=t;let d;if(typeof c=="object"&&!DE(c)){const h=Us(c);d=new Kr;for(const[p,y]of Object.entries(h))d.set(p,y,o)}const m=mn.create(Ut.of(o,0),a,void 0,d);e.append(m);for(const h of u)Bm(h,m,r)}}function kR(t,e){const{type:r}=e,a=t.issueTimeTicket();let o;if(e.type===ur){const{value:u}=e;o=mn.create(Ut.of(a,0),r,u)}else if(e){const{children:u=[]}=e,{attributes:c}=e;let d;if(typeof c=="object"&&!DE(c)){const m=Us(c);d=new Kr;for(const[h,p]of Object.entries(m))d.set(h,p,a)}o=mn.create(Ut.of(t.issueTimeTicket(),0),r,void 0,d);for(const m of u)Bm(m,o,t)}return o}function e1(t){if(!t.value.length)throw new G(Z.ErrInvalidArgument,"text node cannot have empty value");return!0}function oS(t){if(!t.length)return!0;if(t[0].type===ur)for(const r of t){const{type:a}=r;if(a!==ur)throw new G(Z.ErrInvalidArgument,"element node and text node cannot be passed together");e1(r)}else for(const r of t){const{type:a}=r;if(a===ur)throw new G(Z.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Lm{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,r){this.context=e,this.tree=r}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return mn.create(Ut.of(e.issueTimeTicket(),0),LI);const r=mn.create(Ut.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const a of this.initialRoot.children)Bm(a,r,e);return r}getSize(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e),a=YR(r,e);for(const o of a){const{fromPath:u,toPath:c,content:d}=o,m=this.tree.pathToPos(u),h=this.tree.pathToPos(c);this.editInternal(m,h,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e);if(r.node.isText)throw new G(Z.ErrInvalidArgument,"text node cannot be merged");const a=GR(r,e);for(const o of a){const{fromPath:u,toPath:c,content:d}=o,m=this.tree.pathToPos(u),h=this.tree.pathToPos(c);this.editInternal(m,h,d??[],0)}}styleByPath(e,r){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const[a,o]=this.tree.pathToPosRange(e),u=this.context.issueTimeTicket(),c=r?Us(r):void 0,[d,,m]=this.tree.style([a,o],c,u);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);this.context.push(Xr.create(this.tree.getCreatedAt(),a,o,c?new Map(Object.entries(c)):new Map,u))}style(e,r,a){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),u=this.tree.findPos(r),c=this.context.issueTimeTicket(),d=a?Us(a):void 0,[m,,h]=this.tree.style([o,u],d,c);this.context.acc(h);for(const p of m)this.context.registerGCPair(p);this.context.push(Xr.create(this.tree.getCreatedAt(),o,u,d?new Map(Object.entries(d)):new Map,c))}removeStyle(e,r,a){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),u=this.tree.findPos(r),c=this.context.issueTimeTicket(),[d,,m]=this.tree.removeStyle([o,u],a,c);this.context.acc(m);for(const h of d)this.context.registerGCPair(h);this.context.push(Xr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,u,a,c))}editInternal(e,r,a,o=0){if(a.length!==0&&a[0]&&(oS(a),a[0].type!==ur))for(const h of a){const{children:p=[]}=h;oS(p)}const u=this.context.getLastTimeTicket();let c=new Array;if(a[0]?.type===ur){let h="";for(const p of a){const{value:y}=p;h+=y}c.push(mn.create(Ut.of(this.context.issueTimeTicket(),0),ur,h))}else c=a.map(h=>h&&kR(this.context,h)).filter(h=>h);const[,d,m]=this.tree.edit([e,r],c.length?c.map(h=>h?.deepcopy()):void 0,o,u,()=>this.context.issueTimeTicket());this.context.acc(m);for(const h of d)this.context.registerGCPair(h);return this.context.push(Ll.create(this.tree.getCreatedAt(),e,r,c.length?c:void 0,o,u)),!0}editByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new G(Z.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(e),c=this.tree.pathToPos(r);return this.editInternal(u,c,a?[a]:[],o)}editBulkByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new G(Z.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new G(Z.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(e),c=this.tree.pathToPos(r);return this.editInternal(u,c,a,o)}edit(e,r,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(r);return this.editInternal(u,c,a?[a]:[],o)}editBulk(e,r,a,o=0){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new G(Z.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(r);return this.editInternal(u,c,a,o)}toXML(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const r=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],a=this.tree.indexRangeToPosRange(r);return[a[0].toStruct(),a[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const r=[Jn.fromStruct(e[0]),Jn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new G(Z.ErrNotInitialized,"Tree is not initialized yet");const r=[Jn.fromStruct(e[0]),Jn.fromStruct(e[1])];return this.tree.posRangeToPathRange(r)}}function lS(t,e){return qE(t,e)}function Yn(t,e){if(e){if(e instanceof dt)return e;if(e instanceof kt)return qE(t,e);if(e instanceof Wt)return zR(t,e);if(e instanceof pn)return new Om(t,e);if(e instanceof sn){const r=new Vm(gr.Int,0);return r.initialize(t,e),r}else if(e instanceof yn){const r=new Lm;return r.initialize(t,e),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function fa(t,e){const r=Yn(t,e);return r instanceof dt?r.getValue():r}function al(t,e,r){let a;if(dt.isSupport(e))a=dt.of(e,r);else if(Array.isArray(e))a=Wt.create(r,Je.buildArrayElements(t,e));else if(typeof e=="object")e instanceof Om?(a=pn.create(Ys.create(),r),e.initialize(t,a)):e instanceof Vm?(a=sn.create(e.getValueType(),e.getValue(),r),e.initialize(t,a)):e instanceof Lm?(a=yn.create(e.buildRoot(t),r),e.initialize(t,a)):a=kt.create(r,vl.buildObjectMembers(t,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return a}class bl{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(r=>{if(r.getRemovedAt()&&this.registerRemovedElement(r),r instanceof pn||r instanceof yn)for(const a of r.getGCPairs())this.registerGCPair(a);return!1})}static create(){return new bl(kt.create(Bs))}findByCreatedAt(e){const r=this.elementPairMapByCreatedAt.get(e.toIDString());if(r)return r.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let r=this.elementPairMapByCreatedAt.get(e.toIDString());if(!r)return[];const a=[];for(;r.parent;){const o=r.element.getCreatedAt(),u=r.parent.subPathOf(o);if(u===void 0)throw new G(Z.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);a.unshift(u),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return a.unshift("$"),a}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,r){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:r,element:e}),zt(this.docSize.live,e.getDataSize()),e instanceof Mi&&e.getDescendants((a,o)=>(this.elementPairMapByCreatedAt.set(a.getCreatedAt().toIDString(),{parent:o,element:a}),zt(this.docSize.live,a.getDataSize()),!1))}deregisterElement(e){let r=0;const a=o=>{const u=o.getCreatedAt().toIDString();ga(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(u),this.gcElementSetByCreatedAt.delete(u),r++};return a(e),e instanceof Mi&&e.getDescendants(o=>(a(o),!1)),r}registerRemovedElement(e){zt(this.docSize.gc,e.getDataSize()),ga(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=lr,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const a=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();zt(this.docSize.gc,a),ga(this.docSize.live,a),e.child instanceof Vi||(this.docSize.live.meta+=lr)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const r of this.gcElementSetByCreatedAt){e.add(r);const a=this.elementPairMapByCreatedAt.get(r);a.element instanceof Mi&&a.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new bl(this.rootObject.deepcopy())}garbageCollect(e){let r=0;for(const a of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(a),u=o.element.getRemovedAt();u&&e?.afterOrEqual(u)&&(o.parent.purge(o.element),r+=this.deregisterElement(o.element))}for(const[,a]of this.gcPairMap){const o=a.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(a.parent.purge(a.child),ga(this.docSize.gc,a.child.getDataSize()),this.gcPairMap.delete(a.child.toIDString()),r+=1)}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){zt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(e);r&&(yield r)}}}let uS=class{context;presence;constructor(e,r){this.context=e,this.presence=r}set(e,r){for(const a of Object.keys(e))this.presence[a]=e[a];this.context.setPresenceChange({type:dr.Put,presence:Gn(this.presence)}),this.context.setReversePresence(e,r)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:dr.Clear})}};const cS=50;class WR{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=cS&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=cS&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,r){const a=o=>{for(const u of o)for(const c of u)(c instanceof Hr||c instanceof hr||c instanceof Fn)&&c.getCreatedAt()===e&&c.setCreatedAt(r),(c instanceof Zi||c instanceof Fn)&&c.getPrevCreatedAt()===e&&c.setPrevCreatedAt(r)};a(this.undoStack),a(this.redoStack)}}function XR(t,e){const r=[];for(const a of e){const o=KR(t,a.path),u=HR(o,a);if(!u.valid)for(const c of u.errors||[])r.push(c)}return{valid:r.length===0,errors:r}}function KR(t,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const r=e.split(".");let a=t;for(let o=1;o<r.length;o++){const u=r[o];if(!(a instanceof kt))return;a=a.get(u)}return a}function HR(t,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return JR(t,e);case"object":if(!(t instanceof kt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(t instanceof Wt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(t instanceof pn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(t instanceof yn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(t instanceof sn))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function FR(t){switch(t){case"null":return it.Null;case"boolean":return it.Boolean;case"integer":return it.Integer;case"long":return it.Long;case"double":return it.Double;case"string":return it.String;case"bytes":return it.Bytes;case"date":return it.Date;default:throw new Error(`Unknown primitive type: ${t}`)}}function JR(t,e){return t instanceof dt&&t.getType()===FR(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const jR="yorkie-devtools-panel",$R="yorkie-devtools-sdk";function PR(t){return[Dt.StatusChanged,Dt.Snapshot,Dt.LocalChange,Dt.RemoteChange,Dt.Initialized,Dt.Watched,Dt.Unwatched,Dt.PresenceChanged].includes(t.type)}function QR(t){return t.every(PR)}let As="disconnected";const fS=new Map,_c=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=_c);function bc(t,e){(e?.force||As!=="disconnected")&&window.postMessage({source:$R,...t},"*")}function qR(t){if(!t.isEnableDevtools()||typeof window>"u"||fS.has(t.getKey()))return;_c.set(t.getKey(),[]);const e=t.subscribe("all",r=>{QR(r)&&(_c.get(t.getKey()).push(r),As==="synced"&&bc({msg:"doc::sync::partial",docKey:t.getKey(),event:r}))});fS.set(t.getKey(),[e]),bc({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{if(r.data?.source!==jR)return;switch(r.data.msg){case"devtools::connect":if(As!=="disconnected")break;As="connected",bc({msg:"doc::available",docKey:t.getKey()}),pe.info(`[YD] Devtools connected. Doc: ${t.getKey()}`);break;case"devtools::disconnect":As="disconnected",pe.info(`[YD] Devtools disconnected. Doc: ${t.getKey()}`);break;case"devtools::subscribe":As="synced",bc({msg:"doc::sync::full",docKey:t.getKey(),events:_c.get(t.getKey())}),pe.info(`[YD] Devtools subscribed. Doc: ${t.getKey()}`);break}})}var Ri=(t=>(t.Detached="detached",t.Attached="attached",t.Removed="removed",t))(Ri||{}),Dt=(t=>(t.StatusChanged="status-changed",t.ConnectionChanged="connection-changed",t.SyncStatusChanged="sync-status-changed",t.Snapshot="snapshot",t.LocalChange="local-change",t.RemoteChange="remote-change",t.Initialized="initialized",t.Watched="watched",t.Unwatched="unwatched",t.PresenceChanged="presence-changed",t.AuthError="auth-error",t))(Dt||{}),sl=(t=>(t.Connected="connected",t.Disconnected="disconnected",t))(sl||{}),Vg=(t=>(t.Synced="synced",t.SyncFailed="sync-failed",t))(Vg||{});class _i{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,r){this.key=e,this.status="detached",this.opts=r||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=XI,this.checkpoint=KI,this.localChanges=[],this.root=bl.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new WR,this.isUpdating=!1,this.eventStream=QE(a=>this.eventStreamObserver=a),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},qR(this)}update(e,r){if(this.getStatus()==="removed")throw new G(Z.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const a=this.changeID.getActorID(),o=il.create(this.changeID,this.clone.root,this.clone.presences.get(a)||{},r);try{const d=lS(o,this.clone.root.getObject());this.presences.has(a)||this.clone.presences.set(a,{}),this.isUpdating=!0,e(d,new uS(o,this.clone.presences.get(a)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const u=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&u.length){const d=XR(this.clone?.root.getObject(),u);if(!d.valid)throw this.clone=void 0,new G(Z.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(m=>m.message).join(", ")}`)}const c=MI(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<c)throw this.clone=void 0,new G(Z.ErrDocumentSizeExceedsLimit,`document size exceeded: ${c} > ${this.maxSizeLimit}`);if(o.hasChange()){pe.isEnabled(tn.Trivial)&&pe.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:m,reverseOps:h}=d.execute(this.root,this.presences,ut.Local);for(const v of d.getOperations())v instanceof Hr&&this.internalHistory.reconcileCreatedAt(v.getCreatedAt(),v.getValue().getCreatedAt());const p=o.getReversePresence();p&&h.push({type:"presence",value:p}),this.localChanges.push(d),h.length&&this.internalHistory.pushUndo(h),m.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const y=[];m.length&&y.push({type:"local-change",source:ut.Local,value:{message:d.getMessage()||"",operations:m,actor:a,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&y.push({type:"presence-changed",source:ut.Local,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(y),pe.isEnabled(tn.Trivial)&&pe.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,r,a,o){if(typeof e=="string"){if(typeof r!="function")throw new G(Z.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="initialized"&&h.type!=="watched"&&h.type!=="unwatched"&&h.type!=="presence-changed"||d(h)},a,o)}if(e==="my-presence"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="initialized"&&h.type!=="presence-changed"||h.type==="presence-changed"&&h.value.clientID!==this.changeID.getActorID()||d(h)},a,o)}if(e==="others"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="watched"&&h.type!=="unwatched"&&h.type!=="presence-changed"||h.value.clientID!==this.changeID.getActorID()&&d(h)},a,o)}if(e==="connection"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="connection-changed"&&d(h)},a,o)}if(e==="status"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="status-changed"&&d(h)},a,o)}if(e==="sync"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="sync-status-changed"&&d(h)},a,o)}if(e==="auth-error"){const d=r;return this.eventStream.subscribe(m=>{for(const h of m)h.type==="auth-error"&&d(h)},a)}if(e==="all"){const d=r;return this.eventStream.subscribe(d,a,o)}const u=e,c=r;return this.eventStream.subscribe(d=>{for(const m of d){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const h=[];for(const p of m.value.operations)this.isSameElementOrChildOf(p.path,u)&&h.push(p);h.length&&c({...m,value:{...m.value,operations:h}})}},a,o)}if(typeof e=="function"){const u=e,c=r,d=a;return this.eventStream.subscribe(m=>{for(const h of m)h.type!=="snapshot"&&h.type!=="local-change"&&h.type!=="remote-change"||u(h)},c,d)}throw new G(Z.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),ut.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),pe.isEnabled(tn.Trivial)&&pe.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Gn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(e.length);return df.create(this.key,r,!1,e,this.getVersionVector())}setActor(e){for(const r of this.localChanges)r.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=il.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return lS(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,r,a,o=-1){const{root:u,presences:c}=ot.bytesToSnapshot(a);this.root=new bl(u),this.presences=c,this.changeID=this.changeID.setClocks(r.maxLamport(),r),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,ut.Local),this.publish([{type:"snapshot",source:ut.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?ot.bytesToHex(a):void 0,snapshotVector:ot.versionVectorToHex(r)}}])}applyChanges(e,r){pe.isEnabled(tn.Debug)&&pe.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),pe.isEnabled(tn.Trivial)&&pe.trivial(e.map(a=>`${a.getID().toTestString()}	${a.toTestString()}`).join(`
`));for(const a of e)this.applyChange(a,r);pe.isEnabled(tn.Debug)&&pe.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,r){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,r);const a=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const c=e.getPresenceChange();switch(c.type){case dr.Put:a.push(this.presences.has(o)?{type:"presence-changed",source:r,value:{clientID:o,presence:c.presence}}:{type:"watched",source:ut.Remote,value:{clientID:o,presence:c.presence}});break;case dr.Clear:a.push({type:"unwatched",source:ut.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:u}=e.execute(this.root,this.presences,r);if(this.changeID=this.changeID.syncClocks(e.getID()),u.length){const c=this.isEnableDevtools()?e.toStruct():void 0;a.push(r===ut.Remote?{type:"remote-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:c}:{type:"local-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:u},rawChange:c})}a.length&&this.publish(a)}applyWatchStream(e){if(e.body.case==="initialization"){const r=e.body.value.clientIds,a=new Set;for(const o of r)o!==this.changeID.getActorID()&&a.add(o);this.setOnlineClients(a),this.publish([{type:"initialized",source:ut.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:r,publisher:a}=e.body.value,o=[];if(r===Gc.DOCUMENT_WATCHED){if(this.onlineClients.has(a)&&this.hasPresence(a))return;this.addOnlineClient(a),this.hasPresence(a)&&o.push({type:"watched",source:ut.Remote,value:{clientID:a,presence:this.getPresence(a)}})}else if(r===Gc.DOCUMENT_UNWATCHED){const u=this.getPresence(a);this.removeOnlineClient(a),u&&o.push({type:"unwatched",source:ut.Remote,value:{clientID:a,presence:u}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(Sm),this.publish([{source:e==="removed"?ut.Remote:ut.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const r of e){if(r.type==="status-changed"){this.applyStatus(r.value.status),r.value.status==="attached"&&this.setActor(r.value.actorID);continue}if(r.type==="snapshot"){const{snapshot:a,serverSeq:o,snapshotVector:u}=r.value;if(!a)continue;this.applySnapshot(BigInt(o),ot.hexToVersionVector(u),ot.hexToBytes(a));continue}if(r.type==="local-change"||r.type==="remote-change"){if(!r.rawChange)continue;const a=Zs.fromStruct(r.rawChange);this.applyChange(a,r.source)}if(r.type==="initialized"){const a=new Set;for(const{clientID:o,presence:u}of r.value)a.add(o),this.presences.set(o,u);this.setOnlineClients(a)}else if(r.type==="watched"){const{clientID:a,presence:o}=r.value;this.addOnlineClient(a),this.presences.set(a,o)}else if(r.type==="unwatched"){const{clientID:a}=r.value;this.removeOnlineClient(a),this.presences.delete(a)}else if(r.type==="presence-changed"){const{clientID:a,presence:o}=r.value;this.presences.set(a,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new G(Z.ErrInvalidArgument,'path must start with "$"');const r=e.split(".");r.shift();let a=this.getRoot();for(const o of r)if(a=a[o],!a)return;return a}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Gn(e):{}}getOthersPresences(){const e=[],r=this.changeID.getActorID();for(const a of this.onlineClients)a!==r&&this.presences.has(a)&&e.push({clientID:a,presence:Gn(this.presences.get(a))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const r=this.presences.get(e);return r?Gn(r):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Gn(this.getMyPresence())});for(const r of this.onlineClients)this.presences.has(r)&&e.push({clientID:r,presence:Gn(this.presences.get(r))});return e}getPresenceForTest(e){const r=this.presences.get(e);return r?Gn(r):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==e).sort((r,a)=>r.clientID>a.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,r){if(r===e)return!0;const a=e.split(".");return r.split(".").every((o,u)=>o===a[u])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new G(Z.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const r=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!r)throw new G(Z.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const a=il.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const p of r){if(!(p instanceof Qn)){new uS(a,Gn(this.clone.presences.get(this.changeID.getActorID()))).set(p.value,{addToHistory:!0});continue}const y=a.issueTimeTicket();if(p.setExecutedAt(y),p instanceof Hr){const v=p.getCreatedAt();p.getValue().setCreatedAt(y),this.internalHistory.reconcileCreatedAt(v,y)}else if(p instanceof Zi){const v=p.getValue().getCreatedAt();p.getValue().setCreatedAt(y),this.internalHistory.reconcileCreatedAt(v,y)}a.push(p)}const o=a.toChange();o.execute(this.clone.root,this.clone.presences,ut.UndoRedo);const{opInfos:u,reverseOps:c}=o.execute(this.root,this.presences,ut.UndoRedo),d=a.getReversePresence();if(d&&c.push({type:"presence",value:d}),c.length&&(e?this.internalHistory.pushRedo(c):this.internalHistory.pushUndo(c)),!o.hasPresenceChange()&&!u.length)return;this.localChanges.push(o),this.changeID=a.getNextID();const m=this.changeID.getActorID(),h=[];u.length&&h.push({type:"local-change",source:ut.UndoRedo,value:{message:o.getMessage()||"",operations:u,actor:m,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&h.push({type:"presence-changed",source:ut.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(h)}}class dS{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,r,a,o){this.reconnectStreamDelay=e,this.resource=r,this.resourceID=a,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Qo.RealtimeSyncOff?!1:this.syncMode===Qo.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Qo.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof _i?this.needRealtimeSync():this.syncMode===Qo.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay))})}catch{}};await r()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function e3(t,e){let r=e;return{authInterceptor:u=>async c=>(t&&c.header.set("x-api-key",t),r&&c.header.set("authorization",r),await u(c)),setToken:u=>{r=u}}}const t3="@yorkie-js/sdk",n3="0.6.41-rc2",hS={name:t3,version:n3};function r3(t){return e=>async r=>(t?r.header.set("x-yorkie-user-agent",t):r.header.set("x-yorkie-user-agent",hS.name+"/"+hS.version),await e(r))}const i3=t=>{try{if(JSON.stringify(t)===void 0)return!1}catch{return!1}return!0};var Po=(t=>(t.Detached="detached",t.Attached="attached",t.Removed="removed",t))(Po||{}),ws=(t=>(t.PresenceChanged="presence-changed",t.Initialized="initialized",t.Broadcast="broadcast",t.LocalBroadcast="local-broadcast",t.AuthError="auth-error",t))(ws||{});const Fo=".";class Di{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=QE(r=>this.eventStreamObserver=r)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Fo)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,r){return r===0||r>this.seq?(this.count=e,this.seq=r,!0):!1}hasLocalChanges(){return!1}subscribe(e,r){if(typeof e=="function")return this.eventStream.subscribe(e);const a=e,o=r;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(a==="broadcast")return this.eventStream.subscribe(c=>{c.type==="broadcast"&&o(c)});if(a==="local-broadcast")return this.eventStream.subscribe(c=>{c.type==="local-broadcast"&&o(c)});if(a==="auth-error")return this.eventStream.subscribe(c=>{c.type==="auth-error"&&o(c)});if(a==="presence")return this.eventStream.subscribe(c=>{(c.type==="presence-changed"||c.type==="initialized")&&o(c)});if(a==="all")return this.eventStream.subscribe(o);const u=a;return this.eventStream.subscribe(c=>{c.type==="broadcast"&&c.topic===u&&o(c)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,r,a){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:r,options:a})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Fo))throw new Error("channel key must not start with a period");if(e.endsWith(Fo))throw new Error("channel key must not end with a period");if(e.includes(`${Fo}${Fo}`))throw new Error("channel key path must not empty")}}var Qo=(t=>(t.Manual="manual",t.Realtime="realtime",t.RealtimePushOnly="realtime-pushonly",t.RealtimeSyncOff="realtime-syncoff",t))(Qo||{});const vs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},sg={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class t1{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||vs;const r=e.rpcAddr||vs.rpcAddr;this.key=e.key||PE(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??vs.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??vs.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??vs.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??vs.channelHeartbeatInterval;const{authInterceptor:a,setToken:o}=e3(this.apiKey);this.setAuthToken=o,this.rpcClient=TC(DI,PC({baseUrl:r,interceptors:[a,r3(e?.userAgent)],fetch:(u,c)=>fetch(u,{...c,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),pe.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw pe.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const r=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),pe.info(`[DC] c"${this.getKey()}" deactivated`)}catch(a){throw pe.error(`[DC] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(e.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}has(e){return this.attachmentMap.has(e)}attach(e,r){return e instanceof Di?this.attachChannel(e,r):this.attachDocument(e,r)}attachDocument(e,r={}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Ri.Detached)throw new G(Z.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,u)=>u.set(r.initialPresence||{}));const a=r.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:ot.toChangePack(e.createChangePack()),schemaKey:r.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(ot.fromSchemaRules(o.schemaRules));const c=ot.fromChangePack(o.changePack);if(e.applyChangePack(c),e.getStatus()===Ri.Removed)return e;e.applyStatus(Ri.Attached),this.attachmentMap.set(e.getKey(),new dS(this.reconnectStreamDelay,e,o.documentId,a)),a!=="manual"&&await this.runWatchLoop(e.getKey()),pe.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(r.initialRoot){const m=r.initialRoot;e.update(h=>{for(const[p,y]of Object.entries(m))if(!d.has(p)){const v=p;h[v]=y}})}return e}catch(o){throw pe.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,r){return e instanceof Di?this.detachChannel(e):this.detachDocument(e,r)}detachDocument(e,r={keepalive:!1}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);e.update((u,c)=>c.clear());const o=async()=>{try{const u=await this.rpcClient.detachDocument({clientId:this.id,documentId:a.resourceID,changePack:ot.toChangePack(e.createChangePack()),removeIfNotAttached:r.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=ot.fromChangePack(u.changePack);return e.applyChangePack(c),e.getStatus()!==Ri.Removed&&e.applyStatus(Ri.Detached),this.detachInternal(e.getKey()),pe.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(u){throw pe.error(`[DD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};if(r.keepalive){this.keepalive=!0;const u=o();return this.keepalive=!1,u}return this.enqueueTask(o)}async attachChannel(e,r={}){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Po.Detached)throw new G(Z.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const a=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Po.Attached);const u=r.isRealtime!==!1?"realtime":"manual",c=new dS(this.reconnectStreamDelay,e,o.sessionId,u);return e.subscribe("local-broadcast",d=>{const{topic:m,payload:h,options:p}=d;this.broadcast(e.getKey(),m,h,p).catch(y=>{p?.error&&p.error(y),pe.error(`[BC] c:"${this.getKey()}" failed: ${y}`)})}),this.attachmentMap.set(e.getKey(),c),u==="realtime"&&await this.runWatchLoop(e.getKey()),pe.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${u} count:${e.getPresenceCount()}`),e}catch(o){throw pe.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(a)}async detachChannel(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const r=async()=>{try{const a=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(a.count),0),e.applyStatus(Po.Detached),this.detachInternal(e.getKey()),pe.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(a){throw pe.error(`[DP] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};return this.enqueueTask(r)}async changeSyncMode(e,r){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=a.syncMode;return o===r?e:(a.changeSyncMode(r),r==="manual"?(a.cancelWatchStream(),e):(r==="realtime"&&(a.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof Di){const r=this.attachmentMap.get(e.getKey());if(!r)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r).catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}if(e instanceof _i){const r=this.attachmentMap.get(e.getKey());if(!r)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r,"realtime").catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}return this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.syncMode!==void 0&&a.resource instanceof _i&&r.push(this.syncInternal(a,a.syncMode));return Promise.all(r).catch(async a=>{throw pe.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a})})}remove(e){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const a=ot.toChangePack(e.createChangePack());return a.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:r.resourceID,changePack:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),u=ot.fromChangePack(o.changePack);e.applyChangePack(u),this.detachInternal(e.getKey()),pe.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw pe.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,r,a){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const u=async()=>{try{const c=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:r,description:a||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new G(Z.ErrInvalidArgument,"revision is not returned");return pe.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${r}"`),ot.toRevisionSummary(c.revision)}catch(c){throw pe.error(`[CR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(u)}async listRevisions(e,r){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const u=await this.rpcClient.listRevisions({clientId:this.id,documentId:a.resourceID,pageSize:r?.pageSize||10,offset:r?.offset||0,isForward:r?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return pe.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${u.revisions.length}`),u.revisions.map(ot.toRevisionSummary)}catch(u){throw pe.error(`[LR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async getRevision(e,r){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const u=await this.rpcClient.getRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!u.revision)throw new G(Z.ErrInvalidArgument,"revision is not returned");return pe.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${r}"`),ot.toRevisionSummary(u.revision)}catch(u){throw pe.error(`[GR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async restoreRevision(e,r){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new G(Z.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),pe.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${r}"`)}catch(u){throw pe.error(`[RR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async broadcast(e,r,a,o){if(!this.isActive())throw new G(Z.ErrClientNotActivated,`${this.key} is not active`);const u=this.attachmentMap.get(e);if(!u)throw new G(Z.ErrNotAttached,`${e} is not attached`);if(!i3(a))throw new G(Z.ErrInvalidArgument,"payload is not serializable");const c=u.resource,d=o?.maxRetries??sg.maxRetries,m=sg.maxBackoff;let h=0;const p=v=>Math.min(sg.initialRetryInterval*2**v,m),y=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:r,payload:new TextEncoder().encode(JSON.stringify(a))},{headers:{"x-shard-key":`${this.apiKey}/${c.getFirstKeyPath()}`}}),pe.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${r}"`)}catch(v){if(pe.error(`[BC] c:"${this.getKey()}" err:`,v),await this.handleConnectError(v))if(ig(v,Z.ErrUnauthenticated)&&u.resource instanceof Di&&u.resource.publish({type:ws.AuthError,reason:$o(v).reason||"unauthenticated",method:"Broadcast"}),h<d)h++,setTimeout(()=>y(),p(h-1)),pe.info(`[BC] c:"${this.getKey()}" retry attempt ${h}/${d}`);else throw pe.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),v}});return y()}runSyncLoop(){const e=async()=>{if(!this.isActive()){pe.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.needSync(this.channelHeartbeatInterval)&&(a.changeEventReceived!==void 0&&(a.changeEventReceived=!1),r.push(this.syncInternal(a,a.syncMode).catch(o=>{throw ig(o,Z.ErrUnauthenticated)&&a.resource.publish([{type:Dt.AuthError,value:{reason:$o(o).reason,method:"PushPull"}}]),o})));await Promise.all(r),setTimeout(e,this.syncLoopDuration)})}catch(r){pe.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};pe.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const r=this.attachmentMap.get(e);if(!r)throw new G(Z.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,r.runWatchLoop(a=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new G(Z.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new G(Z.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return r.resource instanceof _i?this.createDocumentWatchStream(r,e,o,a):r.resource instanceof Di?this.createChannelWatchStream(r,e,o,a):Promise.reject(new G(Z.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,r,a,o){const u=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${r}`},signal:a.signal});return e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Connected}]),pe.info(`[WD] c:"${this.getKey()}" watches d:"${r}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((c,d)=>{(async()=>{try{for await(const h of u)this.handleWatchDocumentResponse(e,h),h.body.case==="initialization"&&c([u,a]);e.resource.resetOnlineClients(),e.resource.publish([{type:Dt.Initialized,source:ut.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Disconnected}]),pe.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(h){e.resource.resetOnlineClients(),e.resource.publish([{type:Dt.Initialized,source:ut.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:Dt.ConnectionChanged,value:sl.Disconnected}]),pe.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(h)?(ig(h,Z.ErrUnauthenticated)&&e.resource.publish([{type:Dt.AuthError,value:{reason:$o(h).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,d(h)}})()})}createChannelWatchStream(e,r,a,o){const u=this.rpcClient.watchChannel({clientId:this.id,channelKey:r},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:a.signal});return pe.info(`[WP] c:"${this.getKey()}" watches p:"${r}"`),new Promise((c,d)=>{(async()=>{try{let h=!0;for await(const p of u)this.handleWatchChannelResponse(e,p),h&&(h=!1,c([u,a]));pe.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream ended`),o()}catch(h){if(h instanceof Error&&h.name==="AbortError"){pe.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream aborted`);return}pe.debug(`[WP] c:"${this.getKey()}" p:"${r}" err:`,h),await this.handleConnectError(h)?o():this.conditions.WatchLoop=!1,d(h)}})()})}handleWatchChannelResponse(e,r){const a=e.resource;if(r.body.case==="initialized"){const{count:o,seq:u}=r.body.value;a.updateCount(Number(o),Number(u))&&a.publish({type:ws.Initialized,count:Number(o)})}else if(r.body.case==="event"){const o=r.body.value;if(o.type===wE.BROADCAST){const u=new TextDecoder;try{const c=JSON.parse(u.decode(o.payload));a.publish({type:ws.Broadcast,clientID:o.publisher,topic:o.topic,payload:c})}catch(c){pe.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,c)}return}a.updateCount(Number(o.count),Number(o.seq))&&a.publish({type:ws.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,r){if(r.body.case==="event"&&r.body.value.type===Gc.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(r)}deactivateInternal(){this.status="deactivated";for(const[e,r]of this.attachmentMap)this.detachInternal(e),r.resource instanceof _i?r.resource.applyStatus(Ri.Detached):r.resource instanceof Di&&r.resource.applyStatus(Po.Detached)}detachInternal(e){const r=this.attachmentMap.get(e);r&&(r.cancelWatchStream(),r.resource instanceof _i&&r.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,r){const{resource:a}=e;if(a instanceof Di){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:a.getKey(),sessionId:a.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${a.getFirstKeyPath()}`}});a.updateCount(Number(d.count),0),e.updateHeartbeatTime(),pe.debug(`[RP] c:"${this.getKey()}" refreshes p:"${a.getKey()}" mode:${e.syncMode}`)}catch(d){throw pe.error(`[RP] c:"${this.getKey()}" err :`,d),d}return a}const o=a,{resourceID:u}=e,c=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:u,changePack:ot.toChangePack(c),pushOnly:r==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),m=ot.fromChangePack(d.changePack);if(m.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(m),e.resource.publish([{type:Dt.SyncStatusChanged,value:Vg.Synced}]),o.getStatus()===Ri.Removed&&this.detachInternal(o.getKey());const h=o.getKey(),p=m.getChangeSize();return pe.info(`[PP] c:"${this.getKey()}" sync d:"${h}", push:${c.getChangeSize()} pull:${p} cp:${m.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:Dt.SyncStatusChanged,value:Vg.SyncFailed}]),pe.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof Pe))return!1;if(e.code===Be.Canceled||e.code===Be.Unknown||e.code===Be.ResourceExhausted||e.code===Be.Unavailable)return!0;if(Ss(e)===Z.ErrUnauthenticated){if(this.authTokenInjector){const r=await this.authTokenInjector($o(e).reason);this.setAuthToken(r)}return!0}return Ss(e)===Z.ErrTooManySubscribers?(pe.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(Ss(e)===Z.ErrTooManyAttachments||(Ss(e)===Z.ErrClientNotActivated||Ss(e)===Z.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((r,a)=>{this.taskQueue.push(()=>e().then(r).catch(a)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{pe.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function n1(t){return typeof t=="object"&&t!==null&&t.type==="Text"&&Array.isArray(t.nodes)}function r1(t){return typeof t=="object"&&t!==null&&t.type==="Tree"&&typeof t.root=="object"}function i1(t){return typeof t=="object"&&t!==null&&t.type==="Int"&&typeof t.value=="number"}function a1(t){return typeof t=="object"&&t!==null&&t.type==="Long"&&typeof t.value=="number"}function s1(t){return typeof t=="object"&&t!==null&&t.type==="Date"&&typeof t.value=="string"}function o1(t){return typeof t=="object"&&t!==null&&t.type==="BinData"&&typeof t.value=="string"}function l1(t){return typeof t=="object"&&t!==null&&t.type==="Counter"&&typeof t.value=="object"}function a3(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!n1(t)&&!r1(t)&&!i1(t)&&!a1(t)&&!s1(t)&&!o1(t)&&!l1(t)}function s3(t){try{const e=o3(t),r=JSON.parse(e);return Oc(r)}catch(e){throw new G(Z.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function o3(t){let e=t;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(r,a,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${a}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Int","__yson_data":${a}}`),e=e.replace(/Long\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Long","__yson_data":${a}}`),e=e.replace(/Date\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"Date","__yson_data":"${a}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"BinData","__yson_data":"${a}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(r,a)=>`{"__yson_type":"Text","__yson_data":${a}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(r,a)=>`{"__yson_type":"Tree","__yson_data":${a}}`),e}function Oc(t){if(t===null||typeof t!="object")return t;if(t.__yson_type==="Int"&&typeof t.__yson_data=="number")return{type:"Int",value:t.__yson_data};if(t.__yson_type==="Long"&&typeof t.__yson_data=="number")return{type:"Long",value:t.__yson_data};if(t.__yson_type==="Date"&&typeof t.__yson_data=="string")return{type:"Date",value:t.__yson_data};if(t.__yson_type==="BinData"&&typeof t.__yson_data=="string")return{type:"BinData",value:t.__yson_data};if(t.__yson_type==="Counter"&&typeof t.__yson_data=="object"){const r=Oc(t.__yson_data);if(typeof r=="object"&&r!==null&&"type"in r&&(r.type==="Int"||r.type==="Long"))return{type:"Counter",value:r};throw new G(Z.ErrInvalidArgument,"Counter must contain Int or Long")}if(t.__yson_type==="Text"&&Array.isArray(t.__yson_data))return{type:"Text",nodes:t.__yson_data.map(r=>l3(r))};if(t.__yson_type==="Tree"&&typeof t.__yson_data=="object")return{type:"Tree",root:u1(t.__yson_data)};if(Array.isArray(t))return t.map(r=>Oc(r));const e={};for(const[r,a]of Object.entries(t))e[r]=Oc(a);return e}function l3(t){if(typeof t!="object"||t===null||typeof t.val!="string")throw new G(Z.ErrInvalidArgument,"invalid text node format");const e={val:t.val};return t.attrs&&typeof t.attrs=="object"&&(e.attrs=t.attrs),e}function u1(t){if(typeof t!="object"||t===null||typeof t.type!="string")throw new G(Z.ErrInvalidArgument,"invalid tree node format");const e={type:t.type};return t.type==="text"&&typeof t.value=="string"?(e.value=t.value,e):(t.attrs&&typeof t.attrs=="object"&&(e.attrs=t.attrs),Array.isArray(t.children)&&(e.children=t.children.map(r=>u1(r))),e)}function u3(t){return t.nodes.map(e=>e.val).join("")}function c3(t){return c1(t.root)}function c1(t){const e=t.attrs?Object.entries(t.attrs).map(([a,o])=>` ${a}="${gS(o)}"`).join(""):"";if(t.type==="text"&&t.value!==void 0)return`<${t.type}${e}>${gS(t.value)}</${t.type}>`;if(!t.children||t.children.length===0)return`<${t.type}${e} />`;const r=t.children.map(a=>c1(a)).join("");return`<${t.type}${e}>${r}</${t.type}>`}function gS(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const f3=Object.freeze(Object.defineProperty({__proto__:null,isBinData:o1,isCounter:l1,isDate:s1,isInt:i1,isLong:a1,isObject:a3,isText:n1,isTree:r1,parse:s3,textToString:u3,treeToXML:c3},Symbol.toStringTag,{value:"Module"}));gr.Int,gr.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:t1,Document:_i,Primitive:dt,Text:Om,Counter:Vm,Tree:Lm,Channel:Di,ChannelEventType:ws,YSON:f3,LogLevel:tn,setLogLevel:BR,IntType:gr.Int,LongType:gr.Long});const d3="@yorkie-js/react",h3="0.6.41-rc2",mS={name:d3,version:h3};var P=Dl();const g3=EA(P),f1=P.createContext({client:void 0,loading:!0,error:void 0});function m3(t){const[e,r]=P.useState(void 0),[a,o]=P.useState(!0),[u,c]=P.useState(void 0),[d,m]=P.useState(!1);return P.useEffect(()=>{m(!0)},[]),P.useEffect(()=>{o(!0),c(void 0);async function h(){if(d)try{const p=new t1(t);await p.activate(),r(p)}catch(p){c(p instanceof Error?p:new Error("Failed to activate client"))}finally{o(!1)}}return h(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[t.apiKey,t.rpcAddr,d]),{client:e,loading:a,error:u}}const p3=({children:t,...e})=>{const r=P.useMemo(()=>({userAgent:mS.name+"/"+mS.version,...e}),[e.apiKey,e.rpcAddr]),{client:a,loading:o,error:u}=m3(r);return $.jsx(f1.Provider,{value:{client:a,loading:o,error:u},children:t})},y3=()=>{const t=P.useContext(f1);if(!t)throw new Error("useYorkie must be used under YorkieProvider");return{client:t.client,loading:t.loading,error:t.error}};function v3(t){const e=new Set;let r=t;const a=()=>{e.forEach(m=>m(r))};return{subscribe:m=>(e.add(m),()=>e.delete(m)),getSnapshot:()=>r,setState:m=>{const h=r;r=typeof m=="function"?m(h):m,h!==r&&a()},destroy:()=>{e.clear()}}}const b3=t=>v3(t);function S3(t,e,r=Object.is){const a=P.useRef(e),o=P.useRef(r),u=P.useRef(void 0);a.current=e,o.current=r;const c=()=>{const d=t.getSnapshot(),m=a.current?a.current(d):d;return u.current!==void 0&&o.current(u.current,m)?u.current:(u.current=m,m)};return P.useSyncExternalStore(t.subscribe,c,c)}function A3(t,e,r,a,o,u,c,d){const m=P.useRef(o),h=P.useRef(u),[p,y]=P.useState(!1);P.useEffect(()=>{y(!0)},[]),P.useEffect(()=>{if(r){d.setState(A=>({...A,loading:!1,error:r}));return}if(!t||e||!p){d.setState(A=>({...A,loading:!0}));return}d.setState(A=>({...A,loading:!0,error:void 0}));const v=new _i(a,{enableDevtools:c}),S=[];S.push(v.subscribe(()=>{d.setState(A=>({...A,root:v.getRoot()}))})),S.push(v.subscribe("presence",()=>{d.setState(A=>({...A,presences:v.getPresences()}))})),S.push(v.subscribe("connection",A=>{d.setState(R=>({...R,connection:A.value}))}));async function E(){try{await t?.attach(v,{initialRoot:m.current,initialPresence:h.current});const A=R=>{try{v.update(R)}catch(x){d.setState(U=>({...U,error:x instanceof Error?x:new Error("Failed to update document")}))}};d.setState(R=>({...R,doc:v,root:v.getRoot(),presences:v.getPresences(),update:A}))}catch(A){d.setState(R=>({...R,error:A instanceof Error?A:new Error("Failed to attach document")}))}finally{d.setState(A=>({...A,loading:!1}))}}return E(),()=>{t&&t.has(a)&&t.detach(v);for(const A of S)A()}},[t,e,r,a,d,p])}const d1=P.createContext(void 0),E3=({docKey:t,initialRoot:e={},initialPresence:r={},enableDevtools:a=!1,children:o})=>{const{client:u,loading:c,error:d}=y3(),m=P.useRef(void 0);m.current||(m.current=b3({doc:void 0,root:e,presences:[],connection:sl.Disconnected,update:()=>{},loading:!0,error:void 0}));const h=m.current;return A3(u,c,d,t,e,r,a,h),$.jsx(d1.Provider,{value:h,children:o})};function w3(){const t=P.useContext(d1);if(!t)throw new Error("useDocument must be used within a DocumentProvider");return S3(t)}P.createContext(void 0);function xt(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let r=0,a;r<t.length;r++)(a=xt(t[r]))!==""&&(e+=(e&&" ")+a);else for(let r in t)t[r]&&(e+=(e&&" ")+r);return e}var N3={value:()=>{}};function mf(){for(var t=0,e=arguments.length,r={},a;t<e;++t){if(!(a=arguments[t]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Vc(r)}function Vc(t){this._=t}function x3(t,e){return t.trim().split(/^|\s+/).map(function(r){var a="",o=r.indexOf(".");if(o>=0&&(a=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Vc.prototype=mf.prototype={constructor:Vc,on:function(t,e){var r=this._,a=x3(t+"",r),o,u=-1,c=a.length;if(arguments.length<2){for(;++u<c;)if((o=(t=a[u]).type)&&(o=T3(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<c;)if(o=(t=a[u]).type)r[o]=pS(r[o],t.name,e);else if(e==null)for(o in r)r[o]=pS(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Vc(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),a=0,o,u;a<o;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],a=0,o=u.length;a<o;++a)u[a].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],o=0,u=a.length;o<u;++o)a[o].value.apply(e,r)}};function T3(t,e){for(var r=0,a=t.length,o;r<a;++r)if((o=t[r]).name===e)return o.value}function pS(t,e,r){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=N3,t=t.slice(0,a).concat(t.slice(a+1));break}return r!=null&&t.push({name:e,value:r}),t}var Mg="http://www.w3.org/1999/xhtml";const yS={svg:"http://www.w3.org/2000/svg",xhtml:Mg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pf(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),yS.hasOwnProperty(e)?{space:yS[e],local:t}:t}function C3(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Mg&&e.documentElement.namespaceURI===Mg?e.createElement(t):e.createElementNS(r,t)}}function I3(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function h1(t){var e=pf(t);return(e.local?I3:C3)(e)}function R3(){}function zm(t){return t==null?R3:function(){return this.querySelector(t)}}function D3(t){typeof t!="function"&&(t=zm(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],c=u.length,d=a[o]=new Array(c),m,h,p=0;p<c;++p)(m=u[p])&&(h=t.call(m,m.__data__,p,u))&&("__data__"in m&&(h.__data__=m.__data__),d[p]=h);return new vn(a,this._parents)}function _3(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function O3(){return[]}function g1(t){return t==null?O3:function(){return this.querySelectorAll(t)}}function V3(t){return function(){return _3(t.apply(this,arguments))}}function M3(t){typeof t=="function"?t=V3(t):t=g1(t);for(var e=this._groups,r=e.length,a=[],o=[],u=0;u<r;++u)for(var c=e[u],d=c.length,m,h=0;h<d;++h)(m=c[h])&&(a.push(t.call(m,m.__data__,h,c)),o.push(m));return new vn(a,o)}function m1(t){return function(){return this.matches(t)}}function p1(t){return function(e){return e.matches(t)}}var B3=Array.prototype.find;function L3(t){return function(){return B3.call(this.children,t)}}function z3(){return this.firstElementChild}function U3(t){return this.select(t==null?z3:L3(typeof t=="function"?t:p1(t)))}var Z3=Array.prototype.filter;function Y3(){return Array.from(this.children)}function G3(t){return function(){return Z3.call(this.children,t)}}function k3(t){return this.selectAll(t==null?Y3:G3(typeof t=="function"?t:p1(t)))}function W3(t){typeof t!="function"&&(t=m1(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],c=u.length,d=a[o]=[],m,h=0;h<c;++h)(m=u[h])&&t.call(m,m.__data__,h,u)&&d.push(m);return new vn(a,this._parents)}function y1(t){return new Array(t.length)}function X3(){return new vn(this._enter||this._groups.map(y1),this._parents)}function Hc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hc.prototype={constructor:Hc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function K3(t){return function(){return t}}function H3(t,e,r,a,o,u){for(var c=0,d,m=e.length,h=u.length;c<h;++c)(d=e[c])?(d.__data__=u[c],a[c]=d):r[c]=new Hc(t,u[c]);for(;c<m;++c)(d=e[c])&&(o[c]=d)}function F3(t,e,r,a,o,u,c){var d,m,h=new Map,p=e.length,y=u.length,v=new Array(p),S;for(d=0;d<p;++d)(m=e[d])&&(v[d]=S=c.call(m,m.__data__,d,e)+"",h.has(S)?o[d]=m:h.set(S,m));for(d=0;d<y;++d)S=c.call(t,u[d],d,u)+"",(m=h.get(S))?(a[d]=m,m.__data__=u[d],h.delete(S)):r[d]=new Hc(t,u[d]);for(d=0;d<p;++d)(m=e[d])&&h.get(v[d])===m&&(o[d]=m)}function J3(t){return t.__data__}function j3(t,e){if(!arguments.length)return Array.from(this,J3);var r=e?F3:H3,a=this._parents,o=this._groups;typeof t!="function"&&(t=K3(t));for(var u=o.length,c=new Array(u),d=new Array(u),m=new Array(u),h=0;h<u;++h){var p=a[h],y=o[h],v=y.length,S=$3(t.call(p,p&&p.__data__,h,a)),E=S.length,A=d[h]=new Array(E),R=c[h]=new Array(E),x=m[h]=new Array(v);r(p,y,A,R,x,S,e);for(var U=0,N=0,I,V;U<E;++U)if(I=A[U]){for(U>=N&&(N=U+1);!(V=R[N])&&++N<E;);I._next=V||null}}return c=new vn(c,a),c._enter=d,c._exit=m,c}function $3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P3(){return new vn(this._exit||this._groups.map(y1),this._parents)}function Q3(t,e,r){var a=this.enter(),o=this,u=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?u.remove():r(u),a&&o?a.merge(o).order():o}function q3(t){for(var e=t.selection?t.selection():t,r=this._groups,a=e._groups,o=r.length,u=a.length,c=Math.min(o,u),d=new Array(o),m=0;m<c;++m)for(var h=r[m],p=a[m],y=h.length,v=d[m]=new Array(y),S,E=0;E<y;++E)(S=h[E]||p[E])&&(v[E]=S);for(;m<o;++m)d[m]=r[m];return new vn(d,this._parents)}function eD(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var a=t[e],o=a.length-1,u=a[o],c;--o>=0;)(c=a[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function tD(t){t||(t=nD);function e(y,v){return y&&v?t(y.__data__,v.__data__):!y-!v}for(var r=this._groups,a=r.length,o=new Array(a),u=0;u<a;++u){for(var c=r[u],d=c.length,m=o[u]=new Array(d),h,p=0;p<d;++p)(h=c[p])&&(m[p]=h);m.sort(e)}return new vn(o,this._parents).order()}function nD(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function rD(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function iD(){return Array.from(this)}function aD(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],o=0,u=a.length;o<u;++o){var c=a[o];if(c)return c}return null}function sD(){let t=0;for(const e of this)++t;return t}function oD(){return!this.node()}function lD(t){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var o=e[r],u=0,c=o.length,d;u<c;++u)(d=o[u])&&t.call(d,d.__data__,u,o);return this}function uD(t){return function(){this.removeAttribute(t)}}function cD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fD(t,e){return function(){this.setAttribute(t,e)}}function dD(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hD(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function gD(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function mD(t,e){var r=pf(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?cD:uD:typeof e=="function"?r.local?gD:hD:r.local?dD:fD)(r,e))}function v1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pD(t){return function(){this.style.removeProperty(t)}}function yD(t,e,r){return function(){this.style.setProperty(t,e,r)}}function vD(t,e,r){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,r)}}function bD(t,e,r){return arguments.length>1?this.each((e==null?pD:typeof e=="function"?vD:yD)(t,e,r??"")):ks(this.node(),t)}function ks(t,e){return t.style.getPropertyValue(e)||v1(t).getComputedStyle(t,null).getPropertyValue(e)}function SD(t){return function(){delete this[t]}}function AD(t,e){return function(){this[t]=e}}function ED(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function wD(t,e){return arguments.length>1?this.each((e==null?SD:typeof e=="function"?ED:AD)(t,e)):this.node()[t]}function b1(t){return t.trim().split(/^|\s+/)}function Um(t){return t.classList||new S1(t)}function S1(t){this._node=t,this._names=b1(t.getAttribute("class")||"")}S1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function A1(t,e){for(var r=Um(t),a=-1,o=e.length;++a<o;)r.add(e[a])}function E1(t,e){for(var r=Um(t),a=-1,o=e.length;++a<o;)r.remove(e[a])}function ND(t){return function(){A1(this,t)}}function xD(t){return function(){E1(this,t)}}function TD(t,e){return function(){(e.apply(this,arguments)?A1:E1)(this,t)}}function CD(t,e){var r=b1(t+"");if(arguments.length<2){for(var a=Um(this.node()),o=-1,u=r.length;++o<u;)if(!a.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?TD:e?ND:xD)(r,e))}function ID(){this.textContent=""}function RD(t){return function(){this.textContent=t}}function DD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _D(t){return arguments.length?this.each(t==null?ID:(typeof t=="function"?DD:RD)(t)):this.node().textContent}function OD(){this.innerHTML=""}function VD(t){return function(){this.innerHTML=t}}function MD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function BD(t){return arguments.length?this.each(t==null?OD:(typeof t=="function"?MD:VD)(t)):this.node().innerHTML}function LD(){this.nextSibling&&this.parentNode.appendChild(this)}function zD(){return this.each(LD)}function UD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZD(){return this.each(UD)}function YD(t){var e=typeof t=="function"?t:h1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function GD(){return null}function kD(t,e){var r=typeof t=="function"?t:h1(t),a=e==null?GD:typeof e=="function"?e:zm(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function WD(){var t=this.parentNode;t&&t.removeChild(this)}function XD(){return this.each(WD)}function KD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function HD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FD(t){return this.select(t?HD:KD)}function JD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jD(t){return function(e){t.call(this,e,this.__data__)}}function $D(t){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");return a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),{type:e,name:r}})}function PD(t){return function(){var e=this.__on;if(e){for(var r=0,a=-1,o=e.length,u;r<o;++r)u=e[r],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++a]=u;++a?e.length=a:delete this.__on}}}function QD(t,e,r){return function(){var a=this.__on,o,u=jD(e);if(a){for(var c=0,d=a.length;c<d;++c)if((o=a[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=r),o.value=e;return}}this.addEventListener(t.type,u,r),o={type:t.type,name:t.name,value:e,listener:u,options:r},a?a.push(o):this.__on=[o]}}function qD(t,e,r){var a=$D(t+""),o,u=a.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,h=d.length,p;m<h;++m)for(o=0,p=d[m];o<u;++o)if((c=a[o]).type===p.type&&c.name===p.name)return p.value}return}for(d=e?QD:PD,o=0;o<u;++o)this.each(d(a[o],e,r));return this}function w1(t,e,r){var a=v1(t),o=a.CustomEvent;typeof o=="function"?o=new o(e,r):(o=a.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function e_(t,e){return function(){return w1(this,t,e)}}function t_(t,e){return function(){return w1(this,t,e.apply(this,arguments))}}function n_(t,e){return this.each((typeof e=="function"?t_:e_)(t,e))}function*r_(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],o=0,u=a.length,c;o<u;++o)(c=a[o])&&(yield c)}var N1=[null];function vn(t,e){this._groups=t,this._parents=e}function zl(){return new vn([[document.documentElement]],N1)}function i_(){return this}vn.prototype=zl.prototype={constructor:vn,select:D3,selectAll:M3,selectChild:U3,selectChildren:k3,filter:W3,data:j3,enter:X3,exit:P3,join:Q3,merge:q3,selection:i_,order:eD,sort:tD,call:rD,nodes:iD,node:aD,size:sD,empty:oD,each:lD,attr:mD,style:bD,property:wD,classed:CD,text:_D,html:BD,raise:zD,lower:ZD,append:YD,insert:kD,remove:XD,clone:FD,datum:JD,on:qD,dispatch:n_,[Symbol.iterator]:r_};function gn(t){return typeof t=="string"?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],N1)}function a_(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Wn(t,e){if(t=a_(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const s_={passive:!1},Sl={capture:!0,passive:!1};function og(t){t.stopImmediatePropagation()}function Is(t){t.preventDefault(),t.stopImmediatePropagation()}function x1(t){var e=t.document.documentElement,r=gn(t).on("dragstart.drag",Is,Sl);"onselectstart"in e?r.on("selectstart.drag",Is,Sl):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function T1(t,e){var r=t.document.documentElement,a=gn(t).on("dragstart.drag",null);e&&(a.on("click.drag",Is,Sl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Sc=t=>()=>t;function Bg(t,{sourceEvent:e,subject:r,target:a,identifier:o,active:u,x:c,y:d,dx:m,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}Bg.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function o_(t){return!t.ctrlKey&&!t.button}function l_(){return this.parentNode}function u_(t,e){return e??{x:t.x,y:t.y}}function c_(){return navigator.maxTouchPoints||"ontouchstart"in this}function C1(){var t=o_,e=l_,r=u_,a=c_,o={},u=mf("start","drag","end"),c=0,d,m,h,p,y=0;function v(I){I.on("mousedown.drag",S).filter(a).on("touchstart.drag",R).on("touchmove.drag",x,s_).on("touchend.drag touchcancel.drag",U).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(I,V){if(!(p||!t.call(this,I,V))){var B=N(this,e.call(this,I,V),I,V,"mouse");B&&(gn(I.view).on("mousemove.drag",E,Sl).on("mouseup.drag",A,Sl),x1(I.view),og(I),h=!1,d=I.clientX,m=I.clientY,B("start",I))}}function E(I){if(Is(I),!h){var V=I.clientX-d,B=I.clientY-m;h=V*V+B*B>y}o.mouse("drag",I)}function A(I){gn(I.view).on("mousemove.drag mouseup.drag",null),T1(I.view,h),Is(I),o.mouse("end",I)}function R(I,V){if(t.call(this,I,V)){var B=I.changedTouches,M=e.call(this,I,V),X=B.length,q,de;for(q=0;q<X;++q)(de=N(this,M,I,V,B[q].identifier,B[q]))&&(og(I),de("start",I,B[q]))}}function x(I){var V=I.changedTouches,B=V.length,M,X;for(M=0;M<B;++M)(X=o[V[M].identifier])&&(Is(I),X("drag",I,V[M]))}function U(I){var V=I.changedTouches,B=V.length,M,X;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<B;++M)(X=o[V[M].identifier])&&(og(I),X("end",I,V[M]))}function N(I,V,B,M,X,q){var de=u.copy(),ne=Wn(q||B,V),te,le,_;if((_=r.call(I,new Bg("beforestart",{sourceEvent:B,target:v,identifier:X,active:c,x:ne[0],y:ne[1],dx:0,dy:0,dispatch:de}),M))!=null)return te=_.x-ne[0]||0,le=_.y-ne[1]||0,function K(T,O,Y){var H=ne,ie;switch(T){case"start":o[X]=K,ie=c++;break;case"end":delete o[X],--c;case"drag":ne=Wn(Y||O,V),ie=c;break}de.call(T,I,new Bg(T,{sourceEvent:O,subject:_,target:v,identifier:X,active:ie,x:ne[0]+te,y:ne[1]+le,dx:ne[0]-H[0],dy:ne[1]-H[1],dispatch:de}),M)}}return v.filter=function(I){return arguments.length?(t=typeof I=="function"?I:Sc(!!I),v):t},v.container=function(I){return arguments.length?(e=typeof I=="function"?I:Sc(I),v):e},v.subject=function(I){return arguments.length?(r=typeof I=="function"?I:Sc(I),v):r},v.touchable=function(I){return arguments.length?(a=typeof I=="function"?I:Sc(!!I),v):a},v.on=function(){var I=u.on.apply(u,arguments);return I===u?v:I},v.clickDistance=function(I){return arguments.length?(y=(I=+I)*I,v):Math.sqrt(y)},v}function Zm(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function I1(t,e){var r=Object.create(t.prototype);for(var a in e)r[a]=e[a];return r}function Ul(){}var Al=.7,Fc=1/Al,Rs="\\s*([+-]?\\d+)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f_=/^#([0-9a-f]{3,8})$/,d_=new RegExp(`^rgb\\(${Rs},${Rs},${Rs}\\)$`),h_=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),g_=new RegExp(`^rgba\\(${Rs},${Rs},${Rs},${El}\\)$`),m_=new RegExp(`^rgba\\(${fr},${fr},${fr},${El}\\)$`),p_=new RegExp(`^hsl\\(${El},${fr},${fr}\\)$`),y_=new RegExp(`^hsla\\(${El},${fr},${fr},${El}\\)$`),vS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zm(Ul,Sa,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bS,formatHex:bS,formatHex8:v_,formatHsl:b_,formatRgb:SS,toString:SS});function bS(){return this.rgb().formatHex()}function v_(){return this.rgb().formatHex8()}function b_(){return R1(this).formatHsl()}function SS(){return this.rgb().formatRgb()}function Sa(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=f_.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?AS(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ac(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ac(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=d_.exec(t))?new rn(e[1],e[2],e[3],1):(e=h_.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=g_.exec(t))?Ac(e[1],e[2],e[3],e[4]):(e=m_.exec(t))?Ac(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=p_.exec(t))?NS(e[1],e[2]/100,e[3]/100,1):(e=y_.exec(t))?NS(e[1],e[2]/100,e[3]/100,e[4]):vS.hasOwnProperty(t)?AS(vS[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function AS(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function Ac(t,e,r,a){return a<=0&&(t=e=r=NaN),new rn(t,e,r,a)}function S_(t){return t instanceof Ul||(t=Sa(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function Lg(t,e,r,a){return arguments.length===1?S_(t):new rn(t,e,r,a??1)}function rn(t,e,r,a){this.r=+t,this.g=+e,this.b=+r,this.opacity=+a}Zm(rn,Lg,I1(Ul,{brighter(t){return t=t==null?Fc:Math.pow(Fc,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(pa(this.r),pa(this.g),pa(this.b),Jc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ES,formatHex:ES,formatHex8:A_,formatRgb:wS,toString:wS}));function ES(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}`}function A_(){return`#${ma(this.r)}${ma(this.g)}${ma(this.b)}${ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function wS(){const t=Jc(this.opacity);return`${t===1?"rgb(":"rgba("}${pa(this.r)}, ${pa(this.g)}, ${pa(this.b)}${t===1?")":`, ${t})`}`}function Jc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ma(t){return t=pa(t),(t<16?"0":"")+t.toString(16)}function NS(t,e,r,a){return a<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Kn(t,e,r,a)}function R1(t){if(t instanceof Kn)return new Kn(t.h,t.s,t.l,t.opacity);if(t instanceof Ul||(t=Sa(t)),!t)return new Kn;if(t instanceof Kn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,a=t.b/255,o=Math.min(e,r,a),u=Math.max(e,r,a),c=NaN,d=u-o,m=(u+o)/2;return d?(e===u?c=(r-a)/d+(r<a)*6:r===u?c=(a-e)/d+2:c=(e-r)/d+4,d/=m<.5?u+o:2-u-o,c*=60):d=m>0&&m<1?0:c,new Kn(c,d,m,t.opacity)}function E_(t,e,r,a){return arguments.length===1?R1(t):new Kn(t,e,r,a??1)}function Kn(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}Zm(Kn,E_,I1(Ul,{brighter(t){return t=t==null?Fc:Math.pow(Fc,t),new Kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new Kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*e,o=2*r-a;return new rn(lg(t>=240?t-240:t+120,o,a),lg(t,o,a),lg(t<120?t+240:t-120,o,a),this.opacity)},clamp(){return new Kn(xS(this.h),Ec(this.s),Ec(this.l),Jc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jc(this.opacity);return`${t===1?"hsl(":"hsla("}${xS(this.h)}, ${Ec(this.s)*100}%, ${Ec(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xS(t){return t=(t||0)%360,t<0?t+360:t}function Ec(t){return Math.max(0,Math.min(1,t||0))}function lg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Ym=t=>()=>t;function w_(t,e){return function(r){return t+r*e}}function N_(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(a){return Math.pow(t+a*e,r)}}function x_(t){return(t=+t)==1?D1:function(e,r){return r-e?N_(e,r,t):Ym(isNaN(e)?r:e)}}function D1(t,e){var r=e-t;return r?w_(t,r):Ym(isNaN(t)?e:t)}const jc=(function t(e){var r=x_(e);function a(o,u){var c=r((o=Lg(o)).r,(u=Lg(u)).r),d=r(o.g,u.g),m=r(o.b,u.b),h=D1(o.opacity,u.opacity);return function(p){return o.r=c(p),o.g=d(p),o.b=m(p),o.opacity=h(p),o+""}}return a.gamma=t,a})(1);function T_(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,a=e.slice(),o;return function(u){for(o=0;o<r;++o)a[o]=t[o]*(1-u)+e[o]*u;return a}}function C_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function I_(t,e){var r=e?e.length:0,a=t?Math.min(r,t.length):0,o=new Array(a),u=new Array(r),c;for(c=0;c<a;++c)o[c]=ol(t[c],e[c]);for(;c<r;++c)u[c]=e[c];return function(d){for(c=0;c<a;++c)u[c]=o[c](d);return u}}function R_(t,e){var r=new Date;return t=+t,e=+e,function(a){return r.setTime(t*(1-a)+e*a),r}}function sr(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function D_(t,e){var r={},a={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=ol(t[o],e[o]):a[o]=e[o];return function(u){for(o in r)a[o]=r[o](u);return a}}var zg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ug=new RegExp(zg.source,"g");function __(t){return function(){return t}}function O_(t){return function(e){return t(e)+""}}function _1(t,e){var r=zg.lastIndex=ug.lastIndex=0,a,o,u,c=-1,d=[],m=[];for(t=t+"",e=e+"";(a=zg.exec(t))&&(o=ug.exec(e));)(u=o.index)>r&&(u=e.slice(r,u),d[c]?d[c]+=u:d[++c]=u),(a=a[0])===(o=o[0])?d[c]?d[c]+=o:d[++c]=o:(d[++c]=null,m.push({i:c,x:sr(a,o)})),r=ug.lastIndex;return r<e.length&&(u=e.slice(r),d[c]?d[c]+=u:d[++c]=u),d.length<2?m[0]?O_(m[0].x):__(e):(e=m.length,function(h){for(var p=0,y;p<e;++p)d[(y=m[p]).i]=y.x(h);return d.join("")})}function ol(t,e){var r=typeof e,a;return e==null||r==="boolean"?Ym(e):(r==="number"?sr:r==="string"?(a=Sa(e))?(e=a,jc):_1:e instanceof Sa?jc:e instanceof Date?R_:C_(e)?T_:Array.isArray(e)?I_:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?D_:sr)(t,e)}var TS=180/Math.PI,Ug={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O1(t,e,r,a,o,u){var c,d,m;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(m=t*r+e*a)&&(r-=t*m,a-=e*m),(d=Math.sqrt(r*r+a*a))&&(r/=d,a/=d,m/=d),t*a<e*r&&(t=-t,e=-e,m=-m,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(e,t)*TS,skewX:Math.atan(m)*TS,scaleX:c,scaleY:d}}var wc;function V_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ug:O1(e.a,e.b,e.c,e.d,e.e,e.f)}function M_(t){return t==null||(wc||(wc=document.createElementNS("http://www.w3.org/2000/svg","g")),wc.setAttribute("transform",t),!(t=wc.transform.baseVal.consolidate()))?Ug:(t=t.matrix,O1(t.a,t.b,t.c,t.d,t.e,t.f))}function V1(t,e,r,a){function o(h){return h.length?h.pop()+" ":""}function u(h,p,y,v,S,E){if(h!==y||p!==v){var A=S.push("translate(",null,e,null,r);E.push({i:A-4,x:sr(h,y)},{i:A-2,x:sr(p,v)})}else(y||v)&&S.push("translate("+y+e+v+r)}function c(h,p,y,v){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),v.push({i:y.push(o(y)+"rotate(",null,a)-2,x:sr(h,p)})):p&&y.push(o(y)+"rotate("+p+a)}function d(h,p,y,v){h!==p?v.push({i:y.push(o(y)+"skewX(",null,a)-2,x:sr(h,p)}):p&&y.push(o(y)+"skewX("+p+a)}function m(h,p,y,v,S,E){if(h!==y||p!==v){var A=S.push(o(S)+"scale(",null,",",null,")");E.push({i:A-4,x:sr(h,y)},{i:A-2,x:sr(p,v)})}else(y!==1||v!==1)&&S.push(o(S)+"scale("+y+","+v+")")}return function(h,p){var y=[],v=[];return h=t(h),p=t(p),u(h.translateX,h.translateY,p.translateX,p.translateY,y,v),c(h.rotate,p.rotate,y,v),d(h.skewX,p.skewX,y,v),m(h.scaleX,h.scaleY,p.scaleX,p.scaleY,y,v),h=p=null,function(S){for(var E=-1,A=v.length,R;++E<A;)y[(R=v[E]).i]=R.x(S);return y.join("")}}}var B_=V1(V_,"px, ","px)","deg)"),L_=V1(M_,", ",")",")"),z_=1e-12;function CS(t){return((t=Math.exp(t))+1/t)/2}function U_(t){return((t=Math.exp(t))-1/t)/2}function Z_(t){return((t=Math.exp(2*t))-1)/(t+1)}const Mc=(function t(e,r,a){function o(u,c){var d=u[0],m=u[1],h=u[2],p=c[0],y=c[1],v=c[2],S=p-d,E=y-m,A=S*S+E*E,R,x;if(A<z_)x=Math.log(v/h)/e,R=function(M){return[d+M*S,m+M*E,h*Math.exp(e*M*x)]};else{var U=Math.sqrt(A),N=(v*v-h*h+a*A)/(2*h*r*U),I=(v*v-h*h-a*A)/(2*v*r*U),V=Math.log(Math.sqrt(N*N+1)-N),B=Math.log(Math.sqrt(I*I+1)-I);x=(B-V)/e,R=function(M){var X=M*x,q=CS(V),de=h/(r*U)*(q*Z_(e*X+V)-U_(V));return[d+de*S,m+de*E,h*q/CS(e*X+V)]}}return R.duration=x*1e3*e/Math.SQRT2,R}return o.rho=function(u){var c=Math.max(.001,+u),d=c*c,m=d*d;return t(c,d,m)},o})(Math.SQRT2,2,4);var Ws=0,qo=0,Jo=0,M1=1e3,$c,el,Pc=0,Aa=0,yf=0,wl=typeof performance=="object"&&performance.now?performance:Date,B1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gm(){return Aa||(B1(Y_),Aa=wl.now()+yf)}function Y_(){Aa=0}function Qc(){this._call=this._time=this._next=null}Qc.prototype=L1.prototype={constructor:Qc,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Gm():+r)+(e==null?0:+e),!this._next&&el!==this&&(el?el._next=this:$c=this,el=this),this._call=t,this._time=r,Zg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zg())}};function L1(t,e,r){var a=new Qc;return a.restart(t,e,r),a}function G_(){Gm(),++Ws;for(var t=$c,e;t;)(e=Aa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ws}function IS(){Aa=(Pc=wl.now())+yf,Ws=qo=0;try{G_()}finally{Ws=0,W_(),Aa=0}}function k_(){var t=wl.now(),e=t-Pc;e>M1&&(yf-=e,Pc=t)}function W_(){for(var t,e=$c,r,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:$c=r);el=t,Zg(a)}function Zg(t){if(!Ws){qo&&(qo=clearTimeout(qo));var e=t-Aa;e>24?(t<1/0&&(qo=setTimeout(IS,t-wl.now()-yf)),Jo&&(Jo=clearInterval(Jo))):(Jo||(Pc=wl.now(),Jo=setInterval(k_,M1)),Ws=1,B1(IS))}}function RS(t,e,r){var a=new Qc;return e=e==null?0:+e,a.restart(o=>{a.stop(),t(o+e)},e,r),a}var X_=mf("start","end","cancel","interrupt"),K_=[],z1=0,DS=1,Yg=2,Bc=3,_S=4,Gg=5,Lc=6;function vf(t,e,r,a,o,u){var c=t.__transition;if(!c)t.__transition={};else if(r in c)return;H_(t,r,{name:e,index:a,group:o,on:X_,tween:K_,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:z1})}function km(t,e){var r=qn(t,e);if(r.state>z1)throw new Error("too late; already scheduled");return r}function pr(t,e){var r=qn(t,e);if(r.state>Bc)throw new Error("too late; already running");return r}function qn(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function H_(t,e,r){var a=t.__transition,o;a[e]=r,r.timer=L1(u,0,r.time);function u(h){r.state=DS,r.timer.restart(c,r.delay,r.time),r.delay<=h&&c(h-r.delay)}function c(h){var p,y,v,S;if(r.state!==DS)return m();for(p in a)if(S=a[p],S.name===r.name){if(S.state===Bc)return RS(c);S.state===_S?(S.state=Lc,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete a[p]):+p<e&&(S.state=Lc,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete a[p])}if(RS(function(){r.state===Bc&&(r.state=_S,r.timer.restart(d,r.delay,r.time),d(h))}),r.state=Yg,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Yg){for(r.state=Bc,o=new Array(v=r.tween.length),p=0,y=-1;p<v;++p)(S=r.tween[p].value.call(t,t.__data__,r.index,r.group))&&(o[++y]=S);o.length=y+1}}function d(h){for(var p=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(m),r.state=Gg,1),y=-1,v=o.length;++y<v;)o[y].call(t,p);r.state===Gg&&(r.on.call("end",t,t.__data__,r.index,r.group),m())}function m(){r.state=Lc,r.timer.stop(),delete a[e];for(var h in a)return;delete t.__transition}}function zc(t,e){var r=t.__transition,a,o,u=!0,c;if(r){e=e==null?null:e+"";for(c in r){if((a=r[c]).name!==e){u=!1;continue}o=a.state>Yg&&a.state<Gg,a.state=Lc,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete r[c]}u&&delete t.__transition}}function F_(t){return this.each(function(){zc(this,t)})}function J_(t,e){var r,a;return function(){var o=pr(this,t),u=o.tween;if(u!==r){a=r=u;for(var c=0,d=a.length;c<d;++c)if(a[c].name===e){a=a.slice(),a.splice(c,1);break}}o.tween=a}}function j_(t,e,r){var a,o;if(typeof r!="function")throw new Error;return function(){var u=pr(this,t),c=u.tween;if(c!==a){o=(a=c).slice();for(var d={name:e,value:r},m=0,h=o.length;m<h;++m)if(o[m].name===e){o[m]=d;break}m===h&&o.push(d)}u.tween=o}}function $_(t,e){var r=this._id;if(t+="",arguments.length<2){for(var a=qn(this.node(),r).tween,o=0,u=a.length,c;o<u;++o)if((c=a[o]).name===t)return c.value;return null}return this.each((e==null?J_:j_)(r,t,e))}function Wm(t,e,r){var a=t._id;return t.each(function(){var o=pr(this,a);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return qn(o,a).value[e]}}function U1(t,e){var r;return(typeof e=="number"?sr:e instanceof Sa?jc:(r=Sa(e))?(e=r,jc):_1)(t,e)}function P_(t){return function(){this.removeAttribute(t)}}function Q_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function q_(t,e,r){var a,o=r+"",u;return function(){var c=this.getAttribute(t);return c===o?null:c===a?u:u=e(a=c,r)}}function eO(t,e,r){var a,o=r+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===a?u:u=e(a=c,r)}}function tO(t,e,r){var a,o,u;return function(){var c,d=r(this),m;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),m=d+"",c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d)))}}function nO(t,e,r){var a,o,u;return function(){var c,d=r(this),m;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),m=d+"",c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d)))}}function rO(t,e){var r=pf(t),a=r==="transform"?L_:U1;return this.attrTween(t,typeof e=="function"?(r.local?nO:tO)(r,a,Wm(this,"attr."+t,e)):e==null?(r.local?Q_:P_)(r):(r.local?eO:q_)(r,a,e))}function iO(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function aO(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function sO(t,e){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&aO(t,u)),r}return o._value=e,o}function oO(t,e){var r,a;function o(){var u=e.apply(this,arguments);return u!==a&&(r=(a=u)&&iO(t,u)),r}return o._value=e,o}function lO(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var a=pf(t);return this.tween(r,(a.local?sO:oO)(a,e))}function uO(t,e){return function(){km(this,t).delay=+e.apply(this,arguments)}}function cO(t,e){return e=+e,function(){km(this,t).delay=e}}function fO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uO:cO)(e,t)):qn(this.node(),e).delay}function dO(t,e){return function(){pr(this,t).duration=+e.apply(this,arguments)}}function hO(t,e){return e=+e,function(){pr(this,t).duration=e}}function gO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dO:hO)(e,t)):qn(this.node(),e).duration}function mO(t,e){if(typeof e!="function")throw new Error;return function(){pr(this,t).ease=e}}function pO(t){var e=this._id;return arguments.length?this.each(mO(e,t)):qn(this.node(),e).ease}function yO(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;pr(this,t).ease=r}}function vO(t){if(typeof t!="function")throw new Error;return this.each(yO(this._id,t))}function bO(t){typeof t!="function"&&(t=m1(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var u=e[o],c=u.length,d=a[o]=[],m,h=0;h<c;++h)(m=u[h])&&t.call(m,m.__data__,h,u)&&d.push(m);return new Fr(a,this._parents,this._name,this._id)}function SO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,a=e.length,o=r.length,u=Math.min(a,o),c=new Array(a),d=0;d<u;++d)for(var m=e[d],h=r[d],p=m.length,y=c[d]=new Array(p),v,S=0;S<p;++S)(v=m[S]||h[S])&&(y[S]=v);for(;d<a;++d)c[d]=e[d];return new Fr(c,this._parents,this._name,this._id)}function AO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function EO(t,e,r){var a,o,u=AO(e)?km:pr;return function(){var c=u(this,t),d=c.on;d!==a&&(o=(a=d).copy()).on(e,r),c.on=o}}function wO(t,e){var r=this._id;return arguments.length<2?qn(this.node(),r).on.on(t):this.each(EO(r,t,e))}function NO(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function xO(){return this.on("end.remove",NO(this._id))}function TO(t){var e=this._name,r=this._id;typeof t!="function"&&(t=zm(t));for(var a=this._groups,o=a.length,u=new Array(o),c=0;c<o;++c)for(var d=a[c],m=d.length,h=u[c]=new Array(m),p,y,v=0;v<m;++v)(p=d[v])&&(y=t.call(p,p.__data__,v,d))&&("__data__"in p&&(y.__data__=p.__data__),h[v]=y,vf(h[v],e,r,v,h,qn(p,r)));return new Fr(u,this._parents,e,r)}function CO(t){var e=this._name,r=this._id;typeof t!="function"&&(t=g1(t));for(var a=this._groups,o=a.length,u=[],c=[],d=0;d<o;++d)for(var m=a[d],h=m.length,p,y=0;y<h;++y)if(p=m[y]){for(var v=t.call(p,p.__data__,y,m),S,E=qn(p,r),A=0,R=v.length;A<R;++A)(S=v[A])&&vf(S,e,r,A,v,E);u.push(v),c.push(p)}return new Fr(u,c,e,r)}var IO=zl.prototype.constructor;function RO(){return new IO(this._groups,this._parents)}function DO(t,e){var r,a,o;return function(){var u=ks(this,t),c=(this.style.removeProperty(t),ks(this,t));return u===c?null:u===r&&c===a?o:o=e(r=u,a=c)}}function Z1(t){return function(){this.style.removeProperty(t)}}function _O(t,e,r){var a,o=r+"",u;return function(){var c=ks(this,t);return c===o?null:c===a?u:u=e(a=c,r)}}function OO(t,e,r){var a,o,u;return function(){var c=ks(this,t),d=r(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(t),ks(this,t))),c===m?null:c===a&&m===o?u:(o=m,u=e(a=c,d))}}function VO(t,e){var r,a,o,u="style."+e,c="end."+u,d;return function(){var m=pr(this,t),h=m.on,p=m.value[u]==null?d||(d=Z1(e)):void 0;(h!==r||o!==p)&&(a=(r=h).copy()).on(c,o=p),m.on=a}}function MO(t,e,r){var a=(t+="")=="transform"?B_:U1;return e==null?this.styleTween(t,DO(t,a)).on("end.style."+t,Z1(t)):typeof e=="function"?this.styleTween(t,OO(t,a,Wm(this,"style."+t,e))).each(VO(this._id,t)):this.styleTween(t,_O(t,a,e),r).on("end.style."+t,null)}function BO(t,e,r){return function(a){this.style.setProperty(t,e.call(this,a),r)}}function LO(t,e,r){var a,o;function u(){var c=e.apply(this,arguments);return c!==o&&(a=(o=c)&&BO(t,c,r)),a}return u._value=e,u}function zO(t,e,r){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,LO(t,e,r??""))}function UO(t){return function(){this.textContent=t}}function ZO(t){return function(){var e=t(this);this.textContent=e??""}}function YO(t){return this.tween("text",typeof t=="function"?ZO(Wm(this,"text",t)):UO(t==null?"":t+""))}function GO(t){return function(e){this.textContent=t.call(this,e)}}function kO(t){var e,r;function a(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&GO(o)),e}return a._value=t,a}function WO(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kO(t))}function XO(){for(var t=this._name,e=this._id,r=Y1(),a=this._groups,o=a.length,u=0;u<o;++u)for(var c=a[u],d=c.length,m,h=0;h<d;++h)if(m=c[h]){var p=qn(m,e);vf(m,t,r,h,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Fr(a,this._parents,t,r)}function KO(){var t,e,r=this,a=r._id,o=r.size();return new Promise(function(u,c){var d={value:c},m={value:function(){--o===0&&u()}};r.each(function(){var h=pr(this,a),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(m)),h.on=e}),o===0&&u()})}var HO=0;function Fr(t,e,r,a){this._groups=t,this._parents=e,this._name=r,this._id=a}function Y1(){return++HO}var Ur=zl.prototype;Fr.prototype={constructor:Fr,select:TO,selectAll:CO,selectChild:Ur.selectChild,selectChildren:Ur.selectChildren,filter:bO,merge:SO,selection:RO,transition:XO,call:Ur.call,nodes:Ur.nodes,node:Ur.node,size:Ur.size,empty:Ur.empty,each:Ur.each,on:wO,attr:rO,attrTween:lO,style:MO,styleTween:zO,text:YO,textTween:WO,remove:xO,tween:$_,delay:fO,duration:gO,ease:pO,easeVarying:vO,end:KO,[Symbol.iterator]:Ur[Symbol.iterator]};function FO(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var JO={time:null,delay:0,duration:250,ease:FO};function jO(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function $O(t){var e,r;t instanceof Fr?(e=t._id,t=t._name):(e=Y1(),(r=JO).time=Gm(),t=t==null?null:t+"");for(var a=this._groups,o=a.length,u=0;u<o;++u)for(var c=a[u],d=c.length,m,h=0;h<d;++h)(m=c[h])&&vf(m,t,e,h,c,r||jO(m,e));return new Fr(a,this._parents,t,e)}zl.prototype.interrupt=F_;zl.prototype.transition=$O;const Nc=t=>()=>t;function PO(t,{sourceEvent:e,target:r,transform:a,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function kr(t,e,r){this.k=t,this.x=e,this.y=r}kr.prototype={constructor:kr,scale:function(t){return t===1?this:new kr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new kr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bf=new kr(1,0,0);G1.prototype=kr.prototype;function G1(t){for(;!t.__zoom;)if(!(t=t.parentNode))return bf;return t.__zoom}function cg(t){t.stopImmediatePropagation()}function jo(t){t.preventDefault(),t.stopImmediatePropagation()}function QO(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function qO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function OS(){return this.__zoom||bf}function eV(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tV(){return navigator.maxTouchPoints||"ontouchstart"in this}function nV(t,e,r){var a=t.invertX(e[0][0])-r[0][0],o=t.invertX(e[1][0])-r[1][0],u=t.invertY(e[0][1])-r[0][1],c=t.invertY(e[1][1])-r[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function k1(){var t=QO,e=qO,r=nV,a=eV,o=tV,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,m=Mc,h=mf("start","zoom","end"),p,y,v,S=500,E=150,A=0,R=10;function x(_){_.property("__zoom",OS).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",de).filter(o).on("touchstart.zoom",ne).on("touchmove.zoom",te).on("touchend.zoom touchcancel.zoom",le).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(_,K,T,O){var Y=_.selection?_.selection():_;Y.property("__zoom",OS),_!==Y?V(_,K,T,O):Y.interrupt().each(function(){B(this,arguments).event(O).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},x.scaleBy=function(_,K,T,O){x.scaleTo(_,function(){var Y=this.__zoom.k,H=typeof K=="function"?K.apply(this,arguments):K;return Y*H},T,O)},x.scaleTo=function(_,K,T,O){x.transform(_,function(){var Y=e.apply(this,arguments),H=this.__zoom,ie=T==null?I(Y):typeof T=="function"?T.apply(this,arguments):T,C=H.invert(ie),L=typeof K=="function"?K.apply(this,arguments):K;return r(N(U(H,L),ie,C),Y,c)},T,O)},x.translateBy=function(_,K,T,O){x.transform(_,function(){return r(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),c)},null,O)},x.translateTo=function(_,K,T,O,Y){x.transform(_,function(){var H=e.apply(this,arguments),ie=this.__zoom,C=O==null?I(H):typeof O=="function"?O.apply(this,arguments):O;return r(bf.translate(C[0],C[1]).scale(ie.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof T=="function"?-T.apply(this,arguments):-T),H,c)},O,Y)};function U(_,K){return K=Math.max(u[0],Math.min(u[1],K)),K===_.k?_:new kr(K,_.x,_.y)}function N(_,K,T){var O=K[0]-T[0]*_.k,Y=K[1]-T[1]*_.k;return O===_.x&&Y===_.y?_:new kr(_.k,O,Y)}function I(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function V(_,K,T,O){_.on("start.zoom",function(){B(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(O).end()}).tween("zoom",function(){var Y=this,H=arguments,ie=B(Y,H).event(O),C=e.apply(Y,H),L=T==null?I(C):typeof T=="function"?T.apply(Y,H):T,ee=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),re=Y.__zoom,fe=typeof K=="function"?K.apply(Y,H):K,ge=m(re.invert(L).concat(ee/re.k),fe.invert(L).concat(ee/fe.k));return function(he){if(he===1)he=fe;else{var ce=ge(he),me=ee/ce[2];he=new kr(me,L[0]-ce[0]*me,L[1]-ce[1]*me)}ie.zoom(null,he)}})}function B(_,K,T){return!T&&_.__zooming||new M(_,K)}function M(_,K){this.that=_,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,K),this.taps=0}M.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,K){return this.mouse&&_!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var K=gn(this.that).datum();h.call(_,this.that,new PO(_,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:h}),K)}};function X(_,...K){if(!t.apply(this,arguments))return;var T=B(this,K).event(_),O=this.__zoom,Y=Math.max(u[0],Math.min(u[1],O.k*Math.pow(2,a.apply(this,arguments)))),H=Wn(_);if(T.wheel)(T.mouse[0][0]!==H[0]||T.mouse[0][1]!==H[1])&&(T.mouse[1]=O.invert(T.mouse[0]=H)),clearTimeout(T.wheel);else{if(O.k===Y)return;T.mouse=[H,O.invert(H)],zc(this),T.start()}jo(_),T.wheel=setTimeout(ie,E),T.zoom("mouse",r(N(U(O,Y),T.mouse[0],T.mouse[1]),T.extent,c));function ie(){T.wheel=null,T.end()}}function q(_,...K){if(v||!t.apply(this,arguments))return;var T=_.currentTarget,O=B(this,K,!0).event(_),Y=gn(_.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",ee,!0),H=Wn(_,T),ie=_.clientX,C=_.clientY;x1(_.view),cg(_),O.mouse=[H,this.__zoom.invert(H)],zc(this),O.start();function L(re){if(jo(re),!O.moved){var fe=re.clientX-ie,ge=re.clientY-C;O.moved=fe*fe+ge*ge>A}O.event(re).zoom("mouse",r(N(O.that.__zoom,O.mouse[0]=Wn(re,T),O.mouse[1]),O.extent,c))}function ee(re){Y.on("mousemove.zoom mouseup.zoom",null),T1(re.view,O.moved),jo(re),O.event(re).end()}}function de(_,...K){if(t.apply(this,arguments)){var T=this.__zoom,O=Wn(_.changedTouches?_.changedTouches[0]:_,this),Y=T.invert(O),H=T.k*(_.shiftKey?.5:2),ie=r(N(U(T,H),O,Y),e.apply(this,K),c);jo(_),d>0?gn(this).transition().duration(d).call(V,ie,O,_):gn(this).call(x.transform,ie,O,_)}}function ne(_,...K){if(t.apply(this,arguments)){var T=_.touches,O=T.length,Y=B(this,K,_.changedTouches.length===O).event(_),H,ie,C,L;for(cg(_),ie=0;ie<O;++ie)C=T[ie],L=Wn(C,this),L=[L,this.__zoom.invert(L),C.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==L[2]&&(Y.touch1=L,Y.taps=0):(Y.touch0=L,H=!0,Y.taps=1+!!p);p&&(p=clearTimeout(p)),H&&(Y.taps<2&&(y=L[0],p=setTimeout(function(){p=null},S)),zc(this),Y.start())}}function te(_,...K){if(this.__zooming){var T=B(this,K).event(_),O=_.changedTouches,Y=O.length,H,ie,C,L;for(jo(_),H=0;H<Y;++H)ie=O[H],C=Wn(ie,this),T.touch0&&T.touch0[2]===ie.identifier?T.touch0[0]=C:T.touch1&&T.touch1[2]===ie.identifier&&(T.touch1[0]=C);if(ie=T.that.__zoom,T.touch1){var ee=T.touch0[0],re=T.touch0[1],fe=T.touch1[0],ge=T.touch1[1],he=(he=fe[0]-ee[0])*he+(he=fe[1]-ee[1])*he,ce=(ce=ge[0]-re[0])*ce+(ce=ge[1]-re[1])*ce;ie=U(ie,Math.sqrt(he/ce)),C=[(ee[0]+fe[0])/2,(ee[1]+fe[1])/2],L=[(re[0]+ge[0])/2,(re[1]+ge[1])/2]}else if(T.touch0)C=T.touch0[0],L=T.touch0[1];else return;T.zoom("touch",r(N(ie,C,L),T.extent,c))}}function le(_,...K){if(this.__zooming){var T=B(this,K).event(_),O=_.changedTouches,Y=O.length,H,ie;for(cg(_),v&&clearTimeout(v),v=setTimeout(function(){v=null},S),H=0;H<Y;++H)ie=O[H],T.touch0&&T.touch0[2]===ie.identifier?delete T.touch0:T.touch1&&T.touch1[2]===ie.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(ie=Wn(ie,this),Math.hypot(y[0]-ie[0],y[1]-ie[1])<R)){var C=gn(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return x.wheelDelta=function(_){return arguments.length?(a=typeof _=="function"?_:Nc(+_),x):a},x.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Nc(!!_),x):t},x.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Nc(!!_),x):o},x.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Nc([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),x):e},x.scaleExtent=function(_){return arguments.length?(u[0]=+_[0],u[1]=+_[1],x):[u[0],u[1]]},x.translateExtent=function(_){return arguments.length?(c[0][0]=+_[0][0],c[1][0]=+_[1][0],c[0][1]=+_[0][1],c[1][1]=+_[1][1],x):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},x.constrain=function(_){return arguments.length?(r=_,x):r},x.duration=function(_){return arguments.length?(d=+_,x):d},x.interpolate=function(_){return arguments.length?(m=_,x):m},x.on=function(){var _=h.on.apply(h,arguments);return _===h?x:_},x.clickDistance=function(_){return arguments.length?(A=(_=+_)*_,x):Math.sqrt(A)},x.tapDistance=function(_){return arguments.length?(R=+_,x):R},x}const mr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${t} handle id: "${t==="source"?r:a}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Nl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],W1=["Enter"," ","Escape"],X1={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:r})=>`Moved selected node ${t}. New position, x: ${e}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Xs;(function(t){t.Strict="strict",t.Loose="loose"})(Xs||(Xs={}));var ya;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ya||(ya={}));var xl;(function(t){t.Partial="partial",t.Full="full"})(xl||(xl={}));const K1={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Oi;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Oi||(Oi={}));var qc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(qc||(qc={}));var we;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(we||(we={}));const VS={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function H1(t){return t===null?null:t?"valid":"invalid"}const F1=t=>"id"in t&&"source"in t&&"target"in t,rV=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Xm=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Zl=(t,e=[0,0])=>{const{width:r,height:a}=jr(t),o=t.origin??e,u=r*o[0],c=a*o[1];return{x:t.position.x-u,y:t.position.y-c}},iV=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const r=t.reduce((a,o)=>{const u=typeof o=="string";let c=!e.nodeLookup&&!u?o:void 0;e.nodeLookup&&(c=u?e.nodeLookup.get(o):Xm(o)?o:e.nodeLookup.get(o.id));const d=c?ef(c,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sf(a,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Af(r)},Yl=(t,e={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},a=!1;return t.forEach(o=>{(e.filter===void 0||e.filter(o))&&(r=Sf(r,ef(o)),a=!0)}),a?Af(r):{x:0,y:0,width:0,height:0}},Km=(t,e,[r,a,o]=[0,0,1],u=!1,c=!1)=>{const d={...kl(e,[r,a,o]),width:e.width/o,height:e.height/o},m=[];for(const h of t.values()){const{measured:p,selectable:y=!0,hidden:v=!1}=h;if(c&&!y||v)continue;const S=p.width??h.width??h.initialWidth??null,E=p.height??h.height??h.initialHeight??null,A=Tl(d,Hs(h)),R=(S??0)*(E??0),x=u&&A>0;(!h.internals.handleBounds||x||A>=R||h.dragging)&&m.push(h)}return m},aV=(t,e)=>{const r=new Set;return t.forEach(a=>{r.add(a.id)}),e.filter(a=>r.has(a.source)||r.has(a.target))};function sV(t,e){const r=new Map,a=e?.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&(e?.includeHiddenNodes||!o.hidden)&&(!a||a.has(o.id))&&r.set(o.id,o)}),r}async function oV({nodes:t,width:e,height:r,panZoom:a,minZoom:o,maxZoom:u},c){if(t.size===0)return Promise.resolve(!0);const d=sV(t,c),m=Yl(d),h=Hm(m,e,r,c?.minZoom??o,c?.maxZoom??u,c?.padding??.1);return await a.setViewport(h,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function J1({nodeId:t,nextPosition:e,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:o,onError:u}){const c=r.get(t),d=c.parentId?r.get(c.parentId):void 0,{x:m,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=c.origin??a;let y=c.extent||o;if(c.extent==="parent"&&!c.expandParent)if(!d)u?.("005",mr.error005());else{const S=d.measured.width,E=d.measured.height;S&&E&&(y=[[m,h],[m+S,h+E]])}else d&&Fs(c.extent)&&(y=[[c.extent[0][0]+m,c.extent[0][1]+h],[c.extent[1][0]+m,c.extent[1][1]+h]]);const v=Fs(y)?Ea(e,y,c.measured):e;return(c.measured.width===void 0||c.measured.height===void 0)&&u?.("015",mr.error015()),{position:{x:v.x-m+(c.measured.width??0)*p[0],y:v.y-h+(c.measured.height??0)*p[1]},positionAbsolute:v}}async function lV({nodesToRemove:t=[],edgesToRemove:e=[],nodes:r,edges:a,onBeforeDelete:o}){const u=new Set(t.map(v=>v.id)),c=[];for(const v of r){if(v.deletable===!1)continue;const S=u.has(v.id),E=!S&&v.parentId&&c.find(A=>A.id===v.parentId);(S||E)&&c.push(v)}const d=new Set(e.map(v=>v.id)),m=a.filter(v=>v.deletable!==!1),p=aV(c,m);for(const v of m)d.has(v.id)&&!p.find(E=>E.id===v.id)&&p.push(v);if(!o)return{edges:p,nodes:c};const y=await o({nodes:c,edges:p});return typeof y=="boolean"?y?{edges:p,nodes:c}:{edges:[],nodes:[]}:y}const Ks=(t,e=0,r=1)=>Math.min(Math.max(t,e),r),Ea=(t={x:0,y:0},e,r)=>({x:Ks(t.x,e[0][0],e[1][0]-(r?.width??0)),y:Ks(t.y,e[0][1],e[1][1]-(r?.height??0))});function j1(t,e,r){const{width:a,height:o}=jr(r),{x:u,y:c}=r.internals.positionAbsolute;return Ea(t,[[u,c],[u+a,c+o]],e)}const MS=(t,e,r)=>t<e?Ks(Math.abs(t-e),1,e)/e:t>r?-Ks(Math.abs(t-r),1,e)/e:0,$1=(t,e,r=15,a=40)=>{const o=MS(t.x,a,e.width-a)*r,u=MS(t.y,a,e.height-a)*r;return[o,u]},Sf=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),kg=({x:t,y:e,width:r,height:a})=>({x:t,y:e,x2:t+r,y2:e+a}),Af=({x:t,y:e,x2:r,y2:a})=>({x:t,y:e,width:r-t,height:a-e}),Hs=(t,e=[0,0])=>{const{x:r,y:a}=Xm(t)?t.internals.positionAbsolute:Zl(t,e);return{x:r,y:a,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},ef=(t,e=[0,0])=>{const{x:r,y:a}=Xm(t)?t.internals.positionAbsolute:Zl(t,e);return{x:r,y:a,x2:r+(t.measured?.width??t.width??t.initialWidth??0),y2:a+(t.measured?.height??t.height??t.initialHeight??0)}},P1=(t,e)=>Af(Sf(kg(t),kg(e))),Tl=(t,e)=>{const r=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),a=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(r*a)},BS=t=>jn(t.width)&&jn(t.height)&&jn(t.x)&&jn(t.y),jn=t=>!isNaN(t)&&isFinite(t),uV=(t,e)=>{},Gl=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),kl=({x:t,y:e},[r,a,o],u=!1,c=[1,1])=>{const d={x:(t-r)/o,y:(e-a)/o};return u?Gl(d,c):d},tf=({x:t,y:e},[r,a,o])=>({x:t*o+r,y:e*o+a});function bs(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const r=parseFloat(t);if(!Number.isNaN(r))return Math.floor(r)}if(typeof t=="string"&&t.endsWith("%")){const r=parseFloat(t);if(!Number.isNaN(r))return Math.floor(e*r*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function cV(t,e,r){if(typeof t=="string"||typeof t=="number"){const a=bs(t,r),o=bs(t,e);return{top:a,right:o,bottom:a,left:o,x:o*2,y:a*2}}if(typeof t=="object"){const a=bs(t.top??t.y??0,r),o=bs(t.bottom??t.y??0,r),u=bs(t.left??t.x??0,e),c=bs(t.right??t.x??0,e);return{top:a,right:c,bottom:o,left:u,x:u+c,y:a+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function fV(t,e,r,a,o,u){const{x:c,y:d}=tf(t,[e,r,a]),{x:m,y:h}=tf({x:t.x+t.width,y:t.y+t.height},[e,r,a]),p=o-m,y=u-h;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(y)}}const Hm=(t,e,r,a,o,u)=>{const c=cV(u,e,r),d=(e-c.x)/t.width,m=(r-c.y)/t.height,h=Math.min(d,m),p=Ks(h,a,o),y=t.x+t.width/2,v=t.y+t.height/2,S=e/2-y*p,E=r/2-v*p,A=fV(t,S,E,p,e,r),R={left:Math.min(A.left-c.left,0),top:Math.min(A.top-c.top,0),right:Math.min(A.right-c.right,0),bottom:Math.min(A.bottom-c.bottom,0)};return{x:S-R.left+R.right,y:E-R.top+R.bottom,zoom:p}},Cl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Fs(t){return t!=null&&t!=="parent"}function jr(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Q1(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function q1(t,e={width:0,height:0},r,a,o){const u={...t},c=a.get(r);if(c){const d=c.origin||o;u.x+=c.internals.positionAbsolute.x-(e.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(e.height??0)*d[1]}return u}function LS(t,e){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function dV(){let t,e;return{promise:new Promise((a,o)=>{t=a,e=o}),resolve:t,reject:e}}function hV(t){return{...X1,...t||{}}}function ll(t,{snapGrid:e=[0,0],snapToGrid:r=!1,transform:a,containerBounds:o}){const{x:u,y:c}=$n(t),d=kl({x:u-(o?.left??0),y:c-(o?.top??0)},a),{x:m,y:h}=r?Gl(d,e):d;return{xSnapped:m,ySnapped:h,...d}}const Fm=t=>({width:t.offsetWidth,height:t.offsetHeight}),ew=t=>t?.getRootNode?.()||window?.document,gV=["INPUT","SELECT","TEXTAREA"];function tw(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:gV.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const nw=t=>"clientX"in t,$n=(t,e)=>{const r=nw(t),a=r?t.clientX:t.touches?.[0].clientX,o=r?t.clientY:t.touches?.[0].clientY;return{x:a-(e?.left??0),y:o-(e?.top??0)}},zS=(t,e,r,a,o)=>{const u=e.querySelectorAll(`.${t}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:t,nodeId:o,position:c.getAttribute("data-handlepos"),x:(d.left-r.left)/a,y:(d.top-r.top)/a,...Fm(c)}})};function rw({sourceX:t,sourceY:e,targetX:r,targetY:a,sourceControlX:o,sourceControlY:u,targetControlX:c,targetControlY:d}){const m=t*.125+o*.375+c*.375+r*.125,h=e*.125+u*.375+d*.375+a*.125,p=Math.abs(m-t),y=Math.abs(h-e);return[m,h,p,y]}function xc(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function US({pos:t,x1:e,y1:r,x2:a,y2:o,c:u}){switch(t){case we.Left:return[e-xc(e-a,u),r];case we.Right:return[e+xc(a-e,u),r];case we.Top:return[e,r-xc(r-o,u)];case we.Bottom:return[e,r+xc(o-r,u)]}}function iw({sourceX:t,sourceY:e,sourcePosition:r=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top,curvature:c=.25}){const[d,m]=US({pos:r,x1:t,y1:e,x2:a,y2:o,c}),[h,p]=US({pos:u,x1:a,y1:o,x2:t,y2:e,c}),[y,v,S,E]=rw({sourceX:t,sourceY:e,targetX:a,targetY:o,sourceControlX:d,sourceControlY:m,targetControlX:h,targetControlY:p});return[`M${t},${e} C${d},${m} ${h},${p} ${a},${o}`,y,v,S,E]}function aw({sourceX:t,sourceY:e,targetX:r,targetY:a}){const o=Math.abs(r-t)/2,u=r<t?r+o:r-o,c=Math.abs(a-e)/2,d=a<e?a+c:a-c;return[u,d,o,c]}function mV({sourceNode:t,targetNode:e,selected:r=!1,zIndex:a,elevateOnSelect:o=!1}){if(a!==void 0)return a;const u=o&&r?1e3:0,c=Math.max(t.parentId||o&&t.selected?t.internals.z:0,e.parentId||o&&e.selected?e.internals.z:0);return u+c}function pV({sourceNode:t,targetNode:e,width:r,height:a,transform:o}){const u=Sf(ef(t),ef(e));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-o[0]/o[2],y:-o[1]/o[2],width:r/o[2],height:a/o[2]};return Tl(c,Af(u))>0}const yV=({source:t,sourceHandle:e,target:r,targetHandle:a})=>`xy-edge__${t}${e||""}-${r}${a||""}`,vV=(t,e)=>e.some(r=>r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)),bV=(t,e)=>{if(!t.source||!t.target)return e;let r;return F1(t)?r={...t}:r={...t,id:yV(t)},vV(r,e)?e:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,e.concat(r))};function sw({sourceX:t,sourceY:e,targetX:r,targetY:a}){const[o,u,c,d]=aw({sourceX:t,sourceY:e,targetX:r,targetY:a});return[`M ${t},${e}L ${r},${a}`,o,u,c,d]}const ZS={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},SV=({source:t,sourcePosition:e=we.Bottom,target:r})=>e===we.Left||e===we.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1},YS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function AV({source:t,sourcePosition:e=we.Bottom,target:r,targetPosition:a=we.Top,center:o,offset:u,stepPosition:c}){const d=ZS[e],m=ZS[a],h={x:t.x+d.x*u,y:t.y+d.y*u},p={x:r.x+m.x*u,y:r.y+m.y*u},y=SV({source:h,sourcePosition:e,target:p}),v=y.x!==0?"x":"y",S=y[v];let E=[],A,R;const x={x:0,y:0},U={x:0,y:0},[,,N,I]=aw({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(d[v]*m[v]===-1){v==="x"?(A=o.x??h.x+(p.x-h.x)*c,R=o.y??(h.y+p.y)/2):(A=o.x??(h.x+p.x)/2,R=o.y??h.y+(p.y-h.y)*c);const B=[{x:A,y:h.y},{x:A,y:p.y}],M=[{x:h.x,y:R},{x:p.x,y:R}];d[v]===S?E=v==="x"?B:M:E=v==="x"?M:B}else{const B=[{x:h.x,y:p.y}],M=[{x:p.x,y:h.y}];if(v==="x"?E=d.x===S?M:B:E=d.y===S?B:M,e===a){const te=Math.abs(t[v]-r[v]);if(te<=u){const le=Math.min(u-1,u-te);d[v]===S?x[v]=(h[v]>t[v]?-1:1)*le:U[v]=(p[v]>r[v]?-1:1)*le}}if(e!==a){const te=v==="x"?"y":"x",le=d[v]===m[te],_=h[te]>p[te],K=h[te]<p[te];(d[v]===1&&(!le&&_||le&&K)||d[v]!==1&&(!le&&K||le&&_))&&(E=v==="x"?B:M)}const X={x:h.x+x.x,y:h.y+x.y},q={x:p.x+U.x,y:p.y+U.y},de=Math.max(Math.abs(X.x-E[0].x),Math.abs(q.x-E[0].x)),ne=Math.max(Math.abs(X.y-E[0].y),Math.abs(q.y-E[0].y));de>=ne?(A=(X.x+q.x)/2,R=E[0].y):(A=E[0].x,R=(X.y+q.y)/2)}return[[t,{x:h.x+x.x,y:h.y+x.y},...E,{x:p.x+U.x,y:p.y+U.y},r],A,R,N,I]}function EV(t,e,r,a){const o=Math.min(YS(t,e)/2,YS(e,r)/2,a),{x:u,y:c}=e;if(t.x===u&&u===r.x||t.y===c&&c===r.y)return`L${u} ${c}`;if(t.y===c){const h=t.x<r.x?-1:1,p=t.y<r.y?1:-1;return`L ${u+o*h},${c}Q ${u},${c} ${u},${c+o*p}`}const d=t.x<r.x?1:-1,m=t.y<r.y?-1:1;return`L ${u},${c+o*m}Q ${u},${c} ${u+o*d},${c}`}function Wg({sourceX:t,sourceY:e,sourcePosition:r=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top,borderRadius:c=5,centerX:d,centerY:m,offset:h=20,stepPosition:p=.5}){const[y,v,S,E,A]=AV({source:{x:t,y:e},sourcePosition:r,target:{x:a,y:o},targetPosition:u,center:{x:d,y:m},offset:h,stepPosition:p});return[y.reduce((x,U,N)=>{let I="";return N>0&&N<y.length-1?I=EV(y[N-1],U,y[N+1],c):I=`${N===0?"M":"L"}${U.x} ${U.y}`,x+=I,x},""),v,S,E,A]}function GS(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function wV(t){const{sourceNode:e,targetNode:r}=t;if(!GS(e)||!GS(r))return null;const a=e.internals.handleBounds||kS(e.handles),o=r.internals.handleBounds||kS(r.handles),u=WS(a?.source??[],t.sourceHandle),c=WS(t.connectionMode===Xs.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),t.targetHandle);if(!u||!c)return t.onError?.("008",mr.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const d=u?.position||we.Bottom,m=c?.position||we.Top,h=Il(e,u,d),p=Il(r,c,m);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:m}}function kS(t){if(!t)return null;const e=[],r=[];for(const a of t)a.width=a.width??1,a.height=a.height??1,a.type==="source"?e.push(a):a.type==="target"&&r.push(a);return{source:e,target:r}}function Il(t,e,r=we.Left,a=!1){const o=(e?.x??0)+t.internals.positionAbsolute.x,u=(e?.y??0)+t.internals.positionAbsolute.y,{width:c,height:d}=e??jr(t);if(a)return{x:o+c/2,y:u+d/2};switch(e?.position??r){case we.Top:return{x:o+c/2,y:u};case we.Right:return{x:o+c,y:u+d/2};case we.Bottom:return{x:o+c/2,y:u+d};case we.Left:return{x:o,y:u+d/2}}}function WS(t,e){return t&&(e?t.find(r=>r.id===e):t[0])||null}function Xg(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(a=>`${a}=${t[a]}`).join("&")}`:""}function NV(t,{id:e,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:o}){const u=new Set;return t.reduce((c,d)=>([d.markerStart||a,d.markerEnd||o].forEach(m=>{if(m&&typeof m=="object"){const h=Xg(m,e);u.has(h)||(c.push({id:h,color:m.color||r,...m}),u.add(h))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const ow=1e3,xV=10,Jm={nodeOrigin:[0,0],nodeExtent:Nl,elevateNodesOnSelect:!0,defaults:{}},TV={...Jm,checkEquality:!0};function jm(t,e){const r={...t};for(const a in e)e[a]!==void 0&&(r[a]=e[a]);return r}function CV(t,e,r){const a=jm(Jm,r);for(const o of t.values())if(o.parentId)$m(o,t,e,a);else{const u=Zl(o,a.nodeOrigin),c=Fs(o.extent)?o.extent:a.nodeExtent,d=Ea(u,c,jr(o));o.internals.positionAbsolute=d}}function IV(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const r=[],a=[];for(const o of t.handles){const u={id:o.id,width:o.width??1,height:o.height??1,nodeId:t.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?r.push(u):o.type==="target"&&a.push(u)}return{source:r,target:a}}function Kg(t,e,r,a){const o=jm(TV,a);let u={i:-1},c=t.length>0;const d=new Map(e),m=o?.elevateNodesOnSelect?ow:0;e.clear(),r.clear();for(const h of t){let p=d.get(h.id);if(o.checkEquality&&h===p?.internals.userNode)e.set(h.id,p);else{const y=Zl(h,o.nodeOrigin),v=Fs(h.extent)?h.extent:o.nodeExtent,S=Ea(y,v,jr(h));p={...o.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:S,handleBounds:IV(h,p),z:lw(h,m),userNode:h}},e.set(h.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(c=!1),h.parentId&&$m(p,e,r,a,u)}return c}function RV(t,e){if(!t.parentId)return;const r=e.get(t.parentId);r?r.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function $m(t,e,r,a,o){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:d}=jm(Jm,a),m=t.parentId,h=e.get(m);if(!h){console.warn(`Parent node ${m} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}RV(t,r),o&&!h.parentId&&h.internals.rootParentIndex===void 0&&(h.internals.rootParentIndex=++o.i,h.internals.z=h.internals.z+o.i*xV),o&&h.internals.rootParentIndex!==void 0&&(o.i=h.internals.rootParentIndex);const p=u?ow:0,{x:y,y:v,z:S}=DV(t,h,c,d,p),{positionAbsolute:E}=t.internals,A=y!==E.x||v!==E.y;(A||S!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:A?{x:y,y:v}:E,z:S}})}function lw(t,e){return(jn(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function DV(t,e,r,a,o){const{x:u,y:c}=e.internals.positionAbsolute,d=jr(t),m=Zl(t,r),h=Fs(t.extent)?Ea(m,t.extent,d):m;let p=Ea({x:u+h.x,y:c+h.y},a,d);t.extent==="parent"&&(p=j1(p,d,e));const y=lw(t,o),v=e.internals.z??0;return{x:p.x,y:p.y,z:v>=y?v+1:y}}function Pm(t,e,r,a=[0,0]){const o=[],u=new Map;for(const c of t){const d=e.get(c.parentId);if(!d)continue;const m=u.get(c.parentId)?.expandedRect??Hs(d),h=P1(m,c.rect);u.set(c.parentId,{expandedRect:h,parent:d})}return u.size>0&&u.forEach(({expandedRect:c,parent:d},m)=>{const h=d.internals.positionAbsolute,p=jr(d),y=d.origin??a,v=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,S=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,E=Math.max(p.width,Math.round(c.width)),A=Math.max(p.height,Math.round(c.height)),R=(E-p.width)*y[0],x=(A-p.height)*y[1];(v>0||S>0||R||x)&&(o.push({id:m,type:"position",position:{x:d.position.x-v+R,y:d.position.y-S+x}}),r.get(m)?.forEach(U=>{t.some(N=>N.id===U.id)||o.push({id:U.id,type:"position",position:{x:U.position.x+v,y:U.position.y+S}})})),(p.width<c.width||p.height<c.height||v||S)&&o.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:E+(v?y[0]*v-R:0),height:A+(S?y[1]*S-x:0)}})}),o}function _V(t,e,r,a,o,u){const c=a?.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const m=[],h=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(h.transform),y=[];for(const v of t.values()){const S=e.get(v.id);if(!S)continue;if(S.hidden){e.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const E=Fm(v.nodeElement),A=S.measured.width!==E.width||S.measured.height!==E.height;if(!!(E.width&&E.height&&(A||!S.internals.handleBounds||v.force))){const x=v.nodeElement.getBoundingClientRect(),U=Fs(S.extent)?S.extent:u;let{positionAbsolute:N}=S.internals;S.parentId&&S.extent==="parent"?N=j1(N,E,e.get(S.parentId)):U&&(N=Ea(N,U,E));const I={...S,measured:E,internals:{...S.internals,positionAbsolute:N,handleBounds:{source:zS("source",v.nodeElement,x,p,S.id),target:zS("target",v.nodeElement,x,p,S.id)}}};e.set(S.id,I),S.parentId&&$m(I,e,r,{nodeOrigin:o}),d=!0,A&&(m.push({id:S.id,type:"dimensions",dimensions:E}),S.expandParent&&S.parentId&&y.push({id:S.id,parentId:S.parentId,rect:Hs(I,o)}))}}if(y.length>0){const v=Pm(y,e,r,o);m.push(...v)}return{changes:m,updatedInternals:d}}async function OV({delta:t,panZoom:e,transform:r,translateExtent:a,width:o,height:u}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const c=await e.setViewportConstrained({x:r[0]+t.x,y:r[1]+t.y,zoom:r[2]},[[0,0],[o,u]],a),d=!!c&&(c.x!==r[0]||c.y!==r[1]||c.k!==r[2]);return Promise.resolve(d)}function XS(t,e,r,a,o,u){let c=o;const d=a.get(c)||new Map;a.set(c,d.set(r,e)),c=`${o}-${t}`;const m=a.get(c)||new Map;if(a.set(c,m.set(r,e)),u){c=`${o}-${t}-${u}`;const h=a.get(c)||new Map;a.set(c,h.set(r,e))}}function uw(t,e,r){t.clear(),e.clear();for(const a of r){const{source:o,target:u,sourceHandle:c=null,targetHandle:d=null}=a,m={edgeId:a.id,source:o,target:u,sourceHandle:c,targetHandle:d},h=`${o}-${c}--${u}-${d}`,p=`${u}-${d}--${o}-${c}`;XS("source",m,p,t,o,c),XS("target",m,h,t,u,d),e.set(a.id,a)}}function cw(t,e){if(!t.parentId)return!1;const r=e.get(t.parentId);return r?r.selected?!0:cw(r,e):!1}function KS(t,e,r){let a=t;do{if(a?.matches?.(e))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function VV(t,e,r,a){const o=new Map;for(const[u,c]of t)if((c.selected||c.id===a)&&(!c.parentId||!cw(c,t))&&(c.draggable||e&&typeof c.draggable>"u")){const d=t.get(u);d&&o.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:r.x-d.internals.positionAbsolute.x,y:r.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return o}function fg({nodeId:t,dragItems:e,nodeLookup:r,dragging:a=!0}){const o=[];for(const[c,d]of e){const m=r.get(c)?.internals.userNode;m&&o.push({...m,position:d.position,dragging:a})}if(!t)return[o[0],o];const u=r.get(t)?.internals.userNode;return[u?{...u,position:e.get(t)?.position||u.position,dragging:a}:o[0],o]}function MV({dragItems:t,snapGrid:e,x:r,y:a}){const o=t.values().next().value;if(!o)return null;const u={x:r-o.distance.x,y:a-o.distance.y},c=Gl(u,e);return{x:c.x-u.x,y:c.y-u.y}}function BV({onNodeMouseDown:t,getStoreItems:e,onDragStart:r,onDrag:a,onDragStop:o}){let u={x:null,y:null},c=0,d=new Map,m=!1,h={x:0,y:0},p=null,y=!1,v=null,S=!1,E=!1,A=null;function R({noDragClassName:U,handleSelector:N,domNode:I,isSelectable:V,nodeId:B,nodeClickDistance:M=0}){v=gn(I);function X({x:te,y:le}){const{nodeLookup:_,nodeExtent:K,snapGrid:T,snapToGrid:O,nodeOrigin:Y,onNodeDrag:H,onSelectionDrag:ie,onError:C,updateNodePositions:L}=e();u={x:te,y:le};let ee=!1;const re=d.size>1,fe=re&&K?kg(Yl(d)):null,ge=re&&O?MV({dragItems:d,snapGrid:T,x:te,y:le}):null;for(const[he,ce]of d){if(!_.has(he))continue;let me={x:te-ce.distance.x,y:le-ce.distance.y};O&&(me=ge?{x:Math.round(me.x+ge.x),y:Math.round(me.y+ge.y)}:Gl(me,T));let _e=null;if(re&&K&&!ce.extent&&fe){const{positionAbsolute:Te}=ce.internals,Ze=Te.x-fe.x+K[0][0],Qe=Te.x+ce.measured.width-fe.x2+K[1][0],qe=Te.y-fe.y+K[0][1],Tt=Te.y+ce.measured.height-fe.y2+K[1][1];_e=[[Ze,qe],[Qe,Tt]]}const{position:Re,positionAbsolute:Ne}=J1({nodeId:he,nextPosition:me,nodeLookup:_,nodeExtent:_e||K,nodeOrigin:Y,onError:C});ee=ee||ce.position.x!==Re.x||ce.position.y!==Re.y,ce.position=Re,ce.internals.positionAbsolute=Ne}if(E=E||ee,!!ee&&(L(d,!0),A&&(a||H||!B&&ie))){const[he,ce]=fg({nodeId:B,dragItems:d,nodeLookup:_});a?.(A,d,he,ce),H?.(A,he,ce),B||ie?.(A,ce)}}async function q(){if(!p)return;const{transform:te,panBy:le,autoPanSpeed:_,autoPanOnNodeDrag:K}=e();if(!K){m=!1,cancelAnimationFrame(c);return}const[T,O]=$1(h,p,_);(T!==0||O!==0)&&(u.x=(u.x??0)-T/te[2],u.y=(u.y??0)-O/te[2],await le({x:T,y:O})&&X(u)),c=requestAnimationFrame(q)}function de(te){const{nodeLookup:le,multiSelectionActive:_,nodesDraggable:K,transform:T,snapGrid:O,snapToGrid:Y,selectNodesOnDrag:H,onNodeDragStart:ie,onSelectionDragStart:C,unselectNodesAndEdges:L}=e();y=!0,(!H||!V)&&!_&&B&&(le.get(B)?.selected||L()),V&&H&&B&&t?.(B);const ee=ll(te.sourceEvent,{transform:T,snapGrid:O,snapToGrid:Y,containerBounds:p});if(u=ee,d=VV(le,K,ee,B),d.size>0&&(r||ie||!B&&C)){const[re,fe]=fg({nodeId:B,dragItems:d,nodeLookup:le});r?.(te.sourceEvent,d,re,fe),ie?.(te.sourceEvent,re,fe),B||C?.(te.sourceEvent,fe)}}const ne=C1().clickDistance(M).on("start",te=>{const{domNode:le,nodeDragThreshold:_,transform:K,snapGrid:T,snapToGrid:O}=e();p=le?.getBoundingClientRect()||null,S=!1,E=!1,A=te.sourceEvent,_===0&&de(te),u=ll(te.sourceEvent,{transform:K,snapGrid:T,snapToGrid:O,containerBounds:p}),h=$n(te.sourceEvent,p)}).on("drag",te=>{const{autoPanOnNodeDrag:le,transform:_,snapGrid:K,snapToGrid:T,nodeDragThreshold:O,nodeLookup:Y}=e(),H=ll(te.sourceEvent,{transform:_,snapGrid:K,snapToGrid:T,containerBounds:p});if(A=te.sourceEvent,(te.sourceEvent.type==="touchmove"&&te.sourceEvent.touches.length>1||B&&!Y.has(B))&&(S=!0),!S){if(!m&&le&&y&&(m=!0,q()),!y){const ie=$n(te.sourceEvent,p),C=ie.x-h.x,L=ie.y-h.y;Math.sqrt(C*C+L*L)>O&&de(te)}(u.x!==H.xSnapped||u.y!==H.ySnapped)&&d&&y&&(h=$n(te.sourceEvent,p),X(H))}}).on("end",te=>{if(!(!y||S)&&(m=!1,y=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:le,updateNodePositions:_,onNodeDragStop:K,onSelectionDragStop:T}=e();if(E&&(_(d,!1),E=!1),o||K||!B&&T){const[O,Y]=fg({nodeId:B,dragItems:d,nodeLookup:le,dragging:!1});o?.(te.sourceEvent,d,O,Y),K?.(te.sourceEvent,O,Y),B||T?.(te.sourceEvent,Y)}}}).filter(te=>{const le=te.target;return!te.button&&(!U||!KS(le,`.${U}`,I))&&(!N||KS(le,N,I))});v.call(ne)}function x(){v?.on(".drag",null)}return{update:R,destroy:x}}function LV(t,e,r){const a=[],o={x:t.x-r,y:t.y-r,width:r*2,height:r*2};for(const u of e.values())Tl(o,Hs(u))>0&&a.push(u);return a}const zV=250;function UV(t,e,r,a){let o=[],u=1/0;const c=LV(t,r,e+zV);for(const d of c){const m=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:p,y}=Il(d,h,h.position,!0),v=Math.sqrt(Math.pow(p-t.x,2)+Math.pow(y-t.y,2));v>e||(v<u?(o=[{...h,x:p,y}],u=v):v===u&&o.push({...h,x:p,y}))}}if(!o.length)return null;if(o.length>1){const d=a.type==="source"?"target":"source";return o.find(m=>m.type===d)??o[0]}return o[0]}function fw(t,e,r,a,o,u=!1){const c=a.get(t);if(!c)return null;const d=o==="strict"?c.internals.handleBounds?.[e]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],m=(r?d?.find(h=>h.id===r):d?.[0])??null;return m&&u?{...m,...Il(c,m,m.position,!0)}:m}function dw(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function ZV(t,e){let r=null;return e?r=!0:t&&!e&&(r=!1),r}const hw=()=>!0;function YV(t,{connectionMode:e,connectionRadius:r,handleId:a,nodeId:o,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:m,lib:h,autoPanOnConnect:p,flowId:y,panBy:v,cancelConnection:S,onConnectStart:E,onConnect:A,onConnectEnd:R,isValidConnection:x=hw,onReconnectEnd:U,updateConnection:N,getTransform:I,getFromHandle:V,autoPanSpeed:B,dragThreshold:M=1,handleDomNode:X}){const q=ew(t.target);let de=0,ne;const{x:te,y:le}=$n(t),_=dw(u,X),K=d?.getBoundingClientRect();let T=!1;if(!K||!_)return;const O=fw(o,_,a,m,e);if(!O)return;let Y=$n(t,K),H=!1,ie=null,C=!1,L=null;function ee(){if(!p||!K)return;const[Re,Ne]=$1(Y,K,B);v({x:Re,y:Ne}),de=requestAnimationFrame(ee)}const re={...O,nodeId:o,type:_,position:O.position},fe=m.get(o);let he={inProgress:!0,isValid:null,from:Il(fe,re,we.Left,!0),fromHandle:re,fromPosition:re.position,fromNode:fe,to:Y,toHandle:null,toPosition:VS[re.position],toNode:null,pointer:Y};function ce(){T=!0,N(he),E?.(t,{nodeId:o,handleId:a,handleType:_})}M===0&&ce();function me(Re){if(!T){const{x:Qe,y:qe}=$n(Re),Tt=Qe-te,bn=qe-le;if(!(Tt*Tt+bn*bn>M*M))return;ce()}if(!V()||!re){_e(Re);return}const Ne=I();Y=$n(Re,K),ne=UV(kl(Y,Ne,!1,[1,1]),r,m,re),H||(ee(),H=!0);const Te=gw(Re,{handle:ne,connectionMode:e,fromNodeId:o,fromHandleId:a,fromType:c?"target":"source",isValidConnection:x,doc:q,lib:h,flowId:y,nodeLookup:m});L=Te.handleDomNode,ie=Te.connection,C=ZV(!!ne,Te.isValid);const Ze={...he,isValid:C,to:Te.toHandle&&C?tf({x:Te.toHandle.x,y:Te.toHandle.y},Ne):Y,toHandle:Te.toHandle,toPosition:C&&Te.toHandle?Te.toHandle.position:VS[re.position],toNode:Te.toHandle?m.get(Te.toHandle.nodeId):null,pointer:Y};N(Ze),he=Ze}function _e(Re){if(!("touches"in Re&&Re.touches.length>0)){if(T){(ne||L)&&ie&&C&&A?.(ie);const{inProgress:Ne,...Te}=he,Ze={...Te,toPosition:he.toHandle?he.toPosition:null};R?.(Re,Ze),u&&U?.(Re,Ze)}S(),cancelAnimationFrame(de),H=!1,C=!1,ie=null,L=null,q.removeEventListener("mousemove",me),q.removeEventListener("mouseup",_e),q.removeEventListener("touchmove",me),q.removeEventListener("touchend",_e)}}q.addEventListener("mousemove",me),q.addEventListener("mouseup",_e),q.addEventListener("touchmove",me),q.addEventListener("touchend",_e)}function gw(t,{handle:e,connectionMode:r,fromNodeId:a,fromHandleId:o,fromType:u,doc:c,lib:d,flowId:m,isValidConnection:h=hw,nodeLookup:p}){const y=u==="target",v=e?c.querySelector(`.${d}-flow__handle[data-id="${m}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:S,y:E}=$n(t),A=c.elementFromPoint(S,E),R=A?.classList.contains(`${d}-flow__handle`)?A:v,x={handleDomNode:R,isValid:!1,connection:null,toHandle:null};if(R){const U=dw(void 0,R),N=R.getAttribute("data-nodeid"),I=R.getAttribute("data-handleid"),V=R.classList.contains("connectable"),B=R.classList.contains("connectableend");if(!N||!U)return x;const M={source:y?N:a,sourceHandle:y?I:o,target:y?a:N,targetHandle:y?o:I};x.connection=M;const q=V&&B&&(r===Xs.Strict?y&&U==="source"||!y&&U==="target":N!==a||I!==o);x.isValid=q&&h(M),x.toHandle=fw(N,U,I,p,r,!0)}return x}const Hg={onPointerDown:YV,isValid:gw};function GV({domNode:t,panZoom:e,getTransform:r,getViewScale:a}){const o=gn(t);function u({translateExtent:d,width:m,height:h,zoomStep:p=1,pannable:y=!0,zoomable:v=!0,inversePan:S=!1}){const E=N=>{if(N.sourceEvent.type!=="wheel"||!e)return;const I=r(),V=N.sourceEvent.ctrlKey&&Cl()?10:1,B=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*p,M=I[2]*Math.pow(2,B*V);e.scaleTo(M)};let A=[0,0];const R=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(A=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},x=N=>{const I=r();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!e)return;const V=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],B=[V[0]-A[0],V[1]-A[1]];A=V;const M=a()*Math.max(I[2],Math.log(I[2]))*(S?-1:1),X={x:I[0]-B[0]*M,y:I[1]-B[1]*M},q=[[0,0],[m,h]];e.setViewportConstrained({x:X.x,y:X.y,zoom:I[2]},q,d)},U=k1().on("start",R).on("zoom",y?x:null).on("zoom.wheel",v?E:null);o.call(U,{})}function c(){o.on("zoom",null)}return{update:u,destroy:c,pointer:Wn}}const Ef=t=>({x:t.x,y:t.y,zoom:t.k}),dg=({x:t,y:e,zoom:r})=>bf.translate(t,e).scale(r),Ns=(t,e)=>t.target.closest(`.${e}`),mw=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),kV=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,hg=(t,e=0,r=kV,a=()=>{})=>{const o=typeof e=="number"&&e>0;return o||a(),o?t.transition().duration(e).ease(r).on("end",a):t},pw=t=>{const e=t.ctrlKey&&Cl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function WV({zoomPanValues:t,noWheelClassName:e,d3Selection:r,d3Zoom:a,panOnScrollMode:o,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:m,onPanZoomEnd:h}){return p=>{if(Ns(p,e))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const y=r.property("__zoom").k||1;if(p.ctrlKey&&c){const R=Wn(p),x=pw(p),U=y*Math.pow(2,x);a.scaleTo(r,U,R,p);return}const v=p.deltaMode===1?20:1;let S=o===ya.Vertical?0:p.deltaX*v,E=o===ya.Horizontal?0:p.deltaY*v;!Cl()&&p.shiftKey&&o!==ya.Vertical&&(S=p.deltaY*v,E=0),a.translateBy(r,-(S/y)*u,-(E/y)*u,{internal:!0});const A=Ef(r.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(m?.(p,A),t.panScrollTimeout=setTimeout(()=>{h?.(p,A),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,d?.(p,A))}}function XV({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:r}){return function(a,o){const u=a.type==="wheel",c=!e&&u&&!a.ctrlKey,d=Ns(a,t);if(a.ctrlKey&&u&&d&&a.preventDefault(),c||d)return null;a.preventDefault(),r.call(this,a,o)}}function KV({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const o=Ef(a.transform);t.mouseButton=a.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=o,a.sourceEvent?.type==="mousedown"&&e(!0),r&&r?.(a.sourceEvent,o)}}function HV({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:r,onTransformChange:a,onPanZoom:o}){return u=>{t.usedRightMouseButton=!!(r&&mw(e,t.mouseButton??0)),u.sourceEvent?.sync||a([u.transform.x,u.transform.y,u.transform.k]),o&&!u.sourceEvent?.internal&&o?.(u.sourceEvent,Ef(u.transform))}}function FV({zoomPanValues:t,panOnDrag:e,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:o,onPaneContextMenu:u}){return c=>{if(!c.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,u&&mw(e,t.mouseButton??0)&&!t.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),t.usedRightMouseButton=!1,a(!1),o)){const d=Ef(c.transform);t.prevViewport=d,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o?.(c.sourceEvent,d)},r?150:0)}}}function JV({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:r,panOnDrag:a,panOnScroll:o,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:m,lib:h,connectionInProgress:p}){return y=>{const v=t||e,S=r&&y.ctrlKey,E=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(Ns(y,`${h}-flow__node`)||Ns(y,`${h}-flow__edge`)))return!0;if(!a&&!v&&!o&&!u&&!r||c||p&&!E||Ns(y,d)&&E||Ns(y,m)&&(!E||o&&E&&!t)||!r&&y.ctrlKey&&E)return!1;if(!r&&y.type==="touchstart"&&y.touches?.length>1)return y.preventDefault(),!1;if(!v&&!o&&!S&&E||!a&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(a)&&!a.includes(y.button)&&y.type==="mousedown")return!1;const A=Array.isArray(a)&&a.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||E)&&A}}function jV({domNode:t,minZoom:e,maxZoom:r,translateExtent:a,viewport:o,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:d,onDraggingChange:m}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=t.getBoundingClientRect(),y=k1().scaleExtent([e,r]).translateExtent(a),v=gn(t).call(y);U({x:o.x,y:o.y,zoom:Ks(o.zoom,e,r)},[[0,0],[p.width,p.height]],a);const S=v.on("wheel.zoom"),E=v.on("dblclick.zoom");y.wheelDelta(pw);function A(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Mc).transform(hg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function R({noWheelClassName:ne,noPanClassName:te,onPaneContextMenu:le,userSelectionActive:_,panOnScroll:K,panOnDrag:T,panOnScrollMode:O,panOnScrollSpeed:Y,preventScrolling:H,zoomOnPinch:ie,zoomOnScroll:C,zoomOnDoubleClick:L,zoomActivationKeyPressed:ee,lib:re,onTransformChange:fe,connectionInProgress:ge,paneClickDistance:he,selectionOnDrag:ce}){_&&!h.isZoomingOrPanning&&x();const me=K&&!ee&&!_;y.clickDistance(ce?1/0:!jn(he)||he<0?0:he);const _e=me?WV({zoomPanValues:h,noWheelClassName:ne,d3Selection:v,d3Zoom:y,panOnScrollMode:O,panOnScrollSpeed:Y,zoomOnPinch:ie,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:d}):XV({noWheelClassName:ne,preventScrolling:H,d3ZoomHandler:S});if(v.on("wheel.zoom",_e,{passive:!1}),!_){const Ne=KV({zoomPanValues:h,onDraggingChange:m,onPanZoomStart:c});y.on("start",Ne);const Te=HV({zoomPanValues:h,panOnDrag:T,onPaneContextMenu:!!le,onPanZoom:u,onTransformChange:fe});y.on("zoom",Te);const Ze=FV({zoomPanValues:h,panOnDrag:T,panOnScroll:K,onPaneContextMenu:le,onPanZoomEnd:d,onDraggingChange:m});y.on("end",Ze)}const Re=JV({zoomActivationKeyPressed:ee,panOnDrag:T,zoomOnScroll:C,panOnScroll:K,zoomOnDoubleClick:L,zoomOnPinch:ie,userSelectionActive:_,noPanClassName:te,noWheelClassName:ne,lib:re,connectionInProgress:ge});y.filter(Re),L?v.on("dblclick.zoom",E):v.on("dblclick.zoom",null)}function x(){y.on("zoom",null)}async function U(ne,te,le){const _=dg(ne),K=y?.constrain()(_,te,le);return K&&await A(K),new Promise(T=>T(K))}async function N(ne,te){const le=dg(ne);return await A(le,te),new Promise(_=>_(le))}function I(ne){if(v){const te=dg(ne),le=v.property("__zoom");(le.k!==ne.zoom||le.x!==ne.x||le.y!==ne.y)&&y?.transform(v,te,null,{sync:!0})}}function V(){const ne=v?G1(v.node()):{x:0,y:0,k:1};return{x:ne.x,y:ne.y,zoom:ne.k}}function B(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Mc).scaleTo(hg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function M(ne,te){return v?new Promise(le=>{y?.interpolate(te?.interpolate==="linear"?ol:Mc).scaleBy(hg(v,te?.duration,te?.ease,()=>le(!0)),ne)}):Promise.resolve(!1)}function X(ne){y?.scaleExtent(ne)}function q(ne){y?.translateExtent(ne)}function de(ne){const te=!jn(ne)||ne<0?0:ne;y?.clickDistance(te)}return{update:R,destroy:x,setViewport:N,setViewportConstrained:U,getViewport:V,scaleTo:B,scaleBy:M,setScaleExtent:X,setTranslateExtent:q,syncViewport:I,setClickDistance:de}}var Js;(function(t){t.Line="line",t.Handle="handle"})(Js||(Js={}));function $V({width:t,prevWidth:e,height:r,prevHeight:a,affectsX:o,affectsY:u}){const c=t-e,d=r-a,m=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&o&&(m[0]=m[0]*-1),d&&u&&(m[1]=m[1]*-1),m}function HS(t){const e=t.includes("right")||t.includes("left"),r=t.includes("bottom")||t.includes("top"),a=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:r,affectsX:a,affectsY:o}}function Ci(t,e){return Math.max(0,e-t)}function Ii(t,e){return Math.max(0,t-e)}function Tc(t,e,r){return Math.max(0,e-t,t-r)}function FS(t,e){return t?!e:e}function PV(t,e,r,a,o,u,c,d){let{affectsX:m,affectsY:h}=e;const{isHorizontal:p,isVertical:y}=e,v=p&&y,{xSnapped:S,ySnapped:E}=r,{minWidth:A,maxWidth:R,minHeight:x,maxHeight:U}=a,{x:N,y:I,width:V,height:B,aspectRatio:M}=t;let X=Math.floor(p?S-t.pointerX:0),q=Math.floor(y?E-t.pointerY:0);const de=V+(m?-X:X),ne=B+(h?-q:q),te=-u[0]*V,le=-u[1]*B;let _=Tc(de,A,R),K=Tc(ne,x,U);if(c){let Y=0,H=0;m&&X<0?Y=Ci(N+X+te,c[0][0]):!m&&X>0&&(Y=Ii(N+de+te,c[1][0])),h&&q<0?H=Ci(I+q+le,c[0][1]):!h&&q>0&&(H=Ii(I+ne+le,c[1][1])),_=Math.max(_,Y),K=Math.max(K,H)}if(d){let Y=0,H=0;m&&X>0?Y=Ii(N+X,d[0][0]):!m&&X<0&&(Y=Ci(N+de,d[1][0])),h&&q>0?H=Ii(I+q,d[0][1]):!h&&q<0&&(H=Ci(I+ne,d[1][1])),_=Math.max(_,Y),K=Math.max(K,H)}if(o){if(p){const Y=Tc(de/M,x,U)*M;if(_=Math.max(_,Y),c){let H=0;!m&&!h||m&&!h&&v?H=Ii(I+le+de/M,c[1][1])*M:H=Ci(I+le+(m?X:-X)/M,c[0][1])*M,_=Math.max(_,H)}if(d){let H=0;!m&&!h||m&&!h&&v?H=Ci(I+de/M,d[1][1])*M:H=Ii(I+(m?X:-X)/M,d[0][1])*M,_=Math.max(_,H)}}if(y){const Y=Tc(ne*M,A,R)/M;if(K=Math.max(K,Y),c){let H=0;!m&&!h||h&&!m&&v?H=Ii(N+ne*M+te,c[1][0])/M:H=Ci(N+(h?q:-q)*M+te,c[0][0])/M,K=Math.max(K,H)}if(d){let H=0;!m&&!h||h&&!m&&v?H=Ci(N+ne*M,d[1][0])/M:H=Ii(N+(h?q:-q)*M,d[0][0])/M,K=Math.max(K,H)}}}q=q+(q<0?K:-K),X=X+(X<0?_:-_),o&&(v?de>ne*M?q=(FS(m,h)?-X:X)/M:X=(FS(m,h)?-q:q)*M:p?(q=X/M,h=m):(X=q*M,m=h));const T=m?N+X:N,O=h?I+q:I;return{width:V+(m?-X:X),height:B+(h?-q:q),x:u[0]*X*(m?-1:1)+T,y:u[1]*q*(h?-1:1)+O}}const yw={width:0,height:0,x:0,y:0},QV={...yw,pointerX:0,pointerY:0,aspectRatio:1};function qV(t){return[[0,0],[t.measured.width,t.measured.height]]}function eM(t,e,r){const a=e.position.x+t.position.x,o=e.position.y+t.position.y,u=t.measured.width??0,c=t.measured.height??0,d=r[0]*u,m=r[1]*c;return[[a-d,o-m],[a+u-d,o+c-m]]}function tM({domNode:t,nodeId:e,getStoreItems:r,onChange:a,onEnd:o}){const u=gn(t);let c={controlDirection:HS("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:h,boundaries:p,keepAspectRatio:y,resizeDirection:v,onResizeStart:S,onResize:E,onResizeEnd:A,shouldResize:R}){let x={...yw},U={...QV};c={boundaries:p,resizeDirection:v,keepAspectRatio:y,controlDirection:HS(h)};let N,I=null,V=[],B,M,X,q=!1;const de=C1().on("start",ne=>{const{nodeLookup:te,transform:le,snapGrid:_,snapToGrid:K,nodeOrigin:T,paneDomNode:O}=r();if(N=te.get(e),!N)return;I=O?.getBoundingClientRect()??null;const{xSnapped:Y,ySnapped:H}=ll(ne.sourceEvent,{transform:le,snapGrid:_,snapToGrid:K,containerBounds:I});x={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},U={...x,pointerX:Y,pointerY:H,aspectRatio:x.width/x.height},B=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(B=te.get(N.parentId),M=B&&N.extent==="parent"?qV(B):void 0),V=[],X=void 0;for(const[ie,C]of te)if(C.parentId===e&&(V.push({id:ie,position:{...C.position},extent:C.extent}),C.extent==="parent"||C.expandParent)){const L=eM(C,N,C.origin??T);X?X=[[Math.min(L[0][0],X[0][0]),Math.min(L[0][1],X[0][1])],[Math.max(L[1][0],X[1][0]),Math.max(L[1][1],X[1][1])]]:X=L}S?.(ne,{...x})}).on("drag",ne=>{const{transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K}=r(),T=ll(ne.sourceEvent,{transform:te,snapGrid:le,snapToGrid:_,containerBounds:I}),O=[];if(!N)return;const{x:Y,y:H,width:ie,height:C}=x,L={},ee=N.origin??K,{width:re,height:fe,x:ge,y:he}=PV(U,c.controlDirection,T,c.boundaries,c.keepAspectRatio,ee,M,X),ce=re!==ie,me=fe!==C,_e=ge!==Y&&ce,Re=he!==H&&me;if(!_e&&!Re&&!ce&&!me)return;if((_e||Re||ee[0]===1||ee[1]===1)&&(L.x=_e?ge:x.x,L.y=Re?he:x.y,x.x=L.x,x.y=L.y,V.length>0)){const Qe=ge-Y,qe=he-H;for(const Tt of V)Tt.position={x:Tt.position.x-Qe+ee[0]*(re-ie),y:Tt.position.y-qe+ee[1]*(fe-C)},O.push(Tt)}if((ce||me)&&(L.width=ce&&(!c.resizeDirection||c.resizeDirection==="horizontal")?re:x.width,L.height=me&&(!c.resizeDirection||c.resizeDirection==="vertical")?fe:x.height,x.width=L.width,x.height=L.height),B&&N.expandParent){const Qe=ee[0]*(L.width??0);L.x&&L.x<Qe&&(x.x=Qe,U.x=U.x-(L.x-Qe));const qe=ee[1]*(L.height??0);L.y&&L.y<qe&&(x.y=qe,U.y=U.y-(L.y-qe))}const Ne=$V({width:x.width,prevWidth:ie,height:x.height,prevHeight:C,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),Te={...x,direction:Ne};R?.(ne,Te)!==!1&&(q=!0,E?.(ne,Te),a(L,O))}).on("end",ne=>{q&&(A?.(ne,{...x}),o?.({...x}),q=!1)});u.call(de)}function m(){u.on(".drag",null)}return{update:d,destroy:m}}var gg={exports:{}},mg={},pg={exports:{}},yg={};var JS;function nM(){if(JS)return yg;JS=1;var t=Dl();function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var r=typeof Object.is=="function"?Object.is:e,a=t.useState,o=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function d(y,v){var S=v(),E=a({inst:{value:S,getSnapshot:v}}),A=E[0].inst,R=E[1];return u(function(){A.value=S,A.getSnapshot=v,m(A)&&R({inst:A})},[y,S,v]),o(function(){return m(A)&&R({inst:A}),y(function(){m(A)&&R({inst:A})})},[y]),c(S),S}function m(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!r(y,S)}catch{return!0}}function h(y,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return yg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,yg}var jS;function rM(){return jS||(jS=1,pg.exports=nM()),pg.exports}var $S;function iM(){if($S)return mg;$S=1;var t=Dl(),e=rM();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,u=t.useRef,c=t.useEffect,d=t.useMemo,m=t.useDebugValue;return mg.useSyncExternalStoreWithSelector=function(h,p,y,v,S){var E=u(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=d(function(){function x(B){if(!U){if(U=!0,N=B,B=v(B),S!==void 0&&A.hasValue){var M=A.value;if(S(M,B))return I=M}return I=B}if(M=I,a(N,B))return M;var X=v(B);return S!==void 0&&S(M,X)?(N=B,M):(N=B,I=X)}var U=!1,N,I,V=y===void 0?null:y;return[function(){return x(p())},V===null?void 0:function(){return x(V())}]},[p,y,v,S]);var R=o(h,E[0],E[1]);return c(function(){A.hasValue=!0,A.value=R},[R]),m(R),R},mg}var PS;function aM(){return PS||(PS=1,gg.exports=iM()),gg.exports}var sM=aM();const oM=EA(sM),lM={},QS=t=>{let e;const r=new Set,a=(p,y)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const S=e;e=y??(typeof v!="object"||v===null)?v:Object.assign({},e,v),r.forEach(E=>E(e,S))}},o=()=>e,m={setState:a,getState:o,getInitialState:()=>h,subscribe:p=>(r.add(p),()=>r.delete(p)),destroy:()=>{(lM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=e=t(a,o,m);return m},uM=t=>t?QS(t):QS,{useDebugValue:cM}=g3,{useSyncExternalStoreWithSelector:fM}=oM,dM=t=>t;function vw(t,e=dM,r){const a=fM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return cM(a),a}const qS=(t,e)=>{const r=uM(t),a=(o,u=e)=>vw(r,o,u);return Object.assign(a,r),a},hM=(t,e)=>t?qS(t,e):qS;function ht(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[a,o]of t)if(!Object.is(o,e.get(a)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const a of t)if(!e.has(a))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.is(t[a],e[a]))return!1;return!0}wA();const wf=P.createContext(null),gM=wf.Provider,bw=mr.error001();function We(t,e){const r=P.useContext(wf);if(r===null)throw new Error(bw);return vw(r,t,e)}function ft(){const t=P.useContext(wf);if(t===null)throw new Error(bw);return P.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const eA={display:"none"},mM={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Sw="react-flow__node-desc",Aw="react-flow__edge-desc",pM="react-flow__aria-live",yM=t=>t.ariaLiveMessage,vM=t=>t.ariaLabelConfig;function bM({rfId:t}){const e=We(yM);return $.jsx("div",{id:`${pM}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:mM,children:e})}function SM({rfId:t,disableKeyboardA11y:e}){const r=We(vM);return $.jsxs($.Fragment,{children:[$.jsx("div",{id:`${Sw}-${t}`,style:eA,children:e?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),$.jsx("div",{id:`${Aw}-${t}`,style:eA,children:r["edge.a11yDescription.default"]}),!e&&$.jsx(bM,{rfId:t})]})}const Nf=P.forwardRef(({position:t="top-left",children:e,className:r,style:a,...o},u)=>{const c=`${t}`.split("-");return $.jsx("div",{className:xt(["react-flow__panel",r,...c]),style:a,ref:u,...o,children:e})});Nf.displayName="Panel";function AM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:$.jsx(Nf,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:$.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const EM=t=>{const e=[],r=[];for(const[,a]of t.nodeLookup)a.selected&&e.push(a.internals.userNode);for(const[,a]of t.edgeLookup)a.selected&&r.push(a);return{selectedNodes:e,selectedEdges:r}},Cc=t=>t.id;function wM(t,e){return ht(t.selectedNodes.map(Cc),e.selectedNodes.map(Cc))&&ht(t.selectedEdges.map(Cc),e.selectedEdges.map(Cc))}function NM({onSelectionChange:t}){const e=ft(),{selectedNodes:r,selectedEdges:a}=We(EM,wM);return P.useEffect(()=>{const o={nodes:r,edges:a};t?.(o),e.getState().onSelectionChangeHandlers.forEach(u=>u(o))},[r,a,t]),null}const xM=t=>!!t.onSelectionChangeHandlers;function TM({onSelectionChange:t}){const e=We(xM);return t||e?$.jsx(NM,{onSelectionChange:t}):null}const Ew=[0,0],CM={x:0,y:0,zoom:1},IM=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],tA=[...IM,"rfId"],RM=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),nA={translateExtent:Nl,nodeOrigin:Ew,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function DM(t){const{setNodes:e,setEdges:r,setMinZoom:a,setMaxZoom:o,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:m}=We(RM,ht),h=ft();P.useEffect(()=>(m(t.defaultNodes,t.defaultEdges),()=>{p.current=nA,d()}),[]);const p=P.useRef(nA);return P.useEffect(()=>{for(const y of tA){const v=t[y],S=p.current[y];v!==S&&(typeof t[y]>"u"||(y==="nodes"?e(v):y==="edges"?r(v):y==="minZoom"?a(v):y==="maxZoom"?o(v):y==="translateExtent"?u(v):y==="nodeExtent"?c(v):y==="ariaLabelConfig"?h.setState({ariaLabelConfig:hV(v)}):y==="fitView"?h.setState({fitViewQueued:v}):y==="fitViewOptions"?h.setState({fitViewOptions:v}):h.setState({[y]:v})))}p.current=t},tA.map(y=>t[y])),null}function rA(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function _M(t){const[e,r]=P.useState(t==="system"?null:t);return P.useEffect(()=>{if(t!=="system"){r(t);return}const a=rA(),o=()=>r(a?.matches?"dark":"light");return o(),a?.addEventListener("change",o),()=>{a?.removeEventListener("change",o)}},[t]),e!==null?e:rA()?.matches?"dark":"light"}const iA=typeof document<"u"?document:null;function Rl(t=null,e={target:iA,actInsideInputWithModifier:!0}){const[r,a]=P.useState(!1),o=P.useRef(!1),u=P.useRef(new Set([])),[c,d]=P.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((y,v)=>y.concat(...v),[]);return[h,p]}return[[],[]]},[t]);return P.useEffect(()=>{const m=e?.target??iA,h=e?.actInsideInputWithModifier??!0;if(t!==null){const p=S=>{if(o.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!o.current||o.current&&!h)&&tw(S))return!1;const A=sA(S.code,d);if(u.current.add(S[A]),aA(c,u.current,!1)){const R=S.composedPath?.()?.[0]||S.target,x=R?.nodeName==="BUTTON"||R?.nodeName==="A";e.preventDefault!==!1&&(o.current||!x)&&S.preventDefault(),a(!0)}},y=S=>{const E=sA(S.code,d);aA(c,u.current,!0)?(a(!1),u.current.clear()):u.current.delete(S[E]),S.key==="Meta"&&u.current.clear(),o.current=!1},v=()=>{u.current.clear(),a(!1)};return m?.addEventListener("keydown",p),m?.addEventListener("keyup",y),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{m?.removeEventListener("keydown",p),m?.removeEventListener("keyup",y),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,a]),r}function aA(t,e,r){return t.filter(a=>r||a.length===e.size).some(a=>a.every(o=>e.has(o)))}function sA(t,e){return e.includes(t)?"code":"key"}const OM=()=>{const t=ft();return P.useMemo(()=>({zoomIn:e=>{const{panZoom:r}=t.getState();return r?r.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:r}=t.getState();return r?r.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,r)=>{const{panZoom:a}=t.getState();return a?a.scaleTo(e,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,r)=>{const{transform:[a,o,u],panZoom:c}=t.getState();return c?(await c.setViewport({x:e.x??a,y:e.y??o,zoom:e.zoom??u},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,r,a]=t.getState().transform;return{x:e,y:r,zoom:a}},setCenter:async(e,r,a)=>t.getState().setCenter(e,r,a),fitBounds:async(e,r)=>{const{width:a,height:o,minZoom:u,maxZoom:c,panZoom:d}=t.getState(),m=Hm(e,a,o,u,c,r?.padding??.1);return d?(await d.setViewport(m,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,r={})=>{const{transform:a,snapGrid:o,snapToGrid:u,domNode:c}=t.getState();if(!c)return e;const{x:d,y:m}=c.getBoundingClientRect(),h={x:e.x-d,y:e.y-m},p=r.snapGrid??o,y=r.snapToGrid??u;return kl(h,a,y,p)},flowToScreenPosition:e=>{const{transform:r,domNode:a}=t.getState();if(!a)return e;const{x:o,y:u}=a.getBoundingClientRect(),c=tf(e,r);return{x:c.x+o,y:c.y+u}}}),[])};function ww(t,e){const r=[],a=new Map,o=[];for(const u of t)if(u.type==="add"){o.push(u);continue}else if(u.type==="remove"||u.type==="replace")a.set(u.id,[u]);else{const c=a.get(u.id);c?c.push(u):a.set(u.id,[u])}for(const u of e){const c=a.get(u.id);if(!c){r.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){r.push({...c[0].item});continue}const d={...u};for(const m of c)VM(m,d);r.push(d)}return o.length&&o.forEach(u=>{u.index!==void 0?r.splice(u.index,0,{...u.item}):r.push({...u.item})}),r}function VM(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function MM(t,e){return ww(t,e)}function BM(t,e){return ww(t,e)}function da(t,e){return{id:t,type:"select",selected:e}}function xs(t,e=new Set,r=!1){const a=[];for(const[o,u]of t){const c=e.has(o);!(u.selected===void 0&&!c)&&u.selected!==c&&(r&&(u.selected=c),a.push(da(u.id,c)))}return a}function oA({items:t=[],lookup:e}){const r=[],a=new Map(t.map(o=>[o.id,o]));for(const[o,u]of t.entries()){const c=e.get(u.id),d=c?.internals?.userNode??c;d!==void 0&&d!==u&&r.push({id:u.id,item:u,type:"replace"}),d===void 0&&r.push({item:u,type:"add",index:o})}for(const[o]of e)a.get(o)===void 0&&r.push({id:o,type:"remove"});return r}function lA(t){return{id:t.id,type:"remove"}}const uA=t=>rV(t),LM=t=>F1(t);function Nw(t){return P.forwardRef(t)}const zM=typeof window<"u"?P.useLayoutEffect:P.useEffect;function cA(t){const[e,r]=P.useState(BigInt(0)),[a]=P.useState(()=>UM(()=>r(o=>o+BigInt(1))));return zM(()=>{const o=a.get();o.length&&(t(o),a.reset())},[e]),a}function UM(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:r=>{e.push(r),t()}}}const xw=P.createContext(null);function ZM({children:t}){const e=ft(),r=P.useCallback(d=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:p,onNodesChange:y,nodeLookup:v,fitViewQueued:S}=e.getState();let E=m;for(const R of d)E=typeof R=="function"?R(E):R;const A=oA({items:E,lookup:v});p&&h(E),A.length>0?y?.(A):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:R,nodes:x,setNodes:U}=e.getState();R&&U(x)})},[]),a=cA(r),o=P.useCallback(d=>{const{edges:m=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:y,edgeLookup:v}=e.getState();let S=m;for(const E of d)S=typeof E=="function"?E(S):E;p?h(S):y&&y(oA({items:S,lookup:v}))},[]),u=cA(o),c=P.useMemo(()=>({nodeQueue:a,edgeQueue:u}),[]);return $.jsx(xw.Provider,{value:c,children:t})}function YM(){const t=P.useContext(xw);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const GM=t=>!!t.panZoom;function Qm(){const t=OM(),e=ft(),r=YM(),a=We(GM),o=P.useMemo(()=>{const u=y=>e.getState().nodeLookup.get(y),c=y=>{r.nodeQueue.push(y)},d=y=>{r.edgeQueue.push(y)},m=y=>{const{nodeLookup:v,nodeOrigin:S}=e.getState(),E=uA(y)?y:v.get(y.id),A=E.parentId?q1(E.position,E.measured,E.parentId,v,S):E.position,R={...E,position:A,width:E.measured?.width??E.width,height:E.measured?.height??E.height};return Hs(R)},h=(y,v,S={replace:!1})=>{c(E=>E.map(A=>{if(A.id===y){const R=typeof v=="function"?v(A):v;return S.replace&&uA(R)?R:{...A,...R}}return A}))},p=(y,v,S={replace:!1})=>{d(E=>E.map(A=>{if(A.id===y){const R=typeof v=="function"?v(A):v;return S.replace&&LM(R)?R:{...A,...R}}return A}))};return{getNodes:()=>e.getState().nodes.map(y=>({...y})),getNode:y=>u(y)?.internals.userNode,getInternalNode:u,getEdges:()=>{const{edges:y=[]}=e.getState();return y.map(v=>({...v}))},getEdge:y=>e.getState().edgeLookup.get(y),setNodes:c,setEdges:d,addNodes:y=>{const v=Array.isArray(y)?y:[y];r.nodeQueue.push(S=>[...S,...v])},addEdges:y=>{const v=Array.isArray(y)?y:[y];r.edgeQueue.push(S=>[...S,...v])},toObject:()=>{const{nodes:y=[],edges:v=[],transform:S}=e.getState(),[E,A,R]=S;return{nodes:y.map(x=>({...x})),edges:v.map(x=>({...x})),viewport:{x:E,y:A,zoom:R}}},deleteElements:async({nodes:y=[],edges:v=[]})=>{const{nodes:S,edges:E,onNodesDelete:A,onEdgesDelete:R,triggerNodeChanges:x,triggerEdgeChanges:U,onDelete:N,onBeforeDelete:I}=e.getState(),{nodes:V,edges:B}=await lV({nodesToRemove:y,edgesToRemove:v,nodes:S,edges:E,onBeforeDelete:I}),M=B.length>0,X=V.length>0;if(M){const q=B.map(lA);R?.(B),U(q)}if(X){const q=V.map(lA);A?.(V),x(q)}return(X||M)&&N?.({nodes:V,edges:B}),{deletedNodes:V,deletedEdges:B}},getIntersectingNodes:(y,v=!0,S)=>{const E=BS(y),A=E?y:m(y),R=S!==void 0;return A?(S||e.getState().nodes).filter(x=>{const U=e.getState().nodeLookup.get(x.id);if(U&&!E&&(x.id===y.id||!U.internals.positionAbsolute))return!1;const N=Hs(R?x:U),I=Tl(N,A);return v&&I>0||I>=N.width*N.height||I>=A.width*A.height}):[]},isNodeIntersecting:(y,v,S=!0)=>{const A=BS(y)?y:m(y);if(!A)return!1;const R=Tl(A,v);return S&&R>0||R>=v.width*v.height||R>=A.width*A.height},updateNode:h,updateNodeData:(y,v,S={replace:!1})=>{h(y,E=>{const A=typeof v=="function"?v(E):v;return S.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},S)},updateEdge:p,updateEdgeData:(y,v,S={replace:!1})=>{p(y,E=>{const A=typeof v=="function"?v(E):v;return S.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},S)},getNodesBounds:y=>{const{nodeLookup:v,nodeOrigin:S}=e.getState();return iV(y,{nodeLookup:v,nodeOrigin:S})},getHandleConnections:({type:y,id:v,nodeId:S})=>Array.from(e.getState().connectionLookup.get(`${S}-${y}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:v,nodeId:S})=>Array.from(e.getState().connectionLookup.get(`${S}${y?v?`-${y}-${v}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const v=e.getState().fitViewResolver??dV();return e.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:v}),r.nodeQueue.push(S=>[...S]),v.promise}}},[]);return P.useMemo(()=>({...o,...t,viewportInitialized:a}),[a])}const fA=t=>t.selected,kM=typeof window<"u"?window:void 0;function WM({deleteKeyCode:t,multiSelectionKeyCode:e}){const r=ft(),{deleteElements:a}=Qm(),o=Rl(t,{actInsideInputWithModifier:!1}),u=Rl(e,{target:kM});P.useEffect(()=>{if(o){const{edges:c,nodes:d}=r.getState();a({nodes:d.filter(fA),edges:c.filter(fA)}),r.setState({nodesSelectionActive:!1})}},[o]),P.useEffect(()=>{r.setState({multiSelectionActive:u})},[u])}function XM(t){const e=ft();P.useEffect(()=>{const r=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const a=Fm(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",mr.error004()),e.setState({width:a.width||500,height:a.height||500})};if(t.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(t.current),()=>{window.removeEventListener("resize",r),a&&t.current&&a.unobserve(t.current)}}},[])}const xf={position:"absolute",width:"100%",height:"100%",top:0,left:0},KM=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function HM({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:u=ya.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:S=!0,children:E,noWheelClassName:A,noPanClassName:R,onViewportChange:x,isControlledViewport:U,paneClickDistance:N,selectionOnDrag:I}){const V=ft(),B=P.useRef(null),{userSelectionActive:M,lib:X,connectionInProgress:q}=We(KM,ht),de=Rl(v),ne=P.useRef();XM(B);const te=P.useCallback(le=>{x?.({x:le[0],y:le[1],zoom:le[2]}),U||V.setState({transform:le})},[x,U]);return P.useEffect(()=>{if(B.current){ne.current=jV({domNode:B.current,minZoom:p,maxZoom:y,translateExtent:h,viewport:m,onDraggingChange:T=>V.setState({paneDragging:T}),onPanZoomStart:(T,O)=>{const{onViewportChangeStart:Y,onMoveStart:H}=V.getState();H?.(T,O),Y?.(O)},onPanZoom:(T,O)=>{const{onViewportChange:Y,onMove:H}=V.getState();H?.(T,O),Y?.(O)},onPanZoomEnd:(T,O)=>{const{onViewportChangeEnd:Y,onMoveEnd:H}=V.getState();H?.(T,O),Y?.(O)}});const{x:le,y:_,zoom:K}=ne.current.getViewport();return V.setState({panZoom:ne.current,transform:[le,_,K],domNode:B.current.closest(".react-flow")}),()=>{ne.current?.destroy()}}},[]),P.useEffect(()=>{ne.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:o,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:de,preventScrolling:S,noPanClassName:R,userSelectionActive:M,noWheelClassName:A,lib:X,onTransformChange:te,connectionInProgress:q,selectionOnDrag:I,paneClickDistance:N})},[t,e,r,a,o,u,c,d,de,S,R,M,A,X,te,q,I,N]),$.jsx("div",{className:"react-flow__renderer",ref:B,style:xf,children:E})}const FM=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function JM(){const{userSelectionActive:t,userSelectionRect:e}=We(FM,ht);return t&&e?$.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const vg=(t,e)=>r=>{r.target===e.current&&t?.(r)},jM=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function $M({isSelecting:t,selectionKeyPressed:e,selectionMode:r=xl.Full,panOnDrag:a,paneClickDistance:o,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:d,onPaneClick:m,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:y,onPaneMouseMove:v,onPaneMouseLeave:S,children:E}){const A=ft(),{userSelectionActive:R,elementsSelectable:x,dragging:U,connectionInProgress:N}=We(jM,ht),I=x&&(t||R),V=P.useRef(null),B=P.useRef(),M=P.useRef(new Set),X=P.useRef(new Set),q=P.useRef(!1),de=Y=>{if(q.current||N){q.current=!1;return}m?.(Y),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},ne=Y=>{if(Array.isArray(a)&&a?.includes(2)){Y.preventDefault();return}h?.(Y)},te=p?Y=>p(Y):void 0,le=Y=>{q.current&&(Y.stopPropagation(),q.current=!1)},_=Y=>{const{domNode:H}=A.getState();if(B.current=H?.getBoundingClientRect(),!B.current)return;const ie=Y.target===V.current;if(!ie&&!!Y.target.closest(".nokey")||!t||!(u&&ie||e)||Y.button!==0||!Y.isPrimary)return;Y.target?.setPointerCapture?.(Y.pointerId),q.current=!1;const{x:ee,y:re}=$n(Y.nativeEvent,B.current);A.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:re,x:ee,y:re}}),ie||(Y.stopPropagation(),Y.preventDefault())},K=Y=>{const{userSelectionRect:H,transform:ie,nodeLookup:C,edgeLookup:L,connectionLookup:ee,triggerNodeChanges:re,triggerEdgeChanges:fe,defaultEdgeOptions:ge,resetSelectedElements:he}=A.getState();if(!B.current||!H)return;const{x:ce,y:me}=$n(Y.nativeEvent,B.current),{startX:_e,startY:Re}=H;if(!q.current){const qe=e?0:o;if(Math.hypot(ce-_e,me-Re)<=qe)return;he(),c?.(Y)}q.current=!0;const Ne={startX:_e,startY:Re,x:ce<_e?ce:_e,y:me<Re?me:Re,width:Math.abs(ce-_e),height:Math.abs(me-Re)},Te=M.current,Ze=X.current;M.current=new Set(Km(C,Ne,ie,r===xl.Partial,!0).map(qe=>qe.id)),X.current=new Set;const Qe=ge?.selectable??!0;for(const qe of M.current){const Tt=ee.get(qe);if(Tt)for(const{edgeId:bn}of Tt.values()){const Bn=L.get(bn);Bn&&(Bn.selectable??Qe)&&X.current.add(bn)}}if(!LS(Te,M.current)){const qe=xs(C,M.current,!0);re(qe)}if(!LS(Ze,X.current)){const qe=xs(L,X.current);fe(qe)}A.setState({userSelectionRect:Ne,userSelectionActive:!0,nodesSelectionActive:!1})},T=Y=>{Y.button===0&&(Y.target?.releasePointerCapture?.(Y.pointerId),!R&&Y.target===V.current&&A.getState().userSelectionRect&&de?.(Y),A.setState({userSelectionActive:!1,userSelectionRect:null}),q.current&&(d?.(Y),A.setState({nodesSelectionActive:M.current.size>0})))},O=a===!0||Array.isArray(a)&&a.includes(0);return $.jsxs("div",{className:xt(["react-flow__pane",{draggable:O,dragging:U,selection:t}]),onClick:I?void 0:vg(de,V),onContextMenu:vg(ne,V),onWheel:vg(te,V),onPointerEnter:I?void 0:y,onPointerMove:I?K:v,onPointerUp:I?T:void 0,onPointerDownCapture:I?_:void 0,onClickCapture:I?le:void 0,onPointerLeave:S,ref:V,style:xf,children:[E,$.jsx(JM,{})]})}function Fg({id:t,store:e,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:o,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:m}=e.getState(),h=d.get(t);if(!h){m?.("012",mr.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&c)&&(u({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):o([t])}function Tw({nodeRef:t,disabled:e=!1,noDragClassName:r,handleSelector:a,nodeId:o,isSelectable:u,nodeClickDistance:c}){const d=ft(),[m,h]=P.useState(!1),p=P.useRef();return P.useEffect(()=>{p.current=BV({getStoreItems:()=>d.getState(),onNodeMouseDown:y=>{Fg({id:y,store:d,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),P.useEffect(()=>{if(e)p.current?.destroy();else if(t.current)return p.current?.update({noDragClassName:r,handleSelector:a,domNode:t.current,isSelectable:u,nodeId:o,nodeClickDistance:c}),()=>{p.current?.destroy()}},[r,a,e,u,t,o]),m}const PM=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function Cw(){const t=ft();return P.useCallback(r=>{const{nodeExtent:a,snapToGrid:o,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:m,nodeLookup:h,nodeOrigin:p}=t.getState(),y=new Map,v=PM(c),S=o?u[0]:5,E=o?u[1]:5,A=r.direction.x*S*r.factor,R=r.direction.y*E*r.factor;for(const[,x]of h){if(!v(x))continue;let U={x:x.internals.positionAbsolute.x+A,y:x.internals.positionAbsolute.y+R};o&&(U=Gl(U,u));const{position:N,positionAbsolute:I}=J1({nodeId:x.id,nextPosition:U,nodeLookup:h,nodeExtent:a,nodeOrigin:p,onError:d});x.position=N,x.internals.positionAbsolute=I,y.set(x.id,x)}m(y)},[])}const qm=P.createContext(null),QM=qm.Provider;qm.Consumer;const Iw=()=>P.useContext(qm),qM=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),e5=(t,e,r)=>a=>{const{connectionClickStartHandle:o,connectionMode:u,connection:c}=a,{fromHandle:d,toHandle:m,isValid:h}=c,p=m?.nodeId===t&&m?.id===e&&m?.type===r;return{connectingFrom:d?.nodeId===t&&d?.id===e&&d?.type===r,connectingTo:p,clickConnecting:o?.nodeId===t&&o?.id===e&&o?.type===r,isPossibleEndHandle:u===Xs.Strict?d?.type!==r:t!==d?.nodeId||e!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!o,valid:p&&h}};function t5({type:t="source",position:e=we.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:o=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:m,className:h,onMouseDown:p,onTouchStart:y,...v},S){const E=c||null,A=t==="target",R=ft(),x=Iw(),{connectOnClick:U,noPanClassName:N,rfId:I}=We(qM,ht),{connectingFrom:V,connectingTo:B,clickConnecting:M,isPossibleEndHandle:X,connectionInProcess:q,clickConnectionInProcess:de,valid:ne}=We(e5(x,E,t),ht);x||R.getState().onError?.("010",mr.error010());const te=K=>{const{defaultEdgeOptions:T,onConnect:O,hasDefaultEdges:Y}=R.getState(),H={...T,...K};if(Y){const{edges:ie,setEdges:C}=R.getState();C(bV(H,ie))}O?.(H),d?.(H)},le=K=>{if(!x)return;const T=nw(K.nativeEvent);if(o&&(T&&K.button===0||!T)){const O=R.getState();Hg.onPointerDown(K.nativeEvent,{handleDomNode:K.currentTarget,autoPanOnConnect:O.autoPanOnConnect,connectionMode:O.connectionMode,connectionRadius:O.connectionRadius,domNode:O.domNode,nodeLookup:O.nodeLookup,lib:O.lib,isTarget:A,handleId:E,nodeId:x,flowId:O.rfId,panBy:O.panBy,cancelConnection:O.cancelConnection,onConnectStart:O.onConnectStart,onConnectEnd:O.onConnectEnd,updateConnection:O.updateConnection,onConnect:te,isValidConnection:r||O.isValidConnection,getTransform:()=>R.getState().transform,getFromHandle:()=>R.getState().connection.fromHandle,autoPanSpeed:O.autoPanSpeed,dragThreshold:O.connectionDragThreshold})}T?p?.(K):y?.(K)},_=K=>{const{onClickConnectStart:T,onClickConnectEnd:O,connectionClickStartHandle:Y,connectionMode:H,isValidConnection:ie,lib:C,rfId:L,nodeLookup:ee,connection:re}=R.getState();if(!x||!Y&&!o)return;if(!Y){T?.(K.nativeEvent,{nodeId:x,handleId:E,handleType:t}),R.setState({connectionClickStartHandle:{nodeId:x,type:t,id:E}});return}const fe=ew(K.target),ge=r||ie,{connection:he,isValid:ce}=Hg.isValid(K.nativeEvent,{handle:{nodeId:x,id:E,type:t},connectionMode:H,fromNodeId:Y.nodeId,fromHandleId:Y.id||null,fromType:Y.type,isValidConnection:ge,flowId:L,doc:fe,lib:C,nodeLookup:ee});ce&&he&&te(he);const me=structuredClone(re);delete me.inProgress,me.toPosition=me.toHandle?me.toHandle.position:null,O?.(K,me),R.setState({connectionClickStartHandle:null})};return $.jsx("div",{"data-handleid":E,"data-nodeid":x,"data-handlepos":e,"data-id":`${I}-${x}-${E}-${t}`,className:xt(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",N,h,{source:!A,target:A,connectable:a,connectablestart:o,connectableend:u,clickconnecting:M,connectingfrom:V,connectingto:B,valid:ne,connectionindicator:a&&(!q||X)&&(q||de?u:o)}]),onMouseDown:le,onTouchStart:le,onClick:U?_:void 0,ref:S,...v,children:m})}const nf=P.memo(Nw(t5));function n5({data:t,isConnectable:e,sourcePosition:r=we.Bottom}){return $.jsxs($.Fragment,{children:[t?.label,$.jsx(nf,{type:"source",position:r,isConnectable:e})]})}function r5({data:t,isConnectable:e,targetPosition:r=we.Top,sourcePosition:a=we.Bottom}){return $.jsxs($.Fragment,{children:[$.jsx(nf,{type:"target",position:r,isConnectable:e}),t?.label,$.jsx(nf,{type:"source",position:a,isConnectable:e})]})}function i5(){return null}function a5({data:t,isConnectable:e,targetPosition:r=we.Top}){return $.jsxs($.Fragment,{children:[$.jsx(nf,{type:"target",position:r,isConnectable:e}),t?.label]})}const rf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},dA={input:n5,default:r5,output:a5,group:i5};function s5(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const o5=t=>{const{width:e,height:r,x:a,y:o}=Yl(t.nodeLookup,{filter:u=>!!u.selected});return{width:jn(e)?e:null,height:jn(r)?r:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${a}px,${o}px)`}};function l5({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:r}){const a=ft(),{width:o,height:u,transformString:c,userSelectionActive:d}=We(o5,ht),m=Cw(),h=P.useRef(null);if(P.useEffect(()=>{r||h.current?.focus({preventScroll:!0})},[r]),Tw({nodeRef:h}),d||!o||!u)return null;const p=t?v=>{const S=a.getState().nodes.filter(E=>E.selected);t(v,S)}:void 0,y=v=>{Object.prototype.hasOwnProperty.call(rf,v.key)&&(v.preventDefault(),m({direction:rf[v.key],factor:v.shiftKey?4:1}))};return $.jsx("div",{className:xt(["react-flow__nodesselection","react-flow__container",e]),style:{transform:c},children:$.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:y,style:{width:o,height:u}})})}const hA=typeof window<"u"?window:void 0,u5=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Rw({children:t,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:p,selectionMode:y,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:R,elementsSelectable:x,zoomOnScroll:U,zoomOnPinch:N,panOnScroll:I,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:M,panOnDrag:X,defaultViewport:q,translateExtent:de,minZoom:ne,maxZoom:te,preventScrolling:le,onSelectionContextMenu:_,noWheelClassName:K,noPanClassName:T,disableKeyboardA11y:O,onViewportChange:Y,isControlledViewport:H}){const{nodesSelectionActive:ie,userSelectionActive:C}=We(u5),L=Rl(h,{target:hA}),ee=Rl(A,{target:hA}),re=ee||X,fe=ee||I,ge=p&&re!==!0,he=L||C||ge;return WM({deleteKeyCode:m,multiSelectionKeyCode:E}),$.jsx(HM,{onPaneContextMenu:u,elementsSelectable:x,zoomOnScroll:U,zoomOnPinch:N,panOnScroll:fe,panOnScrollSpeed:V,panOnScrollMode:B,zoomOnDoubleClick:M,panOnDrag:!L&&re,defaultViewport:q,translateExtent:de,minZoom:ne,maxZoom:te,zoomActivationKeyCode:R,preventScrolling:le,noWheelClassName:K,noPanClassName:T,onViewportChange:Y,isControlledViewport:H,paneClickDistance:d,selectionOnDrag:ge,children:$.jsxs($M,{onSelectionStart:v,onSelectionEnd:S,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:o,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:re,isSelecting:!!he,selectionMode:y,selectionKeyPressed:L,paneClickDistance:d,selectionOnDrag:ge,children:[t,ie&&$.jsx(l5,{onSelectionContextMenu:_,noPanClassName:T,disableKeyboardA11y:O})]})})}Rw.displayName="FlowRenderer";const c5=P.memo(Rw),f5=t=>e=>t?Km(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(r=>r.id):Array.from(e.nodeLookup.keys());function d5(t){return We(P.useCallback(f5(t),[t]),ht)}const h5=t=>t.updateNodeInternals;function g5(){const t=We(h5),[e]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(o=>{const u=o.target.getAttribute("data-id");a.set(u,{id:u,nodeElement:o.target,force:!0})}),t(a)}));return P.useEffect(()=>()=>{e?.disconnect()},[e]),e}function m5({node:t,nodeType:e,hasDimensions:r,resizeObserver:a}){const o=ft(),u=P.useRef(null),c=P.useRef(null),d=P.useRef(t.sourcePosition),m=P.useRef(t.targetPosition),h=P.useRef(e),p=r&&!!t.internals.handleBounds;return P.useEffect(()=>{u.current&&!t.hidden&&(!p||c.current!==u.current)&&(c.current&&a?.unobserve(c.current),a?.observe(u.current),c.current=u.current)},[p,t.hidden]),P.useEffect(()=>()=>{c.current&&(a?.unobserve(c.current),c.current=null)},[]),P.useEffect(()=>{if(u.current){const y=h.current!==e,v=d.current!==t.sourcePosition,S=m.current!==t.targetPosition;(y||v||S)&&(h.current=e,d.current=t.sourcePosition,m.current=t.targetPosition,o.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:u.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),u}function p5({id:t,onClick:e,onMouseEnter:r,onMouseMove:a,onMouseLeave:o,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:m,nodesConnectable:h,nodesFocusable:p,resizeObserver:y,noDragClassName:v,noPanClassName:S,disableKeyboardA11y:E,rfId:A,nodeTypes:R,nodeClickDistance:x,onError:U}){const{node:N,internals:I,isParent:V}=We(ce=>{const me=ce.nodeLookup.get(t),_e=ce.parentLookup.has(t);return{node:me,internals:me.internals,isParent:_e}},ht);let B=N.type||"default",M=R?.[B]||dA[B];M===void 0&&(U?.("003",mr.error003(B)),B="default",M=R?.default||dA.default);const X=!!(N.draggable||d&&typeof N.draggable>"u"),q=!!(N.selectable||m&&typeof N.selectable>"u"),de=!!(N.connectable||h&&typeof N.connectable>"u"),ne=!!(N.focusable||p&&typeof N.focusable>"u"),te=ft(),le=Q1(N),_=m5({node:N,nodeType:B,hasDimensions:le,resizeObserver:y}),K=Tw({nodeRef:_,disabled:N.hidden||!X,noDragClassName:v,handleSelector:N.dragHandle,nodeId:t,isSelectable:q,nodeClickDistance:x}),T=Cw();if(N.hidden)return null;const O=jr(N),Y=s5(N),H=q||X||e||r||a||o,ie=r?ce=>r(ce,{...I.userNode}):void 0,C=a?ce=>a(ce,{...I.userNode}):void 0,L=o?ce=>o(ce,{...I.userNode}):void 0,ee=u?ce=>u(ce,{...I.userNode}):void 0,re=c?ce=>c(ce,{...I.userNode}):void 0,fe=ce=>{const{selectNodesOnDrag:me,nodeDragThreshold:_e}=te.getState();q&&(!me||!X||_e>0)&&Fg({id:t,store:te,nodeRef:_}),e&&e(ce,{...I.userNode})},ge=ce=>{if(!(tw(ce.nativeEvent)||E)){if(W1.includes(ce.key)&&q){const me=ce.key==="Escape";Fg({id:t,store:te,unselect:me,nodeRef:_})}else if(X&&N.selected&&Object.prototype.hasOwnProperty.call(rf,ce.key)){ce.preventDefault();const{ariaLabelConfig:me}=te.getState();te.setState({ariaLiveMessage:me["node.a11yDescription.ariaLiveMessage"]({direction:ce.key.replace("Arrow","").toLowerCase(),x:~~I.positionAbsolute.x,y:~~I.positionAbsolute.y})}),T({direction:rf[ce.key],factor:ce.shiftKey?4:1})}}},he=()=>{if(E||!_.current?.matches(":focus-visible"))return;const{transform:ce,width:me,height:_e,autoPanOnNodeFocus:Re,setCenter:Ne}=te.getState();if(!Re)return;Km(new Map([[t,N]]),{x:0,y:0,width:me,height:_e},ce,!0).length>0||Ne(N.position.x+O.width/2,N.position.y+O.height/2,{zoom:ce[2]})};return $.jsx("div",{className:xt(["react-flow__node",`react-flow__node-${B}`,{[S]:X},N.className,{selected:N.selected,selectable:q,parent:V,draggable:X,dragging:K}]),ref:_,style:{zIndex:I.z,transform:`translate(${I.positionAbsolute.x}px,${I.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:le?"visible":"hidden",...N.style,...Y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ie,onMouseMove:C,onMouseLeave:L,onContextMenu:ee,onClick:fe,onDoubleClick:re,onKeyDown:ne?ge:void 0,tabIndex:ne?0:void 0,onFocus:ne?he:void 0,role:N.ariaRole??(ne?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${Sw}-${A}`,"aria-label":N.ariaLabel,...N.domAttributes,children:$.jsx(QM,{value:t,children:$.jsx(M,{id:t,data:N.data,type:B,positionAbsoluteX:I.positionAbsolute.x,positionAbsoluteY:I.positionAbsolute.y,selected:N.selected??!1,selectable:q,draggable:X,deletable:N.deletable??!0,isConnectable:de,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:K,dragHandle:N.dragHandle,zIndex:I.z,parentId:N.parentId,...O})})})}var y5=P.memo(p5);const v5=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Dw(t){const{nodesDraggable:e,nodesConnectable:r,nodesFocusable:a,elementsSelectable:o,onError:u}=We(v5,ht),c=d5(t.onlyRenderVisibleElements),d=g5();return $.jsx("div",{className:"react-flow__nodes",style:xf,children:c.map(m=>$.jsx(y5,{id:m,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:d,nodesDraggable:e,nodesConnectable:r,nodesFocusable:a,elementsSelectable:o,nodeClickDistance:t.nodeClickDistance,onError:u},m))})}Dw.displayName="NodeRenderer";const b5=P.memo(Dw);function S5(t){return We(P.useCallback(r=>{if(!t)return r.edges.map(o=>o.id);const a=[];if(r.width&&r.height)for(const o of r.edges){const u=r.nodeLookup.get(o.source),c=r.nodeLookup.get(o.target);u&&c&&pV({sourceNode:u,targetNode:c,width:r.width,height:r.height,transform:r.transform})&&a.push(o.id)}return a},[t]),ht)}const A5=({color:t="none",strokeWidth:e=1})=>{const r={strokeWidth:e,...t&&{stroke:t}};return $.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},E5=({color:t="none",strokeWidth:e=1})=>{const r={strokeWidth:e,...t&&{stroke:t,fill:t}};return $.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},gA={[qc.Arrow]:A5,[qc.ArrowClosed]:E5};function w5(t){const e=ft();return P.useMemo(()=>Object.prototype.hasOwnProperty.call(gA,t)?gA[t]:(e.getState().onError?.("009",mr.error009(t)),null),[t])}const N5=({id:t,type:e,color:r,width:a=12.5,height:o=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const m=w5(e);return m?$.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${a}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:$.jsx(m,{color:r,strokeWidth:c})}):null},_w=({defaultColor:t,rfId:e})=>{const r=We(u=>u.edges),a=We(u=>u.defaultEdgeOptions),o=P.useMemo(()=>NV(r,{id:e,defaultColor:t,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,e,t]);return o.length?$.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:$.jsx("defs",{children:o.map(u=>$.jsx(N5,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};_w.displayName="MarkerDefinitions";var x5=P.memo(_w);function Ow({x:t,y:e,label:r,labelStyle:a,labelShowBg:o=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:m,className:h,...p}){const[y,v]=P.useState({x:1,y:0,width:0,height:0}),S=xt(["react-flow__edge-textwrapper",h]),E=P.useRef(null);return P.useEffect(()=>{if(E.current){const A=E.current.getBBox();v({x:A.x,y:A.y,width:A.width,height:A.height})}},[r]),r?$.jsxs("g",{transform:`translate(${t-y.width/2} ${e-y.height/2})`,className:S,visibility:y.width?"visible":"hidden",...p,children:[o&&$.jsx("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),$.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:E,style:a,children:r}),m]}):null}Ow.displayName="EdgeText";const T5=P.memo(Ow);function Tf({path:t,labelX:e,labelY:r,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:m,interactionWidth:h=20,...p}){return $.jsxs($.Fragment,{children:[$.jsx("path",{...p,d:t,fill:"none",className:xt(["react-flow__edge-path",p.className])}),h?$.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&jn(e)&&jn(r)?$.jsx(T5,{x:e,y:r,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:m}):null]})}function mA({pos:t,x1:e,y1:r,x2:a,y2:o}){return t===we.Left||t===we.Right?[.5*(e+a),r]:[e,.5*(r+o)]}function Vw({sourceX:t,sourceY:e,sourcePosition:r=we.Bottom,targetX:a,targetY:o,targetPosition:u=we.Top}){const[c,d]=mA({pos:r,x1:t,y1:e,x2:a,y2:o}),[m,h]=mA({pos:u,x1:a,y1:o,x2:t,y2:e}),[p,y,v,S]=rw({sourceX:t,sourceY:e,targetX:a,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:m,targetControlY:h});return[`M${t},${e} C${c},${d} ${m},${h} ${a},${o}`,p,y,v,S]}function Mw(t){return P.memo(({id:e,sourceX:r,sourceY:a,targetX:o,targetY:u,sourcePosition:c,targetPosition:d,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:R,interactionWidth:x})=>{const[U,N,I]=Vw({sourceX:r,sourceY:a,sourcePosition:c,targetX:o,targetY:u,targetPosition:d}),V=t.isInternal?void 0:e;return $.jsx(Tf,{id:V,path:U,labelX:N,labelY:I,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:R,interactionWidth:x})})}const C5=Mw({isInternal:!1}),Bw=Mw({isInternal:!0});C5.displayName="SimpleBezierEdge";Bw.displayName="SimpleBezierEdgeInternal";function Lw(t){return P.memo(({id:e,sourceX:r,sourceY:a,targetX:o,targetY:u,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,sourcePosition:S=we.Bottom,targetPosition:E=we.Top,markerEnd:A,markerStart:R,pathOptions:x,interactionWidth:U})=>{const[N,I,V]=Wg({sourceX:r,sourceY:a,sourcePosition:S,targetX:o,targetY:u,targetPosition:E,borderRadius:x?.borderRadius,offset:x?.offset,stepPosition:x?.stepPosition}),B=t.isInternal?void 0:e;return $.jsx(Tf,{id:B,path:N,labelX:I,labelY:V,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:A,markerStart:R,interactionWidth:U})})}const zw=Lw({isInternal:!1}),Uw=Lw({isInternal:!0});zw.displayName="SmoothStepEdge";Uw.displayName="SmoothStepEdgeInternal";function Zw(t){return P.memo(({id:e,...r})=>{const a=t.isInternal?void 0:e;return $.jsx(zw,{...r,id:a,pathOptions:P.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const I5=Zw({isInternal:!1}),Yw=Zw({isInternal:!0});I5.displayName="StepEdge";Yw.displayName="StepEdgeInternal";function Gw(t){return P.memo(({id:e,sourceX:r,sourceY:a,targetX:o,targetY:u,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:A})=>{const[R,x,U]=sw({sourceX:r,sourceY:a,targetX:o,targetY:u}),N=t.isInternal?void 0:e;return $.jsx(Tf,{id:N,path:R,labelX:x,labelY:U,label:c,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:A})})}const R5=Gw({isInternal:!1}),kw=Gw({isInternal:!0});R5.displayName="StraightEdge";kw.displayName="StraightEdgeInternal";function Ww(t){return P.memo(({id:e,sourceX:r,sourceY:a,targetX:o,targetY:u,sourcePosition:c=we.Bottom,targetPosition:d=we.Top,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:R,pathOptions:x,interactionWidth:U})=>{const[N,I,V]=iw({sourceX:r,sourceY:a,sourcePosition:c,targetX:o,targetY:u,targetPosition:d,curvature:x?.curvature}),B=t.isInternal?void 0:e;return $.jsx(Tf,{id:B,path:N,labelX:I,labelY:V,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:S,style:E,markerEnd:A,markerStart:R,interactionWidth:U})})}const D5=Ww({isInternal:!1}),Xw=Ww({isInternal:!0});D5.displayName="BezierEdge";Xw.displayName="BezierEdgeInternal";const pA={default:Xw,straight:kw,step:Yw,smoothstep:Uw,simplebezier:Bw},yA={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},_5=(t,e,r)=>r===we.Left?t-e:r===we.Right?t+e:t,O5=(t,e,r)=>r===we.Top?t-e:r===we.Bottom?t+e:t,vA="react-flow__edgeupdater";function bA({position:t,centerX:e,centerY:r,radius:a=10,onMouseDown:o,onMouseEnter:u,onMouseOut:c,type:d}){return $.jsx("circle",{onMouseDown:o,onMouseEnter:u,onMouseOut:c,className:xt([vA,`${vA}-${d}`]),cx:_5(e,a,t),cy:O5(r,a,t),r:a,stroke:"transparent",fill:"transparent"})}function V5({isReconnectable:t,reconnectRadius:e,edge:r,sourceX:a,sourceY:o,targetX:u,targetY:c,sourcePosition:d,targetPosition:m,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,setReconnecting:v,setUpdateHover:S}){const E=ft(),A=(I,V)=>{if(I.button!==0)return;const{autoPanOnConnect:B,domNode:M,isValidConnection:X,connectionMode:q,connectionRadius:de,lib:ne,onConnectStart:te,onConnectEnd:le,cancelConnection:_,nodeLookup:K,rfId:T,panBy:O,updateConnection:Y}=E.getState(),H=V.type==="target",ie=(ee,re)=>{v(!1),y?.(ee,r,V.type,re)},C=ee=>h?.(r,ee),L=(ee,re)=>{v(!0),p?.(I,r,V.type),te?.(ee,re)};Hg.onPointerDown(I.nativeEvent,{autoPanOnConnect:B,connectionMode:q,connectionRadius:de,domNode:M,handleId:V.id,nodeId:V.nodeId,nodeLookup:K,isTarget:H,edgeUpdaterType:V.type,lib:ne,flowId:T,cancelConnection:_,panBy:O,isValidConnection:X,onConnect:C,onConnectStart:L,onConnectEnd:le,onReconnectEnd:ie,updateConnection:Y,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:I.currentTarget})},R=I=>A(I,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),x=I=>A(I,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),U=()=>S(!0),N=()=>S(!1);return $.jsxs($.Fragment,{children:[(t===!0||t==="source")&&$.jsx(bA,{position:d,centerX:a,centerY:o,radius:e,onMouseDown:R,onMouseEnter:U,onMouseOut:N,type:"source"}),(t===!0||t==="target")&&$.jsx(bA,{position:m,centerX:u,centerY:c,radius:e,onMouseDown:x,onMouseEnter:U,onMouseOut:N,type:"target"})]})}function M5({id:t,edgesFocusable:e,edgesReconnectable:r,elementsSelectable:a,onClick:o,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,reconnectRadius:p,onReconnect:y,onReconnectStart:v,onReconnectEnd:S,rfId:E,edgeTypes:A,noPanClassName:R,onError:x,disableKeyboardA11y:U}){let N=We(Ne=>Ne.edgeLookup.get(t));const I=We(Ne=>Ne.defaultEdgeOptions);N=I?{...I,...N}:N;let V=N.type||"default",B=A?.[V]||pA[V];B===void 0&&(x?.("011",mr.error011(V)),V="default",B=A?.default||pA.default);const M=!!(N.focusable||e&&typeof N.focusable>"u"),X=typeof y<"u"&&(N.reconnectable||r&&typeof N.reconnectable>"u"),q=!!(N.selectable||a&&typeof N.selectable>"u"),de=P.useRef(null),[ne,te]=P.useState(!1),[le,_]=P.useState(!1),K=ft(),{zIndex:T,sourceX:O,sourceY:Y,targetX:H,targetY:ie,sourcePosition:C,targetPosition:L}=We(P.useCallback(Ne=>{const Te=Ne.nodeLookup.get(N.source),Ze=Ne.nodeLookup.get(N.target);if(!Te||!Ze)return{zIndex:N.zIndex,...yA};const Qe=wV({id:t,sourceNode:Te,targetNode:Ze,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:Ne.connectionMode,onError:x});return{zIndex:mV({selected:N.selected,zIndex:N.zIndex,sourceNode:Te,targetNode:Ze,elevateOnSelect:Ne.elevateEdgesOnSelect}),...Qe||yA}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),ht),ee=P.useMemo(()=>N.markerStart?`url('#${Xg(N.markerStart,E)}')`:void 0,[N.markerStart,E]),re=P.useMemo(()=>N.markerEnd?`url('#${Xg(N.markerEnd,E)}')`:void 0,[N.markerEnd,E]);if(N.hidden||O===null||Y===null||H===null||ie===null)return null;const fe=Ne=>{const{addSelectedEdges:Te,unselectNodesAndEdges:Ze,multiSelectionActive:Qe}=K.getState();q&&(K.setState({nodesSelectionActive:!1}),N.selected&&Qe?(Ze({nodes:[],edges:[N]}),de.current?.blur()):Te([t])),o&&o(Ne,N)},ge=u?Ne=>{u(Ne,{...N})}:void 0,he=c?Ne=>{c(Ne,{...N})}:void 0,ce=d?Ne=>{d(Ne,{...N})}:void 0,me=m?Ne=>{m(Ne,{...N})}:void 0,_e=h?Ne=>{h(Ne,{...N})}:void 0,Re=Ne=>{if(!U&&W1.includes(Ne.key)&&q){const{unselectNodesAndEdges:Te,addSelectedEdges:Ze}=K.getState();Ne.key==="Escape"?(de.current?.blur(),Te({edges:[N]})):Ze([t])}};return $.jsx("svg",{style:{zIndex:T},children:$.jsxs("g",{className:xt(["react-flow__edge",`react-flow__edge-${V}`,N.className,R,{selected:N.selected,animated:N.animated,inactive:!q&&!o,updating:ne,selectable:q}]),onClick:fe,onDoubleClick:ge,onContextMenu:he,onMouseEnter:ce,onMouseMove:me,onMouseLeave:_e,onKeyDown:M?Re:void 0,tabIndex:M?0:void 0,role:N.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":M?`${Aw}-${E}`:void 0,ref:de,...N.domAttributes,children:[!le&&$.jsx(B,{id:t,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:q,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:O,sourceY:Y,targetX:H,targetY:ie,sourcePosition:C,targetPosition:L,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:ee,markerEnd:re,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),X&&$.jsx(V5,{edge:N,isReconnectable:X,reconnectRadius:p,onReconnect:y,onReconnectStart:v,onReconnectEnd:S,sourceX:O,sourceY:Y,targetX:H,targetY:ie,sourcePosition:C,targetPosition:L,setUpdateHover:te,setReconnecting:_})]})})}var B5=P.memo(M5);const L5=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Kw({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:r,edgeTypes:a,noPanClassName:o,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:y,onEdgeDoubleClick:v,onReconnectStart:S,onReconnectEnd:E,disableKeyboardA11y:A}){const{edgesFocusable:R,edgesReconnectable:x,elementsSelectable:U,onError:N}=We(L5,ht),I=S5(e);return $.jsxs("div",{className:"react-flow__edges",children:[$.jsx(x5,{defaultColor:t,rfId:r}),I.map(V=>$.jsx(B5,{id:V,edgesFocusable:R,edgesReconnectable:x,elementsSelectable:U,noPanClassName:o,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,onClick:p,reconnectRadius:y,onDoubleClick:v,onReconnectStart:S,onReconnectEnd:E,rfId:r,onError:N,edgeTypes:a,disableKeyboardA11y:A},V))]})}Kw.displayName="EdgeRenderer";const z5=P.memo(Kw),U5=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Z5({children:t}){const e=We(U5);return $.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Y5(t){const e=Qm(),r=P.useRef(!1);P.useEffect(()=>{!r.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),r.current=!0)},[t,e.viewportInitialized])}const G5=t=>t.panZoom?.syncViewport;function k5(t){const e=We(G5),r=ft();return P.useEffect(()=>{t&&(e?.(t),r.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function W5(t){return t.connection.inProgress?{...t.connection,to:kl(t.connection.to,t.transform)}:{...t.connection}}function X5(t){return W5}function K5(t){const e=X5();return We(e,ht)}const H5=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function F5({containerStyle:t,style:e,type:r,component:a}){const{nodesConnectable:o,width:u,height:c,isValid:d,inProgress:m}=We(H5,ht);return!(u&&o&&m)?null:$.jsx("svg",{style:t,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:$.jsx("g",{className:xt(["react-flow__connection",H1(d)]),children:$.jsx(Hw,{style:e,type:r,CustomComponent:a,isValid:d})})})}const Hw=({style:t,type:e=Oi.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:o,from:u,fromNode:c,fromHandle:d,fromPosition:m,to:h,toNode:p,toHandle:y,toPosition:v,pointer:S}=K5();if(!o)return;if(r)return $.jsx(r,{connectionLineType:e,connectionLineStyle:t,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:v,connectionStatus:H1(a),toNode:p,toHandle:y,pointer:S});let E="";const A={sourceX:u.x,sourceY:u.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:v};switch(e){case Oi.Bezier:[E]=iw(A);break;case Oi.SimpleBezier:[E]=Vw(A);break;case Oi.Step:[E]=Wg({...A,borderRadius:0});break;case Oi.SmoothStep:[E]=Wg(A);break;default:[E]=sw(A)}return $.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};Hw.displayName="ConnectionLine";const J5={};function SA(t=J5){P.useRef(t),ft(),P.useEffect(()=>{},[t])}function j5(){ft(),P.useRef(!1),P.useEffect(()=>{},[])}function Fw({nodeTypes:t,edgeTypes:e,onInit:r,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:S,connectionLineType:E,connectionLineStyle:A,connectionLineComponent:R,connectionLineContainerStyle:x,selectionKeyCode:U,selectionOnDrag:N,selectionMode:I,multiSelectionKeyCode:V,panActivationKeyCode:B,zoomActivationKeyCode:M,deleteKeyCode:X,onlyRenderVisibleElements:q,elementsSelectable:de,defaultViewport:ne,translateExtent:te,minZoom:le,maxZoom:_,preventScrolling:K,defaultMarkerColor:T,zoomOnScroll:O,zoomOnPinch:Y,panOnScroll:H,panOnScrollSpeed:ie,panOnScrollMode:C,zoomOnDoubleClick:L,panOnDrag:ee,onPaneClick:re,onPaneMouseEnter:fe,onPaneMouseMove:ge,onPaneMouseLeave:he,onPaneScroll:ce,onPaneContextMenu:me,paneClickDistance:_e,nodeClickDistance:Re,onEdgeContextMenu:Ne,onEdgeMouseEnter:Te,onEdgeMouseMove:Ze,onEdgeMouseLeave:Qe,reconnectRadius:qe,onReconnect:Tt,onReconnectStart:bn,onReconnectEnd:Bn,noDragClassName:$r,noWheelClassName:Pr,noPanClassName:Yi,disableKeyboardA11y:Gi,nodeExtent:Ot,rfId:Na,viewport:yr,onViewportChange:Qr}){return SA(t),SA(e),j5(),Y5(r),k5(yr),$.jsx(c5,{onPaneClick:re,onPaneMouseEnter:fe,onPaneMouseMove:ge,onPaneMouseLeave:he,onPaneContextMenu:me,onPaneScroll:ce,paneClickDistance:_e,deleteKeyCode:X,selectionKeyCode:U,selectionOnDrag:N,selectionMode:I,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:V,panActivationKeyCode:B,zoomActivationKeyCode:M,elementsSelectable:de,zoomOnScroll:O,zoomOnPinch:Y,zoomOnDoubleClick:L,panOnScroll:H,panOnScrollSpeed:ie,panOnScrollMode:C,panOnDrag:ee,defaultViewport:ne,translateExtent:te,minZoom:le,maxZoom:_,onSelectionContextMenu:y,preventScrolling:K,noDragClassName:$r,noWheelClassName:Pr,noPanClassName:Yi,disableKeyboardA11y:Gi,onViewportChange:Qr,isControlledViewport:!!yr,children:$.jsxs(Z5,{children:[$.jsx(z5,{edgeTypes:e,onEdgeClick:o,onEdgeDoubleClick:c,onReconnect:Tt,onReconnectStart:bn,onReconnectEnd:Bn,onlyRenderVisibleElements:q,onEdgeContextMenu:Ne,onEdgeMouseEnter:Te,onEdgeMouseMove:Ze,onEdgeMouseLeave:Qe,reconnectRadius:qe,defaultMarkerColor:T,noPanClassName:Yi,disableKeyboardA11y:Gi,rfId:Na}),$.jsx(F5,{style:A,type:E,component:R,containerStyle:x}),$.jsx("div",{className:"react-flow__edgelabel-renderer"}),$.jsx(b5,{nodeTypes:t,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:Re,onlyRenderVisibleElements:q,noPanClassName:Yi,noDragClassName:$r,disableKeyboardA11y:Gi,nodeExtent:Ot,rfId:Na}),$.jsx("div",{className:"react-flow__viewport-portal"})]})})}Fw.displayName="GraphView";const $5=P.memo(Fw),AA=({nodes:t,edges:e,defaultNodes:r,defaultEdges:a,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:y}={})=>{const v=new Map,S=new Map,E=new Map,A=new Map,R=a??e??[],x=r??t??[],U=p??[0,0],N=y??Nl;uw(E,A,R);const I=Kg(x,v,S,{nodeOrigin:U,nodeExtent:N,elevateNodesOnSelect:!1});let V=[0,0,1];if(c&&o&&u){const B=Yl(v,{filter:de=>!!((de.width||de.initialWidth)&&(de.height||de.initialHeight))}),{x:M,y:X,zoom:q}=Hm(B,o,u,m,h,d?.padding??.1);V=[M,X,q]}return{rfId:"1",width:o??0,height:u??0,transform:V,nodes:x,nodesInitialized:I,nodeLookup:v,parentLookup:S,edges:R,edgeLookup:A,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:Nl,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Xs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:U,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...K1},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:uV,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:X1}},P5=({nodes:t,edges:e,defaultNodes:r,defaultEdges:a,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:y})=>hM((v,S)=>{async function E(){const{nodeLookup:A,panZoom:R,fitViewOptions:x,fitViewResolver:U,width:N,height:I,minZoom:V,maxZoom:B}=S();R&&(await oV({nodes:A,width:N,height:I,panZoom:R,minZoom:V,maxZoom:B},x),U?.resolve(!0),v({fitViewResolver:null}))}return{...AA({nodes:t,edges:e,width:o,height:u,fitView:c,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:y,defaultNodes:r,defaultEdges:a}),setNodes:A=>{const{nodeLookup:R,parentLookup:x,nodeOrigin:U,elevateNodesOnSelect:N,fitViewQueued:I}=S(),V=Kg(A,R,x,{nodeOrigin:U,nodeExtent:y,elevateNodesOnSelect:N,checkEquality:!0});I&&V?(E(),v({nodes:A,nodesInitialized:V,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:A,nodesInitialized:V})},setEdges:A=>{const{connectionLookup:R,edgeLookup:x}=S();uw(R,x,A),v({edges:A})},setDefaultNodesAndEdges:(A,R)=>{if(A){const{setNodes:x}=S();x(A),v({hasDefaultNodes:!0})}if(R){const{setEdges:x}=S();x(R),v({hasDefaultEdges:!0})}},updateNodeInternals:A=>{const{triggerNodeChanges:R,nodeLookup:x,parentLookup:U,domNode:N,nodeOrigin:I,nodeExtent:V,debug:B,fitViewQueued:M}=S(),{changes:X,updatedInternals:q}=_V(A,x,U,N,I,V);q&&(CV(x,U,{nodeOrigin:I,nodeExtent:V}),M?(E(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),X?.length>0&&(B&&console.log("React Flow: trigger node changes",X),R?.(X)))},updateNodePositions:(A,R=!1)=>{const x=[],U=[],{nodeLookup:N,triggerNodeChanges:I}=S();for(const[V,B]of A){const M=N.get(V),X=!!(M?.expandParent&&M?.parentId&&B?.position),q={id:V,type:"position",position:X?{x:Math.max(0,B.position.x),y:Math.max(0,B.position.y)}:B.position,dragging:R};X&&M.parentId&&x.push({id:V,parentId:M.parentId,rect:{...B.internals.positionAbsolute,width:B.measured.width??0,height:B.measured.height??0}}),U.push(q)}if(x.length>0){const{parentLookup:V,nodeOrigin:B}=S(),M=Pm(x,N,V,B);U.push(...M)}I(U)},triggerNodeChanges:A=>{const{onNodesChange:R,setNodes:x,nodes:U,hasDefaultNodes:N,debug:I}=S();if(A?.length){if(N){const V=MM(A,U);x(V)}I&&console.log("React Flow: trigger node changes",A),R?.(A)}},triggerEdgeChanges:A=>{const{onEdgesChange:R,setEdges:x,edges:U,hasDefaultEdges:N,debug:I}=S();if(A?.length){if(N){const V=BM(A,U);x(V)}I&&console.log("React Flow: trigger edge changes",A),R?.(A)}},addSelectedNodes:A=>{const{multiSelectionActive:R,edgeLookup:x,nodeLookup:U,triggerNodeChanges:N,triggerEdgeChanges:I}=S();if(R){const V=A.map(B=>da(B,!0));N(V);return}N(xs(U,new Set([...A]),!0)),I(xs(x))},addSelectedEdges:A=>{const{multiSelectionActive:R,edgeLookup:x,nodeLookup:U,triggerNodeChanges:N,triggerEdgeChanges:I}=S();if(R){const V=A.map(B=>da(B,!0));I(V);return}I(xs(x,new Set([...A]))),N(xs(U,new Set,!0))},unselectNodesAndEdges:({nodes:A,edges:R}={})=>{const{edges:x,nodes:U,nodeLookup:N,triggerNodeChanges:I,triggerEdgeChanges:V}=S(),B=A||U,M=R||x,X=B.map(de=>{const ne=N.get(de.id);return ne&&(ne.selected=!1),da(de.id,!1)}),q=M.map(de=>da(de.id,!1));I(X),V(q)},setMinZoom:A=>{const{panZoom:R,maxZoom:x}=S();R?.setScaleExtent([A,x]),v({minZoom:A})},setMaxZoom:A=>{const{panZoom:R,minZoom:x}=S();R?.setScaleExtent([x,A]),v({maxZoom:A})},setTranslateExtent:A=>{S().panZoom?.setTranslateExtent(A),v({translateExtent:A})},resetSelectedElements:()=>{const{edges:A,nodes:R,triggerNodeChanges:x,triggerEdgeChanges:U,elementsSelectable:N}=S();if(!N)return;const I=R.reduce((B,M)=>M.selected?[...B,da(M.id,!1)]:B,[]),V=A.reduce((B,M)=>M.selected?[...B,da(M.id,!1)]:B,[]);x(I),U(V)},setNodeExtent:A=>{const{nodes:R,nodeLookup:x,parentLookup:U,nodeOrigin:N,elevateNodesOnSelect:I,nodeExtent:V}=S();A[0][0]===V[0][0]&&A[0][1]===V[0][1]&&A[1][0]===V[1][0]&&A[1][1]===V[1][1]||(Kg(R,x,U,{nodeOrigin:N,nodeExtent:A,elevateNodesOnSelect:I,checkEquality:!1}),v({nodeExtent:A}))},panBy:A=>{const{transform:R,width:x,height:U,panZoom:N,translateExtent:I}=S();return OV({delta:A,panZoom:N,transform:R,translateExtent:I,width:x,height:U})},setCenter:async(A,R,x)=>{const{width:U,height:N,maxZoom:I,panZoom:V}=S();if(!V)return Promise.resolve(!1);const B=typeof x?.zoom<"u"?x.zoom:I;return await V.setViewport({x:U/2-A*B,y:N/2-R*B,zoom:B},{duration:x?.duration,ease:x?.ease,interpolate:x?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...K1}})},updateConnection:A=>{v({connection:A})},reset:()=>v({...AA()})}},Object.is);function Q5({initialNodes:t,initialEdges:e,defaultNodes:r,defaultEdges:a,initialWidth:o,initialHeight:u,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:m,fitView:h,nodeOrigin:p,nodeExtent:y,children:v}){const[S]=P.useState(()=>P5({nodes:t,edges:e,defaultNodes:r,defaultEdges:a,width:o,height:u,fitView:h,minZoom:c,maxZoom:d,fitViewOptions:m,nodeOrigin:p,nodeExtent:y}));return $.jsx(gM,{value:S,children:$.jsx(ZM,{children:v})})}function q5({children:t,nodes:e,edges:r,defaultNodes:a,defaultEdges:o,width:u,height:c,fitView:d,fitViewOptions:m,minZoom:h,maxZoom:p,nodeOrigin:y,nodeExtent:v}){return P.useContext(wf)?$.jsx($.Fragment,{children:t}):$.jsx(Q5,{initialNodes:e,initialEdges:r,defaultNodes:a,defaultEdges:o,initialWidth:u,initialHeight:c,fitView:d,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:y,nodeExtent:v,children:t})}const eB={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function tB({nodes:t,edges:e,defaultNodes:r,defaultEdges:a,className:o,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:m,onInit:h,onMove:p,onMoveStart:y,onMoveEnd:v,onConnect:S,onConnectStart:E,onConnectEnd:A,onClickConnectStart:R,onClickConnectEnd:x,onNodeMouseEnter:U,onNodeMouseMove:N,onNodeMouseLeave:I,onNodeContextMenu:V,onNodeDoubleClick:B,onNodeDragStart:M,onNodeDrag:X,onNodeDragStop:q,onNodesDelete:de,onEdgesDelete:ne,onDelete:te,onSelectionChange:le,onSelectionDragStart:_,onSelectionDrag:K,onSelectionDragStop:T,onSelectionContextMenu:O,onSelectionStart:Y,onSelectionEnd:H,onBeforeDelete:ie,connectionMode:C,connectionLineType:L=Oi.Bezier,connectionLineStyle:ee,connectionLineComponent:re,connectionLineContainerStyle:fe,deleteKeyCode:ge="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:ce=!1,selectionMode:me=xl.Full,panActivationKeyCode:_e="Space",multiSelectionKeyCode:Re=Cl()?"Meta":"Control",zoomActivationKeyCode:Ne=Cl()?"Meta":"Control",snapToGrid:Te,snapGrid:Ze,onlyRenderVisibleElements:Qe=!1,selectNodesOnDrag:qe,nodesDraggable:Tt,autoPanOnNodeFocus:bn,nodesConnectable:Bn,nodesFocusable:$r,nodeOrigin:Pr=Ew,edgesFocusable:Yi,edgesReconnectable:Gi,elementsSelectable:Ot=!0,defaultViewport:Na=CM,minZoom:yr=.5,maxZoom:Qr=2,translateExtent:ki=Nl,preventScrolling:Cf=!0,nodeExtent:xa,defaultMarkerColor:If="#b1b1b7",zoomOnScroll:Rf=!0,zoomOnPinch:Wi=!0,panOnScroll:Kt=!1,panOnScrollSpeed:er=.5,panOnScrollMode:Ht=ya.Free,zoomOnDoubleClick:Df=!0,panOnDrag:_f=!0,onPaneClick:Of,onPaneMouseEnter:Ta,onPaneMouseMove:Ca,onPaneMouseLeave:Ia,onPaneScroll:vr,onPaneContextMenu:Ra,paneClickDistance:Xi=1,nodeClickDistance:Vf=0,children:Wl,onReconnect:js,onReconnectStart:Ki,onReconnectEnd:Mf,onEdgeContextMenu:Xl,onEdgeDoubleClick:Kl,onEdgeMouseEnter:Hl,onEdgeMouseMove:$s,onEdgeMouseLeave:Ps,reconnectRadius:Fl=10,onNodesChange:Jl,onEdgesChange:tr,noDragClassName:Ct="nodrag",noWheelClassName:Zt="nowheel",noPanClassName:br="nopan",fitView:Da,fitViewOptions:jl,connectOnClick:Bf,attributionPosition:$l,proOptions:Hi,defaultEdgeOptions:Qs,elevateNodesOnSelect:qr,elevateEdgesOnSelect:ei,disableKeyboardA11y:ti=!1,autoPanOnConnect:ni,autoPanOnNodeDrag:St,autoPanSpeed:Pl,connectionRadius:Ql,isValidConnection:Sr,onError:ri,style:Lf,id:qs,nodeDragThreshold:ql,connectionDragThreshold:zf,viewport:_a,onViewportChange:Oa,width:Ln,height:Jt,colorMode:eu="light",debug:Uf,onScroll:Va,ariaLabelConfig:tu,...Ma},Zf){const Yt=qs||"1",eo=_M(eu),nu=P.useCallback(Ba=>{Ba.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Va?.(Ba)},[Va]);return $.jsx("div",{"data-testid":"rf__wrapper",...Ma,onScroll:nu,style:{...Lf,...eB},ref:Zf,className:xt(["react-flow",o,eo]),id:qs,role:"application",children:$.jsxs(q5,{nodes:t,edges:e,width:Ln,height:Jt,fitView:Da,fitViewOptions:jl,minZoom:yr,maxZoom:Qr,nodeOrigin:Pr,nodeExtent:xa,children:[$.jsx($5,{onInit:h,onNodeClick:d,onEdgeClick:m,onNodeMouseEnter:U,onNodeMouseMove:N,onNodeMouseLeave:I,onNodeContextMenu:V,onNodeDoubleClick:B,nodeTypes:u,edgeTypes:c,connectionLineType:L,connectionLineStyle:ee,connectionLineComponent:re,connectionLineContainerStyle:fe,selectionKeyCode:he,selectionOnDrag:ce,selectionMode:me,deleteKeyCode:ge,multiSelectionKeyCode:Re,panActivationKeyCode:_e,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:Qe,defaultViewport:Na,translateExtent:ki,minZoom:yr,maxZoom:Qr,preventScrolling:Cf,zoomOnScroll:Rf,zoomOnPinch:Wi,zoomOnDoubleClick:Df,panOnScroll:Kt,panOnScrollSpeed:er,panOnScrollMode:Ht,panOnDrag:_f,onPaneClick:Of,onPaneMouseEnter:Ta,onPaneMouseMove:Ca,onPaneMouseLeave:Ia,onPaneScroll:vr,onPaneContextMenu:Ra,paneClickDistance:Xi,nodeClickDistance:Vf,onSelectionContextMenu:O,onSelectionStart:Y,onSelectionEnd:H,onReconnect:js,onReconnectStart:Ki,onReconnectEnd:Mf,onEdgeContextMenu:Xl,onEdgeDoubleClick:Kl,onEdgeMouseEnter:Hl,onEdgeMouseMove:$s,onEdgeMouseLeave:Ps,reconnectRadius:Fl,defaultMarkerColor:If,noDragClassName:Ct,noWheelClassName:Zt,noPanClassName:br,rfId:Yt,disableKeyboardA11y:ti,nodeExtent:xa,viewport:_a,onViewportChange:Oa}),$.jsx(DM,{nodes:t,edges:e,defaultNodes:r,defaultEdges:a,onConnect:S,onConnectStart:E,onConnectEnd:A,onClickConnectStart:R,onClickConnectEnd:x,nodesDraggable:Tt,autoPanOnNodeFocus:bn,nodesConnectable:Bn,nodesFocusable:$r,edgesFocusable:Yi,edgesReconnectable:Gi,elementsSelectable:Ot,elevateNodesOnSelect:qr,elevateEdgesOnSelect:ei,minZoom:yr,maxZoom:Qr,nodeExtent:xa,onNodesChange:Jl,onEdgesChange:tr,snapToGrid:Te,snapGrid:Ze,connectionMode:C,translateExtent:ki,connectOnClick:Bf,defaultEdgeOptions:Qs,fitView:Da,fitViewOptions:jl,onNodesDelete:de,onEdgesDelete:ne,onDelete:te,onNodeDragStart:M,onNodeDrag:X,onNodeDragStop:q,onSelectionDrag:K,onSelectionDragStart:_,onSelectionDragStop:T,onMove:p,onMoveStart:y,onMoveEnd:v,noPanClassName:br,nodeOrigin:Pr,rfId:Yt,autoPanOnConnect:ni,autoPanOnNodeDrag:St,autoPanSpeed:Pl,onError:ri,connectionRadius:Ql,isValidConnection:Sr,selectNodesOnDrag:qe,nodeDragThreshold:ql,connectionDragThreshold:zf,onBeforeDelete:ie,debug:Uf,ariaLabelConfig:tu}),$.jsx(TM,{onSelectionChange:le}),Wl,$.jsx(AM,{proOptions:Hi,position:$l}),$.jsx(SM,{rfId:Yt,disableKeyboardA11y:ti})]})})}var nB=Nw(tB);function rB({dimensions:t,lineWidth:e,variant:r,className:a}){return $.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:xt(["react-flow__background-pattern",r,a])})}function iB({radius:t,className:e}){return $.jsx("circle",{cx:t,cy:t,r:t,className:xt(["react-flow__background-pattern","dots",e])})}var Li;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Li||(Li={}));const aB={[Li.Dots]:1,[Li.Lines]:1,[Li.Cross]:6},sB=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Jw({id:t,variant:e=Li.Dots,gap:r=20,size:a,lineWidth:o=1,offset:u=0,color:c,bgColor:d,style:m,className:h,patternClassName:p}){const y=P.useRef(null),{transform:v,patternId:S}=We(sB,ht),E=a||aB[e],A=e===Li.Dots,R=e===Li.Cross,x=Array.isArray(r)?r:[r,r],U=[x[0]*v[2]||1,x[1]*v[2]||1],N=E*v[2],I=Array.isArray(u)?u:[u,u],V=R?[N,N]:U,B=[I[0]*v[2]||1+V[0]/2,I[1]*v[2]||1+V[1]/2],M=`${S}${t||""}`;return $.jsxs("svg",{className:xt(["react-flow__background",h]),style:{...m,...xf,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:y,"data-testid":"rf__background",children:[$.jsx("pattern",{id:M,x:v[0]%U[0],y:v[1]%U[1],width:U[0],height:U[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`,children:A?$.jsx(iB,{radius:N/2,className:p}):$.jsx(rB,{dimensions:V,lineWidth:o,variant:e,className:p})}),$.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}Jw.displayName="Background";const oB=P.memo(Jw);function lB(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:$.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function uB(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:$.jsx("path",{d:"M0 0h32v4.2H0z"})})}function cB(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:$.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function fB(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:$.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function dB(){return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:$.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ic({children:t,className:e,...r}){return $.jsx("button",{type:"button",className:xt(["react-flow__controls-button",e]),...r,children:t})}const hB=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function jw({style:t,showZoom:e=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:o,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:m,className:h,children:p,position:y="bottom-left",orientation:v="vertical","aria-label":S}){const E=ft(),{isInteractive:A,minZoomReached:R,maxZoomReached:x,ariaLabelConfig:U}=We(hB,ht),{zoomIn:N,zoomOut:I,fitView:V}=Qm(),B=()=>{N(),u?.()},M=()=>{I(),c?.()},X=()=>{V(o),d?.()},q=()=>{E.setState({nodesDraggable:!A,nodesConnectable:!A,elementsSelectable:!A}),m?.(!A)},de=v==="horizontal"?"horizontal":"vertical";return $.jsxs(Nf,{className:xt(["react-flow__controls",de,h]),position:y,style:t,"data-testid":"rf__controls","aria-label":S??U["controls.ariaLabel"],children:[e&&$.jsxs($.Fragment,{children:[$.jsx(Ic,{onClick:B,className:"react-flow__controls-zoomin",title:U["controls.zoomIn.ariaLabel"],"aria-label":U["controls.zoomIn.ariaLabel"],disabled:x,children:$.jsx(lB,{})}),$.jsx(Ic,{onClick:M,className:"react-flow__controls-zoomout",title:U["controls.zoomOut.ariaLabel"],"aria-label":U["controls.zoomOut.ariaLabel"],disabled:R,children:$.jsx(uB,{})})]}),r&&$.jsx(Ic,{className:"react-flow__controls-fitview",onClick:X,title:U["controls.fitView.ariaLabel"],"aria-label":U["controls.fitView.ariaLabel"],children:$.jsx(cB,{})}),a&&$.jsx(Ic,{className:"react-flow__controls-interactive",onClick:q,title:U["controls.interactive.ariaLabel"],"aria-label":U["controls.interactive.ariaLabel"],children:A?$.jsx(dB,{}):$.jsx(fB,{})}),p]})}jw.displayName="Controls";P.memo(jw);function gB({id:t,x:e,y:r,width:a,height:o,style:u,color:c,strokeColor:d,strokeWidth:m,className:h,borderRadius:p,shapeRendering:y,selected:v,onClick:S}){const{background:E,backgroundColor:A}=u||{},R=c||E||A;return $.jsx("rect",{className:xt(["react-flow__minimap-node",{selected:v},h]),x:e,y:r,rx:p,ry:p,width:a,height:o,style:{fill:R,stroke:d,strokeWidth:m},shapeRendering:y,onClick:S?x=>S(x,t):void 0})}const mB=P.memo(gB),pB=t=>t.nodes.map(e=>e.id),bg=t=>t instanceof Function?t:()=>t;function yB({nodeStrokeColor:t,nodeColor:e,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:o,nodeComponent:u=mB,onClick:c}){const d=We(pB,ht),m=bg(e),h=bg(t),p=bg(r),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return $.jsx($.Fragment,{children:d.map(v=>$.jsx(bB,{id:v,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:a,nodeStrokeWidth:o,NodeComponent:u,onClick:c,shapeRendering:y},v))})}function vB({id:t,nodeColorFunc:e,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:o,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:m}){const{node:h,x:p,y,width:v,height:S}=We(E=>{const{internals:A}=E.nodeLookup.get(t),R=A.userNode,{x,y:U}=A.positionAbsolute,{width:N,height:I}=jr(R);return{node:R,x,y:U,width:N,height:I}},ht);return!h||h.hidden||!Q1(h)?null:$.jsx(d,{x:p,y,width:v,height:S,style:h.style,selected:!!h.selected,className:a(h),color:e(h),borderRadius:o,strokeColor:r(h),strokeWidth:u,shapeRendering:c,onClick:m,id:h.id})}const bB=P.memo(vB);var SB=P.memo(yB);const AB=200,EB=150,wB=t=>!t.hidden,NB=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?P1(Yl(t.nodeLookup,{filter:wB}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},xB="react-flow__minimap-desc";function $w({style:t,className:e,nodeStrokeColor:r,nodeColor:a,nodeClassName:o="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:m,maskColor:h,maskStrokeColor:p,maskStrokeWidth:y,position:v="bottom-right",onClick:S,onNodeClick:E,pannable:A=!1,zoomable:R=!1,ariaLabel:x,inversePan:U,zoomStep:N=1,offsetScale:I=5}){const V=ft(),B=P.useRef(null),{boundingRect:M,viewBB:X,rfId:q,panZoom:de,translateExtent:ne,flowWidth:te,flowHeight:le,ariaLabelConfig:_}=We(NB,ht),K=t?.width??AB,T=t?.height??EB,O=M.width/K,Y=M.height/T,H=Math.max(O,Y),ie=H*K,C=H*T,L=I*H,ee=M.x-(ie-M.width)/2-L,re=M.y-(C-M.height)/2-L,fe=ie+L*2,ge=C+L*2,he=`${xB}-${q}`,ce=P.useRef(0),me=P.useRef();ce.current=H,P.useEffect(()=>{if(B.current&&de)return me.current=GV({domNode:B.current,panZoom:de,getTransform:()=>V.getState().transform,getViewScale:()=>ce.current}),()=>{me.current?.destroy()}},[de]),P.useEffect(()=>{me.current?.update({translateExtent:ne,width:te,height:le,inversePan:U,pannable:A,zoomStep:N,zoomable:R})},[A,R,U,N,ne,te,le]);const _e=S?Te=>{const[Ze,Qe]=me.current?.pointer(Te)||[0,0];S(Te,{x:Ze,y:Qe})}:void 0,Re=E?P.useCallback((Te,Ze)=>{const Qe=V.getState().nodeLookup.get(Ze).internals.userNode;E(Te,Qe)},[]):void 0,Ne=x??_["minimap.ariaLabel"];return $.jsx(Nf,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*H:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:xt(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:$.jsxs("svg",{width:K,height:T,viewBox:`${ee} ${re} ${fe} ${ge}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":he,ref:B,onClick:_e,children:[Ne&&$.jsx("title",{id:he,children:Ne}),$.jsx(SB,{onClick:Re,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:u,nodeClassName:o,nodeStrokeWidth:c,nodeComponent:d}),$.jsx("path",{className:"react-flow__minimap-mask",d:`M${ee-L},${re-L}h${fe+L*2}v${ge+L*2}h${-fe-L*2}z
        M${X.x},${X.y}h${X.width}v${X.height}h${-X.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}$w.displayName="MiniMap";P.memo($w);const TB=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,CB={[Js.Line]:"right",[Js.Handle]:"bottom-right"};function IB({nodeId:t,position:e,variant:r=Js.Handle,className:a,style:o=void 0,children:u,color:c,minWidth:d=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:v,autoScale:S=!0,shouldResize:E,onResizeStart:A,onResize:R,onResizeEnd:x}){const U=Iw(),N=typeof t=="string"?t:U,I=ft(),V=P.useRef(null),B=r===Js.Handle,M=We(P.useCallback(TB(B&&S),[B,S]),ht),X=P.useRef(null),q=e??CB[r];P.useEffect(()=>{if(!(!V.current||!N))return X.current||(X.current=tM({domNode:V.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:ne,transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K,domNode:T}=I.getState();return{nodeLookup:ne,transform:te,snapGrid:le,snapToGrid:_,nodeOrigin:K,paneDomNode:T}},onChange:(ne,te)=>{const{triggerNodeChanges:le,nodeLookup:_,parentLookup:K,nodeOrigin:T}=I.getState(),O=[],Y={x:ne.x,y:ne.y},H=_.get(N);if(H&&H.expandParent&&H.parentId){const ie=H.origin??T,C=ne.width??H.measured.width??0,L=ne.height??H.measured.height??0,ee={id:H.id,parentId:H.parentId,rect:{width:C,height:L,...q1({x:ne.x??H.position.x,y:ne.y??H.position.y},{width:C,height:L},H.parentId,_,ie)}},re=Pm([ee],_,K,T);O.push(...re),Y.x=ne.x?Math.max(ie[0]*C,ne.x):void 0,Y.y=ne.y?Math.max(ie[1]*L,ne.y):void 0}if(Y.x!==void 0&&Y.y!==void 0){const ie={id:N,type:"position",position:{...Y}};O.push(ie)}if(ne.width!==void 0&&ne.height!==void 0){const C={id:N,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:ne.width,height:ne.height}};O.push(C)}for(const ie of te){const C={...ie,type:"position"};O.push(C)}le(O)},onEnd:({width:ne,height:te})=>{const le={id:N,type:"dimensions",resizing:!1,dimensions:{width:ne,height:te}};I.getState().triggerNodeChanges([le])}})),X.current.update({controlPosition:q,boundaries:{minWidth:d,minHeight:m,maxWidth:h,maxHeight:p},keepAspectRatio:y,resizeDirection:v,onResizeStart:A,onResize:R,onResizeEnd:x,shouldResize:E}),()=>{X.current?.destroy()}},[q,d,m,h,p,y,A,R,x,E]);const de=q.split("-");return $.jsx("div",{className:xt(["react-flow__resize-control","nodrag",...de,r,a]),ref:V,style:{...o,scale:M,...c&&{[B?"backgroundColor":"borderColor"]:c}},children:u})}P.memo(IB);function RB(){const{root:t,update:e,loading:r,error:a}=w3(),o=P.useRef(0),u=P.useCallback(m=>{e(h=>{for(const p of m)switch(p.type){case"add":h.nodes.push(p.item);break;case"replace":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&(h.nodes[y]=p.item)}break;case"remove":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&h.nodes.delete?.(y)}break;case"position":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&p.position&&(h.nodes[y].position=p.position)}break;case"select":{const y=h.nodes.findIndex(v=>v.id===p.id);y!==-1&&(h.nodes[y].selected=p.selected)}break}})},[e]),c=P.useCallback(m=>{e(h=>{for(const p of m)switch(p.type){case"add":h.edges.push(p.item);break;case"replace":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&(h.edges[y]=p.item)}break;case"remove":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&h.edges.delete?.(y)}break;case"select":{const y=h.edges.findIndex(v=>v.id===p.id);y!==-1&&(h.edges[y].selected=p.selected)}break}})},[e]),d=P.useCallback(m=>{!m.source||!m.target||e(h=>{if(h.edges.some(v=>v.source===m.source&&v.target===m.target&&v.sourceHandle===m.sourceHandle&&v.targetHandle===m.targetHandle))return;const y=`e-${m.source}-${m.target}-${o.current++}`;h.edges.push({id:y,type:"smoothstep",source:m.source,target:m.target,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle})})},[e]);return r?$.jsx("div",{children:"Loading..."}):a?$.jsxs("div",{children:["Error: ",a.message]}):$.jsx("div",{style:{position:"fixed",inset:0,height:"100vh"},children:$.jsx(nB,{nodes:[...t.nodes].filter(Boolean),edges:[...t.edges].filter(Boolean),onNodesChange:u,onEdgesChange:c,onConnect:d,fitView:!0,children:$.jsx(oB,{gap:10,size:1,color:"silver"})})})}const DB=[{id:"1",type:"input",data:{label:"Multiplayer"},position:{x:250,y:25}},{id:"2",data:{label:"Graph"},position:{x:100,y:125}},{id:"3",data:{label:"React Flow"},position:{x:250,y:225},style:{borderColor:"#FF0072"}},{id:"4",type:"output",data:{label:"Yorkie"},position:{x:100,y:325},style:{borderColor:"#944DFA"}}],_B=[{id:"e1-2",source:"1",target:"2",type:"smoothstep"},{id:"e2-3",source:"2",target:"3",label:"with"},{id:"e3-4",source:"3",target:"4",label:"and",animated:!0}],OB={nodes:DB,edges:_B};c2.createRoot(document.getElementById("root")).render($.jsxs(P.StrictMode,{children:[$.jsx(p3,{apiKey:"D6sd9E5ehtXBssmeRZ4QQP",rpcAddr:"https://api.yorkie.dev",children:$.jsx(E3,{docKey:`react-flow-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,initialRoot:OB,children:$.jsx(RB,{})})}),","]}));
