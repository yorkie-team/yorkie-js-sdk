var pE=Object.defineProperty;var vE=(n,t,e)=>t in n?pE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var v=(n,t,e)=>vE(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();function wb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gg={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function wE(){if(mw)return Gl;mw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:u}}return Gl.Fragment=t,Gl.jsx=e,Gl.jsxs=e,Gl}var yw;function bE(){return yw||(yw=1,Gg.exports=wE()),Gg.exports}var Q=bE(),Xg={exports:{}},Xl={},Kg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function SE(){return pw||(pw=1,function(n){function t(O,H){var P=O.length;O.push(H);t:for(;0<P;){var q=P-1>>>1,N=O[q];if(0<a(N,H))O[q]=H,O[P]=N,P=q;else break t}}function e(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var H=O[0],P=O.pop();if(P!==H){O[0]=P;t:for(var q=0,N=O.length,$=N>>>1;q<$;){var it=2*(q+1)-1,ct=O[it],et=it+1,gt=O[et];if(0>a(ct,P))et<N&&0>a(gt,ct)?(O[q]=gt,O[et]=P,q=et):(O[q]=ct,O[it]=P,q=it);else if(et<N&&0>a(gt,P))O[q]=gt,O[et]=P,q=et;else break t}}return H}function a(O,H){var P=O.sortIndex-H.sortIndex;return P!==0?P:O.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],g=[],y=1,p=null,w=3,b=!1,x=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function C(O){for(var H=e(g);H!==null;){if(H.callback===null)i(g);else if(H.startTime<=O)i(g),H.sortIndex=H.expirationTime,t(h,H);else break;H=e(g)}}function k(O){if(E=!1,C(O),!x)if(e(h)!==null)x=!0,M();else{var H=e(g);H!==null&&Y(k,H.startTime-O)}}var z=!1,j=-1,_=5,W=-1;function J(){return!(n.unstable_now()-W<_)}function X(){if(z){var O=n.unstable_now();W=O;var H=!0;try{t:{x=!1,E&&(E=!1,D(j),j=-1),b=!0;var P=w;try{e:{for(C(O),p=e(h);p!==null&&!(p.expirationTime>O&&J());){var q=p.callback;if(typeof q=="function"){p.callback=null,w=p.priorityLevel;var N=q(p.expirationTime<=O);if(O=n.unstable_now(),typeof N=="function"){p.callback=N,C(O),H=!0;break e}p===e(h)&&i(h),C(O)}else i(h);p=e(h)}if(p!==null)H=!0;else{var $=e(g);$!==null&&Y(k,$.startTime-O),H=!1}}break t}finally{p=null,w=P,b=!1}H=void 0}}finally{H?ut():z=!1}}}var ut;if(typeof B=="function")ut=function(){B(X)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,lt=ot.port2;ot.port1.onmessage=X,ut=function(){lt.postMessage(null)}}else ut=function(){R(X,0)};function M(){z||(z=!0,ut())}function Y(O,H){j=R(function(){O(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,M())},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(O){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var P=w;w=H;try{return O()}finally{w=P}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=w;w=O;try{return H()}finally{w=P}},n.unstable_scheduleCallback=function(O,H,P){var q=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?q+P:q):P=q,O){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=P+N,O={id:y++,callback:H,priorityLevel:O,startTime:P,expirationTime:N,sortIndex:-1},P>q?(O.sortIndex=P,t(g,O),e(h)===null&&O===e(g)&&(E?(D(j),j=-1):E=!0,Y(k,P-q))):(O.sortIndex=N,t(h,O),x||b||(x=!0,M())),O},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(O){var H=w;return function(){var P=w;w=H;try{return O.apply(this,arguments)}finally{w=P}}}}(Zg)),Zg}var vw;function xE(){return vw||(vw=1,Kg.exports=SE()),Kg.exports}var Qg={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function AE(){if(ww)return Bt;ww=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=p&&N[p]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function R(N,$,it){this.props=N,this.context=$,this.refs=E,this.updater=it||b}R.prototype.isReactComponent={},R.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=R.prototype;function B(N,$,it){this.props=N,this.context=$,this.refs=E,this.updater=it||b}var C=B.prototype=new D;C.constructor=B,x(C,R.prototype),C.isPureReactComponent=!0;var k=Array.isArray,z={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function _(N,$,it,ct,et,gt){return it=gt.ref,{$$typeof:n,type:N,key:$,ref:it!==void 0?it:null,props:gt}}function W(N,$){return _(N.type,$,void 0,void 0,void 0,N.props)}function J(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function X(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return $[it]})}var ut=/\/+/g;function ot(N,$){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):$.toString(36)}function lt(){}function M(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(lt,lt):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Y(N,$,it,ct,et){var gt=typeof N;(gt==="undefined"||gt==="boolean")&&(N=null);var dt=!1;if(N===null)dt=!0;else switch(gt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(N.$$typeof){case n:case t:dt=!0;break;case y:return dt=N._init,Y(dt(N._payload),$,it,ct,et)}}if(dt)return et=et(N),dt=ct===""?"."+ot(N,0):ct,k(et)?(it="",dt!=null&&(it=dt.replace(ut,"$&/")+"/"),Y(et,$,it,"",function(bt){return bt})):et!=null&&(J(et)&&(et=W(et,it+(et.key==null||N&&N.key===et.key?"":(""+et.key).replace(ut,"$&/")+"/")+dt)),$.push(et)),1;dt=0;var mt=ct===""?".":ct+":";if(k(N))for(var yt=0;yt<N.length;yt++)ct=N[yt],gt=mt+ot(ct,yt),dt+=Y(ct,$,it,gt,et);else if(yt=w(N),typeof yt=="function")for(N=yt.call(N),yt=0;!(ct=N.next()).done;)ct=ct.value,gt=mt+ot(ct,yt++),dt+=Y(ct,$,it,gt,et);else if(gt==="object"){if(typeof N.then=="function")return Y(M(N),$,it,ct,et);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return dt}function O(N,$,it){if(N==null)return N;var ct=[],et=0;return Y(N,ct,"","",function(gt){return $.call(it,gt,et++)}),ct}function H(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var P=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function q(){}return Bt.Children={map:O,forEach:function(N,$,it){O(N,function(){$.apply(this,arguments)},it)},count:function(N){var $=0;return O(N,function(){$++}),$},toArray:function(N){return O(N,function($){return $})||[]},only:function(N){if(!J(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Bt.Component=R,Bt.Fragment=e,Bt.Profiler=a,Bt.PureComponent=B,Bt.StrictMode=i,Bt.Suspense=h,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Bt.cache=function(N){return function(){return N.apply(null,arguments)}},Bt.cloneElement=function(N,$,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ct=x({},N.props),et=N.key,gt=void 0;if($!=null)for(dt in $.ref!==void 0&&(gt=void 0),$.key!==void 0&&(et=""+$.key),$)!j.call($,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&$.ref===void 0||(ct[dt]=$[dt]);var dt=arguments.length-2;if(dt===1)ct.children=it;else if(1<dt){for(var mt=Array(dt),yt=0;yt<dt;yt++)mt[yt]=arguments[yt+2];ct.children=mt}return _(N.type,et,void 0,void 0,gt,ct)},Bt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Bt.createElement=function(N,$,it){var ct,et={},gt=null;if($!=null)for(ct in $.key!==void 0&&(gt=""+$.key),$)j.call($,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(et[ct]=$[ct]);var dt=arguments.length-2;if(dt===1)et.children=it;else if(1<dt){for(var mt=Array(dt),yt=0;yt<dt;yt++)mt[yt]=arguments[yt+2];et.children=mt}if(N&&N.defaultProps)for(ct in dt=N.defaultProps,dt)et[ct]===void 0&&(et[ct]=dt[ct]);return _(N,gt,void 0,void 0,null,et)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(N){return{$$typeof:d,render:N}},Bt.isValidElement=J,Bt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:H}},Bt.memo=function(N,$){return{$$typeof:g,type:N,compare:$===void 0?null:$}},Bt.startTransition=function(N){var $=z.T,it={};z.T=it;try{var ct=N(),et=z.S;et!==null&&et(it,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(q,P)}catch(gt){P(gt)}finally{z.T=$}},Bt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Bt.use=function(N){return z.H.use(N)},Bt.useActionState=function(N,$,it){return z.H.useActionState(N,$,it)},Bt.useCallback=function(N,$){return z.H.useCallback(N,$)},Bt.useContext=function(N){return z.H.useContext(N)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(N,$){return z.H.useDeferredValue(N,$)},Bt.useEffect=function(N,$){return z.H.useEffect(N,$)},Bt.useId=function(){return z.H.useId()},Bt.useImperativeHandle=function(N,$,it){return z.H.useImperativeHandle(N,$,it)},Bt.useInsertionEffect=function(N,$){return z.H.useInsertionEffect(N,$)},Bt.useLayoutEffect=function(N,$){return z.H.useLayoutEffect(N,$)},Bt.useMemo=function(N,$){return z.H.useMemo(N,$)},Bt.useOptimistic=function(N,$){return z.H.useOptimistic(N,$)},Bt.useReducer=function(N,$,it){return z.H.useReducer(N,$,it)},Bt.useRef=function(N){return z.H.useRef(N)},Bt.useState=function(N){return z.H.useState(N)},Bt.useSyncExternalStore=function(N,$,it){return z.H.useSyncExternalStore(N,$,it)},Bt.useTransition=function(){return z.H.useTransition()},Bt.version="19.0.0",Bt}var bw;function Ou(){return bw||(bw=1,Qg.exports=AE()),Qg.exports}var Wg={exports:{}},Le={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function TE(){if(Sw)return Le;Sw=1;var n=Ou();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(h,g,y){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:h,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Le.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(h,g,null,y)},Le.flushSync=function(h){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=g,i.p=y,i.d.f()}},Le.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},Le.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Le.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,p=d(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:w,fetchPriority:b}):y==="script"&&i.d.X(h,{crossOrigin:p,integrity:w,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Le.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},Le.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,p=d(y,g.crossOrigin);i.d.L(h,y,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Le.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=d(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},Le.requestFormReset=function(h){i.d.r(h)},Le.unstable_batchedUpdates=function(h,g){return h(g)},Le.useFormState=function(h,g,y){return c.H.useFormState(h,g,y)},Le.useFormStatus=function(){return c.H.useHostTransitionStatus()},Le.version="19.0.0",Le}var xw;function bb(){if(xw)return Wg.exports;xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wg.exports=TE(),Wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function EE(){if(Aw)return Xl;Aw=1;var n=xE(),t=Ou(),e=bb();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var _=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===_?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case d:return"Portal";case y:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:W(r.type)||"Memo";case B:s=r._payload,r=r._init;try{return W(r(s))}catch{}}return null}var J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.assign,ut,ot;function lt(r){if(ut===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ut=s&&s[1]||"",ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+r+ot}var M=!1;function Y(r,s){if(!r||M)return"";M=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(rt){var Z=rt}Reflect.construct(r,[],ft)}else{try{ft.call()}catch(rt){Z=rt}r.call(ft.prototype)}}else{try{throw Error()}catch(rt){Z=rt}(ft=r())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(rt){if(rt&&Z&&typeof rt.stack=="string")return[rt.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),S=m[0],T=m[1];if(S&&T){var I=S.split(`
`),U=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===U.length)for(l=I.length-1,f=U.length-1;1<=l&&0<=f&&I[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==U[f]){var st=`
`+I[l].replace(" at new "," at ");return r.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",r.displayName)),st}while(1<=l&&0<=f);break}}}finally{M=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?lt(o):""}function O(r){switch(r.tag){case 26:case 27:case 5:return lt(r.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return r=Y(r.type,!1),r;case 11:return r=Y(r.type.render,!1),r;case 1:return r=Y(r.type,!0),r;default:return""}}function H(r){try{var s="";do s+=O(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function P(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function q(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function N(r){if(P(r)!==r)throw Error(i(188))}function $(r){var s=r.alternate;if(!s){if(s=P(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,l=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return N(f),r;if(m===l)return N(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==l.return)o=f,l=m;else{for(var S=!1,T=f.child;T;){if(T===o){S=!0,o=f,l=m;break}if(T===l){S=!0,l=f,o=m;break}T=T.sibling}if(!S){for(T=m.child;T;){if(T===o){S=!0,o=m,l=f;break}if(T===l){S=!0,l=m,o=f;break}T=T.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function it(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=it(r),s!==null)return s;r=r.sibling}return null}var ct=Array.isArray,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},dt=[],mt=-1;function yt(r){return{current:r}}function bt(r){0>mt||(r.current=dt[mt],dt[mt]=null,mt--)}function kt(r,s){mt++,dt[mt]=r.current,r.current=s}var Dt=yt(null),Tt=yt(null),It=yt(null),jt=yt(null);function ie(r,s){switch(kt(It,s),kt(Tt,r),kt(Dt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Vv(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Vv(r),s=jv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}bt(Dt),kt(Dt,s)}function Te(){bt(Dt),bt(Tt),bt(It)}function Ys(r){r.memoizedState!==null&&kt(jt,r);var s=Dt.current,o=jv(s,r.type);s!==o&&(kt(Tt,r),kt(Dt,o))}function is(r){Tt.current===r&&(bt(Dt),bt(Tt)),jt.current===r&&(bt(jt),$l._currentValue=gt)}var Gs=Object.prototype.hasOwnProperty,Tr=n.unstable_scheduleCallback,Xs=n.unstable_cancelCallback,Ks=n.unstable_shouldYield,Zs=n.unstable_requestPaint,je=n.unstable_now,Qs=n.unstable_getCurrentPriorityLevel,ss=n.unstable_ImmediatePriority,Ws=n.unstable_UserBlockingPriority,Pa=n.unstable_NormalPriority,tl=n.unstable_LowPriority,Pu=n.unstable_IdlePriority,Rd=n.log,Id=n.unstable_setDisableYieldValue,ta=null,qe=null;function Bd(r){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ta,r,void 0,(r.current.flags&128)===128)}catch{}}function tr(r){if(typeof Rd=="function"&&Id(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ta,r)}catch{}}var He=Math.clz32?Math.clz32:_d,zd=Math.log,Ld=Math.LN2;function _d(r){return r>>>=0,r===0?32:31-(zd(r)/Ld|0)|0}var Ja=128,$a=4194304;function Er(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ea(r,s){var o=r.pendingLanes;if(o===0)return 0;var l=0,f=r.suspendedLanes,m=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var T=o&134217727;return T!==0?(o=T&~f,o!==0?l=Er(o):(m&=T,m!==0?l=Er(m):r||(S=T&~S,S!==0&&(l=Er(S))))):(T=o&~f,T!==0?l=Er(T):m!==0?l=Er(m):r||(S=o&~S,S!==0&&(l=Er(S)))),l===0?0:s!==0&&s!==l&&(s&f)===0&&(f=l&-l,S=s&-s,f>=S||f===32&&(S&4194176)!==0)?s:l}function na(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ud(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var r=Ja;return Ja<<=1,(Ja&4194176)===0&&(Ja=128),r}function $u(){var r=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),r}function el(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ra(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qd(r,s,o,l,f,m){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,I=r.expirationTimes,U=r.hiddenUpdates;for(o=S&~o;0<o;){var st=31-He(o),ft=1<<st;T[st]=0,I[st]=-1;var Z=U[st];if(Z!==null)for(U[st]=null,st=0;st<Z.length;st++){var rt=Z[st];rt!==null&&(rt.lane&=-536870913)}o&=~ft}l!==0&&Vu(r,l,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(S&~s))}function Vu(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-He(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|o&4194218}function ju(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var l=31-He(o),f=1<<l;f&s|r[l]&s&&(r[l]|=s),o&=~f}}function Fu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yu(){var r=et.p;return r!==0?r:(r=window.event,r===void 0?32:uw(r.type))}function Hd(r,s){var o=et.p;try{return et.p=r,s()}finally{et.p=o}}var er=Math.random().toString(36).slice(2),Ee="__reactFiber$"+er,Be="__reactProps$"+er,Nr="__reactContainer$"+er,Va="__reactEvents$"+er,Pd="__reactListeners$"+er,Jd="__reactHandles$"+er,Gu="__reactResources$"+er,ia="__reactMarker$"+er;function nl(r){delete r[Ee],delete r[Be],delete r[Va],delete r[Pd],delete r[Jd]}function Cr(r){var s=r[Ee];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Nr]||o[Ee]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Gv(r);r!==null;){if(o=r[Ee])return o;r=Gv(r)}return s}r=o,o=r.parentNode}return null}function as(r){if(r=r[Ee]||r[Nr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function os(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ls(r){var s=r[Gu];return s||(s=r[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function me(r){r[ia]=!0}var Xu=new Set,Ku={};function Dr(r,s){us(r,s),us(r+"Capture",s)}function us(r,s){for(Ku[r]=s,r=0;r<s.length;r++)Xu.add(s[r])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Wu={};function $d(r){return Gs.call(Wu,r)?!0:Gs.call(Qu,r)?!1:Zu.test(r)?Wu[r]=!0:(Qu[r]=!0,!1)}function ja(r,s,o){if($d(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Fa(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Un(r,s,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+l)}}function Fe(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sa(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vd(r){var s=sa(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ya(r){r._valueTracker||(r._valueTracker=Vd(r))}function Ga(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),l="";return r&&(l=sa(r)?r.checked?"true":"false":r.value),r=l,r!==o?(s.setValue(r),!0):!1}function Xa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jd=/[\n"\\]/g;function Pe(r){return r.replace(jd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fd(r,s,o,l,f,m,S,T){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Fe(s)):r.value!==""+Fe(s)&&(r.value=""+Fe(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Yd(r,S,Fe(s)):o!=null?Yd(r,S,Fe(o)):l!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+Fe(T):r.removeAttribute("name")}function Xy(r,s,o,l,f,m,S,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+Fe(o):"",s=s!=null?""+Fe(s):o,T||s===r.value||(r.value=s),r.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=T?r.checked:!!l,r.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Yd(r,s,o){s==="number"&&Xa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ka(r,s,o,l){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&l&&(r[o].defaultSelected=!0)}else{for(o=""+Fe(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ky(r,s,o){if(s!=null&&(s=""+Fe(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Fe(o):""}function Zy(r,s,o,l){if(s==null){if(l!=null){if(o!=null)throw Error(i(92));if(ct(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),s=o}o=Fe(s),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l)}function Za(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var gA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qy(r,s,o){var l=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,o):typeof o!="number"||o===0||gA.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Wy(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&o[f]!==l&&Qy(r,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Qy(r,m,s[m])}function Gd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tc(r){return yA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xd=null;function Kd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qa=null,Wa=null;function tp(r){var s=as(r);if(s&&(r=s.stateNode)){var o=r[Be]||null;t:switch(r=s.stateNode,s.type){case"input":if(Fd(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pe(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var l=o[s];if(l!==r&&l.form===r.form){var f=l[Be]||null;if(!f)throw Error(i(90));Fd(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)l=o[s],l.form===r.form&&Ga(l)}break t;case"textarea":Ky(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ka(r,!!o.multiple,s,!1)}}}var Zd=!1;function ep(r,s,o){if(Zd)return r(s,o);Zd=!0;try{var l=r(s);return l}finally{if(Zd=!1,(Qa!==null||Wa!==null)&&(_c(),Qa&&(s=Qa,r=Wa,Wa=Qa=null,tp(s),r)))for(s=0;s<r.length;s++)tp(r[s])}}function rl(r,s){var o=r.stateNode;if(o===null)return null;var l=o[Be]||null;if(l===null)return null;o=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Qd=!1;if(_n)try{var il={};Object.defineProperty(il,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Qd=!1}var cs=null,Wd=null,ec=null;function np(){if(ec)return ec;var r,s=Wd,o=s.length,l,f="value"in cs?cs.value:cs.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var S=o-r;for(l=1;l<=S&&s[o-l]===f[m-l];l++);return ec=f.slice(r,1<l?1-l:void 0)}function nc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rc(){return!0}function rp(){return!1}function Ye(r){function s(o,l,f,m,S){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rc:rp,this.isPropagationStopped=rp,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),s}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Ye(aa),sl=X({},aa,{view:0,detail:0}),pA=Ye(sl),th,eh,al,sc=X({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==al&&(al&&r.type==="mousemove"?(th=r.screenX-al.screenX,eh=r.screenY-al.screenY):eh=th=0,al=r),th)},movementY:function(r){return"movementY"in r?r.movementY:eh}}),ip=Ye(sc),vA=X({},sc,{dataTransfer:0}),wA=Ye(vA),bA=X({},sl,{relatedTarget:0}),nh=Ye(bA),SA=X({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=Ye(SA),AA=X({},aa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),TA=Ye(AA),EA=X({},aa,{data:0}),sp=Ye(EA),NA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=DA[r])?!!s[r]:!1}function rh(){return kA}var OA=X({},sl,{key:function(r){if(r.key){var s=NA[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=nc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?CA[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(r){return r.type==="keypress"?nc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),MA=Ye(OA),RA=X({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Ye(RA),IA=X({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),BA=Ye(IA),zA=X({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),LA=Ye(zA),_A=X({},sc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=Ye(_A),qA=X({},aa,{newState:0,oldState:0}),HA=Ye(qA),PA=[9,13,27,32],ih=_n&&"CompositionEvent"in window,ol=null;_n&&"documentMode"in document&&(ol=document.documentMode);var JA=_n&&"TextEvent"in window&&!ol,op=_n&&(!ih||ol&&8<ol&&11>=ol),lp=" ",up=!1;function cp(r,s){switch(r){case"keyup":return PA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var to=!1;function $A(r,s){switch(r){case"compositionend":return fp(s);case"keypress":return s.which!==32?null:(up=!0,lp);case"textInput":return r=s.data,r===lp&&up?null:r;default:return null}}function VA(r,s){if(to)return r==="compositionend"||!ih&&cp(r,s)?(r=np(),ec=Wd=cs=null,to=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return op&&s.locale!=="ko"?null:s.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!jA[r.type]:s==="textarea"}function hp(r,s,o,l){Qa?Wa?Wa.push(l):Wa=[l]:Qa=l,s=Jc(s,"onChange"),0<s.length&&(o=new ic("onChange","change",null,o,l),r.push({event:o,listeners:s}))}var ll=null,ul=null;function FA(r){qv(r,0)}function ac(r){var s=os(r);if(Ga(s))return r}function gp(r,s){if(r==="change")return s}var mp=!1;if(_n){var sh;if(_n){var ah="oninput"in document;if(!ah){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),ah=typeof yp.oninput=="function"}sh=ah}else sh=!1;mp=sh&&(!document.documentMode||9<document.documentMode)}function pp(){ll&&(ll.detachEvent("onpropertychange",vp),ul=ll=null)}function vp(r){if(r.propertyName==="value"&&ac(ul)){var s=[];hp(s,ul,r,Kd(r)),ep(FA,s)}}function YA(r,s,o){r==="focusin"?(pp(),ll=s,ul=o,ll.attachEvent("onpropertychange",vp)):r==="focusout"&&pp()}function GA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ac(ul)}function XA(r,s){if(r==="click")return ac(s)}function KA(r,s){if(r==="input"||r==="change")return ac(s)}function ZA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var tn=typeof Object.is=="function"?Object.is:ZA;function cl(r,s){if(tn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),l=Object.keys(s);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Gs.call(s,f)||!tn(r[f],s[f]))return!1}return!0}function wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bp(r,s){var o=wp(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=s&&l>=s)return{node:o,offset:s-r};r=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=wp(o)}}function Sp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Sp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xp(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xa(r.document)}return s}function oh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function QA(r,s){var o=xp(s);s=r.focusedElem;var l=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sp(s.ownerDocument.documentElement,s)){if(l!==null&&oh(s)){if(r=l.start,o=l.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!o.extend&&m>l&&(f=l,l=m,m=f),f=bp(s,m);var S=bp(s,l);f&&S&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),o.removeAllRanges(),m>l?(o.addRange(r),o.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var WA=_n&&"documentMode"in document&&11>=document.documentMode,eo=null,lh=null,fl=null,uh=!1;function Ap(r,s,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uh||eo==null||eo!==Xa(l)||(l=eo,"selectionStart"in l&&oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&cl(fl,l)||(fl=l,l=Jc(lh,"onSelect"),0<l.length&&(s=new ic("onSelect","select",null,s,o),r.push({event:s,listeners:l}),s.target=eo)))}function oa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var no={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},ch={},Tp={};_n&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function la(r){if(ch[r])return ch[r];if(!no[r])return r;var s=no[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tp)return ch[r]=s[o];return r}var Ep=la("animationend"),Np=la("animationiteration"),Cp=la("animationstart"),tT=la("transitionrun"),eT=la("transitionstart"),nT=la("transitioncancel"),Dp=la("transitionend"),kp=new Map,Op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(r,s){kp.set(r,s),Dr(s,[r])}var dn=[],ro=0,fh=0;function oc(){for(var r=ro,s=fh=ro=0;s<r;){var o=dn[s];dn[s++]=null;var l=dn[s];dn[s++]=null;var f=dn[s];dn[s++]=null;var m=dn[s];if(dn[s++]=null,l!==null&&f!==null){var S=l.pending;S===null?f.next=f:(f.next=S.next,S.next=f),l.pending=f}m!==0&&Mp(o,f,m)}}function lc(r,s,o,l){dn[ro++]=r,dn[ro++]=s,dn[ro++]=o,dn[ro++]=l,fh|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function dh(r,s,o,l){return lc(r,s,o,l),uc(r)}function fs(r,s){return lc(r,null,null,s),uc(r)}function Mp(r,s,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;f&&s!==null&&r.tag===3&&(m=r.stateNode,f=31-He(o),m=m.hiddenUpdates,r=m[f],r===null?m[f]=[s]:r.push(s),s.lane=o|536870912)}function uc(r){if(50<Ll)throw Ll=0,vg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var io={},Rp=new WeakMap;function hn(r,s){if(typeof r=="object"&&r!==null){var o=Rp.get(r);return o!==void 0?o:(s={value:r,source:s,stack:H(s)},Rp.set(r,s),s)}return{value:r,source:s,stack:H(s)}}var so=[],ao=0,cc=null,fc=0,gn=[],mn=0,ua=null,kr=1,Or="";function ca(r,s){so[ao++]=fc,so[ao++]=cc,cc=r,fc=s}function Ip(r,s,o){gn[mn++]=kr,gn[mn++]=Or,gn[mn++]=ua,ua=r;var l=kr;r=Or;var f=32-He(l)-1;l&=~(1<<f),o+=1;var m=32-He(s)+f;if(30<m){var S=f-f%5;m=(l&(1<<S)-1).toString(32),l>>=S,f-=S,kr=1<<32-He(s)+f|o<<f|l,Or=m+r}else kr=1<<m|o<<f|l,Or=r}function hh(r){r.return!==null&&(ca(r,1),Ip(r,1,0))}function gh(r){for(;r===cc;)cc=so[--ao],so[ao]=null,fc=so[--ao],so[ao]=null;for(;r===ua;)ua=gn[--mn],gn[mn]=null,Or=gn[--mn],gn[mn]=null,kr=gn[--mn],gn[mn]=null}var Je=null,ke=null,Jt=!1,Hn=null,nr=!1,mh=Error(i(519));function fa(r){var s=Error(i(418,""));throw gl(hn(s,r)),mh}function Bp(r){var s=r.stateNode,o=r.type,l=r.memoizedProps;switch(s[Ee]=r,s[Be]=l,o){case"dialog":Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":case"embed":Ut("load",s);break;case"video":case"audio":for(o=0;o<Ul.length;o++)Ut(Ul[o],s);break;case"source":Ut("error",s);break;case"img":case"image":case"link":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"input":Ut("invalid",s),Xy(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ya(s);break;case"select":Ut("invalid",s);break;case"textarea":Ut("invalid",s),Zy(s,l.value,l.defaultValue,l.children),Ya(s)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||l.suppressHydrationWarning===!0||$v(s.textContent,o)?(l.popover!=null&&(Ut("beforetoggle",s),Ut("toggle",s)),l.onScroll!=null&&Ut("scroll",s),l.onScrollEnd!=null&&Ut("scrollend",s),l.onClick!=null&&(s.onclick=$c),s=!0):s=!1,s||fa(r)}function zp(r){for(Je=r.return;Je;)switch(Je.tag){case 3:case 27:nr=!0;return;case 5:case 13:nr=!1;return;default:Je=Je.return}}function dl(r){if(r!==Je)return!1;if(!Jt)return zp(r),Jt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||zg(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&ke&&fa(r),zp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){ke=Jn(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}ke=null}}else ke=Je?Jn(r.stateNode.nextSibling):null;return!0}function hl(){ke=Je=null,Jt=!1}function gl(r){Hn===null?Hn=[r]:Hn.push(r)}var ml=Error(i(460)),Lp=Error(i(474)),yh={then:function(){}};function _p(r){return r=r.status,r==="fulfilled"||r==="rejected"}function dc(){}function Up(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(dc,dc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===ml?Error(i(483)):r;default:if(typeof s.status=="string")s.then(dc,dc);else{if(r=Zt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===ml?Error(i(483)):r}throw yl=s,ml}}var yl=null;function qp(){if(yl===null)throw Error(i(459));var r=yl;return yl=null,r}var oo=null,pl=0;function hc(r){var s=pl;return pl+=1,oo===null&&(oo=[]),Up(oo,r,s)}function vl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gc(r,s){throw s.$$typeof===u?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Hp(r){var s=r._init;return s(r._payload)}function Pp(r){function s(V,L){if(r){var G=V.deletions;G===null?(V.deletions=[L],V.flags|=16):G.push(L)}}function o(V,L){if(!r)return null;for(;L!==null;)s(V,L),L=L.sibling;return null}function l(V){for(var L=new Map;V!==null;)V.key!==null?L.set(V.key,V):L.set(V.index,V),V=V.sibling;return L}function f(V,L){return V=As(V,L),V.index=0,V.sibling=null,V}function m(V,L,G){return V.index=G,r?(G=V.alternate,G!==null?(G=G.index,G<L?(V.flags|=33554434,L):G):(V.flags|=33554434,L)):(V.flags|=1048576,L)}function S(V){return r&&V.alternate===null&&(V.flags|=33554434),V}function T(V,L,G,at){return L===null||L.tag!==6?(L=cg(G,V.mode,at),L.return=V,L):(L=f(L,G),L.return=V,L)}function I(V,L,G,at){var vt=G.type;return vt===h?st(V,L,G.props.children,at,G.key):L!==null&&(L.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===B&&Hp(vt)===L.type)?(L=f(L,G.props),vl(L,G),L.return=V,L):(L=Rc(G.type,G.key,G.props,null,V.mode,at),vl(L,G),L.return=V,L)}function U(V,L,G,at){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=fg(G,V.mode,at),L.return=V,L):(L=f(L,G.children||[]),L.return=V,L)}function st(V,L,G,at,vt){return L===null||L.tag!==7?(L=Sa(G,V.mode,at,vt),L.return=V,L):(L=f(L,G),L.return=V,L)}function ft(V,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=cg(""+L,V.mode,G),L.return=V,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case c:return G=Rc(L.type,L.key,L.props,null,V.mode,G),vl(G,L),G.return=V,G;case d:return L=fg(L,V.mode,G),L.return=V,L;case B:var at=L._init;return L=at(L._payload),ft(V,L,G)}if(ct(L)||j(L))return L=Sa(L,V.mode,G,null),L.return=V,L;if(typeof L.then=="function")return ft(V,hc(L),G);if(L.$$typeof===b)return ft(V,kc(V,L),G);gc(V,L)}return null}function Z(V,L,G,at){var vt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return vt!==null?null:T(V,L,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===vt?I(V,L,G,at):null;case d:return G.key===vt?U(V,L,G,at):null;case B:return vt=G._init,G=vt(G._payload),Z(V,L,G,at)}if(ct(G)||j(G))return vt!==null?null:st(V,L,G,at,null);if(typeof G.then=="function")return Z(V,L,hc(G),at);if(G.$$typeof===b)return Z(V,L,kc(V,G),at);gc(V,G)}return null}function rt(V,L,G,at,vt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return V=V.get(G)||null,T(L,V,""+at,vt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case c:return V=V.get(at.key===null?G:at.key)||null,I(L,V,at,vt);case d:return V=V.get(at.key===null?G:at.key)||null,U(L,V,at,vt);case B:var Lt=at._init;return at=Lt(at._payload),rt(V,L,G,at,vt)}if(ct(at)||j(at))return V=V.get(G)||null,st(L,V,at,vt,null);if(typeof at.then=="function")return rt(V,L,G,hc(at),vt);if(at.$$typeof===b)return rt(V,L,G,kc(L,at),vt);gc(L,at)}return null}function St(V,L,G,at){for(var vt=null,Lt=null,Et=L,Ot=L=0,De=null;Et!==null&&Ot<G.length;Ot++){Et.index>Ot?(De=Et,Et=null):De=Et.sibling;var $t=Z(V,Et,G[Ot],at);if($t===null){Et===null&&(Et=De);break}r&&Et&&$t.alternate===null&&s(V,Et),L=m($t,L,Ot),Lt===null?vt=$t:Lt.sibling=$t,Lt=$t,Et=De}if(Ot===G.length)return o(V,Et),Jt&&ca(V,Ot),vt;if(Et===null){for(;Ot<G.length;Ot++)Et=ft(V,G[Ot],at),Et!==null&&(L=m(Et,L,Ot),Lt===null?vt=Et:Lt.sibling=Et,Lt=Et);return Jt&&ca(V,Ot),vt}for(Et=l(Et);Ot<G.length;Ot++)De=rt(Et,V,Ot,G[Ot],at),De!==null&&(r&&De.alternate!==null&&Et.delete(De.key===null?Ot:De.key),L=m(De,L,Ot),Lt===null?vt=De:Lt.sibling=De,Lt=De);return r&&Et.forEach(function(Os){return s(V,Os)}),Jt&&ca(V,Ot),vt}function Mt(V,L,G,at){if(G==null)throw Error(i(151));for(var vt=null,Lt=null,Et=L,Ot=L=0,De=null,$t=G.next();Et!==null&&!$t.done;Ot++,$t=G.next()){Et.index>Ot?(De=Et,Et=null):De=Et.sibling;var Os=Z(V,Et,$t.value,at);if(Os===null){Et===null&&(Et=De);break}r&&Et&&Os.alternate===null&&s(V,Et),L=m(Os,L,Ot),Lt===null?vt=Os:Lt.sibling=Os,Lt=Os,Et=De}if($t.done)return o(V,Et),Jt&&ca(V,Ot),vt;if(Et===null){for(;!$t.done;Ot++,$t=G.next())$t=ft(V,$t.value,at),$t!==null&&(L=m($t,L,Ot),Lt===null?vt=$t:Lt.sibling=$t,Lt=$t);return Jt&&ca(V,Ot),vt}for(Et=l(Et);!$t.done;Ot++,$t=G.next())$t=rt(Et,V,Ot,$t.value,at),$t!==null&&(r&&$t.alternate!==null&&Et.delete($t.key===null?Ot:$t.key),L=m($t,L,Ot),Lt===null?vt=$t:Lt.sibling=$t,Lt=$t);return r&&Et.forEach(function(yE){return s(V,yE)}),Jt&&ca(V,Ot),vt}function oe(V,L,G,at){if(typeof G=="object"&&G!==null&&G.type===h&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:t:{for(var vt=G.key;L!==null;){if(L.key===vt){if(vt=G.type,vt===h){if(L.tag===7){o(V,L.sibling),at=f(L,G.props.children),at.return=V,V=at;break t}}else if(L.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===B&&Hp(vt)===L.type){o(V,L.sibling),at=f(L,G.props),vl(at,G),at.return=V,V=at;break t}o(V,L);break}else s(V,L);L=L.sibling}G.type===h?(at=Sa(G.props.children,V.mode,at,G.key),at.return=V,V=at):(at=Rc(G.type,G.key,G.props,null,V.mode,at),vl(at,G),at.return=V,V=at)}return S(V);case d:t:{for(vt=G.key;L!==null;){if(L.key===vt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(V,L.sibling),at=f(L,G.children||[]),at.return=V,V=at;break t}else{o(V,L);break}else s(V,L);L=L.sibling}at=fg(G,V.mode,at),at.return=V,V=at}return S(V);case B:return vt=G._init,G=vt(G._payload),oe(V,L,G,at)}if(ct(G))return St(V,L,G,at);if(j(G)){if(vt=j(G),typeof vt!="function")throw Error(i(150));return G=vt.call(G),Mt(V,L,G,at)}if(typeof G.then=="function")return oe(V,L,hc(G),at);if(G.$$typeof===b)return oe(V,L,kc(V,G),at);gc(V,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(V,L.sibling),at=f(L,G),at.return=V,V=at):(o(V,L),at=cg(G,V.mode,at),at.return=V,V=at),S(V)):o(V,L)}return function(V,L,G,at){try{pl=0;var vt=oe(V,L,G,at);return oo=null,vt}catch(Et){if(Et===ml)throw Et;var Lt=wn(29,Et,null,V.mode);return Lt.lanes=at,Lt.return=V,Lt}finally{}}}var da=Pp(!0),Jp=Pp(!1),lo=yt(null),mc=yt(0);function $p(r,s){r=Pr,kt(mc,r),kt(lo,s),Pr=r|s.baseLanes}function ph(){kt(mc,Pr),kt(lo,lo.current)}function vh(){Pr=mc.current,bt(lo),bt(mc)}var yn=yt(null),rr=null;function ds(r){var s=r.alternate;kt(Se,Se.current&1),kt(yn,r),rr===null&&(s===null||lo.current!==null||s.memoizedState!==null)&&(rr=r)}function Vp(r){if(r.tag===22){if(kt(Se,Se.current),kt(yn,r),rr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(rr=r)}}else hs()}function hs(){kt(Se,Se.current),kt(yn,yn.current)}function Mr(r){bt(yn),rr===r&&(rr=null),bt(Se)}var Se=yt(0);function yc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rT=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},iT=n.unstable_scheduleCallback,sT=n.unstable_NormalPriority,xe={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new rT,data:new Map,refCount:0}}function wl(r){r.refCount--,r.refCount===0&&iT(sT,function(){r.controller.abort()})}var bl=null,bh=0,uo=0,co=null;function aT(r,s){if(bl===null){var o=bl=[];bh=0,uo=Ng(),co={status:"pending",value:void 0,then:function(l){o.push(l)}}}return bh++,s.then(jp,jp),s}function jp(){if(--bh===0&&bl!==null){co!==null&&(co.status="fulfilled");var r=bl;bl=null,uo=0,co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function oT(r,s){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Fp=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&aT(r,s),Fp!==null&&Fp(r,s)};var ha=yt(null);function Sh(){var r=ha.current;return r!==null?r:Zt.pooledCache}function pc(r,s){s===null?kt(ha,ha.current):kt(ha,s.pool)}function Yp(){var r=Sh();return r===null?null:{parent:xe._currentValue,pool:r}}var gs=0,zt=null,Yt=null,ye=null,vc=!1,fo=!1,ga=!1,wc=0,Sl=0,ho=null,lT=0;function de(){throw Error(i(321))}function xh(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!tn(r[o],s[o]))return!1;return!0}function Ah(r,s,o,l,f,m){return gs=m,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?ma:ms,ga=!1,m=o(l,f),ga=!1,fo&&(m=Xp(s,o,l,f)),Gp(r),m}function Gp(r){J.H=ir;var s=Yt!==null&&Yt.next!==null;if(gs=0,ye=Yt=zt=null,vc=!1,Sl=0,ho=null,s)throw Error(i(300));r===null||Ne||(r=r.dependencies,r!==null&&Dc(r)&&(Ne=!0))}function Xp(r,s,o,l){zt=r;var f=0;do{if(fo&&(ho=null),Sl=0,fo=!1,25<=f)throw Error(i(301));if(f+=1,ye=Yt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=ya,m=s(o,l)}while(fo);return m}function uT(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?xl(s):s,r=r.useState()[0],(Yt!==null?Yt.memoizedState:null)!==r&&(zt.flags|=1024),s}function Th(){var r=wc!==0;return wc=0,r}function Eh(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Nh(r){if(vc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vc=!1}gs=0,ye=Yt=zt=null,fo=!1,Sl=wc=0,ho=null}function Ge(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?zt.memoizedState=ye=r:ye=ye.next=r,ye}function pe(){if(Yt===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=Yt.next;var s=ye===null?zt.memoizedState:ye.next;if(s!==null)ye=s,Yt=r;else{if(r===null)throw zt.alternate===null?Error(i(467)):Error(i(310));Yt=r,r={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?zt.memoizedState=ye=r:ye=ye.next=r}return ye}var bc;bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xl(r){var s=Sl;return Sl+=1,ho===null&&(ho=[]),r=Up(ho,r,s),s=zt,(ye===null?s.memoizedState:ye.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?ma:ms),r}function Sc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return xl(r);if(r.$$typeof===b)return ze(r)}throw Error(i(438,String(r)))}function Ch(r){var s=null,o=zt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var l=zt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bc(),zt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),l=0;l<r;l++)o[l]=k;return s.index++,o}function Rr(r,s){return typeof s=="function"?s(r):s}function xc(r){var s=pe();return Dh(s,Yt,r)}function Dh(r,s,o){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=r.baseQueue,m=l.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}s.baseQueue=f=m,l.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var T=S=null,I=null,U=s,st=!1;do{var ft=U.lane&-536870913;if(ft!==U.lane?(qt&ft)===ft:(gs&ft)===ft){var Z=U.revertLane;if(Z===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ft===uo&&(st=!0);else if((gs&Z)===Z){U=U.next,Z===uo&&(st=!0);continue}else ft={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=ft,S=m):I=I.next=ft,zt.lanes|=Z,Ts|=Z;ft=U.action,ga&&o(m,ft),m=U.hasEagerState?U.eagerState:o(m,ft)}else Z={lane:ft,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=Z,S=m):I=I.next=Z,zt.lanes|=ft,Ts|=ft;U=U.next}while(U!==null&&U!==s);if(I===null?S=m:I.next=T,!tn(m,r.memoizedState)&&(Ne=!0,st&&(o=co,o!==null)))throw o;r.memoizedState=m,r.baseState=S,r.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function kh(r){var s=pe(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var l=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var S=f=f.next;do m=r(m,S.action),S=S.next;while(S!==f);tn(m,s.memoizedState)||(Ne=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,l]}function Kp(r,s,o){var l=zt,f=pe(),m=Jt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!tn((Yt||f).memoizedState,o);if(S&&(f.memoizedState=o,Ne=!0),f=f.queue,Rh(Wp.bind(null,l,f,r),[r]),f.getSnapshot!==s||S||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,go(9,Qp.bind(null,l,f,o,s),{destroy:void 0},null),Zt===null)throw Error(i(349));m||(gs&60)!==0||Zp(l,s,o)}return o}function Zp(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=zt.updateQueue,s===null?(s=bc(),zt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Qp(r,s,o,l){s.value=o,s.getSnapshot=l,t0(s)&&e0(r)}function Wp(r,s,o){return o(function(){t0(s)&&e0(r)})}function t0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!tn(r,o)}catch{return!0}}function e0(r){var s=fs(r,2);s!==null&&$e(s,r,2)}function Oh(r){var s=Ge();if(typeof r=="function"){var o=r;if(r=o(),ga){tr(!0);try{o()}finally{tr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:r},s}function n0(r,s,o,l){return r.baseState=o,Dh(r,Yt,typeof l=="function"?l:Rr)}function cT(r,s,o,l,f){if(Ec(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};J.T!==null?o(!0):m.isTransition=!1,l(m),o=s.pending,o===null?(m.next=s.pending=m,r0(s,m)):(m.next=o.next,s.pending=o.next=m)}}function r0(r,s){var o=s.action,l=s.payload,f=r.state;if(s.isTransition){var m=J.T,S={};J.T=S;try{var T=o(f,l),I=J.S;I!==null&&I(S,T),i0(r,s,T)}catch(U){Mh(r,s,U)}finally{J.T=m}}else try{m=o(f,l),i0(r,s,m)}catch(U){Mh(r,s,U)}}function i0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){s0(r,s,l)},function(l){return Mh(r,s,l)}):s0(r,s,o)}function s0(r,s,o){s.status="fulfilled",s.value=o,a0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,r0(r,o)))}function Mh(r,s,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=o,a0(s),s=s.next;while(s!==l)}r.action=null}function a0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function o0(r,s){return s}function l0(r,s){if(Jt){var o=Zt.formState;if(o!==null){t:{var l=zt;if(Jt){if(ke){e:{for(var f=ke,m=nr;f.nodeType!==8;){if(!m){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ke=Jn(f.nextSibling),l=f.data==="F!";break t}}fa(l)}l=!1}l&&(s=o[0])}}return o=Ge(),o.memoizedState=o.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:s},o.queue=l,o=N0.bind(null,zt,l),l.dispatch=o,l=Oh(!1),m=_h.bind(null,zt,!1,l.queue),l=Ge(),f={state:s,dispatch:null,action:r,pending:null},l.queue=f,o=cT.bind(null,zt,f,m,o),f.dispatch=o,l.memoizedState=r,[s,o,!1]}function u0(r){var s=pe();return c0(s,Yt,r)}function c0(r,s,o){s=Dh(r,s,o0)[0],r=xc(Rr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?xl(s):s;var l=pe(),f=l.queue,m=f.dispatch;return o!==l.memoizedState&&(zt.flags|=2048,go(9,fT.bind(null,f,o),{destroy:void 0},null)),[s,m,r]}function fT(r,s){r.action=s}function f0(r){var s=pe(),o=Yt;if(o!==null)return c0(s,o,r);pe(),s=s.memoizedState,o=pe();var l=o.queue.dispatch;return o.memoizedState=r,[s,l,!1]}function go(r,s,o,l){return r={tag:r,create:s,inst:o,deps:l,next:null},s=zt.updateQueue,s===null&&(s=bc(),zt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,s.lastEffect=r),r}function d0(){return pe().memoizedState}function Ac(r,s,o,l){var f=Ge();zt.flags|=r,f.memoizedState=go(1|s,o,{destroy:void 0},l===void 0?null:l)}function Tc(r,s,o,l){var f=pe();l=l===void 0?null:l;var m=f.memoizedState.inst;Yt!==null&&l!==null&&xh(l,Yt.memoizedState.deps)?f.memoizedState=go(s,o,m,l):(zt.flags|=r,f.memoizedState=go(1|s,o,m,l))}function h0(r,s){Ac(8390656,8,r,s)}function Rh(r,s){Tc(2048,8,r,s)}function g0(r,s){return Tc(4,2,r,s)}function m0(r,s){return Tc(4,4,r,s)}function y0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function p0(r,s,o){o=o!=null?o.concat([r]):null,Tc(4,4,y0.bind(null,s,r),o)}function Ih(){}function v0(r,s){var o=pe();s=s===void 0?null:s;var l=o.memoizedState;return s!==null&&xh(s,l[1])?l[0]:(o.memoizedState=[r,s],r)}function w0(r,s){var o=pe();s=s===void 0?null:s;var l=o.memoizedState;if(s!==null&&xh(s,l[1]))return l[0];if(l=r(),ga){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[l,s],l}function Bh(r,s,o){return o===void 0||(gs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Sv(),zt.lanes|=r,Ts|=r,o)}function b0(r,s,o,l){return tn(o,s)?o:lo.current!==null?(r=Bh(r,o,l),tn(r,s)||(Ne=!0),r):(gs&42)===0?(Ne=!0,r.memoizedState=o):(r=Sv(),zt.lanes|=r,Ts|=r,s)}function S0(r,s,o,l,f){var m=et.p;et.p=m!==0&&8>m?m:8;var S=J.T,T={};J.T=T,_h(r,!1,s,o);try{var I=f(),U=J.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var st=oT(I,l);Al(r,s,st,sn(r))}else Al(r,s,l,sn(r))}catch(ft){Al(r,s,{then:function(){},status:"rejected",reason:ft},sn())}finally{et.p=m,J.T=S}}function dT(){}function zh(r,s,o,l){if(r.tag!==5)throw Error(i(476));var f=x0(r).queue;S0(r,f,s,gt,o===null?dT:function(){return A0(r),o(l)})}function x0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:gt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function A0(r){var s=x0(r).next.queue;Al(r,s,{},sn())}function Lh(){return ze($l)}function T0(){return pe().memoizedState}function E0(){return pe().memoizedState}function hT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=sn();r=vs(o);var l=ws(s,r,o);l!==null&&($e(l,s,o),Nl(l,s,o)),s={cache:wh()},r.payload=s;return}s=s.return}}function gT(r,s,o){var l=sn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ec(r)?C0(s,o):(o=dh(r,s,o,l),o!==null&&($e(o,r,l),D0(o,s,l)))}function N0(r,s,o){var l=sn();Al(r,s,o,l)}function Al(r,s,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ec(r))C0(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var S=s.lastRenderedState,T=m(S,o);if(f.hasEagerState=!0,f.eagerState=T,tn(T,S))return lc(r,s,f,0),Zt===null&&oc(),!1}catch{}finally{}if(o=dh(r,s,f,l),o!==null)return $e(o,r,l),D0(o,s,l),!0}return!1}function _h(r,s,o,l){if(l={lane:2,revertLane:Ng(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(r)){if(s)throw Error(i(479))}else s=dh(r,o,l,2),s!==null&&$e(s,r,2)}function Ec(r){var s=r.alternate;return r===zt||s!==null&&s===zt}function C0(r,s){fo=vc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function D0(r,s,o){if((o&4194176)!==0){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,ju(r,o)}}var ir={readContext:ze,use:Sc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de};ir.useCacheRefresh=de,ir.useMemoCache=de,ir.useHostTransitionStatus=de,ir.useFormState=de,ir.useActionState=de,ir.useOptimistic=de;var ma={readContext:ze,use:Sc,useCallback:function(r,s){return Ge().memoizedState=[r,s===void 0?null:s],r},useContext:ze,useEffect:h0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ac(4194308,4,y0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ac(4194308,4,r,s)},useInsertionEffect:function(r,s){Ac(4,2,r,s)},useMemo:function(r,s){var o=Ge();s=s===void 0?null:s;var l=r();if(ga){tr(!0);try{r()}finally{tr(!1)}}return o.memoizedState=[l,s],l},useReducer:function(r,s,o){var l=Ge();if(o!==void 0){var f=o(s);if(ga){tr(!0);try{o(s)}finally{tr(!1)}}}else f=s;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=gT.bind(null,zt,r),[l.memoizedState,r]},useRef:function(r){var s=Ge();return r={current:r},s.memoizedState=r},useState:function(r){r=Oh(r);var s=r.queue,o=N0.bind(null,zt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Ih,useDeferredValue:function(r,s){var o=Ge();return Bh(o,r,s)},useTransition:function(){var r=Oh(!1);return r=S0.bind(null,zt,r.queue,!0,!1),Ge().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var l=zt,f=Ge();if(Jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Zt===null)throw Error(i(349));(qt&60)!==0||Zp(l,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,h0(Wp.bind(null,l,m,r),[r]),l.flags|=2048,go(9,Qp.bind(null,l,m,o,s),{destroy:void 0},null),o},useId:function(){var r=Ge(),s=Zt.identifierPrefix;if(Jt){var o=Or,l=kr;o=(l&~(1<<32-He(l)-1)).toString(32)+o,s=":"+s+"R"+o,o=wc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=lT++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Ge().memoizedState=hT.bind(null,zt)}};ma.useMemoCache=Ch,ma.useHostTransitionStatus=Lh,ma.useFormState=l0,ma.useActionState=l0,ma.useOptimistic=function(r){var s=Ge();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=_h.bind(null,zt,!0,o),o.dispatch=s,[r,s]};var ms={readContext:ze,use:Sc,useCallback:v0,useContext:ze,useEffect:Rh,useImperativeHandle:p0,useInsertionEffect:g0,useLayoutEffect:m0,useMemo:w0,useReducer:xc,useRef:d0,useState:function(){return xc(Rr)},useDebugValue:Ih,useDeferredValue:function(r,s){var o=pe();return b0(o,Yt.memoizedState,r,s)},useTransition:function(){var r=xc(Rr)[0],s=pe().memoizedState;return[typeof r=="boolean"?r:xl(r),s]},useSyncExternalStore:Kp,useId:T0};ms.useCacheRefresh=E0,ms.useMemoCache=Ch,ms.useHostTransitionStatus=Lh,ms.useFormState=u0,ms.useActionState=u0,ms.useOptimistic=function(r,s){var o=pe();return n0(o,Yt,r,s)};var ya={readContext:ze,use:Sc,useCallback:v0,useContext:ze,useEffect:Rh,useImperativeHandle:p0,useInsertionEffect:g0,useLayoutEffect:m0,useMemo:w0,useReducer:kh,useRef:d0,useState:function(){return kh(Rr)},useDebugValue:Ih,useDeferredValue:function(r,s){var o=pe();return Yt===null?Bh(o,r,s):b0(o,Yt.memoizedState,r,s)},useTransition:function(){var r=kh(Rr)[0],s=pe().memoizedState;return[typeof r=="boolean"?r:xl(r),s]},useSyncExternalStore:Kp,useId:T0};ya.useCacheRefresh=E0,ya.useMemoCache=Ch,ya.useHostTransitionStatus=Lh,ya.useFormState=f0,ya.useActionState=f0,ya.useOptimistic=function(r,s){var o=pe();return Yt!==null?n0(o,Yt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Uh(r,s,o,l){s=r.memoizedState,o=o(l,s),o=o==null?s:X({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qh={isMounted:function(r){return(r=r._reactInternals)?P(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var l=sn(),f=vs(l);f.payload=s,o!=null&&(f.callback=o),s=ws(r,f,l),s!==null&&($e(s,r,l),Nl(s,r,l))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var l=sn(),f=vs(l);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ws(r,f,l),s!==null&&($e(s,r,l),Nl(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=sn(),l=vs(o);l.tag=2,s!=null&&(l.callback=s),s=ws(r,l,o),s!==null&&($e(s,r,o),Nl(s,r,o))}};function k0(r,s,o,l,f,m,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,S):s.prototype&&s.prototype.isPureReactComponent?!cl(o,l)||!cl(f,m):!0}function O0(r,s,o,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,l),s.state!==r&&qh.enqueueReplaceState(s,s.state,null)}function pa(r,s){var o=s;if("ref"in s){o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}if(r=r.defaultProps){o===s&&(o=X({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Nc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function M0(r){Nc(r)}function R0(r){console.error(r)}function I0(r){Nc(r)}function Cc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function B0(r,s,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hh(r,s,o){return o=vs(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(r,s)},o}function z0(r){return r=vs(r),r.tag=3,r}function L0(r,s,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;r.payload=function(){return f(m)},r.callback=function(){B0(s,o,l)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){B0(s,o,l),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mT(r,s,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=o.alternate,s!==null&&El(s,o,f,!0),o=yn.current,o!==null){switch(o.tag){case 13:return rr===null?Sg():o.alternate===null&&ae===0&&(ae=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===yh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([l]):s.add(l),Ag(r,l,f)),!1;case 22:return o.flags|=65536,l===yh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([l]):o.add(l)),Ag(r,l,f)),!1}throw Error(i(435,o.tag))}return Ag(r,l,f),Sg(),!1}if(Jt)return s=yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==mh&&(r=Error(i(422),{cause:l}),gl(hn(r,o)))):(l!==mh&&(s=Error(i(423),{cause:l}),gl(hn(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=hn(l,o),f=Hh(r.stateNode,l,f),eg(r,f),ae!==4&&(ae=2)),!1;var m=Error(i(520),{cause:l});if(m=hn(m,o),Bl===null?Bl=[m]:Bl.push(m),ae!==4&&(ae=2),s===null)return!0;l=hn(l,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Hh(o.stateNode,l,r),eg(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Es===null||!Es.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=z0(f),L0(f,r,o,l),eg(o,f),!1}o=o.return}while(o!==null);return!1}var _0=Error(i(461)),Ne=!1;function Oe(r,s,o,l){s.child=r===null?Jp(s,null,o,l):da(s,r.child,o,l)}function U0(r,s,o,l,f){o=o.render;var m=s.ref;if("ref"in l){var S={};for(var T in l)T!=="ref"&&(S[T]=l[T])}else S=l;return wa(s),l=Ah(r,s,o,S,m,f),T=Th(),r!==null&&!Ne?(Eh(r,s,f),Ir(r,s,f)):(Jt&&T&&hh(s),s.flags|=1,Oe(r,s,l,f),s.child)}function q0(r,s,o,l,f){if(r===null){var m=o.type;return typeof m=="function"&&!ug(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,H0(r,s,m,l,f)):(r=Rc(o.type,null,l,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Xh(r,f)){var S=m.memoizedProps;if(o=o.compare,o=o!==null?o:cl,o(S,l)&&r.ref===s.ref)return Ir(r,s,f)}return s.flags|=1,r=As(m,l),r.ref=s.ref,r.return=s,s.child=r}function H0(r,s,o,l,f){if(r!==null){var m=r.memoizedProps;if(cl(m,l)&&r.ref===s.ref)if(Ne=!1,s.pendingProps=l=m,Xh(r,f))(r.flags&131072)!==0&&(Ne=!0);else return s.lanes=r.lanes,Ir(r,s,f)}return Ph(r,s,o,l,f)}function P0(r,s,o){var l=s.pendingProps,f=l.children,m=(s.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Tl(r,s),l.mode==="hidden"||m){if((s.flags&128)!==0){if(l=S!==null?S.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return J0(r,s,l,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&pc(s,S!==null?S.cachePool:null),S!==null?$p(s,S):ph(),Vp(s);else return s.lanes=s.childLanes=536870912,J0(r,s,S!==null?S.baseLanes|o:o,o)}else S!==null?(pc(s,S.cachePool),$p(s,S),hs(),s.memoizedState=null):(r!==null&&pc(s,null),ph(),hs());return Oe(r,s,f,o),s.child}function J0(r,s,o,l){var f=Sh();return f=f===null?null:{parent:xe._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&pc(s,null),ph(),Vp(s),r!==null&&El(r,s,l,!0),null}function Tl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Ph(r,s,o,l,f){return wa(s),o=Ah(r,s,o,l,void 0,f),l=Th(),r!==null&&!Ne?(Eh(r,s,f),Ir(r,s,f)):(Jt&&l&&hh(s),s.flags|=1,Oe(r,s,o,f),s.child)}function $0(r,s,o,l,f,m){return wa(s),s.updateQueue=null,o=Xp(s,l,o,f),Gp(r),l=Th(),r!==null&&!Ne?(Eh(r,s,m),Ir(r,s,m)):(Jt&&l&&hh(s),s.flags|=1,Oe(r,s,o,m),s.child)}function V0(r,s,o,l,f){if(wa(s),s.stateNode===null){var m=io,S=o.contextType;typeof S=="object"&&S!==null&&(m=ze(S)),m=new o(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Wh(s),S=o.contextType,m.context=typeof S=="object"&&S!==null?ze(S):io,m.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Uh(s,o,S,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&qh.enqueueReplaceState(m,m.state,null),Dl(s,l,m,f),Cl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){m=s.stateNode;var T=s.memoizedProps,I=pa(o,T);m.props=I;var U=m.context,st=o.contextType;S=io,typeof st=="object"&&st!==null&&(S=ze(st));var ft=o.getDerivedStateFromProps;st=typeof ft=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,st||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==S)&&O0(s,m,l,S),ps=!1;var Z=s.memoizedState;m.state=Z,Dl(s,l,m,f),Cl(),U=s.memoizedState,T||Z!==U||ps?(typeof ft=="function"&&(Uh(s,o,ft,l),U=s.memoizedState),(I=ps||k0(s,o,I,l,Z,U,S))?(st||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),m.props=l,m.state=U,m.context=S,l=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,tg(r,s),S=s.memoizedProps,st=pa(o,S),m.props=st,ft=s.pendingProps,Z=m.context,U=o.contextType,I=io,typeof U=="object"&&U!==null&&(I=ze(U)),T=o.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==ft||Z!==I)&&O0(s,m,l,I),ps=!1,Z=s.memoizedState,m.state=Z,Dl(s,l,m,f),Cl();var rt=s.memoizedState;S!==ft||Z!==rt||ps||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof T=="function"&&(Uh(s,o,T,l),rt=s.memoizedState),(st=ps||k0(s,o,st,l,Z,rt,I)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,rt,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,rt,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=rt),m.props=l,m.state=rt,m.context=I,l=st):(typeof m.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),l=!1)}return m=l,Tl(r,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&l?(s.child=da(s,r.child,null,f),s.child=da(s,null,o,f)):Oe(r,s,o,f),s.memoizedState=m.state,r=s.child):r=Ir(r,s,f),r}function j0(r,s,o,l){return hl(),s.flags|=256,Oe(r,s,o,l),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function $h(r){return{baseLanes:r,cachePool:Yp()}}function Vh(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=bn),r}function F0(r,s,o){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,S;if((S=m)||(S=r!==null&&r.memoizedState===null?!1:(Se.current&2)!==0),S&&(f=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(Jt){if(f?ds(s):hs(),Jt){var T=ke,I;if(I=T){t:{for(I=T,T=nr;I.nodeType!==8;){if(!T){T=null;break t}if(I=Jn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(s.memoizedState={dehydrated:T,treeContext:ua!==null?{id:kr,overflow:Or}:null,retryLane:536870912},I=wn(18,null,null,0),I.stateNode=T,I.return=s,s.child=I,Je=s,ke=null,I=!0):I=!1}I||fa(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?s.lanes=16:s.lanes=536870912,null;Mr(s)}return T=l.children,l=l.fallback,f?(hs(),f=s.mode,T=Fh({mode:"hidden",children:T},f),l=Sa(l,f,o,null),T.return=s,l.return=s,T.sibling=l,s.child=T,f=s.child,f.memoizedState=$h(o),f.childLanes=Vh(r,S,o),s.memoizedState=Jh,l):(ds(s),jh(s,T))}if(I=r.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(m)s.flags&256?(ds(s),s.flags&=-257,s=Yh(r,s,o)):s.memoizedState!==null?(hs(),s.child=r.child,s.flags|=128,s=null):(hs(),f=l.fallback,T=s.mode,l=Fh({mode:"visible",children:l.children},T),f=Sa(f,T,o,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,da(s,r.child,null,o),l=s.child,l.memoizedState=$h(o),l.childLanes=Vh(r,S,o),s.memoizedState=Jh,s=f);else if(ds(s),T.data==="$!"){if(S=T.nextSibling&&T.nextSibling.dataset,S)var U=S.dgst;S=U,l=Error(i(419)),l.stack="",l.digest=S,gl({value:l,source:null,stack:null}),s=Yh(r,s,o)}else if(Ne||El(r,s,o,!1),S=(o&r.childLanes)!==0,Ne||S){if(S=Zt,S!==null){if(l=o&-o,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(S.suspendedLanes|o))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,fs(r,l),$e(S,r,l),_0}T.data==="$?"||Sg(),s=Yh(r,s,o)}else T.data==="$?"?(s.flags|=128,s.child=r.child,s=OT.bind(null,r),T._reactRetry=s,s=null):(r=I.treeContext,ke=Jn(T.nextSibling),Je=s,Jt=!0,Hn=null,nr=!1,r!==null&&(gn[mn++]=kr,gn[mn++]=Or,gn[mn++]=ua,kr=r.id,Or=r.overflow,ua=s),s=jh(s,l.children),s.flags|=4096);return s}return f?(hs(),f=l.fallback,T=s.mode,I=r.child,U=I.sibling,l=As(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=As(U,f):(f=Sa(f,T,o,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,T=r.child.memoizedState,T===null?T=$h(o):(I=T.cachePool,I!==null?(U=xe._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=Yp(),T={baseLanes:T.baseLanes|o,cachePool:I}),f.memoizedState=T,f.childLanes=Vh(r,S,o),s.memoizedState=Jh,l):(ds(s),o=r.child,r=o.sibling,o=As(o,{mode:"visible",children:l.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function jh(r,s){return s=Fh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fh(r,s){return vv(r,s,0,null)}function Yh(r,s,o){return da(s,r.child,null,o),r=jh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y0(r,s,o){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),Zh(r.return,s,o)}function Gh(r,s,o,l,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function G0(r,s,o){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(Oe(r,s,l.children,o),l=Se.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Y0(r,o,s);else if(r.tag===19)Y0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(kt(Se,l),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&yc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Gh(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&yc(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Gh(s,!0,o,null,m);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ir(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ts|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(El(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=As(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=As(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function yT(r,s,o){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),ys(s,xe,r.memoizedState.cache),hl();break;case 27:case 5:Ys(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:ys(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?F0(r,s,o):(ds(s),r=Ir(r,s,o),r!==null?r.sibling:null);ds(s);break;case 19:var f=(r.flags&128)!==0;if(l=(o&s.childLanes)!==0,l||(El(r,s,o,!1),l=(o&s.childLanes)!==0),f){if(l)return G0(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),kt(Se,Se.current),l)break;return null;case 22:case 23:return s.lanes=0,P0(r,s,o);case 24:ys(s,xe,r.memoizedState.cache)}return Ir(r,s,o)}function X0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ne=!0;else{if(!Xh(r,o)&&(s.flags&128)===0)return Ne=!1,yT(r,s,o);Ne=(r.flags&131072)!==0}else Ne=!1,Jt&&(s.flags&1048576)!==0&&Ip(s,fc,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")ug(l)?(r=pa(l,r),s.tag=1,s=V0(null,s,l,r,o)):(s.tag=0,s=Ph(null,s,l,r,o));else{if(l!=null){if(f=l.$$typeof,f===x){s.tag=11,s=U0(null,s,l,r,o);break t}else if(f===D){s.tag=14,s=q0(null,s,l,r,o);break t}}throw s=W(l)||l,Error(i(306,s,""))}}return s;case 0:return Ph(r,s,s.type,s.pendingProps,o);case 1:return l=s.type,f=pa(l,s.pendingProps),V0(r,s,l,f,o);case 3:t:{if(ie(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var m=s.pendingProps;f=s.memoizedState,l=f.element,tg(r,s),Dl(s,m,null,o);var S=s.memoizedState;if(m=S.cache,ys(s,xe,m),m!==f.cache&&Qh(s,[xe],o,!0),Cl(),m=S.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=j0(r,s,m,o);break t}else if(m!==l){l=hn(Error(i(424)),s),gl(l),s=j0(r,s,m,o);break t}else for(ke=Jn(s.stateNode.containerInfo.firstChild),Je=s,Jt=!0,Hn=null,nr=!0,o=Jp(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(hl(),m===l){s=Ir(r,s,o);break t}Oe(r,s,m,o)}s=s.child}return s;case 26:return Tl(r,s),r===null?(o=Qv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Jt||(o=s.type,r=s.pendingProps,l=Vc(It.current).createElement(o),l[Ee]=s,l[Be]=r,Me(l,o,r),me(l),s.stateNode=l):s.memoizedState=Qv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ys(s),r===null&&Jt&&(l=s.stateNode=Xv(s.type,s.pendingProps,It.current),Je=s,nr=!0,ke=Jn(l.firstChild)),l=s.pendingProps.children,r!==null||Jt?Oe(r,s,l,o):s.child=da(s,null,l,o),Tl(r,s),s.child;case 5:return r===null&&Jt&&((f=l=ke)&&(l=FT(l,s.type,s.pendingProps,nr),l!==null?(s.stateNode=l,Je=s,ke=Jn(l.firstChild),nr=!1,f=!0):f=!1),f||fa(s)),Ys(s),f=s.type,m=s.pendingProps,S=r!==null?r.memoizedProps:null,l=m.children,zg(f,m)?l=null:S!==null&&zg(f,S)&&(s.flags|=32),s.memoizedState!==null&&(f=Ah(r,s,uT,null,null,o),$l._currentValue=f),Tl(r,s),Oe(r,s,l,o),s.child;case 6:return r===null&&Jt&&((r=o=ke)&&(o=YT(o,s.pendingProps,nr),o!==null?(s.stateNode=o,Je=s,ke=null,r=!0):r=!1),r||fa(s)),null;case 13:return F0(r,s,o);case 4:return ie(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=da(s,null,l,o):Oe(r,s,l,o),s.child;case 11:return U0(r,s,s.type,s.pendingProps,o);case 7:return Oe(r,s,s.pendingProps,o),s.child;case 8:return Oe(r,s,s.pendingProps.children,o),s.child;case 12:return Oe(r,s,s.pendingProps.children,o),s.child;case 10:return l=s.pendingProps,ys(s,s.type,l.value),Oe(r,s,l.children,o),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,wa(s),f=ze(f),l=l(f),s.flags|=1,Oe(r,s,l,o),s.child;case 14:return q0(r,s,s.type,s.pendingProps,o);case 15:return H0(r,s,s.type,s.pendingProps,o);case 19:return G0(r,s,o);case 22:return P0(r,s,o);case 24:return wa(s),l=ze(xe),r===null?(f=Sh(),f===null&&(f=Zt,m=wh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:l,cache:f},Wh(s),ys(s,xe,f)):((r.lanes&o)!==0&&(tg(r,s),Dl(s,null,null,o),Cl()),f=r.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ys(s,xe,l)):(l=m.cache,ys(s,xe,l),l!==f.cache&&Qh(s,[xe],o,!0))),Oe(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Kh=yt(null),va=null,Br=null;function ys(r,s,o){kt(Kh,s._currentValue),s._currentValue=o}function zr(r){r._currentValue=Kh.current,bt(Kh)}function Zh(r,s,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===o)break;r=r.return}}function Qh(r,s,o,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;t:for(;m!==null;){var T=m;m=f;for(var I=0;I<s.length;I++)if(T.context===s[I]){m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),Zh(m.return,o,r),l||(S=null);break t}m=T.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(i(341));S.lanes|=o,m=S.alternate,m!==null&&(m.lanes|=o),Zh(S,o,r),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===r){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function El(r,s,o,l){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var T=f.type;tn(f.pendingProps.value,S.value)||(r!==null?r.push(T):r=[T])}}else if(f===jt.current){if(S=f.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push($l):r=[$l])}f=f.return}r!==null&&Qh(s,r,o,l),s.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!tn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){va=r,Br=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ze(r){return K0(va,r)}function kc(r,s){return va===null&&wa(r),K0(r,s)}function K0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Br===null){if(r===null)throw Error(i(308));Br=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Br=Br.next=s;return o}var ps=!1;function Wh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function vs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ws(r,s,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=uc(r),Mp(r,null,o),s}return lc(r,l,s,o),uc(r)}function Nl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,ju(r,o)}}function eg(r,s){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ng=!1;function Cl(){if(ng){var r=co;if(r!==null)throw r}}function Dl(r,s,o,l){ng=!1;var f=r.updateQueue;ps=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,U=I.next;I.next=null,S===null?m=U:S.next=U,S=I;var st=r.alternate;st!==null&&(st=st.updateQueue,T=st.lastBaseUpdate,T!==S&&(T===null?st.firstBaseUpdate=U:T.next=U,st.lastBaseUpdate=I))}if(m!==null){var ft=f.baseState;S=0,st=U=I=null,T=m;do{var Z=T.lane&-536870913,rt=Z!==T.lane;if(rt?(qt&Z)===Z:(l&Z)===Z){Z!==0&&Z===uo&&(ng=!0),st!==null&&(st=st.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=r,Mt=T;Z=s;var oe=o;switch(Mt.tag){case 1:if(St=Mt.payload,typeof St=="function"){ft=St.call(oe,ft,Z);break t}ft=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Mt.payload,Z=typeof St=="function"?St.call(oe,ft,Z):St,Z==null)break t;ft=X({},ft,Z);break t;case 2:ps=!0}}Z=T.callback,Z!==null&&(r.flags|=64,rt&&(r.flags|=8192),rt=f.callbacks,rt===null?f.callbacks=[Z]:rt.push(Z))}else rt={lane:Z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},st===null?(U=st=rt,I=ft):st=st.next=rt,S|=Z;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;rt=T,T=rt.next,rt.next=null,f.lastBaseUpdate=rt,f.shared.pending=null}}while(!0);st===null&&(I=ft),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=st,m===null&&(f.shared.lanes=0),Ts|=S,r.lanes=S,r.memoizedState=ft}}function Z0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Q0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Z0(o[r],s)}function kl(r,s){try{var o=s.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&r)===r){l=void 0;var m=o.create,S=o.inst;l=m(),S.destroy=l}o=o.next}while(o!==f)}}catch(T){Xt(s,s.return,T)}}function bs(r,s,o){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&r)===r){var S=l.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,f=s;var I=o;try{T()}catch(U){Xt(f,I,U)}}}l=l.next}while(l!==m)}}catch(U){Xt(s,s.return,U)}}function W0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Q0(s,o)}catch(l){Xt(r,r.return,l)}}}function tv(r,s,o){o.props=pa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Xt(r,s,l)}}function ba(r,s){try{var o=r.ref;if(o!==null){var l=r.stateNode;switch(r.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(m){Xt(r,s,m)}}function en(r,s){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){Xt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xt(r,s,f)}else o.current=null}function ev(r){var s=r.type,o=r.memoizedProps,l=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){Xt(r,r.return,f)}}function nv(r,s,o){try{var l=r.stateNode;PT(l,r.type,o,s),l[Be]=s}catch(f){Xt(r,r.return,f)}}function rv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function rg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||rv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ig(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=$c));else if(l!==4&&l!==27&&(r=r.child,r!==null))for(ig(r,s,o),r=r.sibling;r!==null;)ig(r,s,o),r=r.sibling}function Oc(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(l!==4&&l!==27&&(r=r.child,r!==null))for(Oc(r,s,o),r=r.sibling;r!==null;)Oc(r,s,o),r=r.sibling}var Lr=!1,se=!1,sg=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Ce=null,sv=!1;function pT(r,s){if(r=r.containerInfo,Ig=Kc,r=xp(r),oh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var S=0,T=-1,I=-1,U=0,st=0,ft=r,Z=null;e:for(;;){for(var rt;ft!==o||f!==0&&ft.nodeType!==3||(T=S+f),ft!==m||l!==0&&ft.nodeType!==3||(I=S+l),ft.nodeType===3&&(S+=ft.nodeValue.length),(rt=ft.firstChild)!==null;)Z=ft,ft=rt;for(;;){if(ft===r)break e;if(Z===o&&++U===f&&(T=S),Z===m&&++st===l&&(I=S),(rt=ft.nextSibling)!==null)break;ft=Z,Z=ft.parentNode}ft=rt}o=T===-1||I===-1?null:{start:T,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bg={focusedElem:r,selectionRange:o},Kc=!1,Ce=s;Ce!==null;)if(s=Ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ce=r;else for(;Ce!==null;){switch(s=Ce,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var St=pa(o.type,f,o.elementType===o.type);r=l.getSnapshotBeforeUpdate(St,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(Mt){Xt(o,o.return,Mt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Ug(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ug(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ce=r;break}Ce=s.return}return St=sv,sv=!1,St}function av(r,s,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(r,o),l&4&&kl(5,o);break;case 1:if(Ur(r,o),l&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var f=pa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}l&64&&W0(o),l&512&&ba(o,o.return);break;case 3:if(Ur(r,o),l&64&&(l=o.updateQueue,l!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Q0(l,r)}catch(T){Xt(o,o.return,T)}}break;case 26:Ur(r,o),l&512&&ba(o,o.return);break;case 27:case 5:Ur(r,o),s===null&&l&4&&ev(o),l&512&&ba(o,o.return);break;case 12:Ur(r,o);break;case 13:Ur(r,o),l&4&&uv(r,o);break;case 22:if(f=o.memoizedState!==null||Lr,!f){s=s!==null&&s.memoizedState!==null||se;var m=Lr,S=se;Lr=f,(se=s)&&!S?Ss(r,o,(o.subtreeFlags&8772)!==0):Ur(r,o),Lr=m,se=S}l&512&&(o.memoizedProps.mode==="manual"?ba(o,o.return):en(o,o.return));break;default:Ur(r,o)}}function ov(r){var s=r.alternate;s!==null&&(r.alternate=null,ov(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&nl(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ve=null,nn=!1;function _r(r,s,o){for(o=o.child;o!==null;)lv(r,s,o),o=o.sibling}function lv(r,s,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ta,o)}catch{}switch(o.tag){case 26:se||en(o,s),_r(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:se||en(o,s);var l=ve,f=nn;for(ve=o.stateNode,_r(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);nl(o),ve=l,nn=f;break;case 5:se||en(o,s);case 6:f=ve;var m=nn;if(ve=null,_r(r,s,o),ve=f,nn=m,ve!==null)if(nn)try{r=ve,l=o.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)}catch(S){Xt(o,s,S)}else try{ve.removeChild(o.stateNode)}catch(S){Xt(o,s,S)}break;case 18:ve!==null&&(nn?(s=ve,o=o.stateNode,s.nodeType===8?_g(s.parentNode,o):s.nodeType===1&&_g(s,o),Yl(s)):_g(ve,o.stateNode));break;case 4:l=ve,f=nn,ve=o.stateNode.containerInfo,nn=!0,_r(r,s,o),ve=l,nn=f;break;case 0:case 11:case 14:case 15:se||bs(2,o,s),se||bs(4,o,s),_r(r,s,o);break;case 1:se||(en(o,s),l=o.stateNode,typeof l.componentWillUnmount=="function"&&tv(o,s,l)),_r(r,s,o);break;case 21:_r(r,s,o);break;case 22:se||en(o,s),se=(l=se)||o.memoizedState!==null,_r(r,s,o),se=l;break;default:_r(r,s,o)}}function uv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yl(r)}catch(o){Xt(s,s.return,o)}}function vT(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new iv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new iv),s;default:throw Error(i(435,r.tag))}}function ag(r,s){var o=vT(r);s.forEach(function(l){var f=MT.bind(null,r,l);o.has(l)||(o.add(l),l.then(f,f))})}function pn(r,s){var o=s.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=r,S=s,T=S;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,nn=!1;break t;case 3:ve=T.stateNode.containerInfo,nn=!0;break t;case 4:ve=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ve===null)throw Error(i(160));lv(m,S,f),ve=null,nn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)cv(s,r),s=s.sibling}var Pn=null;function cv(r,s){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:pn(s,r),vn(r),l&4&&(bs(3,r,r.return),kl(3,r),bs(5,r,r.return));break;case 1:pn(s,r),vn(r),l&512&&(se||o===null||en(o,o.return)),l&64&&Lr&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=Pn;if(pn(s,r),vn(r),l&512&&(se||o===null||en(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){t:{l=r.type,o=r.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ia]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Me(m,l,o),m[Ee]=r,me(m),l=m;break t;case"link":var S=ew("link","href",f).get(l+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(m=S[T],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break e}}m=f.createElement(l),Me(m,l,o),f.head.appendChild(m);break;case"meta":if(S=ew("meta","content",f).get(l+(o.content||""))){for(T=0;T<S.length;T++)if(m=S[T],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break e}}m=f.createElement(l),Me(m,l,o),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Ee]=r,me(m),l=m}r.stateNode=l}else nw(f,r.type,r.stateNode);else r.stateNode=tw(f,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?nw(f,r.type,r.stateNode):tw(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&nv(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(l&4&&r.alternate===null){f=r.stateNode,m=r.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,st=I.nodeName;I[ia]||st==="HEAD"||st==="BODY"||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var ft=r.type,Z=f.attributes;Z.length;)f.removeAttributeNode(Z[0]);Me(f,ft,m),f[Ee]=r,f[Be]=m}catch(St){Xt(r,r.return,St)}}case 5:if(pn(s,r),vn(r),l&512&&(se||o===null||en(o,o.return)),r.flags&32){f=r.stateNode;try{Za(f,"")}catch(St){Xt(r,r.return,St)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,nv(r,f,o!==null?o.memoizedProps:f)),l&1024&&(sg=!0);break;case 6:if(pn(s,r),vn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(St){Xt(r,r.return,St)}}break;case 3:if(Yc=null,f=Pn,Pn=jc(s.containerInfo),pn(s,r),Pn=f,vn(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Yl(s.containerInfo)}catch(St){Xt(r,r.return,St)}sg&&(sg=!1,fv(r));break;case 4:l=Pn,Pn=jc(r.stateNode.containerInfo),pn(s,r),vn(r),Pn=l;break;case 12:pn(s,r),vn(r);break;case 13:pn(s,r),vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mg=je()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,ag(r,l)));break;case 22:if(l&512&&(se||o===null||en(o,o.return)),I=r.memoizedState!==null,U=o!==null&&o.memoizedState!==null,st=Lr,ft=se,Lr=st||I,se=ft||U,pn(s,r),se=ft,Lr=st,vn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,l&8192&&(s._visibility=I?s._visibility&-2:s._visibility|1,I&&(s=Lr||se,o===null||U||s||mo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){U=o=s;try{if(f=U.stateNode,I)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=U.stateNode,T=U.memoizedProps.style;var rt=T!=null&&T.hasOwnProperty("display")?T.display:null;S.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(St){Xt(U,U.return,St)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(St){Xt(U,U.return,St)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,ag(r,o))));break;case 19:pn(s,r),vn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,ag(r,l)));break;case 21:break;default:pn(s,r),vn(r)}}function vn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){t:{for(var o=r.return;o!==null;){if(rv(o)){var l=o;break t}o=o.return}throw Error(i(160))}switch(l.tag){case 27:var f=l.stateNode,m=rg(r);Oc(r,m,f);break;case 5:var S=l.stateNode;l.flags&32&&(Za(S,""),l.flags&=-33);var T=rg(r);Oc(r,T,S);break;case 3:case 4:var I=l.stateNode.containerInfo,U=rg(r);ig(r,U,I);break;default:throw Error(i(161))}}}catch(st){Xt(r,r.return,st)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function fv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;fv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ur(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)av(r,s.alternate,s),s=s.sibling}function mo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:bs(4,s,s.return),mo(s);break;case 1:en(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&tv(s,s.return,o),mo(s);break;case 26:case 27:case 5:en(s,s.return),mo(s);break;case 22:en(s,s.return),s.memoizedState===null&&mo(s);break;default:mo(s)}r=r.sibling}}function Ss(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=r,m=s,S=m.flags;switch(m.tag){case 0:case 11:case 15:Ss(f,m,o),kl(4,m);break;case 1:if(Ss(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Xt(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Z0(I[f],T)}catch(U){Xt(l,l.return,U)}}o&&S&64&&W0(m),ba(m,m.return);break;case 26:case 27:case 5:Ss(f,m,o),o&&l===null&&S&4&&ev(m),ba(m,m.return);break;case 12:Ss(f,m,o);break;case 13:Ss(f,m,o),o&&S&4&&uv(f,m);break;case 22:m.memoizedState===null&&Ss(f,m,o),ba(m,m.return);break;default:Ss(f,m,o)}s=s.sibling}}function og(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&wl(o))}function lg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wl(r))}function xs(r,s,o,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dv(r,s,o,l),s=s.sibling}function dv(r,s,o,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:xs(r,s,o,l),f&2048&&kl(9,s);break;case 3:xs(r,s,o,l),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wl(r)));break;case 12:if(f&2048){xs(r,s,o,l),r=s.stateNode;try{var m=s.memoizedProps,S=m.id,T=m.onPostCommit;typeof T=="function"&&T(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){Xt(s,s.return,I)}}else xs(r,s,o,l);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?xs(r,s,o,l):Ol(r,s):m._visibility&4?xs(r,s,o,l):(m._visibility|=4,yo(r,s,o,l,(s.subtreeFlags&10256)!==0)),f&2048&&og(s.alternate,s);break;case 24:xs(r,s,o,l),f&2048&&lg(s.alternate,s);break;default:xs(r,s,o,l)}}function yo(r,s,o,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,S=s,T=o,I=l,U=S.flags;switch(S.tag){case 0:case 11:case 15:yo(m,S,T,I,f),kl(8,S);break;case 23:break;case 22:var st=S.stateNode;S.memoizedState!==null?st._visibility&4?yo(m,S,T,I,f):Ol(m,S):(st._visibility|=4,yo(m,S,T,I,f)),f&&U&2048&&og(S.alternate,S);break;case 24:yo(m,S,T,I,f),f&&U&2048&&lg(S.alternate,S);break;default:yo(m,S,T,I,f)}s=s.sibling}}function Ol(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,l=s,f=l.flags;switch(l.tag){case 22:Ol(o,l),f&2048&&og(l.alternate,l);break;case 24:Ol(o,l),f&2048&&lg(l.alternate,l);break;default:Ol(o,l)}s=s.sibling}}var Ml=8192;function po(r){if(r.subtreeFlags&Ml)for(r=r.child;r!==null;)hv(r),r=r.sibling}function hv(r){switch(r.tag){case 26:po(r),r.flags&Ml&&r.memoizedState!==null&&aE(Pn,r.memoizedState,r.memoizedProps);break;case 5:po(r);break;case 3:case 4:var s=Pn;Pn=jc(r.stateNode.containerInfo),po(r),Pn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,po(r),Ml=s):po(r));break;default:po(r)}}function gv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Rl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Ce=l,yv(l,r)}gv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mv(r),r=r.sibling}function mv(r){switch(r.tag){case 0:case 11:case 15:Rl(r),r.flags&2048&&bs(9,r,r.return);break;case 3:Rl(r);break;case 12:Rl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Mc(r)):Rl(r);break;default:Rl(r)}}function Mc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Ce=l,yv(l,r)}gv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:bs(8,s,s.return),Mc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Mc(s));break;default:Mc(s)}r=r.sibling}}function yv(r,s){for(;Ce!==null;){var o=Ce;switch(o.tag){case 0:case 11:case 15:bs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Ce=l;else t:for(o=r;Ce!==null;){l=Ce;var f=l.sibling,m=l.return;if(ov(l),l===o){Ce=null;break t}if(f!==null){f.return=m,Ce=f;break t}Ce=m}}}function wT(r,s,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,s,o,l){return new wT(r,s,o,l)}function ug(r){return r=r.prototype,!(!r||!r.isReactComponent)}function As(r,s){var o=r.alternate;return o===null?(o=wn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function pv(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Rc(r,s,o,l,f,m){var S=0;if(l=r,typeof r=="function")ug(r)&&(S=1);else if(typeof r=="string")S=iE(r,o,Dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case h:return Sa(o.children,f,m,s);case g:S=8,f|=24;break;case y:return r=wn(12,o,s,f|2),r.elementType=y,r.lanes=m,r;case E:return r=wn(13,o,s,f),r.elementType=E,r.lanes=m,r;case R:return r=wn(19,o,s,f),r.elementType=R,r.lanes=m,r;case C:return vv(o,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case p:case b:S=10;break t;case w:S=9;break t;case x:S=11;break t;case D:S=14;break t;case B:S=16,l=null;break t}S=29,o=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=wn(S,o,s,f),s.elementType=r,s.type=l,s.lanes=m,s}function Sa(r,s,o,l){return r=wn(7,r,l,s),r.lanes=o,r}function vv(r,s,o,l){r=wn(22,r,l,s),r.elementType=C,r.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(i(456));if((f._pendingVisibility&2)===0){var S=fs(m,2);S!==null&&(f._pendingVisibility|=2,$e(S,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(i(456));if((f._pendingVisibility&2)!==0){var S=fs(m,2);S!==null&&(f._pendingVisibility&=-3,$e(S,m,2))}}};return r.stateNode=f,r}function cg(r,s,o){return r=wn(6,r,null,s),r.lanes=o,r}function fg(r,s,o){return s=wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function qr(r){r.flags|=4}function wv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rw(s)){if(s=yn.current,s!==null&&((qt&4194176)===qt?rr!==null:(qt&62914560)!==qt&&(qt&536870912)===0||s!==rr))throw yl=yh,Lp;r.flags|=8192}}function Ic(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?$u():536870912,r.lanes|=s,wo|=s)}function Il(r,s){if(!Jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function ne(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=o,s}function bT(r,s,o){var l=s.pendingProps;switch(gh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(s),null;case 1:return ne(s),null;case 3:return o=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zr(xe),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(dl(s)?qr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(wg(Hn),Hn=null))),ne(s),null;case 26:return o=s.memoizedState,r===null?(qr(s),o!==null?(ne(s),wv(s,o)):(ne(s),s.flags&=-16777217)):o?o!==r.memoizedState?(qr(s),ne(s),wv(s,o)):(ne(s),s.flags&=-16777217):(r.memoizedProps!==l&&qr(s),ne(s),s.flags&=-16777217),null;case 27:is(s),o=It.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&qr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ne(s),null}r=Dt.current,dl(s)?Bp(s):(r=Xv(f,l,o),s.stateNode=r,qr(s))}return ne(s),null;case 5:if(is(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&qr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ne(s),null}if(r=Dt.current,dl(s))Bp(s);else{switch(f=Vc(It.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}r[Ee]=s,r[Be]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;t:switch(Me(r,o,l),o){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&qr(s)}}return ne(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&qr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=It.current,dl(s)){if(r=s.stateNode,o=s.memoizedProps,l=null,f=Je,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Ee]=s,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||$v(r.nodeValue,o)),r||fa(s)}else r=Vc(r).createTextNode(l),r[Ee]=s,s.stateNode=r}return ne(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=dl(s),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ee]=s}else hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),f=!1}else Hn!==null&&(wg(Hn),Hn=null),f=!0;if(!f)return s.flags&256?(Mr(s),s):(Mr(s),null)}if(Mr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=l!==null,r=r!==null&&r.memoizedState!==null,o){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Ic(s,s.updateQueue),ne(s),null;case 4:return Te(),r===null&&Og(s.stateNode.containerInfo),ne(s),null;case 10:return zr(s.type),ne(s),null;case 19:if(bt(Se),f=s.memoizedState,f===null)return ne(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Il(f,!1);else{if(ae!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=yc(r),m!==null){for(s.flags|=128,Il(f,!1),r=m.updateQueue,s.updateQueue=r,Ic(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)pv(o,r),o=o.sibling;return kt(Se,Se.current&1|2),s.child}r=r.sibling}f.tail!==null&&je()>Bc&&(s.flags|=128,l=!0,Il(f,!1),s.lanes=4194304)}else{if(!l)if(r=yc(m),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,Ic(s,r),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Jt)return ne(s),null}else 2*je()-f.renderingStartTime>Bc&&o!==536870912&&(s.flags|=128,l=!0,Il(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=je(),s.sibling=null,r=Se.current,kt(Se,l?r&1|2:r&1),s):(ne(s),null);case 22:case 23:return Mr(s),vh(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(o&536870912)!==0&&(s.flags&128)===0&&(ne(s),s.subtreeFlags&6&&(s.flags|=8192)):ne(s),o=s.updateQueue,o!==null&&Ic(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==o&&(s.flags|=2048),r!==null&&bt(ha),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),zr(xe),ne(s),null;case 25:return null}throw Error(i(156,s.tag))}function ST(r,s){switch(gh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zr(xe),Te(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return is(s),null;case 13:if(Mr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return bt(Se),null;case 4:return Te(),null;case 10:return zr(s.type),null;case 22:case 23:return Mr(s),vh(),r!==null&&bt(ha),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return zr(xe),null;case 25:return null;default:return null}}function bv(r,s){switch(gh(s),s.tag){case 3:zr(xe),Te();break;case 26:case 27:case 5:is(s);break;case 4:Te();break;case 13:Mr(s);break;case 19:bt(Se);break;case 10:zr(s.type);break;case 22:case 23:Mr(s),vh(),r!==null&&bt(ha);break;case 24:zr(xe)}}var xT={getCacheForType:function(r){var s=ze(xe),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},AT=typeof WeakMap=="function"?WeakMap:Map,re=0,Zt=null,_t=null,qt=0,Qt=0,rn=null,Hr=!1,vo=!1,dg=!1,Pr=0,ae=0,Ts=0,xa=0,hg=0,bn=0,wo=0,Bl=null,sr=null,gg=!1,mg=0,Bc=1/0,zc=null,Es=null,Lc=!1,Aa=null,zl=0,yg=0,pg=null,Ll=0,vg=null;function sn(){if((re&2)!==0&&qt!==0)return qt&-qt;if(J.T!==null){var r=uo;return r!==0?r:Ng()}return Yu()}function Sv(){bn===0&&(bn=(qt&536870912)===0||Jt?Ju():536870912);var r=yn.current;return r!==null&&(r.flags|=32),bn}function $e(r,s,o){(r===Zt&&Qt===2||r.cancelPendingCommit!==null)&&(bo(r,0),Jr(r,qt,bn,!1)),ra(r,o),((re&2)===0||r!==Zt)&&(r===Zt&&((re&2)===0&&(xa|=o),ae===4&&Jr(r,qt,bn,!1)),ar(r))}function xv(r,s,o){if((re&6)!==0)throw Error(i(327));var l=!o&&(s&60)===0&&(s&r.expiredLanes)===0||na(r,s),f=l?NT(r,s):xg(r,s,!0),m=l;do{if(f===0){vo&&!l&&Jr(r,s,0,!1);break}else if(f===6)Jr(r,s,0,!Hr);else{if(o=r.current.alternate,m&&!TT(o)){f=xg(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var T=r;f=Bl;var I=T.current.memoizedState.isDehydrated;if(I&&(bo(T,S).flags|=256),S=xg(T,S,!1),S!==2){if(dg&&!I){T.errorRecoveryDisabledLanes|=m,xa|=m,f=4;break t}m=sr,sr=f,m!==null&&wg(m)}f=S}if(m=!1,f!==2)continue}}if(f===1){bo(r,0),Jr(r,s,0,!0);break}t:{switch(l=r,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Jr(l,s,bn,!Hr);break t}break;case 2:sr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(l.finishedWork=o,l.finishedLanes=s,(s&62914560)===s&&(m=mg+300-je(),10<m)){if(Jr(l,s,bn,!Hr),ea(l,0)!==0)break t;l.timeoutHandle=Fv(Av.bind(null,l,o,sr,zc,gg,s,bn,xa,wo,Hr,2,-0,0),m);break t}Av(l,o,sr,zc,gg,s,bn,xa,wo,Hr,0,-0,0)}}break}while(!0);ar(r)}function wg(r){sr===null?sr=r:sr.push.apply(sr,r)}function Av(r,s,o,l,f,m,S,T,I,U,st,ft,Z){var rt=s.subtreeFlags;if((rt&8192||(rt&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:sE},hv(s),s=oE(),s!==null)){r.cancelPendingCommit=s(Ov.bind(null,r,o,l,f,S,T,I,1,ft,Z)),Jr(r,m,S,!U);return}Ov(r,o,l,f,S,T,I,st,ft,Z)}function TT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!tn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jr(r,s,o,l){s&=~hg,s&=~xa,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var f=s;0<f;){var m=31-He(f),S=1<<m;l[m]=-1,f&=~S}o!==0&&Vu(r,o,s)}function _c(){return(re&6)===0?(_l(0),!1):!0}function bg(){if(_t!==null){if(Qt===0)var r=_t.return;else r=_t,Br=va=null,Nh(r),oo=null,pl=0,r=_t;for(;r!==null;)bv(r.alternate,r),r=r.return;_t=null}}function bo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$T(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),bg(),Zt=r,_t=o=As(r.current,null),qt=s,Qt=0,rn=null,Hr=!1,vo=na(r,s),dg=!1,wo=bn=hg=xa=Ts=ae=0,sr=Bl=null,gg=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var f=31-He(l),m=1<<f;s|=r[f],l&=~m}return Pr=s,oc(),o}function Tv(r,s){zt=null,J.H=ir,s===ml?(s=qp(),Qt=3):s===Lp?(s=qp(),Qt=4):Qt=s===_0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rn=s,_t===null&&(ae=1,Cc(r,hn(s,r.current)))}function Ev(){var r=J.H;return J.H=ir,r===null?ir:r}function Nv(){var r=J.A;return J.A=xT,r}function Sg(){ae=4,Hr||(qt&4194176)!==qt&&yn.current!==null||(vo=!0),(Ts&134217727)===0&&(xa&134217727)===0||Zt===null||Jr(Zt,qt,bn,!1)}function xg(r,s,o){var l=re;re|=2;var f=Ev(),m=Nv();(Zt!==r||qt!==s)&&(zc=null,bo(r,s)),s=!1;var S=ae;t:do try{if(Qt!==0&&_t!==null){var T=_t,I=rn;switch(Qt){case 8:bg(),S=6;break t;case 3:case 2:case 6:yn.current===null&&(s=!0);var U=Qt;if(Qt=0,rn=null,So(r,T,I,U),o&&vo){S=0;break t}break;default:U=Qt,Qt=0,rn=null,So(r,T,I,U)}}ET(),S=ae;break}catch(st){Tv(r,st)}while(!0);return s&&r.shellSuspendCounter++,Br=va=null,re=l,J.H=f,J.A=m,_t===null&&(Zt=null,qt=0,oc()),S}function ET(){for(;_t!==null;)Cv(_t)}function NT(r,s){var o=re;re|=2;var l=Ev(),f=Nv();Zt!==r||qt!==s?(zc=null,Bc=je()+500,bo(r,s)):vo=na(r,s);t:do try{if(Qt!==0&&_t!==null){s=_t;var m=rn;e:switch(Qt){case 1:Qt=0,rn=null,So(r,s,m,1);break;case 2:if(_p(m)){Qt=0,rn=null,Dv(s);break}s=function(){Qt===2&&Zt===r&&(Qt=7),ar(r)},m.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:_p(m)?(Qt=0,rn=null,Dv(s)):(Qt=0,rn=null,So(r,s,m,7));break;case 5:var S=null;switch(_t.tag){case 26:S=_t.memoizedState;case 5:case 27:var T=_t;if(!S||rw(S)){Qt=0,rn=null;var I=T.sibling;if(I!==null)_t=I;else{var U=T.return;U!==null?(_t=U,Uc(U)):_t=null}break e}}Qt=0,rn=null,So(r,s,m,5);break;case 6:Qt=0,rn=null,So(r,s,m,6);break;case 8:bg(),ae=6;break t;default:throw Error(i(462))}}CT();break}catch(st){Tv(r,st)}while(!0);return Br=va=null,J.H=l,J.A=f,re=o,_t!==null?0:(Zt=null,qt=0,oc(),ae)}function CT(){for(;_t!==null&&!Ks();)Cv(_t)}function Cv(r){var s=X0(r.alternate,r,Pr);r.memoizedProps=r.pendingProps,s===null?Uc(r):_t=s}function Dv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=$0(o,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=$0(o,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:Nh(s);default:bv(o,s),s=_t=pv(s,Pr),s=X0(o,s,Pr)}r.memoizedProps=r.pendingProps,s===null?Uc(r):_t=s}function So(r,s,o,l){Br=va=null,Nh(s),oo=null,pl=0;var f=s.return;try{if(mT(r,f,s,o,qt)){ae=1,Cc(r,hn(o,r.current)),_t=null;return}}catch(m){if(f!==null)throw _t=f,m;ae=1,Cc(r,hn(o,r.current)),_t=null;return}s.flags&32768?(Jt||l===1?r=!0:vo||(qt&536870912)!==0?r=!1:(Hr=r=!0,(l===2||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kv(s,r)):Uc(s)}function Uc(r){var s=r;do{if((s.flags&32768)!==0){kv(s,Hr);return}r=s.return;var o=bT(s.alternate,s,Pr);if(o!==null){_t=o;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);ae===0&&(ae=5)}function kv(r,s){do{var o=ST(r.alternate,r);if(o!==null){o.flags&=32767,_t=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){_t=r;return}_t=r=o}while(r!==null);ae=6,_t=null}function Ov(r,s,o,l,f,m,S,T,I,U){var st=J.T,ft=et.p;try{et.p=2,J.T=null,DT(r,s,o,l,ft,f,m,S,T,I,U)}finally{J.T=st,et.p=ft}}function DT(r,s,o,l,f,m,S,T){do xo();while(Aa!==null);if((re&6)!==0)throw Error(i(327));var I=r.finishedWork;if(l=r.finishedLanes,I===null)return null;if(r.finishedWork=null,r.finishedLanes=0,I===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=fh,qd(r,l,U,m,S,T),r===Zt&&(_t=Zt=null,qt=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Lc||(Lc=!0,yg=U,pg=o,RT(Pa,function(){return xo(),null})),o=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||o?(o=J.T,J.T=null,m=et.p,et.p=2,S=re,re|=4,pT(r,I),cv(I,r),QA(Bg,r.containerInfo),Kc=!!Ig,Bg=Ig=null,r.current=I,av(r,I.alternate,I),Zs(),re=S,et.p=m,J.T=o):r.current=I,Lc?(Lc=!1,Aa=r,zl=l):Mv(r,U),U=r.pendingLanes,U===0&&(Es=null),Bd(I.stateNode),ar(r),s!==null)for(f=r.onRecoverableError,I=0;I<s.length;I++)U=s[I],f(U.value,{componentStack:U.stack});return(zl&3)!==0&&xo(),U=r.pendingLanes,(l&4194218)!==0&&(U&42)!==0?r===vg?Ll++:(Ll=0,vg=r):Ll=0,_l(0),null}function Mv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wl(s)))}function xo(){if(Aa!==null){var r=Aa,s=yg;yg=0;var o=Fu(zl),l=J.T,f=et.p;try{if(et.p=32>o?32:o,J.T=null,Aa===null)var m=!1;else{o=pg,pg=null;var S=Aa,T=zl;if(Aa=null,zl=0,(re&6)!==0)throw Error(i(331));var I=re;if(re|=4,mv(S.current),dv(S,S.current,T,o),re=I,_l(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ta,S)}catch{}m=!0}return m}finally{et.p=f,J.T=l,Mv(r,s)}}return!1}function Rv(r,s,o){s=hn(o,s),s=Hh(r.stateNode,s,2),r=ws(r,s,2),r!==null&&(ra(r,2),ar(r))}function Xt(r,s,o){if(r.tag===3)Rv(r,r,o);else for(;s!==null;){if(s.tag===3){Rv(s,r,o);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){r=hn(o,r),o=z0(2),l=ws(s,o,2),l!==null&&(L0(o,l,s,r),ra(l,2),ar(l));break}}s=s.return}}function Ag(r,s,o){var l=r.pingCache;if(l===null){l=r.pingCache=new AT;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(o)||(dg=!0,f.add(o),r=kT.bind(null,r,s,o),s.then(r,r))}function kT(r,s,o){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Zt===r&&(qt&o)===o&&(ae===4||ae===3&&(qt&62914560)===qt&&300>je()-mg?(re&2)===0&&bo(r,0):hg|=o,wo===qt&&(wo=0)),ar(r)}function Iv(r,s){s===0&&(s=$u()),r=fs(r,s),r!==null&&(ra(r,s),ar(r))}function OT(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Iv(r,o)}function MT(r,s){var o=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Iv(r,o)}function RT(r,s){return Tr(r,s)}var qc=null,Ao=null,Tg=!1,Hc=!1,Eg=!1,Ta=0;function ar(r){r!==Ao&&r.next===null&&(Ao===null?qc=Ao=r:Ao=Ao.next=r),Hc=!0,Tg||(Tg=!0,BT(IT))}function _l(r,s){if(!Eg&&Hc){Eg=!0;do for(var o=!1,l=qc;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var S=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-He(42|r)+1)-1,m&=f&~(S&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,Lv(l,m))}else m=qt,m=ea(l,l===Zt?m:0),(m&3)===0||na(l,m)||(o=!0,Lv(l,m));l=l.next}while(o);Eg=!1}}function IT(){Hc=Tg=!1;var r=0;Ta!==0&&(JT()&&(r=Ta),Ta=0);for(var s=je(),o=null,l=qc;l!==null;){var f=l.next,m=Bv(l,s);m===0?(l.next=null,o===null?qc=f:o.next=f,f===null&&(Ao=o)):(o=l,(r!==0||(m&3)!==0)&&(Hc=!0)),l=f}_l(r)}function Bv(r,s){for(var o=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var S=31-He(m),T=1<<S,I=f[S];I===-1?((T&o)===0||(T&l)!==0)&&(f[S]=Ud(T,s)):I<=s&&(r.expiredLanes|=T),m&=~T}if(s=Zt,o=qt,o=ea(r,r===s?o:0),l=r.callbackNode,o===0||r===s&&Qt===2||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Xs(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||na(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(l!==null&&Xs(l),Fu(o)){case 2:case 8:o=Ws;break;case 32:o=Pa;break;case 268435456:o=Pu;break;default:o=Pa}return l=zv.bind(null,r),o=Tr(o,l),r.callbackPriority=s,r.callbackNode=o,s}return l!==null&&l!==null&&Xs(l),r.callbackPriority=2,r.callbackNode=null,2}function zv(r,s){var o=r.callbackNode;if(xo()&&r.callbackNode!==o)return null;var l=qt;return l=ea(r,r===Zt?l:0),l===0?null:(xv(r,l,s),Bv(r,je()),r.callbackNode!=null&&r.callbackNode===o?zv.bind(null,r):null)}function Lv(r,s){if(xo())return null;xv(r,s,!0)}function BT(r){VT(function(){(re&6)!==0?Tr(ss,r):r()})}function Ng(){return Ta===0&&(Ta=Ju()),Ta}function _v(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:tc(""+r)}function Uv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function zT(r,s,o,l,f){if(s==="submit"&&o&&o.stateNode===f){var m=_v((f[Be]||null).action),S=l.submitter;S&&(s=(s=S[Be]||null)?_v(s.formAction):S.getAttribute("formAction"),s!==null&&(m=s,S=null));var T=new ic("action","action",null,l,f);r.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var I=S?Uv(f,S):new FormData(f);zh(o,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=S?Uv(f,S):new FormData(f),zh(o,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var Cg=0;Cg<Op.length;Cg++){var Dg=Op[Cg],LT=Dg.toLowerCase(),_T=Dg[0].toUpperCase()+Dg.slice(1);qn(LT,"on"+_T)}qn(Ep,"onAnimationEnd"),qn(Np,"onAnimationIteration"),qn(Cp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(tT,"onTransitionRun"),qn(eT,"onTransitionStart"),qn(nT,"onTransitionCancel"),qn(Dp,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function qv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var S=l.length-1;0<=S;S--){var T=l[S],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break t;m=T,f.currentTarget=U;try{m(f)}catch(st){Nc(st)}f.currentTarget=null,m=I}else for(S=0;S<l.length;S++){if(T=l[S],I=T.instance,U=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break t;m=T,f.currentTarget=U;try{m(f)}catch(st){Nc(st)}f.currentTarget=null,m=I}}}}function Ut(r,s){var o=s[Va];o===void 0&&(o=s[Va]=new Set);var l=r+"__bubble";o.has(l)||(Hv(s,r,2,!1),o.add(l))}function kg(r,s,o){var l=0;s&&(l|=4),Hv(o,r,l,s)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Og(r){if(!r[Pc]){r[Pc]=!0,Xu.forEach(function(o){o!=="selectionchange"&&(UT.has(o)||kg(o,!1,r),kg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pc]||(s[Pc]=!0,kg("selectionchange",!1,s))}}function Hv(r,s,o,l){switch(uw(s)){case 2:var f=cE;break;case 8:f=fE;break;default:f=$g}o=f.bind(null,s,o,r),f=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Mg(r,s,o,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(S===4)for(S=l.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;S=S.return}for(;T!==null;){if(S=Cr(T),S===null)return;if(I=S.tag,I===5||I===6||I===26||I===27){l=m=S;continue t}T=T.parentNode}}l=l.return}ep(function(){var U=m,st=Kd(o),ft=[];t:{var Z=kp.get(r);if(Z!==void 0){var rt=ic,St=r;switch(r){case"keypress":if(nc(o)===0)break t;case"keydown":case"keyup":rt=MA;break;case"focusin":St="focus",rt=nh;break;case"focusout":St="blur",rt=nh;break;case"beforeblur":case"afterblur":rt=nh;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=BA;break;case Ep:case Np:case Cp:rt=xA;break;case Dp:rt=LA;break;case"scroll":case"scrollend":rt=pA;break;case"wheel":rt=UA;break;case"copy":case"cut":case"paste":rt=TA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=ap;break;case"toggle":case"beforetoggle":rt=HA}var Mt=(s&4)!==0,oe=!Mt&&(r==="scroll"||r==="scrollend"),V=Mt?Z!==null?Z+"Capture":null:Z;Mt=[];for(var L=U,G;L!==null;){var at=L;if(G=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||G===null||V===null||(at=rl(L,V),at!=null&&Mt.push(ql(L,at,G))),oe)break;L=L.return}0<Mt.length&&(Z=new rt(Z,St,null,o,st),ft.push({event:Z,listeners:Mt}))}}if((s&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",rt=r==="mouseout"||r==="pointerout",Z&&o!==Xd&&(St=o.relatedTarget||o.fromElement)&&(Cr(St)||St[Nr]))break t;if((rt||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,rt?(St=o.relatedTarget||o.toElement,rt=U,St=St?Cr(St):null,St!==null&&(oe=P(St),Mt=St.tag,St!==oe||Mt!==5&&Mt!==27&&Mt!==6)&&(St=null)):(rt=null,St=U),rt!==St)){if(Mt=ip,at="onMouseLeave",V="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Mt=ap,at="onPointerLeave",V="onPointerEnter",L="pointer"),oe=rt==null?Z:os(rt),G=St==null?Z:os(St),Z=new Mt(at,L+"leave",rt,o,st),Z.target=oe,Z.relatedTarget=G,at=null,Cr(st)===U&&(Mt=new Mt(V,L+"enter",St,o,st),Mt.target=G,Mt.relatedTarget=oe,at=Mt),oe=at,rt&&St)e:{for(Mt=rt,V=St,L=0,G=Mt;G;G=To(G))L++;for(G=0,at=V;at;at=To(at))G++;for(;0<L-G;)Mt=To(Mt),L--;for(;0<G-L;)V=To(V),G--;for(;L--;){if(Mt===V||V!==null&&Mt===V.alternate)break e;Mt=To(Mt),V=To(V)}Mt=null}else Mt=null;rt!==null&&Pv(ft,Z,rt,Mt,!1),St!==null&&oe!==null&&Pv(ft,oe,St,Mt,!0)}}t:{if(Z=U?os(U):window,rt=Z.nodeName&&Z.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Z.type==="file")var vt=gp;else if(dp(Z))if(mp)vt=KA;else{vt=GA;var Lt=YA}else rt=Z.nodeName,!rt||rt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?U&&Gd(U.elementType)&&(vt=gp):vt=XA;if(vt&&(vt=vt(r,U))){hp(ft,vt,o,st);break t}Lt&&Lt(r,Z,U),r==="focusout"&&U&&Z.type==="number"&&U.memoizedProps.value!=null&&Yd(Z,"number",Z.value)}switch(Lt=U?os(U):window,r){case"focusin":(dp(Lt)||Lt.contentEditable==="true")&&(eo=Lt,lh=U,fl=null);break;case"focusout":fl=lh=eo=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Ap(ft,o,st);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Ap(ft,o,st)}var Et;if(ih)t:{switch(r){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else to?cp(r,o)&&(Ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(op&&o.locale!=="ko"&&(to||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&to&&(Et=np()):(cs=st,Wd="value"in cs?cs.value:cs.textContent,to=!0)),Lt=Jc(U,Ot),0<Lt.length&&(Ot=new sp(Ot,r,null,o,st),ft.push({event:Ot,listeners:Lt}),Et?Ot.data=Et:(Et=fp(o),Et!==null&&(Ot.data=Et)))),(Et=JA?$A(r,o):VA(r,o))&&(Ot=Jc(U,"onBeforeInput"),0<Ot.length&&(Lt=new sp("onBeforeInput","beforeinput",null,o,st),ft.push({event:Lt,listeners:Ot}),Lt.data=Et)),zT(ft,r,U,o,st)}qv(ft,s)})}function ql(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Jc(r,s){for(var o=s+"Capture",l=[];r!==null;){var f=r,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=rl(r,o),f!=null&&l.unshift(ql(r,f,m)),f=rl(r,s),f!=null&&l.push(ql(r,f,m))),r=r.return}return l}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Pv(r,s,o,l,f){for(var m=s._reactName,S=[];o!==null&&o!==l;){var T=o,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||U===null||(I=U,f?(U=rl(o,m),U!=null&&S.unshift(ql(o,U,I))):f||(U=rl(o,m),U!=null&&S.push(ql(o,U,I)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var qT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function Jv(r){return(typeof r=="string"?r:""+r).replace(qT,`
`).replace(HT,"")}function $v(r,s){return s=Jv(s),Jv(r)===s}function $c(){}function Gt(r,s,o,l,f,m){switch(o){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Za(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Za(r,""+l);break;case"className":Fa(r,"class",l);break;case"tabIndex":Fa(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(r,o,l);break;case"style":Wy(r,l,m);break;case"data":if(s!=="object"){Fa(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=tc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Gt(r,s,"name",f.name,f,null),Gt(r,s,"formEncType",f.formEncType,f,null),Gt(r,s,"formMethod",f.formMethod,f,null),Gt(r,s,"formTarget",f.formTarget,f,null)):(Gt(r,s,"encType",f.encType,f,null),Gt(r,s,"method",f.method,f,null),Gt(r,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=tc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=$c);break;case"onScroll":l!=null&&Ut("scroll",r);break;case"onScrollEnd":l!=null&&Ut("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=tc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Ut("beforetoggle",r),Ut("toggle",r),ja(r,"popover",l);break;case"xlinkActuate":Un(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ja(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=mA.get(o)||o,ja(r,o,l))}}function Rg(r,s,o,l,f,m){switch(o){case"style":Wy(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Za(r,l):(typeof l=="number"||typeof l=="bigint")&&Za(r,""+l);break;case"onScroll":l!=null&&Ut("scroll",r);break;case"onScrollEnd":l!=null&&Ut("scrollend",r);break;case"onClick":l!=null&&(r.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Be]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,l,f);break t}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ja(r,o,l)}}}function Me(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",r),Ut("load",r);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var S=o[m];if(S!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(r,s,m,S,o,null)}}f&&Gt(r,s,"srcSet",o.srcSet,o,null),l&&Gt(r,s,"src",o.src,o,null);return;case"input":Ut("invalid",r);var T=m=S=f=null,I=null,U=null;for(l in o)if(o.hasOwnProperty(l)){var st=o[l];if(st!=null)switch(l){case"name":f=st;break;case"type":S=st;break;case"checked":I=st;break;case"defaultChecked":U=st;break;case"value":m=st;break;case"defaultValue":T=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:Gt(r,s,l,st,o,null)}}Xy(r,m,T,I,U,S,f,!1),Ya(r);return;case"select":Ut("invalid",r),l=S=m=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":S=T;break;case"multiple":l=T;default:Gt(r,s,f,T,o,null)}s=m,o=S,r.multiple=!!l,s!=null?Ka(r,!!l,s,!1):o!=null&&Ka(r,!!l,o,!0);return;case"textarea":Ut("invalid",r),m=f=l=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Gt(r,s,S,T,o,null)}Zy(r,l,f,m),Ya(r);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(l=o[I],l!=null))switch(I){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(r,s,I,l,o,null)}return;case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":Ut("load",r);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ut(Ul[l],r);break;case"image":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"embed":case"source":case"link":Ut("error",r),Ut("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(r,s,U,l,o,null)}return;default:if(Gd(s)){for(st in o)o.hasOwnProperty(st)&&(l=o[st],l!==void 0&&Rg(r,s,st,l,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(l=o[T],l!=null&&Gt(r,s,T,l,o,null))}function PT(r,s,o,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,T=null,I=null,U=null,st=null;for(rt in o){var ft=o[rt];if(o.hasOwnProperty(rt)&&ft!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":I=ft;default:l.hasOwnProperty(rt)||Gt(r,s,rt,null,l,ft)}}for(var Z in l){var rt=l[Z];if(ft=o[Z],l.hasOwnProperty(Z)&&(rt!=null||ft!=null))switch(Z){case"type":m=rt;break;case"name":f=rt;break;case"checked":U=rt;break;case"defaultChecked":st=rt;break;case"value":S=rt;break;case"defaultValue":T=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,s));break;default:rt!==ft&&Gt(r,s,Z,rt,l,ft)}}Fd(r,S,T,I,U,st,m,f);return;case"select":rt=S=T=Z=null;for(m in o)if(I=o[m],o.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":rt=I;default:l.hasOwnProperty(m)||Gt(r,s,m,null,l,I)}for(f in l)if(m=l[f],I=o[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":Z=m;break;case"defaultValue":T=m;break;case"multiple":S=m;default:m!==I&&Gt(r,s,f,m,l,I)}s=T,o=S,l=rt,Z!=null?Ka(r,!!o,Z,!1):!!l!=!!o&&(s!=null?Ka(r,!!o,s,!0):Ka(r,!!o,o?[]:"",!1));return;case"textarea":rt=Z=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Gt(r,s,T,null,l,f)}for(S in l)if(f=l[S],m=o[S],l.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":Z=f;break;case"defaultValue":rt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Gt(r,s,S,f,l,m)}Ky(r,Z,rt);return;case"option":for(var St in o)if(Z=o[St],o.hasOwnProperty(St)&&Z!=null&&!l.hasOwnProperty(St))switch(St){case"selected":r.selected=!1;break;default:Gt(r,s,St,null,l,Z)}for(I in l)if(Z=l[I],rt=o[I],l.hasOwnProperty(I)&&Z!==rt&&(Z!=null||rt!=null))switch(I){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Gt(r,s,I,Z,l,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in o)Z=o[Mt],o.hasOwnProperty(Mt)&&Z!=null&&!l.hasOwnProperty(Mt)&&Gt(r,s,Mt,null,l,Z);for(U in l)if(Z=l[U],rt=o[U],l.hasOwnProperty(U)&&Z!==rt&&(Z!=null||rt!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Gt(r,s,U,Z,l,rt)}return;default:if(Gd(s)){for(var oe in o)Z=o[oe],o.hasOwnProperty(oe)&&Z!==void 0&&!l.hasOwnProperty(oe)&&Rg(r,s,oe,void 0,l,Z);for(st in l)Z=l[st],rt=o[st],!l.hasOwnProperty(st)||Z===rt||Z===void 0&&rt===void 0||Rg(r,s,st,Z,l,rt);return}}for(var V in o)Z=o[V],o.hasOwnProperty(V)&&Z!=null&&!l.hasOwnProperty(V)&&Gt(r,s,V,null,l,Z);for(ft in l)Z=l[ft],rt=o[ft],!l.hasOwnProperty(ft)||Z===rt||Z==null&&rt==null||Gt(r,s,ft,Z,l,rt)}var Ig=null,Bg=null;function Vc(r){return r.nodeType===9?r:r.ownerDocument}function Vv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function zg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lg=null;function JT(){var r=window.event;return r&&r.type==="popstate"?r===Lg?!1:(Lg=r,!0):(Lg=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(r){return Yv.resolve(null).then(r).catch(jT)}:Fv;function jT(r){setTimeout(function(){throw r})}function _g(r,s){var o=s,l=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){r.removeChild(f),Yl(s);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);Yl(s)}function Ug(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ug(o),nl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function FT(r,s,o,l){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[ia])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Jn(r.nextSibling),r===null)break}return null}function YT(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Jn(r.nextSibling),r===null))return null;return r}function Jn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Gv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Xv(r,s,o){switch(s=Vc(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Sn=new Map,Kv=new Set;function jc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var $r=et.d;et.d={f:GT,r:XT,D:KT,C:ZT,L:QT,m:WT,X:eE,S:tE,M:nE};function GT(){var r=$r.f(),s=_c();return r||s}function XT(r){var s=as(r);s!==null&&s.tag===5&&s.type==="form"?A0(s):$r.r(r)}var Eo=typeof document>"u"?null:document;function Zv(r,s,o){var l=Eo;if(l&&typeof s=="string"&&s){var f=Pe(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Kv.has(f)||(Kv.add(f),r={rel:r,crossOrigin:o,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Me(s,"link",r),me(s),l.head.appendChild(s)))}}function KT(r){$r.D(r),Zv("dns-prefetch",r,null)}function ZT(r,s){$r.C(r,s),Zv("preconnect",r,s)}function QT(r,s,o){$r.L(r,s,o);var l=Eo;if(l&&r&&s){var f='link[rel="preload"][as="'+Pe(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Pe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Pe(o.imageSizes)+'"]')):f+='[href="'+Pe(r)+'"]';var m=f;switch(s){case"style":m=No(r);break;case"script":m=Co(r)}Sn.has(m)||(r=X({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Sn.set(m,r),l.querySelector(f)!==null||s==="style"&&l.querySelector(Hl(m))||s==="script"&&l.querySelector(Pl(m))||(s=l.createElement("link"),Me(s,"link",r),me(s),l.head.appendChild(s)))}}function WT(r,s){$r.m(r,s);var o=Eo;if(o&&r){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Pe(l)+'"][href="'+Pe(r)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Co(r)}if(!Sn.has(m)&&(r=X({rel:"modulepreload",href:r},s),Sn.set(m,r),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(m)))return}l=o.createElement("link"),Me(l,"link",r),me(l),o.head.appendChild(l)}}}function tE(r,s,o){$r.S(r,s,o);var l=Eo;if(l&&r){var f=ls(l).hoistableStyles,m=No(r);s=s||"default";var S=f.get(m);if(!S){var T={loading:0,preload:null};if(S=l.querySelector(Hl(m)))T.loading=5;else{r=X({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Sn.get(m))&&qg(r,o);var I=S=l.createElement("link");me(I),Me(I,"link",r),I._p=new Promise(function(U,st){I.onload=U,I.onerror=st}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fc(S,s,l)}S={type:"stylesheet",instance:S,count:1,state:T},f.set(m,S)}}}function eE(r,s){$r.X(r,s);var o=Eo;if(o&&r){var l=ls(o).hoistableScripts,f=Co(r),m=l.get(f);m||(m=o.querySelector(Pl(f)),m||(r=X({src:r,async:!0},s),(s=Sn.get(f))&&Hg(r,s),m=o.createElement("script"),me(m),Me(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function nE(r,s){$r.M(r,s);var o=Eo;if(o&&r){var l=ls(o).hoistableScripts,f=Co(r),m=l.get(f);m||(m=o.querySelector(Pl(f)),m||(r=X({src:r,async:!0,type:"module"},s),(s=Sn.get(f))&&Hg(r,s),m=o.createElement("script"),me(m),Me(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Qv(r,s,o,l){var f=(f=It.current)?jc(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=ls(f).hoistableStyles,l=o.get(s),l||(l={type:"style",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=No(o.href);var m=ls(f).hoistableStyles,S=m.get(r);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,S),(m=f.querySelector(Hl(r)))&&!m._p&&(S.instance=m,S.state.loading=5),Sn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sn.set(r,o),m||rE(f,r,o,S.state))),s&&l===null)throw Error(i(528,""));return S}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(o),o=ls(f).hoistableScripts,l=o.get(s),l||(l={type:"script",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function No(r){return'href="'+Pe(r)+'"'}function Hl(r){return'link[rel="stylesheet"]['+r+"]"}function Wv(r){return X({},r,{"data-precedence":r.precedence,precedence:null})}function rE(r,s,o,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Me(s,"link",o),me(s),r.head.appendChild(s))}function Co(r){return'[src="'+Pe(r)+'"]'}function Pl(r){return"script[async]"+r}function tw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+Pe(o.href)+'"]');if(l)return s.instance=l,me(l),l;var f=X({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),me(l),Me(l,"style",f),Fc(l,o.precedence,r),s.instance=l;case"stylesheet":f=No(o.href);var m=r.querySelector(Hl(f));if(m)return s.state.loading|=4,s.instance=m,me(m),m;l=Wv(o),(f=Sn.get(f))&&qg(l,f),m=(r.ownerDocument||r).createElement("link"),me(m);var S=m;return S._p=new Promise(function(T,I){S.onload=T,S.onerror=I}),Me(m,"link",l),s.state.loading|=4,Fc(m,o.precedence,r),s.instance=m;case"script":return m=Co(o.src),(f=r.querySelector(Pl(m)))?(s.instance=f,me(f),f):(l=o,(f=Sn.get(m))&&(l=X({},o),Hg(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),me(f),Me(f,"link",l),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Fc(l,o.precedence,r));return s.instance}function Fc(r,s,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,S=0;S<l.length;S++){var T=l[S];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Hg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yc=null;function ew(r,s,o){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(o,l)}else f=Yc,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[ia]||m[Ee]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(s)||"";S=r+S;var T=l.get(S);T?T.push(m):l.set(S,[m])}}return l}function nw(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function iE(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Jl=null;function sE(){}function aE(r,s,o){if(Jl===null)throw Error(i(475));var l=Jl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=No(o.href),m=r.querySelector(Hl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Gc.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=m,me(m);return}m=r.ownerDocument||r,o=Wv(o),(f=Sn.get(f))&&qg(o,f),m=m.createElement("link"),me(m);var S=m;S._p=new Promise(function(T,I){S.onload=T,S.onerror=I}),Me(m,"link",o),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Gc.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function oE(){if(Jl===null)throw Error(i(475));var r=Jl;return r.stylesheets&&r.count===0&&Pg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Pg(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xc=null;function Pg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xc=new Map,s.forEach(lE,r),Xc=null,Gc.call(r))}function lE(r,s){if(!(s.state.loading&4)){var o=Xc.get(r);if(o)var l=o.get(null);else{o=new Map,Xc.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),l=S)}l&&o.set(null,l)}f=s.instance,S=f.getAttribute("data-precedence"),m=o.get(S)||l,m===l&&o.set(null,f),o.set(S,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var $l={$$typeof:b,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function uE(r,s,o,l,f,m,S,T){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=el(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.hiddenUpdates=el(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function iw(r,s,o,l,f,m,S,T,I,U,st,ft){return r=new uE(r,s,o,S,T,I,U,ft),s=1,m===!0&&(s|=24),m=wn(3,null,null,s),r.current=m,m.stateNode=r,s=wh(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:s},Wh(m),r}function sw(r){return r?(r=io,r):io}function aw(r,s,o,l,f,m){f=sw(f),l.context===null?l.context=f:l.pendingContext=f,l=vs(s),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=ws(r,l,s),o!==null&&($e(o,r,s),Nl(o,r,s))}function ow(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Jg(r,s){ow(r,s),(r=r.alternate)&&ow(r,s)}function lw(r){if(r.tag===13){var s=fs(r,67108864);s!==null&&$e(s,r,67108864),Jg(r,67108864)}}var Kc=!0;function cE(r,s,o,l){var f=J.T;J.T=null;var m=et.p;try{et.p=2,$g(r,s,o,l)}finally{et.p=m,J.T=f}}function fE(r,s,o,l){var f=J.T;J.T=null;var m=et.p;try{et.p=8,$g(r,s,o,l)}finally{et.p=m,J.T=f}}function $g(r,s,o,l){if(Kc){var f=Vg(l);if(f===null)Mg(r,s,l,Zc,o),cw(r,l);else if(hE(f,r,s,o,l))l.stopPropagation();else if(cw(r,l),s&4&&-1<dE.indexOf(r)){for(;f!==null;){var m=as(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Er(m.pendingLanes);if(S!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var I=1<<31-He(S);T.entanglements[1]|=I,S&=~I}ar(m),(re&6)===0&&(Bc=je()+500,_l(0))}}break;case 13:T=fs(m,2),T!==null&&$e(T,m,2),_c(),Jg(m,2)}if(m=Vg(l),m===null&&Mg(r,s,l,Zc,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else Mg(r,s,l,null,o)}}function Vg(r){return r=Kd(r),jg(r)}var Zc=null;function jg(r){if(Zc=null,r=Cr(r),r!==null){var s=P(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=q(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zc=r,null}function uw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qs()){case ss:return 2;case Ws:return 8;case Pa:case tl:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Fg=!1,Ns=null,Cs=null,Ds=null,Vl=new Map,jl=new Map,ks=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(r,s){switch(r){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(s.pointerId)}}function Fl(r,s,o,l,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=as(s),s!==null&&lw(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function hE(r,s,o,l,f){switch(s){case"focusin":return Ns=Fl(Ns,r,s,o,l,f),!0;case"dragenter":return Cs=Fl(Cs,r,s,o,l,f),!0;case"mouseover":return Ds=Fl(Ds,r,s,o,l,f),!0;case"pointerover":var m=f.pointerId;return Vl.set(m,Fl(Vl.get(m)||null,r,s,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,jl.set(m,Fl(jl.get(m)||null,r,s,o,l,f)),!0}return!1}function fw(r){var s=Cr(r.target);if(s!==null){var o=P(s);if(o!==null){if(s=o.tag,s===13){if(s=q(o),s!==null){r.blockedOn=s,Hd(r.priority,function(){if(o.tag===13){var l=sn(),f=fs(o,l);f!==null&&$e(f,o,l),Jg(o,l)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qc(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Vg(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Xd=l,o.target.dispatchEvent(l),Xd=null}else return s=as(o),s!==null&&lw(s),r.blockedOn=o,!1;s.shift()}return!0}function dw(r,s,o){Qc(r)&&o.delete(s)}function gE(){Fg=!1,Ns!==null&&Qc(Ns)&&(Ns=null),Cs!==null&&Qc(Cs)&&(Cs=null),Ds!==null&&Qc(Ds)&&(Ds=null),Vl.forEach(dw),jl.forEach(dw)}function Wc(r,s){r.blockedOn===s&&(r.blockedOn=null,Fg||(Fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gE)))}var tf=null;function hw(r){tf!==r&&(tf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tf===r&&(tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],l=r[s+1],f=r[s+2];if(typeof l!="function"){if(jg(l||o)===null)continue;break}var m=as(o);m!==null&&(r.splice(s,3),s-=3,zh(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Yl(r){function s(I){return Wc(I,r)}Ns!==null&&Wc(Ns,r),Cs!==null&&Wc(Cs,r),Ds!==null&&Wc(Ds,r),Vl.forEach(s),jl.forEach(s);for(var o=0;o<ks.length;o++){var l=ks[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)fw(o),o.blockedOn===null&&ks.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],S=f[Be]||null;if(typeof m=="function")S||hw(o);else if(S){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[Be]||null)T=S.formAction;else if(jg(f)!==null)continue}else T=S.action;typeof T=="function"?o[l+1]=T:(o.splice(l,3),l-=3),hw(o)}}}function Yg(r){this._internalRoot=r}ef.prototype.render=Yg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,l=sn();aw(o,l,r,s,null,null)},ef.prototype.unmount=Yg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&xo(),aw(r.current,2,null,r,null,null),_c(),s[Nr]=null}};function ef(r){this._internalRoot=r}ef.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yu();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ks.length&&s!==0&&s<ks[o].priority;o++);ks.splice(o,0,r),o===0&&fw(r)}};var gw=t.version;if(gw!=="19.0.0")throw Error(i(527,gw,"19.0.0"));et.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=$(s),r=r!==null?it(r):null,r=r===null?null:r.stateNode,r};var mE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:J,findFiberByHostInstance:Cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{ta=nf.inject(mE),qe=nf}catch{}}return Xl.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,l="",f=M0,m=R0,S=I0,T=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=iw(r,1,!1,null,null,o,l,f,m,S,T,null),r[Nr]=s.current,Og(r.nodeType===8?r.parentNode:r),new Yg(s)},Xl.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var l=!1,f="",m=M0,S=R0,T=I0,I=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),s=iw(r,1,!0,s,o??null,l,f,m,S,T,I,U),s.context=sw(null),o=s.current,l=sn(),f=vs(l),f.callback=null,ws(o,f,l),s.current.lanes=l,ra(s,l),ar(s),r[Nr]=s.current,Og(r),new ef(s)},Xl.version="19.0.0",Xl}var Tw;function NE(){if(Tw)return Xg.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xg.exports=EE(),Xg.exports}var CE=NE(),tt=Ou();const DE=wb(tt);var Ft;(function(n){n[n.Canceled=1]="Canceled",n[n.Unknown=2]="Unknown",n[n.InvalidArgument=3]="InvalidArgument",n[n.DeadlineExceeded=4]="DeadlineExceeded",n[n.NotFound=5]="NotFound",n[n.AlreadyExists=6]="AlreadyExists",n[n.PermissionDenied=7]="PermissionDenied",n[n.ResourceExhausted=8]="ResourceExhausted",n[n.FailedPrecondition=9]="FailedPrecondition",n[n.Aborted=10]="Aborted",n[n.OutOfRange=11]="OutOfRange",n[n.Unimplemented=12]="Unimplemented",n[n.Internal=13]="Internal",n[n.Unavailable=14]="Unavailable",n[n.DataLoss=15]="DataLoss",n[n.Unauthenticated=16]="Unauthenticated"})(Ft||(Ft={}));function Ew(n){const t=Ft[n];return typeof t!="string"?n.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Wt extends Error{constructor(t,e=Ft.Unknown,i,a,u){super(kE(t,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=e,this.metadata=new Headers(i??{}),this.details=a??[],this.cause=u}static from(t,e=Ft.Unknown){return t instanceof Wt?t:t instanceof Error?t.name=="AbortError"?new Wt(t.message,Ft.Canceled):new Wt(t.message,e,void 0,void 0,t):new Wt(String(t),e,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===Wt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const e="typeName"in t?{findMessage:a=>a===t.typeName?t:void 0}:t,i=[];for(const a of this.details){if("getType"in a){e.findMessage(a.getType().typeName)&&i.push(a);continue}const u=e.findMessage(a.type);if(u)try{i.push(u.fromBinary(a.value))}catch{}}return i}}function kE(n,t){return n.length?`[${Ew(t)}] ${n}`:`[${Ew(t)}]`}function ue(n,t){if(!n)throw new Error(t)}const OE=34028234663852886e22,ME=-34028234663852886e22,RE=4294967295,IE=2147483647,BE=-2147483648;function wf(n){if(typeof n!="number")throw new Error("invalid int 32: "+typeof n);if(!Number.isInteger(n)||n>IE||n<BE)throw new Error("invalid int 32: "+n)}function xm(n){if(typeof n!="number")throw new Error("invalid uint 32: "+typeof n);if(!Number.isInteger(n)||n>RE||n<0)throw new Error("invalid uint 32: "+n)}function Sb(n){if(typeof n!="number")throw new Error("invalid float 32: "+typeof n);if(Number.isFinite(n)&&(n>OE||n<ME))throw new Error("invalid float 32: "+n)}const xb=Symbol("@bufbuild/protobuf/enum-type");function zE(n){const t=n[xb];return ue(t,"missing enum type on enum object"),t}function Ab(n,t,e,i){n[xb]=Tb(t,e.map(a=>({no:a.no,name:a.name,localName:n[a.no]})))}function Tb(n,t,e){const i=Object.create(null),a=Object.create(null),u=[];for(const c of t){const d=Eb(c);u.push(d),i[c.name]=d,a[c.no]=d}return{typeName:n,values:u,findName(c){return i[c]},findNumber(c){return a[c]}}}function LE(n,t,e){const i={};for(const a of t){const u=Eb(a);i[u.localName]=u.no,i[u.no]=u.localName}return Ab(i,n,t),i}function Eb(n){return"localName"in n?n:Object.assign(Object.assign({},n),{localName:n.name})}class pt{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,e){const i=this.getType(),a=i.runtime.bin,u=a.makeReadOptions(e);return a.readMessage(this,u.readerFactory(t),t.byteLength,u),this}fromJson(t,e){const i=this.getType(),a=i.runtime.json,u=a.makeReadOptions(e);return a.readMessage(i,t,u,this),this}fromJsonString(t,e){let i;try{i=JSON.parse(t)}catch(a){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${a instanceof Error?a.message:String(a)}`)}return this.fromJson(i,e)}toBinary(t){const e=this.getType(),i=e.runtime.bin,a=i.makeWriteOptions(t),u=a.writerFactory();return i.writeMessage(this,u,a),u.finish()}toJson(t){const e=this.getType(),i=e.runtime.json,a=i.makeWriteOptions(t);return i.writeMessage(this,a)}toJsonString(t){var e;const i=this.toJson(t);return JSON.stringify(i,null,(e=t==null?void 0:t.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function _E(n,t,e,i){var a;const u=(a=i==null?void 0:i.localName)!==null&&a!==void 0?a:t.substring(t.lastIndexOf(".")+1),c={[u]:function(d){n.util.initFields(this),n.util.initPartial(d,this)}}[u];return Object.setPrototypeOf(c.prototype,new pt),Object.assign(c,{runtime:n,typeName:t,fields:n.util.newFieldList(e),fromBinary(d,h){return new c().fromBinary(d,h)},fromJson(d,h){return new c().fromJson(d,h)},fromJsonString(d,h){return new c().fromJsonString(d,h)},equals(d,h){return n.util.equals(c,d,h)}}),c}function UE(){let n=0,t=0;for(let i=0;i<28;i+=7){let a=this.buf[this.pos++];if(n|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[n,t]}let e=this.buf[this.pos++];if(n|=(e&15)<<28,t=(e&112)>>4,(e&128)==0)return this.assertBounds(),[n,t];for(let i=3;i<=31;i+=7){let a=this.buf[this.pos++];if(t|=(a&127)<<i,(a&128)==0)return this.assertBounds(),[n,t]}throw new Error("invalid varint")}function tm(n,t,e){for(let u=0;u<28;u=u+7){const c=n>>>u,d=!(!(c>>>7)&&t==0),h=(d?c|128:c)&255;if(e.push(h),!d)return}const i=n>>>28&15|(t&7)<<4,a=t>>3!=0;if(e.push((a?i|128:i)&255),!!a){for(let u=3;u<31;u=u+7){const c=t>>>u,d=!!(c>>>7),h=(d?c|128:c)&255;if(e.push(h),!d)return}e.push(t>>>31&1)}}const bf=4294967296;function Nw(n){const t=n[0]==="-";t&&(n=n.slice(1));const e=1e6;let i=0,a=0;function u(c,d){const h=Number(n.slice(c,d));a*=e,i=i*e+h,i>=bf&&(a=a+(i/bf|0),i=i%bf)}return u(-24,-18),u(-18,-12),u(-12,-6),u(-6),t?Cb(i,a):hy(i,a)}function qE(n,t){let e=hy(n,t);const i=e.hi&2147483648;i&&(e=Cb(e.lo,e.hi));const a=Nb(e.lo,e.hi);return i?"-"+a:a}function Nb(n,t){if({lo:n,hi:t}=HE(n,t),t<=2097151)return String(bf*t+n);const e=n&16777215,i=(n>>>24|t<<8)&16777215,a=t>>16&65535;let u=e+i*6777216+a*6710656,c=i+a*8147497,d=a*2;const h=1e7;return u>=h&&(c+=Math.floor(u/h),u%=h),c>=h&&(d+=Math.floor(c/h),c%=h),d.toString()+Cw(c)+Cw(u)}function HE(n,t){return{lo:n>>>0,hi:t>>>0}}function hy(n,t){return{lo:n|0,hi:t|0}}function Cb(n,t){return t=~t,n?n=~n+1:t+=1,hy(n,t)}const Cw=n=>{const t=String(n);return"0000000".slice(t.length)+t};function Dw(n,t){if(n>=0){for(;n>127;)t.push(n&127|128),n=n>>>7;t.push(n)}else{for(let e=0;e<9;e++)t.push(n&127|128),n=n>>7;t.push(1)}}function PE(){let n=this.buf[this.pos++],t=n&127;if((n&128)==0)return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<7,(n&128)==0)return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<14,(n&128)==0)return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<21,(n&128)==0)return this.assertBounds(),t;n=this.buf[this.pos++],t|=(n&15)<<28;for(let e=5;(n&128)!==0&&e<10;e++)n=this.buf[this.pos++];if((n&128)!=0)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var kw={};function JE(){const n=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof n.getBigInt64=="function"&&typeof n.getBigUint64=="function"&&typeof n.setBigInt64=="function"&&typeof n.setBigUint64=="function"&&(typeof process!="object"||typeof kw!="object"||kw.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),c=BigInt("0"),d=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const g=typeof h=="bigint"?h:BigInt(h);if(g>u||g<a)throw new Error(`int64 invalid: ${h}`);return g},uParse(h){const g=typeof h=="bigint"?h:BigInt(h);if(g>d||g<c)throw new Error(`uint64 invalid: ${h}`);return g},enc(h){return n.setBigInt64(0,this.parse(h),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},uEnc(h){return n.setBigInt64(0,this.uParse(h),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},dec(h,g){return n.setInt32(0,h,!0),n.setInt32(4,g,!0),n.getBigInt64(0,!0)},uDec(h,g){return n.setInt32(0,h,!0),n.setInt32(4,g,!0),n.getBigUint64(0,!0)}}}const e=a=>ue(/^-?[0-9]+$/.test(a),`int64 invalid: ${a}`),i=a=>ue(/^[0-9]+$/.test(a),`uint64 invalid: ${a}`);return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),e(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),i(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),e(a),Nw(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),i(a),Nw(a)},dec(a,u){return qE(a,u)},uDec(a,u){return Nb(a,u)}}}const te=JE();var nt;(function(n){n[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64"})(nt||(nt={}));var Vs;(function(n){n[n.BIGINT=0]="BIGINT",n[n.STRING=1]="STRING"})(Vs||(Vs={}));function Ms(n,t,e){if(t===e)return!0;if(n==nt.BYTES){if(!(t instanceof Uint8Array)||!(e instanceof Uint8Array)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}switch(n){case nt.UINT64:case nt.FIXED64:case nt.INT64:case nt.SFIXED64:case nt.SINT64:return t==e}return!1}function Ho(n,t){switch(n){case nt.BOOL:return!1;case nt.UINT64:case nt.FIXED64:case nt.INT64:case nt.SFIXED64:case nt.SINT64:return t==0?te.zero:"0";case nt.DOUBLE:case nt.FLOAT:return 0;case nt.BYTES:return new Uint8Array(0);case nt.STRING:return"";default:return 0}}function Db(n,t){switch(n){case nt.BOOL:return t===!1;case nt.STRING:return t==="";case nt.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var ge;(function(n){n[n.Varint=0]="Varint",n[n.Bit64=1]="Bit64",n[n.LengthDelimited=2]="LengthDelimited",n[n.StartGroup=3]="StartGroup",n[n.EndGroup=4]="EndGroup",n[n.Bit32=5]="Bit32"})(ge||(ge={}));class $E{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let a=0;a<this.chunks.length;a++)t+=this.chunks[a].length;let e=new Uint8Array(t),i=0;for(let a=0;a<this.chunks.length;a++)e.set(this.chunks[a],i),i+=this.chunks[a].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,e){return this.uint32((t<<3|e)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(xm(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return wf(t),Dw(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let e=this.textEncoder.encode(t);return this.uint32(e.byteLength),this.raw(e)}float(t){Sb(t);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,t,!0),this.raw(e)}double(t){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t,!0),this.raw(e)}fixed32(t){xm(t);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t,!0),this.raw(e)}sfixed32(t){wf(t);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,t,!0),this.raw(e)}sint32(t){return wf(t),t=(t<<1^t>>31)>>>0,Dw(t,this.buf),this}sfixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),a=te.enc(t);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(e)}fixed64(t){let e=new Uint8Array(8),i=new DataView(e.buffer),a=te.uEnc(t);return i.setInt32(0,a.lo,!0),i.setInt32(4,a.hi,!0),this.raw(e)}int64(t){let e=te.enc(t);return tm(e.lo,e.hi,this.buf),this}sint64(t){let e=te.enc(t),i=e.hi>>31,a=e.lo<<1^i,u=(e.hi<<1|e.lo>>>31)^i;return tm(a,u,this.buf),this}uint64(t){let e=te.uEnc(t);return tm(e.lo,e.hi,this.buf),this}}class VE{constructor(t,e){this.varint64=UE,this.uint32=PE,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=e??new TextDecoder}tag(){let t=this.uint32(),e=t>>>3,i=t&7;if(e<=0||i<0||i>5)throw new Error("illegal tag: field no "+e+" wire type "+i);return[e,i]}skip(t,e){let i=this.pos;switch(t){case ge.Varint:for(;this.buf[this.pos++]&128;);break;case ge.Bit64:this.pos+=4;case ge.Bit32:this.pos+=4;break;case ge.LengthDelimited:let a=this.uint32();this.pos+=a;break;case ge.StartGroup:for(;;){const[u,c]=this.tag();if(c===ge.EndGroup){if(e!==void 0&&u!==e)throw new Error("invalid end group tag");break}this.skip(c,u)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return te.dec(...this.varint64())}uint64(){return te.uDec(...this.varint64())}sint64(){let[t,e]=this.varint64(),i=-(t&1);return t=(t>>>1|(e&1)<<31)^i,e=e>>>1^i,te.dec(t,e)}bool(){let[t,e]=this.varint64();return t!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return te.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return te.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),e=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(e,e+t)}string(){return this.textDecoder.decode(this.bytes())}}function jE(n,t,e,i){let a;return{typeName:t,extendee:e,get field(){if(!a){const u=typeof i=="function"?i():i;u.name=t.split(".").pop(),u.jsonName=`[${t}]`,a=n.util.newFieldList([u]).list()[0]}return a},runtime:n}}function kb(n){const t=n.field.localName,e=Object.create(null);return e[t]=FE(n),[e,()=>e[t]]}function FE(n){const t=n.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Ho(t.T,t.L);case"message":const e=t.T,i=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function YE(n,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let e=n.length-1;e>=0;--e)if(n[e].no==t.no)return[n[e]];return[]}return n.filter(e=>e.no===t.no)}let ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),dd=[];for(let n=0;n<ji.length;n++)dd[ji[n].charCodeAt(0)]=n;dd[45]=ji.indexOf("+");dd[95]=ji.indexOf("/");const gy={dec(n){let t=n.length*3/4;n[n.length-2]=="="?t-=2:n[n.length-1]=="="&&(t-=1);let e=new Uint8Array(t),i=0,a=0,u,c=0;for(let d=0;d<n.length;d++){if(u=dd[n.charCodeAt(d)],u===void 0)switch(n[d]){case"=":a=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:c=u,a=1;break;case 1:e[i++]=c<<2|(u&48)>>4,c=u,a=2;break;case 2:e[i++]=(c&15)<<4|(u&60)>>2,c=u,a=3;break;case 3:e[i++]=(c&3)<<6|u,a=0;break}}if(a==1)throw Error("invalid base64 string.");return e.subarray(0,i)},enc(n){let t="",e=0,i,a=0;for(let u=0;u<n.length;u++)switch(i=n[u],e){case 0:t+=ji[i>>2],a=(i&3)<<4,e=1;break;case 1:t+=ji[a|i>>4],a=(i&15)<<2,e=2;break;case 2:t+=ji[a|i>>6],t+=ji[i&63],e=0;break}return e&&(t+=ji[a],t+="=",e==1&&(t+="=")),t}};function GE(n,t,e){Mb(t,n);const i=t.runtime.bin.makeReadOptions(e),a=YE(n.getType().runtime.bin.listUnknownFields(n),t.field),[u,c]=kb(t);for(const d of a)t.runtime.bin.readField(u,i.readerFactory(d.data),t.field,d.wireType,i);return c()}function XE(n,t,e,i){Mb(t,n);const a=t.runtime.bin.makeReadOptions(i),u=t.runtime.bin.makeWriteOptions(i);if(Ob(n,t)){const g=n.getType().runtime.bin.listUnknownFields(n).filter(y=>y.no!=t.field.no);n.getType().runtime.bin.discardUnknownFields(n);for(const y of g)n.getType().runtime.bin.onUnknownField(n,y.no,y.wireType,y.data)}const c=u.writerFactory();let d=t.field;!d.opt&&!d.repeated&&(d.kind=="enum"||d.kind=="scalar")&&(d=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(d,e,c,u);const h=a.readerFactory(c.finish());for(;h.pos<h.len;){const[g,y]=h.tag(),p=h.skip(y,g);n.getType().runtime.bin.onUnknownField(n,g,y,p)}}function Ob(n,t){const e=n.getType();return t.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(n).find(i=>i.no==t.field.no)}function Mb(n,t){ue(n.extendee.typeName==t.getType().typeName,`extension ${n.typeName} can only be applied to message ${n.extendee.typeName}`)}function Rb(n,t){const e=n.localName;if(n.repeated)return t[e].length>0;if(n.oneof)return t[n.oneof.localName].case===e;switch(n.kind){case"enum":case"scalar":return n.opt||n.req?t[e]!==void 0:n.kind=="enum"?t[e]!==n.T.values[0].no:!Db(n.T,t[e]);case"message":return t[e]!==void 0;case"map":return Object.keys(t[e]).length>0}}function Ow(n,t){const e=n.localName,i=!n.opt&&!n.req;if(n.repeated)t[e]=[];else if(n.oneof)t[n.oneof.localName]={case:void 0};else switch(n.kind){case"map":t[e]={};break;case"enum":t[e]=i?n.T.values[0].no:void 0;break;case"scalar":t[e]=i?Ho(n.T,n.L):void 0;break;case"message":t[e]=void 0;break}}function Ma(n,t){if(n===null||typeof n!="object"||!Object.getOwnPropertyNames(pt.prototype).every(i=>i in n&&typeof n[i]=="function"))return!1;const e=n.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:t===void 0?!0:e.typeName==t.typeName}function Ib(n,t){return Ma(t)||!n.fieldWrapper?t:n.fieldWrapper.wrapField(t)}nt.DOUBLE,nt.FLOAT,nt.INT64,nt.UINT64,nt.INT32,nt.UINT32,nt.BOOL,nt.STRING,nt.BYTES;const Mw={ignoreUnknownFields:!1},Rw={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function KE(n){return n?Object.assign(Object.assign({},Mw),n):Mw}function ZE(n){return n?Object.assign(Object.assign({},Rw),n):Rw}const Of=Symbol(),Sf=Symbol();function QE(){return{makeReadOptions:KE,makeWriteOptions:ZE,readMessage(n,t,e,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${lr(t)}`);i=i??new n;const a=new Map,u=e.typeRegistry;for(const[c,d]of Object.entries(t)){const h=n.fields.findJsonName(c);if(h){if(h.oneof){if(d===null&&h.kind=="scalar")continue;const g=a.get(h.oneof);if(g!==void 0)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${h.oneof.name}" present: "${g}", "${c}"`);a.set(h.oneof,c)}Iw(i,d,h,e,n)}else{let g=!1;if(u!=null&&u.findExtension&&c.startsWith("[")&&c.endsWith("]")){const y=u.findExtension(c.substring(1,c.length-1));if(y&&y.extendee.typeName==n.typeName){g=!0;const[p,w]=kb(y);Iw(p,d,y.field,e,y),XE(i,y,w(),e)}}if(!g&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${c}" is unknown`)}}return i},writeMessage(n,t){const e=n.getType(),i={};let a;try{for(a of e.fields.byNumber()){if(!Rb(a,n)){if(a.req)throw"required field not set";if(!t.emitDefaultValues||!tN(a))continue}const c=a.oneof?n[a.oneof.localName].value:n[a.localName],d=Bw(a,c,t);d!==void 0&&(i[t.useProtoFieldName?a.name:a.jsonName]=d)}const u=t.typeRegistry;if(u!=null&&u.findExtensionFor)for(const c of e.runtime.bin.listUnknownFields(n)){const d=u.findExtensionFor(e.typeName,c.no);if(d&&Ob(n,d)){const h=GE(n,d,t),g=Bw(d.field,h,t);g!==void 0&&(i[d.field.jsonName]=g)}}}catch(u){const c=a?`cannot encode field ${e.typeName}.${a.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,d=u instanceof Error?u.message:String(u);throw new Error(c+(d.length>0?`: ${d}`:""))}return i},readScalar(n,t,e){return ru(n,t,e??Vs.BIGINT,!0)},writeScalar(n,t,e){if(t!==void 0&&(e||Db(n,t)))return xf(n,t)},debug:lr}}function lr(n){if(n===null)return"null";switch(typeof n){case"object":return Array.isArray(n)?"array":"object";case"string":return n.length>100?"string":`"${n.split('"').join('\\"')}"`;default:return String(n)}}function Iw(n,t,e,i,a){let u=e.localName;if(e.repeated){if(ue(e.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${a.typeName}.${e.name} from JSON: ${lr(t)}`);const c=n[u];for(const d of t){if(d===null)throw new Error(`cannot decode field ${a.typeName}.${e.name} from JSON: ${lr(d)}`);switch(e.kind){case"message":c.push(e.T.fromJson(d,i));break;case"enum":const h=em(e.T,d,i.ignoreUnknownFields,!0);h!==Sf&&c.push(h);break;case"scalar":try{c.push(ru(e.T,d,e.L,!0))}catch(g){let y=`cannot decode field ${a.typeName}.${e.name} from JSON: ${lr(d)}`;throw g instanceof Error&&g.message.length>0&&(y+=`: ${g.message}`),new Error(y)}break}}}else if(e.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${a.typeName}.${e.name} from JSON: ${lr(t)}`);const c=n[u];for(const[d,h]of Object.entries(t)){if(h===null)throw new Error(`cannot decode field ${a.typeName}.${e.name} from JSON: map value null`);let g;try{g=WE(e.K,d)}catch(y){let p=`cannot decode map key for field ${a.typeName}.${e.name} from JSON: ${lr(t)}`;throw y instanceof Error&&y.message.length>0&&(p+=`: ${y.message}`),new Error(p)}switch(e.V.kind){case"message":c[g]=e.V.T.fromJson(h,i);break;case"enum":const y=em(e.V.T,h,i.ignoreUnknownFields,!0);y!==Sf&&(c[g]=y);break;case"scalar":try{c[g]=ru(e.V.T,h,Vs.BIGINT,!0)}catch(p){let w=`cannot decode map value for field ${a.typeName}.${e.name} from JSON: ${lr(t)}`;throw p instanceof Error&&p.message.length>0&&(w+=`: ${p.message}`),new Error(w)}break}}}else switch(e.oneof&&(n=n[e.oneof.localName]={case:u},u="value"),e.kind){case"message":const c=e.T;if(t===null&&c.typeName!="google.protobuf.Value")return;let d=n[u];Ma(d)?d.fromJson(t,i):(n[u]=d=c.fromJson(t,i),c.fieldWrapper&&!e.oneof&&(n[u]=c.fieldWrapper.unwrapField(d)));break;case"enum":const h=em(e.T,t,i.ignoreUnknownFields,!1);switch(h){case Of:Ow(e,n);break;case Sf:break;default:n[u]=h;break}break;case"scalar":try{const g=ru(e.T,t,e.L,!1);switch(g){case Of:Ow(e,n);break;default:n[u]=g;break}}catch(g){let y=`cannot decode field ${a.typeName}.${e.name} from JSON: ${lr(t)}`;throw g instanceof Error&&g.message.length>0&&(y+=`: ${g.message}`),new Error(y)}break}}function WE(n,t){if(n===nt.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return ru(n,t,Vs.BIGINT,!0).toString()}function ru(n,t,e,i){if(t===null)return i?Ho(n,e):Of;switch(n){case nt.DOUBLE:case nt.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const a=Number(t);if(Number.isNaN(a)||!Number.isFinite(a))break;return n==nt.FLOAT&&Sb(a),a;case nt.INT32:case nt.FIXED32:case nt.SFIXED32:case nt.SINT32:case nt.UINT32:let u;if(typeof t=="number"?u=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(u=Number(t)),u===void 0)break;return n==nt.UINT32||n==nt.FIXED32?xm(u):wf(u),u;case nt.INT64:case nt.SFIXED64:case nt.SINT64:if(typeof t!="number"&&typeof t!="string")break;const c=te.parse(t);return e?c.toString():c;case nt.FIXED64:case nt.UINT64:if(typeof t!="number"&&typeof t!="string")break;const d=te.uParse(t);return e?d.toString():d;case nt.BOOL:if(typeof t!="boolean")break;return t;case nt.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case nt.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return gy.dec(t)}throw new Error}function em(n,t,e,i){if(t===null)return n.typeName=="google.protobuf.NullValue"?0:i?n.values[0].no:Of;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const a=n.findName(t);if(a!==void 0)return a.no;if(e)return Sf;break}throw new Error(`cannot decode enum ${n.typeName} from JSON: ${lr(t)}`)}function tN(n){return n.repeated||n.kind=="map"?!0:!(n.oneof||n.kind=="message"||n.opt||n.req)}function Bw(n,t,e){if(n.kind=="map"){ue(typeof t=="object"&&t!=null);const i={},a=Object.entries(t);switch(n.V.kind){case"scalar":for(const[c,d]of a)i[c.toString()]=xf(n.V.T,d);break;case"message":for(const[c,d]of a)i[c.toString()]=d.toJson(e);break;case"enum":const u=n.V.T;for(const[c,d]of a)i[c.toString()]=nm(u,d,e.enumAsInteger);break}return e.emitDefaultValues||a.length>0?i:void 0}if(n.repeated){ue(Array.isArray(t));const i=[];switch(n.kind){case"scalar":for(let a=0;a<t.length;a++)i.push(xf(n.T,t[a]));break;case"enum":for(let a=0;a<t.length;a++)i.push(nm(n.T,t[a],e.enumAsInteger));break;case"message":for(let a=0;a<t.length;a++)i.push(t[a].toJson(e));break}return e.emitDefaultValues||i.length>0?i:void 0}switch(n.kind){case"scalar":return xf(n.T,t);case"enum":return nm(n.T,t,e.enumAsInteger);case"message":return Ib(n.T,t).toJson(e)}}function nm(n,t,e){var i;if(ue(typeof t=="number"),n.typeName=="google.protobuf.NullValue")return null;if(e)return t;const a=n.findNumber(t);return(i=a==null?void 0:a.name)!==null&&i!==void 0?i:t}function xf(n,t){switch(n){case nt.INT32:case nt.SFIXED32:case nt.SINT32:case nt.FIXED32:case nt.UINT32:return ue(typeof t=="number"),t;case nt.FLOAT:case nt.DOUBLE:return ue(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case nt.STRING:return ue(typeof t=="string"),t;case nt.BOOL:return ue(typeof t=="boolean"),t;case nt.UINT64:case nt.FIXED64:case nt.INT64:case nt.SFIXED64:case nt.SINT64:return ue(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case nt.BYTES:return ue(t instanceof Uint8Array),gy.enc(t)}}const Do=Symbol("@bufbuild/protobuf/unknown-fields"),zw={readUnknownFields:!0,readerFactory:n=>new VE(n)},Lw={writeUnknownFields:!0,writerFactory:()=>new $E};function eN(n){return n?Object.assign(Object.assign({},zw),n):zw}function nN(n){return n?Object.assign(Object.assign({},Lw),n):Lw}function rN(){return{makeReadOptions:eN,makeWriteOptions:nN,listUnknownFields(n){var t;return(t=n[Do])!==null&&t!==void 0?t:[]},discardUnknownFields(n){delete n[Do]},writeUnknownFields(n,t){const i=n[Do];if(i)for(const a of i)t.tag(a.no,a.wireType).raw(a.data)},onUnknownField(n,t,e,i){const a=n;Array.isArray(a[Do])||(a[Do]=[]),a[Do].push({no:t,wireType:e,data:i})},readMessage(n,t,e,i,a){const u=n.getType(),c=a?t.len:t.pos+e;let d,h;for(;t.pos<c&&([d,h]=t.tag(),!(a===!0&&h==ge.EndGroup));){const g=u.fields.find(d);if(!g){const y=t.skip(h,d);i.readUnknownFields&&this.onUnknownField(n,d,h,y);continue}_w(n,t,g,h,i)}if(a&&(h!=ge.EndGroup||d!==e))throw new Error("invalid end group tag")},readField:_w,writeMessage(n,t,e){const i=n.getType();for(const a of i.fields.byNumber()){if(!Rb(a,n)){if(a.req)throw new Error(`cannot encode field ${i.typeName}.${a.name} to binary: required field not set`);continue}const u=a.oneof?n[a.oneof.localName].value:n[a.localName];Uw(a,u,t,e)}return e.writeUnknownFields&&this.writeUnknownFields(n,t),t},writeField(n,t,e,i){t!==void 0&&Uw(n,t,e,i)}}}function _w(n,t,e,i,a){let{repeated:u,localName:c}=e;switch(e.oneof&&(n=n[e.oneof.localName],n.case!=c&&delete n.value,n.case=c,c="value"),e.kind){case"scalar":case"enum":const d=e.kind=="enum"?nt.INT32:e.T;let h=Mf;if(e.kind=="scalar"&&e.L>0&&(h=sN),u){let w=n[c];if(i==ge.LengthDelimited&&d!=nt.STRING&&d!=nt.BYTES){let x=t.uint32()+t.pos;for(;t.pos<x;)w.push(h(t,d))}else w.push(h(t,d))}else n[c]=h(t,d);break;case"message":const g=e.T;u?n[c].push(Af(t,new g,a,e)):Ma(n[c])?Af(t,n[c],a,e):(n[c]=Af(t,new g,a,e),g.fieldWrapper&&!e.oneof&&!e.repeated&&(n[c]=g.fieldWrapper.unwrapField(n[c])));break;case"map":let[y,p]=iN(e,t,a);n[c][y]=p;break}}function Af(n,t,e,i){const a=t.getType().runtime.bin,u=i==null?void 0:i.delimited;return a.readMessage(t,n,u?i.no:n.uint32(),e,u),t}function iN(n,t,e){const i=t.uint32(),a=t.pos+i;let u,c;for(;t.pos<a;){const[d]=t.tag();switch(d){case 1:u=Mf(t,n.K);break;case 2:switch(n.V.kind){case"scalar":c=Mf(t,n.V.T);break;case"enum":c=t.int32();break;case"message":c=Af(t,new n.V.T,e,void 0);break}break}}if(u===void 0&&(u=Ho(n.K,Vs.BIGINT)),typeof u!="string"&&typeof u!="number"&&(u=u.toString()),c===void 0)switch(n.V.kind){case"scalar":c=Ho(n.V.T,Vs.BIGINT);break;case"enum":c=n.V.T.values[0].no;break;case"message":c=new n.V.T;break}return[u,c]}function sN(n,t){const e=Mf(n,t);return typeof e=="bigint"?e.toString():e}function Mf(n,t){switch(t){case nt.STRING:return n.string();case nt.BOOL:return n.bool();case nt.DOUBLE:return n.double();case nt.FLOAT:return n.float();case nt.INT32:return n.int32();case nt.INT64:return n.int64();case nt.UINT64:return n.uint64();case nt.FIXED64:return n.fixed64();case nt.BYTES:return n.bytes();case nt.FIXED32:return n.fixed32();case nt.SFIXED32:return n.sfixed32();case nt.SFIXED64:return n.sfixed64();case nt.SINT64:return n.sint64();case nt.UINT32:return n.uint32();case nt.SINT32:return n.sint32()}}function Uw(n,t,e,i){ue(t!==void 0);const a=n.repeated;switch(n.kind){case"scalar":case"enum":let u=n.kind=="enum"?nt.INT32:n.T;if(a)if(ue(Array.isArray(t)),n.packed)oN(e,u,n.no,t);else for(const c of t)iu(e,u,n.no,c);else iu(e,u,n.no,t);break;case"message":if(a){ue(Array.isArray(t));for(const c of t)qw(e,i,n,c)}else qw(e,i,n,t);break;case"map":ue(typeof t=="object"&&t!=null);for(const[c,d]of Object.entries(t))aN(e,i,n,c,d);break}}function aN(n,t,e,i,a){n.tag(e.no,ge.LengthDelimited),n.fork();let u=i;switch(e.K){case nt.INT32:case nt.FIXED32:case nt.UINT32:case nt.SFIXED32:case nt.SINT32:u=Number.parseInt(i);break;case nt.BOOL:ue(i=="true"||i=="false"),u=i=="true";break}switch(iu(n,e.K,1,u),e.V.kind){case"scalar":iu(n,e.V.T,2,a);break;case"enum":iu(n,nt.INT32,2,a);break;case"message":ue(a!==void 0),n.tag(2,ge.LengthDelimited).bytes(a.toBinary(t));break}n.join()}function qw(n,t,e,i){const a=Ib(e.T,i);e.delimited?n.tag(e.no,ge.StartGroup).raw(a.toBinary(t)).tag(e.no,ge.EndGroup):n.tag(e.no,ge.LengthDelimited).bytes(a.toBinary(t))}function iu(n,t,e,i){ue(i!==void 0);let[a,u]=Bb(t);n.tag(e,a)[u](i)}function oN(n,t,e,i){if(!i.length)return;n.tag(e,ge.LengthDelimited).fork();let[,a]=Bb(t);for(let u=0;u<i.length;u++)n[a](i[u]);n.join()}function Bb(n){let t=ge.Varint;switch(n){case nt.BYTES:case nt.STRING:t=ge.LengthDelimited;break;case nt.DOUBLE:case nt.FIXED64:case nt.SFIXED64:t=ge.Bit64;break;case nt.FIXED32:case nt.SFIXED32:case nt.FLOAT:t=ge.Bit32;break}const e=nt[n].toLowerCase();return[t,e]}function lN(){return{setEnumType:Ab,initPartial(n,t){if(n===void 0)return;const e=t.getType();for(const i of e.fields.byMember()){const a=i.localName,u=t,c=n;if(c[a]!=null)switch(i.kind){case"oneof":const d=c[a].case;if(d===void 0)continue;const h=i.findField(d);let g=c[a].value;h&&h.kind=="message"&&!Ma(g,h.T)?g=new h.T(g):h&&h.kind==="scalar"&&h.T===nt.BYTES&&(g=Kl(g)),u[a]={case:d,value:g};break;case"scalar":case"enum":let y=c[a];i.T===nt.BYTES&&(y=i.repeated?y.map(Kl):Kl(y)),u[a]=y;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===nt.BYTES)for(const[b,x]of Object.entries(c[a]))u[a][b]=Kl(x);else Object.assign(u[a],c[a]);break;case"message":const w=i.V.T;for(const b of Object.keys(c[a])){let x=c[a][b];w.fieldWrapper||(x=new w(x)),u[a][b]=x}break}break;case"message":const p=i.T;if(i.repeated)u[a]=c[a].map(w=>Ma(w,p)?w:new p(w));else{const w=c[a];p.fieldWrapper?p.typeName==="google.protobuf.BytesValue"?u[a]=Kl(w):u[a]=w:u[a]=Ma(w,p)?w:new p(w)}break}}},equals(n,t,e){return t===e?!0:!t||!e?!1:n.fields.byMember().every(i=>{const a=t[i.localName],u=e[i.localName];if(i.repeated){if(a.length!==u.length)return!1;switch(i.kind){case"message":return a.every((c,d)=>i.T.equals(c,u[d]));case"scalar":return a.every((c,d)=>Ms(i.T,c,u[d]));case"enum":return a.every((c,d)=>Ms(nt.INT32,c,u[d]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(a,u);case"enum":return Ms(nt.INT32,a,u);case"scalar":return Ms(i.T,a,u);case"oneof":if(a.case!==u.case)return!1;const c=i.findField(a.case);if(c===void 0)return!0;switch(c.kind){case"message":return c.T.equals(a.value,u.value);case"enum":return Ms(nt.INT32,a.value,u.value);case"scalar":return Ms(c.T,a.value,u.value)}throw new Error(`oneof cannot contain ${c.kind}`);case"map":const d=Object.keys(a).concat(Object.keys(u));switch(i.V.kind){case"message":const h=i.V.T;return d.every(y=>h.equals(a[y],u[y]));case"enum":return d.every(y=>Ms(nt.INT32,a[y],u[y]));case"scalar":const g=i.V.T;return d.every(y=>Ms(g,a[y],u[y]))}break}})},clone(n){const t=n.getType(),e=new t,i=e;for(const a of t.fields.byMember()){const u=n[a.localName];let c;if(a.repeated)c=u.map(rf);else if(a.kind=="map"){c=i[a.localName];for(const[d,h]of Object.entries(u))c[d]=rf(h)}else a.kind=="oneof"?c=a.findField(u.case)?{case:u.case,value:rf(u.value)}:{case:void 0}:c=rf(u);i[a.localName]=c}for(const a of t.runtime.bin.listUnknownFields(n))t.runtime.bin.onUnknownField(i,a.no,a.wireType,a.data);return e}}}function rf(n){if(n===void 0)return n;if(Ma(n))return n.clone();if(n instanceof Uint8Array){const t=new Uint8Array(n.byteLength);return t.set(n),t}return n}function Kl(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function uN(n,t,e){return{syntax:n,json:QE(),bin:rN(),util:Object.assign(Object.assign({},lN()),{newFieldList:t,initFields:e}),makeMessageType(i,a,u){return _E(this,i,a,u)},makeEnum:LE,makeEnumType:Tb,getEnumType:zE,makeExtension(i,a,u){return jE(this,i,a,u)}}}class cN{constructor(t,e){this._fields=t,this._normalizer=e}findJsonName(t){if(!this.jsonNames){const e={};for(const i of this.list())e[i.jsonName]=e[i.name]=i;this.jsonNames=e}return this.jsonNames[t]}find(t){if(!this.numbers){const e={};for(const i of this.list())e[i.no]=i;this.numbers=e}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,e)=>t.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let e;for(const i of this.list())i.oneof?i.oneof!==e&&(e=i.oneof,t.push(e)):t.push(i)}return this.members}}function zb(n,t){const e=Lb(n);return t?e:yN(mN(e))}function fN(n){return zb(n,!1)}const dN=Lb;function Lb(n){let t=!1;const e=[];for(let i=0;i<n.length;i++){let a=n.charAt(i);switch(a){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(a),t=!1;break;default:t&&(t=!1,a=a.toUpperCase()),e.push(a);break}}return e.join("")}const hN=new Set(["constructor","toString","toJSON","valueOf"]),gN=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),_b=n=>`${n}$`,mN=n=>gN.has(n)?_b(n):n,yN=n=>hN.has(n)?_b(n):n;class pN{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=fN(t)}addField(t){ue(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[t]}}function vN(n,t){var e,i,a,u,c,d;const h=[];let g;for(const y of typeof n=="function"?n():n){const p=y;if(p.localName=zb(y.name,y.oneof!==void 0),p.jsonName=(e=y.jsonName)!==null&&e!==void 0?e:dN(y.name),p.repeated=(i=y.repeated)!==null&&i!==void 0?i:!1,y.kind=="scalar"&&(p.L=(a=y.L)!==null&&a!==void 0?a:Vs.BIGINT),p.delimited=(u=y.delimited)!==null&&u!==void 0?u:!1,p.req=(c=y.req)!==null&&c!==void 0?c:!1,p.opt=(d=y.opt)!==null&&d!==void 0?d:!1,y.packed===void 0&&(p.packed=y.kind=="enum"||y.kind=="scalar"&&y.T!=nt.BYTES&&y.T!=nt.STRING),y.oneof!==void 0){const w=typeof y.oneof=="string"?y.oneof:y.oneof.name;(!g||g.name!=w)&&(g=new pN(w)),p.oneof=g,g.addField(p)}h.push(p)}return h}const A=uN("proto3",n=>new cN(n,t=>vN(t)),n=>{for(const t of n.getType().fields.byMember()){if(t.opt)continue;const e=t.localName,i=n;if(t.repeated){i[e]=[];continue}switch(t.kind){case"oneof":i[e]={case:void 0};break;case"enum":i[e]=0;break;case"map":i[e]={};break;case"scalar":i[e]=Ho(t.T,t.L);break}}});var Ve;(function(n){n[n.Unary=0]="Unary",n[n.ServerStreaming=1]="ServerStreaming",n[n.ClientStreaming=2]="ClientStreaming",n[n.BiDiStreaming=3]="BiDiStreaming"})(Ve||(Ve={}));var Hw;(function(n){n[n.NoSideEffects=1]="NoSideEffects",n[n.Idempotent=2]="Idempotent"})(Hw||(Hw={}));class _e extends pt{constructor(t){super(),this.seconds=te.zero,this.nanos=0,A.util.initPartial(t,this)}fromJson(t,e){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${A.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const a=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(a))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=te.parse(a/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const a=(this.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?i="."+a.substring(0,3)+"Z":a.substring(6)==="000"?i="."+a.substring(0,6)+"Z":i="."+a+"Z"}return new Date(e).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return _e.fromDate(new Date)}static fromDate(t){const e=t.getTime();return new _e({seconds:te.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(t,e){return new _e().fromBinary(t,e)}static fromJson(t,e){return new _e().fromJson(t,e)}static fromJsonString(t,e){return new _e().fromJsonString(t,e)}static equals(t,e){return A.util.equals(_e,t,e)}}_e.runtime=A;_e.typeName="google.protobuf.Timestamp";_e.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Fi extends pt{constructor(t){super(),this.seconds=te.zero,this.nanos=0,A.util.initPartial(t,this)}fromJson(t,e){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(t)}`);const a=Number(i[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${A.json.debug(t)}`);if(this.seconds=te.parse(a),typeof i[2]=="string"){const u=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(u),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),e+="."+i,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(t,e){return new Fi().fromBinary(t,e)}static fromJson(t,e){return new Fi().fromJson(t,e)}static fromJsonString(t,e){return new Fi().fromJsonString(t,e)}static equals(t,e){return A.util.equals(Fi,t,e)}}Fi.runtime=A;Fi.typeName="google.protobuf.Duration";Fi.fields=A.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class ur extends pt{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),A.util.initPartial(t,this)}toJson(t){var e;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),a=(e=t==null?void 0:t.typeRegistry)===null||e===void 0?void 0:e.findMessage(i);if(!a)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let c=a.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=this.typeUrl,c}fromJson(t,e){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const a=t["@type"];if(typeof a!="string"||a=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const u=this.typeUrlToName(a),c=(i=e==null?void 0:e.typeRegistry)===null||i===void 0?void 0:i.findMessage(u);if(!c)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${a} is not in the type registry`);let d;if(u.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))d=c.fromJson(t.value,e);else{const h=Object.assign({},t);delete h["@type"],d=c.fromJson(h,e)}return this.packFrom(d),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const e=t.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,e===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const e=t.lastIndexOf("/"),i=e>=0?t.substring(e+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const e=new ur;return e.packFrom(t),e}static fromBinary(t,e){return new ur().fromBinary(t,e)}static fromJson(t,e){return new ur().fromJson(t,e)}static fromJsonString(t,e){return new ur().fromJsonString(t,e)}static equals(t,e){return A.util.equals(ur,t,e)}}ur.runtime=A;ur.typeName="google.protobuf.Any";ur.fields=A.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class cr extends pt{constructor(t){super(),this.value=0,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.DOUBLE,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.DOUBLE,t)}catch(i){let a='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new cr().fromBinary(t,e)}static fromJson(t,e){return new cr().fromJson(t,e)}static fromJsonString(t,e){return new cr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(cr,t,e)}}cr.runtime=A;cr.typeName="google.protobuf.DoubleValue";cr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);cr.fieldWrapper={wrapField(n){return new cr({value:n})},unwrapField(n){return n.value}};class fr extends pt{constructor(t){super(),this.value=0,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.FLOAT,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.FLOAT,t)}catch(i){let a='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new fr().fromBinary(t,e)}static fromJson(t,e){return new fr().fromJson(t,e)}static fromJsonString(t,e){return new fr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(fr,t,e)}}fr.runtime=A;fr.typeName="google.protobuf.FloatValue";fr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);fr.fieldWrapper={wrapField(n){return new fr({value:n})},unwrapField(n){return n.value}};class dr extends pt{constructor(t){super(),this.value=te.zero,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.INT64,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.INT64,t)}catch(i){let a='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new dr().fromBinary(t,e)}static fromJson(t,e){return new dr().fromJson(t,e)}static fromJsonString(t,e){return new dr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(dr,t,e)}}dr.runtime=A;dr.typeName="google.protobuf.Int64Value";dr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);dr.fieldWrapper={wrapField(n){return new dr({value:n})},unwrapField(n){return n.value}};class hr extends pt{constructor(t){super(),this.value=te.zero,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.UINT64,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.UINT64,t)}catch(i){let a='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new hr().fromBinary(t,e)}static fromJson(t,e){return new hr().fromJson(t,e)}static fromJsonString(t,e){return new hr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(hr,t,e)}}hr.runtime=A;hr.typeName="google.protobuf.UInt64Value";hr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);hr.fieldWrapper={wrapField(n){return new hr({value:n})},unwrapField(n){return n.value}};class gr extends pt{constructor(t){super(),this.value=0,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.INT32,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.INT32,t)}catch(i){let a='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new gr().fromBinary(t,e)}static fromJson(t,e){return new gr().fromJson(t,e)}static fromJsonString(t,e){return new gr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(gr,t,e)}}gr.runtime=A;gr.typeName="google.protobuf.Int32Value";gr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);gr.fieldWrapper={wrapField(n){return new gr({value:n})},unwrapField(n){return n.value}};class mr extends pt{constructor(t){super(),this.value=0,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.UINT32,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.UINT32,t)}catch(i){let a='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new mr().fromBinary(t,e)}static fromJson(t,e){return new mr().fromJson(t,e)}static fromJsonString(t,e){return new mr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(mr,t,e)}}mr.runtime=A;mr.typeName="google.protobuf.UInt32Value";mr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);mr.fieldWrapper={wrapField(n){return new mr({value:n})},unwrapField(n){return n.value}};class yr extends pt{constructor(t){super(),this.value=!1,A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.BOOL,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.BOOL,t)}catch(i){let a='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new yr().fromBinary(t,e)}static fromJson(t,e){return new yr().fromJson(t,e)}static fromJsonString(t,e){return new yr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(yr,t,e)}}yr.runtime=A;yr.typeName="google.protobuf.BoolValue";yr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);yr.fieldWrapper={wrapField(n){return new yr({value:n})},unwrapField(n){return n.value}};class on extends pt{constructor(t){super(),this.value="",A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.STRING,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.STRING,t)}catch(i){let a='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new on().fromBinary(t,e)}static fromJson(t,e){return new on().fromJson(t,e)}static fromJsonString(t,e){return new on().fromJsonString(t,e)}static equals(t,e){return A.util.equals(on,t,e)}}on.runtime=A;on.typeName="google.protobuf.StringValue";on.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);on.fieldWrapper={wrapField(n){return new on({value:n})},unwrapField(n){return n.value}};class pr extends pt{constructor(t){super(),this.value=new Uint8Array(0),A.util.initPartial(t,this)}toJson(t){return A.json.writeScalar(nt.BYTES,this.value,!0)}fromJson(t,e){try{this.value=A.json.readScalar(nt.BYTES,t)}catch(i){let a='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(a+=`: ${i.message}`),new Error(a)}return this}static fromBinary(t,e){return new pr().fromBinary(t,e)}static fromJson(t,e){return new pr().fromJson(t,e)}static fromJsonString(t,e){return new pr().fromJsonString(t,e)}static equals(t,e){return A.util.equals(pr,t,e)}}pr.runtime=A;pr.typeName="google.protobuf.BytesValue";pr.fields=A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);pr.fieldWrapper={wrapField(n){return new pr({value:n})},unwrapField(n){return n.value}};function wN(n,t,e){try{const i=gy.dec(n);return t?t.fromBinary(i,e):i}catch(i){throw Wt.from(i,Ft.DataLoss)}}function bN(n,t){const e={};for(const[i,a]of Object.entries(n.methods)){const u=t(Object.assign(Object.assign({},a),{localName:i,service:n}));u!=null&&(e[i]=u)}return e}function Pw(n){let t,e=new Uint8Array(0);function i(a){const u=new Uint8Array(e.length+a.length);u.set(e),u.set(a,e.length),e=u}return new ReadableStream({start(){t=n.getReader()},async pull(a){let u;for(;;){if(u===void 0&&e.byteLength>=5){let h=0;for(let g=1;g<5;g++)h=(h<<8)+e[g];u={flags:e[0],length:h}}if(u!==void 0&&e.byteLength>=u.length+5)break;const d=await t.read();if(d.done)break;i(d.value)}if(u===void 0){if(e.byteLength==0){a.close();return}a.error(new Wt("premature end of stream",Ft.DataLoss));return}const c=e.subarray(5,5+u.length);e=e.subarray(5+u.length),a.enqueue({flags:u.flags,data:c})}})}function Jw(n,t){const e=new Uint8Array(t.length+5);e.set(t,5);const i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setUint8(0,n),i.setUint32(1,t.length),e}var SN=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(u){e[u]=n[u]&&function(c){return new Promise(function(d,h){c=n[u](c),a(d,h,c.done,c.value)})}}function a(u,c,d,h){Promise.resolve(h).then(function(g){u({value:g,done:d})},c)}},cu=function(n){return this instanceof cu?(this.v=n,this):new cu(n)},xN=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),a,u=[];return a={},d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(x){return Promise.resolve(x).then(b,p)}}function d(b,x){i[b]&&(a[b]=function(E){return new Promise(function(R,D){u.push([b,E,R,D])>1||h(b,E)})},x&&(a[b]=x(a[b])))}function h(b,x){try{g(i[b](x))}catch(E){w(u[0][3],E)}}function g(b){b.value instanceof cu?Promise.resolve(b.value.v).then(y,p):w(u[0][2],b)}function y(b){h("next",b)}function p(b){h("throw",b)}function w(b,x){b(x),u.shift(),u.length&&h(u[0][0],u[0][1])}},AN=function(n){var t,e;return t={},i("next"),i("throw",function(a){throw a}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(a,u){t[a]=n[a]?function(c){return(e=!e)?{value:cu(n[a](c)),done:!1}:u?u(c):c}:u}};function TN(n){return xN(this,arguments,function*(){yield cu(yield*AN(SN(n)))})}var Ub=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(u){e[u]=n[u]&&function(c){return new Promise(function(d,h){c=n[u](c),a(d,h,c.done,c.value)})}}function a(u,c,d,h){Promise.resolve(h).then(function(g){u({value:g,done:d})},c)}},Po=function(n){return this instanceof Po?(this.v=n,this):new Po(n)},EN=function(n){var t,e;return t={},i("next"),i("throw",function(a){throw a}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(a,u){t[a]=n[a]?function(c){return(e=!e)?{value:Po(n[a](c)),done:!1}:u?u(c):c}:u}},NN=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),a,u=[];return a={},d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(x){return Promise.resolve(x).then(b,p)}}function d(b,x){i[b]&&(a[b]=function(E){return new Promise(function(R,D){u.push([b,E,R,D])>1||h(b,E)})},x&&(a[b]=x(a[b])))}function h(b,x){try{g(i[b](x))}catch(E){w(u[0][3],E)}}function g(b){b.value instanceof Po?Promise.resolve(b.value.v).then(y,p):w(u[0][2],b)}function y(b){h("next",b)}function p(b){h("throw",b)}function w(b,x){b(x),u.shift(),u.length&&h(u[0][0],u[0][1])}};function CN(n,t){return bN(n,e=>{switch(e.kind){case Ve.Unary:return DN(t,n,e);case Ve.ServerStreaming:return kN(t,n,e);case Ve.ClientStreaming:return ON(t,n,e);case Ve.BiDiStreaming:return MN(t,n,e);default:return null}})}function DN(n,t,e){return async function(i,a){var u,c;const d=await n.unary(t,e,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);return(u=a==null?void 0:a.onHeader)===null||u===void 0||u.call(a,d.header),(c=a==null?void 0:a.onTrailer)===null||c===void 0||c.call(a,d.trailer),d.message}}function kN(n,t,e){return function(i,a){return qb(n.stream(t,e,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,TN([i]),a==null?void 0:a.contextValues),a)}}function ON(n,t,e){return async function(i,a){var u,c,d,h,g,y;const p=await n.stream(t,e,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues);(g=a==null?void 0:a.onHeader)===null||g===void 0||g.call(a,p.header);let w;try{for(var b=!0,x=Ub(p.message),E;E=await x.next(),u=E.done,!u;b=!0)h=E.value,b=!1,w=h}catch(R){c={error:R}}finally{try{!b&&!u&&(d=x.return)&&await d.call(x)}finally{if(c)throw c.error}}if(!w)throw new Wt("protocol error: missing response message",Ft.Internal);return(y=a==null?void 0:a.onTrailer)===null||y===void 0||y.call(a,p.trailer),w}}function MN(n,t,e){return function(i,a){return qb(n.stream(t,e,a==null?void 0:a.signal,a==null?void 0:a.timeoutMs,a==null?void 0:a.headers,i,a==null?void 0:a.contextValues),a)}}function qb(n,t){const e=function(){var i,a;return NN(this,arguments,function*(){const u=yield Po(n);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,u.header),yield Po(yield*EN(Ub(u.message))),(a=t==null?void 0:t.onTrailer)===null||a===void 0||a.call(t,u.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function RN(...n){const t=new AbortController,e=n.filter(a=>a!==void 0).concat(t.signal);for(const a of e){if(a.aborted){i.apply(a);break}a.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(Hb(this));for(const a of e)a.removeEventListener("abort",i)}return t}function IN(n){const t=new AbortController,e=()=>{t.abort(new Wt("the operation timed out",Ft.DeadlineExceeded))};let i;return n!==void 0&&(n<=0?e():i=setTimeout(e,n)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function Hb(n){if(!n.aborted)return;if(n.reason!==void 0)return n.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function $w(){return{get(n){return n.id in this?this[n.id]:n.defaultValue},set(n,t){return this[n.id]=t,this},delete(n){return delete this[n.id],this}}}const rm=128;function Vw(n){const t=new Headers,e=new TextDecoder().decode(n).split(`\r
`);for(const i of e){if(i==="")continue;const a=i.indexOf(":");if(a>0){const u=i.substring(0,a).trim(),c=i.substring(a+1).trim();t.append(u,c)}}return t}const BN="Content-Type",zN="Grpc-Timeout",Pb="Grpc-Status",Jb="Grpc-Message",LN="Grpc-Status-Details-Bin",_N="X-User-Agent",UN="X-Grpc-Web",qN="application/grpc-web+proto",HN="application/grpc-web+json";class Yi extends pt{constructor(t){super(),this.code=0,this.message="",this.details=[],A.util.initPartial(t,this)}static fromBinary(t,e){return new Yi().fromBinary(t,e)}static fromJson(t,e){return new Yi().fromJson(t,e)}static fromJsonString(t,e){return new Yi().fromJsonString(t,e)}static equals(t,e){return A.util.equals(Yi,t,e)}}Yi.runtime=A;Yi.typeName="google.rpc.Status";Yi.fields=A.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:ur,repeated:!0}]);const PN="0";function $b(n){var t;const e=n.get(LN);if(e!=null){const a=wN(e,Yi);if(a.code==0)return;const u=new Wt(a.message,a.code,n);return u.details=a.details.map(c=>({type:c.typeUrl.substring(c.typeUrl.lastIndexOf("/")+1),value:c.value})),u}const i=n.get(Pb);if(i!=null){if(i===PN)return;const a=parseInt(i,10);return a in Ft?new Wt(decodeURIComponent((t=n.get(Jb))!==null&&t!==void 0?t:""),a,n):new Wt(`invalid grpc-status: ${i}`,Ft.Internal,n)}}function jw(n,t,e){const i=typeof t=="string"?t:t.typeName,a=typeof e=="string"?e:e.name;return n.toString().replace(/\/?$/,`/${i}/${a}`)}function Vb(n,t){return t instanceof n?t:new n(t)}function JN(n,t){function e(i){return i.done===!0?i:{done:i.done,value:Vb(n,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),a={next:()=>i.next().then(e)};return i.throw!==void 0&&(a.throw=u=>i.throw(u).then(e)),i.return!==void 0&&(a.return=u=>i.return(u).then(e)),a}}}function jb(n,t){var e;return(e=t==null?void 0:t.concat().reverse().reduce((i,a)=>a(i),n))!==null&&e!==void 0?e:n}function $N(n){var t;const e=Object.assign({},n);return(t=e.ignoreUnknownFields)!==null&&t!==void 0||(e.ignoreUnknownFields=!0),e}function Fw(n,t,e,i){const a=t?Yw(n.I,i):Gw(n.I,e);return{parse:(t?Yw(n.O,i):Gw(n.O,e)).parse,serialize:a.serialize}}function Yw(n,t){return{parse(e){try{return n.fromBinary(e,t)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Wt(`parse binary: ${a}`,Ft.InvalidArgument)}},serialize(e){try{return e.toBinary(t)}catch(i){const a=i instanceof Error?i.message:String(i);throw new Wt(`serialize binary: ${a}`,Ft.Internal)}}}}function Gw(n,t){var e,i;const a=(e=t==null?void 0:t.textEncoder)!==null&&e!==void 0?e:new TextEncoder,u=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,c=$N(t);return{parse(d){try{const h=u.decode(d);return n.fromJsonString(h,c)}catch(h){throw Wt.from(h,Ft.InvalidArgument)}},serialize(d){try{const h=d.toJsonString(c);return a.encode(h)}catch(h){throw Wt.from(h,Ft.Internal)}}}}function VN(n){const t=jb(n.next,n.interceptors),[e,i,a]=Fb(n),u=Object.assign(Object.assign({},n.req),{message:Vb(n.req.method.I,n.req.message),signal:e});return t(u).then(c=>(a(),c),i)}function jN(n){const t=jb(n.next,n.interceptors),[e,i,a]=Fb(n),u=Object.assign(Object.assign({},n.req),{message:JN(n.req.method.I,n.req.message),signal:e});let c=!1;return e.addEventListener("abort",function(){var d,h;const g=n.req.message[Symbol.asyncIterator]();c||(d=g.throw)===null||d===void 0||d.call(g,this.reason).catch(()=>{}),(h=g.return)===null||h===void 0||h.call(g).catch(()=>{})}),t(u).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const h=d.message[Symbol.asyncIterator]();return{next(){return h.next().then(g=>(g.done==!0&&(c=!0,a()),g),i)}}}}}),i)}function Fb(n){const{signal:t,cleanup:e}=IN(n.timeoutMs),i=RN(n.signal,t);return[i.signal,function(u){const c=Wt.from(t.aborted?Hb(t):u);return i.abort(c),e(),Promise.reject(c)},function(){e(),i.abort()}]}function FN(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Xw(n,t){const e=$b(n);if(e)throw t.forEach((i,a)=>{e.metadata.append(a,i)}),e}function Kw(n,t,e,i){const a=new Headers(e??{});return a.set(BN,n?qN:HN),a.set(UN,"1"),a.set(_N,"connect-es/1.4.0"),t!==void 0&&a.set(zN,`${t}m`),a}function YN(n){switch(n){case 400:return Ft.Internal;case 401:return Ft.Unauthenticated;case 403:return Ft.PermissionDenied;case 404:return Ft.Unimplemented;case 429:return Ft.Unavailable;case 502:return Ft.Unavailable;case 503:return Ft.Unavailable;case 504:return Ft.Unavailable;default:return Ft.Unknown}}function Zw(n,t){var e;if(n>=200&&n<300){const i=$b(t);if(i)throw i;return{foundStatus:t.has(Pb)}}throw new Wt(decodeURIComponent((e=t.get(Jb))!==null&&e!==void 0?e:`HTTP ${n}`),YN(n),t)}var Da=function(n){return this instanceof Da?(this.v=n,this):new Da(n)},GN=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),a,u=[];return a={},d("next"),d("throw"),d("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(b){return function(x){return Promise.resolve(x).then(b,p)}}function d(b,x){i[b]&&(a[b]=function(E){return new Promise(function(R,D){u.push([b,E,R,D])>1||h(b,E)})},x&&(a[b]=x(a[b])))}function h(b,x){try{g(i[b](x))}catch(E){w(u[0][3],E)}}function g(b){b.value instanceof Da?Promise.resolve(b.value.v).then(y,p):w(u[0][2],b)}function y(b){h("next",b)}function p(b){h("throw",b)}function w(b,x){b(x),u.shift(),u.length&&h(u[0][0],u[0][1])}};function XN(n){var t;FN();const e=(t=n.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,a,u,c,d,h,g){var y;const{serialize:p,parse:w}=Fw(a,e,n.jsonOptions,n.binaryOptions);return c=c===void 0?n.defaultTimeoutMs:c<=0?void 0:c,await VN({interceptors:n.interceptors,signal:u,timeoutMs:c,req:{stream:!1,service:i,method:a,url:jw(n.baseUrl,i,a),init:{method:"POST",credentials:(y=n.credentials)!==null&&y!==void 0?y:"same-origin",redirect:"error",mode:"cors"},header:Kw(e,c,d),contextValues:g??$w(),message:h},next:async b=>{var x;const R=await((x=n.fetch)!==null&&x!==void 0?x:globalThis.fetch)(b.url,Object.assign(Object.assign({},b.init),{headers:b.header,signal:b.signal,body:Jw(0,p(b.message))}));if(Zw(R.status,R.headers),!R.body)throw"missing response body";const D=Pw(R.body).getReader();let B,C;for(;;){const k=await D.read();if(k.done)break;const{flags:z,data:j}=k.value;if(z===rm){if(B!==void 0)throw"extra trailer";B=Vw(j);continue}if(C!==void 0)throw"extra message";C=w(j)}if(B===void 0)throw"missing trailer";if(Xw(B,R.headers),C===void 0)throw"missing message";return{stream:!1,service:i,method:a,header:R.headers,message:C,trailer:B}}})},async stream(i,a,u,c,d,h,g){var y;const{serialize:p,parse:w}=Fw(a,e,n.jsonOptions,n.binaryOptions);function b(E,R,D,B){return GN(this,arguments,function*(){const k=Pw(E).getReader();if(R){if(!(yield Da(k.read())).done)throw"extra data for trailers-only";return yield Da(void 0)}let z=!1;for(;;){const j=yield Da(k.read());if(j.done)break;const{flags:_,data:W}=j.value;if((_&rm)===rm){if(z)throw"extra trailer";z=!0;const J=Vw(W);Xw(J,B),J.forEach((X,ut)=>D.set(ut,X));continue}if(z)throw"extra message";yield yield Da(w(W))}if(!z)throw"missing trailer"})}async function x(E){if(a.kind!=Ve.ServerStreaming)throw"The fetch API does not support streaming request bodies";const R=await E[Symbol.asyncIterator]().next();if(R.done==!0)throw"missing request message";return Jw(0,p(R.value))}return c=c===void 0?n.defaultTimeoutMs:c<=0?void 0:c,jN({interceptors:n.interceptors,signal:u,timeoutMs:c,req:{stream:!0,service:i,method:a,url:jw(n.baseUrl,i,a),init:{method:"POST",credentials:(y=n.credentials)!==null&&y!==void 0?y:"same-origin",redirect:"error",mode:"cors"},header:Kw(e,c,d),contextValues:g??$w(),message:h},next:async E=>{var R;const B=await((R=n.fetch)!==null&&R!==void 0?R:globalThis.fetch)(E.url,Object.assign(Object.assign({},E.init),{headers:E.header,signal:E.signal,body:await x(E.message)})),{foundStatus:C}=Zw(B.status,B.headers);if(!B.body)throw"missing response body";const k=new Headers;return Object.assign(Object.assign({},E),{header:B.headers,trailer:k,message:b(B.body,C,k,B.headers)})}})}}}var Rt=(n=>(n[n.NULL=0]="NULL",n[n.BOOLEAN=1]="BOOLEAN",n[n.INTEGER=2]="INTEGER",n[n.LONG=3]="LONG",n[n.DOUBLE=4]="DOUBLE",n[n.STRING=5]="STRING",n[n.BYTES=6]="BYTES",n[n.DATE=7]="DATE",n[n.JSON_OBJECT=8]="JSON_OBJECT",n[n.JSON_ARRAY=9]="JSON_ARRAY",n[n.TEXT=10]="TEXT",n[n.INTEGER_CNT=11]="INTEGER_CNT",n[n.LONG_CNT=12]="LONG_CNT",n[n.TREE=13]="TREE",n))(Rt||{});A.util.setEnumType(Rt,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ra=(n=>(n[n.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",n[n.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",n[n.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",n[n.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",n))(Ra||{});A.util.setEnumType(Ra,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const jr=class jr extends pt{constructor(e){super();v(this,"root");v(this,"presences",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new jr().fromBinary(e,i)}static fromJson(e,i){return new jr().fromJson(e,i)}static fromJsonString(e,i){return new jr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(jr,e,i)}};v(jr,"runtime",A),v(jr,"typeName","yorkie.v1.Snapshot"),v(jr,"fields",A.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:We},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:yy}}]));let Am=jr;var An;let ns=(An=class extends pt{constructor(e){super();v(this,"documentKey","");v(this,"checkpoint");v(this,"snapshot",new Uint8Array(0));v(this,"changes",[]);v(this,"minSyncedTicket");v(this,"isRemoved",!1);v(this,"versionVector");A.util.initPartial(e,this)}static fromBinary(e,i){return new An().fromBinary(e,i)}static fromJson(e,i){return new An().fromJson(e,i)}static fromJsonString(e,i){return new An().fromJsonString(e,i)}static equals(e,i){return A.util.equals(An,e,i)}},v(An,"runtime",A),v(An,"typeName","yorkie.v1.ChangePack"),v(An,"fields",A.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Xb},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:Yb,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:wt},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:gd}])),An);var Tn;let Yb=(Tn=class extends pt{constructor(e){super();v(this,"id");v(this,"message","");v(this,"operations",[]);v(this,"presenceChange");A.util.initPartial(e,this)}static fromBinary(e,i){return new Tn().fromBinary(e,i)}static fromJson(e,i){return new Tn().fromJson(e,i)}static fromJsonString(e,i){return new Tn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Tn,e,i)}},v(Tn,"runtime",A),v(Tn,"typeName","yorkie.v1.Change"),v(Tn,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:hd},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:my,repeated:!0},{no:4,name:"presence_change",kind:"message",T:hu}])),Tn);var En;let hd=(En=class extends pt{constructor(e){super();v(this,"clientSeq",0);v(this,"serverSeq",te.zero);v(this,"lamport",te.zero);v(this,"actorId",new Uint8Array(0));v(this,"versionVector");A.util.initPartial(e,this)}static fromBinary(e,i){return new En().fromBinary(e,i)}static fromJson(e,i){return new En().fromJson(e,i)}static fromJsonString(e,i){return new En().fromJsonString(e,i)}static equals(e,i){return A.util.equals(En,e,i)}},v(En,"runtime",A),v(En,"typeName","yorkie.v1.ChangeID"),v(En,"fields",A.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:gd}])),En);var Nn;let gd=(Nn=class extends pt{constructor(e){super();v(this,"vector",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new Nn().fromBinary(e,i)}static fromJson(e,i){return new Nn().fromJson(e,i)}static fromJsonString(e,i){return new Nn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Nn,e,i)}},v(Nn,"runtime",A),v(Nn,"typeName","yorkie.v1.VersionVector"),v(Nn,"fields",A.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Nn);var Cn;let my=(Cn=class extends pt{constructor(e){super();v(this,"body",{case:void 0});A.util.initPartial(e,this)}static fromBinary(e,i){return new Cn().fromBinary(e,i)}static fromJson(e,i){return new Cn().fromJson(e,i)}static fromJsonString(e,i){return new Cn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Cn,e,i)}},v(Cn,"runtime",A),v(Cn,"typeName","yorkie.v1.Operation"),v(Cn,"fields",A.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Rf,oneof:"body"},{no:2,name:"add",kind:"message",T:If,oneof:"body"},{no:3,name:"move",kind:"message",T:Bf,oneof:"body"},{no:4,name:"remove",kind:"message",T:zf,oneof:"body"},{no:5,name:"edit",kind:"message",T:Lf,oneof:"body"},{no:6,name:"select",kind:"message",T:Tm,oneof:"body"},{no:7,name:"style",kind:"message",T:_f,oneof:"body"},{no:8,name:"increase",kind:"message",T:Uf,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:qf,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Hf,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Em,oneof:"body"}])),Cn);const Fr=class Fr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"key","");v(this,"value");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Fr().fromBinary(e,i)}static fromJson(e,i){return new Fr().fromJson(e,i)}static fromJsonString(e,i){return new Fr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Fr,e,i)}};v(Fr,"runtime",A),v(Fr,"typeName","yorkie.v1.Operation.Set"),v(Fr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:xn},{no:4,name:"executed_at",kind:"message",T:wt}]));let Rf=Fr;const Yr=class Yr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"prevCreatedAt");v(this,"value");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Yr().fromBinary(e,i)}static fromJson(e,i){return new Yr().fromJson(e,i)}static fromJsonString(e,i){return new Yr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Yr,e,i)}};v(Yr,"runtime",A),v(Yr,"typeName","yorkie.v1.Operation.Add"),v(Yr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"prev_created_at",kind:"message",T:wt},{no:3,name:"value",kind:"message",T:xn},{no:4,name:"executed_at",kind:"message",T:wt}]));let If=Yr;const Gr=class Gr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"prevCreatedAt");v(this,"createdAt");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Gr().fromBinary(e,i)}static fromJson(e,i){return new Gr().fromJson(e,i)}static fromJsonString(e,i){return new Gr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Gr,e,i)}};v(Gr,"runtime",A),v(Gr,"typeName","yorkie.v1.Operation.Move"),v(Gr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"prev_created_at",kind:"message",T:wt},{no:3,name:"created_at",kind:"message",T:wt},{no:4,name:"executed_at",kind:"message",T:wt}]));let Bf=Gr;const Xr=class Xr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"createdAt");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Xr().fromBinary(e,i)}static fromJson(e,i){return new Xr().fromJson(e,i)}static fromJsonString(e,i){return new Xr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Xr,e,i)}};v(Xr,"runtime",A),v(Xr,"typeName","yorkie.v1.Operation.Remove"),v(Xr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"executed_at",kind:"message",T:wt}]));let zf=Xr;const Kr=class Kr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"from");v(this,"to");v(this,"createdAtMapByActor",{});v(this,"content","");v(this,"executedAt");v(this,"attributes",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new Kr().fromBinary(e,i)}static fromJson(e,i){return new Kr().fromJson(e,i)}static fromJsonString(e,i){return new Kr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Kr,e,i)}};v(Kr,"runtime",A),v(Kr,"typeName","yorkie.v1.Operation.Edit"),v(Kr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:wt}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:wt},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Lf=Kr;const Zr=class Zr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"from");v(this,"to");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Zr().fromBinary(e,i)}static fromJson(e,i){return new Zr().fromJson(e,i)}static fromJsonString(e,i){return new Zr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Zr,e,i)}};v(Zr,"runtime",A),v(Zr,"typeName","yorkie.v1.Operation.Select"),v(Zr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"executed_at",kind:"message",T:wt}]));let Tm=Zr;const Qr=class Qr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"from");v(this,"to");v(this,"attributes",{});v(this,"executedAt");v(this,"createdAtMapByActor",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new Qr().fromBinary(e,i)}static fromJson(e,i){return new Qr().fromJson(e,i)}static fromJsonString(e,i){return new Qr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Qr,e,i)}};v(Qr,"runtime",A),v(Qr,"typeName","yorkie.v1.Operation.Style"),v(Qr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:wt},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:wt}}]));let _f=Qr;const Wr=class Wr extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"value");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new Wr().fromBinary(e,i)}static fromJson(e,i){return new Wr().fromJson(e,i)}static fromJsonString(e,i){return new Wr().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Wr,e,i)}};v(Wr,"runtime",A),v(Wr,"typeName","yorkie.v1.Operation.Increase"),v(Wr,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"value",kind:"message",T:xn},{no:3,name:"executed_at",kind:"message",T:wt}]));let Uf=Wr;const ti=class ti extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"from");v(this,"to");v(this,"createdAtMapByActor",{});v(this,"contents",[]);v(this,"splitLevel",0);v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new ti().fromBinary(e,i)}static fromJson(e,i){return new ti().fromJson(e,i)}static fromJsonString(e,i){return new ti().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ti,e,i)}};v(ti,"runtime",A),v(ti,"typeName","yorkie.v1.Operation.TreeEdit"),v(ti,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:wt}},{no:5,name:"contents",kind:"message",T:Xf,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:wt}]));let qf=ti;const ei=class ei extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"from");v(this,"to");v(this,"attributes",{});v(this,"executedAt");v(this,"attributesToRemove",[]);v(this,"createdAtMapByActor",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new ei().fromBinary(e,i)}static fromJson(e,i){return new ei().fromJson(e,i)}static fromJsonString(e,i){return new ei().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ei,e,i)}};v(ei,"runtime",A),v(ei,"typeName","yorkie.v1.Operation.TreeStyle"),v(ei,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"from",kind:"message",T:za},{no:3,name:"to",kind:"message",T:za},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:wt},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:wt}}]));let Hf=ei;const ni=class ni extends pt{constructor(e){super();v(this,"parentCreatedAt");v(this,"createdAt");v(this,"value");v(this,"executedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new ni().fromBinary(e,i)}static fromJson(e,i){return new ni().fromJson(e,i)}static fromJsonString(e,i){return new ni().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ni,e,i)}};v(ni,"runtime",A),v(ni,"typeName","yorkie.v1.Operation.ArraySet"),v(ni,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:wt},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"value",kind:"message",T:xn},{no:4,name:"executed_at",kind:"message",T:wt}]));let Em=ni;const ri=class ri extends pt{constructor(e){super();v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");v(this,"type",0);v(this,"value",new Uint8Array(0));A.util.initPartial(e,this)}static fromBinary(e,i){return new ri().fromBinary(e,i)}static fromJson(e,i){return new ri().fromJson(e,i)}static fromJsonString(e,i){return new ri().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ri,e,i)}};v(ri,"runtime",A),v(ri,"typeName","yorkie.v1.JSONElementSimple"),v(ri,"fields",A.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:wt},{no:2,name:"moved_at",kind:"message",T:wt},{no:3,name:"removed_at",kind:"message",T:wt},{no:4,name:"type",kind:"enum",T:A.getEnumType(Rt)},{no:5,name:"value",kind:"scalar",T:12}]));let xn=ri;const ii=class ii extends pt{constructor(e){super();v(this,"body",{case:void 0});A.util.initPartial(e,this)}static fromBinary(e,i){return new ii().fromBinary(e,i)}static fromJson(e,i){return new ii().fromJson(e,i)}static fromJsonString(e,i){return new ii().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ii,e,i)}};v(ii,"runtime",A),v(ii,"typeName","yorkie.v1.JSONElement"),v(ii,"fields",A.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Pf,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Jf,oneof:"body"},{no:3,name:"primitive",kind:"message",T:$f,oneof:"body"},{no:5,name:"text",kind:"message",T:Vf,oneof:"body"},{no:6,name:"counter",kind:"message",T:jf,oneof:"body"},{no:7,name:"tree",kind:"message",T:Ff,oneof:"body"}]));let We=ii;const si=class si extends pt{constructor(e){super();v(this,"nodes",[]);v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new si().fromBinary(e,i)}static fromJson(e,i){return new si().fromJson(e,i)}static fromJsonString(e,i){return new si().fromJsonString(e,i)}static equals(e,i){return A.util.equals(si,e,i)}};v(si,"runtime",A),v(si,"typeName","yorkie.v1.JSONElement.JSONObject"),v(si,"fields",A.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Gb,repeated:!0},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"moved_at",kind:"message",T:wt},{no:4,name:"removed_at",kind:"message",T:wt}]));let Pf=si;const ai=class ai extends pt{constructor(e){super();v(this,"nodes",[]);v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new ai().fromBinary(e,i)}static fromJson(e,i){return new ai().fromJson(e,i)}static fromJsonString(e,i){return new ai().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ai,e,i)}};v(ai,"runtime",A),v(ai,"typeName","yorkie.v1.JSONElement.JSONArray"),v(ai,"fields",A.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Yf,repeated:!0},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"moved_at",kind:"message",T:wt},{no:4,name:"removed_at",kind:"message",T:wt}]));let Jf=ai;const oi=class oi extends pt{constructor(e){super();v(this,"type",0);v(this,"value",new Uint8Array(0));v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new oi().fromBinary(e,i)}static fromJson(e,i){return new oi().fromJson(e,i)}static fromJsonString(e,i){return new oi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(oi,e,i)}};v(oi,"runtime",A),v(oi,"typeName","yorkie.v1.JSONElement.Primitive"),v(oi,"fields",A.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:A.getEnumType(Rt)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:wt},{no:4,name:"moved_at",kind:"message",T:wt},{no:5,name:"removed_at",kind:"message",T:wt}]));let $f=oi;const li=class li extends pt{constructor(e){super();v(this,"nodes",[]);v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new li().fromBinary(e,i)}static fromJson(e,i){return new li().fromJson(e,i)}static fromJsonString(e,i){return new li().fromJsonString(e,i)}static equals(e,i){return A.util.equals(li,e,i)}};v(li,"runtime",A),v(li,"typeName","yorkie.v1.JSONElement.Text"),v(li,"fields",A.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Gf,repeated:!0},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"moved_at",kind:"message",T:wt},{no:4,name:"removed_at",kind:"message",T:wt}]));let Vf=li;const ui=class ui extends pt{constructor(e){super();v(this,"type",0);v(this,"value",new Uint8Array(0));v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new ui().fromBinary(e,i)}static fromJson(e,i){return new ui().fromJson(e,i)}static fromJsonString(e,i){return new ui().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ui,e,i)}};v(ui,"runtime",A),v(ui,"typeName","yorkie.v1.JSONElement.Counter"),v(ui,"fields",A.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:A.getEnumType(Rt)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:wt},{no:4,name:"moved_at",kind:"message",T:wt},{no:5,name:"removed_at",kind:"message",T:wt}]));let jf=ui;const ci=class ci extends pt{constructor(e){super();v(this,"nodes",[]);v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new ci().fromBinary(e,i)}static fromJson(e,i){return new ci().fromJson(e,i)}static fromJsonString(e,i){return new ci().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ci,e,i)}};v(ci,"runtime",A),v(ci,"typeName","yorkie.v1.JSONElement.Tree"),v(ci,"fields",A.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:du,repeated:!0},{no:2,name:"created_at",kind:"message",T:wt},{no:3,name:"moved_at",kind:"message",T:wt},{no:4,name:"removed_at",kind:"message",T:wt}]));let Ff=ci;var Dn;let Gb=(Dn=class extends pt{constructor(e){super();v(this,"key","");v(this,"element");A.util.initPartial(e,this)}static fromBinary(e,i){return new Dn().fromBinary(e,i)}static fromJson(e,i){return new Dn().fromJson(e,i)}static fromJsonString(e,i){return new Dn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Dn,e,i)}},v(Dn,"runtime",A),v(Dn,"typeName","yorkie.v1.RHTNode"),v(Dn,"fields",A.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:We}])),Dn);const or=class or extends pt{constructor(e){super();v(this,"next");v(this,"element");A.util.initPartial(e,this)}static fromBinary(e,i){return new or().fromBinary(e,i)}static fromJson(e,i){return new or().fromJson(e,i)}static fromJsonString(e,i){return new or().fromJsonString(e,i)}static equals(e,i){return A.util.equals(or,e,i)}};v(or,"runtime",A),v(or,"typeName","yorkie.v1.RGANode"),v(or,"fields",A.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:or},{no:2,name:"element",kind:"message",T:We}]));let Yf=or;const fi=class fi extends pt{constructor(e){super();v(this,"value","");v(this,"updatedAt");v(this,"isRemoved",!1);A.util.initPartial(e,this)}static fromBinary(e,i){return new fi().fromBinary(e,i)}static fromJson(e,i){return new fi().fromJson(e,i)}static fromJsonString(e,i){return new fi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(fi,e,i)}};v(fi,"runtime",A),v(fi,"typeName","yorkie.v1.NodeAttr"),v(fi,"fields",A.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:wt},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Jo=fi;const di=class di extends pt{constructor(e){super();v(this,"id");v(this,"value","");v(this,"removedAt");v(this,"insPrevId");v(this,"attributes",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new di().fromBinary(e,i)}static fromJson(e,i){return new di().fromJson(e,i)}static fromJsonString(e,i){return new di().fromJsonString(e,i)}static equals(e,i){return A.util.equals(di,e,i)}};v(di,"runtime",A),v(di,"typeName","yorkie.v1.TextNode"),v(di,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:fu},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:wt},{no:4,name:"ins_prev_id",kind:"message",T:fu},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Jo}}]));let Gf=di;const hi=class hi extends pt{constructor(e){super();v(this,"createdAt");v(this,"offset",0);A.util.initPartial(e,this)}static fromBinary(e,i){return new hi().fromBinary(e,i)}static fromJson(e,i){return new hi().fromJson(e,i)}static fromJsonString(e,i){return new hi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(hi,e,i)}};v(hi,"runtime",A),v(hi,"typeName","yorkie.v1.TextNodeID"),v(hi,"fields",A.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:wt},{no:2,name:"offset",kind:"scalar",T:5}]));let fu=hi;const gi=class gi extends pt{constructor(e){super();v(this,"id");v(this,"type","");v(this,"value","");v(this,"removedAt");v(this,"insPrevId");v(this,"insNextId");v(this,"depth",0);v(this,"attributes",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new gi().fromBinary(e,i)}static fromJson(e,i){return new gi().fromJson(e,i)}static fromJsonString(e,i){return new gi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(gi,e,i)}};v(gi,"runtime",A),v(gi,"typeName","yorkie.v1.TreeNode"),v(gi,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Hs},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:wt},{no:5,name:"ins_prev_id",kind:"message",T:Hs},{no:6,name:"ins_next_id",kind:"message",T:Hs},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Jo}}]));let du=gi;const mi=class mi extends pt{constructor(e){super();v(this,"content",[]);A.util.initPartial(e,this)}static fromBinary(e,i){return new mi().fromBinary(e,i)}static fromJson(e,i){return new mi().fromJson(e,i)}static fromJsonString(e,i){return new mi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(mi,e,i)}};v(mi,"runtime",A),v(mi,"typeName","yorkie.v1.TreeNodes"),v(mi,"fields",A.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:du,repeated:!0}]));let Xf=mi;const yi=class yi extends pt{constructor(e){super();v(this,"createdAt");v(this,"offset",0);A.util.initPartial(e,this)}static fromBinary(e,i){return new yi().fromBinary(e,i)}static fromJson(e,i){return new yi().fromJson(e,i)}static fromJsonString(e,i){return new yi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(yi,e,i)}};v(yi,"runtime",A),v(yi,"typeName","yorkie.v1.TreeNodeID"),v(yi,"fields",A.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:wt},{no:2,name:"offset",kind:"scalar",T:5}]));let Hs=yi;const pi=class pi extends pt{constructor(e){super();v(this,"parentId");v(this,"leftSiblingId");A.util.initPartial(e,this)}static fromBinary(e,i){return new pi().fromBinary(e,i)}static fromJson(e,i){return new pi().fromJson(e,i)}static fromJsonString(e,i){return new pi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(pi,e,i)}};v(pi,"runtime",A),v(pi,"typeName","yorkie.v1.TreePos"),v(pi,"fields",A.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Hs},{no:2,name:"left_sibling_id",kind:"message",T:Hs}]));let za=pi;const vi=class vi extends pt{constructor(e){super();v(this,"id","");v(this,"username","");v(this,"createdAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new vi().fromBinary(e,i)}static fromJson(e,i){return new vi().fromJson(e,i)}static fromJsonString(e,i){return new vi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(vi,e,i)}};v(vi,"runtime",A),v(vi,"typeName","yorkie.v1.User"),v(vi,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:_e}]));let Qw=vi;const wi=class wi extends pt{constructor(e){super();v(this,"id","");v(this,"name","");v(this,"publicKey","");v(this,"secretKey","");v(this,"authWebhookUrl","");v(this,"authWebhookMethods",[]);v(this,"clientDeactivateThreshold","");v(this,"createdAt");v(this,"updatedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new wi().fromBinary(e,i)}static fromJson(e,i){return new wi().fromJson(e,i)}static fromJsonString(e,i){return new wi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(wi,e,i)}};v(wi,"runtime",A),v(wi,"typeName","yorkie.v1.Project"),v(wi,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:_e},{no:9,name:"updated_at",kind:"message",T:_e}]));let Ww=wi;const bi=class bi extends pt{constructor(e){super();v(this,"name");v(this,"authWebhookUrl");v(this,"authWebhookMethods");v(this,"clientDeactivateThreshold");A.util.initPartial(e,this)}static fromBinary(e,i){return new bi().fromBinary(e,i)}static fromJson(e,i){return new bi().fromJson(e,i)}static fromJsonString(e,i){return new bi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(bi,e,i)}};v(bi,"runtime",A),v(bi,"typeName","yorkie.v1.UpdatableProjectFields"),v(bi,"fields",A.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:on},{no:2,name:"auth_webhook_url",kind:"message",T:on},{no:3,name:"auth_webhook_methods",kind:"message",T:Nm},{no:4,name:"client_deactivate_threshold",kind:"message",T:on}]));let t1=bi;const Si=class Si extends pt{constructor(e){super();v(this,"methods",[]);A.util.initPartial(e,this)}static fromBinary(e,i){return new Si().fromBinary(e,i)}static fromJson(e,i){return new Si().fromJson(e,i)}static fromJsonString(e,i){return new Si().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Si,e,i)}};v(Si,"runtime",A),v(Si,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),v(Si,"fields",A.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Nm=Si;const xi=class xi extends pt{constructor(e){super();v(this,"id","");v(this,"key","");v(this,"snapshot","");v(this,"createdAt");v(this,"accessedAt");v(this,"updatedAt");A.util.initPartial(e,this)}static fromBinary(e,i){return new xi().fromBinary(e,i)}static fromJson(e,i){return new xi().fromJson(e,i)}static fromJsonString(e,i){return new xi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(xi,e,i)}};v(xi,"runtime",A),v(xi,"typeName","yorkie.v1.DocumentSummary"),v(xi,"fields",A.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:_e},{no:5,name:"accessed_at",kind:"message",T:_e},{no:6,name:"updated_at",kind:"message",T:_e}]));let e1=xi;const Ai=class Ai extends pt{constructor(e){super();v(this,"type",0);v(this,"presence");A.util.initPartial(e,this)}static fromBinary(e,i){return new Ai().fromBinary(e,i)}static fromJson(e,i){return new Ai().fromJson(e,i)}static fromJsonString(e,i){return new Ai().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ai,e,i)}};v(Ai,"runtime",A),v(Ai,"typeName","yorkie.v1.PresenceChange"),v(Ai,"fields",A.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:A.getEnumType(La)},{no:2,name:"presence",kind:"message",T:yy}]));let hu=Ai;var La=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.PUT=1]="PUT",n[n.DELETE=2]="DELETE",n[n.CLEAR=3]="CLEAR",n))(La||{});A.util.setEnumType(La,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var kn;let yy=(kn=class extends pt{constructor(e){super();v(this,"data",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new kn().fromBinary(e,i)}static fromJson(e,i){return new kn().fromJson(e,i)}static fromJsonString(e,i){return new kn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(kn,e,i)}},v(kn,"runtime",A),v(kn,"typeName","yorkie.v1.Presence"),v(kn,"fields",A.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),kn);var On;let Xb=(On=class extends pt{constructor(e){super();v(this,"serverSeq",te.zero);v(this,"clientSeq",0);A.util.initPartial(e,this)}static fromBinary(e,i){return new On().fromBinary(e,i)}static fromJson(e,i){return new On().fromJson(e,i)}static fromJsonString(e,i){return new On().fromJsonString(e,i)}static equals(e,i){return A.util.equals(On,e,i)}},v(On,"runtime",A),v(On,"typeName","yorkie.v1.Checkpoint"),v(On,"fields",A.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),On);const Ti=class Ti extends pt{constructor(e){super();v(this,"createdAt");v(this,"offset",0);v(this,"relativeOffset",0);A.util.initPartial(e,this)}static fromBinary(e,i){return new Ti().fromBinary(e,i)}static fromJson(e,i){return new Ti().fromJson(e,i)}static fromJsonString(e,i){return new Ti().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ti,e,i)}};v(Ti,"runtime",A),v(Ti,"typeName","yorkie.v1.TextNodePos"),v(Ti,"fields",A.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:wt},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Wi=Ti;var Mn;let wt=(Mn=class extends pt{constructor(e){super();v(this,"lamport",te.zero);v(this,"delimiter",0);v(this,"actorId",new Uint8Array(0));A.util.initPartial(e,this)}static fromBinary(e,i){return new Mn().fromBinary(e,i)}static fromJson(e,i){return new Mn().fromJson(e,i)}static fromJsonString(e,i){return new Mn().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Mn,e,i)}},v(Mn,"runtime",A),v(Mn,"typeName","yorkie.v1.TimeTicket"),v(Mn,"fields",A.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Mn);const Ei=class Ei extends pt{constructor(e){super();v(this,"topic","");v(this,"payload",new Uint8Array(0));A.util.initPartial(e,this)}static fromBinary(e,i){return new Ei().fromBinary(e,i)}static fromJson(e,i){return new Ei().fromJson(e,i)}static fromJsonString(e,i){return new Ei().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ei,e,i)}};v(Ei,"runtime",A),v(Ei,"typeName","yorkie.v1.DocEventBody"),v(Ei,"fields",A.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Cm=Ei;const Ni=class Ni extends pt{constructor(e){super();v(this,"type",0);v(this,"publisher","");v(this,"body");A.util.initPartial(e,this)}static fromBinary(e,i){return new Ni().fromBinary(e,i)}static fromJson(e,i){return new Ni().fromJson(e,i)}static fromJsonString(e,i){return new Ni().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ni,e,i)}};v(Ni,"runtime",A),v(Ni,"typeName","yorkie.v1.DocEvent"),v(Ni,"fields",A.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:A.getEnumType(Ra)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Cm}]));let Dm=Ni;const Ci=class Ci extends pt{constructor(e){super();v(this,"clientKey","");v(this,"metadata",{});A.util.initPartial(e,this)}static fromBinary(e,i){return new Ci().fromBinary(e,i)}static fromJson(e,i){return new Ci().fromJson(e,i)}static fromJsonString(e,i){return new Ci().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ci,e,i)}};v(Ci,"runtime",A),v(Ci,"typeName","yorkie.v1.ActivateClientRequest"),v(Ci,"fields",A.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let km=Ci;const Di=class Di extends pt{constructor(e){super();v(this,"clientId","");A.util.initPartial(e,this)}static fromBinary(e,i){return new Di().fromBinary(e,i)}static fromJson(e,i){return new Di().fromJson(e,i)}static fromJsonString(e,i){return new Di().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Di,e,i)}};v(Di,"runtime",A),v(Di,"typeName","yorkie.v1.ActivateClientResponse"),v(Di,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Om=Di;const ki=class ki extends pt{constructor(e){super();v(this,"clientId","");A.util.initPartial(e,this)}static fromBinary(e,i){return new ki().fromBinary(e,i)}static fromJson(e,i){return new ki().fromJson(e,i)}static fromJsonString(e,i){return new ki().fromJsonString(e,i)}static equals(e,i){return A.util.equals(ki,e,i)}};v(ki,"runtime",A),v(ki,"typeName","yorkie.v1.DeactivateClientRequest"),v(ki,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Mm=ki;const Oi=class Oi extends pt{constructor(t){super(),A.util.initPartial(t,this)}static fromBinary(t,e){return new Oi().fromBinary(t,e)}static fromJson(t,e){return new Oi().fromJson(t,e)}static fromJsonString(t,e){return new Oi().fromJsonString(t,e)}static equals(t,e){return A.util.equals(Oi,t,e)}};v(Oi,"runtime",A),v(Oi,"typeName","yorkie.v1.DeactivateClientResponse"),v(Oi,"fields",A.util.newFieldList(()=>[]));let Rm=Oi;const Mi=class Mi extends pt{constructor(e){super();v(this,"clientId","");v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new Mi().fromBinary(e,i)}static fromJson(e,i){return new Mi().fromJson(e,i)}static fromJsonString(e,i){return new Mi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Mi,e,i)}};v(Mi,"runtime",A),v(Mi,"typeName","yorkie.v1.AttachDocumentRequest"),v(Mi,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:ns}]));let Im=Mi;const Ri=class Ri extends pt{constructor(e){super();v(this,"documentId","");v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new Ri().fromBinary(e,i)}static fromJson(e,i){return new Ri().fromJson(e,i)}static fromJsonString(e,i){return new Ri().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ri,e,i)}};v(Ri,"runtime",A),v(Ri,"typeName","yorkie.v1.AttachDocumentResponse"),v(Ri,"fields",A.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:ns}]));let Bm=Ri;const Ii=class Ii extends pt{constructor(e){super();v(this,"clientId","");v(this,"documentId","");v(this,"changePack");v(this,"removeIfNotAttached",!1);A.util.initPartial(e,this)}static fromBinary(e,i){return new Ii().fromBinary(e,i)}static fromJson(e,i){return new Ii().fromJson(e,i)}static fromJsonString(e,i){return new Ii().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ii,e,i)}};v(Ii,"runtime",A),v(Ii,"typeName","yorkie.v1.DetachDocumentRequest"),v(Ii,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ns},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let zm=Ii;const Bi=class Bi extends pt{constructor(e){super();v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new Bi().fromBinary(e,i)}static fromJson(e,i){return new Bi().fromJson(e,i)}static fromJsonString(e,i){return new Bi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Bi,e,i)}};v(Bi,"runtime",A),v(Bi,"typeName","yorkie.v1.DetachDocumentResponse"),v(Bi,"fields",A.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:ns}]));let Lm=Bi;const zi=class zi extends pt{constructor(e){super();v(this,"clientId","");v(this,"documentId","");A.util.initPartial(e,this)}static fromBinary(e,i){return new zi().fromBinary(e,i)}static fromJson(e,i){return new zi().fromJson(e,i)}static fromJsonString(e,i){return new zi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(zi,e,i)}};v(zi,"runtime",A),v(zi,"typeName","yorkie.v1.WatchDocumentRequest"),v(zi,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let _m=zi;const Li=class Li extends pt{constructor(e){super();v(this,"body",{case:void 0});A.util.initPartial(e,this)}static fromBinary(e,i){return new Li().fromBinary(e,i)}static fromJson(e,i){return new Li().fromJson(e,i)}static fromJsonString(e,i){return new Li().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Li,e,i)}};v(Li,"runtime",A),v(Li,"typeName","yorkie.v1.WatchDocumentResponse"),v(Li,"fields",A.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:qm,oneof:"body"},{no:2,name:"event",kind:"message",T:Dm,oneof:"body"}]));let Um=Li;const _i=class _i extends pt{constructor(e){super();v(this,"clientIds",[]);A.util.initPartial(e,this)}static fromBinary(e,i){return new _i().fromBinary(e,i)}static fromJson(e,i){return new _i().fromJson(e,i)}static fromJsonString(e,i){return new _i().fromJsonString(e,i)}static equals(e,i){return A.util.equals(_i,e,i)}};v(_i,"runtime",A),v(_i,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),v(_i,"fields",A.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let qm=_i;const Ui=class Ui extends pt{constructor(e){super();v(this,"clientId","");v(this,"documentId","");v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new Ui().fromBinary(e,i)}static fromJson(e,i){return new Ui().fromJson(e,i)}static fromJsonString(e,i){return new Ui().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ui,e,i)}};v(Ui,"runtime",A),v(Ui,"typeName","yorkie.v1.RemoveDocumentRequest"),v(Ui,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ns}]));let Hm=Ui;const qi=class qi extends pt{constructor(e){super();v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new qi().fromBinary(e,i)}static fromJson(e,i){return new qi().fromJson(e,i)}static fromJsonString(e,i){return new qi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(qi,e,i)}};v(qi,"runtime",A),v(qi,"typeName","yorkie.v1.RemoveDocumentResponse"),v(qi,"fields",A.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:ns}]));let Pm=qi;const Hi=class Hi extends pt{constructor(e){super();v(this,"clientId","");v(this,"documentId","");v(this,"changePack");v(this,"pushOnly",!1);A.util.initPartial(e,this)}static fromBinary(e,i){return new Hi().fromBinary(e,i)}static fromJson(e,i){return new Hi().fromJson(e,i)}static fromJsonString(e,i){return new Hi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Hi,e,i)}};v(Hi,"runtime",A),v(Hi,"typeName","yorkie.v1.PushPullChangesRequest"),v(Hi,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ns},{no:4,name:"push_only",kind:"scalar",T:8}]));let Jm=Hi;const Pi=class Pi extends pt{constructor(e){super();v(this,"changePack");A.util.initPartial(e,this)}static fromBinary(e,i){return new Pi().fromBinary(e,i)}static fromJson(e,i){return new Pi().fromJson(e,i)}static fromJsonString(e,i){return new Pi().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Pi,e,i)}};v(Pi,"runtime",A),v(Pi,"typeName","yorkie.v1.PushPullChangesResponse"),v(Pi,"fields",A.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:ns}]));let $m=Pi;const Ji=class Ji extends pt{constructor(e){super();v(this,"clientId","");v(this,"documentId","");v(this,"topic","");v(this,"payload",new Uint8Array(0));A.util.initPartial(e,this)}static fromBinary(e,i){return new Ji().fromBinary(e,i)}static fromJson(e,i){return new Ji().fromJson(e,i)}static fromJsonString(e,i){return new Ji().fromJsonString(e,i)}static equals(e,i){return A.util.equals(Ji,e,i)}};v(Ji,"runtime",A),v(Ji,"typeName","yorkie.v1.BroadcastRequest"),v(Ji,"fields",A.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Vm=Ji;const $i=class $i extends pt{constructor(t){super(),A.util.initPartial(t,this)}static fromBinary(t,e){return new $i().fromBinary(t,e)}static fromJson(t,e){return new $i().fromJson(t,e)}static fromJsonString(t,e){return new $i().fromJsonString(t,e)}static equals(t,e){return A.util.equals($i,t,e)}};v($i,"runtime",A),v($i,"typeName","yorkie.v1.BroadcastResponse"),v($i,"fields",A.util.newFieldList(()=>[]));let jm=$i;const KN={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:km,O:Om,kind:Ve.Unary},deactivateClient:{name:"DeactivateClient",I:Mm,O:Rm,kind:Ve.Unary},attachDocument:{name:"AttachDocument",I:Im,O:Bm,kind:Ve.Unary},detachDocument:{name:"DetachDocument",I:zm,O:Lm,kind:Ve.Unary},removeDocument:{name:"RemoveDocument",I:Hm,O:Pm,kind:Ve.Unary},pushPullChanges:{name:"PushPullChanges",I:Jm,O:$m,kind:Ve.Unary},watchDocument:{name:"WatchDocument",I:_m,O:Um,kind:Ve.ServerStreaming},broadcast:{name:"Broadcast",I:Vm,O:jm,kind:Ve.Unary}}},ZN=A.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);A.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Fi}]);A.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);A.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:QN,repeated:!0}]);const QN=A.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});A.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:WN,repeated:!0}]);const WN=A.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});A.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:t2,repeated:!0}]);const t2=A.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"BadRequest_FieldViolation"});A.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);A.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);A.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:e2,repeated:!0}]);const e2=A.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"});A.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var F=(n=>(n.Ok="ok",n.ErrClientNotActivated="ErrClientNotActivated",n.ErrClientNotFound="ErrClientNotFound",n.ErrUnimplemented="ErrUnimplemented",n.ErrInvalidType="ErrInvalidType",n.ErrDummy="ErrDummy",n.ErrDocumentNotAttached="ErrDocumentNotAttached",n.ErrDocumentNotDetached="ErrDocumentNotDetached",n.ErrDocumentRemoved="ErrDocumentRemoved",n.ErrInvalidObjectKey="ErrInvalidObjectKey",n.ErrInvalidArgument="ErrInvalidArgument",n.ErrNotInitialized="ErrNotInitialized",n.ErrNotReady="ErrNotReady",n.ErrRefused="ErrRefused",n.ErrContextNotProvided="ErrContextNotProvided",n.ErrPermissionDenied="ErrPermissionDenied",n.ErrUnauthenticated="ErrUnauthenticated",n.ErrTooManySubscribers="ErrTooManySubscribers",n.ErrTooManyAttachments="ErrTooManyAttachments",n))(F||{});class K extends Error{constructor(e,i){super(i);v(this,"name","YorkieError");v(this,"stack");this.code=e,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function $n(n){if(n instanceof Map){const t=Array.from(n);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(n))}const Kb=n=>n?Object.entries(n).length===0:!0,$o=n=>{const t={};for(const[e,i]of Object.entries(n))t[e]=JSON.stringify(i);return t},zo=n=>{const t={};for(const[e,i]of Object.entries(n))t[e]=JSON.parse(i);return t};var js=(n=>(n.Put="put",n.Clear="clear",n))(js||{});class im{constructor(t,e){v(this,"context");v(this,"presence");this.context=t,this.presence=e}set(t,e){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:"put",presence:$n(this.presence)}),this.context.setReversePresence(t,e)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const md="000000000000000000000000";class Bn{constructor(t,e,i){v(this,"lamport");v(this,"delimiter");v(this,"actorID");this.lamport=t,this.delimiter=e,this.actorID=i}static of(t,e,i){return new Bn(t,e,i)}static fromStruct(t){return Bn.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new Bn(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(t.actorID);return e!==0?e:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const Zb=0,su=9223372036854775807n,Xn=new Bn(0n,Zb,md);function vr(n){return n.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Mu{constructor(t){v(this,"createdAt");v(this,"movedAt");v(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}}class Ps extends Mu{constructor(t){super(t)}}class py{constructor(t,e){v(this,"strKey");v(this,"value");this.strKey=t,this.value=e}static of(t,e){return new py(t,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class gu{constructor(){v(this,"nodeMapByKey");v(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new gu}set(t,e,i){let a;const u=this.nodeMapByKey.get(t);u!=null&&!u.isRemoved()&&u.remove(i)&&(a=u.getValue());const c=py.of(t,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),c),(u==null||i.after(u.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,c),e.setMovedAt(i)),a}delete(t,e){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new K(F.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(e),i.getValue()}subPathOf(t){const e=this.nodeMapByCreatedAt.get(t.toIDString());if(e)return e.getStrKey()}purge(t){const e=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!e)throw new K(F.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(e.getStrKey());e===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(t,e){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(e))return i.getValue()}has(t){const e=this.nodeMapByKey.get(t);return e==null?!1:!e.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const e=this.nodeMapByKey.get(t);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class Qe extends Ps{constructor(e,i){super(e);v(this,"memberNodes");this.memberNodes=i}static create(e,i){if(!i)return new Qe(e,gu.create());const a=gu.create();for(const[u,c]of Object.entries(i))a.set(u,c.deepcopy(),c.getCreatedAt());return new Qe(e,a)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,i,a){return this.memberNodes.set(e,i,a)}delete(e,i){return this.memberNodes.delete(e,i)}deleteByKey(e,i){return this.memberNodes.deleteByKey(e,i)}get(e){const i=this.memberNodes.get(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.memberNodes.getByID(e);return i==null?void 0:i.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[i,a]of this)e.push(`"${vr(i)}":${a.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[i,a]of this){const{createdAt:u,value:c,type:d}=a.toJSForTest();e[i]={key:i,createdAt:u,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[i]of this)e.push(i);return e}toSortedJSON(){var a;const e=Array();for(const[u]of this)e.push(u);const i=[];for(const u of e.sort()){const c=(a=this.memberNodes.get(u))==null?void 0:a.getValue();i.push(`"${vr(u)}":${c.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Qe.create(this.getCreatedAt());for(const i of this.memberNodes)e.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const i of this.memberNodes){const a=i.getValue();if(e(a,this))return;a instanceof Ps&&a.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const i of this.memberNodes)e.has(i.getStrKey())||(e.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var Kt=(n=>(n.Local="local",n.Remote="remote",n.UndoRedo="undoredo",n))(Kt||{});class Zn{constructor(t,e){v(this,"parentCreatedAt");v(this,"executedAt");this.parentCreatedAt=t,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new K(F.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class Qb{constructor(t){v(this,"value");v(this,"left");v(this,"right");v(this,"parent");v(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class mu{constructor(t){v(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&t<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<t)t-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{t-=e.getLeftWeight();break}if(t>e.getLength())throw new K(F.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,e){return t?(this.splayNode(t),this.root=e,e.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(e),e.setLeft(t),t.setParent(e),t.setRight(),this.updateWeight(t),this.updateWeight(e),e):(this.root=e,e)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const e=new mu(t.getLeft());e.root&&e.root.setParent();const i=new mu(t.getRight());if(i.root&&i.root.setParent(),e.root){const a=e.getRightmost();e.splayNode(a),e.root.setRight(i.root),i.root&&i.root.setParent(e.root),this.root=e.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,e){if(!e){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(e),e.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const e=[];this.traversePostorder(t.getRight(),e);for(const i of e)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const e of t)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,e){t&&(this.traverseInorder(t.getLeft(),e),e.push(t),this.traverseInorder(t.getRight(),e))}traversePostorder(t,e){t&&(this.traversePostorder(t.getLeft(),e),this.traversePostorder(t.getRight(),e),e.push(t))}rotateLeft(t){const e=t.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(t):e.getParent().setRight(t):this.root=t,t.setParent(e.getParent()),e.setRight(t.getLeft()),e.hasRight()&&e.getRight().setParent(e),t.setLeft(e),t.getLeft().setParent(t),this.updateWeight(e),this.updateWeight(t)}rotateRight(t){const e=t.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(t):e.getParent().setRight(t):this.root=t,t.setParent(e.getParent()),e.setLeft(t.getRight()),e.hasLeft()&&e.getLeft().setParent(e),t.setRight(e),t.getRight().setParent(t),this.updateWeight(e),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Rn=null;try{Rn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ht(n,t,e){this.low=n|0,this.high=t|0,this.unsigned=!!e}Ht.prototype.__isLong__;Object.defineProperty(Ht.prototype,"__isLong__",{value:!0});function Ue(n){return(n&&n.__isLong__)===!0}function n1(n){var t=Math.clz32(n&-n);return n?31-t:t}Ht.isLong=Ue;var r1={},i1={};function Ha(n,t){var e,i,a;return t?(n>>>=0,(a=0<=n&&n<256)&&(i=i1[n],i)?i:(e=Vt(n,0,!0),a&&(i1[n]=e),e)):(n|=0,(a=-128<=n&&n<128)&&(i=r1[n],i)?i:(e=Vt(n,n<0?-1:0,!1),a&&(r1[n]=e),e))}Ht.fromInt=Ha;function In(n,t){if(isNaN(n))return t?Gi:Fn;if(t){if(n<0)return Gi;if(n>=Wb)return nS}else{if(n<=-9223372036854776e3)return Ke;if(n+1>=r2)return eS}return n<0?In(-n,t).neg():Vt(n%Vo|0,n/Vo|0,t)}Ht.fromNumber=In;function Vt(n,t,e){return new Ht(n,t,e)}Ht.fromBits=Vt;var Kf=Math.pow;function vy(n,t,e){if(n.length===0)throw Error("empty string");if(typeof t=="number"?(e=t,t=!1):t=!!t,n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return t?Gi:Fn;if(e=e||10,e<2||36<e)throw RangeError("radix");var i;if((i=n.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return vy(n.substring(1),t,e).neg();for(var a=In(Kf(e,8)),u=Fn,c=0;c<n.length;c+=8){var d=Math.min(8,n.length-c),h=parseInt(n.substring(c,c+d),e);if(d<8){var g=In(Kf(e,d));u=u.mul(g).add(In(h))}else u=u.mul(a),u=u.add(In(h))}return u.unsigned=t,u}Ht.fromString=vy;function Qn(n,t){return typeof n=="number"?In(n,t):typeof n=="string"?vy(n,t):Vt(n.low,n.high,typeof t=="boolean"?t:n.unsigned)}Ht.fromValue=Qn;var s1=65536,n2=1<<24,Vo=s1*s1,Wb=Vo*Vo,r2=Wb/2,a1=Ha(n2),Fn=Ha(0);Ht.ZERO=Fn;var Gi=Ha(0,!0);Ht.UZERO=Gi;var Mo=Ha(1);Ht.ONE=Mo;var tS=Ha(1,!0);Ht.UONE=tS;var Fm=Ha(-1);Ht.NEG_ONE=Fm;var eS=Vt(-1,2147483647,!1);Ht.MAX_VALUE=eS;var nS=Vt(-1,-1,!0);Ht.MAX_UNSIGNED_VALUE=nS;var Ke=Vt(0,-2147483648,!1);Ht.MIN_VALUE=Ke;var ht=Ht.prototype;ht.toInt=function(){return this.unsigned?this.low>>>0:this.low};ht.toNumber=function(){return this.unsigned?(this.high>>>0)*Vo+(this.low>>>0):this.high*Vo+(this.low>>>0)};ht.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ke)){var e=In(t),i=this.div(e),a=i.mul(e).sub(this);return i.toString(t)+a.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var u=In(Kf(t,6),this.unsigned),c=this,d="";;){var h=c.div(u),g=c.sub(h.mul(u)).toInt()>>>0,y=g.toString(t);if(c=h,c.isZero())return y+d;for(;y.length<6;)y="0"+y;d=""+y+d}};ht.getHighBits=function(){return this.high};ht.getHighBitsUnsigned=function(){return this.high>>>0};ht.getLowBits=function(){return this.low};ht.getLowBitsUnsigned=function(){return this.low>>>0};ht.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ke)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;e>0&&(t&1<<e)==0;e--);return this.high!=0?e+33:e+1};ht.isZero=function(){return this.high===0&&this.low===0};ht.eqz=ht.isZero;ht.isNegative=function(){return!this.unsigned&&this.high<0};ht.isPositive=function(){return this.unsigned||this.high>=0};ht.isOdd=function(){return(this.low&1)===1};ht.isEven=function(){return(this.low&1)===0};ht.equals=function(t){return Ue(t)||(t=Qn(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};ht.eq=ht.equals;ht.notEquals=function(t){return!this.eq(t)};ht.neq=ht.notEquals;ht.ne=ht.notEquals;ht.lessThan=function(t){return this.comp(t)<0};ht.lt=ht.lessThan;ht.lessThanOrEqual=function(t){return this.comp(t)<=0};ht.lte=ht.lessThanOrEqual;ht.le=ht.lessThanOrEqual;ht.greaterThan=function(t){return this.comp(t)>0};ht.gt=ht.greaterThan;ht.greaterThanOrEqual=function(t){return this.comp(t)>=0};ht.gte=ht.greaterThanOrEqual;ht.ge=ht.greaterThanOrEqual;ht.compare=function(t){if(Ue(t)||(t=Qn(t)),this.eq(t))return 0;var e=this.isNegative(),i=t.isNegative();return e&&!i?-1:!e&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};ht.comp=ht.compare;ht.negate=function(){return!this.unsigned&&this.eq(Ke)?Ke:this.not().add(Mo)};ht.neg=ht.negate;ht.add=function(t){Ue(t)||(t=Qn(t));var e=this.high>>>16,i=this.high&65535,a=this.low>>>16,u=this.low&65535,c=t.high>>>16,d=t.high&65535,h=t.low>>>16,g=t.low&65535,y=0,p=0,w=0,b=0;return b+=u+g,w+=b>>>16,b&=65535,w+=a+h,p+=w>>>16,w&=65535,p+=i+d,y+=p>>>16,p&=65535,y+=e+c,y&=65535,Vt(w<<16|b,y<<16|p,this.unsigned)};ht.subtract=function(t){return Ue(t)||(t=Qn(t)),this.add(t.neg())};ht.sub=ht.subtract;ht.multiply=function(t){if(this.isZero())return this;if(Ue(t)||(t=Qn(t)),Rn){var e=Rn.mul(this.low,this.high,t.low,t.high);return Vt(e,Rn.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Gi:Fn;if(this.eq(Ke))return t.isOdd()?Ke:Fn;if(t.eq(Ke))return this.isOdd()?Ke:Fn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(a1)&&t.lt(a1))return In(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,a=this.high&65535,u=this.low>>>16,c=this.low&65535,d=t.high>>>16,h=t.high&65535,g=t.low>>>16,y=t.low&65535,p=0,w=0,b=0,x=0;return x+=c*y,b+=x>>>16,x&=65535,b+=u*y,w+=b>>>16,b&=65535,b+=c*g,w+=b>>>16,b&=65535,w+=a*y,p+=w>>>16,w&=65535,w+=u*g,p+=w>>>16,w&=65535,w+=c*h,p+=w>>>16,w&=65535,p+=i*y+a*g+u*h+c*d,p&=65535,Vt(b<<16|x,p<<16|w,this.unsigned)};ht.mul=ht.multiply;ht.divide=function(t){if(Ue(t)||(t=Qn(t)),t.isZero())throw Error("division by zero");if(Rn){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?Rn.div_u:Rn.div_s)(this.low,this.high,t.low,t.high);return Vt(e,Rn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gi:Fn;var i,a,u;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Gi;if(t.gt(this.shru(1)))return tS;u=Gi}else{if(this.eq(Ke)){if(t.eq(Mo)||t.eq(Fm))return Ke;if(t.eq(Ke))return Mo;var c=this.shr(1);return i=c.div(t).shl(1),i.eq(Fn)?t.isNegative()?Mo:Fm:(a=this.sub(t.mul(i)),u=i.add(a.div(t)),u)}else if(t.eq(Ke))return this.unsigned?Gi:Fn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();u=Fn}for(a=this;a.gte(t);){i=Math.max(1,Math.floor(a.toNumber()/t.toNumber()));for(var d=Math.ceil(Math.log(i)/Math.LN2),h=d<=48?1:Kf(2,d-48),g=In(i),y=g.mul(t);y.isNegative()||y.gt(a);)i-=h,g=In(i,this.unsigned),y=g.mul(t);g.isZero()&&(g=Mo),u=u.add(g),a=a.sub(y)}return u};ht.div=ht.divide;ht.modulo=function(t){if(Ue(t)||(t=Qn(t)),Rn){var e=(this.unsigned?Rn.rem_u:Rn.rem_s)(this.low,this.high,t.low,t.high);return Vt(e,Rn.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};ht.mod=ht.modulo;ht.rem=ht.modulo;ht.not=function(){return Vt(~this.low,~this.high,this.unsigned)};ht.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ht.clz=ht.countLeadingZeros;ht.countTrailingZeros=function(){return this.low?n1(this.low):n1(this.high)+32};ht.ctz=ht.countTrailingZeros;ht.and=function(t){return Ue(t)||(t=Qn(t)),Vt(this.low&t.low,this.high&t.high,this.unsigned)};ht.or=function(t){return Ue(t)||(t=Qn(t)),Vt(this.low|t.low,this.high|t.high,this.unsigned)};ht.xor=function(t){return Ue(t)||(t=Qn(t)),Vt(this.low^t.low,this.high^t.high,this.unsigned)};ht.shiftLeft=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vt(0,this.low<<t-32,this.unsigned)};ht.shl=ht.shiftLeft;ht.shiftRight=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};ht.shr=ht.shiftRight;ht.shiftRightUnsigned=function(t){return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?Vt(this.high,0,this.unsigned):Vt(this.high>>>t-32,0,this.unsigned)};ht.shru=ht.shiftRightUnsigned;ht.shr_u=ht.shiftRightUnsigned;ht.rotateLeft=function(t){var e;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Vt(this.high,this.low,this.unsigned):t<32?(e=32-t,Vt(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(t-=32,e=32-t,Vt(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))};ht.rotl=ht.rotateLeft;ht.rotateRight=function(t){var e;return Ue(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Vt(this.high,this.low,this.unsigned):t<32?(e=32-t,Vt(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(t-=32,e=32-t,Vt(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))};ht.rotr=ht.rotateRight;ht.toSigned=function(){return this.unsigned?Vt(this.low,this.high,!1):this};ht.toUnsigned=function(){return this.unsigned?this:Vt(this.low,this.high,!0)};ht.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};ht.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};ht.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};Ht.fromBytes=function(t,e,i){return i?Ht.fromBytesLE(t,e):Ht.fromBytesBE(t,e)};Ht.fromBytesLE=function(t,e){return new Ht(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)};Ht.fromBytesBE=function(t,e){return new Ht(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};var Ae=(n=>(n[n.Null=0]="Null",n[n.Boolean=1]="Boolean",n[n.Integer=2]="Integer",n[n.Long=3]="Long",n[n.Double=4]="Double",n[n.String=5]="String",n[n.Bytes=6]="Bytes",n[n.Date=7]="Date",n))(Ae||{});class ce extends Mu{constructor(e,i){super(i);v(this,"valueType");v(this,"value");this.valueType=ce.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,i){return new ce(e,i)}static valueFromBytes(e,i){switch(e){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const a=new DataView(i.buffer);return i.forEach(function(u,c){a.setUint8(c,u)}),a.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Ht.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Ht.fromBytesLE(Array.from(i),!0).toNumber());default:throw new K(F.ErrUnimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${vr(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=ce.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Ht)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return ce.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const e=this.value,i=Ht.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new K(F.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Zf extends Qb{constructor(e){super(e);v(this,"prev");v(this,"next");this.value=e}static createAfter(e,i){const a=new Zf(i),u=e.next;return e.next=a,a.prev=e,a.next=u,u&&(u.prev=a),a}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class yu{constructor(){v(this,"dummyHead");v(this,"last");v(this,"nodeMapByIndex");v(this,"nodeMapByCreatedAt");const t=ce.of(0,Xn);t.setRemovedAt(Xn),this.dummyHead=new Zf(t),this.last=this.dummyHead,this.nodeMapByIndex=new mu,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new yu}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,e){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new K(F.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(e);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,e,i=e.getCreatedAt()){const a=this.findNextBeforeExecutedAt(t,i),u=Zf.createAfter(a,e);a===this.last&&(this.last=u),this.nodeMapByIndex.insertAfter(a,u),this.nodeMapByCreatedAt.set(u.getCreatedAt().toIDString(),u)}moveAfter(t,e,i){const a=this.nodeMapByCreatedAt.get(t.toIDString());if(!a)throw new K(F.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const u=this.nodeMapByCreatedAt.get(e.toIDString());if(!u)throw new K(F.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);a!==u&&(!u.getValue().getMovedAt()||i.after(u.getValue().getMovedAt()))&&(this.release(u),this.insertAfter(a.getCreatedAt(),u.getValue(),i),u.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const e=this.nodeMapByCreatedAt.get(t.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(t){const e=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!e)throw new K(F.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(t){if(t>=this.length)return;const[e,i]=this.nodeMapByIndex.find(t);let a=e;if(t===0&&e===this.dummyHead||i>0)do a&&(a=a.getNext());while(a&&a.isRemoved());return a}getPrevCreatedAt(t){let e=this.nodeMapByCreatedAt.get(t.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(t,e){const i=this.nodeMapByCreatedAt.get(t.toIDString()),a=i.isRemoved();return i.remove(e)&&!a&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,e){const i=this.getByIndex(t);if(i)return i.remove(e)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const e of this){const i=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class un extends Ps{constructor(e,i){super(e);v(this,"elements");this.elements=i}static create(e,i){if(!i)return new un(e,yu.create());const a=yu.create();for(const u of i)a.insertAfter(a.getLastCreatedAt(),u.deepcopy());return new un(e,a)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,i){this.elements.insertAfter(e,i)}moveAfter(e,i,a){this.elements.moveAfter(e,i,a)}get(e){const i=this.elements.getByIndex(e);return i==null?void 0:i.getValue()}getByID(e){const i=this.elements.getByID(e);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,i){return this.elements.delete(e,i)}deleteByIndex(e,i){return this.elements.deleteByIndex(e,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const i of this.elements){const a=i.getValue();if(e(a,this))return;a instanceof Ps&&a.getDescendants(e)}}toJSON(){const e=[];for(const i of this)e.push(i.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let i=0;i<this.length;i++){const{createdAt:a,value:u,type:c}=this.get(i).toJSForTest();e[i]={key:String(i),createdAt:a,value:u,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=un.create(this.getCreatedAt());for(const i of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),i.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Fs extends Zn{constructor(e,i,a){super(e,a);v(this,"createdAt");this.createdAt=i}static create(e,i,a){return new Fs(e,i,a)}execute(e,i){var g;const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ps))throw new K(F.ErrInvalidArgument,`only object and array can execute remove: ${a}`);if(i===Kt.UndoRedo){let y=a.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=(g=e.findElementPairByCreatedAt(y.getCreatedAt()))==null?void 0:g.parent}}const u=a.subPathOf(this.createdAt),c=this.toReverseOperation(a),d=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(d),{opInfos:a instanceof un?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:c}}toReverseOperation(e){if(e instanceof Qe){const i=e.subPathOf(this.createdAt);if(i!==void 0){const a=e.get(i);if(a!==void 0)return _a.create(i,a.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class _a extends Zn{constructor(e,i,a,u){super(a,u);v(this,"key");v(this,"value");this.key=e,this.value=i}static create(e,i,a,u){return new _a(e,i,a,u)}execute(e,i){var g;const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Qe))throw new K(F.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===Kt.UndoRedo){let y=a;for(;y;){if(y.getRemovedAt())return;y=(g=e.findElementPairByCreatedAt(y.getCreatedAt()))==null?void 0:g.parent}}const u=a.get(this.key),c=this.toReverseOperation(u),d=this.value.deepcopy(),h=a.set(this.key,d,this.getExecutedAt());return i===Kt.UndoRedo&&e.findByCreatedAt(d.getCreatedAt())&&e.deregisterElement(d),e.registerElement(d,a),h&&e.registerRemovedElement(h),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let i=Fs.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(i=_a.create(this.key,e.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ru extends Zn{constructor(e,i,a,u){super(e,u);v(this,"prevCreatedAt");v(this,"value");this.prevCreatedAt=i,this.value=a}static create(e,i,a,u){return new Ru(e,i,a,u)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof un))throw new K(F.ErrInvalidArgument,"fail to execute, only array can execute add");const a=i,u=this.value.deepcopy();return a.insertAfter(this.prevCreatedAt,u),e.registerElement(u,a),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(a.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class qs extends Zn{constructor(e,i,a,u){super(e,u);v(this,"prevCreatedAt");v(this,"createdAt");this.prevCreatedAt=i,this.createdAt=a}static create(e,i,a,u){return new qs(e,i,a,u)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof un))throw new K(F.ErrInvalidArgument,"fail to execute, only array can execute move");const a=i,u=Number(a.subPathOf(this.createdAt));a.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const c=Number(a.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:c,previousIndex:u}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class ka{constructor(t,e,i,a){v(this,"key");v(this,"value");v(this,"updatedAt");v(this,"_isRemoved");this.key=t,this.value=e,this.updatedAt=i,this._isRemoved=a}static of(t,e,i,a){return new ka(t,e,i,a)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class ts{constructor(){v(this,"nodeMapByKey");v(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ts}getNodeMapByKey(){return this.nodeMapByKey}set(t,e,i){const a=this.nodeMapByKey.get(t);if(a&&a.isRemoved()&&i.after(a.getUpdatedAt())&&(this.numberOfRemovedElement-=1),a===void 0||i.after(a.getUpdatedAt())){const u=ka.of(t,e,i,!1);return this.nodeMapByKey.set(t,u),a!==void 0&&a.isRemoved()?[a,u]:[void 0,u]}return a.isRemoved()?[a,void 0]:[void 0,void 0]}setInternal(t,e,i,a){const u=ka.of(t,e,i,a);this.nodeMapByKey.set(t,u),a&&this.numberOfRemovedElement++}remove(t,e){const i=this.nodeMapByKey.get(t),a=[];if(i===void 0||e.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const d=ka.of(t,"",e,!0);return this.nodeMapByKey.set(t,d),a.push(d),a}const u=i.isRemoved();u||(this.numberOfRemovedElement+=1),u&&a.push(i);const c=ka.of(t,i.getValue(),e,!0);return this.nodeMapByKey.set(t,c),a.push(c),a}return a}has(t){if(this.nodeMapByKey.has(t)){const e=this.nodeMapByKey.get(t);return e!==void 0&&!e.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new ts;for(const[,e]of this.nodeMapByKey)t.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[e,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${vr(e)}":"${vr(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[e,i]of this.nodeMapByKey)i.isRemoved()||(t[e]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const e=this.nodeMapByKey.get(t.getKey());e==null||e.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}class pu{constructor(t){v(this,"attributes");v(this,"content");this.attributes=ts.create(),this.content=t}static create(t){return new pu(t)}get length(){return this.content.length}substring(t,e){const i=new pu(this.content.substring(t,e));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,e,i){return this.attributes.set(t,e,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const t=vr(this.content),e=this.attributes.toObject(),i=[];for(const[a,u]of Object.entries(e)){const c=JSON.parse(u),d=typeof c=="string"?`"${vr(a)}":"${vr(c)}"`:`"${vr(a)}":${String(c)}`;i.push(d)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof ka&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const e of this.attributes)e.getRemovedAt()&&t.push({parent:this,child:e});return t}}class zn extends Mu{constructor(e,i){super(i);v(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,i){return new zn(e,i)}edit(e,i,a,u,c,d){const h=i?pu.create(i):void 0;if(h&&u)for(const[x,E]of Object.entries(u))h.setAttr(x,E,a);const[g,y,p,w]=this.rgaTreeSplit.edit(e,a,h,c,d),b=w.map(x=>({...x,value:x.value?{attributes:zo(x.value.getAttributes()),content:x.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[y,b,p,[g,g]]}setStyle(e,i,a,u,c){const[,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],a),[,h]=this.rgaTreeSplit.findNodeWithSplit(e[0],a),g=[],y=this.rgaTreeSplit.findBetween(h,d),p=new Map,w=[];for(const x of y){const E=x.getCreatedAt().getActorID();let R,D=0n;if(c===void 0&&u===void 0?D=su:c.size()>0?D=c.get(E)?c.get(E):0n:R=u.has(E)?u.get(E):Xn,x.canStyle(a,R,D)){const B=p.get(E),C=x.getCreatedAt();(!B||C.after(B))&&p.set(E,C),w.push(x)}}const b=[];for(const x of w){if(x.isRemoved())continue;const[E,R]=this.rgaTreeSplit.findIndexesFromRange(x.createPosRange());g.push({type:"style",actor:a.getActorID(),from:E,to:R,value:{attributes:zo(i)}});for(const[D,B]of Object.entries(i)){const[C]=x.getValue().setAttr(D,B,a);C!==void 0&&b.push({parent:x.getValue(),child:C})}}return[p,b,g]}indexRangeToPosRange(e,i){const a=this.rgaTreeSplit.indexToPos(e);return e===i?[a,a]:[a,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}toJSON(){const e=[];for(const i of this.rgaTreeSplit)i.isRemoved()||e.push(i.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const a=i.getValue();e.push({attributes:zo(a.getAttributes()),content:a.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new zn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:i});for(const a of i.getValue().getGCPairs())e.push(a)}return e}}class Iu extends Zn{constructor(e,i,a,u,c,d,h){super(e,h);v(this,"fromPos");v(this,"toPos");v(this,"maxCreatedAtMapByActor");v(this,"content");v(this,"attributes");this.fromPos=i,this.toPos=a,this.maxCreatedAtMapByActor=u,this.content=c,this.attributes=d}static create(e,i,a,u,c,d,h){return new Iu(e,i,a,u,c,d,h)}execute(e,i,a){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof zn))throw new K(F.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=u,[,d,h]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,a);for(const g of h)e.registerGCPair(g);return{opInfos:d.map(({from:g,to:y,value:p})=>({type:"edit",from:g,to:y,value:p,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),a=this.toPos.toTestString(),u=this.content;return`${e}.EDIT(${i},${a},${u})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Bu extends Zn{constructor(e,i,a,u,c,d){super(e,d);v(this,"fromPos");v(this,"toPos");v(this,"maxCreatedAtMapByActor");v(this,"attributes");this.fromPos=i,this.toPos=a,this.maxCreatedAtMapByActor=u,this.attributes=c}static create(e,i,a,u,c,d){return new Bu(e,i,a,u,c,d)}execute(e,i,a){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof zn))throw new K(F.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=u,[,d,h]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,a);for(const g of d)e.registerGCPair(g);return{opInfos:h.map(({from:g,to:y,value:p})=>({type:"style",from:g,to:y,value:p,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),a=this.toPos.toTestString(),u=this.attributes;return`${e}.STYL(${i},${a},${JSON.stringify(u)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const i2=2,s2="root",Ki="text";function Zl(n,t){let e=0;const i=n.children;for(let a=0;a<t;a++){const u=i[a];!u||u.isRemoved||(e+=u.paddedSize)}return e}class a2{constructor(t,e=[]){v(this,"type");v(this,"parent");v(this,"_children");v(this,"size");if(this.type=t,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new K(F.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const e=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*e,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const e of this._children){const i=e.updateDescendantsSize();e.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===Ki}get paddedSize(){return this.size+(this.isText?0:i2)}isAncestorOf(t){return o2(this,t)}get nextSibling(){const t=this.parent.findOffset(this),e=this.parent.children[t+1];if(e)return e}get prevSibling(){const t=this.parent.findOffset(this),e=this.parent.children[t-1];if(e)return e}splitText(t,e){if(t===0||t===this.size)return;const i=this.value.slice(0,t),a=this.value.slice(t);if(!a.length)return;this.value=i;const u=this.cloneText(t+e);return u.value=a,this.parent.insertAfterInternal(u,this),u}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const e of t)e.parent=this,e.updateAncestorsSize()}prepend(...t){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const e of t)e.parent=this}insertBefore(t,e){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new K(F.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,e){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new K(F.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,e){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,e),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(t);if(e===-1)throw new K(F.ErrInvalidArgument,"child not found");this._children.splice(e,1),t.parent=void 0}splitElement(t,e){const i=this.cloneElement(e);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const a=this.children.slice(0,t),u=this.children.slice(t);this._children=a,i._children=u,this.size=this._children.reduce((c,d)=>c+d.paddedSize,0),i.size=i._children.reduce((c,d)=>c+d.paddedSize,0);for(const c of i._children)c.parent=i;return i}insertAfterInternal(t,e){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(e);if(i===-1)throw new K(F.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,e){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");this._children.splice(e,0,t),t.parent=this}findOffset(t){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");if(t.isRemoved){const e=this._children.indexOf(t);return this.allChildren.splice(0,e).filter(a=>!a.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new K(F.ErrRefused,"Text node cannot have children");let e=t;for(;e;){const i=this._children.indexOf(e);if(i!==-1)return i;e=e.parent}return-1}}function o2(n,t){if(n===t)return!1;for(;t.parent;){if(t.parent===n)return!0;t=t.parent}return!1}var we=(n=>(n.Start="Start",n.End="End",n.Text="Text",n))(we||{});function rS(n,t,e,i){if(t>e)throw new K(F.ErrInvalidArgument,`from is greater than to: ${t} > ${e}`);if(t>n.size)throw new K(F.ErrInvalidArgument,`from is out of range: ${t} > ${n.size}`);if(e>n.size)throw new K(F.ErrInvalidArgument,`to is out of range: ${e} > ${n.size}`);if(t===e)return;let a=0;for(const u of n.children){if(t-u.paddedSize<a&&a<e){const c=u.isText?t-a:t-a-1,d=u.isText?e-a:e-a-1,h=!u.isText&&c<0,g=!u.isText&&d>u.size;(u.isText||h)&&i([u,u.isText?"Text":"Start"],g),rS(u,Math.max(0,c),Math.min(d,u.size),i),g&&i([u,"End"],g)}a+=u.paddedSize}}function iS(n,t,e=0){for(const i of n.children)iS(i,t,e+1);t(n,e)}function yd(n,t,e=0){for(const i of n._children)yd(i,t,e+1);t(n,e)}function Ym(n,t,e=!0){if(t>n.size)throw new K(F.ErrInvalidArgument,`index is out of range: ${t} > ${n.size}`);if(n.isText)return{node:n,offset:t};let i=0,a=0;for(const u of n.children){if(e&&u.isText&&u.size>=t-a)return Ym(u,t-a,e);if(t===a)return{node:n,offset:i};if(!e&&u.paddedSize===t-a)return{node:n,offset:i+1};if(u.paddedSize>t-a)return Ym(u,t-a-1,e);a+=u.paddedSize,i+=1}return{node:n,offset:i}}function sS(n){return n.isText||n.children.length===0?n:sS(n.children[0])}function l2(n,t){if(n.size<t)throw new K(F.ErrInvalidArgument,"unacceptable path");for(let e=0;e<n.children.length;e++){const i=n.children[e];if(i.size<t)t-=i.size;else{n=i;break}}return{node:n,offset:t}}class u2{constructor(t){v(this,"root");this.root=t}tokensBetween(t,e,i){rS(this.root,t,e,i)}traverse(t){iS(this.root,t,0)}traverseAll(t){yd(this.root,t,0)}findTreePos(t,e=!0){return Ym(this.root,t,e)}treePosToPath(t){const e=[];let i=t.node;if(i.isText){const a=i.parent.findOffset(i);if(a===-1)throw new K(F.ErrInvalidArgument,"invalid treePos");const u=Zl(i.parent,a);e.push(u+t.offset),i=i.parent}else if(i.hasTextChild()){const a=Zl(i,t.offset);e.push(a)}else e.push(t.offset);for(;i.parent;){const a=i.parent.findOffset(i);if(a===-1)throw new K(F.ErrInvalidArgument,"invalid treePos");e.push(a),i=i.parent}return e.reverse()}pathToIndex(t){const e=this.pathToTreePos(t);return this.indexOf(e)}pathToTreePos(t){if(!t.length)throw new K(F.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let i=0;i<t.length-1;i++){const a=t[i];if(e=e.children[a],!e)throw new K(F.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return l2(e,t[t.length-1]);if(e.children.length<t[t.length-1])throw new K(F.ErrInvalidArgument,"unacceptable path");return{node:e,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:e,offset:i}=t;if(e.isText){if(e.size===i){const a=e.nextSibling;return a||e.parent}return e}return e.children.length===i?e:sS(e.children[i])}indexOf(t){let{node:e}=t;const{offset:i}=t;let a=0,u=1;if(e.isText){a+=i;const c=e.parent,d=c.findOffset(e);if(d===-1)throw new K(F.ErrInvalidArgument,"invalid pos");a+=Zl(c,d),e=e.parent}else a+=Zl(e,i);for(;e!=null&&e.parent;){const c=e.parent,d=c.findOffset(e);if(d===-1)throw new K(F.ErrInvalidArgument,"invalid pos");a+=Zl(c,d),u++,e=e.parent}return a+u-1}indexToPath(t){const e=this.findTreePos(t);return this.treePosToPath(e)}}const c2=(n,t)=>n===t?0:n<t?-1:1;class f2{constructor(t,e,i){v(this,"key");v(this,"value");v(this,"parent");v(this,"left");v(this,"right");v(this,"isRed");this.key=t,this.value=e,this.isRed=i}}class d2{constructor(t){v(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class aS{constructor(t){v(this,"root");v(this,"comparator");v(this,"counter");this.comparator=typeof t<"u"?t:c2,this.counter=0}put(t,e){return this.root=this.putInternal(t,e,this.root),this.root.isRed=!1,e}get(t){const e=this.getInternal(t,this.root);return e?e.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new d2(this.root)}values(){const t=[];for(const e of this.getIterator().stack)t.push(e.value);return t}floorEntry(t){let e=this.root;for(;e;){const i=this.comparator(t,e.key);if(i>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(i<0)if(e.left)e.left.parent=e,e=e.left;else{let a=e.parent,u=e;for(;a&&u===a.left;)u=a,a=a.parent;return a}else return e}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,e){for(;e;){const i=this.comparator(t,e.key);if(i===0)return e;i<0?e=e.left:i>0&&(e=e.right)}}putInternal(t,e,i){if(!i)return this.counter+=1,new f2(t,e,!0);const a=this.comparator(t,i.key);return a<0?i.left=this.putInternal(t,e,i.left):a>0?i.right=this.putInternal(t,e,i.right):i.value=e,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,e){if(this.comparator(e,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,e);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(e,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(e,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,e)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const e=t.right;return t.right=e.left,e.left=t,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(t){const e=t.left;return t.left=e.right,e.right=t,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class Yn{constructor(t,e){v(this,"parentID");v(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=e}static of(t,e){return new Yn(t,e)}static fromTreePos(t){const{offset:e}=t;let{node:i}=t,a;return i.isText?(i.parent.children[0]===i&&e===0?a=i.parent:a=i,i=i.parent):e===0?a=i:a=i.children[e-1],Yn.of(i.id,Ie.of(a.getCreatedAt(),a.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(t){return Yn.of(Ie.of(Bn.fromStruct(t.parentID.createdAt),t.parentID.offset),Ie.of(Bn.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const e=this.getParentID(),i=this.getLeftSiblingID(),a=t.findFloorNode(e);let u=t.findFloorNode(i);if(!a||!u)throw new K(F.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${i.toTestString()})`);return!i.equals(e)&&i.getOffset()>0&&i.getOffset()===u.id.getOffset()&&u.insPrevID&&(u=t.findFloorNode(u.insPrevID)),[a,u]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Ie{constructor(t,e){v(this,"createdAt");v(this,"offset");this.createdAt=t,this.offset=e}static of(t,e){return new Ie(t,e)}static fromStruct(t){return Ie.of(Bn.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,e)=>{const i=t.getCreatedAt().compare(e.getCreatedAt());return i!==0?i:t.getOffset()>e.getOffset()?1:t.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class ln extends a2{constructor(e,i,a,u,c){super(i);v(this,"id");v(this,"removedAt");v(this,"attrs");v(this,"insPrevID");v(this,"insNextID");v(this,"_value","");this.id=e,this.removedAt=c,u&&(this.attrs=u),typeof a=="string"?this.value=a:Array.isArray(a)&&(this._children=a)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,i,a,u){return new ln(e,i,a,u)}deepcopy(){var i;const e=new ln(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),e._children=this._children.map(a=>{const u=a.deepcopy();return u.parent=e,u}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new K(F.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new K(F.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),i&&this.updateAncestorsSize()}cloneText(e){return new ln(Ie.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new ln(Ie.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,i,a){const u=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,a);if(u){if(u.insPrevID=this.id,this.insNextID){const c=e.findFloorNode(this.insNextID);c.insPrevID=u.id,u.insNextID=this.insNextID}this.insNextID=u.id,e.registerNode(u)}return u}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,i,a){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=a)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,i,a){return this.isText?!1:(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=a)&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,i){this.attrs||(this.attrs=new ts);const a=[];for(const[u,c]of Object.entries(e))a.push(this.attrs.set(u,c,i));return a}purge(e){this.attrs&&this.attrs.purge(e)}getGCPairs(){const e=[];if(!this.attrs)return e;for(const i of this.attrs)i.getRemovedAt()&&e.push({parent:this,child:i});return e}}function Gm(n){var e;if(n.isText){const i=n;return{type:i.type,value:i.value}}const t={type:n.type,children:n.children.map(Gm)};return n.attrs&&(t.attributes=zo((e=n.attrs)==null?void 0:e.toObject())),t}function wy(n){if(n.isText)return n.value;let t="";return n.attrs&&n.attrs.size()&&(t=" "+Array.from(n.attrs).filter(e=>!e.isRemoved()).sort((e,i)=>e.getKey().localeCompare(i.getKey())).map(e=>{const i=JSON.parse(e.getValue());return typeof i=="string"?`${e.getKey()}="${i}"`:`${e.getKey()}="${vr(e.getValue())}"`}).join(" ")),`<${n.type}${t}>${n.children.map(e=>wy(e)).join("")}</${n.type}>`}function oS(n){if(n.isText){const t=n;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:n.type,children:n.children.map(oS),size:n.size,isRemoved:n.isRemoved}}class Ln extends Mu{constructor(e,i){super(i);v(this,"indexTree");v(this,"nodeMapByID");this.indexTree=new u2(e),this.nodeMapByID=new aS(Ie.createComparator()),this.indexTree.traverseAll(a=>{this.nodeMapByID.put(a.id,a)})}static create(e,i){return new Ln(e,i)}findFloorNode(e){const i=this.nodeMapByID.floorEntry(e);if(!(!i||!i.key.getCreatedAt().equals(e.getCreatedAt())))return i.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,i){const[a,u]=e.toTreeNodePair(this);let c=u;const d=a===c,h=c.parent&&!d?c.parent:a;if(c.isText&&c.split(this,e.getLeftSiblingID().getOffset()-c.id.getOffset()),i){const g=h.allChildren,y=d?0:g.indexOf(c)+1;for(let p=y;p<g.length;p++){const w=g[p];if(!w.id.getCreatedAt().after(i))break;c=w}}return[h,c]}style(e,i,a,u,c){const[d,h]=this.findNodesAndSplitText(e[0],a),[g,y]=this.findNodesAndSplitText(e[1],a),p=[],w=i?zo(i):{},b=new Map,x=[];return this.traverseInPosRange(d,h,g,y,([E])=>{const R=E.getCreatedAt().getActorID();let D,B=0n;if(c===void 0&&u===void 0?B=su:c.size()>0?B=c.get(R)?c.get(R):0n:D=u.has(R)?u.get(R):Xn,E.canStyle(a,D,B)&&i){const C=b.get(R),k=E.getCreatedAt();(!C||k.after(C))&&b.set(R,k);const z=E.setAttrs(i,a),j=z.reduce((J,[,X])=>(X&&(J[X.getKey()]=w[X.getKey()]),J),{}),_=E.parent,W=E.prevSibling||E.parent;Object.keys(j).length>0&&p.push({type:"style",from:this.toIndex(_,W),to:this.toIndex(E,E),fromPath:this.toPath(_,W),toPath:this.toPath(E,E),actor:a.getActorID(),value:j});for(const[J]of z)J&&x.push({parent:E,child:J})}}),[b,x,p]}removeStyle(e,i,a,u,c){const[d,h]=this.findNodesAndSplitText(e[0],a),[g,y]=this.findNodesAndSplitText(e[1],a),p=[],w=new Map,b=[];return this.traverseInPosRange(d,h,g,y,([x])=>{const E=x.getCreatedAt().getActorID();let R,D=0n;if(c===void 0&&u===void 0?D=su:c.size()>0?D=c.get(E)?c.get(E):0n:R=u.has(E)?u.get(E):Xn,x.canStyle(a,R,D)&&i){const B=w.get(E),C=x.getCreatedAt();(!B||C.after(B))&&w.set(E,C),x.attrs||(x.attrs=new ts);for(const j of i){const _=x.attrs.remove(j,a);for(const W of _)b.push({parent:x,child:W})}const k=x.parent,z=x.prevSibling||x.parent;p.push({actor:a.getActorID(),type:"removeStyle",from:this.toIndex(k,z),to:this.toIndex(x,x),fromPath:this.toPath(k,z),toPath:this.toPath(x,x),value:i})}}),[w,b,p]}edit(e,i,a,u,c,d,h){const[g,y]=this.findNodesAndSplitText(e[0],u),[p,w]=this.findNodesAndSplitText(e[1],u),b=this.toIndex(g,y),x=this.toPath(g,y),E=[],R=[],D=[],B=new Map;this.traverseInPosRange(g,y,p,w,([z,j],_)=>{if(j===we.Start&&!_)for(const ut of z.children)D.push(ut);const W=z.getCreatedAt().getActorID();let J,X=0n;if(h===void 0&&d===void 0?X=su:h.size()>0?X=h.get(W)?h.get(W):0n:J=d.has(W)?d.get(W):Xn,z.canDelete(u,J,X)||E.includes(z.parent)){const ut=B.get(W),ot=z.getCreatedAt();(!ut||ot.after(ut))&&B.set(W,ot),(j===we.Text||j===we.Start)&&E.push(z),R.push([z,j])}});const C=this.makeDeletionChanges(R,u),k=[];for(const z of E)z.remove(u),z.isRemoved&&k.push({parent:this,child:z});for(const z of D)z.removedAt||g.append(z);if(a>0){let z=0,j=g,_=y;for(;z<a;)j.split(this,j.findOffset(_)+1,c),_=j,j=j.parent,z++;C.push({type:"content",from:b,to:b,fromPath:x,toPath:x,actor:u.getActorID()})}if(i!=null&&i.length){const z=[];let j=y;for(const _ of i)j===g?g.insertAt(_,0):g.insertAfter(_,j),j=_,yd(_,W=>{g.isRemoved&&(W.remove(u),k.push({parent:this,child:W})),this.nodeMapByID.put(W.id,W)}),_.isRemoved||z.push(_);if(z.length){const _=z.map(W=>Gm(W));C.length&&C[C.length-1].from===b?C[C.length-1].value=_:C.push({type:"content",from:b,to:b,fromPath:x,toPath:x,actor:u.getActorID(),value:_})}}return[C,k,B]}editT(e,i,a,u,c){const d=this.findPos(e[0]),h=this.findPos(e[1]);this.edit([d,h],i,a,u,c)}move(e,i,a){throw new K(F.ErrUnimplemented,`not implemented: ${e}, ${i}, ${a}`)}purge(e){var u;(u=e.parent)==null||u.removeChild(e),this.nodeMapByID.remove(e.id);const i=e.insPrevID,a=e.insNextID;if(i){const c=this.findFloorNode(i);c.insNextID=a}if(a){const c=this.findFloorNode(a);c.insPrevID=i}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&e.push({parent:this,child:i});for(const a of i.getGCPairs())e.push(a)}),e}findPos(e,i=!0){const a=this.indexTree.findTreePos(e,i);return Yn.fromTreePos(a)}pathToPosRange(e){const i=this.pathToIndex(e);return[this.findPos(i),this.findPos(i+1)]}pathToPos(e){const i=this.indexTree.pathToIndex(e);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return wy(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),i=(a,u=void 0,c=void 0,d=0)=>{var b,x,E,R;let h,g,y;const p=a.isText?{node:a,offset:0}:u&&c?this.toTreePos(u,c):null;p&&(h=this.indexTree.indexOf(p),g=this.indexTree.treePosToPath(p),y=Yn.fromTreePos(p).toStruct());const w={type:a.type,parent:u==null?void 0:u.id.toTestString(),size:a.size,id:a.id.toTestString(),removedAt:(b=a.removedAt)==null?void 0:b.toTestString(),insPrev:(x=a.insPrevID)==null?void 0:x.toTestString(),insNext:(E=a.insNextID)==null?void 0:E.toTestString(),value:a.isText?a.value:void 0,isRemoved:a.isRemoved,children:[],depth:d,attributes:a.attrs?zo((R=a.attrs)==null?void 0:R.toObject()):void 0,index:h,path:g,pos:y};for(let D=0;D<a.allChildren.length;D++){const B=D===0?a:a.allChildren[D-1];w.children.push(i(a.allChildren[D],a,B,d+1))}return w};return i(e)}getRootTreeNode(){return Gm(this.indexTree.getRoot())}toTestTreeNode(){return oS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Ln(e.deepcopy(),this.getCreatedAt())}toPath(e,i){const a=this.toTreePos(e,i);return a?this.indexTree.treePosToPath(a):[]}toIndex(e,i){const a=this.toTreePos(e,i);return a?this.indexTree.indexOf(a):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const i=this.findPos(e[0]);return e[0]===e[1]?[i,i]:[i,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[i,a]=e,u=this.findPos(i);return i===a?[u.toStruct(),u.toStruct()]:[u.toStruct(),this.findPos(a).toStruct()]}posRangeToPathRange(e){const[i,a]=this.findNodesAndSplitText(e[0]),[u,c]=this.findNodesAndSplitText(e[1]);return[this.toPath(i,a),this.toPath(u,c)]}posRangeToIndexRange(e){const[i,a]=this.findNodesAndSplitText(e[0]),[u,c]=this.findNodesAndSplitText(e[1]);return[this.toIndex(i,a),this.toIndex(u,c)]}traverseInPosRange(e,i,a,u,c){const d=this.toIndex(e,i),h=this.toIndex(a,u);return this.indexTree.tokensBetween(d,h,c)}toTreePos(e,i){if(!e||!i)return;if(e.isRemoved){let u;for(;e.isRemoved;)u=e,e=u.parent;const c=e.findOffset(u);return{node:e,offset:c}}if(e===i)return{node:e,offset:0};let a=e.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};a++}return{node:e,offset:a}}makeDeletionChanges(e,i){const a=[],u=[];let c=null,d=null;for(let h=0;h<e.length;h++){const g=e[h],y=e[h+1];c||(c=g),d=g;const p=this.findRightToken(g);(!p||!y||p[0]!==y[0]||p[1]!==y[1])&&(u.push([c,d]),c=null,d=null)}for(const h of u){const[g,y]=h,[p,w]=this.findLeftToken(g),[b,x]=y,E=w===we.Start?p:p.parent,R=x===we.Start?b:b.parent,D=this.toIndex(E,p),B=this.toIndex(R,b);D<B&&(a.length>0&&D===a[a.length-1].to?(a[a.length-1].to=B,a[a.length-1].toPath=this.toPath(R,b)):a.push({type:"content",from:D,to:B,fromPath:this.toPath(E,p),toPath:this.toPath(R,b),actor:i.getActorID()}))}return a.reverse()}findRightToken([e,i]){if(i===we.Start){const h=e.allChildren;return h.length>0?[h[0],h[0].isText?we.Text:we.Start]:[e,we.End]}const a=e.parent,u=a.allChildren,c=u.indexOf(e);if(a&&c===u.length-1)return[a,we.End];const d=u[c+1];return[d,d.isText?we.Text:we.Start]}findLeftToken([e,i]){if(i===we.End){const h=e.allChildren;if(h.length>0){const g=h[h.length-1];return[g,g.isText?we.Text:we.End]}return[e,we.Start]}const a=e.parent,u=a.allChildren,c=u.indexOf(e);if(a&&c===0)return[a,we.Start];const d=u[c-1];return[d,d.isText?we.Text:we.End]}}class zu extends Zn{constructor(e,i,a,u,c,d,h){super(e,h);v(this,"fromPos");v(this,"toPos");v(this,"contents");v(this,"splitLevel");v(this,"maxCreatedAtMapByActor");this.fromPos=i,this.toPos=a,this.contents=u,this.splitLevel=c,this.maxCreatedAtMapByActor=d}static create(e,i,a,u,c,d,h){return new zu(e,i,a,u,c,d,h)}execute(e,i,a){var y;const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof Ln))throw new K(F.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),d=u,[h,g]=d.edit([this.fromPos,this.toPos],(y=this.contents)==null?void 0:y.map(p=>p.deepcopy()),this.splitLevel,c,(()=>{let p=c.getDelimiter();return this.contents!==void 0&&(p+=this.contents.length),()=>Bn.of(c.getLamport(),++p,c.getActorID())})(),this.maxCreatedAtMapByActor,a);for(const p of g)e.registerGCPair(p);return{opInfos:h.map(({from:p,to:w,value:b,splitLevel:x,fromPath:E,toPath:R})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:p,to:w,value:b,splitLevel:x,fromPath:E,toPath:R}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,u=this.contents||[];return`${e}.EDIT(${i},${a},${u.map(c=>wy(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Lo{constructor(t){v(this,"vector");this.vector=t||new Map}set(t,e){this.vector.set(t,e)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,e]of this)e>t&&(t=e);return t}max(t){const e=new Map;for(const[i,a]of t){const u=this.vector.get(i),c=u&&u>a?u:a;e.set(i,c)}for(const[i,a]of this){const u=t.get(i),c=u&&u>a?u:a;e.set(i,c)}return new Lo(e)}afterOrEqual(t){const e=this.vector.get(t.getActorID());return e===void 0?!1:e>=t.getLamport()}deepcopy(){const t=new Map;for(const[e,i]of this.vector)t.set(e,i);return new Lo(t)}filter(t){const e=new Map;for(const[i]of t){const a=this.vector.get(i);a!==void 0&&e.set(i,a)}return new Lo(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,e]of this.vector)yield[t,e]}}const h2=new Lo(new Map);class Vi{constructor(t,e,i,a,u){v(this,"clientSeq");v(this,"serverSeq");v(this,"lamport");v(this,"actor");v(this,"versionVector");this.clientSeq=t,this.serverSeq=u,this.lamport=e,this.versionVector=a,this.actor=i}static of(t,e,i,a,u){return new Vi(t,e,i,a,u)}next(){const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new Vi(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(t){const e=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n;let i=t.versionVector;i.size()===0&&(i=i.deepcopy(),i.set(t.actor,t.lamport));const a=this.versionVector.max(i),u=new Vi(this.clientSeq,e,this.actor,a);return u.versionVector.set(this.actor,e),u}setClocks(t,e){const i=t>this.lamport?t+1n:this.lamport+1n;e.unset(md);const a=this.versionVector.max(e);return a.set(this.actor,i),Vi.of(this.clientSeq,i,this.actor,a)}createTimeTicket(t){return Bn.of(this.lamport,t,this.actor)}setActor(t){return new Vi(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setVersionVector(t){return new Vi(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const g2=new Vi(0,0n,md,h2);class jo{constructor({id:t,operations:e,presenceChange:i,message:a}){v(this,"id");v(this,"operations");v(this,"presenceChange");v(this,"message");this.id=t,this.operations=e||[],this.presenceChange=i,this.message=a}static create({id:t,operations:e,presenceChange:i,message:a}){return new jo({id:t,operations:e,presenceChange:i,message:a})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const e of this.operations)e.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,e,i){const a=[],u=[];for(const c of this.operations){const d=c.execute(t,i,this.id.getVersionVector());if(!d)continue;const{opInfos:h,reverseOp:g}=d;a.push(...h),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===js.Put?e.set(this.id.getActorID(),$n(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:a,reverseOps:u}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:he.bytesToHex(he.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>he.bytesToHex(he.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:e,operations:i,presenceChange:a,message:u}=t;return jo.create({id:he.bytesToChangeID(he.hexToBytes(e)),operations:i==null?void 0:i.map(c=>he.bytesToOperation(he.hexToBytes(c))),presenceChange:a,message:u})}}class pd{constructor(t,e,i,a,u,c,d){v(this,"documentKey");v(this,"checkpoint");v(this,"isRemoved");v(this,"changes");v(this,"snapshot");v(this,"minSyncedTicket");v(this,"versionVector");this.documentKey=t,this.checkpoint=e,this.isRemoved=i,this.changes=a,this.snapshot=c,this.minSyncedTicket=d,this.versionVector=u}static create(t,e,i,a,u,c,d){return new pd(t,e,i,a,u,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class _o{constructor(t,e){v(this,"serverSeq");v(this,"clientSeq");this.serverSeq=t,this.clientSeq=e}static of(t,e){return new _o(t,e)}increaseClientSeq(t){return t===0?this:new _o(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const e=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return _o.of(e,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const m2=new _o(0n,0);class wr{constructor(t,e){v(this,"createdAt");v(this,"offset");this.createdAt=t,this.offset=e}static of(t,e){return new wr(t,e)}static fromStruct(t){return wr.of(Bn.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new wr(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const y2=wr.of(Xn,0);class Kn{constructor(t,e){v(this,"id");v(this,"relativeOffset");this.id=t,this.relativeOffset=e}static of(t,e){return new Kn(t,e)}static fromStruct(t){const e=wr.fromStruct(t.id);return Kn.of(e,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return wr.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Js extends Qb{constructor(e,i,a){super(i);v(this,"id");v(this,"removedAt");v(this,"prev");v(this,"next");v(this,"insPrev");v(this,"insNext");this.id=e,this.removedAt=a}static create(e,i){return new Js(e,i)}static createComparator(){return(e,i)=>{const a=e.getCreatedAt().compare(i.getCreatedAt());return a!==0?a:e.getOffset()>i.getOffset()?1:e.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Js(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,i,a){const u=!this.removedAt;return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=a)&&(!this.removedAt||e.after(this.removedAt))?u:!1}canStyle(e,i,a){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=a)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Kn.of(this.id,0),Kn.of(this.id,this.getLength())]}deepcopy(){return new Js(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const i=this.value;return this.value=i.substring(0,e),i.substring(e,i.length)}toIDString(){return this.id.toIDString()}}class Fo{constructor(){v(this,"head");v(this,"treeByIndex");v(this,"treeByID");this.head=Js.create(y2),this.treeByIndex=new mu,this.treeByID=new aS(Js.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Fo}edit(t,e,i,a,u){const[c,d]=this.findNodeWithSplit(t[1],e),[h,g]=this.findNodeWithSplit(t[0],e),y=this.findBetween(g,d),[p,w,b]=this.deleteNodes(y,e,a,u),x=d?d.getID():c.getID();let E=Kn.of(x,0);if(i){const D=this.posToIndex(h.createPosRange()[1],!0),B=this.insertAfter(h,Js.create(wr.of(e,0),i));p.length&&p[p.length-1].from===D?p[p.length-1].value=i:p.push({actor:e.getActorID(),from:D,to:D,value:i}),E=Kn.of(B.getID(),B.getContentLength())}const R=[];for(const[,D]of b)R.push({parent:this,child:D});return[E,w,R,p]}indexToPos(t){const[e,i]=this.treeByIndex.find(t),a=e;return Kn.of(a.getID(),i)}findIndexesFromRange(t){const[e,i]=t;return[this.posToIndex(e,!1),this.posToIndex(i,!0)]}posToIndex(t,e){const i=t.getAbsoluteID(),a=e?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!a)throw new K(F.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const u=this.treeByIndex.indexOf(a),c=a.isRemoved()?0:i.getOffset()-a.getID().getOffset();return u+c}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const e of this)e.isRemoved()||t.push(e.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new Fo;let e=this.head.getNext(),i=t.head,a;for(;e;){if(a=t.insertAfter(i,e.deepcopy()),e.hasInsPrev()){const u=t.findNode(e.getInsPrevID());a.setInsPrev(u)}i=a,e=e.getNext()}return t}toTestString(){const t=[];let e=this.head;for(;e;)e.isRemoved()?t.push(`{${e.toTestString()}}`):t.push(`[${e.toTestString()}]`),e=e.getNext();return t.join("")}insertAfter(t,e){const i=t.getNext();return e.setPrev(t),i&&i.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(t,e),e}findNodeWithSplit(t,e){const i=t.getAbsoluteID();let a=this.findFloorNodePreferToLeft(i);const u=i.getOffset()-a.getID().getOffset();for(this.splitNode(a,u);a.hasNext()&&a.getNext().getCreatedAt().after(e);)a=a.getNext();return[a,a.getNext()]}findFloorNodePreferToLeft(t){let e=this.findFloorNode(t);if(!e)throw new K(F.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&e.getID().getOffset()==t.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(t){const e=this.treeByID.floorEntry(t);if(e&&!(!e.key.equals(t)&&!e.key.hasSameCreatedAt(t)))return e.value}findBetween(t,e){const i=[];let a=t;for(;a&&a!==e;)i.push(a),a=a.getNext();return i}splitNode(t,e){if(e>t.getContentLength())throw new K(F.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return t;if(e===t.getContentLength())return t.getNext();const i=t.split(e);this.treeByIndex.updateWeight(i),this.insertAfter(t,i);const a=t.getInsNext();return a&&a.setInsPrev(i),i.setInsPrev(t),i}deleteNodes(t,e,i,a){if(!t.length)return[[],new Map,new Map];const[u,c]=this.filterNodes(t,e,i,a),d=new Map,h=new Map,g=this.makeChanges(c,e);for(const y of u){const p=y.getCreatedAt().getActorID();(!d.has(p)||y.getID().getCreatedAt().after(d.get(p)))&&d.set(p,y.getID().getCreatedAt()),h.set(y.getID().toIDString(),y),y.remove(e)}return this.deleteIndexNodes(c),[g,d,h]}filterNodes(t,e,i,a){const u=[],c=[],[d,h]=this.findEdgesOfCandidates(t);c.push(d);for(const g of t){const y=g.getCreatedAt().getActorID();let p,w=0n;a===void 0&&i===void 0?w=su:a.size()>0?w=a.get(y)?a.get(y):0n:p=i.has(y)?i.get(y):Xn,g.canDelete(e,p,w)?u.push(g):c.push(g)}return c.push(h),[u,c]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,e){const i=[];let a,u;for(let c=0;c<t.length-1;c++){const d=t[c],h=t[c+1];d.getNext()!=h&&([a]=this.findIndexesFromRange(d.getNext().createPosRange()),h?[,u]=this.findIndexesFromRange(h.getPrev().createPosRange()):u=this.treeByIndex.length,a<u&&i.push({actor:e.getActorID(),from:a,to:u}))}return i.reverse()}deleteIndexNodes(t){for(let e=0;e<t.length-1;e++){const i=t[e],a=t[e+1];i.getNext()!=a&&this.treeByIndex.deleteRange(i,a)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const e=t.getPrev(),i=t.getNext(),a=t.getInsPrev(),u=t.getInsNext();e&&e.setNext(i),i&&i.setPrev(e),t.setPrev(void 0),t.setNext(void 0),a&&a.setInsNext(u),u&&u.setInsPrev(a),t.setInsPrev(void 0),t.setInsNext(void 0)}}const o1=n=>n<0?Math.ceil(n):Math.floor(n);var Sr=(n=>(n[n.IntegerCnt=0]="IntegerCnt",n[n.LongCnt=1]="LongCnt",n))(Sr||{});class cn extends Mu{constructor(e,i,a){super(a);v(this,"valueType");v(this,"value");switch(this.valueType=e,e){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Ht.fromNumber(i).toInt():this.value=o1(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Ht.fromNumber(i):this.value=i;break;default:throw new K(F.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,i,a){return new cn(e,i,a)}static valueFromBytes(e,i){switch(e){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Ht.fromBytesLE(Array.from(i));default:throw new K(F.ErrUnimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=cn.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Ht?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!cn.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new K(F.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function i(a){if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`)}return i(this),i(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ae.Long?this.value=this.value+e.getValue().toInt():this.value=Ht.fromNumber(this.value+o1(e.getValue())).toInt(),this}}class Yo extends Zn{constructor(e,i,a){super(e,a);v(this,"value");this.value=i}static create(e,i,a){return new Yo(e,i,a)}execute(e){const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof cn))throw new K(F.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const a=i,u=this.value.deepcopy();return a.increase(u),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:u.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),a=e.getType()===Ae.Long?e.getValue().multiply(-1):e.getValue()*-1;return Yo.create(this.getParentCreatedAt(),ce.of(a,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Zi extends Zn{constructor(e,i,a,u,c,d,h){super(e,h);v(this,"fromPos");v(this,"toPos");v(this,"maxCreatedAtMapByActor");v(this,"attributes");v(this,"attributesToRemove");this.fromPos=i,this.toPos=a,this.maxCreatedAtMapByActor=u,this.attributes=c,this.attributesToRemove=d}static create(e,i,a,u,c,d){return new Zi(e,i,a,u,c,[],d)}static createTreeRemoveStyleOperation(e,i,a,u,c,d){return new Zi(e,i,a,u,new Map,c,d)}execute(e,i,a){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new K(F.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof Ln))throw new K(F.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=u;let d,h;if(this.attributes.size){const g={};[...this.attributes].forEach(([y,p])=>g[y]=p),[,h,d]=c.style([this.fromPos,this.toPos],g,this.getExecutedAt(),this.maxCreatedAtMapByActor,a)}else{const g=this.attributesToRemove;[,h,d]=c.removeStyle([this.fromPos,this.toPos],g,this.getExecutedAt(),this.maxCreatedAtMapByActor,a)}for(const g of h)e.registerGCPair(g);return{opInfos:d.map(({from:g,to:y,value:p,fromPath:w,toPath:b})=>({type:"tree-style",from:g,to:y,value:this.attributes.size?{attributes:p}:{attributesToRemove:p},fromPath:w,toPath:b,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${i},${a},${Object.entries(this.attributes||{}).map(([u,c])=>`${u}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function p2(n){const t=new yy,e=t.data;for(const[i,a]of Object.entries(n))e[i]=JSON.stringify(a);return t}function v2(n){if(n.type===js.Put)return new hu({type:La.PUT,presence:p2(n.presence)});if(n.type===js.Clear)return new hu({type:La.CLEAR});throw new K(F.ErrUnimplemented,"unimplemented type")}function w2(n){return new Xb({serverSeq:n.getServerSeq(),clientSeq:n.getClientSeq()})}function lS(n){return new hd({clientSeq:n.getClientSeq(),lamport:n.getLamport(),actorId:Oy(n.getActorID()),versionVector:by(n.getVersionVector())})}function xt(n){if(n)return new wt({lamport:n.getLamport(),delimiter:n.getDelimiter(),actorId:Oy(n.getActorID())})}function by(n){if(!n)return;const t=new gd;for(const[e,i]of n)t.vector[e]=BigInt(i.toString());return t}function uS(n){switch(n){case Ae.Null:return Rt.NULL;case Ae.Boolean:return Rt.BOOLEAN;case Ae.Integer:return Rt.INTEGER;case Ae.Long:return Rt.LONG;case Ae.Double:return Rt.DOUBLE;case Ae.String:return Rt.STRING;case Ae.Bytes:return Rt.BYTES;case Ae.Date:return Rt.DATE;default:throw new K(F.ErrInvalidType,`unsupported type: ${n}`)}}function cS(n){switch(n){case Sr.IntegerCnt:return Rt.INTEGER_CNT;case Sr.LongCnt:return Rt.LONG_CNT;default:throw new K(F.ErrInvalidType,`unsupported type: ${n}`)}}function sm(n){if(n instanceof Qe)return new xn({type:Rt.JSON_OBJECT,createdAt:xt(n.getCreatedAt()),value:AS(n)});if(n instanceof un)return new xn({type:Rt.JSON_ARRAY,createdAt:xt(n.getCreatedAt()),value:K2(n)});if(n instanceof zn)return new xn({type:Rt.TEXT,createdAt:xt(n.getCreatedAt())});if(n instanceof ce)return new xn({type:uS(n.getType()),createdAt:xt(n.getCreatedAt()),value:n.toBytes()});if(n instanceof cn)return new xn({type:cS(n.getType()),createdAt:xt(n.getCreatedAt()),value:n.toBytes()});if(n instanceof Ln)return new xn({type:Rt.TREE,createdAt:xt(n.getCreatedAt()),value:Q2(n)});throw new K(F.ErrUnimplemented,"unimplemented element")}function b2(n){return new fu({createdAt:xt(n.getCreatedAt()),offset:n.getOffset()})}function sf(n){return new Wi({createdAt:xt(n.getID().getCreatedAt()),offset:n.getID().getOffset(),relativeOffset:n.getRelativeOffset()})}function af(n){return new za({parentId:au(n.getParentID()),leftSiblingId:au(n.getLeftSiblingID())})}function au(n){return new Hs({createdAt:xt(n.getCreatedAt()),offset:n.getOffset()})}function fS(n){const t=new my;if(n instanceof _a){const e=n,i=new Rf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.key=e.getKey(),i.value=sm(e.getValue()),i.executedAt=xt(e.getExecutedAt()),t.body.case="set",t.body.value=i}else if(n instanceof Ru){const e=n,i=new If;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.prevCreatedAt=xt(e.getPrevCreatedAt()),i.value=sm(e.getValue()),i.executedAt=xt(e.getExecutedAt()),t.body.case="add",t.body.value=i}else if(n instanceof qs){const e=n,i=new Bf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.prevCreatedAt=xt(e.getPrevCreatedAt()),i.createdAt=xt(e.getCreatedAt()),i.executedAt=xt(e.getExecutedAt()),t.body.case="move",t.body.value=i}else if(n instanceof Fs){const e=n,i=new zf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.createdAt=xt(e.getCreatedAt()),i.executedAt=xt(e.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(n instanceof Iu){const e=n,i=new Lf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.from=sf(e.getFromPos()),i.to=sf(e.getToPos());const a=i.createdAtMapByActor;for(const[c,d]of e.getMaxCreatedAtMapByActor())a[c]=xt(d);i.content=e.getContent();const u=i.attributes;for(const[c,d]of e.getAttributes())u[c]=d;i.executedAt=xt(e.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(n instanceof Bu){const e=n,i=new _f;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.from=sf(e.getFromPos()),i.to=sf(e.getToPos());const a=i.createdAtMapByActor;for(const[c,d]of e.getMaxCreatedAtMapByActor())a[c]=xt(d);const u=i.attributes;for(const[c,d]of e.getAttributes())u[c]=d;i.executedAt=xt(e.getExecutedAt()),t.body.case="style",t.body.value=i}else if(n instanceof Yo){const e=n,i=new Uf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.value=sm(e.getValue()),i.executedAt=xt(e.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(n instanceof zu){const e=n,i=new qf,a=i.createdAtMapByActor;for(const[u,c]of e.getMaxCreatedAtMapByActor())a[u]=xt(c);i.parentCreatedAt=xt(e.getParentCreatedAt()),i.from=af(e.getFromPos()),i.to=af(e.getToPos()),i.contents=C2(e.getContents()),i.splitLevel=e.getSplitLevel(),i.executedAt=xt(e.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(n instanceof Zi){const e=n,i=new Hf;i.parentCreatedAt=xt(e.getParentCreatedAt()),i.from=af(e.getFromPos()),i.to=af(e.getToPos());const a=i.createdAtMapByActor;for(const[c,d]of e.getMaxCreatedAtMapByActor())a[c]=xt(d);const u=e.getAttributesToRemove();if(u.length>0)i.attributesToRemove=u;else{const c=i.attributes;for(const[d,h]of e.getAttributes())c[d]=h}i.executedAt=xt(e.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new K(F.ErrUnimplemented,"unimplemented operation");return t}function S2(n){const t=[];for(const e of n)t.push(fS(e));return t}function x2(n){const t=new Yb({id:lS(n.getID()),message:n.getMessage()});return n.hasOperations()&&(t.operations=S2(n.getOperations())),n.hasPresenceChange()&&(t.presenceChange=v2(n.getPresenceChange())),t}function A2(n){const t=[];for(const e of n)t.push(x2(e));return t}function T2(n){const t=[];for(const e of n)t.push(new Gb({key:e.getStrKey(),element:xy(e.getValue())}));return t}function E2(n){const t=[];for(const e of n)t.push(new Yf({element:xy(e.getValue())}));return t}function N2(n){const t=[];for(const e of n){const i=new Gf;i.id=b2(e.getID()),i.value=e.getValue().getContent(),i.removedAt=xt(e.getRemovedAt());const a=i.attributes,u=e.getValue().getAttrs();for(const c of u){const d=new Jo;d.value=c.getValue(),d.updatedAt=xt(c.getUpdatedAt()),a[c.getKey()]=d}t.push(i)}return t}function C2(n){const t=[];if(!n||!n.length)return t;for(const e of n)t.push(new Xf({content:Sy(e)}));return t}function D2(n){const t={};for(const e of n)t[e.getKey()]=new Jo({value:e.getValue(),updatedAt:xt(e.getUpdatedAt()),isRemoved:e.isRemoved()});return t}function Sy(n){if(!n)return[];const t=[];return yd(n,(e,i)=>{const a=new du({id:au(e.id),type:e.type,removedAt:xt(e.removedAt),depth:i});e.isText&&(a.value=e.value),e.insPrevID&&(a.insPrevId=au(e.insPrevID)),e.insNextID&&(a.insNextId=au(e.insNextID)),e.attrs&&(a.attributes=D2(e.attrs)),t.push(a)}),t}function k2(n){const t=new We;return t.body.case="jsonObject",t.body.value=new Pf({nodes:T2(n.getRHT()),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function dS(n){const t=new We;return t.body.case="jsonArray",t.body.value=new Jf({nodes:E2(n.getElements()),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function O2(n){const t=new We;return t.body.case="primitive",t.body.value=new $f({type:uS(n.getType()),value:n.toBytes(),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function M2(n){const t=new We;return t.body.case="text",t.body.value=new Vf({nodes:N2(n.getRGATreeSplit()),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function R2(n){const t=new We;return t.body.case="counter",t.body.value=new jf({type:cS(n.getType()),value:n.toBytes(),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function hS(n){const t=new We;return t.body.case="tree",t.body.value=new Ff({nodes:Sy(n.getRoot()),createdAt:xt(n.getCreatedAt()),movedAt:xt(n.getMovedAt()),removedAt:xt(n.getRemovedAt())}),t}function xy(n){if(n instanceof Qe)return k2(n);if(n instanceof un)return dS(n);if(n instanceof ce)return O2(n);if(n instanceof zn)return M2(n);if(n instanceof cn)return R2(n);if(n instanceof Ln)return hS(n);throw new K(F.ErrUnimplemented,"unimplemented element")}function I2(n){return new ns({documentKey:n.getDocumentKey(),checkpoint:w2(n.getCheckpoint()),isRemoved:n.getIsRemoved(),changes:A2(n.getChanges()),snapshot:n.getSnapshot(),versionVector:by(n.getVersionVector()),minSyncedTicket:xt(n.getMinSyncedTicket())})}function tu(n){if(!(n instanceof Wt))return{};const t=n.findDetails(ZN);for(const e of t)return e.metadata;return{}}function Rs(n){return tu(n).code??""}function gS(n){return Vi.of(n.clientSeq,BigInt(n.lamport),Dy(n.actorId),Ay(n.versionVector),BigInt(n.serverSeq))}function Ay(n){if(!n)return;const t=new Lo;return Object.entries(n.vector).forEach(([e,i])=>{t.set(e,BigInt(i.toString()))}),t}function At(n){if(n)return Bn.of(BigInt(n.lamport),n.delimiter,Dy(n.actorId))}function Ty(n){const t={};return Object.entries(n.data).forEach(([e,i])=>{t[e]=JSON.parse(i)}),t}function B2(n){const t=n.type;if(t===La.PUT){const e=Ty(n.presence);return{type:js.Put,presence:e}}if(t===La.CLEAR)return{type:js.Clear};throw new K(F.ErrInvalidType,`unsupported type: ${t}`)}function z2(n){const t=new Map;return Object.entries(n).forEach(([e,i])=>{t.set(e,Ty(i))}),t}function mS(n){switch(n){case Rt.NULL:return Ae.Null;case Rt.BOOLEAN:return Ae.Boolean;case Rt.INTEGER:return Ae.Integer;case Rt.LONG:return Ae.Long;case Rt.DOUBLE:return Ae.Double;case Rt.STRING:return Ae.String;case Rt.BYTES:return Ae.Bytes;case Rt.DATE:return Ae.Date}throw new K(F.ErrUnimplemented,`unimplemented value type: ${n}`)}function Qf(n){switch(n){case Rt.INTEGER_CNT:return Sr.IntegerCnt;case Rt.LONG_CNT:return Sr.LongCnt}throw new K(F.ErrUnimplemented,`unimplemented value type: ${n}`)}function am(n){switch(n.type){case Rt.JSON_OBJECT:return n.value?xS(n.value):Qe.create(At(n.createdAt));case Rt.JSON_ARRAY:return n.value?X2(n.value):un.create(At(n.createdAt));case Rt.TEXT:return zn.create(Fo.create(),At(n.createdAt));case Rt.TREE:return Z2(n.value);case Rt.NULL:case Rt.BOOLEAN:case Rt.INTEGER:case Rt.LONG:case Rt.DOUBLE:case Rt.STRING:case Rt.BYTES:case Rt.DATE:return ce.of(ce.valueFromBytes(mS(n.type),n.value),At(n.createdAt));case Rt.INTEGER_CNT:case Rt.LONG_CNT:return cn.create(Qf(n.type),cn.valueFromBytes(Qf(n.type),n.value),At(n.createdAt))}}function of(n){return Kn.of(wr.of(At(n.createdAt),n.offset),n.relativeOffset)}function yS(n){return wr.of(At(n.createdAt),n.offset)}function L2(n){const t=pu.create(n.value);Object.entries(n.attributes).forEach(([i,a])=>{t.setAttr(i,a.value,At(a.updatedAt))});const e=Js.create(yS(n.id),t);return e.remove(At(n.removedAt)),e}function ko(n){return Yn.of(ou(n.parentId),ou(n.leftSiblingId))}function ou(n){return Ie.of(At(n.createdAt),n.offset)}function _2(n){if(!n.length)return;const t=[];return n.forEach(e=>{const i=Ey(e.content);t.push(i)}),t}function Ey(n){if(n.length===0)return;const t=[];for(const a of n)t.push(q2(a));const e=t[t.length-1],i=new Map;i.set(n[t.length-1].depth,t[t.length-1]);for(let a=t.length-2;a>=0;a--)i.get(n[a].depth-1).prepend(t[a]),i.set(n[a].depth,t[a]);return e.updateDescendantsSize(),Ln.create(e,Xn).getRoot()}function U2(n){const t=ts.create();for(const[e,i]of Object.entries(n))t.setInternal(e,i.value,At(i.updatedAt),i.isRemoved);return t}function q2(n){const t=ou(n.id),e=ln.create(t,n.type),i=Object.entries(n.attributes);return e.isText?e.value=n.value:i.length&&(e.attrs=U2(n.attributes)),n.insPrevId&&(e.insPrevID=ou(n.insPrevId)),n.insNextId&&(e.insNextID=ou(n.insNextId)),e.removedAt=At(n.removedAt),e}function pS(n){if(n.body.case==="set"){const t=n.body.value;return _a.create(t.key,am(t.value),At(t.parentCreatedAt),At(t.executedAt))}else if(n.body.case==="add"){const t=n.body.value;return Ru.create(At(t.parentCreatedAt),At(t.prevCreatedAt),am(t.value),At(t.executedAt))}else if(n.body.case==="move"){const t=n.body.value;return qs.create(At(t.parentCreatedAt),At(t.prevCreatedAt),At(t.createdAt),At(t.executedAt))}else if(n.body.case==="remove"){const t=n.body.value;return Fs.create(At(t.parentCreatedAt),At(t.createdAt),At(t.executedAt))}else if(n.body.case==="edit"){const t=n.body.value,e=new Map;Object.entries(t.createdAtMapByActor).forEach(([a,u])=>{e.set(a,At(u))});const i=new Map;return Object.entries(t.attributes).forEach(([a,u])=>{i.set(a,u)}),Iu.create(At(t.parentCreatedAt),of(t.from),of(t.to),e,t.content,i,At(t.executedAt))}else if(n.body.case==="style"){const t=n.body.value,e=new Map;Object.entries(t.createdAtMapByActor).forEach(([a,u])=>{e.set(a,At(u))});const i=new Map;return Object.entries(t.attributes).forEach(([a,u])=>{i.set(a,u)}),Bu.create(At(t.parentCreatedAt),of(t.from),of(t.to),e,i,At(t.executedAt))}else{if(n.body.case==="select")return;if(n.body.case==="increase"){const t=n.body.value;return Yo.create(At(t.parentCreatedAt),am(t.value),At(t.executedAt))}else if(n.body.case==="treeEdit"){const t=n.body.value,e=new Map;return Object.entries(t.createdAtMapByActor).forEach(([i,a])=>{e.set(i,At(a))}),zu.create(At(t.parentCreatedAt),ko(t.from),ko(t.to),_2(t.contents),t.splitLevel,e,At(t.executedAt))}else if(n.body.case==="treeStyle"){const t=n.body.value,e=new Map,i=t.attributesToRemove,a=new Map;return t!=null&&t.createdAtMapByActor&&Object.entries(t.createdAtMapByActor).forEach(([u,c])=>{a.set(u,At(c))}),(i==null?void 0:i.length)>0?Zi.createTreeRemoveStyleOperation(At(t.parentCreatedAt),ko(t.from),ko(t.to),a,i,At(t.executedAt)):(Object.entries(t.attributes).forEach(([u,c])=>{e.set(u,c)}),Zi.create(At(t.parentCreatedAt),ko(t.from),ko(t.to),a,e,At(t.executedAt)))}else throw new K(F.ErrUnimplemented,"unimplemented operation")}}function H2(n){const t=[];for(const e of n){const i=pS(e);i&&t.push(i)}return t}function vS(n){const t=[];for(const e of n)t.push(jo.create({id:gS(e.id),operations:H2(e.operations),presenceChange:e.presenceChange?B2(e.presenceChange):void 0,message:e.message}));return t}function P2(n){return _o.of(BigInt(n.serverSeq),n.clientSeq)}function J2(n){return pd.create(n.documentKey,P2(n.checkpoint),n.isRemoved,vS(n.changes),Ay(n.versionVector),n.snapshot,At(n.minSyncedTicket))}function wS(n){const t=new gu;for(const i of n.nodes){const a=Ny(i.element);t.set(i.key,a,a.getPositionedAt())}const e=new Qe(At(n.createdAt),t);return e.setMovedAt(At(n.movedAt)),e.setRemovedAt(At(n.removedAt)),e}function bS(n){const t=new yu;for(const i of n.nodes)t.insert(Ny(i.element));const e=new un(At(n.createdAt),t);return e.setMovedAt(At(n.movedAt)),e.setRemovedAt(At(n.removedAt)),e}function $2(n){const t=ce.of(ce.valueFromBytes(mS(n.type),n.value),At(n.createdAt));return t.setMovedAt(At(n.movedAt)),t.setRemovedAt(At(n.removedAt)),t}function V2(n){const t=new Fo;let e=t.getHead();for(const a of n.nodes){const u=t.insertAfter(e,L2(a));a.insPrevId&&u.setInsPrev(t.findNode(yS(a.insPrevId))),e=u}const i=new zn(t,At(n.createdAt));return i.setMovedAt(At(n.movedAt)),i.setRemovedAt(At(n.removedAt)),i}function j2(n){const t=cn.create(Qf(n.type),cn.valueFromBytes(Qf(n.type),n.value),At(n.createdAt));return t.setMovedAt(At(n.movedAt)),t.setRemovedAt(At(n.removedAt)),t}function SS(n){const t=Ey(n.nodes);return Ln.create(t,At(n.createdAt))}function Ny(n){if(n.body.case==="jsonObject")return wS(n.body.value);if(n.body.case==="jsonArray")return bS(n.body.value);if(n.body.case==="primitive")return $2(n.body.value);if(n.body.case==="text")return V2(n.body.value);if(n.body.case==="counter")return j2(n.body.value);if(n.body.case==="tree")return SS(n.body.value);throw new K(F.ErrUnimplemented,"unimplemented element")}function F2(n){if(!n)return{root:Qe.create(Xn),presences:new Map};const t=Am.fromBinary(n);return{root:Ny(t.root),presences:z2(t.presences)}}function Y2(n){const t=by(n);return Cy(t.toBinary())}function G2(n){const t=ky(n),e=gd.fromBinary(t);return Ay(e)}function xS(n){if(!n)throw new K(F.ErrInvalidArgument,"bytes is empty");const t=We.fromBinary(n);return wS(t.body.value)}function AS(n){return xy(n).toBinary()}function X2(n){if(!n)throw new K(F.ErrInvalidArgument,"bytes is empty");const t=We.fromBinary(n);return bS(t.body.value)}function K2(n){return dS(n).toBinary()}function Z2(n){if(!n)throw new K(F.ErrInvalidArgument,"bytes is empty");const t=We.fromBinary(n);return SS(t.body.value)}function Q2(n){return hS(n).toBinary()}function Cy(n){return n?Array.from(n).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Dy(n){return Cy(n)}function ky(n){return new Uint8Array(n.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Oy(n){return ky(n)}function W2(n){const t=hd.fromBinary(n);return gS(t)}function tC(n){const t=my.fromBinary(n);return pS(t)}const he={fromPresence:Ty,toChangePack:I2,fromChangePack:J2,fromChanges:vS,toTreeNodes:Sy,fromTreeNodes:Ey,objectToBytes:AS,bytesToObject:xS,bytesToSnapshot:F2,bytesToHex:Cy,hexToBytes:ky,toHexString:Dy,toUint8Array:Oy,toOperation:fS,toChangeID:lS,PbChangeID:hd,bytesToChangeID:W2,bytesToOperation:tC,versionVectorToHex:Y2,hexToVersionVector:G2};var Xe=(n=>(n[n.Trivial=0]="Trivial",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warn=3]="Warn",n[n.Error=4]="Error",n[n.Fatal=5]="Fatal",n))(Xe||{});let Ea=3;function eC(n){Ea=n}const Nt={trivial:(...n)=>{Ea>0||typeof console<"u"&&console.log("YORKIE T:",...n)},debug:(...n)=>{Ea>1||typeof console<"u"&&console.log("YORKIE D:",...n)},info:(...n)=>{Ea>2||typeof console<"u"&&console.log("YORKIE I:",...n)},warn:(...n)=>{Ea>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...n):console.log("YORKIE W:",...n))},error:(...n)=>{Ea>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...n):console.log("YORKIE E:",...n))},fatal:(...n)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...n):console.log("YORKIE F:",...n))},isEnabled:n=>Ea<=n};function TS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)})}class nC{constructor(t,e,i,a,u){v(this,"reconnectStreamDelay");v(this,"doc");v(this,"docID");v(this,"syncMode");v(this,"remoteChangeEventReceived");v(this,"watchStream");v(this,"watchLoopTimerID");v(this,"watchAbortController");v(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=e,this.docID=i,this.syncMode=a,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=u}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Ef.RealtimeSyncOff?!1:this.syncMode===Ef.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Ef.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const om=()=>{};class rC{constructor(t){v(this,"finalized",!1);v(this,"observers",[]);v(this,"finalError");try{t(this)}catch(e){this.error(e)}}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(!t)throw new K(F.ErrInvalidArgument,"missing observer");if(this.finalized)throw new K(F.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=om),a.error===void 0&&(a.error=om),a.complete===void 0&&(a.complete=om);const u=TS(),c=this.unsubscribeOne.bind(this,u);if(this.observers.push({subscriptionID:u,observer:a}),this.finalized)try{this.finalError?a.error(this.finalError):a.complete()}catch(d){Nt.warn(d)}return c}unsubscribeOne(t){var e;this.observers=(e=this.observers)==null?void 0:e.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t].observer)}catch(i){Nt.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function iC(n){const t=new rC(n);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class Ro{constructor(t,e,i,a){v(this,"id");v(this,"delimiter");v(this,"message");v(this,"root");v(this,"operations");v(this,"presenceChange");v(this,"previousPresence");v(this,"reversePresenceKeys");this.id=t,this.delimiter=Zb,this.root=e,this.operations=[],this.previousPresence=$n(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=a}static create(t,e,i,a){return new Ro(t,e,i,a)}push(t){this.operations.push(t)}registerElement(t,e){this.root.registerElement(t,e)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getChange(){return jo.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,e){for(const i of Object.keys(t))e!=null&&e.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const e of this.reversePresenceKeys)t[e]=this.previousPresence[e];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class vu{constructor(t){v(this,"rootObject");v(this,"elementPairMapByCreatedAt");v(this,"gcElementSetByCreatedAt");v(this,"gcPairMap");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(t,void 0),t.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof zn||e instanceof Ln)for(const i of e.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new vu(Qe.create(Xn))}findByCreatedAt(t){const e=this.elementPairMapByCreatedAt.get(t.toIDString());if(e)return e.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let e=this.elementPairMapByCreatedAt.get(t.toIDString());if(!e)return[];const i=[];for(;e.parent;){const a=e.element.getCreatedAt(),u=e.parent.subPathOf(a);if(u===void 0)throw new K(F.ErrInvalidArgument,`cant find the given element: ${a.toIDString()}`);i.unshift(u),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,e){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:e,element:t}),t instanceof Ps&&t.getDescendants((i,a)=>(this.registerElement(i,a),!1))}deregisterElement(t){let e=0;const i=a=>{const u=a.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(u),this.gcElementSetByCreatedAt.delete(u),e++};return i(t),t instanceof Ps&&t.getDescendants(a=>(i(a),!1)),e}registerRemovedElement(t){this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const e of this.gcElementSetByCreatedAt){t.add(e);const i=this.elementPairMapByCreatedAt.get(e);i.element instanceof Ps&&i.element.getDescendants(a=>(t.add(a.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new vu(this.rootObject.deepcopy())}garbageCollect(t){let e=0;for(const i of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(i),u=a.element.getRemovedAt();u&&(t!=null&&t.afterOrEqual(u))&&(a.parent.purge(a.element),e+=this.deregisterElement(a.element))}for(const[,i]of this.gcPairMap){const a=i.child.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function ES(n,t){const e=new wu(n);return new Proxy(t,e.getHandlers())}class wu{constructor(t){v(this,"context");v(this,"handlers");this.context=t,this.handlers={set:(e,i,a)=>(Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`obj[${i}]=${JSON.stringify(a)}`),wu.setInternal(t,e,i,a),!0),get:(e,i)=>(Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`obj[${i}]`),i==="getID"?()=>e.getCreatedAt():i==="toJSON"||i==="toString"?()=>e.toJSON():i==="toJS"?()=>e.toJS():i==="toJSForTest"?()=>e.toJSForTest():Na(t,e.get(i))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,i)=>(Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`obj[${i}]`),wu.deleteInternal(t,e,i),!0)}}static setInternal(t,e,i,a){if(i.includes("."))throw new K(F.ErrInvalidObjectKey,"key must not contain the '.'.");const u=t.issueTimeTicket(),c=Wf(t,a,u),d=e.set(i,c,u);t.registerElement(c,e),d&&t.registerRemovedElement(d),t.push(_a.create(i,c.deepcopy(),e.getCreatedAt(),u))}static buildObjectMembers(t,e){const i={};for(const[a,u]of Object.entries(e)){if(a.includes("."))throw new K(F.ErrInvalidObjectKey,"key must not contain the '.'.");const c=t.issueTimeTicket(),d=Wf(t,u,c);i[a]=d}return i}static deleteInternal(t,e,i){const a=t.issueTimeTicket(),u=e.deleteByKey(i,a);u&&(t.push(Fs.create(e.getCreatedAt(),u.getCreatedAt(),a)),t.registerRemovedElement(u))}getHandlers(){return this.handlers}}function sC(n,t){const e=new le(n,t);return new Proxy(t,e.getHandlers())}function aC(n){return typeof n=="string"||n instanceof String?!isNaN(n):!1}function oC(n){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(n)}class le{constructor(t,e){v(this,"context");v(this,"handlers");v(this,"array");this.context=t,this.array=e,this.handlers={get:(i,a,u)=>a==="getID"?()=>i.getCreatedAt():a==="getElementByID"?c=>{const d=i.getByID(c);if(!(!d||d.isRemoved()))return zs(t,d)}:a==="getElementByIndex"?c=>{const d=i.get(c);return zs(t,d)}:a==="getLast"?()=>zs(t,i.getLast()):a==="deleteByID"?c=>{const d=le.deleteInternalByID(t,i,c);return zs(t,d)}:a==="insertAfter"?(c,d)=>{const h=le.insertAfterInternal(t,i,c,d);return zs(t,h)}:a==="insertBefore"?(c,d)=>{const h=le.insertBeforeInternal(t,i,c,d);return zs(t,h)}:a==="moveBefore"?(c,d)=>{le.moveBeforeInternal(t,i,c,d)}:a==="moveAfter"?(c,d)=>{le.moveAfterInternal(t,i,c,d)}:a==="moveFront"?c=>{le.moveFrontInternal(t,i,c)}:a==="moveLast"?c=>{le.moveLastInternal(t,i,c)}:aC(a)?Na(t,i.get(Number(a))):a==="push"?c=>le.pushInternal(t,i,c):a==="splice"?(c,d,...h)=>le.splice(t,i,c,d,...h):a==="length"?i.length:typeof a=="symbol"&&a===Symbol.iterator?le.iteratorInternal.bind(this,t,i):a==="includes"?(c,d)=>le.includes(t,i,c,d):a==="indexOf"?(c,d)=>le.indexOf(t,i,c,d):a==="lastIndexOf"?(c,d)=>le.lastIndexOf(t,i,c,d):a==="toJSForTest"?()=>i.toJSForTest():a==="toTestString"?()=>le.toTestString(i):typeof a=="string"&&oC(a)?(...c)=>{const d=Array.from(i).map(h=>Na(t,h));return Array.prototype[a].apply(d,c)}:Reflect.get(i,a,u),deleteProperty:(i,a)=>(Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`array[${a}]`),le.deleteInternalByIndex(t,i,Number.parseInt(a)),!0)}}static*iteratorInternal(t,e){for(const i of e)yield zs(t,i)}static buildArrayElements(t,e){const i=[];for(const a of e){const u=t.issueTimeTicket(),c=Wf(t,a,u);i.push(c)}return i}static pushInternal(t,e,i){return le.insertAfterInternal(t,e,e.getLastCreatedAt(),i),e.length}static moveBeforeInternal(t,e,i,a){const u=t.issueTimeTicket(),c=e.getPrevCreatedAt(i);e.moveAfter(c,a,u),t.push(qs.create(e.getCreatedAt(),c,a,u))}static moveAfterInternal(t,e,i,a){const u=t.issueTimeTicket();e.moveAfter(i,a,u),t.push(qs.create(e.getCreatedAt(),i,a,u))}static moveFrontInternal(t,e,i){const a=t.issueTimeTicket(),u=e.getHead();e.moveAfter(u.getCreatedAt(),i,a),t.push(qs.create(e.getCreatedAt(),u.getCreatedAt(),i,a))}static moveLastInternal(t,e,i){const a=t.issueTimeTicket(),u=e.getLastCreatedAt();e.moveAfter(u,i,a),t.push(qs.create(e.getCreatedAt(),u,i,a))}static insertAfterInternal(t,e,i,a){const u=t.issueTimeTicket(),c=Wf(t,a,u);return e.insertAfter(i,c),t.registerElement(c,e),t.push(Ru.create(e.getCreatedAt(),i,c.deepcopy(),u)),c}static insertBeforeInternal(t,e,i,a){return le.insertAfterInternal(t,e,e.getPrevCreatedAt(i),a)}static deleteInternalByIndex(t,e,i){const a=t.issueTimeTicket(),u=e.deleteByIndex(i,a);if(u)return t.push(Fs.create(e.getCreatedAt(),u.getCreatedAt(),a)),t.registerRemovedElement(u),u}static deleteInternalByID(t,e,i){const a=t.issueTimeTicket(),u=e.delete(i,a);return t.push(Fs.create(e.getCreatedAt(),u.getCreatedAt(),a)),t.registerRemovedElement(u),u}static splice(t,e,i,a,...u){const c=e.length,d=i>=0?Math.min(i,c):Math.max(c+i,0),h=a===void 0?c:a<0?d:Math.min(d+a,c),g=[];for(let y=d;y<h;y++){const p=le.deleteInternalByIndex(t,e,d);if(p){const w=p.deepcopy();w.setRemovedAt(),g.push(Na(t,w))}}if(u){let y=d===0?e.getHead().getID():e.get(d-1).getID();for(const p of u)y=le.insertAfterInternal(t,e,y,p).getID()}return g}static includes(t,e,i,a){var d;const u=e.length,c=a===void 0?0:a<0?Math.max(a+u,0):a;if(c>=u)return!1;if(ce.isSupport(i))return Array.from(e).map(g=>Na(t,g)).includes(i,c);for(let h=c;h<u;h++)if(((d=e.get(h))==null?void 0:d.getID())===i.getID())return!0;return!1}static indexOf(t,e,i,a){var d;const u=e.length,c=a===void 0?0:a<0?Math.max(a+u,0):a;if(c>=u)return-1;if(ce.isSupport(i))return Array.from(e).map(g=>Na(t,g)).indexOf(i,c);for(let h=c;h<u;h++)if(((d=e.get(h))==null?void 0:d.getID())===i.getID())return h;return-1}static lastIndexOf(t,e,i,a){var d;const u=e.length,c=a===void 0||a>=u?u-1:a<0?a+u:a;if(c<0)return-1;if(ce.isSupport(i))return Array.from(e).map(g=>Na(t,g)).lastIndexOf(i,c);for(let h=c;h>0;h--)if(((d=e.get(h))==null?void 0:d.getID())===i.getID())return h;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class My{constructor(t,e){v(this,"context");v(this,"text");this.context=t,this.text=e}initialize(t,e){this.context=t,this.text=e}getID(){return this.text.getID()}edit(t,e,i,a){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const u=this.text.indexRangeToPosRange(t,e);Nt.isEnabled(Xe.Debug)&&Nt.debug(`EDIT: f:${t}->${u[0].toTestString()}, t:${e}->${u[1].toTestString()} c:${i}`);const c=a?$o(a):void 0,d=this.context.issueTimeTicket(),[h,,g,y]=this.text.edit(u,i,d,c);for(const p of g)this.context.registerGCPair(p);return this.context.push(new Iu(this.text.getCreatedAt(),u[0],u[1],h,i,c?new Map(Object.entries(c)):new Map,d)),this.text.findIndexesFromRange(y)}delete(t,e){return this.edit(t,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,e,i){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,e);Nt.isEnabled(Xe.Debug)&&Nt.debug(`STYL: f:${t}->${a[0].toTestString()}, t:${e}->${a[1].toTestString()} a:${JSON.stringify(i)}`);const u=$o(i),c=this.context.issueTimeTicket(),[d,h]=this.text.setStyle(a,u,c);for(const g of h)this.context.registerGCPair(g);return this.context.push(new Bu(this.text.getCreatedAt(),a[0],a[1],d,new Map(Object.entries(u)),c)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(t[0],t[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Kn.fromStruct(t[0]),Kn.fromStruct(t[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,e){if(!this.context||!this.text)throw new K(F.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,e)}}class Ry{constructor(t,e){v(this,"valueType");v(this,"value");v(this,"context");v(this,"counter");this.valueType=t,this.value=e}initialize(t,e){this.valueType=e.getValueType(),this.context=t,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new K(F.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),i=ce.of(t,e);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(Yo.create(this.counter.getCreatedAt(),i,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new K(F.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Iy(n,t,e){const{type:i}=n,a=e.issueTimeTicket();if(i===Ki){NS(n);const{value:u}=n,c=ln.create(Ie.of(a,0),i,u);t.append(c)}else{const{children:u=[]}=n,{attributes:c}=n;let d;if(typeof c=="object"&&!Kb(c)){const g=$o(c);d=new ts;for(const[y,p]of Object.entries(g))d.set(y,p,a)}const h=ln.create(Ie.of(a,0),i,void 0,d);t.append(h);for(const g of u)Iy(g,h,e)}}function lC(n,t){const{type:e}=t,i=n.issueTimeTicket();let a;if(t.type===Ki){const{value:u}=t;a=ln.create(Ie.of(i,0),e,u)}else if(t){const{children:u=[]}=t,{attributes:c}=t;let d;if(typeof c=="object"&&!Kb(c)){const h=$o(c);d=new ts;for(const[g,y]of Object.entries(h))d.set(g,y,i)}a=ln.create(Ie.of(n.issueTimeTicket(),0),e,void 0,d);for(const h of u)Iy(h,a,n)}return a}function NS(n){if(!n.value.length)throw new K(F.ErrInvalidArgument,"text node cannot have empty value");return!0}function l1(n){if(!n.length)return!0;if(n[0].type===Ki)for(const e of n){const{type:i}=e;if(i!==Ki)throw new K(F.ErrInvalidArgument,"element node and text node cannot be passed together");NS(e)}else for(const e of n){const{type:i}=e;if(i===Ki)throw new K(F.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class By{constructor(t){v(this,"initialRoot");v(this,"context");v(this,"tree");this.initialRoot=t}initialize(t,e){this.context=t,this.tree=e}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return ln.create(Ie.of(t.issueTimeTicket(),0),s2);const e=ln.create(Ie.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Iy(i,e,t);return e}getSize(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,e){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new K(F.ErrInvalidArgument,"path should not be empty");const[i,a]=this.tree.pathToPosRange(t),u=this.context.issueTimeTicket(),c=e?$o(e):void 0,[d]=this.tree.style([i,a],c,u);this.context.push(Zi.create(this.tree.getCreatedAt(),i,a,d,c?new Map(Object.entries(c)):new Map,u))}style(t,e,i){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),u=this.tree.findPos(e),c=this.context.issueTimeTicket(),d=i?$o(i):void 0,[h,g]=this.tree.style([a,u],d,c);for(const y of g)this.context.registerGCPair(y);this.context.push(Zi.create(this.tree.getCreatedAt(),a,u,h,d?new Map(Object.entries(d)):new Map,c))}removeStyle(t,e,i){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),u=this.tree.findPos(e),c=this.context.issueTimeTicket(),[d,h]=this.tree.removeStyle([a,u],i,c);for(const g of h)this.context.registerGCPair(g);this.context.push(Zi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),a,u,d,i,c))}editInternal(t,e,i,a=0){var g;if(i.length!==0&&i[0]&&(l1(i),i[0].type!==Ki))for(const y of i){const{children:p=[]}=y;l1(p)}const u=this.context.getLastTimeTicket();let c=new Array;if(((g=i[0])==null?void 0:g.type)===Ki){let y="";for(const p of i){const{value:w}=p;y+=w}c.push(ln.create(Ie.of(this.context.issueTimeTicket(),0),Ki,y))}else c=i.map(y=>y&&lC(this.context,y)).filter(y=>y);const[,d,h]=this.tree.edit([t,e],c.length?c.map(y=>y==null?void 0:y.deepcopy()):void 0,a,u,()=>this.context.issueTimeTicket());for(const y of d)this.context.registerGCPair(y);return this.context.push(zu.create(this.tree.getCreatedAt(),t,e,c.length?c:void 0,a,h,u)),!0}editByPath(t,e,i,a=0){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==e.length)throw new K(F.ErrInvalidArgument,"path length should be equal");if(!t.length||!e.length)throw new K(F.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(t),c=this.tree.pathToPos(e);return this.editInternal(u,c,i?[i]:[],a)}editBulkByPath(t,e,i,a=0){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==e.length)throw new K(F.ErrInvalidArgument,"path length should be equal");if(!t.length||!e.length)throw new K(F.ErrInvalidArgument,"path should not be empty");const u=this.tree.pathToPos(t),c=this.tree.pathToPos(e);return this.editInternal(u,c,i,a)}edit(t,e,i,a=0){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(t),c=this.tree.findPos(e);return this.editInternal(u,c,i?[i]:[],a)}editBulk(t,e,i,a=0){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new K(F.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(t),c=this.tree.findPos(e);return this.editInternal(u,c,i,a)}toXML(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(e);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");const e=[Yn.fromStruct(t[0]),Yn.fromStruct(t[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new K(F.ErrNotInitialized,"Tree is not initialized yet");const e=[Yn.fromStruct(t[0]),Yn.fromStruct(t[1])];return this.tree.posRangeToPathRange(e)}}function u1(n,t){return ES(n,t)}function zs(n,t){if(t){if(t instanceof ce)return t;if(t instanceof Qe)return ES(n,t);if(t instanceof un)return sC(n,t);if(t instanceof zn)return new My(n,t);if(t instanceof cn){const e=new Ry(Sr.IntegerCnt,0);return e.initialize(n,t),e}else if(t instanceof Ln){const e=new By;return e.initialize(n,t),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Na(n,t){const e=zs(n,t);return e instanceof ce?e.getValue():e}function Wf(n,t,e){let i;if(ce.isSupport(t))i=ce.of(t,e);else if(Array.isArray(t))i=un.create(e,le.buildArrayElements(n,t));else if(typeof t=="object")t instanceof My?(i=zn.create(Fo.create(),e),t.initialize(n,i)):t instanceof Ry?(i=cn.create(t.getValueType(),t.getValue(),e),t.initialize(n,i)):t instanceof By?(i=Ln.create(t.buildRoot(n),e),t.initialize(n,i)):i=Qe.create(e,wu.buildObjectMembers(n,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}const c1=50;class uC{constructor(){v(this,"undoStack",[]);v(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=c1&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=c1&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const cC="yorkie-devtools-panel",fC="yorkie-devtools-sdk";function dC(n){return[Re.StatusChanged,Re.Snapshot,Re.LocalChange,Re.RemoteChange,Re.Initialized,Re.Watched,Re.Unwatched,Re.PresenceChanged].includes(n.type)}function hC(n){return n.every(dC)}let Oo="disconnected";const f1=new Map,Tf=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Tf);function lf(n,t){(t!=null&&t.force||Oo!=="disconnected")&&window.postMessage({source:fC,...n},"*")}function gC(n){if(!n.isEnableDevtools()||typeof window>"u"||f1.has(n.getKey()))return;Tf.set(n.getKey(),[]);const t=n.subscribe("all",e=>{hC(e)&&(Tf.get(n.getKey()).push(e),Oo==="synced"&&lf({msg:"doc::sync::partial",docKey:n.getKey(),event:e}))});f1.set(n.getKey(),[t]),lf({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var a;if(((a=e.data)==null?void 0:a.source)!==cC)return;switch(e.data.msg){case"devtools::connect":if(Oo!=="disconnected")break;Oo="connected",lf({msg:"doc::available",docKey:n.getKey()}),Nt.info(`[YD] Devtools connected. Doc: ${n.getKey()}`);break;case"devtools::disconnect":Oo="disconnected",Nt.info(`[YD] Devtools disconnected. Doc: ${n.getKey()}`);break;case"devtools::subscribe":Oo="synced",lf({msg:"doc::sync::full",docKey:n.getKey(),events:Tf.get(n.getKey())}),Nt.info(`[YD] Devtools subscribed. Doc: ${n.getKey()}`);break}})}var Ls=(n=>(n.Detached="detached",n.Attached="attached",n.Removed="removed",n))(Ls||{}),Re=(n=>(n.StatusChanged="status-changed",n.ConnectionChanged="connection-changed",n.SyncStatusChanged="sync-status-changed",n.Snapshot="snapshot",n.LocalChange="local-change",n.RemoteChange="remote-change",n.Initialized="initialized",n.Watched="watched",n.Unwatched="unwatched",n.PresenceChanged="presence-changed",n.Broadcast="broadcast",n.LocalBroadcast="local-broadcast",n.AuthError="auth-error",n))(Re||{}),td=(n=>(n.Connected="connected",n.Disconnected="disconnected",n))(td||{}),Xm=(n=>(n.Synced="synced",n.SyncFailed="sync-failed",n))(Xm||{});class CS{constructor(t,e){v(this,"key");v(this,"status");v(this,"opts");v(this,"changeID");v(this,"checkpoint");v(this,"localChanges");v(this,"root");v(this,"clone");v(this,"eventStream");v(this,"eventStreamObserver");v(this,"onlineClients");v(this,"presences");v(this,"history");v(this,"internalHistory");v(this,"isUpdating");this.opts=e||{},this.key=t,this.status="detached",this.root=vu.create(),this.changeID=g2,this.checkpoint=m2,this.localChanges=[],this.eventStream=iC(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new uC,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},gC(this)}update(t,e){if(this.getStatus()==="removed")throw new K(F.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),a=Ro.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},e);try{const u=u1(a,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(u,new im(a,this.clone.presences.get(i)))}catch(u){throw this.clone=void 0,u}finally{this.isUpdating=!1}if(a.hasChange()){Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`trying to update a local change: ${this.toJSON()}`);const u=a.getChange(),{opInfos:c,reverseOps:d}=u.execute(this.root,this.presences,Kt.Local),h=a.getReversePresence();h&&d.push({type:"presence",value:h}),this.localChanges.push(u),d.length>0&&this.internalHistory.pushUndo(d),c.length>0&&this.internalHistory.clearRedo(),this.changeID=u.getID();const g=[];c.length>0&&g.push({type:"local-change",source:Kt.Local,value:{message:u.getMessage()||"",operations:c,actor:i,clientSeq:u.getID().getClientSeq(),serverSeq:u.getID().getServerSeq()},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&g.push({type:"presence-changed",source:Kt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(g),Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,e,i,a){if(typeof t=="string"){if(typeof e!="function")throw new K(F.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type!=="initialized"&&g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||d(g)},i,a)}if(t==="my-presence"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type!=="initialized"&&g.type!=="presence-changed"||g.type==="presence-changed"&&g.value.clientID!==this.changeID.getActorID()||d(g)},i,a)}if(t==="others"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type!=="watched"&&g.type!=="unwatched"&&g.type!=="presence-changed"||g.value.clientID!==this.changeID.getActorID()&&d(g)},i,a)}if(t==="connection"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="connection-changed"&&d(g)},i,a)}if(t==="status"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="status-changed"&&d(g)},i,a)}if(t==="sync"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="sync-status-changed"&&d(g)},i,a)}if(t==="local-broadcast"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="local-broadcast"&&d(g)},i)}if(t==="broadcast"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="broadcast"&&d(g)},i)}if(t==="auth-error"){const d=e;return this.eventStream.subscribe(h=>{for(const g of h)g.type==="auth-error"&&d(g)},i)}if(t==="all"){const d=e;return this.eventStream.subscribe(d,i,a)}const u=t,c=e;return this.eventStream.subscribe(d=>{for(const h of d){if(h.type!=="local-change"&&h.type!=="remote-change")continue;const g=[];for(const y of h.value.operations)this.isSameElementOrChildOf(y.path,u)&&g.push(y);g.length&&c({...h,value:{...h.value,operations:g}})}},i,a)}if(typeof t=="function"){const u=t,c=e,d=i;return this.eventStream.subscribe(h=>{for(const g of h)g.type!=="snapshot"&&g.type!=="local-change"&&g.type!=="remote-change"||u(g)},c,d)}throw new K(F.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,e){if(e===t)return!0;const i=t.split(".");return e.split(".").every((u,c)=>u===i[c])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const e=t.hasSnapshot();e?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),Kt.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),e||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),Nt.isEnabled(Xe.Trivial)&&Nt.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:$n(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(t.length);return pd.create(this.key,e,!1,t,this.getVersionVector())}setActor(t){for(const e of this.localChanges)e.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=Ro.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return u1(t,this.clone.root.getObject())}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,e,i,a=-1){const{root:u,presences:c}=he.bytesToSnapshot(i);this.root=new vu(u),this.presences=c,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(a),this.applyChanges(this.localChanges,Kt.Local),this.publish([{type:"snapshot",source:Kt.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?he.bytesToHex(i):void 0,snapshotVector:he.versionVectorToHex(e)}}])}applyChanges(t,e){Nt.isEnabled(Xe.Debug)&&Nt.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),Nt.isEnabled(Xe.Trivial)&&Nt.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,e);Nt.isEnabled(Xe.Debug)&&Nt.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,e){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,e);const i=[],a=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(a)){const c=t.getPresenceChange();switch(c.type){case js.Put:i.push(this.presences.has(a)?{type:"presence-changed",source:e,value:{clientID:a,presence:c.presence}}:{type:"watched",source:Kt.Remote,value:{clientID:a,presence:c.presence}});break;case js.Clear:i.push({type:"unwatched",source:Kt.Remote,value:{clientID:a,presence:this.getPresence(a)}}),this.removeOnlineClient(a);break}}const{opInfos:u}=t.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(t.getID()),u.length>0){const c=this.isEnableDevtools()?t.toStruct():void 0;i.push(e===Kt.Remote?{type:"remote-change",source:e,value:{actor:a,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:u},rawChange:c}:{type:"local-change",source:e,value:{actor:a,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:u},rawChange:c})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const e=t.body.value.clientIds,i=new Set;for(const a of e)a!==this.changeID.getActorID()&&i.add(a);this.setOnlineClients(i),this.publish([{type:"initialized",source:Kt.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:e,publisher:i}=t.body.value,a=[];if(e===Ra.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&a.push({type:"watched",source:Kt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(e===Ra.DOCUMENT_UNWATCHED){const u=this.getPresence(i);this.removeOnlineClient(i),u&&a.push({type:"unwatched",source:Kt.Remote,value:{clientID:i,presence:u}})}else if(e===Ra.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:u,payload:c}=t.body.value.body,d=new TextDecoder;a.push({type:"broadcast",value:{clientID:i,topic:u,payload:JSON.parse(d.decode(c))}})}a.length>0&&this.publish(a)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(md),this.publish([{source:t==="removed"?Kt.Remote:Kt.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:e,serverSeq:i,snapshotVector:a}=t.value;if(!e)return;this.applySnapshot(BigInt(i),he.hexToVersionVector(a),he.hexToBytes(e));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const e=jo.fromStruct(t.rawChange);this.applyChange(e,t.source)}if(t.type==="initialized"){const e=new Set;for(const{clientID:i,presence:a}of t.value)e.add(i),this.presences.set(i,a);this.setOnlineClients(e);return}if(t.type==="watched"){const{clientID:e,presence:i}=t.value;this.addOnlineClient(e),this.presences.set(e,i);return}if(t.type==="unwatched"){const{clientID:e}=t.value;this.removeOnlineClient(e),this.presences.delete(e)}if(t.type==="presence-changed"){const{clientID:e,presence:i}=t.value;this.presences.set(e,i)}}applyDocEventsForReplay(t){for(const e of t)this.applyDocEventForReplay(e)}getValueByPath(t){if(!t.startsWith("$"))throw new K(F.ErrInvalidArgument,'path must start with "$"');const e=t.split(".");e.shift();let i=this.getRoot();for(const a of e)if(i=i[a],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?$n(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const e=this.presences.get(t);return e?$n(e):void 0}getPresenceForTest(t){const e=this.presences.get(t);return e?$n(e):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:$n(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&t.push({clientID:e,presence:$n(this.presences.get(e))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==t).sort((e,i)=>e.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(t){const i=this.changeID.getVersionVector().filter(t);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new K(F.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new K(F.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=Ro.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of t){if(!(g instanceof Zn)){new im(e,$n(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const y=e.issueTimeTicket();g.setExecutedAt(y),e.push(g)}const i=e.getChange();i.execute(this.clone.root,this.clone.presences,Kt.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,Kt.UndoRedo),c=e.getReversePresence();if(c&&u.push({type:"presence",value:c}),u.length>0&&this.internalHistory.pushRedo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const d=this.changeID.getActorID(),h=[];a.length>0&&h.push({type:"local-change",source:Kt.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:d,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&h.push({type:"presence-changed",source:Kt.UndoRedo,value:{clientID:d,presence:this.getPresence(d)}}),this.publish(h)}redo(){if(this.isUpdating)throw new K(F.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new K(F.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=Ro.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of t){if(!(g instanceof Zn)){new im(e,$n(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const y=e.issueTimeTicket();g.setExecutedAt(y),e.push(g)}const i=e.getChange();i.execute(this.clone.root,this.clone.presences,Kt.UndoRedo);const{opInfos:a,reverseOps:u}=i.execute(this.root,this.presences,Kt.UndoRedo),c=e.getReversePresence();if(c&&u.push({type:"presence",value:c}),u.length>0&&this.internalHistory.pushUndo(u),!i.hasPresenceChange()&&a.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const d=this.changeID.getActorID(),h=[];a.length>0&&h.push({type:"local-change",source:Kt.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:d,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&h.push({type:"presence-changed",source:Kt.UndoRedo,value:{clientID:d,presence:this.getPresence(d)}}),this.publish(h)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,e,i){const a={type:"local-broadcast",value:{topic:t,payload:e},options:i};this.publish([a])}getVersionVector(){return this.changeID.getVersionVector()}}function mC(n,t){let e=t;return{authInterceptor:u=>async c=>(n&&c.header.set("x-api-key",n),e&&c.header.set("authorization",e),await u(c)),setToken:u=>{e=u}}}const yC="@yorkie-js/sdk",pC="0.6.5",d1={name:yC,version:pC};function vC(){return n=>async t=>(t.header.set("x-yorkie-user-agent",d1.name+"/"+d1.version),await n(t))}const wC=n=>{try{if(JSON.stringify(n)===void 0)return!1}catch{return!1}return!0};var Ef=(n=>(n.Manual="manual",n.Realtime="realtime",n.RealtimePushOnly="realtime-pushonly",n.RealtimeSyncOff="realtime-syncoff",n))(Ef||{});const uf={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},lm={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class DS{constructor(t,e){v(this,"id");v(this,"key");v(this,"metadata");v(this,"status");v(this,"attachmentMap");v(this,"apiKey");v(this,"authTokenInjector");v(this,"conditions");v(this,"syncLoopDuration");v(this,"reconnectStreamDelay");v(this,"retrySyncLoopDelay");v(this,"rpcClient");v(this,"setAuthToken");v(this,"taskQueue");v(this,"processing",!1);v(this,"keepalive",!1);e=e||uf,this.key=e.key?e.key:TS(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??uf.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??uf.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??uf.retrySyncLoopDelay;const{authInterceptor:i,setToken:a}=mC(this.apiKey);this.setAuthToken=a,this.rpcClient=CN(KN,XN({baseUrl:t,interceptors:[i,vC()],fetch:(u,c)=>{const d={...c,keepalive:this.keepalive};return fetch(u,d)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}}).then(t=>{this.id=t.clientId,this.status="activated",this.runSyncLoop(),Nt.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(async t=>{throw Nt.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}))}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),Nt.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw Nt.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=e();return this.keepalive=!1,i}return this.enqueueTask(e)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,e={}){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==Ls.Detached)throw new K(F.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((u,c)=>c.set(e.initialPresence||{}));const i=t.subscribe("local-broadcast",async u=>{var y;const{topic:c,payload:d}=u.value,h=(y=u.options)==null?void 0:y.error,g=u.options;try{await this.broadcast(t.getKey(),c,d,g)}catch(p){p instanceof Error&&(h==null||h(p))}}),a=e.syncMode??"realtime";return this.enqueueTask(async()=>this.rpcClient.attachDocument({clientId:this.id,changePack:he.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(async u=>{const c=he.fromChangePack(u.changePack);if(t.applyChangePack(c),t.getStatus()===Ls.Removed)return t;t.applyStatus(Ls.Attached),this.attachmentMap.set(t.getKey(),new nC(this.reconnectStreamDelay,t,u.documentId,a,i)),a!=="manual"&&await this.runWatchLoop(t.getKey()),Nt.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const d=t.getRootObject();if(e.initialRoot){const h=e.initialRoot;t.update(g=>{for(const[y,p]of Object.entries(h))if(!d.has(y)){const w=y;g[w]=p}})}return t}).catch(async u=>{throw Nt.error(`[AD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}))}detach(t,e={keepalive:!1}){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new K(F.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((u,c)=>c.clear());const a=async()=>await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:he.toChangePack(t.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(u=>{const c=he.fromChangePack(u.changePack);return t.applyChangePack(c),t.getStatus()!==Ls.Removed&&t.applyStatus(Ls.Detached),this.detachInternal(t.getKey()),Nt.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}).catch(async u=>{throw Nt.error(`[DD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u});if(e.keepalive){this.keepalive=!0;const u=a();return this.keepalive=!1,u}return this.enqueueTask(a)}async changeSyncMode(t,e){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new K(F.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const a=i.syncMode;return a===e?t:(i.changeSyncMode(e),e==="manual"?(i.cancelWatchStream(),t):(e==="realtime"&&(i.remoteChangeEventReceived=!0),a==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);if(t){const e=this.attachmentMap.get(t.getKey());if(!e)throw new K(F.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async i=>{throw Nt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const e=[];for(const[,i]of this.attachmentMap)e.push(this.syncInternal(i,i.syncMode));return Promise.all(e).catch(async i=>{throw Nt.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(t.getKey());if(!e)throw new K(F.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=he.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(a=>{const u=he.fromChangePack(a.changePack);t.applyChangePack(u),this.detachInternal(t.getKey()),Nt.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}).catch(async a=>{throw Nt.error(`[RD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,e,i,a){if(!this.isActive())throw new K(F.ErrClientNotActivated,`${this.key} is not active`);const u=this.attachmentMap.get(t);if(!u)throw new K(F.ErrDocumentNotAttached,`${t} is not attached`);if(!wC(i))throw new K(F.ErrInvalidArgument,"payload is not serializable");const c=(a==null?void 0:a.maxRetries)??lm.maxRetries,d=lm.maxBackoff;let h=0;const g=p=>Math.min(lm.initialRetryInterval*2**p,d),y=async()=>this.enqueueTask(async()=>this.rpcClient.broadcast({clientId:this.id,documentId:u.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}).then(()=>{Nt.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${e}"`)}).catch(async p=>{if(Nt.error(`[BC] c:"${this.getKey()}" err:`,p),await this.handleConnectError(p))if(p instanceof Wt&&Rs(p)===F.ErrUnauthenticated&&u.doc.publish([{type:Re.AuthError,value:{reason:tu(p).reason,method:"Broadcast"}}]),h<c)h++,setTimeout(()=>y(),g(h-1)),Nt.info(`[BC] c:"${this.getKey()}" retry attempt ${h}/${c}`);else throw Nt.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),p;else throw p}));return y()}runSyncLoop(){const t=()=>{if(!this.isActive()){Nt.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,e.push(this.syncInternal(i,i.syncMode).catch(async a=>{throw a instanceof Wt&&Rs(a)===F.ErrUnauthenticated&&i.doc.publish([{type:Re.AuthError,value:{reason:tu(a).reason,method:"PushPull"}}]),a})));Promise.all(e).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{Nt.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};Nt.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const e=this.attachmentMap.get(t);if(!e)throw new K(F.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new K(F.ErrClientNotActivated,`${this.key} is not active`));const a=new AbortController,u=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:a.signal});return e.doc.publish([{type:Re.ConnectionChanged,value:td.Connected}]),Nt.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((c,d)=>{(async()=>{try{for await(const g of u)this.handleWatchDocumentsResponse(e,g),g.body.case==="initialization"&&c([u,a])}catch(g){e.doc.resetOnlineClients(),e.doc.publish([{type:Re.Initialized,source:Kt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:Re.ConnectionChanged,value:td.Disconnected}]),Nt.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(g)?(g instanceof Wt&&Rs(g)===F.ErrUnauthenticated&&e.doc.publish([{type:Re.AuthError,value:{reason:tu(g).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,d(g)}})()})})}handleWatchDocumentsResponse(t,e){if(e.body.case==="event"&&e.body.value.type===Ra.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[t,e]of this.attachmentMap)this.detachInternal(t),e.doc.applyStatus(Ls.Detached)}detachInternal(t){const e=this.attachmentMap.get(t);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}syncInternal(t,e){const{doc:i,docID:a}=t,u=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:he.toChangePack(u),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(c=>{const d=he.fromChangePack(c.changePack);if(d.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(d),t.doc.publish([{type:Re.SyncStatusChanged,value:Xm.Synced}]),i.getStatus()===Ls.Removed&&this.detachInternal(i.getKey());const h=i.getKey(),g=d.getChangeSize();return Nt.info(`[PP] c:"${this.getKey()}" sync d:"${h}", push:${u.getChangeSize()} pull:${g} cp:${d.getCheckpoint().toTestString()}`),i}).catch(async c=>{throw i.publish([{type:Re.SyncStatusChanged,value:Xm.SyncFailed}]),Nt.error(`[PP] c:"${this.getKey()}" err :`,c),c})}async handleConnectError(t){if(!(t instanceof Wt))return!1;if(t.code===Ft.Canceled||t.code===Ft.Unknown||t.code===Ft.ResourceExhausted||t.code===Ft.Unavailable)return!0;if(Rs(t)===F.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(tu(t).reason);this.setAuthToken(e)}return!0}return Rs(t)===F.ErrTooManySubscribers?(Nt.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(Rs(t)===F.ErrTooManyAttachments||(Rs(t)===F.ErrClientNotActivated||Rs(t)===F.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((e,i)=>{this.taskQueue.push(()=>t().then(e).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{Nt.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Sr.IntegerCnt,Sr.LongCnt;typeof globalThis<"u"&&(globalThis.yorkie={Client:DS,Document:CS,Primitive:ce,Text:My,Counter:Ry,Tree:By,LogLevel:Xe,setLogLevel:eC,IntType:Sr.IntegerCnt,LongType:Sr.LongCnt});const kS=tt.createContext({client:void 0,loading:!0,error:void 0}),bC=({apiKey:n,rpcAddr:t="https://api.yorkie.dev",children:e})=>{const[i,a]=tt.useState(void 0),[u,c]=tt.useState(!0),[d,h]=tt.useState(void 0),g=tt.useRef(void 0);return tt.useEffect(()=>{c(!0),h(void 0);async function y(){var p;try{if((p=g.current)!=null&&p.isActive()){a(g.current),c(!1);return}const w=new DS(t,{apiKey:n});await w.activate(),g.current=w,a(w)}catch(w){h(w instanceof Error?w:new Error("Failed to activate client"))}finally{c(!1)}}return y(),()=>{var p;(p=g.current)!=null&&p.isActive()&&(g.current.deactivate({keepalive:!0}),g.current=void 0)}},[n,t]),Q.jsx(kS.Provider,{value:{client:i,loading:u,error:d},children:e})},SC=()=>{const n=tt.useContext(kS);if(!n)throw new Error("useYorkie must be used under YorkieProvider");return{client:n.client,loading:n.loading,error:n.error}},OS=tt.createContext(null),xC=({docKey:n,initialRoot:t={},initialPresence:e={},children:i})=>{const{client:a,loading:u,error:c}=SC(),[d,h]=tt.useState(void 0),[g,y]=tt.useState(!0),[p,w]=tt.useState(void 0),[b,x]=tt.useState(t),[E,R]=tt.useState([]),[D,B]=tt.useState(td.Disconnected);tt.useEffect(()=>{if(c){y(!1),w(c);return}if(!a||u){y(!0);return}y(!0),w(void 0);const k=new CS(n),z=[];z.push(k.subscribe(()=>{x(k.getRoot())})),z.push(k.subscribe("presence",()=>{R(k.getPresences())})),z.push(k.subscribe("connection",_=>{B(_.value)}));async function j(){try{await(a==null?void 0:a.attach(k,{initialRoot:t,initialPresence:e})),h(k),x(k.getRoot()),R(k.getPresences())}catch(_){w(_ instanceof Error?_:new Error("Failed to attach document"))}finally{y(!1)}}return j(),()=>{a&&a.hasDocument(n)&&a.detach(k);for(const _ of z)_()}},[a,u,c,n]);const C=tt.useCallback(k=>{if(d)try{d.update(k)}catch(z){w(z instanceof Error?z:new Error("Failed to update document"))}},[d]);return Q.jsx(OS.Provider,{value:{root:b,presences:E,connection:D,update:C,loading:g,error:p},children:i})},AC=()=>{const n=tt.useContext(OS);if(!n)throw new Error("useDocument must be used within a DocumentProvider");return{root:n.root,presences:n.presences,connection:n.connection,update:n.update,loading:n.loading,error:n.error}};function be(n){if(typeof n=="string"||typeof n=="number")return""+n;let t="";if(Array.isArray(n))for(let e=0,i;e<n.length;e++)(i=be(n[e]))!==""&&(t+=(t&&" ")+i);else for(let e in n)n[e]&&(t+=(t&&" ")+e);return t}var TC={value:()=>{}};function vd(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Nf(e)}function Nf(n){this._=n}function EC(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");if(a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}Nf.prototype=vd.prototype={constructor:Nf,on:function(n,t){var e=this._,i=EC(n+"",e),a,u=-1,c=i.length;if(arguments.length<2){for(;++u<c;)if((a=(n=i[u]).type)&&(a=NC(e[a],n.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(a=(n=i[u]).type)e[a]=h1(e[a],n.name,t);else if(t==null)for(a in e)e[a]=h1(e[a],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Nf(n)},call:function(n,t){if((a=arguments.length-2)>0)for(var e=new Array(a),i=0,a,u;i<a;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],i=0,a=u.length;i<a;++i)u[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],a=0,u=i.length;a<u;++a)i[a].value.apply(t,e)}};function NC(n,t){for(var e=0,i=n.length,a;e<i;++e)if((a=n[e]).name===t)return a.value}function h1(n,t,e){for(var i=0,a=n.length;i<a;++i)if(n[i].name===t){n[i]=TC,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var Km="http://www.w3.org/1999/xhtml";const g1={svg:"http://www.w3.org/2000/svg",xhtml:Km,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wd(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),g1.hasOwnProperty(t)?{space:g1[t],local:n}:n}function CC(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Km&&t.documentElement.namespaceURI===Km?t.createElement(n):t.createElementNS(e,n)}}function DC(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function MS(n){var t=wd(n);return(t.local?DC:CC)(t)}function kC(){}function zy(n){return n==null?kC:function(){return this.querySelector(n)}}function OC(n){typeof n!="function"&&(n=zy(n));for(var t=this._groups,e=t.length,i=new Array(e),a=0;a<e;++a)for(var u=t[a],c=u.length,d=i[a]=new Array(c),h,g,y=0;y<c;++y)(h=u[y])&&(g=n.call(h,h.__data__,y,u))&&("__data__"in h&&(g.__data__=h.__data__),d[y]=g);return new fn(i,this._parents)}function MC(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function RC(){return[]}function RS(n){return n==null?RC:function(){return this.querySelectorAll(n)}}function IC(n){return function(){return MC(n.apply(this,arguments))}}function BC(n){typeof n=="function"?n=IC(n):n=RS(n);for(var t=this._groups,e=t.length,i=[],a=[],u=0;u<e;++u)for(var c=t[u],d=c.length,h,g=0;g<d;++g)(h=c[g])&&(i.push(n.call(h,h.__data__,g,c)),a.push(h));return new fn(i,a)}function IS(n){return function(){return this.matches(n)}}function BS(n){return function(t){return t.matches(n)}}var zC=Array.prototype.find;function LC(n){return function(){return zC.call(this.children,n)}}function _C(){return this.firstElementChild}function UC(n){return this.select(n==null?_C:LC(typeof n=="function"?n:BS(n)))}var qC=Array.prototype.filter;function HC(){return Array.from(this.children)}function PC(n){return function(){return qC.call(this.children,n)}}function JC(n){return this.selectAll(n==null?HC:PC(typeof n=="function"?n:BS(n)))}function $C(n){typeof n!="function"&&(n=IS(n));for(var t=this._groups,e=t.length,i=new Array(e),a=0;a<e;++a)for(var u=t[a],c=u.length,d=i[a]=[],h,g=0;g<c;++g)(h=u[g])&&n.call(h,h.__data__,g,u)&&d.push(h);return new fn(i,this._parents)}function zS(n){return new Array(n.length)}function VC(){return new fn(this._enter||this._groups.map(zS),this._parents)}function ed(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}ed.prototype={constructor:ed,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function jC(n){return function(){return n}}function FC(n,t,e,i,a,u){for(var c=0,d,h=t.length,g=u.length;c<g;++c)(d=t[c])?(d.__data__=u[c],i[c]=d):e[c]=new ed(n,u[c]);for(;c<h;++c)(d=t[c])&&(a[c]=d)}function YC(n,t,e,i,a,u,c){var d,h,g=new Map,y=t.length,p=u.length,w=new Array(y),b;for(d=0;d<y;++d)(h=t[d])&&(w[d]=b=c.call(h,h.__data__,d,t)+"",g.has(b)?a[d]=h:g.set(b,h));for(d=0;d<p;++d)b=c.call(n,u[d],d,u)+"",(h=g.get(b))?(i[d]=h,h.__data__=u[d],g.delete(b)):e[d]=new ed(n,u[d]);for(d=0;d<y;++d)(h=t[d])&&g.get(w[d])===h&&(a[d]=h)}function GC(n){return n.__data__}function XC(n,t){if(!arguments.length)return Array.from(this,GC);var e=t?YC:FC,i=this._parents,a=this._groups;typeof n!="function"&&(n=jC(n));for(var u=a.length,c=new Array(u),d=new Array(u),h=new Array(u),g=0;g<u;++g){var y=i[g],p=a[g],w=p.length,b=KC(n.call(y,y&&y.__data__,g,i)),x=b.length,E=d[g]=new Array(x),R=c[g]=new Array(x),D=h[g]=new Array(w);e(y,p,E,R,D,b,t);for(var B=0,C=0,k,z;B<x;++B)if(k=E[B]){for(B>=C&&(C=B+1);!(z=R[C])&&++C<x;);k._next=z||null}}return c=new fn(c,i),c._enter=d,c._exit=h,c}function KC(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ZC(){return new fn(this._exit||this._groups.map(zS),this._parents)}function QC(n,t,e){var i=this.enter(),a=this,u=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(a=t(a),a&&(a=a.selection())),e==null?u.remove():e(u),i&&a?i.merge(a).order():a}function WC(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,a=e.length,u=i.length,c=Math.min(a,u),d=new Array(a),h=0;h<c;++h)for(var g=e[h],y=i[h],p=g.length,w=d[h]=new Array(p),b,x=0;x<p;++x)(b=g[x]||y[x])&&(w[x]=b);for(;h<a;++h)d[h]=e[h];return new fn(d,this._parents)}function tD(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],a=i.length-1,u=i[a],c;--a>=0;)(c=i[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function eD(n){n||(n=nD);function t(p,w){return p&&w?n(p.__data__,w.__data__):!p-!w}for(var e=this._groups,i=e.length,a=new Array(i),u=0;u<i;++u){for(var c=e[u],d=c.length,h=a[u]=new Array(d),g,y=0;y<d;++y)(g=c[y])&&(h[y]=g);h.sort(t)}return new fn(a,this._parents).order()}function nD(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function rD(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function iD(){return Array.from(this)}function sD(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],a=0,u=i.length;a<u;++a){var c=i[a];if(c)return c}return null}function aD(){let n=0;for(const t of this)++n;return n}function oD(){return!this.node()}function lD(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a=t[e],u=0,c=a.length,d;u<c;++u)(d=a[u])&&n.call(d,d.__data__,u,a);return this}function uD(n){return function(){this.removeAttribute(n)}}function cD(n){return function(){this.removeAttributeNS(n.space,n.local)}}function fD(n,t){return function(){this.setAttribute(n,t)}}function dD(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function hD(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function gD(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function mD(n,t){var e=wd(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?cD:uD:typeof t=="function"?e.local?gD:hD:e.local?dD:fD)(e,t))}function LS(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function yD(n){return function(){this.style.removeProperty(n)}}function pD(n,t,e){return function(){this.style.setProperty(n,t,e)}}function vD(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function wD(n,t,e){return arguments.length>1?this.each((t==null?yD:typeof t=="function"?vD:pD)(n,t,e??"")):Go(this.node(),n)}function Go(n,t){return n.style.getPropertyValue(t)||LS(n).getComputedStyle(n,null).getPropertyValue(t)}function bD(n){return function(){delete this[n]}}function SD(n,t){return function(){this[n]=t}}function xD(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function AD(n,t){return arguments.length>1?this.each((t==null?bD:typeof t=="function"?xD:SD)(n,t)):this.node()[n]}function _S(n){return n.trim().split(/^|\s+/)}function Ly(n){return n.classList||new US(n)}function US(n){this._node=n,this._names=_S(n.getAttribute("class")||"")}US.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function qS(n,t){for(var e=Ly(n),i=-1,a=t.length;++i<a;)e.add(t[i])}function HS(n,t){for(var e=Ly(n),i=-1,a=t.length;++i<a;)e.remove(t[i])}function TD(n){return function(){qS(this,n)}}function ED(n){return function(){HS(this,n)}}function ND(n,t){return function(){(t.apply(this,arguments)?qS:HS)(this,n)}}function CD(n,t){var e=_S(n+"");if(arguments.length<2){for(var i=Ly(this.node()),a=-1,u=e.length;++a<u;)if(!i.contains(e[a]))return!1;return!0}return this.each((typeof t=="function"?ND:t?TD:ED)(e,t))}function DD(){this.textContent=""}function kD(n){return function(){this.textContent=n}}function OD(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function MD(n){return arguments.length?this.each(n==null?DD:(typeof n=="function"?OD:kD)(n)):this.node().textContent}function RD(){this.innerHTML=""}function ID(n){return function(){this.innerHTML=n}}function BD(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function zD(n){return arguments.length?this.each(n==null?RD:(typeof n=="function"?BD:ID)(n)):this.node().innerHTML}function LD(){this.nextSibling&&this.parentNode.appendChild(this)}function _D(){return this.each(LD)}function UD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qD(){return this.each(UD)}function HD(n){var t=typeof n=="function"?n:MS(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function PD(){return null}function JD(n,t){var e=typeof n=="function"?n:MS(n),i=t==null?PD:typeof t=="function"?t:zy(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function $D(){var n=this.parentNode;n&&n.removeChild(this)}function VD(){return this.each($D)}function jD(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function FD(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function YD(n){return this.select(n?FD:jD)}function GD(n){return arguments.length?this.property("__data__",n):this.node().__data__}function XD(n){return function(t){n.call(this,t,this.__data__)}}function KD(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function ZD(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,a=t.length,u;e<a;++e)u=t[e],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++i]=u;++i?t.length=i:delete this.__on}}}function QD(n,t,e){return function(){var i=this.__on,a,u=XD(t);if(i){for(var c=0,d=i.length;c<d;++c)if((a=i[c]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=e),a.value=t;return}}this.addEventListener(n.type,u,e),a={type:n.type,name:n.name,value:t,listener:u,options:e},i?i.push(a):this.__on=[a]}}function WD(n,t,e){var i=KD(n+""),a,u=i.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,g=d.length,y;h<g;++h)for(a=0,y=d[h];a<u;++a)if((c=i[a]).type===y.type&&c.name===y.name)return y.value}return}for(d=t?QD:ZD,a=0;a<u;++a)this.each(d(i[a],t,e));return this}function PS(n,t,e){var i=LS(n),a=i.CustomEvent;typeof a=="function"?a=new a(t,e):(a=i.document.createEvent("Event"),e?(a.initEvent(t,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(t,!1,!1)),n.dispatchEvent(a)}function tk(n,t){return function(){return PS(this,n,t)}}function ek(n,t){return function(){return PS(this,n,t.apply(this,arguments))}}function nk(n,t){return this.each((typeof t=="function"?ek:tk)(n,t))}function*rk(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],a=0,u=i.length,c;a<u;++a)(c=i[a])&&(yield c)}var JS=[null];function fn(n,t){this._groups=n,this._parents=t}function Lu(){return new fn([[document.documentElement]],JS)}function ik(){return this}fn.prototype=Lu.prototype={constructor:fn,select:OC,selectAll:BC,selectChild:UC,selectChildren:JC,filter:$C,data:XC,enter:VC,exit:ZC,join:QC,merge:WC,selection:ik,order:tD,sort:eD,call:rD,nodes:iD,node:sD,size:aD,empty:oD,each:lD,attr:mD,style:wD,property:AD,classed:CD,text:MD,html:zD,raise:_D,lower:qD,append:HD,insert:JD,remove:VD,clone:YD,datum:GD,on:WD,dispatch:nk,[Symbol.iterator]:rk};function an(n){return typeof n=="string"?new fn([[document.querySelector(n)]],[document.documentElement]):new fn([[n]],JS)}function sk(n){let t;for(;t=n.sourceEvent;)n=t;return n}function Vn(n,t){if(n=sk(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}}return[n.pageX,n.pageY]}const ak={passive:!1},bu={capture:!0,passive:!1};function um(n){n.stopImmediatePropagation()}function Uo(n){n.preventDefault(),n.stopImmediatePropagation()}function $S(n){var t=n.document.documentElement,e=an(n).on("dragstart.drag",Uo,bu);"onselectstart"in t?e.on("selectstart.drag",Uo,bu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function VS(n,t){var e=n.document.documentElement,i=an(n).on("dragstart.drag",null);t&&(i.on("click.drag",Uo,bu),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const cf=n=>()=>n;function Zm(n,{sourceEvent:t,subject:e,target:i,identifier:a,active:u,x:c,y:d,dx:h,dy:g,dispatch:y}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:y}})}Zm.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function ok(n){return!n.ctrlKey&&!n.button}function lk(){return this.parentNode}function uk(n,t){return t??{x:n.x,y:n.y}}function ck(){return navigator.maxTouchPoints||"ontouchstart"in this}function jS(){var n=ok,t=lk,e=uk,i=ck,a={},u=vd("start","drag","end"),c=0,d,h,g,y,p=0;function w(k){k.on("mousedown.drag",b).filter(i).on("touchstart.drag",R).on("touchmove.drag",D,ak).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(k,z){if(!(y||!n.call(this,k,z))){var j=C(this,t.call(this,k,z),k,z,"mouse");j&&(an(k.view).on("mousemove.drag",x,bu).on("mouseup.drag",E,bu),$S(k.view),um(k),g=!1,d=k.clientX,h=k.clientY,j("start",k))}}function x(k){if(Uo(k),!g){var z=k.clientX-d,j=k.clientY-h;g=z*z+j*j>p}a.mouse("drag",k)}function E(k){an(k.view).on("mousemove.drag mouseup.drag",null),VS(k.view,g),Uo(k),a.mouse("end",k)}function R(k,z){if(n.call(this,k,z)){var j=k.changedTouches,_=t.call(this,k,z),W=j.length,J,X;for(J=0;J<W;++J)(X=C(this,_,k,z,j[J].identifier,j[J]))&&(um(k),X("start",k,j[J]))}}function D(k){var z=k.changedTouches,j=z.length,_,W;for(_=0;_<j;++_)(W=a[z[_].identifier])&&(Uo(k),W("drag",k,z[_]))}function B(k){var z=k.changedTouches,j=z.length,_,W;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),_=0;_<j;++_)(W=a[z[_].identifier])&&(um(k),W("end",k,z[_]))}function C(k,z,j,_,W,J){var X=u.copy(),ut=Vn(J||j,z),ot,lt,M;if((M=e.call(k,new Zm("beforestart",{sourceEvent:j,target:w,identifier:W,active:c,x:ut[0],y:ut[1],dx:0,dy:0,dispatch:X}),_))!=null)return ot=M.x-ut[0]||0,lt=M.y-ut[1]||0,function Y(O,H,P){var q=ut,N;switch(O){case"start":a[W]=Y,N=c++;break;case"end":delete a[W],--c;case"drag":ut=Vn(P||H,z),N=c;break}X.call(O,k,new Zm(O,{sourceEvent:H,subject:M,target:w,identifier:W,active:N,x:ut[0]+ot,y:ut[1]+lt,dx:ut[0]-q[0],dy:ut[1]-q[1],dispatch:X}),_)}}return w.filter=function(k){return arguments.length?(n=typeof k=="function"?k:cf(!!k),w):n},w.container=function(k){return arguments.length?(t=typeof k=="function"?k:cf(k),w):t},w.subject=function(k){return arguments.length?(e=typeof k=="function"?k:cf(k),w):e},w.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:cf(!!k),w):i},w.on=function(){var k=u.on.apply(u,arguments);return k===u?w:k},w.clickDistance=function(k){return arguments.length?(p=(k=+k)*k,w):Math.sqrt(p)},w}function _y(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function FS(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function _u(){}var Su=.7,nd=1/Su,qo="\\s*([+-]?\\d+)\\s*",xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fk=/^#([0-9a-f]{3,8})$/,dk=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),hk=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),gk=new RegExp(`^rgba\\(${qo},${qo},${qo},${xu}\\)$`),mk=new RegExp(`^rgba\\(${br},${br},${br},${xu}\\)$`),yk=new RegExp(`^hsl\\(${xu},${br},${br}\\)$`),pk=new RegExp(`^hsla\\(${xu},${br},${br},${xu}\\)$`),m1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_y(_u,Au,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:y1,formatHex:y1,formatHex8:vk,formatHsl:wk,formatRgb:p1,toString:p1});function y1(){return this.rgb().formatHex()}function vk(){return this.rgb().formatHex8()}function wk(){return YS(this).formatHsl()}function p1(){return this.rgb().formatRgb()}function Au(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=fk.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?v1(t):e===3?new Ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dk.exec(n))?new Ze(t[1],t[2],t[3],1):(t=hk.exec(n))?new Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gk.exec(n))?ff(t[1],t[2],t[3],t[4]):(t=mk.exec(n))?ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yk.exec(n))?S1(t[1],t[2]/100,t[3]/100,1):(t=pk.exec(n))?S1(t[1],t[2]/100,t[3]/100,t[4]):m1.hasOwnProperty(n)?v1(m1[n]):n==="transparent"?new Ze(NaN,NaN,NaN,0):null}function v1(n){return new Ze(n>>16&255,n>>8&255,n&255,1)}function ff(n,t,e,i){return i<=0&&(n=t=e=NaN),new Ze(n,t,e,i)}function bk(n){return n instanceof _u||(n=Au(n)),n?(n=n.rgb(),new Ze(n.r,n.g,n.b,n.opacity)):new Ze}function Qm(n,t,e,i){return arguments.length===1?bk(n):new Ze(n,t,e,i??1)}function Ze(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}_y(Ze,Qm,FS(_u,{brighter(n){return n=n==null?nd:Math.pow(nd,n),new Ze(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Su:Math.pow(Su,n),new Ze(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ze(Ia(this.r),Ia(this.g),Ia(this.b),rd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w1,formatHex:w1,formatHex8:Sk,formatRgb:b1,toString:b1}));function w1(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}`}function Sk(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}${Oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function b1(){const n=rd(this.opacity);return`${n===1?"rgb(":"rgba("}${Ia(this.r)}, ${Ia(this.g)}, ${Ia(this.b)}${n===1?")":`, ${n})`}`}function rd(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ia(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Oa(n){return n=Ia(n),(n<16?"0":"")+n.toString(16)}function S1(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new jn(n,t,e,i)}function YS(n){if(n instanceof jn)return new jn(n.h,n.s,n.l,n.opacity);if(n instanceof _u||(n=Au(n)),!n)return new jn;if(n instanceof jn)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,a=Math.min(t,e,i),u=Math.max(t,e,i),c=NaN,d=u-a,h=(u+a)/2;return d?(t===u?c=(e-i)/d+(e<i)*6:e===u?c=(i-t)/d+2:c=(t-e)/d+4,d/=h<.5?u+a:2-u-a,c*=60):d=h>0&&h<1?0:c,new jn(c,d,h,n.opacity)}function xk(n,t,e,i){return arguments.length===1?YS(n):new jn(n,t,e,i??1)}function jn(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}_y(jn,xk,FS(_u,{brighter(n){return n=n==null?nd:Math.pow(nd,n),new jn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Su:Math.pow(Su,n),new jn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,a=2*e-i;return new Ze(cm(n>=240?n-240:n+120,a,i),cm(n,a,i),cm(n<120?n+240:n-120,a,i),this.opacity)},clamp(){return new jn(x1(this.h),df(this.s),df(this.l),rd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=rd(this.opacity);return`${n===1?"hsl(":"hsla("}${x1(this.h)}, ${df(this.s)*100}%, ${df(this.l)*100}%${n===1?")":`, ${n})`}`}}));function x1(n){return n=(n||0)%360,n<0?n+360:n}function df(n){return Math.max(0,Math.min(1,n||0))}function cm(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const GS=n=>()=>n;function Ak(n,t){return function(e){return n+e*t}}function Tk(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function Ek(n){return(n=+n)==1?XS:function(t,e){return e-t?Tk(t,e,n):GS(isNaN(t)?e:t)}}function XS(n,t){var e=t-n;return e?Ak(n,e):GS(isNaN(n)?t:n)}const A1=function n(t){var e=Ek(t);function i(a,u){var c=e((a=Qm(a)).r,(u=Qm(u)).r),d=e(a.g,u.g),h=e(a.b,u.b),g=XS(a.opacity,u.opacity);return function(y){return a.r=c(y),a.g=d(y),a.b=h(y),a.opacity=g(y),a+""}}return i.gamma=n,i}(1);function _s(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var Wm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(Wm.source,"g");function Nk(n){return function(){return n}}function Ck(n){return function(t){return n(t)+""}}function Dk(n,t){var e=Wm.lastIndex=fm.lastIndex=0,i,a,u,c=-1,d=[],h=[];for(n=n+"",t=t+"";(i=Wm.exec(n))&&(a=fm.exec(t));)(u=a.index)>e&&(u=t.slice(e,u),d[c]?d[c]+=u:d[++c]=u),(i=i[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:_s(i,a)})),e=fm.lastIndex;return e<t.length&&(u=t.slice(e),d[c]?d[c]+=u:d[++c]=u),d.length<2?h[0]?Ck(h[0].x):Nk(t):(t=h.length,function(g){for(var y=0,p;y<t;++y)d[(p=h[y]).i]=p.x(g);return d.join("")})}var T1=180/Math.PI,ty={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KS(n,t,e,i,a,u){var c,d,h;return(c=Math.sqrt(n*n+t*t))&&(n/=c,t/=c),(h=n*e+t*i)&&(e-=n*h,i-=t*h),(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d,h/=d),n*i<t*e&&(n=-n,t=-t,h=-h,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(t,n)*T1,skewX:Math.atan(h)*T1,scaleX:c,scaleY:d}}var hf;function kk(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?ty:KS(t.a,t.b,t.c,t.d,t.e,t.f)}function Ok(n){return n==null||(hf||(hf=document.createElementNS("http://www.w3.org/2000/svg","g")),hf.setAttribute("transform",n),!(n=hf.transform.baseVal.consolidate()))?ty:(n=n.matrix,KS(n.a,n.b,n.c,n.d,n.e,n.f))}function ZS(n,t,e,i){function a(g){return g.length?g.pop()+" ":""}function u(g,y,p,w,b,x){if(g!==p||y!==w){var E=b.push("translate(",null,t,null,e);x.push({i:E-4,x:_s(g,p)},{i:E-2,x:_s(y,w)})}else(p||w)&&b.push("translate("+p+t+w+e)}function c(g,y,p,w){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),w.push({i:p.push(a(p)+"rotate(",null,i)-2,x:_s(g,y)})):y&&p.push(a(p)+"rotate("+y+i)}function d(g,y,p,w){g!==y?w.push({i:p.push(a(p)+"skewX(",null,i)-2,x:_s(g,y)}):y&&p.push(a(p)+"skewX("+y+i)}function h(g,y,p,w,b,x){if(g!==p||y!==w){var E=b.push(a(b)+"scale(",null,",",null,")");x.push({i:E-4,x:_s(g,p)},{i:E-2,x:_s(y,w)})}else(p!==1||w!==1)&&b.push(a(b)+"scale("+p+","+w+")")}return function(g,y){var p=[],w=[];return g=n(g),y=n(y),u(g.translateX,g.translateY,y.translateX,y.translateY,p,w),c(g.rotate,y.rotate,p,w),d(g.skewX,y.skewX,p,w),h(g.scaleX,g.scaleY,y.scaleX,y.scaleY,p,w),g=y=null,function(b){for(var x=-1,E=w.length,R;++x<E;)p[(R=w[x]).i]=R.x(b);return p.join("")}}}var Mk=ZS(kk,"px, ","px)","deg)"),Rk=ZS(Ok,", ",")",")"),Ik=1e-12;function E1(n){return((n=Math.exp(n))+1/n)/2}function Bk(n){return((n=Math.exp(n))-1/n)/2}function zk(n){return((n=Math.exp(2*n))-1)/(n+1)}const Lk=function n(t,e,i){function a(u,c){var d=u[0],h=u[1],g=u[2],y=c[0],p=c[1],w=c[2],b=y-d,x=p-h,E=b*b+x*x,R,D;if(E<Ik)D=Math.log(w/g)/t,R=function(_){return[d+_*b,h+_*x,g*Math.exp(t*_*D)]};else{var B=Math.sqrt(E),C=(w*w-g*g+i*E)/(2*g*e*B),k=(w*w-g*g-i*E)/(2*w*e*B),z=Math.log(Math.sqrt(C*C+1)-C),j=Math.log(Math.sqrt(k*k+1)-k);D=(j-z)/t,R=function(_){var W=_*D,J=E1(z),X=g/(e*B)*(J*zk(t*W+z)-Bk(z));return[d+X*b,h+X*x,g*J/E1(t*W+z)]}}return R.duration=D*1e3*t/Math.SQRT2,R}return a.rho=function(u){var c=Math.max(.001,+u),d=c*c,h=d*d;return n(c,d,h)},a}(Math.SQRT2,2,4);var Xo=0,eu=0,Ql=0,QS=1e3,id,nu,sd=0,Ua=0,bd=0,Tu=typeof performance=="object"&&performance.now?performance:Date,WS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Uy(){return Ua||(WS(_k),Ua=Tu.now()+bd)}function _k(){Ua=0}function ad(){this._call=this._time=this._next=null}ad.prototype=tx.prototype={constructor:ad,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Uy():+e)+(t==null?0:+t),!this._next&&nu!==this&&(nu?nu._next=this:id=this,nu=this),this._call=n,this._time=e,ey()},stop:function(){this._call&&(this._call=null,this._time=1/0,ey())}};function tx(n,t,e){var i=new ad;return i.restart(n,t,e),i}function Uk(){Uy(),++Xo;for(var n=id,t;n;)(t=Ua-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Xo}function N1(){Ua=(sd=Tu.now())+bd,Xo=eu=0;try{Uk()}finally{Xo=0,Hk(),Ua=0}}function qk(){var n=Tu.now(),t=n-sd;t>QS&&(bd-=t,sd=n)}function Hk(){for(var n,t=id,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:id=e);nu=n,ey(i)}function ey(n){if(!Xo){eu&&(eu=clearTimeout(eu));var t=n-Ua;t>24?(n<1/0&&(eu=setTimeout(N1,n-Tu.now()-bd)),Ql&&(Ql=clearInterval(Ql))):(Ql||(sd=Tu.now(),Ql=setInterval(qk,QS)),Xo=1,WS(N1))}}function C1(n,t,e){var i=new ad;return t=t==null?0:+t,i.restart(a=>{i.stop(),n(a+t)},t,e),i}var Pk=vd("start","end","cancel","interrupt"),Jk=[],ex=0,D1=1,ny=2,Cf=3,k1=4,ry=5,Df=6;function Sd(n,t,e,i,a,u){var c=n.__transition;if(!c)n.__transition={};else if(e in c)return;$k(n,e,{name:t,index:i,group:a,on:Pk,tween:Jk,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:ex})}function qy(n,t){var e=Wn(n,t);if(e.state>ex)throw new Error("too late; already scheduled");return e}function Ar(n,t){var e=Wn(n,t);if(e.state>Cf)throw new Error("too late; already running");return e}function Wn(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function $k(n,t,e){var i=n.__transition,a;i[t]=e,e.timer=tx(u,0,e.time);function u(g){e.state=D1,e.timer.restart(c,e.delay,e.time),e.delay<=g&&c(g-e.delay)}function c(g){var y,p,w,b;if(e.state!==D1)return h();for(y in i)if(b=i[y],b.name===e.name){if(b.state===Cf)return C1(c);b.state===k1?(b.state=Df,b.timer.stop(),b.on.call("interrupt",n,n.__data__,b.index,b.group),delete i[y]):+y<t&&(b.state=Df,b.timer.stop(),b.on.call("cancel",n,n.__data__,b.index,b.group),delete i[y])}if(C1(function(){e.state===Cf&&(e.state=k1,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=ny,e.on.call("start",n,n.__data__,e.index,e.group),e.state===ny){for(e.state=Cf,a=new Array(w=e.tween.length),y=0,p=-1;y<w;++y)(b=e.tween[y].value.call(n,n.__data__,e.index,e.group))&&(a[++p]=b);a.length=p+1}}function d(g){for(var y=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(h),e.state=ry,1),p=-1,w=a.length;++p<w;)a[p].call(n,y);e.state===ry&&(e.on.call("end",n,n.__data__,e.index,e.group),h())}function h(){e.state=Df,e.timer.stop(),delete i[t];for(var g in i)return;delete n.__transition}}function kf(n,t){var e=n.__transition,i,a,u=!0,c;if(e){t=t==null?null:t+"";for(c in e){if((i=e[c]).name!==t){u=!1;continue}a=i.state>ny&&i.state<ry,i.state=Df,i.timer.stop(),i.on.call(a?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[c]}u&&delete n.__transition}}function Vk(n){return this.each(function(){kf(this,n)})}function jk(n,t){var e,i;return function(){var a=Ar(this,n),u=a.tween;if(u!==e){i=e=u;for(var c=0,d=i.length;c<d;++c)if(i[c].name===t){i=i.slice(),i.splice(c,1);break}}a.tween=i}}function Fk(n,t,e){var i,a;if(typeof e!="function")throw new Error;return function(){var u=Ar(this,n),c=u.tween;if(c!==i){a=(i=c).slice();for(var d={name:t,value:e},h=0,g=a.length;h<g;++h)if(a[h].name===t){a[h]=d;break}h===g&&a.push(d)}u.tween=a}}function Yk(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=Wn(this.node(),e).tween,a=0,u=i.length,c;a<u;++a)if((c=i[a]).name===n)return c.value;return null}return this.each((t==null?jk:Fk)(e,n,t))}function Hy(n,t,e){var i=n._id;return n.each(function(){var a=Ar(this,i);(a.value||(a.value={}))[t]=e.apply(this,arguments)}),function(a){return Wn(a,i).value[t]}}function nx(n,t){var e;return(typeof t=="number"?_s:t instanceof Au?A1:(e=Au(t))?(t=e,A1):Dk)(n,t)}function Gk(n){return function(){this.removeAttribute(n)}}function Xk(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Kk(n,t,e){var i,a=e+"",u;return function(){var c=this.getAttribute(n);return c===a?null:c===i?u:u=t(i=c,e)}}function Zk(n,t,e){var i,a=e+"",u;return function(){var c=this.getAttributeNS(n.space,n.local);return c===a?null:c===i?u:u=t(i=c,e)}}function Qk(n,t,e){var i,a,u;return function(){var c,d=e(this),h;return d==null?void this.removeAttribute(n):(c=this.getAttribute(n),h=d+"",c===h?null:c===i&&h===a?u:(a=h,u=t(i=c,d)))}}function Wk(n,t,e){var i,a,u;return function(){var c,d=e(this),h;return d==null?void this.removeAttributeNS(n.space,n.local):(c=this.getAttributeNS(n.space,n.local),h=d+"",c===h?null:c===i&&h===a?u:(a=h,u=t(i=c,d)))}}function t3(n,t){var e=wd(n),i=e==="transform"?Rk:nx;return this.attrTween(n,typeof t=="function"?(e.local?Wk:Qk)(e,i,Hy(this,"attr."+n,t)):t==null?(e.local?Xk:Gk)(e):(e.local?Zk:Kk)(e,i,t))}function e3(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function n3(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function r3(n,t){var e,i;function a(){var u=t.apply(this,arguments);return u!==i&&(e=(i=u)&&n3(n,u)),e}return a._value=t,a}function i3(n,t){var e,i;function a(){var u=t.apply(this,arguments);return u!==i&&(e=(i=u)&&e3(n,u)),e}return a._value=t,a}function s3(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=wd(n);return this.tween(e,(i.local?r3:i3)(i,t))}function a3(n,t){return function(){qy(this,n).delay=+t.apply(this,arguments)}}function o3(n,t){return t=+t,function(){qy(this,n).delay=t}}function l3(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?a3:o3)(t,n)):Wn(this.node(),t).delay}function u3(n,t){return function(){Ar(this,n).duration=+t.apply(this,arguments)}}function c3(n,t){return t=+t,function(){Ar(this,n).duration=t}}function f3(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?u3:c3)(t,n)):Wn(this.node(),t).duration}function d3(n,t){if(typeof t!="function")throw new Error;return function(){Ar(this,n).ease=t}}function h3(n){var t=this._id;return arguments.length?this.each(d3(t,n)):Wn(this.node(),t).ease}function g3(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Ar(this,n).ease=e}}function m3(n){if(typeof n!="function")throw new Error;return this.each(g3(this._id,n))}function y3(n){typeof n!="function"&&(n=IS(n));for(var t=this._groups,e=t.length,i=new Array(e),a=0;a<e;++a)for(var u=t[a],c=u.length,d=i[a]=[],h,g=0;g<c;++g)(h=u[g])&&n.call(h,h.__data__,g,u)&&d.push(h);return new es(i,this._parents,this._name,this._id)}function p3(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,a=e.length,u=Math.min(i,a),c=new Array(i),d=0;d<u;++d)for(var h=t[d],g=e[d],y=h.length,p=c[d]=new Array(y),w,b=0;b<y;++b)(w=h[b]||g[b])&&(p[b]=w);for(;d<i;++d)c[d]=t[d];return new es(c,this._parents,this._name,this._id)}function v3(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function w3(n,t,e){var i,a,u=v3(t)?qy:Ar;return function(){var c=u(this,n),d=c.on;d!==i&&(a=(i=d).copy()).on(t,e),c.on=a}}function b3(n,t){var e=this._id;return arguments.length<2?Wn(this.node(),e).on.on(n):this.each(w3(e,n,t))}function S3(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function x3(){return this.on("end.remove",S3(this._id))}function A3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=zy(n));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var d=i[c],h=d.length,g=u[c]=new Array(h),y,p,w=0;w<h;++w)(y=d[w])&&(p=n.call(y,y.__data__,w,d))&&("__data__"in y&&(p.__data__=y.__data__),g[w]=p,Sd(g[w],t,e,w,g,Wn(y,e)));return new es(u,this._parents,t,e)}function T3(n){var t=this._name,e=this._id;typeof n!="function"&&(n=RS(n));for(var i=this._groups,a=i.length,u=[],c=[],d=0;d<a;++d)for(var h=i[d],g=h.length,y,p=0;p<g;++p)if(y=h[p]){for(var w=n.call(y,y.__data__,p,h),b,x=Wn(y,e),E=0,R=w.length;E<R;++E)(b=w[E])&&Sd(b,t,e,E,w,x);u.push(w),c.push(y)}return new es(u,c,t,e)}var E3=Lu.prototype.constructor;function N3(){return new E3(this._groups,this._parents)}function C3(n,t){var e,i,a;return function(){var u=Go(this,n),c=(this.style.removeProperty(n),Go(this,n));return u===c?null:u===e&&c===i?a:a=t(e=u,i=c)}}function rx(n){return function(){this.style.removeProperty(n)}}function D3(n,t,e){var i,a=e+"",u;return function(){var c=Go(this,n);return c===a?null:c===i?u:u=t(i=c,e)}}function k3(n,t,e){var i,a,u;return function(){var c=Go(this,n),d=e(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(n),Go(this,n))),c===h?null:c===i&&h===a?u:(a=h,u=t(i=c,d))}}function O3(n,t){var e,i,a,u="style."+t,c="end."+u,d;return function(){var h=Ar(this,n),g=h.on,y=h.value[u]==null?d||(d=rx(t)):void 0;(g!==e||a!==y)&&(i=(e=g).copy()).on(c,a=y),h.on=i}}function M3(n,t,e){var i=(n+="")=="transform"?Mk:nx;return t==null?this.styleTween(n,C3(n,i)).on("end.style."+n,rx(n)):typeof t=="function"?this.styleTween(n,k3(n,i,Hy(this,"style."+n,t))).each(O3(this._id,n)):this.styleTween(n,D3(n,i,t),e).on("end.style."+n,null)}function R3(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function I3(n,t,e){var i,a;function u(){var c=t.apply(this,arguments);return c!==a&&(i=(a=c)&&R3(n,c,e)),i}return u._value=t,u}function B3(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,I3(n,t,e??""))}function z3(n){return function(){this.textContent=n}}function L3(n){return function(){var t=n(this);this.textContent=t??""}}function _3(n){return this.tween("text",typeof n=="function"?L3(Hy(this,"text",n)):z3(n==null?"":n+""))}function U3(n){return function(t){this.textContent=n.call(this,t)}}function q3(n){var t,e;function i(){var a=n.apply(this,arguments);return a!==e&&(t=(e=a)&&U3(a)),t}return i._value=n,i}function H3(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,q3(n))}function P3(){for(var n=this._name,t=this._id,e=ix(),i=this._groups,a=i.length,u=0;u<a;++u)for(var c=i[u],d=c.length,h,g=0;g<d;++g)if(h=c[g]){var y=Wn(h,t);Sd(h,n,e,g,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new es(i,this._parents,n,e)}function J3(){var n,t,e=this,i=e._id,a=e.size();return new Promise(function(u,c){var d={value:c},h={value:function(){--a===0&&u()}};e.each(function(){var g=Ar(this,i),y=g.on;y!==n&&(t=(n=y).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(h)),g.on=t}),a===0&&u()})}var $3=0;function es(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function ix(){return++$3}var Vr=Lu.prototype;es.prototype={constructor:es,select:A3,selectAll:T3,selectChild:Vr.selectChild,selectChildren:Vr.selectChildren,filter:y3,merge:p3,selection:N3,transition:P3,call:Vr.call,nodes:Vr.nodes,node:Vr.node,size:Vr.size,empty:Vr.empty,each:Vr.each,on:b3,attr:t3,attrTween:s3,style:M3,styleTween:B3,text:_3,textTween:H3,remove:x3,tween:Yk,delay:l3,duration:f3,ease:h3,easeVarying:m3,end:J3,[Symbol.iterator]:Vr[Symbol.iterator]};function V3(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var j3={time:null,delay:0,duration:250,ease:V3};function F3(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function Y3(n){var t,e;n instanceof es?(t=n._id,n=n._name):(t=ix(),(e=j3).time=Uy(),n=n==null?null:n+"");for(var i=this._groups,a=i.length,u=0;u<a;++u)for(var c=i[u],d=c.length,h,g=0;g<d;++g)(h=c[g])&&Sd(h,n,t,g,c,e||F3(h,t));return new es(i,this._parents,n,t)}Lu.prototype.interrupt=Vk;Lu.prototype.transition=Y3;const gf=n=>()=>n;function G3(n,{sourceEvent:t,target:e,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Xi(n,t,e){this.k=n,this.x=t,this.y=e}Xi.prototype={constructor:Xi,scale:function(n){return n===1?this:new Xi(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Xi(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xd=new Xi(1,0,0);sx.prototype=Xi.prototype;function sx(n){for(;!n.__zoom;)if(!(n=n.parentNode))return xd;return n.__zoom}function dm(n){n.stopImmediatePropagation()}function Wl(n){n.preventDefault(),n.stopImmediatePropagation()}function X3(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function K3(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function O1(){return this.__zoom||xd}function Z3(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function W3(n,t,e){var i=n.invertX(t[0][0])-e[0][0],a=n.invertX(t[1][0])-e[1][0],u=n.invertY(t[0][1])-e[0][1],c=n.invertY(t[1][1])-e[1][1];return n.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function ax(){var n=X3,t=K3,e=W3,i=Z3,a=Q3,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=Lk,g=vd("start","zoom","end"),y,p,w,b=500,x=150,E=0,R=10;function D(M){M.property("__zoom",O1).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",X).filter(a).on("touchstart.zoom",ut).on("touchmove.zoom",ot).on("touchend.zoom touchcancel.zoom",lt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(M,Y,O,H){var P=M.selection?M.selection():M;P.property("__zoom",O1),M!==P?z(M,Y,O,H):P.interrupt().each(function(){j(this,arguments).event(H).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},D.scaleBy=function(M,Y,O,H){D.scaleTo(M,function(){var P=this.__zoom.k,q=typeof Y=="function"?Y.apply(this,arguments):Y;return P*q},O,H)},D.scaleTo=function(M,Y,O,H){D.transform(M,function(){var P=t.apply(this,arguments),q=this.__zoom,N=O==null?k(P):typeof O=="function"?O.apply(this,arguments):O,$=q.invert(N),it=typeof Y=="function"?Y.apply(this,arguments):Y;return e(C(B(q,it),N,$),P,c)},O,H)},D.translateBy=function(M,Y,O,H){D.transform(M,function(){return e(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),c)},null,H)},D.translateTo=function(M,Y,O,H,P){D.transform(M,function(){var q=t.apply(this,arguments),N=this.__zoom,$=H==null?k(q):typeof H=="function"?H.apply(this,arguments):H;return e(xd.translate($[0],$[1]).scale(N.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof O=="function"?-O.apply(this,arguments):-O),q,c)},H,P)};function B(M,Y){return Y=Math.max(u[0],Math.min(u[1],Y)),Y===M.k?M:new Xi(Y,M.x,M.y)}function C(M,Y,O){var H=Y[0]-O[0]*M.k,P=Y[1]-O[1]*M.k;return H===M.x&&P===M.y?M:new Xi(M.k,H,P)}function k(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function z(M,Y,O,H){M.on("start.zoom",function(){j(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(H).end()}).tween("zoom",function(){var P=this,q=arguments,N=j(P,q).event(H),$=t.apply(P,q),it=O==null?k($):typeof O=="function"?O.apply(P,q):O,ct=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),et=P.__zoom,gt=typeof Y=="function"?Y.apply(P,q):Y,dt=h(et.invert(it).concat(ct/et.k),gt.invert(it).concat(ct/gt.k));return function(mt){if(mt===1)mt=gt;else{var yt=dt(mt),bt=ct/yt[2];mt=new Xi(bt,it[0]-yt[0]*bt,it[1]-yt[1]*bt)}N.zoom(null,mt)}})}function j(M,Y,O){return!O&&M.__zooming||new _(M,Y)}function _(M,Y){this.that=M,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,Y),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,Y){return this.mouse&&M!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var Y=an(this.that).datum();g.call(M,this.that,new G3(M,{sourceEvent:this.sourceEvent,target:D,transform:this.that.__zoom,dispatch:g}),Y)}};function W(M,...Y){if(!n.apply(this,arguments))return;var O=j(this,Y).event(M),H=this.__zoom,P=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,i.apply(this,arguments)))),q=Vn(M);if(O.wheel)(O.mouse[0][0]!==q[0]||O.mouse[0][1]!==q[1])&&(O.mouse[1]=H.invert(O.mouse[0]=q)),clearTimeout(O.wheel);else{if(H.k===P)return;O.mouse=[q,H.invert(q)],kf(this),O.start()}Wl(M),O.wheel=setTimeout(N,x),O.zoom("mouse",e(C(B(H,P),O.mouse[0],O.mouse[1]),O.extent,c));function N(){O.wheel=null,O.end()}}function J(M,...Y){if(w||!n.apply(this,arguments))return;var O=M.currentTarget,H=j(this,Y,!0).event(M),P=an(M.view).on("mousemove.zoom",it,!0).on("mouseup.zoom",ct,!0),q=Vn(M,O),N=M.clientX,$=M.clientY;$S(M.view),dm(M),H.mouse=[q,this.__zoom.invert(q)],kf(this),H.start();function it(et){if(Wl(et),!H.moved){var gt=et.clientX-N,dt=et.clientY-$;H.moved=gt*gt+dt*dt>E}H.event(et).zoom("mouse",e(C(H.that.__zoom,H.mouse[0]=Vn(et,O),H.mouse[1]),H.extent,c))}function ct(et){P.on("mousemove.zoom mouseup.zoom",null),VS(et.view,H.moved),Wl(et),H.event(et).end()}}function X(M,...Y){if(n.apply(this,arguments)){var O=this.__zoom,H=Vn(M.changedTouches?M.changedTouches[0]:M,this),P=O.invert(H),q=O.k*(M.shiftKey?.5:2),N=e(C(B(O,q),H,P),t.apply(this,Y),c);Wl(M),d>0?an(this).transition().duration(d).call(z,N,H,M):an(this).call(D.transform,N,H,M)}}function ut(M,...Y){if(n.apply(this,arguments)){var O=M.touches,H=O.length,P=j(this,Y,M.changedTouches.length===H).event(M),q,N,$,it;for(dm(M),N=0;N<H;++N)$=O[N],it=Vn($,this),it=[it,this.__zoom.invert(it),$.identifier],P.touch0?!P.touch1&&P.touch0[2]!==it[2]&&(P.touch1=it,P.taps=0):(P.touch0=it,q=!0,P.taps=1+!!y);y&&(y=clearTimeout(y)),q&&(P.taps<2&&(p=it[0],y=setTimeout(function(){y=null},b)),kf(this),P.start())}}function ot(M,...Y){if(this.__zooming){var O=j(this,Y).event(M),H=M.changedTouches,P=H.length,q,N,$,it;for(Wl(M),q=0;q<P;++q)N=H[q],$=Vn(N,this),O.touch0&&O.touch0[2]===N.identifier?O.touch0[0]=$:O.touch1&&O.touch1[2]===N.identifier&&(O.touch1[0]=$);if(N=O.that.__zoom,O.touch1){var ct=O.touch0[0],et=O.touch0[1],gt=O.touch1[0],dt=O.touch1[1],mt=(mt=gt[0]-ct[0])*mt+(mt=gt[1]-ct[1])*mt,yt=(yt=dt[0]-et[0])*yt+(yt=dt[1]-et[1])*yt;N=B(N,Math.sqrt(mt/yt)),$=[(ct[0]+gt[0])/2,(ct[1]+gt[1])/2],it=[(et[0]+dt[0])/2,(et[1]+dt[1])/2]}else if(O.touch0)$=O.touch0[0],it=O.touch0[1];else return;O.zoom("touch",e(C(N,$,it),O.extent,c))}}function lt(M,...Y){if(this.__zooming){var O=j(this,Y).event(M),H=M.changedTouches,P=H.length,q,N;for(dm(M),w&&clearTimeout(w),w=setTimeout(function(){w=null},b),q=0;q<P;++q)N=H[q],O.touch0&&O.touch0[2]===N.identifier?delete O.touch0:O.touch1&&O.touch1[2]===N.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(N=Vn(N,this),Math.hypot(p[0]-N[0],p[1]-N[1])<R)){var $=an(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return D.wheelDelta=function(M){return arguments.length?(i=typeof M=="function"?M:gf(+M),D):i},D.filter=function(M){return arguments.length?(n=typeof M=="function"?M:gf(!!M),D):n},D.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:gf(!!M),D):a},D.extent=function(M){return arguments.length?(t=typeof M=="function"?M:gf([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),D):t},D.scaleExtent=function(M){return arguments.length?(u[0]=+M[0],u[1]=+M[1],D):[u[0],u[1]]},D.translateExtent=function(M){return arguments.length?(c[0][0]=+M[0][0],c[1][0]=+M[1][0],c[0][1]=+M[0][1],c[1][1]=+M[1][1],D):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},D.constrain=function(M){return arguments.length?(e=M,D):e},D.duration=function(M){return arguments.length?(d=+M,D):d},D.interpolate=function(M){return arguments.length?(h=M,D):h},D.on=function(){var M=g.on.apply(g,arguments);return M===g?D:M},D.clickDistance=function(M){return arguments.length?(E=(M=+M)*M,D):Math.sqrt(E)},D.tapDistance=function(M){return arguments.length?(R=+M,D):R},D}const xr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:t,sourceHandle:e,targetHandle:i})=>`Couldn't create edge for ${n} handle id: "${n==="source"?e:i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Eu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ox=["Enter"," ","Escape"];var Ko;(function(n){n.Strict="strict",n.Loose="loose"})(Ko||(Ko={}));var Ba;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Ba||(Ba={}));var Nu;(function(n){n.Partial="partial",n.Full="full"})(Nu||(Nu={}));const lx={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Us;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Us||(Us={}));var od;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(od||(od={}));var Ct;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(Ct||(Ct={}));const M1={[Ct.Left]:Ct.Right,[Ct.Right]:Ct.Left,[Ct.Top]:Ct.Bottom,[Ct.Bottom]:Ct.Top};function ux(n){return n===null?null:n?"valid":"invalid"}const cx=n=>"id"in n&&"source"in n&&"target"in n,tO=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),Py=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),Uu=(n,t=[0,0])=>{const{width:e,height:i}=rs(n),a=n.origin??t,u=e*a[0],c=i*a[1];return{x:n.position.x-u,y:n.position.y-c}},eO=(n,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const e=n.reduce((i,a)=>{const u=typeof a=="string";let c=!t.nodeLookup&&!u?a:void 0;t.nodeLookup&&(c=u?t.nodeLookup.get(a):Py(a)?a:t.nodeLookup.get(a.id));const d=c?ld(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ad(i,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Td(e)},qu=(n,t={})=>{if(n.size===0)return{x:0,y:0,width:0,height:0};let e={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return n.forEach(i=>{if(t.filter===void 0||t.filter(i)){const a=ld(i);e=Ad(e,a)}}),Td(e)},fx=(n,t,[e,i,a]=[0,0,1],u=!1,c=!1)=>{const d={...Hu(t,[e,i,a]),width:t.width/a,height:t.height/a},h=[];for(const g of n.values()){const{measured:y,selectable:p=!0,hidden:w=!1}=g;if(c&&!p||w)continue;const b=y.width??g.width??g.initialWidth??null,x=y.height??g.height??g.initialHeight??null,E=Cu(d,Qo(g)),R=(b??0)*(x??0),D=u&&E>0;(!g.internals.handleBounds||D||E>=R||g.dragging)&&h.push(g)}return h},nO=(n,t)=>{const e=new Set;return n.forEach(i=>{e.add(i.id)}),t.filter(i=>e.has(i.source)||e.has(i.target))};function iy(n,t){const e=new Map,i=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return n.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!i||i.has(a.id))&&e.set(a.id,a)}),e}async function sy({nodes:n,width:t,height:e,panZoom:i,minZoom:a,maxZoom:u},c){if(n.size===0)return Promise.resolve(!1);const d=qu(n),h=Jy(d,t,e,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await i.setViewport(h,{duration:c==null?void 0:c.duration}),Promise.resolve(!0)}function dx({nodeId:n,nextPosition:t,nodeLookup:e,nodeOrigin:i=[0,0],nodeExtent:a,onError:u}){const c=e.get(n),d=c.parentId?e.get(c.parentId):void 0,{x:h,y:g}=d?d.internals.positionAbsolute:{x:0,y:0},y=c.origin??i;let p=a;if(c.extent==="parent"&&!c.expandParent)if(!d)u==null||u("005",xr.error005());else{const b=d.measured.width,x=d.measured.height;b&&x&&(p=[[h,g],[h+b,g+x]])}else d&&Wo(c.extent)&&(p=[[c.extent[0][0]+h,c.extent[0][1]+g],[c.extent[1][0]+h,c.extent[1][1]+g]]);const w=Wo(p)?qa(t,p,c.measured):t;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",xr.error015())),{position:{x:w.x-h+(c.measured.width??0)*y[0],y:w.y-g+(c.measured.height??0)*y[1]},positionAbsolute:w}}async function rO({nodesToRemove:n=[],edgesToRemove:t=[],nodes:e,edges:i,onBeforeDelete:a}){const u=new Set(n.map(w=>w.id)),c=[];for(const w of e){if(w.deletable===!1)continue;const b=u.has(w.id),x=!b&&w.parentId&&c.find(E=>E.id===w.parentId);(b||x)&&c.push(w)}const d=new Set(t.map(w=>w.id)),h=i.filter(w=>w.deletable!==!1),y=nO(c,h);for(const w of h)d.has(w.id)&&!y.find(x=>x.id===w.id)&&y.push(w);if(!a)return{edges:y,nodes:c};const p=await a({nodes:c,edges:y});return typeof p=="boolean"?p?{edges:y,nodes:c}:{edges:[],nodes:[]}:p}const Zo=(n,t=0,e=1)=>Math.min(Math.max(n,t),e),qa=(n={x:0,y:0},t,e)=>({x:Zo(n.x,t[0][0],t[1][0]-((e==null?void 0:e.width)??0)),y:Zo(n.y,t[0][1],t[1][1]-((e==null?void 0:e.height)??0))});function hx(n,t,e){const{width:i,height:a}=rs(e),{x:u,y:c}=e.internals.positionAbsolute;return qa(n,[[u,c],[u+i,c+a]],t)}const R1=(n,t,e)=>n<t?Zo(Math.abs(n-t),1,t)/t:n>e?-Zo(Math.abs(n-e),1,t)/t:0,gx=(n,t,e=15,i=40)=>{const a=R1(n.x,i,t.width-i)*e,u=R1(n.y,i,t.height-i)*e;return[a,u]},Ad=(n,t)=>({x:Math.min(n.x,t.x),y:Math.min(n.y,t.y),x2:Math.max(n.x2,t.x2),y2:Math.max(n.y2,t.y2)}),ay=({x:n,y:t,width:e,height:i})=>({x:n,y:t,x2:n+e,y2:t+i}),Td=({x:n,y:t,x2:e,y2:i})=>({x:n,y:t,width:e-n,height:i-t}),Qo=(n,t=[0,0])=>{var a,u;const{x:e,y:i}=Py(n)?n.internals.positionAbsolute:Uu(n,t);return{x:e,y:i,width:((a=n.measured)==null?void 0:a.width)??n.width??n.initialWidth??0,height:((u=n.measured)==null?void 0:u.height)??n.height??n.initialHeight??0}},ld=(n,t=[0,0])=>{var a,u;const{x:e,y:i}=Py(n)?n.internals.positionAbsolute:Uu(n,t);return{x:e,y:i,x2:e+(((a=n.measured)==null?void 0:a.width)??n.width??n.initialWidth??0),y2:i+(((u=n.measured)==null?void 0:u.height)??n.height??n.initialHeight??0)}},mx=(n,t)=>Td(Ad(ay(n),ay(t))),Cu=(n,t)=>{const e=Math.max(0,Math.min(n.x+n.width,t.x+t.width)-Math.max(n.x,t.x)),i=Math.max(0,Math.min(n.y+n.height,t.y+t.height)-Math.max(n.y,t.y));return Math.ceil(e*i)},I1=n=>Gn(n.width)&&Gn(n.height)&&Gn(n.x)&&Gn(n.y),Gn=n=>!isNaN(n)&&isFinite(n),iO=(n,t)=>{},Ed=(n,t=[1,1])=>({x:t[0]*Math.round(n.x/t[0]),y:t[1]*Math.round(n.y/t[1])}),Hu=({x:n,y:t},[e,i,a],u=!1,c=[1,1])=>{const d={x:(n-e)/a,y:(t-i)/a};return u?Ed(d,c):d},yx=({x:n,y:t},[e,i,a])=>({x:n*a+e,y:t*a+i}),Jy=(n,t,e,i,a,u)=>{const c=t/(n.width*(1+u)),d=e/(n.height*(1+u)),h=Math.min(c,d),g=Zo(h,i,a),y=n.x+n.width/2,p=n.y+n.height/2,w=t/2-y*g,b=e/2-p*g;return{x:w,y:b,zoom:g}},ud=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0};function Wo(n){return n!==void 0&&n!=="parent"}function rs(n){var t,e;return{width:((t=n.measured)==null?void 0:t.width)??n.width??n.initialWidth??0,height:((e=n.measured)==null?void 0:e.height)??n.height??n.initialHeight??0}}function px(n){var t,e;return(((t=n.measured)==null?void 0:t.width)??n.width??n.initialWidth)!==void 0&&(((e=n.measured)==null?void 0:e.height)??n.height??n.initialHeight)!==void 0}function vx(n,t={width:0,height:0},e,i,a){const u={...n},c=i.get(e);if(c){const d=c.origin||a;u.x+=c.internals.positionAbsolute.x-(t.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(t.height??0)*d[1]}return u}function B1(n,t){if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0}function lu(n,{snapGrid:t=[0,0],snapToGrid:e=!1,transform:i,containerBounds:a}){const{x:u,y:c}=Qi(n),d=Hu({x:u-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},i),{x:h,y:g}=e?Ed(d,t):d;return{xSnapped:h,ySnapped:g,...d}}const Nd=n=>({width:n.offsetWidth,height:n.offsetHeight}),wx=n=>{var t;return((t=n==null?void 0:n.getRootNode)==null?void 0:t.call(n))||(window==null?void 0:window.document)},sO=["INPUT","SELECT","TEXTAREA"];function oy(n){var i,a;const t=((a=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:a[0])||n.target;return(t==null?void 0:t.nodeType)!==1?!1:sO.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const bx=n=>"clientX"in n,Qi=(n,t)=>{var u,c;const e=bx(n),i=e?n.clientX:(u=n.touches)==null?void 0:u[0].clientX,a=e?n.clientY:(c=n.touches)==null?void 0:c[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},z1=(n,t,e,i,a)=>{const u=t.querySelectorAll(`.${n}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:n,nodeId:a,position:c.getAttribute("data-handlepos"),x:(d.left-e.left)/i,y:(d.top-e.top)/i,...Nd(c)}})};function Sx({sourceX:n,sourceY:t,targetX:e,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d}){const h=n*.125+a*.375+c*.375+e*.125,g=t*.125+u*.375+d*.375+i*.125,y=Math.abs(h-n),p=Math.abs(g-t);return[h,g,y,p]}function mf(n,t){return n>=0?.5*n:t*25*Math.sqrt(-n)}function L1({pos:n,x1:t,y1:e,x2:i,y2:a,c:u}){switch(n){case Ct.Left:return[t-mf(t-i,u),e];case Ct.Right:return[t+mf(i-t,u),e];case Ct.Top:return[t,e-mf(e-a,u)];case Ct.Bottom:return[t,e+mf(a-e,u)]}}function xx({sourceX:n,sourceY:t,sourcePosition:e=Ct.Bottom,targetX:i,targetY:a,targetPosition:u=Ct.Top,curvature:c=.25}){const[d,h]=L1({pos:e,x1:n,y1:t,x2:i,y2:a,c}),[g,y]=L1({pos:u,x1:i,y1:a,x2:n,y2:t,c}),[p,w,b,x]=Sx({sourceX:n,sourceY:t,targetX:i,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:g,targetControlY:y});return[`M${n},${t} C${d},${h} ${g},${y} ${i},${a}`,p,w,b,x]}function Ax({sourceX:n,sourceY:t,targetX:e,targetY:i}){const a=Math.abs(e-n)/2,u=e<n?e+a:e-a,c=Math.abs(i-t)/2,d=i<t?i+c:i-c;return[u,d,a,c]}function aO({sourceNode:n,targetNode:t,selected:e=!1,zIndex:i=0,elevateOnSelect:a=!1}){if(!a)return i;const u=e||t.selected||n.selected,c=Math.max(n.internals.z||0,t.internals.z||0,1e3);return i+(u?c:0)}function oO({sourceNode:n,targetNode:t,width:e,height:i,transform:a}){const u=Ad(ld(n),ld(t));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:e/a[2],height:i/a[2]};return Cu(c,Td(u))>0}const lO=({source:n,sourceHandle:t,target:e,targetHandle:i})=>`xy-edge__${n}${t||""}-${e}${i||""}`,uO=(n,t)=>t.some(e=>e.source===n.source&&e.target===n.target&&(e.sourceHandle===n.sourceHandle||!e.sourceHandle&&!n.sourceHandle)&&(e.targetHandle===n.targetHandle||!e.targetHandle&&!n.targetHandle)),cO=(n,t)=>{if(!n.source||!n.target)return t;let e;return cx(n)?e={...n}:e={...n,id:lO(n)},uO(e,t)?t:(e.sourceHandle===null&&delete e.sourceHandle,e.targetHandle===null&&delete e.targetHandle,t.concat(e))};function Tx({sourceX:n,sourceY:t,targetX:e,targetY:i}){const[a,u,c,d]=Ax({sourceX:n,sourceY:t,targetX:e,targetY:i});return[`M ${n},${t}L ${e},${i}`,a,u,c,d]}const _1={[Ct.Left]:{x:-1,y:0},[Ct.Right]:{x:1,y:0},[Ct.Top]:{x:0,y:-1},[Ct.Bottom]:{x:0,y:1}},fO=({source:n,sourcePosition:t=Ct.Bottom,target:e})=>t===Ct.Left||t===Ct.Right?n.x<e.x?{x:1,y:0}:{x:-1,y:0}:n.y<e.y?{x:0,y:1}:{x:0,y:-1},U1=(n,t)=>Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2));function dO({source:n,sourcePosition:t=Ct.Bottom,target:e,targetPosition:i=Ct.Top,center:a,offset:u}){const c=_1[t],d=_1[i],h={x:n.x+c.x*u,y:n.y+c.y*u},g={x:e.x+d.x*u,y:e.y+d.y*u},y=fO({source:h,sourcePosition:t,target:g}),p=y.x!==0?"x":"y",w=y[p];let b=[],x,E;const R={x:0,y:0},D={x:0,y:0},[B,C,k,z]=Ax({sourceX:n.x,sourceY:n.y,targetX:e.x,targetY:e.y});if(c[p]*d[p]===-1){x=a.x??B,E=a.y??C;const _=[{x,y:h.y},{x,y:g.y}],W=[{x:h.x,y:E},{x:g.x,y:E}];c[p]===w?b=p==="x"?_:W:b=p==="x"?W:_}else{const _=[{x:h.x,y:g.y}],W=[{x:g.x,y:h.y}];if(p==="x"?b=c.x===w?W:_:b=c.y===w?_:W,t===i){const lt=Math.abs(n[p]-e[p]);if(lt<=u){const M=Math.min(u-1,u-lt);c[p]===w?R[p]=(h[p]>n[p]?-1:1)*M:D[p]=(g[p]>e[p]?-1:1)*M}}if(t!==i){const lt=p==="x"?"y":"x",M=c[p]===d[lt],Y=h[lt]>g[lt],O=h[lt]<g[lt];(c[p]===1&&(!M&&Y||M&&O)||c[p]!==1&&(!M&&O||M&&Y))&&(b=p==="x"?_:W)}const J={x:h.x+R.x,y:h.y+R.y},X={x:g.x+D.x,y:g.y+D.y},ut=Math.max(Math.abs(J.x-b[0].x),Math.abs(X.x-b[0].x)),ot=Math.max(Math.abs(J.y-b[0].y),Math.abs(X.y-b[0].y));ut>=ot?(x=(J.x+X.x)/2,E=b[0].y):(x=b[0].x,E=(J.y+X.y)/2)}return[[n,{x:h.x+R.x,y:h.y+R.y},...b,{x:g.x+D.x,y:g.y+D.y},e],x,E,k,z]}function hO(n,t,e,i){const a=Math.min(U1(n,t)/2,U1(t,e)/2,i),{x:u,y:c}=t;if(n.x===u&&u===e.x||n.y===c&&c===e.y)return`L${u} ${c}`;if(n.y===c){const g=n.x<e.x?-1:1,y=n.y<e.y?1:-1;return`L ${u+a*g},${c}Q ${u},${c} ${u},${c+a*y}`}const d=n.x<e.x?1:-1,h=n.y<e.y?-1:1;return`L ${u},${c+a*h}Q ${u},${c} ${u+a*d},${c}`}function ly({sourceX:n,sourceY:t,sourcePosition:e=Ct.Bottom,targetX:i,targetY:a,targetPosition:u=Ct.Top,borderRadius:c=5,centerX:d,centerY:h,offset:g=20}){const[y,p,w,b,x]=dO({source:{x:n,y:t},sourcePosition:e,target:{x:i,y:a},targetPosition:u,center:{x:d,y:h},offset:g});return[y.reduce((R,D,B)=>{let C="";return B>0&&B<y.length-1?C=hO(y[B-1],D,y[B+1],c):C=`${B===0?"M":"L"}${D.x} ${D.y}`,R+=C,R},""),p,w,b,x]}function q1(n){var t;return n&&!!(n.internals.handleBounds||(t=n.handles)!=null&&t.length)&&!!(n.measured.width||n.width||n.initialWidth)}function gO(n){var p;const{sourceNode:t,targetNode:e}=n;if(!q1(t)||!q1(e))return null;const i=t.internals.handleBounds||H1(t.handles),a=e.internals.handleBounds||H1(e.handles),u=P1((i==null?void 0:i.source)??[],n.sourceHandle),c=P1(n.connectionMode===Ko.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),n.targetHandle);if(!u||!c)return(p=n.onError)==null||p.call(n,"008",xr.error008(u?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const d=(u==null?void 0:u.position)||Ct.Bottom,h=(c==null?void 0:c.position)||Ct.Top,g=Du(t,u,d),y=Du(e,c,h);return{sourceX:g.x,sourceY:g.y,targetX:y.x,targetY:y.y,sourcePosition:d,targetPosition:h}}function H1(n){if(!n)return null;const t=[],e=[];for(const i of n)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&e.push(i);return{source:t,target:e}}function Du(n,t,e=Ct.Left,i=!1){const a=((t==null?void 0:t.x)??0)+n.internals.positionAbsolute.x,u=((t==null?void 0:t.y)??0)+n.internals.positionAbsolute.y,{width:c,height:d}=t??rs(n);if(i)return{x:a+c/2,y:u+d/2};switch((t==null?void 0:t.position)??e){case Ct.Top:return{x:a+c/2,y:u};case Ct.Right:return{x:a+c,y:u+d/2};case Ct.Bottom:return{x:a+c/2,y:u+d};case Ct.Left:return{x:a,y:u+d/2}}}function P1(n,t){return n&&(t?n.find(e=>e.id===t):n[0])||null}function uy(n,t){return n?typeof n=="string"?n:`${t?`${t}__`:""}${Object.keys(n).sort().map(i=>`${i}=${n[i]}`).join("&")}`:""}function mO(n,{id:t,defaultColor:e,defaultMarkerStart:i,defaultMarkerEnd:a}){const u=new Set;return n.reduce((c,d)=>([d.markerStart||i,d.markerEnd||a].forEach(h=>{if(h&&typeof h=="object"){const g=uy(h,t);u.has(g)||(c.push({id:g,color:h.color||e,...h}),u.add(g))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const $y={nodeOrigin:[0,0],nodeExtent:Eu,elevateNodesOnSelect:!0,defaults:{}},yO={...$y,checkEquality:!0};function Vy(n,t){const e={...n};for(const i in t)t[i]!==void 0&&(e[i]=t[i]);return e}function pO(n,t,e){const i=Vy($y,e);for(const a of n.values())if(a.parentId)jy(a,n,t,i);else{const u=Uu(a,i.nodeOrigin),c=Wo(a.extent)?a.extent:i.nodeExtent,d=qa(u,c,rs(a));a.internals.positionAbsolute=d}}function cy(n,t,e,i){var d,h;const a=Vy(yO,i),u=new Map(t),c=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),e.clear();for(const g of n){let y=u.get(g.id);if(a.checkEquality&&g===(y==null?void 0:y.internals.userNode))t.set(g.id,y);else{const p=Uu(g,a.nodeOrigin),w=Wo(g.extent)?g.extent:a.nodeExtent,b=qa(p,w,rs(g));y={...a.defaults,...g,measured:{width:(d=g.measured)==null?void 0:d.width,height:(h=g.measured)==null?void 0:h.height},internals:{positionAbsolute:b,handleBounds:g.measured?y==null?void 0:y.internals.handleBounds:void 0,z:Ex(g,c),userNode:g}},t.set(g.id,y)}g.parentId&&jy(y,t,e,i)}}function vO(n,t){if(!n.parentId)return;const e=t.get(n.parentId);e?e.set(n.id,n):t.set(n.parentId,new Map([[n.id,n]]))}function jy(n,t,e,i){const{elevateNodesOnSelect:a,nodeOrigin:u,nodeExtent:c}=Vy($y,i),d=n.parentId,h=t.get(d);if(!h){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}vO(n,e);const g=a?1e3:0,{x:y,y:p,z:w}=wO(n,h,u,c,g),{positionAbsolute:b}=n.internals,x=y!==b.x||p!==b.y;(x||w!==n.internals.z)&&t.set(n.id,{...n,internals:{...n.internals,positionAbsolute:x?{x:y,y:p}:b,z:w}})}function Ex(n,t){return(Gn(n.zIndex)?n.zIndex:0)+(n.selected?t:0)}function wO(n,t,e,i,a){const{x:u,y:c}=t.internals.positionAbsolute,d=rs(n),h=Uu(n,e),g=Wo(n.extent)?qa(h,n.extent,d):h;let y=qa({x:u+g.x,y:c+g.y},i,d);n.extent==="parent"&&(y=hx(y,d,t));const p=Ex(n,a),w=t.internals.z??0;return{x:y.x,y:y.y,z:w>p?w:p}}function Fy(n,t,e,i=[0,0]){var c;const a=[],u=new Map;for(const d of n){const h=t.get(d.parentId);if(!h)continue;const g=((c=u.get(d.parentId))==null?void 0:c.expandedRect)??Qo(h),y=mx(g,d.rect);u.set(d.parentId,{expandedRect:y,parent:h})}return u.size>0&&u.forEach(({expandedRect:d,parent:h},g)=>{var C;const y=h.internals.positionAbsolute,p=rs(h),w=h.origin??i,b=d.x<y.x?Math.round(Math.abs(y.x-d.x)):0,x=d.y<y.y?Math.round(Math.abs(y.y-d.y)):0,E=Math.max(p.width,Math.round(d.width)),R=Math.max(p.height,Math.round(d.height)),D=(E-p.width)*w[0],B=(R-p.height)*w[1];(b>0||x>0||D||B)&&(a.push({id:g,type:"position",position:{x:h.position.x-b+D,y:h.position.y-x+B}}),(C=e.get(g))==null||C.forEach(k=>{n.some(z=>z.id===k.id)||a.push({id:k.id,type:"position",position:{x:k.position.x+b,y:k.position.y+x}})})),(p.width<d.width||p.height<d.height||b||x)&&a.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:E+(b?w[0]*b-D:0),height:R+(x?w[1]*x-B:0)}})}),a}function bO(n,t,e,i,a,u){const c=i==null?void 0:i.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const h=[],g=window.getComputedStyle(c),{m22:y}=new window.DOMMatrixReadOnly(g.transform),p=[];for(const w of n.values()){const b=t.get(w.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const x=Nd(w.nodeElement),E=b.measured.width!==x.width||b.measured.height!==x.height;if(!!(x.width&&x.height&&(E||!b.internals.handleBounds||w.force))){const D=w.nodeElement.getBoundingClientRect(),B=Wo(b.extent)?b.extent:u;let{positionAbsolute:C}=b.internals;b.parentId&&b.extent==="parent"?C=hx(C,x,t.get(b.parentId)):B&&(C=qa(C,B,x));const k={...b,measured:x,internals:{...b.internals,positionAbsolute:C,handleBounds:{source:z1("source",w.nodeElement,D,y,b.id),target:z1("target",w.nodeElement,D,y,b.id)}}};t.set(b.id,k),b.parentId&&jy(k,t,e,{nodeOrigin:a}),d=!0,E&&(h.push({id:b.id,type:"dimensions",dimensions:x}),b.expandParent&&b.parentId&&p.push({id:b.id,parentId:b.parentId,rect:Qo(k,a)}))}}if(p.length>0){const w=Fy(p,t,e,a);h.push(...w)}return{changes:h,updatedInternals:d}}async function SO({delta:n,panZoom:t,transform:e,translateExtent:i,width:a,height:u}){if(!t||!n.x&&!n.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:e[0]+n.x,y:e[1]+n.y,zoom:e[2]},[[0,0],[a,u]],i),d=!!c&&(c.x!==e[0]||c.y!==e[1]||c.k!==e[2]);return Promise.resolve(d)}function J1(n,t,e,i,a,u){let c=a;const d=i.get(c)||new Map;i.set(c,d.set(e,t)),c=`${a}-${n}`;const h=i.get(c)||new Map;if(i.set(c,h.set(e,t)),u){c=`${a}-${n}-${u}`;const g=i.get(c)||new Map;i.set(c,g.set(e,t))}}function Nx(n,t,e){n.clear(),t.clear();for(const i of e){const{source:a,target:u,sourceHandle:c=null,targetHandle:d=null}=i,h={edgeId:i.id,source:a,target:u,sourceHandle:c,targetHandle:d},g=`${a}-${c}--${u}-${d}`,y=`${u}-${d}--${a}-${c}`;J1("source",h,y,n,a,c),J1("target",h,g,n,u,d),t.set(i.id,i)}}function Cx(n,t){if(!n.parentId)return!1;const e=t.get(n.parentId);return e?e.selected?!0:Cx(e,t):!1}function $1(n,t,e){var a;let i=n;do{if((a=i==null?void 0:i.matches)!=null&&a.call(i,t))return!0;if(i===e)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function xO(n,t,e,i){const a=new Map;for(const[u,c]of n)if((c.selected||c.id===i)&&(!c.parentId||!Cx(c,n))&&(c.draggable||t&&typeof c.draggable>"u")){const d=n.get(u);d&&a.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:e.x-d.internals.positionAbsolute.x,y:e.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function hm({nodeId:n,dragItems:t,nodeLookup:e,dragging:i=!0}){var c,d,h;const a=[];for(const[g,y]of t){const p=(c=e.get(g))==null?void 0:c.internals.userNode;p&&a.push({...p,position:y.position,dragging:i})}if(!n)return[a[0],a];const u=(d=e.get(n))==null?void 0:d.internals.userNode;return[u?{...u,position:((h=t.get(n))==null?void 0:h.position)||u.position,dragging:i}:a[0],a]}function AO({onNodeMouseDown:n,getStoreItems:t,onDragStart:e,onDrag:i,onDragStop:a}){let u={x:null,y:null},c=0,d=new Map,h=!1,g={x:0,y:0},y=null,p=!1,w=null,b=!1;function x({noDragClassName:R,handleSelector:D,domNode:B,isSelectable:C,nodeId:k,nodeClickDistance:z=0}){w=an(B);function j({x:X,y:ut},ot){const{nodeLookup:lt,nodeExtent:M,snapGrid:Y,snapToGrid:O,nodeOrigin:H,onNodeDrag:P,onSelectionDrag:q,onError:N,updateNodePositions:$}=t();u={x:X,y:ut};let it=!1,ct={x:0,y:0,x2:0,y2:0};if(d.size>1&&M){const et=qu(d);ct=ay(et)}for(const[et,gt]of d){if(!lt.has(et))continue;let dt={x:X-gt.distance.x,y:ut-gt.distance.y};O&&(dt=Ed(dt,Y));let mt=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];if(d.size>1&&M&&!gt.extent){const{positionAbsolute:kt}=gt.internals,Dt=kt.x-ct.x+M[0][0],Tt=kt.x+gt.measured.width-ct.x2+M[1][0],It=kt.y-ct.y+M[0][1],jt=kt.y+gt.measured.height-ct.y2+M[1][1];mt=[[Dt,It],[Tt,jt]]}const{position:yt,positionAbsolute:bt}=dx({nodeId:et,nextPosition:dt,nodeLookup:lt,nodeExtent:mt,nodeOrigin:H,onError:N});it=it||gt.position.x!==yt.x||gt.position.y!==yt.y,gt.position=yt,gt.internals.positionAbsolute=bt}if(it&&($(d,!0),ot&&(i||P||!k&&q))){const[et,gt]=hm({nodeId:k,dragItems:d,nodeLookup:lt});i==null||i(ot,d,et,gt),P==null||P(ot,et,gt),k||q==null||q(ot,gt)}}async function _(){if(!y)return;const{transform:X,panBy:ut,autoPanSpeed:ot,autoPanOnNodeDrag:lt}=t();if(!lt){h=!1,cancelAnimationFrame(c);return}const[M,Y]=gx(g,y,ot);(M!==0||Y!==0)&&(u.x=(u.x??0)-M/X[2],u.y=(u.y??0)-Y/X[2],await ut({x:M,y:Y})&&j(u,null)),c=requestAnimationFrame(_)}function W(X){var it;const{nodeLookup:ut,multiSelectionActive:ot,nodesDraggable:lt,transform:M,snapGrid:Y,snapToGrid:O,selectNodesOnDrag:H,onNodeDragStart:P,onSelectionDragStart:q,unselectNodesAndEdges:N}=t();p=!0,(!H||!C)&&!ot&&k&&((it=ut.get(k))!=null&&it.selected||N()),C&&H&&k&&(n==null||n(k));const $=lu(X.sourceEvent,{transform:M,snapGrid:Y,snapToGrid:O,containerBounds:y});if(u=$,d=xO(ut,lt,$,k),d.size>0&&(e||P||!k&&q)){const[ct,et]=hm({nodeId:k,dragItems:d,nodeLookup:ut});e==null||e(X.sourceEvent,d,ct,et),P==null||P(X.sourceEvent,ct,et),k||q==null||q(X.sourceEvent,et)}}const J=jS().clickDistance(z).on("start",X=>{const{domNode:ut,nodeDragThreshold:ot,transform:lt,snapGrid:M,snapToGrid:Y}=t();y=(ut==null?void 0:ut.getBoundingClientRect())||null,b=!1,ot===0&&W(X),u=lu(X.sourceEvent,{transform:lt,snapGrid:M,snapToGrid:Y,containerBounds:y}),g=Qi(X.sourceEvent,y)}).on("drag",X=>{const{autoPanOnNodeDrag:ut,transform:ot,snapGrid:lt,snapToGrid:M,nodeDragThreshold:Y,nodeLookup:O}=t(),H=lu(X.sourceEvent,{transform:ot,snapGrid:lt,snapToGrid:M,containerBounds:y});if((X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||k&&!O.has(k))&&(b=!0),!b){if(!h&&ut&&p&&(h=!0,_()),!p){const P=H.xSnapped-(u.x??0),q=H.ySnapped-(u.y??0);Math.sqrt(P*P+q*q)>Y&&W(X)}(u.x!==H.xSnapped||u.y!==H.ySnapped)&&d&&p&&(g=Qi(X.sourceEvent,y),j(H,X.sourceEvent))}}).on("end",X=>{if(!(!p||b)&&(h=!1,p=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:ut,updateNodePositions:ot,onNodeDragStop:lt,onSelectionDragStop:M}=t();if(ot(d,!1),a||lt||!k&&M){const[Y,O]=hm({nodeId:k,dragItems:d,nodeLookup:ut,dragging:!1});a==null||a(X.sourceEvent,d,Y,O),lt==null||lt(X.sourceEvent,Y,O),k||M==null||M(X.sourceEvent,O)}}}).filter(X=>{const ut=X.target;return!X.button&&(!R||!$1(ut,`.${R}`,B))&&(!D||$1(ut,D,B))});w.call(J)}function E(){w==null||w.on(".drag",null)}return{update:x,destroy:E}}function TO(n,t,e){const i=[],a={x:n.x-e,y:n.y-e,width:e*2,height:e*2};for(const u of t.values())Cu(a,Qo(u))>0&&i.push(u);return i}const EO=250;function NO(n,t,e,i){var d,h;let a=[],u=1/0;const c=TO(n,e,t+EO);for(const g of c){const y=[...((d=g.internals.handleBounds)==null?void 0:d.source)??[],...((h=g.internals.handleBounds)==null?void 0:h.target)??[]];for(const p of y){if(i.nodeId===p.nodeId&&i.type===p.type&&i.id===p.id)continue;const{x:w,y:b}=Du(g,p,p.position,!0),x=Math.sqrt(Math.pow(w-n.x,2)+Math.pow(b-n.y,2));x>t||(x<u?(a=[{...p,x:w,y:b}],u=x):x===u&&a.push({...p,x:w,y:b}))}}if(!a.length)return null;if(a.length>1){const g=i.type==="source"?"target":"source";return a.find(y=>y.type===g)??a[0]}return a[0]}function Dx(n,t,e,i,a,u=!1){var g,y,p;const c=i.get(n);if(!c)return null;const d=a==="strict"?(g=c.internals.handleBounds)==null?void 0:g[t]:[...((y=c.internals.handleBounds)==null?void 0:y.source)??[],...((p=c.internals.handleBounds)==null?void 0:p.target)??[]],h=(e?d==null?void 0:d.find(w=>w.id===e):d==null?void 0:d[0])??null;return h&&u?{...h,...Du(c,h,h.position,!0)}:h}function kx(n,t){return n||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function CO(n,t){let e=null;return t?e=!0:n&&!t&&(e=!1),e}const Ox=()=>!0;function DO(n,{connectionMode:t,connectionRadius:e,handleId:i,nodeId:a,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:h,lib:g,autoPanOnConnect:y,flowId:p,panBy:w,cancelConnection:b,onConnectStart:x,onConnect:E,onConnectEnd:R,isValidConnection:D=Ox,onReconnectEnd:B,updateConnection:C,getTransform:k,getFromHandle:z,autoPanSpeed:j}){const _=wx(n.target);let W=0,J;const{x:X,y:ut}=Qi(n),ot=_==null?void 0:_.elementFromPoint(X,ut),lt=kx(u,ot),M=d==null?void 0:d.getBoundingClientRect();if(!M||!lt)return;const Y=Dx(a,lt,i,h,t);if(!Y)return;let O=Qi(n,M),H=!1,P=null,q=!1,N=null;function $(){if(!y||!M)return;const[bt,kt]=gx(O,M,j);w({x:bt,y:kt}),W=requestAnimationFrame($)}const it={...Y,nodeId:a,type:lt,position:Y.position},ct=h.get(a),gt={inProgress:!0,isValid:null,from:Du(ct,it,Ct.Left,!0),fromHandle:it,fromPosition:it.position,fromNode:ct,to:O,toHandle:null,toPosition:M1[it.position],toNode:null};C(gt);let dt=gt;x==null||x(n,{nodeId:a,handleId:i,handleType:lt});function mt(bt){if(!z()||!it){yt(bt);return}const kt=k();O=Qi(bt,M),J=NO(Hu(O,kt,!1,[1,1]),e,h,it),H||($(),H=!0);const Dt=Mx(bt,{handle:J,connectionMode:t,fromNodeId:a,fromHandleId:i,fromType:c?"target":"source",isValidConnection:D,doc:_,lib:g,flowId:p,nodeLookup:h});N=Dt.handleDomNode,P=Dt.connection,q=CO(!!J,Dt.isValid);const Tt={...dt,isValid:q,to:J&&q?yx({x:J.x,y:J.y},kt):O,toHandle:Dt.toHandle,toPosition:q&&Dt.toHandle?Dt.toHandle.position:M1[it.position],toNode:Dt.toHandle?h.get(Dt.toHandle.nodeId):null};q&&J&&dt.toHandle&&Tt.toHandle&&dt.toHandle.type===Tt.toHandle.type&&dt.toHandle.nodeId===Tt.toHandle.nodeId&&dt.toHandle.id===Tt.toHandle.id&&dt.to.x===Tt.to.x&&dt.to.y===Tt.to.y||(C(Tt),dt=Tt)}function yt(bt){(J||N)&&P&&q&&(E==null||E(P));const{inProgress:kt,...Dt}=dt,Tt={...Dt,toPosition:dt.toHandle?dt.toPosition:null};R==null||R(bt,Tt),u&&(B==null||B(bt,Tt)),b(),cancelAnimationFrame(W),H=!1,q=!1,P=null,N=null,_.removeEventListener("mousemove",mt),_.removeEventListener("mouseup",yt),_.removeEventListener("touchmove",mt),_.removeEventListener("touchend",yt)}_.addEventListener("mousemove",mt),_.addEventListener("mouseup",yt),_.addEventListener("touchmove",mt),_.addEventListener("touchend",yt)}function Mx(n,{handle:t,connectionMode:e,fromNodeId:i,fromHandleId:a,fromType:u,doc:c,lib:d,flowId:h,isValidConnection:g=Ox,nodeLookup:y}){const p=u==="target",w=t?c.querySelector(`.${d}-flow__handle[data-id="${h}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:b,y:x}=Qi(n),E=c.elementFromPoint(b,x),R=E!=null&&E.classList.contains(`${d}-flow__handle`)?E:w,D={handleDomNode:R,isValid:!1,connection:null,toHandle:null};if(R){const B=kx(void 0,R),C=R.getAttribute("data-nodeid"),k=R.getAttribute("data-handleid"),z=R.classList.contains("connectable"),j=R.classList.contains("connectableend");if(!C||!B)return D;const _={source:p?C:i,sourceHandle:p?k:a,target:p?i:C,targetHandle:p?a:k};D.connection=_;const J=z&&j&&(e===Ko.Strict?p&&B==="source"||!p&&B==="target":C!==i||k!==a);D.isValid=J&&g(_),D.toHandle=Dx(C,B,k,y,e,!1)}return D}const fy={onPointerDown:DO,isValid:Mx};function kO({domNode:n,panZoom:t,getTransform:e,getViewScale:i}){const a=an(n);function u({translateExtent:d,width:h,height:g,zoomStep:y=10,pannable:p=!0,zoomable:w=!0,inversePan:b=!1}){const x=C=>{const k=e();if(C.sourceEvent.type!=="wheel"||!t)return;const z=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*y,j=k[2]*Math.pow(2,z);t.scaleTo(j)};let E=[0,0];const R=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(E=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},D=C=>{const k=e();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const z=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],j=[z[0]-E[0],z[1]-E[1]];E=z;const _=i()*Math.max(k[2],Math.log(k[2]))*(b?-1:1),W={x:k[0]-j[0]*_,y:k[1]-j[1]*_},J=[[0,0],[h,g]];t.setViewportConstrained({x:W.x,y:W.y,zoom:k[2]},J,d)},B=ax().on("start",R).on("zoom",p?D:null).on("zoom.wheel",w?x:null);a.call(B,{})}function c(){a.on("zoom",null)}return{update:u,destroy:c,pointer:Vn}}const OO=(n,t)=>n.x!==t.x||n.y!==t.y||n.zoom!==t.k,Cd=n=>({x:n.x,y:n.y,zoom:n.k}),gm=({x:n,y:t,zoom:e})=>xd.translate(n,t).scale(e),Io=(n,t)=>n.target.closest(`.${t}`),Rx=(n,t)=>t===2&&Array.isArray(n)&&n.includes(2),mm=(n,t=0,e=()=>{})=>{const i=typeof t=="number"&&t>0;return i||e(),i?n.transition().duration(t).on("end",e):n},Ix=n=>{const t=n.ctrlKey&&ud()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*t};function MO({zoomPanValues:n,noWheelClassName:t,d3Selection:e,d3Zoom:i,panOnScrollMode:a,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:h,onPanZoomEnd:g}){return y=>{if(Io(y,t))return!1;y.preventDefault(),y.stopImmediatePropagation();const p=e.property("__zoom").k||1;if(y.ctrlKey&&c){const R=Vn(y),D=Ix(y),B=p*Math.pow(2,D);i.scaleTo(e,B,R,y);return}const w=y.deltaMode===1?20:1;let b=a===Ba.Vertical?0:y.deltaX*w,x=a===Ba.Horizontal?0:y.deltaY*w;!ud()&&y.shiftKey&&a!==Ba.Vertical&&(b=y.deltaY*w,x=0),i.translateBy(e,-(b/p)*u,-(x/p)*u,{internal:!0});const E=Cd(e.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling||(n.isPanScrolling=!0,d==null||d(y,E)),n.isPanScrolling&&(h==null||h(y,E),n.panScrollTimeout=setTimeout(()=>{g==null||g(y,E),n.isPanScrolling=!1},150))}}function RO({noWheelClassName:n,preventScrolling:t,d3ZoomHandler:e}){return function(i,a){if(!t&&i.type==="wheel"&&!i.ctrlKey||Io(i,n))return null;i.preventDefault(),e.call(this,i,a)}}function IO({zoomPanValues:n,onDraggingChange:t,onPanZoomStart:e}){return i=>{var u,c,d;if((u=i.sourceEvent)!=null&&u.internal)return;const a=Cd(i.transform);n.mouseButton=((c=i.sourceEvent)==null?void 0:c.button)||0,n.isZoomingOrPanning=!0,n.prevViewport=a,((d=i.sourceEvent)==null?void 0:d.type)==="mousedown"&&t(!0),e&&(e==null||e(i.sourceEvent,a))}}function BO({zoomPanValues:n,panOnDrag:t,onPaneContextMenu:e,onTransformChange:i,onPanZoom:a}){return u=>{var c,d;n.usedRightMouseButton=!!(e&&Rx(t,n.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||i([u.transform.x,u.transform.y,u.transform.k]),a&&!((d=u.sourceEvent)!=null&&d.internal)&&(a==null||a(u.sourceEvent,Cd(u.transform)))}}function zO({zoomPanValues:n,panOnDrag:t,panOnScroll:e,onDraggingChange:i,onPanZoomEnd:a,onPaneContextMenu:u}){return c=>{var d;if(!((d=c.sourceEvent)!=null&&d.internal)&&(n.isZoomingOrPanning=!1,u&&Rx(t,n.mouseButton??0)&&!n.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),n.usedRightMouseButton=!1,i(!1),a&&OO(n.prevViewport,c.transform))){const h=Cd(c.transform);n.prevViewport=h,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,h)},e?150:0)}}}function LO({zoomActivationKeyPressed:n,zoomOnScroll:t,zoomOnPinch:e,panOnDrag:i,panOnScroll:a,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:h,lib:g}){return y=>{var x;const p=n||t,w=e&&y.ctrlKey;if(y.button===1&&y.type==="mousedown"&&(Io(y,`${g}-flow__node`)||Io(y,`${g}-flow__edge`)))return!0;if(!i&&!p&&!a&&!u&&!e||c||Io(y,d)&&y.type==="wheel"||Io(y,h)&&(y.type!=="wheel"||a&&y.type==="wheel"&&!n)||!e&&y.ctrlKey&&y.type==="wheel")return!1;if(!e&&y.type==="touchstart"&&((x=y.touches)==null?void 0:x.length)>1)return y.preventDefault(),!1;if(!p&&!a&&!w&&y.type==="wheel"||!i&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(i)&&!i.includes(y.button)&&y.type==="mousedown")return!1;const b=Array.isArray(i)&&i.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||y.type==="wheel")&&b}}function _O({domNode:n,minZoom:t,maxZoom:e,paneClickDistance:i,translateExtent:a,viewport:u,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:h,onDraggingChange:g}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=n.getBoundingClientRect(),w=ax().clickDistance(!Gn(i)||i<0?0:i).scaleExtent([t,e]).translateExtent(a),b=an(n).call(w);C({x:u.x,y:u.y,zoom:Zo(u.zoom,t,e)},[[0,0],[p.width,p.height]],a);const x=b.on("wheel.zoom"),E=b.on("dblclick.zoom");w.wheelDelta(Ix);function R(ot,lt){return b?new Promise(M=>{w==null||w.transform(mm(b,lt==null?void 0:lt.duration,()=>M(!0)),ot)}):Promise.resolve(!1)}function D({noWheelClassName:ot,noPanClassName:lt,onPaneContextMenu:M,userSelectionActive:Y,panOnScroll:O,panOnDrag:H,panOnScrollMode:P,panOnScrollSpeed:q,preventScrolling:N,zoomOnPinch:$,zoomOnScroll:it,zoomOnDoubleClick:ct,zoomActivationKeyPressed:et,lib:gt,onTransformChange:dt}){Y&&!y.isZoomingOrPanning&&B();const yt=O&&!et&&!Y?MO({zoomPanValues:y,noWheelClassName:ot,d3Selection:b,d3Zoom:w,panOnScrollMode:P,panOnScrollSpeed:q,zoomOnPinch:$,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:h}):RO({noWheelClassName:ot,preventScrolling:N,d3ZoomHandler:x});if(b.on("wheel.zoom",yt,{passive:!1}),!Y){const kt=IO({zoomPanValues:y,onDraggingChange:g,onPanZoomStart:d});w.on("start",kt);const Dt=BO({zoomPanValues:y,panOnDrag:H,onPaneContextMenu:!!M,onPanZoom:c,onTransformChange:dt});w.on("zoom",Dt);const Tt=zO({zoomPanValues:y,panOnDrag:H,panOnScroll:O,onPaneContextMenu:M,onPanZoomEnd:h,onDraggingChange:g});w.on("end",Tt)}const bt=LO({zoomActivationKeyPressed:et,panOnDrag:H,zoomOnScroll:it,panOnScroll:O,zoomOnDoubleClick:ct,zoomOnPinch:$,userSelectionActive:Y,noPanClassName:lt,noWheelClassName:ot,lib:gt});w.filter(bt),ct?b.on("dblclick.zoom",E):b.on("dblclick.zoom",null)}function B(){w.on("zoom",null)}async function C(ot,lt,M){const Y=gm(ot),O=w==null?void 0:w.constrain()(Y,lt,M);return O&&await R(O),new Promise(H=>H(O))}async function k(ot,lt){const M=gm(ot);return await R(M,lt),new Promise(Y=>Y(M))}function z(ot){if(b){const lt=gm(ot),M=b.property("__zoom");(M.k!==ot.zoom||M.x!==ot.x||M.y!==ot.y)&&(w==null||w.transform(b,lt,null,{sync:!0}))}}function j(){const ot=b?sx(b.node()):{x:0,y:0,k:1};return{x:ot.x,y:ot.y,zoom:ot.k}}function _(ot,lt){return b?new Promise(M=>{w==null||w.scaleTo(mm(b,lt==null?void 0:lt.duration,()=>M(!0)),ot)}):Promise.resolve(!1)}function W(ot,lt){return b?new Promise(M=>{w==null||w.scaleBy(mm(b,lt==null?void 0:lt.duration,()=>M(!0)),ot)}):Promise.resolve(!1)}function J(ot){w==null||w.scaleExtent(ot)}function X(ot){w==null||w.translateExtent(ot)}function ut(ot){const lt=!Gn(ot)||ot<0?0:ot;w==null||w.clickDistance(lt)}return{update:D,destroy:B,setViewport:k,setViewportConstrained:C,getViewport:j,scaleTo:_,scaleBy:W,setScaleExtent:J,setTranslateExtent:X,syncViewport:z,setClickDistance:ut}}var uu;(function(n){n.Line="line",n.Handle="handle"})(uu||(uu={}));function UO({width:n,prevWidth:t,height:e,prevHeight:i,affectsX:a,affectsY:u}){const c=n-t,d=e-i,h=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&a&&(h[0]=h[0]*-1),d&&u&&(h[1]=h[1]*-1),h}function qO(n){const t=n.includes("right")||n.includes("left"),e=n.includes("bottom")||n.includes("top"),i=n.includes("left"),a=n.includes("top");return{isHorizontal:t,isVertical:e,affectsX:i,affectsY:a}}function Is(n,t){return Math.max(0,t-n)}function Bs(n,t){return Math.max(0,n-t)}function yf(n,t,e){return Math.max(0,t-n,n-e)}function V1(n,t){return n?!t:t}function HO(n,t,e,i,a,u,c,d){let{affectsX:h,affectsY:g}=t;const{isHorizontal:y,isVertical:p}=t,w=y&&p,{xSnapped:b,ySnapped:x}=e,{minWidth:E,maxWidth:R,minHeight:D,maxHeight:B}=i,{x:C,y:k,width:z,height:j,aspectRatio:_}=n;let W=Math.floor(y?b-n.pointerX:0),J=Math.floor(p?x-n.pointerY:0);const X=z+(h?-W:W),ut=j+(g?-J:J),ot=-u[0]*z,lt=-u[1]*j;let M=yf(X,E,R),Y=yf(ut,D,B);if(c){let P=0,q=0;h&&W<0?P=Is(C+W+ot,c[0][0]):!h&&W>0&&(P=Bs(C+X+ot,c[1][0])),g&&J<0?q=Is(k+J+lt,c[0][1]):!g&&J>0&&(q=Bs(k+ut+lt,c[1][1])),M=Math.max(M,P),Y=Math.max(Y,q)}if(d){let P=0,q=0;h&&W>0?P=Bs(C+W,d[0][0]):!h&&W<0&&(P=Is(C+X,d[1][0])),g&&J>0?q=Bs(k+J,d[0][1]):!g&&J<0&&(q=Is(k+ut,d[1][1])),M=Math.max(M,P),Y=Math.max(Y,q)}if(a){if(y){const P=yf(X/_,D,B)*_;if(M=Math.max(M,P),c){let q=0;!h&&!g||h&&!g&&w?q=Bs(k+lt+X/_,c[1][1])*_:q=Is(k+lt+(h?W:-W)/_,c[0][1])*_,M=Math.max(M,q)}if(d){let q=0;!h&&!g||h&&!g&&w?q=Is(k+X/_,d[1][1])*_:q=Bs(k+(h?W:-W)/_,d[0][1])*_,M=Math.max(M,q)}}if(p){const P=yf(ut*_,E,R)/_;if(Y=Math.max(Y,P),c){let q=0;!h&&!g||g&&!h&&w?q=Bs(C+ut*_+ot,c[1][0])/_:q=Is(C+(g?J:-J)*_+ot,c[0][0])/_,Y=Math.max(Y,q)}if(d){let q=0;!h&&!g||g&&!h&&w?q=Is(C+ut*_,d[1][0])/_:q=Bs(C+(g?J:-J)*_,d[0][0])/_,Y=Math.max(Y,q)}}}J=J+(J<0?Y:-Y),W=W+(W<0?M:-M),a&&(w?X>ut*_?J=(V1(h,g)?-W:W)/_:W=(V1(h,g)?-J:J)*_:y?(J=W/_,g=h):(W=J*_,h=g));const O=h?C+W:C,H=g?k+J:k;return{width:z+(h?-W:W),height:j+(g?-J:J),x:u[0]*W*(h?-1:1)+O,y:u[1]*J*(g?-1:1)+H}}const Bx={width:0,height:0,x:0,y:0},PO={...Bx,pointerX:0,pointerY:0,aspectRatio:1};function JO(n){return[[0,0],[n.measured.width,n.measured.height]]}function $O(n,t,e){const i=t.position.x+n.position.x,a=t.position.y+n.position.y,u=n.measured.width??0,c=n.measured.height??0,d=e[0]*u,h=e[1]*c;return[[i-d,a-h],[i+u-d,a+c-h]]}function VO({domNode:n,nodeId:t,getStoreItems:e,onChange:i,onEnd:a}){const u=an(n);function c({controlPosition:h,boundaries:g,keepAspectRatio:y,onResizeStart:p,onResize:w,onResizeEnd:b,shouldResize:x}){let E={...Bx},R={...PO};const D=qO(h);let B,C=null,k=[],z,j,_;const W=jS().on("start",J=>{const{nodeLookup:X,transform:ut,snapGrid:ot,snapToGrid:lt,nodeOrigin:M,paneDomNode:Y}=e();if(B=X.get(t),!B)return;C=(Y==null?void 0:Y.getBoundingClientRect())??null;const{xSnapped:O,ySnapped:H}=lu(J.sourceEvent,{transform:ut,snapGrid:ot,snapToGrid:lt,containerBounds:C});E={width:B.measured.width??0,height:B.measured.height??0,x:B.position.x??0,y:B.position.y??0},R={...E,pointerX:O,pointerY:H,aspectRatio:E.width/E.height},z=void 0,B.parentId&&(B.extent==="parent"||B.expandParent)&&(z=X.get(B.parentId),j=z&&B.extent==="parent"?JO(z):void 0),k=[],_=void 0;for(const[P,q]of X)if(q.parentId===t&&(k.push({id:P,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const N=$O(q,B,q.origin??M);_?_=[[Math.min(N[0][0],_[0][0]),Math.min(N[0][1],_[0][1])],[Math.max(N[1][0],_[1][0]),Math.max(N[1][1],_[1][1])]]:_=N}p==null||p(J,{...E})}).on("drag",J=>{const{transform:X,snapGrid:ut,snapToGrid:ot,nodeOrigin:lt}=e(),M=lu(J.sourceEvent,{transform:X,snapGrid:ut,snapToGrid:ot,containerBounds:C}),Y=[];if(!B)return;const{x:O,y:H,width:P,height:q}=E,N={},$=B.origin??lt,{width:it,height:ct,x:et,y:gt}=HO(R,D,M,g,y,$,j,_),dt=it!==P,mt=ct!==q,yt=et!==O&&dt,bt=gt!==H&&mt;if(!yt&&!bt&&!dt&&!mt)return;if((yt||bt||$[0]===1||$[1]===1)&&(N.x=yt?et:E.x,N.y=bt?gt:E.y,E.x=N.x,E.y=N.y,k.length>0)){const It=et-O,jt=gt-H;for(const ie of k)ie.position={x:ie.position.x-It+$[0]*(it-P),y:ie.position.y-jt+$[1]*(ct-q)},Y.push(ie)}if((dt||mt)&&(N.width=dt?it:E.width,N.height=mt?ct:E.height,E.width=N.width,E.height=N.height),z&&B.expandParent){const It=$[0]*(N.width??0);N.x&&N.x<It&&(E.x=It,R.x=R.x-(N.x-It));const jt=$[1]*(N.height??0);N.y&&N.y<jt&&(E.y=jt,R.y=R.y-(N.y-jt))}const kt=UO({width:E.width,prevWidth:P,height:E.height,prevHeight:q,affectsX:D.affectsX,affectsY:D.affectsY}),Dt={...E,direction:kt};(x==null?void 0:x(J,Dt))!==!1&&(w==null||w(J,Dt),i(N,Y))}).on("end",J=>{b==null||b(J,{...E}),a==null||a()});u.call(W)}function d(){u.on(".drag",null)}return{update:c,destroy:d}}var ym={exports:{}},pm={},vm={exports:{}},wm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function jO(){if(j1)return wm;j1=1;var n=Ou();function t(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,a=n.useEffect,u=n.useLayoutEffect,c=n.useDebugValue;function d(p,w){var b=w(),x=i({inst:{value:b,getSnapshot:w}}),E=x[0].inst,R=x[1];return u(function(){E.value=b,E.getSnapshot=w,h(E)&&R({inst:E})},[p,b,w]),a(function(){return h(E)&&R({inst:E}),p(function(){h(E)&&R({inst:E})})},[p]),c(b),b}function h(p){var w=p.getSnapshot;p=p.value;try{var b=w();return!e(p,b)}catch{return!0}}function g(p,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return wm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,wm}var F1;function FO(){return F1||(F1=1,vm.exports=jO()),vm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function YO(){if(Y1)return pm;Y1=1;var n=Ou(),t=FO();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var i=typeof Object.is=="function"?Object.is:e,a=t.useSyncExternalStore,u=n.useRef,c=n.useEffect,d=n.useMemo,h=n.useDebugValue;return pm.useSyncExternalStoreWithSelector=function(g,y,p,w,b){var x=u(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=d(function(){function D(j){if(!B){if(B=!0,C=j,j=w(j),b!==void 0&&E.hasValue){var _=E.value;if(b(_,j))return k=_}return k=j}if(_=k,i(C,j))return _;var W=w(j);return b!==void 0&&b(_,W)?_:(C=j,k=W)}var B=!1,C,k,z=p===void 0?null:p;return[function(){return D(y())},z===null?void 0:function(){return D(z())}]},[y,p,w,b]);var R=a(g,x[0],x[1]);return c(function(){E.hasValue=!0,E.value=R},[R]),h(R),R},pm}var G1;function GO(){return G1||(G1=1,ym.exports=YO()),ym.exports}var XO=GO();const KO=wb(XO),ZO={},X1=n=>{let t;const e=new Set,i=(y,p)=>{const w=typeof y=="function"?y(t):y;if(!Object.is(w,t)){const b=t;t=p??(typeof w!="object"||w===null)?w:Object.assign({},t,w),e.forEach(x=>x(t,b))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>g,subscribe:y=>(e.add(y),()=>e.delete(y)),destroy:()=>{(ZO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),e.clear()}},g=t=n(i,a,h);return h},QO=n=>n?X1(n):X1,{useDebugValue:WO}=DE,{useSyncExternalStoreWithSelector:tM}=KO,eM=n=>n;function zx(n,t=eM,e){const i=tM(n.subscribe,n.getState,n.getServerState||n.getInitialState,t,e);return WO(i),i}const K1=(n,t)=>{const e=QO(n),i=(a,u=t)=>zx(e,a,u);return Object.assign(i,e),i},nM=(n,t)=>n?K1(n,t):K1;function fe(n,t){if(Object.is(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;if(n instanceof Map&&t instanceof Map){if(n.size!==t.size)return!1;for(const[i,a]of n)if(!Object.is(a,t.get(i)))return!1;return!0}if(n instanceof Set&&t instanceof Set){if(n.size!==t.size)return!1;for(const i of n)if(!t.has(i))return!1;return!0}const e=Object.keys(n);if(e.length!==Object.keys(t).length)return!1;for(const i of e)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(n[i],t[i]))return!1;return!0}bb();const Dd=tt.createContext(null),rM=Dd.Provider,Lx=xr.error001();function Pt(n,t){const e=tt.useContext(Dd);if(e===null)throw new Error(Lx);return zx(e,n,t)}function ee(){const n=tt.useContext(Dd);if(n===null)throw new Error(Lx);return tt.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const Z1={display:"none"},iM={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_x="react-flow__node-desc",Ux="react-flow__edge-desc",sM="react-flow__aria-live",aM=n=>n.ariaLiveMessage;function oM({rfId:n}){const t=Pt(aM);return Q.jsx("div",{id:`${sM}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:iM,children:t})}function lM({rfId:n,disableKeyboardA11y:t}){return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{id:`${_x}-${n}`,style:Z1,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),Q.jsx("div",{id:`${Ux}-${n}`,style:Z1,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&Q.jsx(oM,{rfId:n})]})}const uM=n=>n.userSelectionActive?"none":"all",kd=tt.forwardRef(({position:n="top-left",children:t,className:e,style:i,...a},u)=>{const c=Pt(uM),d=`${n}`.split("-");return Q.jsx("div",{className:be(["react-flow__panel",e,...d]),style:{...i,pointerEvents:c},ref:u,...a,children:t})});kd.displayName="Panel";function cM({proOptions:n,position:t="bottom-right"}){return n!=null&&n.hideAttribution?null:Q.jsx(kd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:Q.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const fM=n=>{const t=[],e=[];for(const[,i]of n.nodeLookup)i.selected&&t.push(i.internals.userNode);for(const[,i]of n.edgeLookup)i.selected&&e.push(i);return{selectedNodes:t,selectedEdges:e}},pf=n=>n.id;function dM(n,t){return fe(n.selectedNodes.map(pf),t.selectedNodes.map(pf))&&fe(n.selectedEdges.map(pf),t.selectedEdges.map(pf))}function hM({onSelectionChange:n}){const t=ee(),{selectedNodes:e,selectedEdges:i}=Pt(fM,dM);return tt.useEffect(()=>{const a={nodes:e,edges:i};n==null||n(a),t.getState().onSelectionChangeHandlers.forEach(u=>u(a))},[e,i,n]),null}const gM=n=>!!n.onSelectionChangeHandlers;function mM({onSelectionChange:n}){const t=Pt(gM);return n||t?Q.jsx(hM,{onSelectionChange:n}):null}const qx=[0,0],yM={x:0,y:0,zoom:1},pM=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Q1=[...pM,"rfId"],vM=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setPaneClickDistance:n.setPaneClickDistance}),W1={translateExtent:Eu,nodeOrigin:qx,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function wM(n){const{setNodes:t,setEdges:e,setMinZoom:i,setMaxZoom:a,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:h,setPaneClickDistance:g}=Pt(vM,fe),y=ee();tt.useEffect(()=>(h(n.defaultNodes,n.defaultEdges),()=>{p.current=W1,d()}),[]);const p=tt.useRef(W1);return tt.useEffect(()=>{for(const w of Q1){const b=n[w],x=p.current[w];b!==x&&(typeof n[w]>"u"||(w==="nodes"?t(b):w==="edges"?e(b):w==="minZoom"?i(b):w==="maxZoom"?a(b):w==="translateExtent"?u(b):w==="nodeExtent"?c(b):w==="paneClickDistance"?g(b):w==="fitView"?y.setState({fitViewOnInit:b}):w==="fitViewOptions"?y.setState({fitViewOnInitOptions:b}):y.setState({[w]:b})))}p.current=n},Q1.map(w=>n[w])),null}function tb(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function bM(n){var i;const[t,e]=tt.useState(n==="system"?null:n);return tt.useEffect(()=>{if(n!=="system"){e(n);return}const a=tb(),u=()=>e(a!=null&&a.matches?"dark":"light");return u(),a==null||a.addEventListener("change",u),()=>{a==null||a.removeEventListener("change",u)}},[n]),t!==null?t:(i=tb())!=null&&i.matches?"dark":"light"}const eb=typeof document<"u"?document:null;function ku(n=null,t={target:eb,actInsideInputWithModifier:!0}){const[e,i]=tt.useState(!1),a=tt.useRef(!1),u=tt.useRef(new Set([])),[c,d]=tt.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),y=g.reduce((p,w)=>p.concat(...w),[]);return[g,y]}return[[],[]]},[n]);return tt.useEffect(()=>{const h=(t==null?void 0:t.target)||eb;if(n!==null){const g=w=>{if(a.current=w.ctrlKey||w.metaKey||w.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&oy(w))return!1;const x=rb(w.code,d);u.current.add(w[x]),nb(c,u.current,!1)&&(w.preventDefault(),i(!0))},y=w=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&oy(w))return!1;const x=rb(w.code,d);nb(c,u.current,!0)?(i(!1),u.current.clear()):u.current.delete(w[x]),w.key==="Meta"&&u.current.clear(),a.current=!1},p=()=>{u.current.clear(),i(!1)};return h==null||h.addEventListener("keydown",g),h==null||h.addEventListener("keyup",y),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{h==null||h.removeEventListener("keydown",g),h==null||h.removeEventListener("keyup",y),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[n,i]),e}function nb(n,t,e){return n.filter(i=>e||i.length===t.size).some(i=>i.every(a=>t.has(a)))}function rb(n,t){return t.includes(n)?"code":"key"}const SM=()=>{const n=ee();return tt.useMemo(()=>({zoomIn:t=>{const{panZoom:e}=n.getState();return e?e.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:e}=n.getState();return e?e.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,e)=>{const{panZoom:i}=n.getState();return i?i.scaleTo(t,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(t,e)=>{const{transform:[i,a,u],panZoom:c}=n.getState();return c?(await c.setViewport({x:t.x??i,y:t.y??a,zoom:t.zoom??u},{duration:e==null?void 0:e.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,e,i]=n.getState().transform;return{x:t,y:e,zoom:i}},fitView:t=>{const{nodeLookup:e,minZoom:i,maxZoom:a,panZoom:u,domNode:c}=n.getState();if(!u||!c)return Promise.resolve(!1);const d=iy(e,t),{width:h,height:g}=Nd(c);return sy({nodes:d,width:h,height:g,minZoom:i,maxZoom:a,panZoom:u},t)},setCenter:async(t,e,i)=>{const{width:a,height:u,maxZoom:c,panZoom:d}=n.getState(),h=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,g=a/2-t*h,y=u/2-e*h;return d?(await d.setViewport({x:g,y,zoom:h},{duration:i==null?void 0:i.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,e)=>{const{width:i,height:a,minZoom:u,maxZoom:c,panZoom:d}=n.getState(),h=Jy(t,i,a,u,c,(e==null?void 0:e.padding)??.1);return d?(await d.setViewport(h,{duration:e==null?void 0:e.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,e={})=>{const{transform:i,snapGrid:a,snapToGrid:u,domNode:c}=n.getState();if(!c)return t;const{x:d,y:h}=c.getBoundingClientRect(),g={x:t.x-d,y:t.y-h},y=e.snapGrid??a,p=e.snapToGrid??u;return Hu(g,i,p,y)},flowToScreenPosition:t=>{const{transform:e,domNode:i}=n.getState();if(!i)return t;const{x:a,y:u}=i.getBoundingClientRect(),c=yx(t,e);return{x:c.x+a,y:c.y+u}}}),[])};function Hx(n,t){const e=[],i=new Map,a=[];for(const u of n)if(u.type==="add"){a.push(u);continue}else if(u.type==="remove"||u.type==="replace")i.set(u.id,[u]);else{const c=i.get(u.id);c?c.push(u):i.set(u.id,[u])}for(const u of t){const c=i.get(u.id);if(!c){e.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){e.push({...c[0].item});continue}const d={...u};for(const h of c)xM(h,d);e.push(d)}return a.length&&a.forEach(u=>{u.index!==void 0?e.splice(u.index,0,{...u.item}):e.push({...u.item})}),e}function xM(n,t){switch(n.type){case"select":{t.selected=n.selected;break}case"position":{typeof n.position<"u"&&(t.position=n.position),typeof n.dragging<"u"&&(t.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=n.dimensions.width,t.measured.height=n.dimensions.height,n.setAttributes&&(t.width=n.dimensions.width,t.height=n.dimensions.height)),typeof n.resizing=="boolean"&&(t.resizing=n.resizing);break}}}function AM(n,t){return Hx(n,t)}function TM(n,t){return Hx(n,t)}function Ca(n,t){return{id:n,type:"select",selected:t}}function Bo(n,t=new Set,e=!1){const i=[];for(const[a,u]of n){const c=t.has(a);!(u.selected===void 0&&!c)&&u.selected!==c&&(e&&(u.selected=c),i.push(Ca(u.id,c)))}return i}function ib({items:n=[],lookup:t}){var a;const e=[],i=new Map(n.map(u=>[u.id,u]));for(const[u,c]of n.entries()){const d=t.get(c.id),h=((a=d==null?void 0:d.internals)==null?void 0:a.userNode)??d;h!==void 0&&h!==c&&e.push({id:c.id,item:c,type:"replace"}),h===void 0&&e.push({item:c,type:"add",index:u})}for(const[u]of t)i.get(u)===void 0&&e.push({id:u,type:"remove"});return e}function sb(n){return{id:n.id,type:"remove"}}const ab=n=>tO(n),EM=n=>cx(n);function Px(n){return tt.forwardRef(n)}const NM=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;function ob(n){const[t,e]=tt.useState(BigInt(0)),[i]=tt.useState(()=>CM(()=>e(a=>a+BigInt(1))));return NM(()=>{const a=i.get();a.length&&(n(a),i.reset())},[t]),i}function CM(n){let t=[];return{get:()=>t,reset:()=>{t=[]},push:e=>{t.push(e),n()}}}const Jx=tt.createContext(null);function DM({children:n}){const t=ee(),e=tt.useCallback(d=>{const{nodes:h=[],setNodes:g,hasDefaultNodes:y,onNodesChange:p,nodeLookup:w}=t.getState();let b=h;for(const x of d)b=typeof x=="function"?x(b):x;y?g(b):p&&p(ib({items:b,lookup:w}))},[]),i=ob(e),a=tt.useCallback(d=>{const{edges:h=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:p,edgeLookup:w}=t.getState();let b=h;for(const x of d)b=typeof x=="function"?x(b):x;y?g(b):p&&p(ib({items:b,lookup:w}))},[]),u=ob(a),c=tt.useMemo(()=>({nodeQueue:i,edgeQueue:u}),[]);return Q.jsx(Jx.Provider,{value:c,children:n})}function kM(){const n=tt.useContext(Jx);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const OM=n=>!!n.panZoom;function Yy(){const n=SM(),t=ee(),e=kM(),i=Pt(OM),a=tt.useMemo(()=>{const u=p=>t.getState().nodeLookup.get(p),c=p=>{e.nodeQueue.push(p)},d=p=>{e.edgeQueue.push(p)},h=p=>{var D,B;const{nodeLookup:w,nodeOrigin:b}=t.getState(),x=ab(p)?p:w.get(p.id),E=x.parentId?vx(x.position,x.measured,x.parentId,w,b):x.position,R={...x,position:E,width:((D=x.measured)==null?void 0:D.width)??x.width,height:((B=x.measured)==null?void 0:B.height)??x.height};return Qo(R)},g=(p,w,b={replace:!1})=>{c(x=>x.map(E=>{if(E.id===p){const R=typeof w=="function"?w(E):w;return b.replace&&ab(R)?R:{...E,...R}}return E}))},y=(p,w,b={replace:!1})=>{d(x=>x.map(E=>{if(E.id===p){const R=typeof w=="function"?w(E):w;return b.replace&&EM(R)?R:{...E,...R}}return E}))};return{getNodes:()=>t.getState().nodes.map(p=>({...p})),getNode:p=>{var w;return(w=u(p))==null?void 0:w.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:p=[]}=t.getState();return p.map(w=>({...w}))},getEdge:p=>t.getState().edgeLookup.get(p),setNodes:c,setEdges:d,addNodes:p=>{const w=Array.isArray(p)?p:[p];e.nodeQueue.push(b=>[...b,...w])},addEdges:p=>{const w=Array.isArray(p)?p:[p];e.edgeQueue.push(b=>[...b,...w])},toObject:()=>{const{nodes:p=[],edges:w=[],transform:b}=t.getState(),[x,E,R]=b;return{nodes:p.map(D=>({...D})),edges:w.map(D=>({...D})),viewport:{x,y:E,zoom:R}}},deleteElements:async({nodes:p=[],edges:w=[]})=>{const{nodes:b,edges:x,onNodesDelete:E,onEdgesDelete:R,triggerNodeChanges:D,triggerEdgeChanges:B,onDelete:C,onBeforeDelete:k}=t.getState(),{nodes:z,edges:j}=await rO({nodesToRemove:p,edgesToRemove:w,nodes:b,edges:x,onBeforeDelete:k}),_=j.length>0,W=z.length>0;if(_){const J=j.map(sb);R==null||R(j),B(J)}if(W){const J=z.map(sb);E==null||E(z),D(J)}return(W||_)&&(C==null||C({nodes:z,edges:j})),{deletedNodes:z,deletedEdges:j}},getIntersectingNodes:(p,w=!0,b)=>{const x=I1(p),E=x?p:h(p),R=b!==void 0;return E?(b||t.getState().nodes).filter(D=>{const B=t.getState().nodeLookup.get(D.id);if(B&&!x&&(D.id===p.id||!B.internals.positionAbsolute))return!1;const C=Qo(R?D:B),k=Cu(C,E);return w&&k>0||k>=E.width*E.height}):[]},isNodeIntersecting:(p,w,b=!0)=>{const E=I1(p)?p:h(p);if(!E)return!1;const R=Cu(E,w);return b&&R>0||R>=E.width*E.height},updateNode:g,updateNodeData:(p,w,b={replace:!1})=>{g(p,x=>{const E=typeof w=="function"?w(x):w;return b.replace?{...x,data:E}:{...x,data:{...x.data,...E}}},b)},updateEdge:y,updateEdgeData:(p,w,b={replace:!1})=>{y(p,x=>{const E=typeof w=="function"?w(x):w;return b.replace?{...x,data:E}:{...x,data:{...x.data,...E}}},b)},getNodesBounds:p=>{const{nodeLookup:w,nodeOrigin:b}=t.getState();return eO(p,{nodeLookup:w,nodeOrigin:b})},getHandleConnections:({type:p,id:w,nodeId:b})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${b}-${p}${w?`-${w}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:p,handleId:w,nodeId:b})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${b}${p?w?`-${p}-${w}`:`-${p}`:""}`))==null?void 0:x.values())??[])}}},[]);return tt.useMemo(()=>({...a,...n,viewportInitialized:i}),[i])}const lb=n=>n.selected,MM={actInsideInputWithModifier:!1},RM=typeof window<"u"?window:void 0;function IM({deleteKeyCode:n,multiSelectionKeyCode:t}){const e=ee(),{deleteElements:i}=Yy(),a=ku(n,MM),u=ku(t,{target:RM});tt.useEffect(()=>{if(a){const{edges:c,nodes:d}=e.getState();i({nodes:d.filter(lb),edges:c.filter(lb)}),e.setState({nodesSelectionActive:!1})}},[a]),tt.useEffect(()=>{e.setState({multiSelectionActive:u})},[u])}function BM(n){const t=ee();tt.useEffect(()=>{const e=()=>{var a,u;if(!n.current)return!1;const i=Nd(n.current);(i.height===0||i.width===0)&&((u=(a=t.getState()).onError)==null||u.call(a,"004",xr.error004())),t.setState({width:i.width||500,height:i.height||500})};if(n.current){e(),window.addEventListener("resize",e);const i=new ResizeObserver(()=>e());return i.observe(n.current),()=>{window.removeEventListener("resize",e),i&&n.current&&i.unobserve(n.current)}}},[])}const Od={position:"absolute",width:"100%",height:"100%",top:0,left:0},zM=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib});function LM({onPaneContextMenu:n,zoomOnScroll:t=!0,zoomOnPinch:e=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=Ba.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:h,translateExtent:g,minZoom:y,maxZoom:p,zoomActivationKeyCode:w,preventScrolling:b=!0,children:x,noWheelClassName:E,noPanClassName:R,onViewportChange:D,isControlledViewport:B,paneClickDistance:C}){const k=ee(),z=tt.useRef(null),{userSelectionActive:j,lib:_}=Pt(zM,fe),W=ku(w),J=tt.useRef();BM(z);const X=tt.useCallback(ut=>{D==null||D({x:ut[0],y:ut[1],zoom:ut[2]}),B||k.setState({transform:ut})},[D,B]);return tt.useEffect(()=>{if(z.current){J.current=_O({domNode:z.current,minZoom:y,maxZoom:p,translateExtent:g,viewport:h,paneClickDistance:C,onDraggingChange:M=>k.setState({paneDragging:M}),onPanZoomStart:(M,Y)=>{const{onViewportChangeStart:O,onMoveStart:H}=k.getState();H==null||H(M,Y),O==null||O(Y)},onPanZoom:(M,Y)=>{const{onViewportChange:O,onMove:H}=k.getState();H==null||H(M,Y),O==null||O(Y)},onPanZoomEnd:(M,Y)=>{const{onViewportChangeEnd:O,onMoveEnd:H}=k.getState();H==null||H(M,Y),O==null||O(Y)}});const{x:ut,y:ot,zoom:lt}=J.current.getViewport();return k.setState({panZoom:J.current,transform:[ut,ot,lt],domNode:z.current.closest(".react-flow")}),()=>{var M;(M=J.current)==null||M.destroy()}}},[]),tt.useEffect(()=>{var ut;(ut=J.current)==null||ut.update({onPaneContextMenu:n,zoomOnScroll:t,zoomOnPinch:e,panOnScroll:i,panOnScrollSpeed:a,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:W,preventScrolling:b,noPanClassName:R,userSelectionActive:j,noWheelClassName:E,lib:_,onTransformChange:X})},[n,t,e,i,a,u,c,d,W,b,R,j,E,_,X]),Q.jsx("div",{className:"react-flow__renderer",ref:z,style:Od,children:x})}const _M=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function UM(){const{userSelectionActive:n,userSelectionRect:t}=Pt(_M,fe);return n&&t?Q.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const bm=(n,t)=>e=>{e.target===t.current&&(n==null||n(e))},qM=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging});function HM({isSelecting:n,selectionKeyPressed:t,selectionMode:e=Nu.Full,panOnDrag:i,selectionOnDrag:a,onSelectionStart:u,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:g,onPaneMouseEnter:y,onPaneMouseMove:p,onPaneMouseLeave:w,children:b}){const x=ee(),{userSelectionActive:E,elementsSelectable:R,dragging:D}=Pt(qM,fe),B=R&&(n||E),C=tt.useRef(null),k=tt.useRef(),z=tt.useRef(new Set),j=tt.useRef(new Set),_=tt.useRef(!1),W=tt.useRef(!1),J=O=>{if(_.current){_.current=!1;return}d==null||d(O),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},X=O=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){O.preventDefault();return}h==null||h(O)},ut=g?O=>g(O):void 0,ot=O=>{var $,it;const{resetSelectedElements:H,domNode:P}=x.getState();if(k.current=P==null?void 0:P.getBoundingClientRect(),!R||!n||O.button!==0||O.target!==C.current||!k.current)return;(it=($=O.target)==null?void 0:$.setPointerCapture)==null||it.call($,O.pointerId),W.current=!0,_.current=!1;const{x:q,y:N}=Qi(O.nativeEvent,k.current);H(),x.setState({userSelectionRect:{width:0,height:0,startX:q,startY:N,x:q,y:N}}),u==null||u(O)},lt=O=>{const{userSelectionRect:H,transform:P,nodeLookup:q,edgeLookup:N,connectionLookup:$,triggerNodeChanges:it,triggerEdgeChanges:ct,defaultEdgeOptions:et}=x.getState();if(!k.current||!H)return;_.current=!0;const{x:gt,y:dt}=Qi(O.nativeEvent,k.current),{startX:mt,startY:yt}=H,bt={startX:mt,startY:yt,x:gt<mt?gt:mt,y:dt<yt?dt:yt,width:Math.abs(gt-mt),height:Math.abs(dt-yt)},kt=z.current,Dt=j.current;z.current=new Set(fx(q,bt,P,e===Nu.Partial,!0).map(It=>It.id)),j.current=new Set;const Tt=(et==null?void 0:et.selectable)??!0;for(const It of z.current){const jt=$.get(It);if(jt)for(const{edgeId:ie}of jt.values()){const Te=N.get(ie);Te&&(Te.selectable??Tt)&&j.current.add(ie)}}if(!B1(kt,z.current)){const It=Bo(q,z.current,!0);it(It)}if(!B1(Dt,j.current)){const It=Bo(N,j.current);ct(It)}x.setState({userSelectionRect:bt,userSelectionActive:!0,nodesSelectionActive:!1})},M=O=>{var P,q;if(O.button!==0||!W.current)return;(q=(P=O.target)==null?void 0:P.releasePointerCapture)==null||q.call(P,O.pointerId);const{userSelectionRect:H}=x.getState();!E&&H&&O.target===C.current&&(J==null||J(O)),x.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:z.current.size>0}),c==null||c(O),(t||a)&&(_.current=!1),W.current=!1},Y=i===!0||Array.isArray(i)&&i.includes(0);return Q.jsxs("div",{className:be(["react-flow__pane",{draggable:Y,dragging:D,selection:n}]),onClick:B?void 0:bm(J,C),onContextMenu:bm(X,C),onWheel:bm(ut,C),onPointerEnter:B?void 0:y,onPointerDown:B?ot:p,onPointerMove:B?lt:p,onPointerUp:B?M:void 0,onPointerLeave:w,ref:C,style:Od,children:[b,Q.jsx(UM,{})]})}function dy({id:n,store:t,unselect:e=!1,nodeRef:i}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:h}=t.getState(),g=d.get(n);if(!g){h==null||h("012",xr.error012(n));return}t.setState({nodesSelectionActive:!1}),g.selected?(e||g.selected&&c)&&(u({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var y;return(y=i==null?void 0:i.current)==null?void 0:y.blur()})):a([n])}function $x({nodeRef:n,disabled:t=!1,noDragClassName:e,handleSelector:i,nodeId:a,isSelectable:u,nodeClickDistance:c}){const d=ee(),[h,g]=tt.useState(!1),y=tt.useRef();return tt.useEffect(()=>{y.current=AO({getStoreItems:()=>d.getState(),onNodeMouseDown:p=>{dy({id:p,store:d,nodeRef:n})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),tt.useEffect(()=>{var p,w;if(t)(p=y.current)==null||p.destroy();else if(n.current)return(w=y.current)==null||w.update({noDragClassName:e,handleSelector:i,domNode:n.current,isSelectable:u,nodeId:a,nodeClickDistance:c}),()=>{var b;(b=y.current)==null||b.destroy()}},[e,i,t,u,n,a]),h}const PM=n=>t=>t.selected&&(t.draggable||n&&typeof t.draggable>"u");function Vx(){const n=ee();return tt.useCallback(e=>{const{nodeExtent:i,snapToGrid:a,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:h,nodeLookup:g,nodeOrigin:y}=n.getState(),p=new Map,w=PM(c),b=a?u[0]:5,x=a?u[1]:5,E=e.direction.x*b*e.factor,R=e.direction.y*x*e.factor;for(const[,D]of g){if(!w(D))continue;let B={x:D.internals.positionAbsolute.x+E,y:D.internals.positionAbsolute.y+R};a&&(B=Ed(B,u));const{position:C,positionAbsolute:k}=dx({nodeId:D.id,nextPosition:B,nodeLookup:g,nodeExtent:i,nodeOrigin:y,onError:d});D.position=C,D.internals.positionAbsolute=k,p.set(D.id,D)}h(p)},[])}const Gy=tt.createContext(null),JM=Gy.Provider;Gy.Consumer;const jx=()=>tt.useContext(Gy),$M=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),VM=(n,t,e)=>i=>{const{connectionClickStartHandle:a,connectionMode:u,connection:c}=i,{fromHandle:d,toHandle:h,isValid:g}=c,y=(h==null?void 0:h.nodeId)===n&&(h==null?void 0:h.id)===t&&(h==null?void 0:h.type)===e;return{connectingFrom:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===e,connectingTo:y,clickConnecting:(a==null?void 0:a.nodeId)===n&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===e,isPossibleEndHandle:u===Ko.Strict?(d==null?void 0:d.type)!==e:n!==(d==null?void 0:d.nodeId)||t!==(d==null?void 0:d.id),connectionInProcess:!!d,clickConnectionInProcess:!!a,valid:y&&g}};function jM({type:n="source",position:t=Ct.Top,isValidConnection:e,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:h,className:g,onMouseDown:y,onTouchStart:p,...w},b){var Y,O;const x=c||null,E=n==="target",R=ee(),D=jx(),{connectOnClick:B,noPanClassName:C,rfId:k}=Pt($M,fe),{connectingFrom:z,connectingTo:j,clickConnecting:_,isPossibleEndHandle:W,connectionInProcess:J,clickConnectionInProcess:X,valid:ut}=Pt(VM(D,x,n),fe);D||(O=(Y=R.getState()).onError)==null||O.call(Y,"010",xr.error010());const ot=H=>{const{defaultEdgeOptions:P,onConnect:q,hasDefaultEdges:N}=R.getState(),$={...P,...H};if(N){const{edges:it,setEdges:ct}=R.getState();ct(cO($,it))}q==null||q($),d==null||d($)},lt=H=>{if(!D)return;const P=bx(H.nativeEvent);if(a&&(P&&H.button===0||!P)){const q=R.getState();fy.onPointerDown(H.nativeEvent,{autoPanOnConnect:q.autoPanOnConnect,connectionMode:q.connectionMode,connectionRadius:q.connectionRadius,domNode:q.domNode,nodeLookup:q.nodeLookup,lib:q.lib,isTarget:E,handleId:x,nodeId:D,flowId:q.rfId,panBy:q.panBy,cancelConnection:q.cancelConnection,onConnectStart:q.onConnectStart,onConnectEnd:q.onConnectEnd,updateConnection:q.updateConnection,onConnect:ot,isValidConnection:e||q.isValidConnection,getTransform:()=>R.getState().transform,getFromHandle:()=>R.getState().connection.fromHandle,autoPanSpeed:q.autoPanSpeed})}P?y==null||y(H):p==null||p(H)},M=H=>{const{onClickConnectStart:P,onClickConnectEnd:q,connectionClickStartHandle:N,connectionMode:$,isValidConnection:it,lib:ct,rfId:et,nodeLookup:gt,connection:dt}=R.getState();if(!D||!N&&!a)return;if(!N){P==null||P(H.nativeEvent,{nodeId:D,handleId:x,handleType:n}),R.setState({connectionClickStartHandle:{nodeId:D,type:n,id:x}});return}const mt=wx(H.target),yt=e||it,{connection:bt,isValid:kt}=fy.isValid(H.nativeEvent,{handle:{nodeId:D,id:x,type:n},connectionMode:$,fromNodeId:N.nodeId,fromHandleId:N.id||null,fromType:N.type,isValidConnection:yt,flowId:et,doc:mt,lib:ct,nodeLookup:gt});kt&&bt&&ot(bt);const Dt=structuredClone(dt);delete Dt.inProgress,Dt.toPosition=Dt.toHandle?Dt.toHandle.position:null,q==null||q(H,Dt),R.setState({connectionClickStartHandle:null})};return Q.jsx("div",{"data-handleid":x,"data-nodeid":D,"data-handlepos":t,"data-id":`${k}-${D}-${x}-${n}`,className:be(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,g,{source:!E,target:E,connectable:i,connectablestart:a,connectableend:u,clickconnecting:_,connectingfrom:z,connectingto:j,valid:ut,connectionindicator:i&&(!J||W)&&(J||X?u:a)}]),onMouseDown:lt,onTouchStart:lt,onClick:B?M:void 0,ref:b,...w,children:h})}const cd=tt.memo(Px(jM));function FM({data:n,isConnectable:t,sourcePosition:e=Ct.Bottom}){return Q.jsxs(Q.Fragment,{children:[n==null?void 0:n.label,Q.jsx(cd,{type:"source",position:e,isConnectable:t})]})}function YM({data:n,isConnectable:t,targetPosition:e=Ct.Top,sourcePosition:i=Ct.Bottom}){return Q.jsxs(Q.Fragment,{children:[Q.jsx(cd,{type:"target",position:e,isConnectable:t}),n==null?void 0:n.label,Q.jsx(cd,{type:"source",position:i,isConnectable:t})]})}function GM(){return null}function XM({data:n,isConnectable:t,targetPosition:e=Ct.Top}){return Q.jsxs(Q.Fragment,{children:[Q.jsx(cd,{type:"target",position:e,isConnectable:t}),n==null?void 0:n.label]})}const fd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ub={input:FM,default:YM,output:XM,group:GM};function KM(n){var t,e,i,a;return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??((t=n.style)==null?void 0:t.width),height:n.height??n.initialHeight??((e=n.style)==null?void 0:e.height)}:{width:n.width??((i=n.style)==null?void 0:i.width),height:n.height??((a=n.style)==null?void 0:a.height)}}const ZM=n=>{const{width:t,height:e,x:i,y:a}=qu(n.nodeLookup,{filter:u=>!!u.selected});return{width:Gn(t)?t:null,height:Gn(e)?e:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${i}px,${a}px)`}};function QM({onSelectionContextMenu:n,noPanClassName:t,disableKeyboardA11y:e}){const i=ee(),{width:a,height:u,transformString:c,userSelectionActive:d}=Pt(ZM,fe),h=Vx(),g=tt.useRef(null);if(tt.useEffect(()=>{var w;e||(w=g.current)==null||w.focus({preventScroll:!0})},[e]),$x({nodeRef:g}),d||!a||!u)return null;const y=n?w=>{const b=i.getState().nodes.filter(x=>x.selected);n(w,b)}:void 0,p=w=>{Object.prototype.hasOwnProperty.call(fd,w.key)&&(w.preventDefault(),h({direction:fd[w.key],factor:w.shiftKey?4:1}))};return Q.jsx("div",{className:be(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:Q.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:e?void 0:-1,onKeyDown:e?void 0:p,style:{width:a,height:u}})})}const cb=typeof window<"u"?window:void 0,WM=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function Fx({children:n,onPaneClick:t,onPaneMouseEnter:e,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:h,selectionKeyCode:g,selectionOnDrag:y,selectionMode:p,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:x,panActivationKeyCode:E,zoomActivationKeyCode:R,elementsSelectable:D,zoomOnScroll:B,zoomOnPinch:C,panOnScroll:k,panOnScrollSpeed:z,panOnScrollMode:j,zoomOnDoubleClick:_,panOnDrag:W,defaultViewport:J,translateExtent:X,minZoom:ut,maxZoom:ot,preventScrolling:lt,onSelectionContextMenu:M,noWheelClassName:Y,noPanClassName:O,disableKeyboardA11y:H,onViewportChange:P,isControlledViewport:q}){const{nodesSelectionActive:N,userSelectionActive:$}=Pt(WM),it=ku(g,{target:cb}),ct=ku(E,{target:cb}),et=ct||W,gt=ct||k,dt=y&&et!==!0,mt=it||$||dt;return IM({deleteKeyCode:h,multiSelectionKeyCode:x}),Q.jsx(LM,{onPaneContextMenu:u,elementsSelectable:D,zoomOnScroll:B,zoomOnPinch:C,panOnScroll:gt,panOnScrollSpeed:z,panOnScrollMode:j,zoomOnDoubleClick:_,panOnDrag:!it&&et,defaultViewport:J,translateExtent:X,minZoom:ut,maxZoom:ot,zoomActivationKeyCode:R,preventScrolling:lt,noWheelClassName:Y,noPanClassName:O,onViewportChange:P,isControlledViewport:q,paneClickDistance:d,children:Q.jsxs(HM,{onSelectionStart:w,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:e,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:et,isSelecting:!!mt,selectionMode:p,selectionKeyPressed:it,selectionOnDrag:dt,children:[n,N&&Q.jsx(QM,{onSelectionContextMenu:M,noPanClassName:O,disableKeyboardA11y:H})]})})}Fx.displayName="FlowRenderer";const tR=tt.memo(Fx),eR=n=>t=>n?fx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys());function nR(n){return Pt(tt.useCallback(eR(n),[n]),fe)}const rR=n=>n.updateNodeInternals;function iR(){const n=Pt(rR),[t]=tt.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(e=>{const i=new Map;e.forEach(a=>{const u=a.target.getAttribute("data-id");i.set(u,{id:u,nodeElement:a.target,force:!0})}),n(i)}));return tt.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function sR({node:n,nodeType:t,hasDimensions:e,resizeObserver:i}){const a=ee(),u=tt.useRef(null),c=tt.useRef(null),d=tt.useRef(n.sourcePosition),h=tt.useRef(n.targetPosition),g=tt.useRef(t),y=e&&!!n.internals.handleBounds;return tt.useEffect(()=>{u.current&&!n.hidden&&(!y||c.current!==u.current)&&(c.current&&(i==null||i.unobserve(c.current)),i==null||i.observe(u.current),c.current=u.current)},[y,n.hidden]),tt.useEffect(()=>()=>{c.current&&(i==null||i.unobserve(c.current),c.current=null)},[]),tt.useEffect(()=>{if(u.current){const p=g.current!==t,w=d.current!==n.sourcePosition,b=h.current!==n.targetPosition;(p||w||b)&&(g.current=t,d.current=n.sourcePosition,h.current=n.targetPosition,a.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:u.current,force:!0}]])))}},[n.id,t,n.sourcePosition,n.targetPosition]),u}function aR({id:n,onClick:t,onMouseEnter:e,onMouseMove:i,onMouseLeave:a,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:h,nodesConnectable:g,nodesFocusable:y,resizeObserver:p,noDragClassName:w,noPanClassName:b,disableKeyboardA11y:x,rfId:E,nodeTypes:R,nodeClickDistance:D,onError:B}){const{node:C,internals:k,isParent:z}=Pt(mt=>{const yt=mt.nodeLookup.get(n),bt=mt.parentLookup.has(n);return{node:yt,internals:yt.internals,isParent:bt}},fe);let j=C.type||"default",_=(R==null?void 0:R[j])||ub[j];_===void 0&&(B==null||B("003",xr.error003(j)),j="default",_=ub.default);const W=!!(C.draggable||d&&typeof C.draggable>"u"),J=!!(C.selectable||h&&typeof C.selectable>"u"),X=!!(C.connectable||g&&typeof C.connectable>"u"),ut=!!(C.focusable||y&&typeof C.focusable>"u"),ot=ee(),lt=px(C),M=sR({node:C,nodeType:j,hasDimensions:lt,resizeObserver:p}),Y=$x({nodeRef:M,disabled:C.hidden||!W,noDragClassName:w,handleSelector:C.dragHandle,nodeId:n,isSelectable:J,nodeClickDistance:D}),O=Vx();if(C.hidden)return null;const H=rs(C),P=KM(C),q=J||W||t||e||i||a,N=e?mt=>e(mt,{...k.userNode}):void 0,$=i?mt=>i(mt,{...k.userNode}):void 0,it=a?mt=>a(mt,{...k.userNode}):void 0,ct=u?mt=>u(mt,{...k.userNode}):void 0,et=c?mt=>c(mt,{...k.userNode}):void 0,gt=mt=>{const{selectNodesOnDrag:yt,nodeDragThreshold:bt}=ot.getState();J&&(!yt||!W||bt>0)&&dy({id:n,store:ot,nodeRef:M}),t&&t(mt,{...k.userNode})},dt=mt=>{if(!(oy(mt.nativeEvent)||x))if(ox.includes(mt.key)&&J){const yt=mt.key==="Escape";dy({id:n,store:ot,unselect:yt,nodeRef:M})}else W&&C.selected&&Object.prototype.hasOwnProperty.call(fd,mt.key)&&(mt.preventDefault(),ot.setState({ariaLiveMessage:`Moved selected node ${mt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~k.positionAbsolute.x}, y: ${~~k.positionAbsolute.y}`}),O({direction:fd[mt.key],factor:mt.shiftKey?4:1}))};return Q.jsx("div",{className:be(["react-flow__node",`react-flow__node-${j}`,{[b]:W},C.className,{selected:C.selected,selectable:J,parent:z,draggable:W,dragging:Y}]),ref:M,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:q?"all":"none",visibility:lt?"visible":"hidden",...C.style,...P},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:N,onMouseMove:$,onMouseLeave:it,onContextMenu:ct,onClick:gt,onDoubleClick:et,onKeyDown:ut?dt:void 0,tabIndex:ut?0:void 0,role:ut?"button":void 0,"aria-describedby":x?void 0:`${_x}-${E}`,"aria-label":C.ariaLabel,children:Q.jsx(JM,{value:n,children:Q.jsx(_,{id:n,data:C.data,type:j,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:C.selected??!1,selectable:J,draggable:W,deletable:C.deletable??!0,isConnectable:X,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:Y,dragHandle:C.dragHandle,zIndex:k.z,parentId:C.parentId,...H})})})}const oR=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function Yx(n){const{nodesDraggable:t,nodesConnectable:e,nodesFocusable:i,elementsSelectable:a,onError:u}=Pt(oR,fe),c=nR(n.onlyRenderVisibleElements),d=iR();return Q.jsx("div",{className:"react-flow__nodes",style:Od,children:c.map(h=>Q.jsx(aR,{id:h,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:e,nodesFocusable:i,elementsSelectable:a,nodeClickDistance:n.nodeClickDistance,onError:u},h))})}Yx.displayName="NodeRenderer";const lR=tt.memo(Yx);function uR(n){return Pt(tt.useCallback(e=>{if(!n)return e.edges.map(a=>a.id);const i=[];if(e.width&&e.height)for(const a of e.edges){const u=e.nodeLookup.get(a.source),c=e.nodeLookup.get(a.target);u&&c&&oO({sourceNode:u,targetNode:c,width:e.width,height:e.height,transform:e.transform})&&i.push(a.id)}return i},[n]),fe)}const cR=({color:n="none",strokeWidth:t=1})=>Q.jsx("polyline",{style:{stroke:n,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fR=({color:n="none",strokeWidth:t=1})=>Q.jsx("polyline",{style:{stroke:n,fill:n,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),fb={[od.Arrow]:cR,[od.ArrowClosed]:fR};function dR(n){const t=ee();return tt.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(fb,n)?fb[n]:((u=(a=t.getState()).onError)==null||u.call(a,"009",xr.error009(n)),null)},[n])}const hR=({id:n,type:t,color:e,width:i=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const h=dR(t);return h?Q.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:Q.jsx(h,{color:e,strokeWidth:c})}):null},Gx=({defaultColor:n,rfId:t})=>{const e=Pt(u=>u.edges),i=Pt(u=>u.defaultEdgeOptions),a=tt.useMemo(()=>mO(e,{id:t,defaultColor:n,defaultMarkerStart:i==null?void 0:i.markerStart,defaultMarkerEnd:i==null?void 0:i.markerEnd}),[e,i,t,n]);return a.length?Q.jsx("svg",{className:"react-flow__marker",children:Q.jsx("defs",{children:a.map(u=>Q.jsx(hR,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};Gx.displayName="MarkerDefinitions";var gR=tt.memo(Gx);function Xx({x:n,y:t,label:e,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:g,...y}){const[p,w]=tt.useState({x:1,y:0,width:0,height:0}),b=be(["react-flow__edge-textwrapper",g]),x=tt.useRef(null);return tt.useEffect(()=>{if(x.current){const E=x.current.getBBox();w({x:E.x,y:E.y,width:E.width,height:E.height})}},[e]),typeof e>"u"||!e?null:Q.jsxs("g",{transform:`translate(${n-p.width/2} ${t-p.height/2})`,className:b,visibility:p.width?"visible":"hidden",...y,children:[a&&Q.jsx("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),Q.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:i,children:e}),h]})}Xx.displayName="EdgeText";const mR=tt.memo(Xx);function Md({path:n,labelX:t,labelY:e,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,interactionWidth:g=20,...y}){return Q.jsxs(Q.Fragment,{children:[Q.jsx("path",{...y,d:n,fill:"none",className:be(["react-flow__edge-path",y.className])}),g&&Q.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),i&&Gn(t)&&Gn(e)?Q.jsx(mR,{x:t,y:e,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h}):null]})}function db({pos:n,x1:t,y1:e,x2:i,y2:a}){return n===Ct.Left||n===Ct.Right?[.5*(t+i),e]:[t,.5*(e+a)]}function Kx({sourceX:n,sourceY:t,sourcePosition:e=Ct.Bottom,targetX:i,targetY:a,targetPosition:u=Ct.Top}){const[c,d]=db({pos:e,x1:n,y1:t,x2:i,y2:a}),[h,g]=db({pos:u,x1:i,y1:a,x2:n,y2:t}),[y,p,w,b]=Sx({sourceX:n,sourceY:t,targetX:i,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:h,targetControlY:g});return[`M${n},${t} C${c},${d} ${h},${g} ${i},${a}`,y,p,w,b]}function Zx(n){return tt.memo(({id:t,sourceX:e,sourceY:i,targetX:a,targetY:u,sourcePosition:c=Ct.Bottom,targetPosition:d=Ct.Top,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:b,style:x,markerEnd:E,markerStart:R,interactionWidth:D})=>{const[B,C,k]=Kx({sourceX:e,sourceY:i,sourcePosition:c,targetX:a,targetY:u,targetPosition:d}),z=n.isInternal?void 0:t;return Q.jsx(Md,{id:z,path:B,labelX:C,labelY:k,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:b,style:x,markerEnd:E,markerStart:R,interactionWidth:D})})}const yR=Zx({isInternal:!1}),Qx=Zx({isInternal:!0});yR.displayName="SimpleBezierEdge";Qx.displayName="SimpleBezierEdgeInternal";function Wx(n){return tt.memo(({id:t,sourceX:e,sourceY:i,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:p,style:w,sourcePosition:b=Ct.Bottom,targetPosition:x=Ct.Top,markerEnd:E,markerStart:R,pathOptions:D,interactionWidth:B})=>{const[C,k,z]=ly({sourceX:e,sourceY:i,sourcePosition:b,targetX:a,targetY:u,targetPosition:x,borderRadius:D==null?void 0:D.borderRadius,offset:D==null?void 0:D.offset}),j=n.isInternal?void 0:t;return Q.jsx(Md,{id:j,path:C,labelX:k,labelY:z,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:p,style:w,markerEnd:E,markerStart:R,interactionWidth:B})})}const tA=Wx({isInternal:!1}),eA=Wx({isInternal:!0});tA.displayName="SmoothStepEdge";eA.displayName="SmoothStepEdgeInternal";function nA(n){return tt.memo(({id:t,...e})=>{var a;const i=n.isInternal?void 0:t;return Q.jsx(tA,{...e,id:i,pathOptions:tt.useMemo(()=>{var u;return{borderRadius:0,offset:(u=e.pathOptions)==null?void 0:u.offset}},[(a=e.pathOptions)==null?void 0:a.offset])})})}const pR=nA({isInternal:!1}),rA=nA({isInternal:!0});pR.displayName="StepEdge";rA.displayName="StepEdgeInternal";function iA(n){return tt.memo(({id:t,sourceX:e,sourceY:i,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:p,style:w,markerEnd:b,markerStart:x,interactionWidth:E})=>{const[R,D,B]=Tx({sourceX:e,sourceY:i,targetX:a,targetY:u}),C=n.isInternal?void 0:t;return Q.jsx(Md,{id:C,path:R,labelX:D,labelY:B,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:p,style:w,markerEnd:b,markerStart:x,interactionWidth:E})})}const vR=iA({isInternal:!1}),sA=iA({isInternal:!0});vR.displayName="StraightEdge";sA.displayName="StraightEdgeInternal";function aA(n){return tt.memo(({id:t,sourceX:e,sourceY:i,targetX:a,targetY:u,sourcePosition:c=Ct.Bottom,targetPosition:d=Ct.Top,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:b,style:x,markerEnd:E,markerStart:R,pathOptions:D,interactionWidth:B})=>{const[C,k,z]=xx({sourceX:e,sourceY:i,sourcePosition:c,targetX:a,targetY:u,targetPosition:d,curvature:D==null?void 0:D.curvature}),j=n.isInternal?void 0:t;return Q.jsx(Md,{id:j,path:C,labelX:k,labelY:z,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:b,style:x,markerEnd:E,markerStart:R,interactionWidth:B})})}const wR=aA({isInternal:!1}),oA=aA({isInternal:!0});wR.displayName="BezierEdge";oA.displayName="BezierEdgeInternal";const hb={default:oA,straight:sA,step:rA,smoothstep:eA,simplebezier:Qx},gb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},bR=(n,t,e)=>e===Ct.Left?n-t:e===Ct.Right?n+t:n,SR=(n,t,e)=>e===Ct.Top?n-t:e===Ct.Bottom?n+t:n,mb="react-flow__edgeupdater";function yb({position:n,centerX:t,centerY:e,radius:i=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:d}){return Q.jsx("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:be([mb,`${mb}-${d}`]),cx:bR(t,i,n),cy:SR(e,i,n),r:i,stroke:"transparent",fill:"transparent"})}function xR({isReconnectable:n,reconnectRadius:t,edge:e,sourceX:i,sourceY:a,targetX:u,targetY:c,sourcePosition:d,targetPosition:h,onReconnect:g,onReconnectStart:y,onReconnectEnd:p,setReconnecting:w,setUpdateHover:b}){const x=ee(),E=(k,z)=>{if(k.button!==0)return;const{autoPanOnConnect:j,domNode:_,isValidConnection:W,connectionMode:J,connectionRadius:X,lib:ut,onConnectStart:ot,onConnectEnd:lt,cancelConnection:M,nodeLookup:Y,rfId:O,panBy:H,updateConnection:P}=x.getState(),q=z.type==="target";w(!0),y==null||y(k,e,z.type);const N=(it,ct)=>{w(!1),p==null||p(it,e,z.type,ct)},$=it=>g==null?void 0:g(e,it);fy.onPointerDown(k.nativeEvent,{autoPanOnConnect:j,connectionMode:J,connectionRadius:X,domNode:_,handleId:z.id,nodeId:z.nodeId,nodeLookup:Y,isTarget:q,edgeUpdaterType:z.type,lib:ut,flowId:O,cancelConnection:M,panBy:H,isValidConnection:W,onConnect:$,onConnectStart:ot,onConnectEnd:lt,onReconnectEnd:N,updateConnection:P,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle})},R=k=>E(k,{nodeId:e.target,id:e.targetHandle??null,type:"target"}),D=k=>E(k,{nodeId:e.source,id:e.sourceHandle??null,type:"source"}),B=()=>b(!0),C=()=>b(!1);return Q.jsxs(Q.Fragment,{children:[(n===!0||n==="source")&&Q.jsx(yb,{position:d,centerX:i,centerY:a,radius:t,onMouseDown:R,onMouseEnter:B,onMouseOut:C,type:"source"}),(n===!0||n==="target")&&Q.jsx(yb,{position:h,centerX:u,centerY:c,radius:t,onMouseDown:D,onMouseEnter:B,onMouseOut:C,type:"target"})]})}function AR({id:n,edgesFocusable:t,edgesReconnectable:e,elementsSelectable:i,onClick:a,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:g,reconnectRadius:y,onReconnect:p,onReconnectStart:w,onReconnectEnd:b,rfId:x,edgeTypes:E,noPanClassName:R,onError:D,disableKeyboardA11y:B}){let C=Pt(Tt=>Tt.edgeLookup.get(n));const k=Pt(Tt=>Tt.defaultEdgeOptions);C=k?{...k,...C}:C;let z=C.type||"default",j=(E==null?void 0:E[z])||hb[z];j===void 0&&(D==null||D("011",xr.error011(z)),z="default",j=hb.default);const _=!!(C.focusable||t&&typeof C.focusable>"u"),W=typeof p<"u"&&(C.reconnectable||e&&typeof C.reconnectable>"u"),J=!!(C.selectable||i&&typeof C.selectable>"u"),X=tt.useRef(null),[ut,ot]=tt.useState(!1),[lt,M]=tt.useState(!1),Y=ee(),{zIndex:O,sourceX:H,sourceY:P,targetX:q,targetY:N,sourcePosition:$,targetPosition:it}=Pt(tt.useCallback(Tt=>{const It=Tt.nodeLookup.get(C.source),jt=Tt.nodeLookup.get(C.target);if(!It||!jt)return{zIndex:C.zIndex,...gb};const ie=gO({id:n,sourceNode:It,targetNode:jt,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:Tt.connectionMode,onError:D});return{zIndex:aO({selected:C.selected,zIndex:C.zIndex,sourceNode:It,targetNode:jt,elevateOnSelect:Tt.elevateEdgesOnSelect}),...ie||gb}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),fe),ct=tt.useMemo(()=>C.markerStart?`url('#${uy(C.markerStart,x)}')`:void 0,[C.markerStart,x]),et=tt.useMemo(()=>C.markerEnd?`url('#${uy(C.markerEnd,x)}')`:void 0,[C.markerEnd,x]);if(C.hidden||H===null||P===null||q===null||N===null)return null;const gt=Tt=>{var Te;const{addSelectedEdges:It,unselectNodesAndEdges:jt,multiSelectionActive:ie}=Y.getState();J&&(Y.setState({nodesSelectionActive:!1}),C.selected&&ie?(jt({nodes:[],edges:[C]}),(Te=X.current)==null||Te.blur()):It([n])),a&&a(Tt,C)},dt=u?Tt=>{u(Tt,{...C})}:void 0,mt=c?Tt=>{c(Tt,{...C})}:void 0,yt=d?Tt=>{d(Tt,{...C})}:void 0,bt=h?Tt=>{h(Tt,{...C})}:void 0,kt=g?Tt=>{g(Tt,{...C})}:void 0,Dt=Tt=>{var It;if(!B&&ox.includes(Tt.key)&&J){const{unselectNodesAndEdges:jt,addSelectedEdges:ie}=Y.getState();Tt.key==="Escape"?((It=X.current)==null||It.blur(),jt({edges:[C]})):ie([n])}};return Q.jsx("svg",{style:{zIndex:O},children:Q.jsxs("g",{className:be(["react-flow__edge",`react-flow__edge-${z}`,C.className,R,{selected:C.selected,animated:C.animated,inactive:!J&&!a,updating:ut,selectable:J}]),onClick:gt,onDoubleClick:dt,onContextMenu:mt,onMouseEnter:yt,onMouseMove:bt,onMouseLeave:kt,onKeyDown:_?Dt:void 0,tabIndex:_?0:void 0,role:_?"button":"img","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":_?`${Ux}-${x}`:void 0,ref:X,children:[!lt&&Q.jsx(j,{id:n,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:J,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:H,sourceY:P,targetX:q,targetY:N,sourcePosition:$,targetPosition:it,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:ct,markerEnd:et,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),W&&Q.jsx(xR,{edge:C,isReconnectable:W,reconnectRadius:y,onReconnect:p,onReconnectStart:w,onReconnectEnd:b,sourceX:H,sourceY:P,targetX:q,targetY:N,sourcePosition:$,targetPosition:it,setUpdateHover:ot,setReconnecting:M})]})})}const TR=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function lA({defaultMarkerColor:n,onlyRenderVisibleElements:t,rfId:e,edgeTypes:i,noPanClassName:a,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:g,onEdgeClick:y,reconnectRadius:p,onEdgeDoubleClick:w,onReconnectStart:b,onReconnectEnd:x,disableKeyboardA11y:E}){const{edgesFocusable:R,edgesReconnectable:D,elementsSelectable:B,onError:C}=Pt(TR,fe),k=uR(t);return Q.jsxs("div",{className:"react-flow__edges",children:[Q.jsx(gR,{defaultColor:n,rfId:e}),k.map(z=>Q.jsx(AR,{id:z,edgesFocusable:R,edgesReconnectable:D,elementsSelectable:B,noPanClassName:a,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:g,onClick:y,reconnectRadius:p,onDoubleClick:w,onReconnectStart:b,onReconnectEnd:x,rfId:e,onError:C,edgeTypes:i,disableKeyboardA11y:E},z))]})}lA.displayName="EdgeRenderer";const ER=tt.memo(lA),NR=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function CR({children:n}){const t=Pt(NR);return Q.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:n})}function DR(n){const t=Yy(),e=tt.useRef(!1);tt.useEffect(()=>{!e.current&&t.viewportInitialized&&n&&(setTimeout(()=>n(t),1),e.current=!0)},[n,t.viewportInitialized])}const kR=n=>{var t;return(t=n.panZoom)==null?void 0:t.syncViewport};function OR(n){const t=Pt(kR),e=ee();return tt.useEffect(()=>{n&&(t==null||t(n),e.setState({transform:[n.x,n.y,n.zoom]}))},[n,t]),null}function MR(n){return n.connection.inProgress?{...n.connection,to:Hu(n.connection.to,n.transform)}:{...n.connection}}function RR(n){return MR}function IR(n){const t=RR();return Pt(t,fe)}const BR=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function zR({containerStyle:n,style:t,type:e,component:i}){const{nodesConnectable:a,width:u,height:c,isValid:d,inProgress:h}=Pt(BR,fe);return!(u&&a&&h)?null:Q.jsx("svg",{style:n,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:Q.jsx("g",{className:be(["react-flow__connection",ux(d)]),children:Q.jsx(uA,{style:t,type:e,CustomComponent:i,isValid:d})})})}const uA=({style:n,type:t=Us.Bezier,CustomComponent:e,isValid:i})=>{const{inProgress:a,from:u,fromNode:c,fromHandle:d,fromPosition:h,to:g,toNode:y,toHandle:p,toPosition:w}=IR();if(!a)return;if(e)return Q.jsx(e,{connectionLineType:t,connectionLineStyle:n,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:g.x,toY:g.y,fromPosition:h,toPosition:w,connectionStatus:ux(i),toNode:y,toHandle:p});let b="";const x={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:g.x,targetY:g.y,targetPosition:w};switch(t){case Us.Bezier:[b]=xx(x);break;case Us.SimpleBezier:[b]=Kx(x);break;case Us.Step:[b]=ly({...x,borderRadius:0});break;case Us.SmoothStep:[b]=ly(x);break;default:[b]=Tx(x)}return Q.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};uA.displayName="ConnectionLine";const LR={};function pb(n=LR){tt.useRef(n),ee(),tt.useEffect(()=>{},[n])}function _R(){ee(),tt.useRef(!1),tt.useEffect(()=>{},[])}function cA({nodeTypes:n,edgeTypes:t,onInit:e,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:y,onSelectionContextMenu:p,onSelectionStart:w,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:E,connectionLineComponent:R,connectionLineContainerStyle:D,selectionKeyCode:B,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:z,panActivationKeyCode:j,zoomActivationKeyCode:_,deleteKeyCode:W,onlyRenderVisibleElements:J,elementsSelectable:X,defaultViewport:ut,translateExtent:ot,minZoom:lt,maxZoom:M,preventScrolling:Y,defaultMarkerColor:O,zoomOnScroll:H,zoomOnPinch:P,panOnScroll:q,panOnScrollSpeed:N,panOnScrollMode:$,zoomOnDoubleClick:it,panOnDrag:ct,onPaneClick:et,onPaneMouseEnter:gt,onPaneMouseMove:dt,onPaneMouseLeave:mt,onPaneScroll:yt,onPaneContextMenu:bt,paneClickDistance:kt,nodeClickDistance:Dt,onEdgeContextMenu:Tt,onEdgeMouseEnter:It,onEdgeMouseMove:jt,onEdgeMouseLeave:ie,reconnectRadius:Te,onReconnect:Ys,onReconnectStart:is,onReconnectEnd:Gs,noDragClassName:Tr,noWheelClassName:Xs,noPanClassName:Ks,disableKeyboardA11y:Zs,nodeExtent:je,rfId:Qs,viewport:ss,onViewportChange:Ws}){return pb(n),pb(t),_R(),DR(e),OR(ss),Q.jsx(tR,{onPaneClick:et,onPaneMouseEnter:gt,onPaneMouseMove:dt,onPaneMouseLeave:mt,onPaneContextMenu:bt,onPaneScroll:yt,paneClickDistance:kt,deleteKeyCode:W,selectionKeyCode:B,selectionOnDrag:C,selectionMode:k,onSelectionStart:w,onSelectionEnd:b,multiSelectionKeyCode:z,panActivationKeyCode:j,zoomActivationKeyCode:_,elementsSelectable:X,zoomOnScroll:H,zoomOnPinch:P,zoomOnDoubleClick:it,panOnScroll:q,panOnScrollSpeed:N,panOnScrollMode:$,panOnDrag:ct,defaultViewport:ut,translateExtent:ot,minZoom:lt,maxZoom:M,onSelectionContextMenu:p,preventScrolling:Y,noDragClassName:Tr,noWheelClassName:Xs,noPanClassName:Ks,disableKeyboardA11y:Zs,onViewportChange:Ws,isControlledViewport:!!ss,children:Q.jsxs(CR,{children:[Q.jsx(ER,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:Ys,onReconnectStart:is,onReconnectEnd:Gs,onlyRenderVisibleElements:J,onEdgeContextMenu:Tt,onEdgeMouseEnter:It,onEdgeMouseMove:jt,onEdgeMouseLeave:ie,reconnectRadius:Te,defaultMarkerColor:O,noPanClassName:Ks,disableKeyboardA11y:Zs,rfId:Qs}),Q.jsx(zR,{style:E,type:x,component:R,containerStyle:D}),Q.jsx("div",{className:"react-flow__edgelabel-renderer"}),Q.jsx(lR,{nodeTypes:n,onNodeClick:i,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:y,nodeClickDistance:Dt,onlyRenderVisibleElements:J,noPanClassName:Ks,noDragClassName:Tr,disableKeyboardA11y:Zs,nodeExtent:je,rfId:Qs}),Q.jsx("div",{className:"react-flow__viewport-portal"})]})})}cA.displayName="GraphView";const UR=tt.memo(cA),vb=({nodes:n,edges:t,defaultNodes:e,defaultEdges:i,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}={})=>{const g=new Map,y=new Map,p=new Map,w=new Map,b=i??t??[],x=e??n??[],E=d??[0,0],R=h??Eu;Nx(p,w,b),cy(x,g,y,{nodeOrigin:E,nodeExtent:R,elevateNodesOnSelect:!1});let D=[0,0,1];if(c&&a&&u){const B=qu(g,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:C,y:k,zoom:z}=Jy(B,a,u,.5,2,.1);D=[C,k,z]}return{rfId:"1",width:0,height:0,transform:D,nodes:x,nodeLookup:g,parentLookup:y,edges:b,edgeLookup:w,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:e!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Eu,nodeExtent:R,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ko.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...lx},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:iO,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},qR=({nodes:n,edges:t,defaultNodes:e,defaultEdges:i,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h})=>nM((g,y)=>({...vb({nodes:n,edges:t,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h,defaultNodes:e,defaultEdges:i}),setNodes:p=>{const{nodeLookup:w,parentLookup:b,nodeOrigin:x,elevateNodesOnSelect:E}=y();cy(p,w,b,{nodeOrigin:x,nodeExtent:h,elevateNodesOnSelect:E,checkEquality:!0}),g({nodes:p})},setEdges:p=>{const{connectionLookup:w,edgeLookup:b}=y();Nx(w,b,p),g({edges:p})},setDefaultNodesAndEdges:(p,w)=>{if(p){const{setNodes:b}=y();b(p),g({hasDefaultNodes:!0})}if(w){const{setEdges:b}=y();b(w),g({hasDefaultEdges:!0})}},updateNodeInternals:(p,w={triggerFitView:!0})=>{const{triggerNodeChanges:b,nodeLookup:x,parentLookup:E,fitViewOnInit:R,fitViewDone:D,fitViewOnInitOptions:B,domNode:C,nodeOrigin:k,nodeExtent:z,debug:j,fitViewSync:_}=y(),{changes:W,updatedInternals:J}=bO(p,x,E,C,k,z);if(J){if(pO(x,E,{nodeOrigin:k,nodeExtent:z}),w.triggerFitView){let X=D;!D&&R&&(X=_({...B,nodes:B==null?void 0:B.nodes})),g({fitViewDone:X})}else g({});(W==null?void 0:W.length)>0&&(j&&console.log("React Flow: trigger node changes",W),b==null||b(W))}},updateNodePositions:(p,w=!1)=>{const b=[],x=[],{nodeLookup:E,triggerNodeChanges:R}=y();for(const[D,B]of p){const C=E.get(D),k=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(B!=null&&B.position)),z={id:D,type:"position",position:k?{x:Math.max(0,B.position.x),y:Math.max(0,B.position.y)}:B.position,dragging:w};k&&C.parentId&&b.push({id:D,parentId:C.parentId,rect:{...B.internals.positionAbsolute,width:B.measured.width??0,height:B.measured.height??0}}),x.push(z)}if(b.length>0){const{parentLookup:D,nodeOrigin:B}=y(),C=Fy(b,E,D,B);x.push(...C)}R(x)},triggerNodeChanges:p=>{const{onNodesChange:w,setNodes:b,nodes:x,hasDefaultNodes:E,debug:R}=y();if(p!=null&&p.length){if(E){const D=AM(p,x);b(D)}R&&console.log("React Flow: trigger node changes",p),w==null||w(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:w,setEdges:b,edges:x,hasDefaultEdges:E,debug:R}=y();if(p!=null&&p.length){if(E){const D=TM(p,x);b(D)}R&&console.log("React Flow: trigger edge changes",p),w==null||w(p)}},addSelectedNodes:p=>{const{multiSelectionActive:w,edgeLookup:b,nodeLookup:x,triggerNodeChanges:E,triggerEdgeChanges:R}=y();if(w){const D=p.map(B=>Ca(B,!0));E(D);return}E(Bo(x,new Set([...p]),!0)),R(Bo(b))},addSelectedEdges:p=>{const{multiSelectionActive:w,edgeLookup:b,nodeLookup:x,triggerNodeChanges:E,triggerEdgeChanges:R}=y();if(w){const D=p.map(B=>Ca(B,!0));R(D);return}R(Bo(b,new Set([...p]))),E(Bo(x,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:w}={})=>{const{edges:b,nodes:x,nodeLookup:E,triggerNodeChanges:R,triggerEdgeChanges:D}=y(),B=p||x,C=w||b,k=B.map(j=>{const _=E.get(j.id);return _&&(_.selected=!1),Ca(j.id,!1)}),z=C.map(j=>Ca(j.id,!1));R(k),D(z)},setMinZoom:p=>{const{panZoom:w,maxZoom:b}=y();w==null||w.setScaleExtent([p,b]),g({minZoom:p})},setMaxZoom:p=>{const{panZoom:w,minZoom:b}=y();w==null||w.setScaleExtent([b,p]),g({maxZoom:p})},setTranslateExtent:p=>{var w;(w=y().panZoom)==null||w.setTranslateExtent(p),g({translateExtent:p})},setPaneClickDistance:p=>{var w;(w=y().panZoom)==null||w.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:w,triggerNodeChanges:b,triggerEdgeChanges:x}=y(),E=w.reduce((D,B)=>B.selected?[...D,Ca(B.id,!1)]:D,[]),R=p.reduce((D,B)=>B.selected?[...D,Ca(B.id,!1)]:D,[]);b(E),x(R)},setNodeExtent:p=>{const{nodes:w,nodeLookup:b,parentLookup:x,nodeOrigin:E,elevateNodesOnSelect:R,nodeExtent:D}=y();p[0][0]===D[0][0]&&p[0][1]===D[0][1]&&p[1][0]===D[1][0]&&p[1][1]===D[1][1]||(cy(w,b,x,{nodeOrigin:E,nodeExtent:p,elevateNodesOnSelect:R,checkEquality:!1}),g({nodeExtent:p}))},panBy:p=>{const{transform:w,width:b,height:x,panZoom:E,translateExtent:R}=y();return SO({delta:p,panZoom:E,transform:w,translateExtent:R,width:b,height:x})},fitView:p=>{const{panZoom:w,width:b,height:x,minZoom:E,maxZoom:R,nodeLookup:D}=y();if(!w)return Promise.resolve(!1);const B=iy(D,p);return sy({nodes:B,width:b,height:x,panZoom:w,minZoom:E,maxZoom:R},p)},fitViewSync:p=>{const{panZoom:w,width:b,height:x,minZoom:E,maxZoom:R,nodeLookup:D}=y();if(!w)return!1;const B=iy(D,p);return sy({nodes:B,width:b,height:x,panZoom:w,minZoom:E,maxZoom:R},p),B.size>0},cancelConnection:()=>{g({connection:{...lx}})},updateConnection:p=>{g({connection:p})},reset:()=>g({...vb()})}),Object.is);function HR({initialNodes:n,initialEdges:t,defaultNodes:e,defaultEdges:i,initialWidth:a,initialHeight:u,fitView:c,nodeOrigin:d,nodeExtent:h,children:g}){const[y]=tt.useState(()=>qR({nodes:n,edges:t,defaultNodes:e,defaultEdges:i,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}));return Q.jsx(rM,{value:y,children:Q.jsx(DM,{children:g})})}function PR({children:n,nodes:t,edges:e,defaultNodes:i,defaultEdges:a,width:u,height:c,fitView:d,nodeOrigin:h,nodeExtent:g}){return tt.useContext(Dd)?Q.jsx(Q.Fragment,{children:n}):Q.jsx(HR,{initialNodes:t,initialEdges:e,defaultNodes:i,defaultEdges:a,initialWidth:u,initialHeight:c,fitView:d,nodeOrigin:h,nodeExtent:g,children:n})}const JR={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function $R({nodes:n,edges:t,defaultNodes:e,defaultEdges:i,className:a,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:h,onInit:g,onMove:y,onMoveStart:p,onMoveEnd:w,onConnect:b,onConnectStart:x,onConnectEnd:E,onClickConnectStart:R,onClickConnectEnd:D,onNodeMouseEnter:B,onNodeMouseMove:C,onNodeMouseLeave:k,onNodeContextMenu:z,onNodeDoubleClick:j,onNodeDragStart:_,onNodeDrag:W,onNodeDragStop:J,onNodesDelete:X,onEdgesDelete:ut,onDelete:ot,onSelectionChange:lt,onSelectionDragStart:M,onSelectionDrag:Y,onSelectionDragStop:O,onSelectionContextMenu:H,onSelectionStart:P,onSelectionEnd:q,onBeforeDelete:N,connectionMode:$,connectionLineType:it=Us.Bezier,connectionLineStyle:ct,connectionLineComponent:et,connectionLineContainerStyle:gt,deleteKeyCode:dt="Backspace",selectionKeyCode:mt="Shift",selectionOnDrag:yt=!1,selectionMode:bt=Nu.Full,panActivationKeyCode:kt="Space",multiSelectionKeyCode:Dt=ud()?"Meta":"Control",zoomActivationKeyCode:Tt=ud()?"Meta":"Control",snapToGrid:It,snapGrid:jt,onlyRenderVisibleElements:ie=!1,selectNodesOnDrag:Te,nodesDraggable:Ys,nodesConnectable:is,nodesFocusable:Gs,nodeOrigin:Tr=qx,edgesFocusable:Xs,edgesReconnectable:Ks,elementsSelectable:Zs=!0,defaultViewport:je=yM,minZoom:Qs=.5,maxZoom:ss=2,translateExtent:Ws=Eu,preventScrolling:Pa=!0,nodeExtent:tl,defaultMarkerColor:Pu="#b1b1b7",zoomOnScroll:Rd=!0,zoomOnPinch:Id=!0,panOnScroll:ta=!1,panOnScrollSpeed:qe=.5,panOnScrollMode:Bd=Ba.Free,zoomOnDoubleClick:tr=!0,panOnDrag:He=!0,onPaneClick:zd,onPaneMouseEnter:Ld,onPaneMouseMove:_d,onPaneMouseLeave:Ja,onPaneScroll:$a,onPaneContextMenu:Er,paneClickDistance:ea=0,nodeClickDistance:na=0,children:Ud,onReconnect:Ju,onReconnectStart:$u,onReconnectEnd:el,onEdgeContextMenu:ra,onEdgeDoubleClick:qd,onEdgeMouseEnter:Vu,onEdgeMouseMove:ju,onEdgeMouseLeave:Fu,reconnectRadius:Yu=10,onNodesChange:Hd,onEdgesChange:er,noDragClassName:Ee="nodrag",noWheelClassName:Be="nowheel",noPanClassName:Nr="nopan",fitView:Va,fitViewOptions:Pd,connectOnClick:Jd,attributionPosition:Gu,proOptions:ia,defaultEdgeOptions:nl,elevateNodesOnSelect:Cr,elevateEdgesOnSelect:as,disableKeyboardA11y:os=!1,autoPanOnConnect:ls,autoPanOnNodeDrag:me,autoPanSpeed:Xu,connectionRadius:Ku,isValidConnection:Dr,onError:us,style:_n,id:Zu,nodeDragThreshold:Qu,viewport:Wu,onViewportChange:$d,width:ja,height:Fa,colorMode:Un="light",debug:Fe,onScroll:sa,...Vd},Ya){const Ga=Zu||"1",Xa=bM(Un),jd=tt.useCallback(Pe=>{Pe.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),sa==null||sa(Pe)},[sa]);return Q.jsx("div",{"data-testid":"rf__wrapper",...Vd,onScroll:jd,style:{..._n,...JR},ref:Ya,className:be(["react-flow",a,Xa]),id:Zu,children:Q.jsxs(PR,{nodes:n,edges:t,width:ja,height:Fa,fitView:Va,nodeOrigin:Tr,nodeExtent:tl,children:[Q.jsx(UR,{onInit:g,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:B,onNodeMouseMove:C,onNodeMouseLeave:k,onNodeContextMenu:z,onNodeDoubleClick:j,nodeTypes:u,edgeTypes:c,connectionLineType:it,connectionLineStyle:ct,connectionLineComponent:et,connectionLineContainerStyle:gt,selectionKeyCode:mt,selectionOnDrag:yt,selectionMode:bt,deleteKeyCode:dt,multiSelectionKeyCode:Dt,panActivationKeyCode:kt,zoomActivationKeyCode:Tt,onlyRenderVisibleElements:ie,defaultViewport:je,translateExtent:Ws,minZoom:Qs,maxZoom:ss,preventScrolling:Pa,zoomOnScroll:Rd,zoomOnPinch:Id,zoomOnDoubleClick:tr,panOnScroll:ta,panOnScrollSpeed:qe,panOnScrollMode:Bd,panOnDrag:He,onPaneClick:zd,onPaneMouseEnter:Ld,onPaneMouseMove:_d,onPaneMouseLeave:Ja,onPaneScroll:$a,onPaneContextMenu:Er,paneClickDistance:ea,nodeClickDistance:na,onSelectionContextMenu:H,onSelectionStart:P,onSelectionEnd:q,onReconnect:Ju,onReconnectStart:$u,onReconnectEnd:el,onEdgeContextMenu:ra,onEdgeDoubleClick:qd,onEdgeMouseEnter:Vu,onEdgeMouseMove:ju,onEdgeMouseLeave:Fu,reconnectRadius:Yu,defaultMarkerColor:Pu,noDragClassName:Ee,noWheelClassName:Be,noPanClassName:Nr,rfId:Ga,disableKeyboardA11y:os,nodeExtent:tl,viewport:Wu,onViewportChange:$d}),Q.jsx(wM,{nodes:n,edges:t,defaultNodes:e,defaultEdges:i,onConnect:b,onConnectStart:x,onConnectEnd:E,onClickConnectStart:R,onClickConnectEnd:D,nodesDraggable:Ys,nodesConnectable:is,nodesFocusable:Gs,edgesFocusable:Xs,edgesReconnectable:Ks,elementsSelectable:Zs,elevateNodesOnSelect:Cr,elevateEdgesOnSelect:as,minZoom:Qs,maxZoom:ss,nodeExtent:tl,onNodesChange:Hd,onEdgesChange:er,snapToGrid:It,snapGrid:jt,connectionMode:$,translateExtent:Ws,connectOnClick:Jd,defaultEdgeOptions:nl,fitView:Va,fitViewOptions:Pd,onNodesDelete:X,onEdgesDelete:ut,onDelete:ot,onNodeDragStart:_,onNodeDrag:W,onNodeDragStop:J,onSelectionDrag:Y,onSelectionDragStart:M,onSelectionDragStop:O,onMove:y,onMoveStart:p,onMoveEnd:w,noPanClassName:Nr,nodeOrigin:Tr,rfId:Ga,autoPanOnConnect:ls,autoPanOnNodeDrag:me,autoPanSpeed:Xu,onError:us,connectionRadius:Ku,isValidConnection:Dr,selectNodesOnDrag:Te,nodeDragThreshold:Qu,onBeforeDelete:N,paneClickDistance:ea,debug:Fe}),Q.jsx(mM,{onSelectionChange:lt}),Ud,Q.jsx(cM,{proOptions:ia,position:Gu}),Q.jsx(lM,{rfId:Ga,disableKeyboardA11y:os})]})})}var VR=Px($R);function jR({dimensions:n,lineWidth:t,variant:e,className:i}){return Q.jsx("path",{strokeWidth:t,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:be(["react-flow__background-pattern",e,i])})}function FR({radius:n,className:t}){return Q.jsx("circle",{cx:n,cy:n,r:n,className:be(["react-flow__background-pattern","dots",t])})}var $s;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})($s||($s={}));const YR={[$s.Dots]:1,[$s.Lines]:1,[$s.Cross]:6},GR=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function fA({id:n,variant:t=$s.Dots,gap:e=20,size:i,lineWidth:a=1,offset:u=0,color:c,bgColor:d,style:h,className:g,patternClassName:y}){const p=tt.useRef(null),{transform:w,patternId:b}=Pt(GR,fe),x=i||YR[t],E=t===$s.Dots,R=t===$s.Cross,D=Array.isArray(e)?e:[e,e],B=[D[0]*w[2]||1,D[1]*w[2]||1],C=x*w[2],k=Array.isArray(u)?u:[u,u],z=R?[C,C]:B,j=[k[0]*w[2]||1+z[0]/2,k[1]*w[2]||1+z[1]/2],_=`${b}${n||""}`;return Q.jsxs("svg",{className:be(["react-flow__background",g]),style:{...h,...Od,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:p,"data-testid":"rf__background",children:[Q.jsx("pattern",{id:_,x:w[0]%B[0],y:w[1]%B[1],width:B[0],height:B[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:E?Q.jsx(FR,{radius:C/2,className:y}):Q.jsx(jR,{dimensions:z,lineWidth:a,variant:t,className:y})}),Q.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}fA.displayName="Background";const XR=tt.memo(fA);function KR(){return Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:Q.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ZR(){return Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:Q.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QR(){return Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:Q.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function WR(){return Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:Q.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tI(){return Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:Q.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function vf({children:n,className:t,...e}){return Q.jsx("button",{type:"button",className:be(["react-flow__controls-button",t]),...e,children:n})}const eI=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom});function dA({style:n,showZoom:t=!0,showFitView:e=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:h,className:g,children:y,position:p="bottom-left",orientation:w="vertical","aria-label":b="React Flow controls"}){const x=ee(),{isInteractive:E,minZoomReached:R,maxZoomReached:D}=Pt(eI,fe),{zoomIn:B,zoomOut:C,fitView:k}=Yy(),z=()=>{B(),u==null||u()},j=()=>{C(),c==null||c()},_=()=>{k(a),d==null||d()},W=()=>{x.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),h==null||h(!E)},J=w==="horizontal"?"horizontal":"vertical";return Q.jsxs(kd,{className:be(["react-flow__controls",J,g]),position:p,style:n,"data-testid":"rf__controls","aria-label":b,children:[t&&Q.jsxs(Q.Fragment,{children:[Q.jsx(vf,{onClick:z,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:D,children:Q.jsx(KR,{})}),Q.jsx(vf,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:R,children:Q.jsx(ZR,{})})]}),e&&Q.jsx(vf,{className:"react-flow__controls-fitview",onClick:_,title:"fit view","aria-label":"fit view",children:Q.jsx(QR,{})}),i&&Q.jsx(vf,{className:"react-flow__controls-interactive",onClick:W,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?Q.jsx(tI,{}):Q.jsx(WR,{})}),y]})}dA.displayName="Controls";const nI=tt.memo(dA);function rI({id:n,x:t,y:e,width:i,height:a,style:u,color:c,strokeColor:d,strokeWidth:h,className:g,borderRadius:y,shapeRendering:p,selected:w,onClick:b}){const{background:x,backgroundColor:E}=u||{},R=c||x||E;return Q.jsx("rect",{className:be(["react-flow__minimap-node",{selected:w},g]),x:t,y:e,rx:y,ry:y,width:i,height:a,style:{fill:R,stroke:d,strokeWidth:h},shapeRendering:p,onClick:b?D=>b(D,n):void 0})}const iI=tt.memo(rI),sI=n=>n.nodes.map(t=>t.id),Sm=n=>n instanceof Function?n:()=>n;function aI({nodeStrokeColor:n,nodeColor:t,nodeClassName:e="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:u=iI,onClick:c}){const d=Pt(sI,fe),h=Sm(t),g=Sm(n),y=Sm(e),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Q.jsx(Q.Fragment,{children:d.map(w=>Q.jsx(lI,{id:w,nodeColorFunc:h,nodeStrokeColorFunc:g,nodeClassNameFunc:y,nodeBorderRadius:i,nodeStrokeWidth:a,NodeComponent:u,onClick:c,shapeRendering:p},w))})}function oI({id:n,nodeColorFunc:t,nodeStrokeColorFunc:e,nodeClassNameFunc:i,nodeBorderRadius:a,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:h}){const{node:g,x:y,y:p,width:w,height:b}=Pt(x=>{const E=x.nodeLookup.get(n),{x:R,y:D}=E.internals.positionAbsolute,{width:B,height:C}=rs(E);return{node:E,x:R,y:D,width:B,height:C}},fe);return!g||g.hidden||!px(g)?null:Q.jsx(d,{x:y,y:p,width:w,height:b,style:g.style,selected:!!g.selected,className:i(g),color:t(g),borderRadius:a,strokeColor:e(g),strokeWidth:u,shapeRendering:c,onClick:h,id:g.id})}const lI=tt.memo(oI);var uI=tt.memo(aI);const cI=200,fI=150,dI=n=>{const t={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:t,boundingRect:n.nodeLookup.size>0?mx(qu(n.nodeLookup),t):t,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height}},hI="react-flow__minimap-desc";function hA({style:n,className:t,nodeStrokeColor:e,nodeColor:i,nodeClassName:a="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:h,maskColor:g,maskStrokeColor:y,maskStrokeWidth:p,position:w="bottom-right",onClick:b,onNodeClick:x,pannable:E=!1,zoomable:R=!1,ariaLabel:D="React Flow mini map",inversePan:B,zoomStep:C=10,offsetScale:k=5}){const z=ee(),j=tt.useRef(null),{boundingRect:_,viewBB:W,rfId:J,panZoom:X,translateExtent:ut,flowWidth:ot,flowHeight:lt}=Pt(dI,fe),M=(n==null?void 0:n.width)??cI,Y=(n==null?void 0:n.height)??fI,O=_.width/M,H=_.height/Y,P=Math.max(O,H),q=P*M,N=P*Y,$=k*P,it=_.x-(q-_.width)/2-$,ct=_.y-(N-_.height)/2-$,et=q+$*2,gt=N+$*2,dt=`${hI}-${J}`,mt=tt.useRef(0),yt=tt.useRef();mt.current=P,tt.useEffect(()=>{if(j.current&&X)return yt.current=kO({domNode:j.current,panZoom:X,getTransform:()=>z.getState().transform,getViewScale:()=>mt.current}),()=>{var Dt;(Dt=yt.current)==null||Dt.destroy()}},[X]),tt.useEffect(()=>{var Dt;(Dt=yt.current)==null||Dt.update({translateExtent:ut,width:ot,height:lt,inversePan:B,pannable:E,zoomStep:C,zoomable:R})},[E,R,B,C,ut,ot,lt]);const bt=b?Dt=>{var jt;const[Tt,It]=((jt=yt.current)==null?void 0:jt.pointer(Dt))||[0,0];b(Dt,{x:Tt,y:It})}:void 0,kt=x?tt.useCallback((Dt,Tt)=>{const It=z.getState().nodeLookup.get(Tt);x(Dt,It)},[]):void 0;return Q.jsx(kd,{position:w,style:{...n,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*P:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof e=="string"?e:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="string"?c:void 0},className:be(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:Q.jsxs("svg",{width:M,height:Y,viewBox:`${it} ${ct} ${et} ${gt}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":dt,ref:j,onClick:bt,children:[D&&Q.jsx("title",{id:dt,children:D}),Q.jsx(uI,{onClick:kt,nodeColor:i,nodeStrokeColor:e,nodeBorderRadius:u,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),Q.jsx("path",{className:"react-flow__minimap-mask",d:`M${it-$},${ct-$}h${et+$*2}v${gt+$*2}h${-et-$*2}z
        M${W.x},${W.y}h${W.width}v${W.height}h${-W.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}hA.displayName="MiniMap";const gI=tt.memo(hA);function mI({nodeId:n,position:t,variant:e=uu.Handle,className:i,style:a={},children:u,color:c,minWidth:d=10,minHeight:h=10,maxWidth:g=Number.MAX_VALUE,maxHeight:y=Number.MAX_VALUE,keepAspectRatio:p=!1,shouldResize:w,onResizeStart:b,onResize:x,onResizeEnd:E}){const R=jx(),D=typeof n=="string"?n:R,B=ee(),C=tt.useRef(null),k=e===uu.Line?"right":"bottom-right",z=t??k,j=tt.useRef(null);tt.useEffect(()=>{if(!(!C.current||!D))return j.current||(j.current=VO({domNode:C.current,nodeId:D,getStoreItems:()=>{const{nodeLookup:X,transform:ut,snapGrid:ot,snapToGrid:lt,nodeOrigin:M,domNode:Y}=B.getState();return{nodeLookup:X,transform:ut,snapGrid:ot,snapToGrid:lt,nodeOrigin:M,paneDomNode:Y}},onChange:(X,ut)=>{const{triggerNodeChanges:ot,nodeLookup:lt,parentLookup:M,nodeOrigin:Y}=B.getState(),O=[],H={x:X.x,y:X.y},P=lt.get(D);if(P&&P.expandParent&&P.parentId){const q=P.origin??Y,N=X.width??P.measured.width??0,$=X.height??P.measured.height??0,it={id:P.id,parentId:P.parentId,rect:{width:N,height:$,...vx({x:X.x??P.position.x,y:X.y??P.position.y},{width:N,height:$},P.parentId,lt,q)}},ct=Fy([it],lt,M,Y);O.push(...ct),H.x=X.x?Math.max(q[0]*N,X.x):void 0,H.y=X.y?Math.max(q[1]*$,X.y):void 0}if(H.x!==void 0&&H.y!==void 0){const q={id:D,type:"position",position:{...H}};O.push(q)}if(X.width!==void 0&&X.height!==void 0){const q={id:D,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:X.width,height:X.height}};O.push(q)}for(const q of ut){const N={...q,type:"position"};O.push(N)}ot(O)},onEnd:()=>{const X={id:D,type:"dimensions",resizing:!1};B.getState().triggerNodeChanges([X])}})),j.current.update({controlPosition:z,boundaries:{minWidth:d,minHeight:h,maxWidth:g,maxHeight:y},keepAspectRatio:p,onResizeStart:b,onResize:x,onResizeEnd:E,shouldResize:w}),()=>{var X;(X=j.current)==null||X.destroy()}},[z,d,h,g,y,p,b,x,E,w]);const _=z.split("-"),W=e===uu.Line?"borderColor":"backgroundColor",J=c?{...a,[W]:c}:a;return Q.jsx("div",{className:be(["react-flow__resize-control","nodrag",..._,e,i]),ref:C,style:J,children:u})}tt.memo(mI);function yI(){const{root:n,update:t,loading:e,error:i}=AC(),a=tt.useCallback(c=>{t(d=>{for(const h of c)switch(h.type){case"add":d.nodes.push(h.item);break;case"replace":{const g=d.nodes.findIndex(y=>y.id===h.id);d.nodes[g]=h.item}break;case"remove":{const g=d.nodes.findIndex(y=>y.id===h.id);d.nodes.deleteByID(d.nodes[g].getID())}break;case"position":{const g=d.nodes.findIndex(y=>y.id===h.id);d.nodes[g].position=h.position}break;case"select":{const g=d.nodes.findIndex(y=>y.id===h.id);d.nodes[g].selected=h.selected}break}})},[t]),u=tt.useCallback(c=>{t(d=>{for(const h of c)switch(h.type){case"add":d.edges.push(h.item);break;case"replace":{const g=d.edges.findIndex(y=>y.id===h.id);d.edges[g]=h.item}break;case"remove":{const g=d.edges.findIndex(y=>y.id===h.id);d.edges.deleteByID(d.edges[g].getID())}break;case"select":{const g=d.edges.findIndex(y=>y.id===h.id);d.edges[g].selected=h.selected}break}})},[t]);return e?Q.jsx("div",{children:"Loading..."}):i?Q.jsxs("div",{children:["Error: ",i.message]}):Q.jsx("div",{style:{position:"fixed",inset:0,height:"100vh"},children:Q.jsxs(VR,{nodes:n.nodes,edges:n.edges,onNodesChange:a,onEdgesChange:u,fitView:!0,children:[Q.jsx(XR,{gap:10,size:1,color:"silver"}),Q.jsx(nI,{orientation:"horizontal",showInteractive:!1}),Q.jsx(gI,{})]})})}const pI=[{id:"1",type:"input",data:{label:"Multiplayer"},position:{x:250,y:25}},{id:"2",data:{label:"Graph"},position:{x:100,y:125}},{id:"3",data:{label:"React Flow"},position:{x:250,y:225},style:{borderColor:"#FF0072"}},{id:"4",type:"output",data:{label:"Yorkie"},position:{x:100,y:325},style:{borderColor:"#944DFA"}}],vI=[{id:"e1-2",source:"1",target:"2",type:"smoothstep"},{id:"e2-3",source:"2",target:"3",label:"with"},{id:"e3-4",source:"3",target:"4",label:"and",animated:!0}],wI={nodes:pI,edges:vI};CE.createRoot(document.getElementById("root")).render(Q.jsx(bC,{apiKey:"cedaovjuioqlk4pjqn6g",rpcAddr:"https://api.yorkie.dev",children:Q.jsx(xC,{docKey:`react-flow-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,initialRoot:wI,children:Q.jsx(yI,{})})}));
